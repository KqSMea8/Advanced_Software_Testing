<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:42:15 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7055/HBASE-7055.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7055] port HBASE-6371 tier-based compaction from 0.89-fb to trunk (with changes)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7055</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt; for details.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613574">HBASE-7055</key>
            <summary>port HBASE-6371 tier-based compaction from 0.89-fb to trunk (with changes)</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="tychang">Tianying Chang</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Oct 2012 21:52:28 +0000</created>
                <updated>Wed, 4 May 2016 05:52:01 +0000</updated>
                            <resolved>Wed, 19 Jun 2013 22:01:52 +0000</resolved>
                                    <version>0.95.2</version>
                                                    <component>Compaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>26</watches>
                                                                <comments>
                            <comment id="13485249" author="sershe" created="Fri, 26 Oct 2012 22:36:31 +0000"  >&lt;p&gt;Except for some trivial parts port was mostly manual.&lt;br/&gt;
updateConfiguration code is not ported except as far as it&apos;s necessary for the tests (similar code is already being added elsewhere)&lt;br/&gt;
mvn test appears to pass against latest trunk.&lt;/p&gt;</comment>
                            <comment id="13485256" author="yuzhihong@gmail.com" created="Fri, 26 Oct 2012 23:04:06 +0000"  >&lt;p&gt;Compaction related tests pass.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+ * Copyright 2012 The Apache Software Foundation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above line is no longer needed in license header.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class CompactionConfiguration {
+
+  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Log LOG = LogFactory.getLog(CompactionManager.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Class names mismatch.&lt;br/&gt;
Please add annotation for audience and stability. Do this for other new classes.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+
+&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestTierCompactSelection &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; TestDefaultCompactSelection {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please add test category.&lt;/p&gt;</comment>
                            <comment id="13485279" author="hadoopqa" created="Fri, 26 Oct 2012 23:33:50 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12551034/HBASE-6371-squashed.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12551034/HBASE-6371-squashed.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 13 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 83 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3159//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13485289" author="sershe" created="Fri, 26 Oct 2012 23:50:53 +0000"  >&lt;p&gt;looks like a real failure, I&apos;ll take a look&lt;/p&gt;</comment>
                            <comment id="13485311" author="sershe" created="Sat, 27 Oct 2012 00:46:31 +0000"  >&lt;p&gt;I know what the issue is, don&apos;t exclude bulk setting is gone from trunk, I will remove it from patch.&lt;/p&gt;</comment>
                            <comment id="13485319" author="sershe" created="Sat, 27 Oct 2012 01:11:59 +0000"  >&lt;p&gt;Failed test now passes on local.&lt;br/&gt;
Also addressed the code review feedback, except for stability annotations - these are internal interfaces, I wonder if stability ones necessary? They&apos;re not used on similar classes.&lt;/p&gt;</comment>
                            <comment id="13485325" author="yuzhihong@gmail.com" created="Sat, 27 Oct 2012 01:53:08 +0000"  >&lt;p&gt;The new classes are public, so they should have audience annotation.&lt;br/&gt;
If the audience is Private, stability can be omitted.&lt;/p&gt;</comment>
                            <comment id="13485332" author="hadoopqa" created="Sat, 27 Oct 2012 02:13:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12551047/HBASE-6371-v2-squashed.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12551047/HBASE-6371-v2-squashed.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 13 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 83 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 5 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.catalog.TestMetaReaderEditor&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3161//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13487088" author="sershe" created="Tue, 30 Oct 2012 18:18:41 +0000"  >&lt;p&gt;org.apache.hadoop.hbase.catalog.TestMetaReaderEditor test passes on local&lt;/p&gt;</comment>
                            <comment id="13487097" author="zhihyu@ebaysf.com" created="Tue, 30 Oct 2012 18:25:56 +0000"  >&lt;p&gt;Patch v2 looks fine.&lt;br/&gt;
Will integrate in the afternoon if there is no more review comments.&lt;/p&gt;</comment>
                            <comment id="13487188" author="zhihyu@ebaysf.com" created="Tue, 30 Oct 2012 20:23:44 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Sergey.&lt;/p&gt;</comment>
                            <comment id="13487198" author="hudson" created="Tue, 30 Oct 2012 20:36:18 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3498 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3498/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3498/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7055&quot; title=&quot;port HBASE-6371 tier-based compaction from 0.89-fb to trunk (with changes)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7055&quot;&gt;&lt;del&gt;HBASE-7055&lt;/del&gt;&lt;/a&gt; port &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt; tier-based compaction from 0.89-fb to trunk (Sergey) (Revision 1403852)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/HFileOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionConfiguration.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Compactor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/TierCompactionConfiguration.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/TierCompactionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactionRequest.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-compactions.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestTierCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13487206" author="sershe" created="Tue, 30 Oct 2012 20:38:34 +0000"  >&lt;p&gt;thanks!&lt;/p&gt;</comment>
                            <comment id="13487214" author="jxiang" created="Tue, 30 Oct 2012 20:45:00 +0000"  >&lt;p&gt;This issue doesn&apos;t have a component. Should we need two +1s to commit it?&lt;/p&gt;

&lt;p&gt;It also introduces a new configuration file. It seems to be a big patch to me.&lt;/p&gt;</comment>
                            <comment id="13487222" author="zhihyu@ebaysf.com" created="Tue, 30 Oct 2012 20:53:09 +0000"  >&lt;p&gt;This is a forward port which is very straight forward.&lt;br/&gt;
It was checked into 0.89-fb on 2012-08-28&lt;/p&gt;</comment>
                            <comment id="13487245" author="stack" created="Tue, 30 Oct 2012 21:12:25 +0000"  >&lt;p&gt;Needs two +1s as per our agreement here in section 17.1.2: &lt;a href=&quot;http://hbase.apache.org/book.html#decisions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#decisions&lt;/a&gt;.  There is no compaction component &amp;#8211; probably should be &amp;#8211; so we don&apos;t have an owner and in absence of an owner, we need two +1s.  Suggest revert till you get the extra +1.  This is a pretty big patch without documentation and pretty radically IMO adding a new resource, hbase-compactions.xml.  No need to rush it in.&lt;/p&gt;</comment>
                            <comment id="13487264" author="tlipcon" created="Tue, 30 Oct 2012 21:25:04 +0000"  >&lt;p&gt;I agree this needs some docs. I tried to look it over and barely understood it, even as a guy with a bit of hbase experience &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13487268" author="zhihyu@ebaysf.com" created="Tue, 30 Oct 2012 21:30:23 +0000"  >&lt;p&gt;I read &lt;a href=&quot;http://hbase.apache.org/book.html#decisions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#decisions&lt;/a&gt;&lt;br/&gt;
There was no mentioning of forward ports, forward port from 0.89-fb branch in this particular case.&lt;br/&gt;
Here is record from 0.89-fb branch w.r.t. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Differential Revision: https:&lt;span class=&quot;code-comment&quot;&gt;//phabricator.fb.com/D552051
&lt;/span&gt;------------------------------------------------------------------------
r1378348 | mbautin | 2012-08-28 14:13:38 -0700 (Tue, 28 Aug 2012) | 15 lines

[HBASE-6371] Level Based Compaction

Author: liyintang

Summary: We&apos;ve already discussed all features here. We&apos;ll fill in a detailed summary later.

Test Plan: New tests added &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; size based levelAssignment. Also tests &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Recent first level traversal and vice versa.

Reviewers: liyintang, kannan

Reviewed By: liyintang

CC: hbase-eng@, mbautin
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can see Liyin reviewed the patch there.&lt;/p&gt;

&lt;p&gt;I agree with adding document.&lt;br/&gt;
I want to understand how this category of forward ports should be handled.&lt;/p&gt;</comment>
                            <comment id="13487283" author="stack" created="Tue, 30 Oct 2012 21:53:52 +0000"  >&lt;p&gt;If no coverage for forward ports, bring it up and we&apos;ll fix it (IMO, they would be treated same as any other patch rather than have some &apos;other&apos; rule applied).  Revert or I &amp;#8211; the RM &amp;#8211; will.&lt;/p&gt;</comment>
                            <comment id="13487296" author="zhihyu@ebaysf.com" created="Tue, 30 Oct 2012 22:14:27 +0000"  >&lt;p&gt;Reverted for further discussion.&lt;/p&gt;</comment>
                            <comment id="13487297" author="stack" created="Tue, 30 Oct 2012 22:17:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Thanks.&lt;/p&gt;</comment>
                            <comment id="13487302" author="stack" created="Tue, 30 Oct 2012 22:21:51 +0000"  >&lt;p&gt;I added a component for compactions and noted this as a compaction issue.&lt;/p&gt;</comment>
                            <comment id="13487440" author="sershe" created="Wed, 31 Oct 2012 01:34:16 +0000"  >&lt;p&gt;With regard to documentation - you mean better commit description, or something like javadocs?&lt;br/&gt;
Most of the patch (e.g. CompactionManager) is refactoring of the compaction code out of (H)Store, so the code as such as old, except for the alternative CompactionManager.&lt;/p&gt;

&lt;p&gt;With regard to 2nd +1 - someone should review &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13487457" author="hudson" created="Wed, 31 Oct 2012 02:21:34 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3499 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3499/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3499/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7055&quot; title=&quot;port HBASE-6371 tier-based compaction from 0.89-fb to trunk (with changes)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7055&quot;&gt;&lt;del&gt;HBASE-7055&lt;/del&gt;&lt;/a&gt; Revert - part 2 (Revision 1403898)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7055&quot; title=&quot;port HBASE-6371 tier-based compaction from 0.89-fb to trunk (with changes)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7055&quot;&gt;&lt;del&gt;HBASE-7055&lt;/del&gt;&lt;/a&gt; port &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt; tier-based compaction from 0.89-fb to trunk - revert for further discussion (Revision 1403890)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/HFileOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionConfiguration.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Compactor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/TierCompactionConfiguration.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/TierCompactionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/CompactionRequest.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-compactions.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestDefaultCompactSelection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestTierCompactSelection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13487460" author="zhihyu@ebaysf.com" created="Wed, 31 Oct 2012 02:29:44 +0000"  >&lt;p&gt;@Sergey:&lt;br/&gt;
I put in very short release notes.&lt;/p&gt;

&lt;p&gt;I think what reviewers were asking is better documentation for release notes.&lt;/p&gt;</comment>
                            <comment id="13487493" author="tlipcon" created="Wed, 31 Oct 2012 03:46:28 +0000"  >&lt;p&gt;What I&apos;m interested in is docs about how to &lt;em&gt;use&lt;/em&gt; the feature. Javadocs are for developers, not users. The refactoring is nice, but the new &quot;tiered compaction&quot; policy looks quite advanced, and introduces a new configuration file, which isn&apos;t obvious how to configure.&lt;/p&gt;</comment>
                            <comment id="13487505" author="stack" created="Wed, 31 Oct 2012 04:11:17 +0000"  >&lt;p&gt;Please edit the release note and remove this sentence &quot;A tier based compaction algorithm has been developed.&quot;&lt;/p&gt;

&lt;p&gt;I would be interested in when this new compaction should be used in place of what we have (both as prospective user and as an hbase dev) and how it relates to what we have currently.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; On &apos;Most of the patch (e.g. CompactionManager) is refactoring of the compaction code out of (H)Store, so the code as such as old, except for the alternative CompactionManager.&apos; &amp;lt;-- This sounds good.&lt;/p&gt;</comment>
                            <comment id="13487509" author="stack" created="Wed, 31 Oct 2012 04:14:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; On, someone should review, yes, I agree.  Trying to.&lt;/p&gt;</comment>
                            <comment id="13487589" author="enis" created="Wed, 31 Oct 2012 06:53:47 +0000"  >&lt;p&gt;I don&apos;t see any reason to introduce another configuration file, since it has the same property name-value format. &lt;/p&gt;</comment>
                            <comment id="13487855" author="jxiang" created="Wed, 31 Oct 2012 15:30:57 +0000"  >&lt;p&gt;I agree with Enis.  Imagine if each component has a config file, we will have tons of them.  It will be hard to manage.  If the same name value pair is defined in different files, which one should we use?&lt;/p&gt;</comment>
                            <comment id="13487988" author="sershe" created="Wed, 31 Oct 2012 17:26:53 +0000"  >&lt;p&gt;Wrt documentation: The original jira (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt;) has description of new algorithm and applicability. &lt;br/&gt;
Should HBase book be updated to describe it (and if so, how, as README.txt points to non-existing location to it)?&lt;/p&gt;

&lt;p&gt;Wrt extra config - it seems the idea was to not clog the main config with large and repetitive configuration for the tiers, especially given that the feature is optional.&lt;/p&gt;

&lt;p&gt;Wrt review - thanks!&lt;/p&gt;</comment>
                            <comment id="13487997" author="tlipcon" created="Wed, 31 Oct 2012 17:38:05 +0000"  >&lt;p&gt;I&apos;m guessing the separate config file is used to support runtime reloading of the tiering strategies? Putting it in a separate config means that users won&apos;t get confused into thinking that other properties in hbase-site are reloadable.&lt;/p&gt;</comment>
                            <comment id="13488014" author="zhihyu@ebaysf.com" created="Wed, 31 Oct 2012 17:54:36 +0000"  >&lt;p&gt;Todd&apos;s reasoning is right.&lt;br/&gt;
CompactionConfiguration was created to hold compaction related parameters in memory.&lt;br/&gt;
This feature allows age-based and size-based compaction. The granularity is at column family level.&lt;br/&gt;
So there would be potentially many compaction parameters. e.g. take a look at TestTierCompactSelection.&lt;br/&gt;
Here is an excerpt:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testAgeBasedAssignment() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+
+    conf.setLong(strPrefix + strSchema + &lt;span class=&quot;code-quote&quot;&gt;&quot;Tier.0.MaxAgeInDisk&quot;&lt;/span&gt;, 10L);
+    conf.setLong(strPrefix + strSchema + &lt;span class=&quot;code-quote&quot;&gt;&quot;Tier.1.MaxAgeInDisk&quot;&lt;/span&gt;, 100L);
+    conf.setLong(strPrefix + strSchema + &lt;span class=&quot;code-quote&quot;&gt;&quot;Tier.2.MaxAgeInDisk&quot;&lt;/span&gt;, 1000L);
+    conf.setLong(strPrefix + strSchema + &lt;span class=&quot;code-quote&quot;&gt;&quot;Tier.0.MaxSize&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE);
+    conf.setLong(strPrefix + strSchema + &lt;span class=&quot;code-quote&quot;&gt;&quot;Tier.1.MaxSize&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE);
+    conf.setLong(strPrefix + strSchema + &lt;span class=&quot;code-quote&quot;&gt;&quot;Tier.2.MaxSize&quot;&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There&apos;re 3 dimensions here: tier number, age or size, column family.&lt;/p&gt;</comment>
                            <comment id="13488033" author="enis" created="Wed, 31 Oct 2012 18:07:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m guessing the separate config file is used to support runtime reloading of the tiering strategies? Putting it in a separate config means that users won&apos;t get confused into thinking that other properties in hbase-site are reloadable.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Makes sense, but I&apos;ve seen a comment on CompactionConfiguration that indicates that it is not there. Did not check the code though. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 +&lt;span class=&quot;code-comment&quot;&gt;//TODO: revisit &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; class &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; online parameter updating&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From my understanding of a skim through the patch, this is not the leveldb approach of doing level-wise compaction with non-overlapping key ranges, but divides the candidate space into tiers (at most 3 tiers?). Regardless, it is good that this also seem to introduce pluggable compaction policies, but I dont think we should change the default policy without understanding the impacts of the new algo. &lt;/p&gt;
</comment>
                            <comment id="13488039" author="zhihyu@ebaysf.com" created="Wed, 31 Oct 2012 18:11:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;this is not the leveldb approach&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Correct. That&apos;s why the title of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt; changed to Tier-based compaction.&lt;/p&gt;</comment>
                            <comment id="13488195" author="sershe" created="Wed, 31 Oct 2012 20:26:24 +0000"  >&lt;p&gt;We discussed with Enis and it seems like this kind of configuration should be stored on table and column family level; either with some explicit system parameters, or as a blob (similar to the storing-HCat/etc.-metadata ideas), depending on how we thing about different compaction policies (system provides a set e.g. the tiered one vs the default one, or they are more pluggable/user-changeable). &lt;br/&gt;
Another issue is that the new policy is configured on by default in the xml config (I missed that), which seems premature since use cases are not 100% clear, in a sense that people might have different scenarios for what constitutes old data/hot data/lots of data, so it&apos;s hard to come up with reasonable tier defaults.&lt;br/&gt;
I will recall the patch for now... &lt;/p&gt;</comment>
                            <comment id="13488196" author="sershe" created="Wed, 31 Oct 2012 20:28:44 +0000"  >&lt;p&gt;Now that I think of it, any objections to porting the refactoring part (e.g. CompactionManager from (H)Store), without configurability or tiers, so that it would be easier to implement whatever approach is deemed best?&lt;/p&gt;</comment>
                            <comment id="13488216" author="tlipcon" created="Wed, 31 Oct 2012 20:47:59 +0000"  >&lt;p&gt;+1 to separate out the compaction policy refactoring - that bit is nice.&lt;/p&gt;</comment>
                            <comment id="13488223" author="enis" created="Wed, 31 Oct 2012 20:53:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1 to separate out the compaction policy refactoring - that bit is nice.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1 as well. Also can we rename CompactionManager -&amp;gt; CompactionPolicy&lt;/p&gt;</comment>
                            <comment id="13488238" author="zhihyu@ebaysf.com" created="Wed, 31 Oct 2012 21:14:03 +0000"  >&lt;p&gt;Can we keep the class name CompactionManager so that comparison between trunk and 0.89-fb is easier ?&lt;/p&gt;</comment>
                            <comment id="13488266" author="sershe" created="Wed, 31 Oct 2012 21:51:17 +0000"  >&lt;p&gt;I think it&apos;s too big/active to be called a policy... &lt;a href=&quot;http://www.boost.org/community/generic_programming.html#policy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.boost.org/community/generic_programming.html#policy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13488382" author="sershe" created="Thu, 1 Nov 2012 00:38:24 +0000"  >&lt;p&gt;the refactor patch attached&lt;/p&gt;</comment>
                            <comment id="13488403" author="enis" created="Thu, 1 Nov 2012 01:09:44 +0000"  >&lt;p&gt;Whatever we name it, it should be consistent. The patch uses CompactionPolicy, CompactionManager, TierCompactionManager and Tier Compaction Policy interchangeably. &lt;/p&gt;</comment>
                            <comment id="13488408" author="sershe" created="Thu, 1 Nov 2012 01:20:08 +0000"  >&lt;p&gt;Created review at &lt;a href=&quot;https://reviews.apache.org/r/7823/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7823/&lt;/a&gt; to make it easier to give feedback.&lt;/p&gt;</comment>
                            <comment id="13488460" author="stack" created="Thu, 1 Nov 2012 04:51:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; On documentation, a section in the book would be cool but failing that, a release note should describe what the feature does, why you would use it and its configuration params (I&apos;d think).  It can be terse and expanded later in the book but w/o such a thing, the code is often committed and just forgotten (I looked at original JIRA and it has little by way of description.  I fixed the bad link in the README.txt.  Thanks for pointing it out).  Refactor, a good idea I think, should be done in a new issue.  Can cite the posted rb (I&apos;ll try help out w/ a review now).  I like the scheme you fellas have for putting policy in table (rather than in a reloadable config. that is for compaction only)&lt;/p&gt;

&lt;p&gt;If the class names are confusing, lets fix them in refactor (same as 89fb branch is not good enough reason preserving names that confound)&lt;/p&gt;
</comment>
                            <comment id="13488474" author="stack" created="Thu, 1 Nov 2012 05:20:53 +0000"  >&lt;p&gt;I added a review Sergey.  Good stuff.&lt;/p&gt;</comment>
                            <comment id="13489238" author="stack" created="Fri, 2 Nov 2012 04:05:34 +0000"  >&lt;p&gt;The last posted patch is what was put on RB Sergey?  It does not include the rename of CompactionManager?  You want to add that?  I&apos;d be +1 on committing after the rename.  You want to attach the patch to a different issue since this issue is about forward porting the 89fb tier compaction?&lt;/p&gt;

&lt;p&gt;(Liyin and a few of the lads were by today and said they have a doc. that talks about how this new compaction works &amp;#8211; its benefits, etc. &amp;#8211; which they will post... IIRC, I think he said it is not yet in production).&lt;/p&gt;</comment>
                            <comment id="13491056" author="sershe" created="Mon, 5 Nov 2012 23:58:57 +0000"  >&lt;p&gt;Added patch with rename, package move, corresponding visibility changes an a bit more refactoring to facilitate the latter&lt;/p&gt;</comment>
                            <comment id="13491799" author="stack" created="Tue, 6 Nov 2012 20:45:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;... so what about CompactionManager naming?  Enis wants CompactionPolicy which I think is better too.  Want me to do the rename on commit?  I&apos;d also rename StoreUtils and StoreTools on commit (And I&apos;ll commit this in a different issue than this one, in an issue called refactoring compaction code)&lt;/p&gt;</comment>
                            <comment id="13491880" author="sershe" created="Tue, 6 Nov 2012 22:15:14 +0000"  >&lt;p&gt;already renamed in the recent patch&lt;/p&gt;</comment>
                            <comment id="13491992" author="sershe" created="Wed, 7 Nov 2012 00:46:16 +0000"  >&lt;p&gt;sorry, didn&apos;t read the comment completely... new JIRA is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7110&quot; title=&quot;refactor the compaction selection and config code similarly to 0.89-fb changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7110&quot;&gt;&lt;del&gt;HBASE-7110&lt;/del&gt;&lt;/a&gt;; latest patch added there.&lt;/p&gt;

&lt;p&gt;With regard to this JIRA - are we good with porting it without dynamic config updates, with cf-specific config stored on CF, and off by default? I&apos;d treat compaction algorithms as internal as opposed to an extension point, so it would follow that we can create specific CF properties.&lt;/p&gt;</comment>
                            <comment id="13492737" author="stack" created="Wed, 7 Nov 2012 21:51:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Are we good with porting it without dynamic config updates, with cf-specific config stored on CF, and off by default?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That could be good.  Do you think this new mechanism will be used?  Its objective is &apos;more fine-grained control&apos; according to the pdf Liyin just posted.  Have you tried it Sergey?  Does it give good feedback if misconfigured?  Is this feature of any use if its not configurable at runtime: i.e. does having to take the table offline to change a param make this improvement moot until we have dynamic config?&lt;/p&gt;
</comment>
                            <comment id="13493405" author="sershe" created="Thu, 8 Nov 2012 19:14:02 +0000"  >&lt;p&gt;I didn&apos;t do any targeted testing, just general run on one box (w/ multiple RS-es). Not sure about the interplay with dynamic config, I&apos;d assume if you mine data for table R/W patterns, take it offline and apply config once you&apos;d be good for a long time w/better compactions. Cannot tell how much tweaking is normal w/o running it in production for a long time.&lt;br/&gt;
If we make column config specific to columns, maybe it can be refreshed separately from dynamic config JIRA xml file refresh. I haven&apos;t looked at the column config code yet. Will create separate JIRA when I do, unless someone does earlier.&lt;/p&gt;</comment>
                            <comment id="13493407" author="sershe" created="Thu, 8 Nov 2012 19:14:58 +0000"  >&lt;p&gt;&quot;column config specific to columns&quot; e.g. stored in the table/CF metadata, not in xml file.&lt;/p&gt;</comment>
                            <comment id="13505075" author="sershe" created="Wed, 28 Nov 2012 00:01:14 +0000"  >&lt;p&gt;patch after refactoring.&lt;br/&gt;
This JIRA will only be for the first slice - w/o dynamic or per-table/per-cf config.&lt;br/&gt;
The former is in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3909&quot; title=&quot;Add dynamic config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3909&quot;&gt;HBASE-3909&lt;/a&gt;, the latter will be a separate JIRA. That separate JIRA will sidestep dynamic update for the cases where the table/cf in question can be disabled for update.&lt;/p&gt;</comment>
                            <comment id="13506239" author="stack" created="Thu, 29 Nov 2012 06:02:43 +0000"  >&lt;p&gt;What sort of compaction does this new policy do?&lt;/p&gt;

&lt;p&gt;Regards...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException(
+          &lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to find region server &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; &quot;&lt;/span&gt; + policyClassName, e);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IllegalAccessException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException(
+          &lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to access specified class &quot;&lt;/span&gt; + policyClassName, e);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InstantiationException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException(
+          &lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to instantiate specified class &quot;&lt;/span&gt; + policyClassName, e);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InvocationTargetException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException(
+          &lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to invoke specified target class constructor &quot;&lt;/span&gt; + policyClassName, e);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NoSuchMethodException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UnsupportedOperationException(
+          &lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to find suitable constructor &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; class &quot;&lt;/span&gt; + policyClassName, e);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Just do catch (Exception e) once?&lt;/p&gt;

&lt;p&gt;What is the min flush time about?&lt;/p&gt;

&lt;p&gt;Should it be called TieredCompaction rather than TierCompaction?  E.G. in TierCompactionConfiguration&lt;/p&gt;

&lt;p&gt;Is &apos;TierCompaction&apos; the default as it says in the class comment: &apos;+ * Control knobs for default compaction algorithm.&apos;?&lt;/p&gt;

&lt;p&gt;Why the break out of config for TierCompaction in particular?  Will we have to do this pattern for all we&apos;d dynamically config: i.e. break out a Config class when we are already carrying a heavyweight Configuration anyways that is mostly accessible from anywhere?&lt;/p&gt;

&lt;p&gt;I wonder who is going to take the time to do configuration on each compaction tier?  Is this asking a bit much of operators?&lt;/p&gt;

&lt;p&gt;There is no class comment on TierCompactionPolicy, the place I&apos;d go to learn about how TierCompactionPolicy works.&lt;/p&gt;

&lt;p&gt;In the ascii diagram is tier 0 the first tier, the tier we first flush into?&lt;/p&gt;

&lt;p&gt;Does this policy do anything about making it so leveldb-like, every file may contain all keys in the namespace: i.e. does it make it so a tier is made of files that each contain a distinct subset of the namespace?&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how this stuff works, what it will give me after (admittedly skimming) the javadoc comments in the policy file.&lt;/p&gt;

&lt;p&gt;Tests look good.&lt;/p&gt;</comment>
                            <comment id="13506664" author="sershe" created="Thu, 29 Nov 2012 18:53:39 +0000"  >&lt;p&gt;The documentation for the selection algorithm is attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt;. Entire file is covered by this JIRA, except for most of 3.3.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Just do catch (Exception e) once?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Hmm... strong reason to do so? The code is kind of verbose this way, but it catches only what it intends to catch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What is the min flush time about?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is used as the file time for the purposes of assigning files to tiers based on time.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is &apos;TierCompaction&apos; the default as it says in the class comment: &apos;+ * Control knobs for default compaction algorithm.&apos;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No; changed comment.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why the break out of config for TierCompaction in particular? Will we have to do this pattern for all we&apos;d dynamically config: i.e. break out a Config class when we are already carrying a heavyweight Configuration anyways that is mostly accessible from anywhere?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Do you mean Configuration or CompactionConfiguration by large object?&lt;br/&gt;
CompactionConfiguration is base compaction config, it is not just xml-based, it uses runtime store-specific settings. TierBased one adds more on top of that; it seems that Tier-stuff doesn&apos;t belong to the main CompactionConfiguration; and main CompactionConfiguration is not as simple as generic Configuration.&lt;br/&gt;
It&apos;s also Store (e.g. region/cf) specific.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I wonder who is going to take the time to do configuration on each compaction tier? Is this asking a bit much of operators?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The doc in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6371&quot; title=&quot;[89-fb] Tier based compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6371&quot;&gt;&lt;del&gt;HBASE-6371&lt;/del&gt;&lt;/a&gt; shows examples of separate configuration for tiers; initial scenario for this may have been to compact &quot;middle&quot; files more aggressively than either old&lt;br/&gt;
or recent files, so that would require tier tweaking.&lt;br/&gt;
&quot;Old&quot; compaction selection policy is on by default so the operators needn&apos;t worry &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There is no class comment on TierCompactionPolicy, the place I&apos;d go to learn about how TierCompactionPolicy works.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is an interesting question... there&apos;s an exhaustive doc on it, should it be copied to book.xml and referenced in javadoc, or summarized?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Does this policy do anything about making it so leveldb-like, every file may contain all keys in the namespace: i.e. does it make it so a tier is made of files that each contain a distinct subset of the namespace?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, the similarity in names is misleading, they don&apos;t have a lot in common.&lt;/p&gt;</comment>
                            <comment id="13506676" author="sershe" created="Thu, 29 Nov 2012 18:59:20 +0000"  >&lt;p&gt;Patch comment: comments, whitespace, file renames&lt;/p&gt;</comment>
                            <comment id="13506795" author="apurtell" created="Thu, 29 Nov 2012 21:11:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;&#160;CompactionConfiguration is base compaction config, it is not just xml-based, it uses runtime store-specific settings. TierBased one adds more on top of that; it seems that Tier-stuff doesn&apos;t belong to the main CompactionConfiguration; and main CompactionConfiguration is not as simple as generic Configuration.&#160;It&apos;s also Store (e.g. region/cf) specific.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Up to now we&apos;ve had two distinct and cleanly separable configuration mechanisms. The heavyweight Configuration which carries global, and currently static configuration, and the table and column descriptors that can be CF specific by definition and updated at runtime without requiring a process restart. Pardon if I&apos;ve misunderstood but mixing these would blur static and dynamic configuration and that doesn&apos;t seem a good design option.&#160;&lt;/p&gt;</comment>
                            <comment id="13506850" author="sershe" created="Thu, 29 Nov 2012 21:50:14 +0000"  >&lt;p&gt;It doesn&apos;t read CF values directly, what it does as encapsulate the logic such as runtime-based defaults (e.g. memstore flush size for min compaction size, throttling default, etc.) and some validation. &lt;br/&gt;
This logic was already there, now it&apos;s just in separate class.&lt;br/&gt;
For tiered one, also getting the requisite config for tiers based on tier count.&lt;/p&gt;

&lt;p&gt;Also, as an aside, configs are already mixed inside HStore (see CompoundConfiguration creation in ctor).&lt;/p&gt;</comment>
                            <comment id="13507560" author="sershe" created="Fri, 30 Nov 2012 19:10:00 +0000"  >&lt;p&gt;Hi. Any comments on patch other than missing Javadoc? If not I can write a summary for now.&lt;/p&gt;</comment>
                            <comment id="13507917" author="apurtell" created="Sat, 1 Dec 2012 10:01:21 +0000"  >&lt;p&gt;Thank you, I misunderstood. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, as an aside, configs are already mixed inside HStore (see CompoundConfiguration creation in ctor).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The family settings are pulled in from the CF descriptor, there isn&apos;t any per-CF configuration in XML, though, right? &lt;/p&gt;</comment>
                            <comment id="13508900" author="sershe" created="Mon, 3 Dec 2012 17:55:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;The family settings are pulled in from the CF descriptor, there isn&apos;t any per-CF configuration in XML, though, right? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes.&lt;/p&gt;</comment>
                            <comment id="13510998" author="sershe" created="Thu, 6 Dec 2012 01:10:07 +0000"  >&lt;p&gt;Added javadoc, based on the doc. &lt;/p&gt;</comment>
                            <comment id="13526109" author="sershe" created="Fri, 7 Dec 2012 03:18:09 +0000"  >&lt;p&gt;hi, can someone please review this patch? thanks!&lt;/p&gt;</comment>
                            <comment id="13528575" author="enis" created="Tue, 11 Dec 2012 01:30:38 +0000"  >&lt;p&gt;I did put up some comments in RB. Thanks Sergey for tracking this. &lt;/p&gt;</comment>
                            <comment id="13528622" author="enis" created="Tue, 11 Dec 2012 02:27:54 +0000"  >&lt;p&gt;Oh, I actually reviewed the committed portion of the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7110&quot; title=&quot;refactor the compaction selection and config code similarly to 0.89-fb changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7110&quot;&gt;&lt;del&gt;HBASE-7110&lt;/del&gt;&lt;/a&gt;. My b. Regardless, some of the comments there might still be applicable to better isolate store &amp;lt;-&amp;gt; compaction interaction. &lt;br/&gt;
@Sergey could you please put up this patch to review board. Thanks. &lt;/p&gt;</comment>
                            <comment id="13528647" author="sershe" created="Tue, 11 Dec 2012 04:01:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/8460/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8460/&lt;/a&gt; is the new review. I will probably address comment from it, and this review, in aggregate. Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13529521" author="sershe" created="Wed, 12 Dec 2012 00:54:40 +0000"  >&lt;p&gt;Addressed feedback to already committed part...&lt;/p&gt;</comment>
                            <comment id="13530459" author="enis" created="Wed, 12 Dec 2012 22:54:49 +0000"  >&lt;p&gt;The patch at RB looks good to go. Ted, Stack do you guys want to review? &lt;/p&gt;</comment>
                            <comment id="13530573" author="hadoopqa" created="Thu, 13 Dec 2012 01:19:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12560485/HBASE-7055-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12560485/HBASE-7055-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 104 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 24 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestDrainingServer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3500//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13530738" author="hadoopqa" created="Thu, 13 Dec 2012 06:52:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12560485/HBASE-7055-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12560485/HBASE-7055-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 104 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 24 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3516//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13531408" author="sershe" created="Thu, 13 Dec 2012 19:58:40 +0000"  >&lt;p&gt;Addressed Ted&apos;s feedback; that includes moving some code into base class&lt;/p&gt;</comment>
                            <comment id="13531558" author="hadoopqa" created="Thu, 13 Dec 2012 22:05:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12560839/HBASE-7055-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12560839/HBASE-7055-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 104 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 24 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3534//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13532533" author="sershe" created="Fri, 14 Dec 2012 18:35:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; Do you also want to continue reviewing? Thanks!&lt;/p&gt;</comment>
                            <comment id="13534635" author="yuzhihong@gmail.com" created="Tue, 18 Dec 2012 04:36:38 +0000"  >&lt;p&gt;+1 on patch v4.&lt;/p&gt;</comment>
                            <comment id="13537615" author="sershe" created="Fri, 21 Dec 2012 02:05:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; I understand there&apos;s a lot of stuff with critical issues for 0.96 now, are you ok if someone else gives the 2nd necessary +1, or do you have some estimate on when you&apos;ll have bandwidth? Thanks!&lt;/p&gt;</comment>
                            <comment id="13539640" author="stack" created="Wed, 26 Dec 2012 19:11:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; The community rules here &amp;#8211; &lt;a href=&quot;http://hbase.apache.org/book.html#decisions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#decisions&lt;/a&gt; &amp;#8211; say two +1s... they don&apos;t say two +1s and whatever stack says (smile).  I was going to suggest that you get at least a +1 from one of the compaction component owners but it seems like no one has volunteered for this role (I suppose we made the role as we went through this issue).&lt;/p&gt;

&lt;p&gt;Yeah, in general, I&apos;m trying to work on 0.96 issues.  I think it kinda critical that the project have a 0.96. soon.  It has been too long since our last major version.&lt;/p&gt;

&lt;p&gt;My high level concern with this issue, still, is that it is a complex feature &amp;#8211; not only in operation but in configuration and in interpretation of its workings &amp;#8211; and complexity is an attribute we could do with less of not more.  The justification for including this feature seems weak as currently written (The release note currently starts &quot;A tier based compaction algorithm has been developed....&quot; as though the fact that the feature was written is enough to justify its inclusion or the design document starts &quot;The	goal	of	the	compaction	selection	algorithm	is	to	schedule	compactions	efficiently.&quot; but there are no &apos;fit criteria&apos; included in the document to prove the mechanism is working &apos;efficiently&apos;).&lt;/p&gt;

&lt;p&gt;Let me review the patch up on rb.&lt;/p&gt;</comment>
                            <comment id="13539641" author="stack" created="Wed, 26 Dec 2012 19:12:43 +0000"  >&lt;p&gt;Oh, one thing, thanks for working on this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13539660" author="stack" created="Wed, 26 Dec 2012 19:54:24 +0000"  >&lt;p&gt;I did a quick skim of the patch.  There&apos;s a few questions up on rb.&lt;/p&gt;</comment>
                            <comment id="13540146" author="v.himanshu" created="Thu, 27 Dec 2012 20:52:33 +0000"  >&lt;p&gt;I think it would be nice to have some benchmarks for this feature against the existing Compaction algo?&lt;/p&gt;</comment>
                            <comment id="13540176" author="jxiang" created="Thu, 27 Dec 2012 21:52:04 +0000"  >&lt;p&gt;I like the idea of this feature. I think it is useful. However, I am not sure how to use it, for example, how many tiers a region should have, how to separate each tier, and why?&lt;/p&gt;

&lt;p&gt;This patch introduces several configuration parameters to separate tiers.  Do we have a guideline on how to use these parameters?  What kind tier separation will make the compaction scheduling efficient?  If the tiers are not set properly, could it make things even worse instead?&lt;/p&gt;

&lt;p&gt;By the tier term, the existing compaction selection has just one tier.  Can we automatically skip the most recent storefile till we get a valid selection? By this way, we can have dynamical tiers which guarantees some valid selection?&lt;/p&gt;</comment>
                            <comment id="13546288" author="sershe" created="Mon, 7 Jan 2013 21:35:28 +0000"  >&lt;p&gt;Rebased the patch; some minor fixes based on /r/&lt;/p&gt;</comment>
                            <comment id="13546318" author="sershe" created="Mon, 7 Jan 2013 22:01:22 +0000"  >&lt;p&gt;From the description, the scenario that was used as a basis for this feature is just compressing mid-range (in time) data preferentially, and avoiding hot data and old data. That makes sense in general case; a specific scenario with large improvement that I can think of is for example spiky data uploads, where relatively large amount of data gets put at once, and only recent data is accessed (not from the last spike but just recent as such). Then it doesn&apos;t make a lot of sense to compact recent data with old data, and triggering compaction after every spike doesn&apos;t make sense either. This is pure speculation though.&lt;br/&gt;
Based on that a more flexible tiered scheme was developed which can also be applied to other patterns. I am not sure about size tiers applicability.&lt;/p&gt;

&lt;p&gt;Would you be ok if we put this as an example scenario in documentation and javadoc?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liyin&quot; class=&quot;user-hover&quot; rel=&quot;liyin&quot;&gt;Liyin Tang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=akashnil07&quot; class=&quot;user-hover&quot; rel=&quot;akashnil07&quot;&gt;Akashnil&lt;/a&gt; can you clarify if there are other scenarios, for which this was&lt;/p&gt;</comment>
                            <comment id="13546320" author="sershe" created="Mon, 7 Jan 2013 22:02:22 +0000"  >&lt;p&gt;...added at FB?&lt;/p&gt;</comment>
                            <comment id="13546410" author="hadoopqa" created="Mon, 7 Jan 2013 23:34:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12563629/HBASE-7055-v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12563629/HBASE-7055-v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3917//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13546489" author="jxiang" created="Tue, 8 Jan 2013 01:28:36 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7516&quot; title=&quot;Make compaction policy pluggable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7516&quot;&gt;&lt;del&gt;HBASE-7516&lt;/del&gt;&lt;/a&gt; to make compaction policy pluggable and configurable per table.  Can we resolve that one at first?&lt;/p&gt;</comment>
                            <comment id="13546512" author="sershe" created="Tue, 8 Jan 2013 01:59:15 +0000"  >&lt;p&gt;configurable per table is handled separately in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7236&quot; title=&quot;add per-table/per-cf configuration via metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7236&quot;&gt;&lt;del&gt;HBASE-7236&lt;/del&gt;&lt;/a&gt;. With regard to pluggable, I can try to extract the patch, but it will be minority of functionality from this patch. Is there particular reason to extract it?&lt;/p&gt;</comment>
                            <comment id="13546584" author="jxiang" created="Tue, 8 Jan 2013 03:59:35 +0000"  >&lt;p&gt;It will make this patch smaller and easier to review.&lt;/p&gt;</comment>
                            <comment id="13547099" author="sershe" created="Tue, 8 Jan 2013 18:39:17 +0000"  >&lt;p&gt;Added a patch there&lt;/p&gt;</comment>
                            <comment id="13569266" author="sershe" created="Fri, 1 Feb 2013 23:47:37 +0000"  >&lt;p&gt;Rebased patch, fixed tests/etc. TierBasedCompaction config is now standalone. Added ReflectionUtils from original 7516 back in, and changed policy creation to use it... shoehorning it into Configured when it cannot be created without additional object is inconvenient esp. with extra class now. &lt;br/&gt;
Tried to limit the scope of HStore dependency.&lt;/p&gt;</comment>
                            <comment id="13569318" author="hadoopqa" created="Sat, 2 Feb 2013 00:42:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567674/HBASE-7055-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567674/HBASE-7055-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4296//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13570442" author="sershe" created="Mon, 4 Feb 2013 17:50:06 +0000"  >&lt;p&gt;TestHLog passes locally and the failure in the logs appears to be unrelated.&lt;/p&gt;</comment>
                            <comment id="13570475" author="yuzhihong@gmail.com" created="Mon, 4 Feb 2013 18:25:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/7823&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7823&lt;/a&gt; was not updated.&lt;/p&gt;

&lt;p&gt;For StoreConfigInformation,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+   * Gets the Memstore flush size &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the region that &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; store works with.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can you format the javadoc as @return ?&lt;/p&gt;</comment>
                            <comment id="13570843" author="sershe" created="Tue, 5 Feb 2013 01:37:02 +0000"  >&lt;p&gt;Updated /r/.&lt;br/&gt;
Will do, I assume it&apos;s not the final feedback from people so I will include it with next iteration.&lt;/p&gt;</comment>
                            <comment id="13571666" author="sershe" created="Tue, 5 Feb 2013 19:49:18 +0000"  >&lt;p&gt;let me split some more parts...&lt;/p&gt;</comment>
                            <comment id="13571926" author="sershe" created="Tue, 5 Feb 2013 23:41:14 +0000"  >&lt;p&gt;please disregard this patch for now (or, rather, continue disregarding &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).&lt;br/&gt;
Doesn&apos;t make sense to commit it before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7678&quot; title=&quot;make storefile management pluggable, together with compaction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7678&quot;&gt;&lt;del&gt;HBASE-7678&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13595247" author="sershe" created="Wed, 6 Mar 2013 23:02:32 +0000"  >&lt;p&gt;Rebased the patch in light of all the recent changes. Now it actually only has the changes pertaining to tier-based compaction&lt;/p&gt;</comment>
                            <comment id="13595251" author="sershe" created="Wed, 6 Mar 2013 23:04:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/8460/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/8460/&lt;/a&gt; is the r&lt;/p&gt;</comment>
                            <comment id="13595391" author="hadoopqa" created="Thu, 7 Mar 2013 01:12:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572429/HBASE-7055-v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572429/HBASE-7055-v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestDefaultCompactSelection&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4705//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13595485" author="sershe" created="Thu, 7 Mar 2013 03:02:20 +0000"  >&lt;p&gt;Looks like tests affect each others&apos; configuration because they modify one from HBaseTestingUtility. Minimal change to try again.&lt;/p&gt;</comment>
                            <comment id="13595525" author="hadoopqa" created="Thu, 7 Mar 2013 04:14:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572478/HBASE-7055-v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572478/HBASE-7055-v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.procedure.TestZKProcedureControllers&lt;br/&gt;
                  org.apache.hadoop.hbase.constraint.TestConstraint&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterFailover&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4707//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13605583" author="sershe" created="Mon, 18 Mar 2013 20:24:25 +0000"  >&lt;p&gt;Ping?&lt;/p&gt;</comment>
                            <comment id="13605644" author="yuzhihong@gmail.com" created="Mon, 18 Mar 2013 21:09:11 +0000"  >&lt;p&gt;I am going over the patch.&lt;/p&gt;

&lt;p&gt;Can you update Release Notes ?&lt;br/&gt;
There&apos;re a lot of config parameters introduced in this patch.&lt;/p&gt;</comment>
                            <comment id="13609276" author="sershe" created="Thu, 21 Mar 2013 18:33:27 +0000"  >&lt;p&gt;Hmm... I don&apos;t think it makes sense to put description of all config params into release notes. There&apos;s separate doc in parent jira for that, we can add it to comments or book. &lt;/p&gt;</comment>
                            <comment id="13616994" author="sershe" created="Fri, 29 Mar 2013 02:15:14 +0000"  >&lt;p&gt;Is lack of book/release note documentation the last thing missing here? I wonder if I could get some conditional +1s &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13617497" author="jxiang" created="Fri, 29 Mar 2013 16:47:25 +0000"  >&lt;p&gt;Do we have some performance number?  I was wondering if the fb guys can share some experience about their usage of this policy.&lt;/p&gt;</comment>
                            <comment id="13621103" author="sershe" created="Wed, 3 Apr 2013 17:50:25 +0000"  >&lt;p&gt;Some of that is mentioned in the doc, and some in the JIRA(s) somewhere (not numbers though).&lt;br/&gt;
This only makes sense for certain workloads so I&apos;d guess there will be no numbers.&lt;/p&gt;</comment>
                            <comment id="13652522" author="stack" created="Wed, 8 May 2013 23:43:55 +0000"  >&lt;p&gt;What does this mean:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  /** Min Flush time in FileInfo. That is the earliest time that a subset of the data
+   * in the file was flushed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Isn&apos;t all data in a storefile flushed at the same time?  Or is this something else?  And what is the subset we are referring to here?&lt;/p&gt;

&lt;p&gt;Is this flush time the earliest flush time of a group of compacted filess?&lt;/p&gt;

&lt;p&gt;Previous -1 was special flush time but now MAX_VALUE is special initializer:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; minFlushTime = &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is there going to be conflict?  Should it be NO_MIN_FLUSH_TIME here instead of MAX_VALUE?&lt;/p&gt;

&lt;p&gt;I got about 1/3rd through and then my eyes started to glaze over.  Will come back for a better review.  Patch is looking good.&lt;/p&gt;

&lt;p&gt;This feature has to have doc before or just after it goes in. My sense is no one will use is though just because it so complicated requiring so much operator interjection and study.  I like the way though that the pluggable compactions allows stuff like this to exist w/o requiring our pulling the compaction code all over the place.&lt;/p&gt;



</comment>
                            <comment id="13658869" author="sershe" created="Wed, 15 May 2013 21:52:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Isn&apos;t all data in a storefile flushed at the same time? Or is this something else? And what is the subset we are referring to here? Is this flush time the earliest flush time of a group of compacted filess?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Subset of data is a subset of data &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; What it means is the minimum flush time of some data in the file. When files are flushed, this value is set; when files are compacted, it preserves the minimum of the values of the input files. So yeah...&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;Previous -1 was special flush time but now MAX_VALUE is special initializer:&lt;br/&gt;
+    long minFlushTime = Long.MAX_VALUE;&lt;br/&gt;
Is there going to be conflict? Should it be NO_MIN_FLUSH_TIME here instead of MAX_VALUE?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is actually the initialized for determining the minimum. If it&apos;s still MAX_VALUE at the end it will be reset to constant.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I got about 1/3rd through and then my eyes started to glaze over. Will come back for a better review. Patch is looking good.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks! Although stripe compactions might be better review candidate of the two as far as I am concerned &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13658872" author="sershe" created="Wed, 15 May 2013 21:53:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;br/&gt;
This feature has to have doc before or just after it goes in. My sense is no one will use is though just because it so complicated requiring so much operator interjection and study.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I actually agree on that. I wanted to give this feature proper coverage in HBaseCon talk, but I am struggling to find a very good scenario for it that is easily verifiable (like I could do for stripes with simplest &quot;vert large region&quot; approach).&lt;/p&gt;

&lt;p&gt;Maybe someone from FB can comment as originators of the idea?&lt;/p&gt;</comment>
                            <comment id="13668797" author="ndimiduk" created="Tue, 28 May 2013 23:11:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;My sense is no one will use is though just because it so complicated requiring so much operator interjection and study.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; have you developed cold feet about inclusion of this policy on trunk?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; FYI, v7.patch no longer applies cleanly on trunk.&lt;/p&gt;</comment>
                            <comment id="13670421" author="stack" created="Thu, 30 May 2013 15:39:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; If according to Sergey, its hard to find a use for it, yeah, I get cold feet on commit.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; You should mark what you want to get into 0.95 w/ 0.95.2 so gets reviewed... (I&apos;m only looking at 0.95 stuff these times).  Lets move this issue out of 0.95 if we want stripes?&lt;/p&gt;</comment>
                            <comment id="13672713" author="sershe" created="Sun, 2 Jun 2013 23:23:08 +0000"  >&lt;p&gt;My take on this is that there appears to be at least few scenarios that sound viable. E.g. old data is not as important and read rarely, so we don&apos;t care if it stays uncompacted and assume blooms will help us ignore these files for the keys that are actually being read; or new data is in cache so again there&apos;s no reason to compact the latest files. Or both.&lt;br/&gt;
However, testing if these actually work require setting up a complicated test scenario with specific read patterns, over large amounts of data, or a very good simulation tool that would estimate read impact (cache usage, how many files touched, what is going on in parallel); the will for either of these is presently lacking. &lt;br/&gt;
On the other hand, patch is extremely low impact and will be off by default.&lt;br/&gt;
So yeah maybe we can keep it for 0.96.X.&lt;/p&gt;</comment>
                            <comment id="13672738" author="lhofhansl" created="Mon, 3 Jun 2013 00:24:06 +0000"  >&lt;p&gt;I think we should start some collaboration on this. At Salesforce we&apos;re working on a feature to separate old and new data for scenarios where we have to store very many versions for the odd historical query, but most queries are for the latest data.&lt;/p&gt;</comment>
                            <comment id="13687416" author="sershe" created="Wed, 19 Jun 2013 00:07:38 +0000"  >&lt;p&gt;we chatted during HBaseCon with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liyin&quot; class=&quot;user-hover&quot; rel=&quot;liyin&quot;&gt;Liyin Tang&lt;/a&gt;. The main issue blocking this JIRA is lack of configuration documentation, my attempts to come up with realistic scenarios and configs with lots of improvement on test EC2 clusters were not very successful (and also take a while to actually have a chance to see the policy taking effect). Clearly certain read/data patterns are needed. We may get some configuration guidelines from FB guys, then we can incorporate them into book and commit this.&lt;/p&gt;

&lt;p&gt;Do you want to file separate JIRA for versions?&lt;/p&gt;</comment>
                            <comment id="13687442" author="liyin" created="Wed, 19 Jun 2013 00:32:53 +0000"  >&lt;p&gt;The tier based compaction settings.&lt;/p&gt;</comment>
                            <comment id="13687460" author="sershe" created="Wed, 19 Jun 2013 00:49:51 +0000"  >&lt;p&gt;We were wondering more about how you are actually using it. I.e. it&apos;s not really clear how an HBase admin will decide how to set the tiers and configure them.&lt;/p&gt;</comment>
                            <comment id="13687476" author="liyin" created="Wed, 19 Jun 2013 01:04:02 +0000"  >&lt;p&gt;Unfortunately, we haven&apos;t config this tier based compaction for our applications, either.&lt;/p&gt;</comment>
                            <comment id="13687528" author="stack" created="Wed, 19 Jun 2013 02:50:45 +0000"  >&lt;p&gt;Sounds like we should not commit this feature then, not till there is some data that it makes the world a better place?  Anything in the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; that you would like to salvage in meantime?&lt;/p&gt;</comment>
                            <comment id="13687529" author="stack" created="Wed, 19 Jun 2013 02:51:29 +0000"  >&lt;p&gt;Moving it out of 0.95.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; pull back in if you think otherwise?&lt;/p&gt;</comment>
                            <comment id="13687534" author="hadoopqa" created="Wed, 19 Jun 2013 02:58:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12588500/Tier%20Based%20Compaction%20Settings.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12588500/Tier%20Based%20Compaction%20Settings.pdf&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6066//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6066//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13688496" author="sershe" created="Wed, 19 Jun 2013 21:38:40 +0000"  >&lt;p&gt;Everything common from the patch was already moved into separate JIRAs... should we resolve as not a problem for now? If someone wants this we can resurrect it. The idea makes sense but indeed it&apos;s hard to configure.&lt;/p&gt;</comment>
                            <comment id="13688518" author="stack" created="Wed, 19 Jun 2013 22:01:52 +0000"  >&lt;p&gt;Resolving as &apos;later&apos; after Sergey suggestion.&lt;/p&gt;</comment>
                            <comment id="14369643" author="davelatham" created="Thu, 19 Mar 2015 16:27:45 +0000"  >&lt;p&gt;We have a case where we are very interested in using it - a table where we do regular scans of recent data, and occasional scans of all the data.  We&apos;re going to evaluate this patch.  Could it still be considered for inclusion into HBase?&lt;/p&gt;</comment>
                            <comment id="14369658" author="ndimiduk" created="Thu, 19 Mar 2015 16:39:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could it still be considered for inclusion into HBase?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I see no reason why not. It was only closed because it lost a champion.&lt;/p&gt;</comment>
                            <comment id="14369931" author="lhofhansl" created="Thu, 19 Mar 2015 19:11:18 +0000"  >&lt;p&gt;+1 on doing this. We never finished our work, but in principle it&apos;s not hard. There are two issues to tackle:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;write separate result files per time range. Need to be able to atomically put multiple files into place.&lt;/li&gt;
	&lt;li&gt;work out the compaction selection to take this into account (so that we not re-compact just compacted files). There&apos;s a bunch of special casing around the single file case.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12626448">HBASE-7516</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12615052">HBASE-7110</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12630937">HBASE-7773</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12598354">HBASE-6371</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12626643">HBASE-7519</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12895998">HBASE-14477</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12618088">HBASE-7236</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551034" name="HBASE-6371-squashed.patch" size="132513" author="sershe" created="Fri, 26 Oct 2012 22:36:31 +0000"/>
                            <attachment id="12551047" name="HBASE-6371-v2-squashed.patch" size="132375" author="sershe" created="Sat, 27 Oct 2012 01:11:59 +0000"/>
                            <attachment id="12551655" name="HBASE-6371-v3-refactor-only-squashed.patch" size="86747" author="sershe" created="Thu, 1 Nov 2012 00:38:03 +0000"/>
                            <attachment id="12551798" name="HBASE-6371-v4-refactor-only-squashed.patch" size="88501" author="sershe" created="Fri, 2 Nov 2012 00:06:27 +0000"/>
                            <attachment id="12552185" name="HBASE-6371-v5-refactor-only-squashed.patch" size="93093" author="sershe" created="Mon, 5 Nov 2012 23:57:39 +0000"/>
                            <attachment id="12555085" name="HBASE-7055-v0.patch" size="40402" author="sershe" created="Wed, 28 Nov 2012 00:01:14 +0000"/>
                            <attachment id="12555383" name="HBASE-7055-v1.patch" size="40524" author="sershe" created="Thu, 29 Nov 2012 18:59:20 +0000"/>
                            <attachment id="12556195" name="HBASE-7055-v2.patch" size="41221" author="sershe" created="Thu, 6 Dec 2012 01:10:07 +0000"/>
                            <attachment id="12560485" name="HBASE-7055-v3.patch" size="43922" author="sershe" created="Wed, 12 Dec 2012 00:54:40 +0000"/>
                            <attachment id="12560839" name="HBASE-7055-v4.patch" size="73523" author="sershe" created="Thu, 13 Dec 2012 19:58:40 +0000"/>
                            <attachment id="12563629" name="HBASE-7055-v5.patch" size="74999" author="sershe" created="Mon, 7 Jan 2013 21:35:28 +0000"/>
                            <attachment id="12567674" name="HBASE-7055-v6.patch" size="67159" author="sershe" created="Fri, 1 Feb 2013 23:47:37 +0000"/>
                            <attachment id="12572478" name="HBASE-7055-v7.patch" size="45073" author="sershe" created="Thu, 7 Mar 2013 03:02:20 +0000"/>
                            <attachment id="12572429" name="HBASE-7055-v7.patch" size="44716" author="sershe" created="Wed, 6 Mar 2013 23:02:32 +0000"/>
                            <attachment id="12588500" name="Tier Based Compaction Settings.pdf" size="80531" author="liyin" created="Wed, 19 Jun 2013 00:32:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Oct 2012 23:04:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>A tier based compaction algorithm has been developed.&lt;br/&gt;
Compaction selection is organized by tiers. The tiers can be age (TTL) based or size based.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>