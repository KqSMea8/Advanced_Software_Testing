<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:50:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14155/HBASE-14155.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14155] StackOverflowError in reverse scan</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14155</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A stack overflow may occur when a reverse scan is done. To reproduce (on a Mac), use the following steps:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Download the Phoenix 4.5.0 RC here: &lt;a href=&quot;https://dist.apache.org/repos/dist/dev/phoenix/phoenix-4.5.0-HBase-1.1-rc0/bin/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://dist.apache.org/repos/dist/dev/phoenix/phoenix-4.5.0-HBase-1.1-rc0/bin/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Copy the phoenix-4.5.0-HBase-1.1-server.jar into the HBase lib directory (removing any earlier Phoenix version if there was one installed)&lt;/li&gt;
	&lt;li&gt;Stop and restart HBase&lt;/li&gt;
	&lt;li&gt;From the bin directory of the Phoenix binary distribution, start sqlline like this: ./sqlline.py localhost&lt;/li&gt;
	&lt;li&gt;Create a new table and populate it like this:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create table desctest (k varchar primary key desc);
upsert into desctest values (&apos;a&apos;);
upsert into desctest values (&apos;ab&apos;);
upsert into desctest values (&apos;b&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Note that the following query works fine at this point:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
select * from desctest order by k;
+------------------------------------------+
|                    K                     |
+------------------------------------------+
| a                                        |
| ab                                       |
| b                                        |
+------------------------------------------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Stop and start HBase&lt;/li&gt;
	&lt;li&gt;Rerun the above query again and you&apos;ll get  a StackOverflowError at StoreFileScanner.seekToPreviousRow()
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
select * from desctest order by k;
java.lang.RuntimeException: org.apache.phoenix.exception.PhoenixIOException: org.apache.phoenix.exception.PhoenixIOException: org.apache.hadoop.hbase.DoNotRetryIOException: DESCTEST,,1437847235264.a74d70e6a8b36e24d1ea1a70edb0cdf7.: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.phoenix.util.ServerUtil.createIOException(ServerUtil.java:84)
	at org.apache.phoenix.util.ServerUtil.throwIOException(ServerUtil.java:52)
	at org.apache.phoenix.coprocessor.BaseScannerRegionObserver$2.nextRaw(BaseScannerRegionObserver.java:352)
	at org.apache.phoenix.coprocessor.DelegateRegionScanner.nextRaw(DelegateRegionScanner.java:77)
	at org.apache.hadoop.hbase.regionserver.RSRpcServices.scan(RSRpcServices.java:2393)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:32205)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2112)
	at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:101)
	at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)
	at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.lang.StackOverflowError
	at org.apache.hadoop.hbase.io.hfile.ChecksumUtil.numChunks(ChecksumUtil.java:201)
	at org.apache.hadoop.hbase.io.hfile.ChecksumUtil.numBytes(ChecksumUtil.java:189)
	at org.apache.hadoop.hbase.io.hfile.HFileBlock.totalChecksumBytes(HFileBlock.java:1826)
	at org.apache.hadoop.hbase.io.hfile.HFileBlock.getBufferReadOnly(HFileBlock.java:356)
	at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$EncodedScannerV2.getEncodedBuffer(HFileReaderV2.java:1211)
	at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$EncodedScannerV2.getFirstKeyInBlock(HFileReaderV2.java:1307)
	at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$AbstractScannerV2.seekBefore(HFileReaderV2.java:657)
	at org.apache.hadoop.hbase.io.hfile.HFileReaderV2$AbstractScannerV2.seekBefore(HFileReaderV2.java:646)
	at org.apache.hadoop.hbase.regionserver.StoreFileScanner.seekToPreviousRow(StoreFileScanner.java:425)
	at org.apache.hadoop.hbase.regionserver.StoreFileScanner.seekToPreviousRow(StoreFileScanner.java:449)
	at org.apache.hadoop.hbase.regionserver.StoreFileScanner.seekToPreviousRow(StoreFileScanner.java:449)
	at org.apache.hadoop.hbase.regionserver.StoreFileScanner.seekToPreviousRow(StoreFileScanner.java:449)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ve attempted to reproduce this in a standalone HBase unit test, but have not been able to (but I&apos;ll attach my attempt which mimics what Phoenix is doing).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12849110">HBASE-14155</key>
            <summary>StackOverflowError in reverse scan</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="jamestaylor">James Taylor</reporter>
                        <labels>
                            <label>Phoenix</label>
                    </labels>
                <created>Sat, 25 Jul 2015 18:14:42 +0000</created>
                <updated>Mon, 31 Aug 2015 22:39:38 +0000</updated>
                            <resolved>Thu, 30 Jul 2015 01:47:20 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.2</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>regionserver</component>
                    <component>Scanners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14641744" author="jamestaylor" created="Sat, 25 Jul 2015 18:16:22 +0000"  >&lt;p&gt;This is my failed attempt to reproduce the issue in a standalone unit test.&lt;/p&gt;</comment>
                            <comment id="14641773" author="jamestaylor" created="Sat, 25 Jul 2015 20:01:34 +0000"  >&lt;p&gt;One more piece of information: this does not occur with 0.98 (at least 0.98.12 which is what I tested with)&lt;/p&gt;</comment>
                            <comment id="14641853" author="ram_krish" created="Sun, 26 Jul 2015 05:57:03 +0000"  >&lt;p&gt;From phoenix, once we flush the data this problem seems to happen I think. Will take this up and see.&lt;/p&gt;</comment>
                            <comment id="14643098" author="ram_krish" created="Mon, 27 Jul 2015 17:45:42 +0000"  >&lt;p&gt;In 0.98 I got this result&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

+------------------------------------------+
|                    K                     |
+------------------------------------------+
| ab                                       |
| a                                        |
| b                                        |
+------------------------------------------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But there is no Stackoverflow error as you said. &lt;/p&gt;</comment>
                            <comment id="14643236" author="jamestaylor" created="Mon, 27 Jul 2015 19:17:21 +0000"  >&lt;p&gt;I&apos;m able to repro this both on Linux and Mac for HBase 1.1.1.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; - make sure you create a new table on the 4.5.0 RC. The sort order you&apos;re showing is what would be shown pre 4.5. The proper sort order is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
0: jdbc:phoenix:localhost&amp;gt; create table desctest (k varchar primary key desc);
No rows affected (1.386 seconds)
0: jdbc:phoenix:localhost&amp;gt; upsert into desctest values (&apos;a&apos;);
1 row affected (0.087 seconds)
0: jdbc:phoenix:localhost&amp;gt; upsert into desctest values (&apos;ab&apos;);
1 row affected (0.01 seconds)
0: jdbc:phoenix:localhost&amp;gt; upsert into desctest values (&apos;b&apos;);
1 row affected (0.009 seconds)
0: jdbc:phoenix:localhost&amp;gt; select * from desctest order by k;
+------------------------------------------+
|                    K                     |
+------------------------------------------+
| a                                        |
| ab                                       |
| b                                        |
+------------------------------------------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14644111" author="ram_krish" created="Tue, 28 Jul 2015 09:27:28 +0000"  >&lt;p&gt;The patch that fixes this issue with updated test cases. The test case &apos;testReverseScanWithoutPadding&apos; without the fix will return only 2 values (which is a data loss) and the test case &apos;testReverseScanWithPadding&apos; will get the StackOverFlow exception. This issue should be present in branch-1 and above.&lt;/p&gt;</comment>
                            <comment id="14644190" author="ram_krish" created="Tue, 28 Jul 2015 10:24:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=giacomotaylor&quot; class=&quot;user-hover&quot; rel=&quot;giacomotaylor&quot;&gt;James Taylor&lt;/a&gt;&lt;br/&gt;
The reason why you could NOT directly reproduce this with your test code was because you did not set the DataBlockEncoding on the CF.&lt;/p&gt;</comment>
                            <comment id="14644288" author="hadoopqa" created="Tue, 28 Jul 2015 12:13:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12747531/HBASE-14155.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12747531/HBASE-14155.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 89d04094626abebf279e9f64d597a7085bfc8fcf.&lt;br/&gt;
  ATTACHMENT ID: 12747531&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat2.testMRIncrementalLoadWithSplit(TestHFileOutputFormat2.java:385)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14906//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14644373" author="anoop.hbase" created="Tue, 28 Jul 2015 13:32:00 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 STATE tmp = previous;
      previous = current;
      current = tmp;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was not enough?  We need to specifically call setKey() again?  Some thing wrong in the overall flow then.. May be we need revisit this.  Chances of missing these kind of setters is more then..&lt;/p&gt;</comment>
                            <comment id="14644665" author="ram_krish" created="Tue, 28 Jul 2015 17:09:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;Some thing wrong in the overall flow then.. May be we need revisit this&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Revisiting this place is fine. But I think, with the current way we have to do this setKey because in copyFromNext the keyBuffer is deep copied and the current&apos;s reference is updated.&lt;br/&gt;
So when we moveToPrevious() though the keyBuffer is independent the current (as ref) is already updated. So we need to set the current keyBuffer to the current reference. &lt;br/&gt;
In 0.98 cases we were doing a full copy of the key and value so it was fine. Correct me if am wrong. &lt;/p&gt;</comment>
                            <comment id="14646284" author="ram_krish" created="Wed, 29 Jul 2015 15:37:21 +0000"  >&lt;p&gt;Any comments on this patch.&lt;/p&gt;</comment>
                            <comment id="14646302" author="jamestaylor" created="Wed, 29 Jul 2015 15:46:49 +0000"  >&lt;p&gt;Excellent work tracking this bug down, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; is on vacation, but maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; has time to review?&lt;/p&gt;</comment>
                            <comment id="14646406" author="apurtell" created="Wed, 29 Jul 2015 16:57:20 +0000"  >&lt;p&gt;Sure I can look at this. Patch lgtm at first glance. Let me check the new unit test reliably reproduces the issue when the fix is not applied and a couple of other things. Assuming that checks out, I will commit this to the affected branches.&lt;/p&gt;</comment>
                            <comment id="14646481" author="anoop.hbase" created="Wed, 29 Jul 2015 17:42:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14646646" author="yuzhihong@gmail.com" created="Wed, 29 Jul 2015 19:41:14 +0000"  >&lt;p&gt;Patch for branch-1 based on Ram&apos;s patch.&lt;/p&gt;</comment>
                            <comment id="14646878" author="hadoopqa" created="Wed, 29 Jul 2015 22:49:14 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12747847/14155-branch-1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12747847/14155-branch-1.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 4ce6f486d063553a78ed1d60670e68564d61a483.&lt;br/&gt;
  ATTACHMENT ID: 12747847&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14928//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14647055" author="apurtell" created="Thu, 30 Jul 2015 01:47:20 +0000"  >&lt;p&gt;Pushed to branch-1.0 and up. Fix looks right but I double checked on each branch. Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; for the branch-1 port.&lt;/p&gt;</comment>
                            <comment id="14647119" author="ram_krish" created="Thu, 30 Jul 2015 03:21:58 +0000"  >&lt;p&gt;Thanks for the reviews, commits and for the branch-1 patch with the updates in the HBaseTestingUtility.&lt;/p&gt;</comment>
                            <comment id="14647135" author="hudson" created="Thu, 30 Jul 2015 03:54:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #998 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/998/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/998/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan and Ted Yu) (apurtell: rev d3d15ca595df602536692b74600830560e800a65)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14647142" author="hudson" created="Thu, 30 Jul 2015 04:08:32 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #86 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/86/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/86/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan and Ted Yu) (apurtell: rev 4f4bb55a4a83cdf25818edd8780e16ac876bd5a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14647171" author="hudson" created="Thu, 30 Jul 2015 04:37:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6687 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6687/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6687/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan) (apurtell: rev 5f1129c799e9c273dfd58a7fc87d5e654061607b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14647184" author="hudson" created="Thu, 30 Jul 2015 04:53:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #593 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/593/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/593/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan and Ted Yu) (apurtell: rev 7735fc79bed918bbfb694bb85605169916cd7251)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14647193" author="hudson" created="Thu, 30 Jul 2015 05:11:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan and Ted Yu) (apurtell: rev 4f4bb55a4a83cdf25818edd8780e16ac876bd5a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14647204" author="hudson" created="Thu, 30 Jul 2015 05:20:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #80 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/80/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/80/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan and Ted Yu) (apurtell: rev 67f4a077b99eed338633c02badfd2d3eab907ef6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14647207" author="hudson" created="Thu, 30 Jul 2015 05:24:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #62 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/62/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/62/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14155&quot; title=&quot;StackOverflowError in reverse scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14155&quot;&gt;&lt;del&gt;HBASE-14155&lt;/del&gt;&lt;/a&gt; StackOverflowError in reverse scan (Ramkrishna S. Vasudevan and Ted Yu) (apurtell: rev 67f4a077b99eed338633c02badfd2d3eab907ef6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/io/encoding/BufferedDataBlockEncoder.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/encoding/TestSeekBeforeWithReverseScan.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14724219" author="enis" created="Mon, 31 Aug 2015 22:39:38 +0000"  >&lt;p&gt;Closing this issue after 1.0.2 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12747847" name="14155-branch-1.txt" size="10651" author="yuzhihong@gmail.com" created="Wed, 29 Jul 2015 19:41:14 +0000"/>
                            <attachment id="12747531" name="HBASE-14155.patch" size="6981" author="ram_krish" created="Tue, 28 Jul 2015 09:27:28 +0000"/>
                            <attachment id="12747204" name="ReproReverseScanStackOverflow.java" size="3945" author="jamestaylor" created="Sat, 25 Jul 2015 18:16:22 +0000"/>
                            <attachment id="12747205" name="ReproReverseScanStackOverflowCoprocessor.java" size="3230" author="jamestaylor" created="Sat, 25 Jul 2015 18:16:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 26 Jul 2015 05:57:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hxlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>