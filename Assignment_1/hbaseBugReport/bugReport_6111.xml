<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:33:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6111/HBASE-6111.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6111] CLONE - Map tasks not local to RS</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6111</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have started seeing this issue in our environment.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1672&quot; title=&quot;Map tasks not local to RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1672&quot;&gt;&lt;del&gt;HBASE-1672&lt;/del&gt;&lt;/a&gt; was closed as non reproducible, so I cloned it here.&lt;/p&gt;

&lt;p&gt;I have a 367M record table, compressed with snappy, and running a vanilla MR SCAN with no filters spawns 441 Mappers.  The cluster currently has 216 slots for mappers, and the first wave all report 100% data-local mappers.  As the second wave of mappers come up they don&apos;t get run locally to the RS and data locality drops.&lt;/p&gt;

&lt;p&gt;This kills our environment, as it saturates the network at 120M which is very clear on ganglia.&lt;/p&gt;

&lt;p&gt;I am really happy to help diagnose this, but need some guidance on what to do.  I don&apos;t know enough yet about how task assignment works in MR to determine why the machines are picking up random tasks for their second effort and not one for the local RS.&lt;/p&gt;</description>
                <environment>&lt;p&gt;DN, TT and RS running on the same nodes, all using CDH3.  Ganglia monitoring everything.&lt;/p&gt;</environment>
        <key id="12558267">HBASE-6111</key>
            <summary>CLONE - Map tasks not local to RS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="timrobertson100">Tim Robertson</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 May 2012 08:00:30 +0000</created>
                <updated>Thu, 20 Sep 2012 22:10:39 +0000</updated>
                            <resolved>Mon, 28 May 2012 14:25:17 +0000</resolved>
                                    <version>0.20.2</version>
                    <version>0.90.4</version>
                                                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13284126" author="timrobertson100" created="Sun, 27 May 2012 08:55:53 +0000"  >&lt;p&gt;I should note that this is also not consistent.  Subsequent runs seems to get more data local map tasks, but the very last few always seem non local.  Does anyone know if it is possible to force (almost force) JT to run data-local mappers?&lt;/p&gt;</comment>
                            <comment id="13284414" author="timrobertson100" created="Mon, 28 May 2012 14:25:17 +0000"  >&lt;p&gt;Closing this, as it is an issue in our environment that we&apos;re investigating and also using a version of code that is rather different to current trunk (e.g. trunk TableInputFormatBase does a reverseDNS(...) whereas the old one simply uses what is in the InetSocketAddress host address).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12430867">HBASE-1672</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i068br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>