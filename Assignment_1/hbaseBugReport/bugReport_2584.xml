<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:03:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2584/HBASE-2584.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2584] Add support for tryLock - non-blocking row lock acquisition</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2584</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently HBase clients can only acquire row locks via the blocking lockRow() method in HTable. As ryan described on the mailing list, relying on this method in rare highly contended situations can lead to (temporary) deadlock. This deadlock occurs if a client acquires the lock, and a large number of other clients attempt to acquire the lock and block. Each blocked client awaiting lock acquisition consumes one of the limited I/O handler threads on the regionserver. When lock holder wishes to release the lock, he will be unable to as all I/O threads are currently serving clients that are blocking on lock acquisition &amp;#8211; and thus no I/O threads are open to process the unlock request.&lt;/p&gt;

&lt;p&gt;To avoid deadlock situations such as the one described above, I have added support for &apos;tryLock&apos; in HTable (and on the regionservers). The &apos;tryLock&apos; method will attempt to acquire a row lock. In the event that a lock is already held, tryLock immediately returns null rather than blocking and waiting for the lock to be acquire. Clients can then implement their own backoff/retry policy to re-acquire the lock, determine their own timeout values, etc based on their application performance characteristics rather than block on the regionserver and tie up precious I/O regionserver handler threads for an indefinite amount of time. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12465010">HBASE-2584</key>
            <summary>Add support for tryLock - non-blocking row lock acquisition</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mwdalton">Michael Dalton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 May 2010 09:24:21 +0000</created>
                <updated>Sat, 19 Jul 2014 00:32:31 +0000</updated>
                            <resolved>Sat, 19 Jul 2014 00:32:31 +0000</resolved>
                                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12869535" author="mwdalton" created="Thu, 20 May 2010 09:29:29 +0000"  >&lt;p&gt;Here is my initial patch submission.&lt;/p&gt;</comment>
                            <comment id="12869538" author="mwdalton" created="Thu, 20 May 2010 09:30:57 +0000"  >&lt;p&gt;This patch adds tryLock support to HTable/HRegion. The TestHRegion testcase is updated accordingtly to test this new method.&lt;/p&gt;</comment>
                            <comment id="12869660" author="tlipcon" created="Thu, 20 May 2010 16:29:09 +0000"  >&lt;p&gt;Hi Michael. I think, if we maintain user-visible locks, this is a good idea. But I&apos;m not convinced that we want to retain locks as a feature at all. Have you seen the discussion at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2332&quot; title=&quot;Remove client-exposed row locks from region server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2332&quot;&gt;&lt;del&gt;HBASE-2332&lt;/del&gt;&lt;/a&gt;? Would be interested in your opinion there.&lt;/p&gt;</comment>
                            <comment id="12869949" author="mwdalton" created="Fri, 21 May 2010 11:18:56 +0000"  >&lt;p&gt;Thanks Todd, I wasn&apos;t aware of that issue. I&apos;ll take a look at it now.&lt;/p&gt;</comment>
                            <comment id="12874296" author="stack" created="Tue, 1 Jun 2010 23:31:11 +0000"  >&lt;p&gt;Moving out of 0.21&lt;/p&gt;</comment>
                            <comment id="12968878" author="stack" created="Tue, 7 Dec 2010 18:51:23 +0000"  >&lt;p&gt;Cancelling stale patch.&lt;/p&gt;</comment>
                            <comment id="14067284" author="apurtell" created="Sat, 19 Jul 2014 00:32:31 +0000"  >&lt;p&gt;We&apos;ve removed user row locks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445042" name="2584.patch" size="10568" author="mwdalton" created="Thu, 20 May 2010 09:29:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 May 2010 16:29:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02fkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>