<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:05:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9589/HBASE-9589.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9589] Bytes#LexicographicalComparerHolder#UnsafeComparer#compareTo() has dead code</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9589</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Starting with line 1177:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (diff != 0) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!littleEndian) {
              &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; lessThanUnsigned(lw, rw) ? -1 : 1;
            }

            &lt;span class=&quot;code-comment&quot;&gt;// Use binary search
&lt;/span&gt;            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n = 0;
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; y;
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (x == 0) {
              x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) (diff &amp;gt;&amp;gt;&amp;gt; 32);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The value of &quot;x&quot; cannot be equal to 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12669581">HBASE-9589</key>
            <summary>Bytes#LexicographicalComparerHolder#UnsafeComparer#compareTo() has dead code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Sep 2013 23:34:31 +0000</created>
                <updated>Sat, 19 Oct 2013 02:15:38 +0000</updated>
                            <resolved>Fri, 18 Oct 2013 20:38:59 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13796820" author="gustavoanatoly" created="Wed, 16 Oct 2013 14:14:25 +0000"  >&lt;p&gt;Hi, Ted.&lt;/p&gt;

&lt;p&gt;I was debugging the code above and saw that diff casting to integer, returns zero to X and stepping into to the conditional block, where the X value is changed, and running TestBytes#testSplit2 to debug, we have:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; lw = 4697024864412005480
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; rw = 8804307724573897832
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; diff = lw ^ rw 
diff = 4251398048237748224

&lt;span class=&quot;code-comment&quot;&gt;// The &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; below, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff;

&lt;span class=&quot;code-comment&quot;&gt;// Step into
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (x == 0) {
    x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) (diff &amp;gt;&amp;gt;&amp;gt; 32);
    n = 32;
}

Now, x = 989855744
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ted, forgive me if my understanding it&apos;s wrong. There are other reason that I can&apos;t see, the causes why X cannot be zero?&lt;/p&gt;</comment>
                            <comment id="13797289" author="yuzhihong@gmail.com" created="Wed, 16 Oct 2013 21:38:03 +0000"  >&lt;p&gt;x is assigned at line 1185:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;At line 1177, we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (diff != 0) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13799472" author="gustavoanatoly" created="Fri, 18 Oct 2013 20:14:56 +0000"  >&lt;p&gt;Ted, sorry for delay to answer.&lt;/p&gt;

&lt;p&gt;At line 1185, when:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;diff &amp;gt; Integer.MAX_VALUE&lt;/b&gt; For example on TestBytes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff; &lt;span class=&quot;code-comment&quot;&gt;// x is assigned to zero&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But, &lt;/p&gt;

&lt;p&gt;&lt;b&gt;diff &amp;lt; Integer.MAX_VALUE&lt;/b&gt; For example on TestLoadTestKVGenerator&lt;br/&gt;
In this case, &quot;if block&quot; is ignored.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff; &lt;span class=&quot;code-comment&quot;&gt;// x is assigned to same value of diff&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Therefore, IMHO we need the line 1185.&lt;/p&gt;</comment>
                            <comment id="13799482" author="yuzhihong@gmail.com" created="Fri, 18 Oct 2013 20:26:58 +0000"  >&lt;p&gt;Pardon me for not being clear.&lt;br/&gt;
What I meant was that the body of following if block would not be executed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (x == 0) {
              x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) (diff &amp;gt;&amp;gt;&amp;gt; 32);
              n = 32;
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;because x wouldn&apos;t be 0.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff; &lt;span class=&quot;code-comment&quot;&gt;// x is assigned to zero&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can you confirm whether 0 is assigned to x ?&lt;br/&gt;
In the following example, x is assigned x	-2147483647:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; diff = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE + 2;
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13799493" author="yuzhihong@gmail.com" created="Fri, 18 Oct 2013 20:38:59 +0000"  >&lt;p&gt;When diff is 4251398048237748224, x is assigned 0.&lt;/p&gt;

&lt;p&gt;Closing this issue.&lt;/p&gt;</comment>
                            <comment id="13799738" author="gustavoanatoly" created="Sat, 19 Oct 2013 02:15:38 +0000"  >&lt;p&gt;Ted, I saw your comment now, sorry. Your example is interesting: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; diff = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE + 2;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) diff; &lt;span class=&quot;code-comment&quot;&gt;// x -2147483647&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I did the same example, changing 2 by 1, and really the value is negative. Other interesting point is, if you try assign &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; diff = 4251398048237748224; &lt;span class=&quot;code-comment&quot;&gt;// Error out of range &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But, when:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; max = &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(&lt;span class=&quot;code-quote&quot;&gt;&quot;4251398048237748224&quot;&lt;/span&gt;);
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Max: &quot;&lt;/span&gt; + max); &lt;span class=&quot;code-comment&quot;&gt;// max = 4251398048237748224
&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (max &amp;lt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE) {
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Less than &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE&quot;&lt;/span&gt;);
 }
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) max;
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;: &quot;&lt;/span&gt; + x); &lt;span class=&quot;code-comment&quot;&gt;// x = 0&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Interesting &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks for you attention.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Oct 2013 14:14:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o9kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>