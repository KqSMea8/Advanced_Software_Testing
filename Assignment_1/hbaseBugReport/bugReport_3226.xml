<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3226/HBASE-3226.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3226] control condition error in hbase.filter.CompareFilter.doCompare  </title>
                <link>https://issues.apache.org/jira/browse/HBASE-3226</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It exists in HBase 0.20.5 , and also exist in TRUNK&lt;br/&gt;
org.apache.hadoop.hbase.filter.CompareFilter.doCompare(CompareOp, WritableByteArrayComparable, byte[], int, int),&lt;br/&gt;
  ---------------------------------------------&lt;br/&gt;
  switch (compareOp) &lt;/p&gt;
{
      case LESS:
        return compareResult &amp;lt;= 0;   
      case LESS_OR_EQUAL:     
        return compareResult &amp;lt; 0;
      case EQUAL:
        return compareResult != 0;
      case NOT_EQUAL:
        return compareResult == 0;
      case GREATER_OR_EQUAL:
        return compareResult &amp;gt; 0;
      case GREATER:
        return compareResult &amp;gt;= 0;
      default:
        throw new RuntimeException(&quot;Unknown Compare op &quot; +
          compareOp.name());
    }
&lt;p&gt;-----------------------------------------------------&lt;br/&gt;
!!! modified code:&lt;br/&gt;
    switch (compareOp) &lt;/p&gt;
{
      case LESS:
        return compareResult &amp;lt; 0;
      case LESS_OR_EQUAL:
        return compareResult &amp;lt;= 0;
      case EQUAL:
        return compareResult == 0;
      case NOT_EQUAL:
        return compareResult != 0;
      case GREATER_OR_EQUAL:
        return compareResult &amp;gt;= 0;
      case GREATER:
        return compareResult &amp;gt;0;
      default:
        throw new RuntimeException(&quot;Unknown Compare op &quot; +
          compareOp.name());
    }</description>
                <environment></environment>
        <key id="12479678">HBASE-3226</key>
            <summary>control condition error in hbase.filter.CompareFilter.doCompare  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sindy">sindy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Nov 2010 03:29:08 +0000</created>
                <updated>Wed, 16 Jul 2014 23:16:18 +0000</updated>
                            <resolved>Wed, 16 Jul 2014 23:16:18 +0000</resolved>
                                    <version>0.20.5</version>
                                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="12930931" author="stack" created="Thu, 11 Nov 2010 05:46:27 +0000"  >&lt;p&gt;Sindy, it seems strange that you have to adjust nearly all of these operators.  Over in TestFromClientSide, there are tests that make use of CompareFilter operations and they seem to be doing the right thing.  Or are they?  Would you mind checking into these tests?  Maybe they are not written properly or failing that, any chance of some code to demonstrate the breakage you are fixing and how the above fixes it?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12931323" author="sindy" created="Fri, 12 Nov 2010 04:47:16 +0000"  >&lt;p&gt; the switch-case  logic seem strange, for example:&lt;br/&gt;
 case EQUAL:&lt;br/&gt;
         return compareResult != 0;&lt;br/&gt;
 case NOT_EQUAL:&lt;br/&gt;
         return compareResult == 0;&lt;br/&gt;
I made a new project  to test just  the &lt;b&gt;doCompare ,&lt;/b&gt; it didn&apos;t make the&lt;br/&gt;
correct result.&lt;br/&gt;
but from the hbase-client side test, it made the right result.&lt;br/&gt;
 It should have  more precessing relation behind  &lt;b&gt;doCompare&lt;/b&gt;, I will keep&lt;br/&gt;
on it.&lt;br/&gt;
Thanks~&lt;/p&gt;

&lt;p&gt;2010/11/11 stack (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;



&lt;p&gt;&amp;#8211; &lt;br/&gt;
Sindy Wang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Nov 2010 05:46:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>doCompare </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>