<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:48:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7742/HBASE-7742.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7742] [snapshot 130201 merge] Fix TestHFileArchving#testArchiveOnTableDelete</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7742</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;After the 2/1/13 merge this test case started to fail.&lt;/p&gt;

&lt;p&gt;Looks like after deleting a table files are moved to &amp;lt;hbase&amp;gt;/.tmp/.archive instead of &amp;lt;hbase&amp;gt;/.archive.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-02-01 16:23:25,037 DEBUG [main] util.FSUtils(1395): Current file system:
2013-02-01 16:23:25,040 DEBUG [main] util.FSUtils(1411): |-user/
2013-02-01 16:23:25,042 DEBUG [main] util.FSUtils(1411): |----jon/
2013-02-01 16:23:25,045 DEBUG [main] util.FSUtils(1411): |-------hbase/
2013-02-01 16:23:25,048 DEBUG [main] util.FSUtils(1411): |-----------ROOT-/
2013-02-01 16:23:25,051 DEBUG [main] util.FSUtils(1414): |-------------.tableinfo.0000000001
2013-02-01 16:23:25,051 DEBUG [main] util.FSUtils(1411): |-------------.tmp/
2013-02-01 16:23:25,053 DEBUG [main] util.FSUtils(1411): |-------------70236052/
2013-02-01 16:23:25,056 DEBUG [main] util.FSUtils(1411): |----------------.oldlogs/
2013-02-01 16:23:25,059 DEBUG [main] util.FSUtils(1414): |-------------------hlog.1359764552904
2013-02-01 16:23:25,059 DEBUG [main] util.FSUtils(1414): |----------------.regioninfo
2013-02-01 16:23:25,060 DEBUG [main] util.FSUtils(1411): |----------------info/
2013-02-01 16:23:25,062 DEBUG [main] util.FSUtils(1414): |-------------------73d7663c7ffa47089e5138f79af6da5c
2013-02-01 16:23:25,062 DEBUG [main] util.FSUtils(1411): |----------.META./
2013-02-01 16:23:25,064 DEBUG [main] util.FSUtils(1414): |-------------.tableinfo.0000000001
2013-02-01 16:23:25,065 DEBUG [main] util.FSUtils(1411): |-------------.tmp/
2013-02-01 16:23:25,066 DEBUG [main] util.FSUtils(1411): |-------------1028785192/
2013-02-01 16:23:25,069 DEBUG [main] util.FSUtils(1411): |----------------.oldlogs/
2013-02-01 16:23:25,072 DEBUG [main] util.FSUtils(1414): |-------------------hlog.1359764553440
2013-02-01 16:23:25,073 DEBUG [main] util.FSUtils(1414): |----------------.regioninfo
2013-02-01 16:23:25,073 DEBUG [main] util.FSUtils(1411): |----------------info/
2013-02-01 16:23:25,075 DEBUG [main] util.FSUtils(1411): |----------.logs/
2013-02-01 16:23:25,078 DEBUG [main] util.FSUtils(1411): |-------------localhost,39842,1359764552342/
2013-02-01 16:23:25,080 DEBUG [main] util.FSUtils(1414): |----------------localhost%2C39842%2C1359764552342.1359764554756
2013-02-01 16:23:25,081 DEBUG [main] util.FSUtils(1414): |----------------localhost%2C39842%2C1359764552342.1359764555929.meta
2013-02-01 16:23:25,081 DEBUG [main] util.FSUtils(1411): |----------.oldlogs/
2013-02-01 16:23:25,083 DEBUG [main] util.FSUtils(1411): |----------.tmp/
2013-02-01 16:23:25,085 DEBUG [main] util.FSUtils(1411): |-------------.archive/
2013-02-01 16:23:25,087 DEBUG [main] util.FSUtils(1411): |----------------test_table/
2013-02-01 16:23:25,089 DEBUG [main] util.FSUtils(1411): |-------------------8293b640249b4c47e469119a9ba4514a/
2013-02-01 16:23:25,091 DEBUG [main] util.FSUtils(1411): |----------------------fam/
2013-02-01 16:23:25,093 DEBUG [main] util.FSUtils(1414): |-------------------------2b6faae136d648b38f335ff9c885b294
2013-02-01 16:23:25,093 DEBUG [main] util.FSUtils(1414): |-------------------------4ba2080dbd6f4c3eb9b7a70ccefe9f9b
2013-02-01 16:23:25,094 DEBUG [main] util.FSUtils(1414): |-------------------------50dd7ee0cb2049158de3139e814f4784
2013-02-01 16:23:25,094 DEBUG [main] util.FSUtils(1414): |-------------------------86544bf4d23a4413b01c3b2e7e2f5562
2013-02-01 16:23:25,094 DEBUG [main] util.FSUtils(1414): |-------------------------aecf536371374393a113af2875b38997
2013-02-01 16:23:25,094 DEBUG [main] util.FSUtils(1414): |----------hbase.id
2013-02-01 16:23:25,094 DEBUG [main] util.FSUtils(1414): |----------hbase.version
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12630484">HBASE-7742</key>
            <summary>[snapshot 130201 merge] Fix TestHFileArchving#testArchiveOnTableDelete</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12619005">HBASE-7290</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Feb 2013 00:29:47 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:13 +0000</updated>
                            <resolved>Mon, 4 Feb 2013 16:30:56 +0000</resolved>
                                    <version>hbase-7290</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>snapshots</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13569442" author="mbertozzi" created="Sat, 2 Feb 2013 05:58:43 +0000"  >&lt;p&gt;some changes in the archiver/DeleteTableHandler get lost in the merge...&lt;br/&gt;
archiver is still using tmpdir.parent() to get the root dir...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DeleteTableHandler.java
HFileArchiver.archiveRegion(masterServices.getConfiguration(), fs, mfs.getRootDir(),
should be:
HFileArchiver.archiveRegion(fs, mfs.getRootDir(),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HFileArchiver.java
Path regionArchiveDir = HFileArchiveUtil.getRegionArchiveDir(conf, tableDir, regionDir);
should be
Path regionArchiveDir = HFileArchiveUtil.getRegionArchiveDir(rootdir, tableDir, regionDir);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13569594" author="jmhsieh" created="Sat, 2 Feb 2013 17:19:48 +0000"  >&lt;p&gt;This patch changes to favor the code that was in the 12/18/12 based snapshot branch instead of the 2/1/13 based trunk branch.&lt;/p&gt;</comment>
                            <comment id="13569595" author="hadoopqa" created="Sat, 2 Feb 2013 17:22:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567733/hbase-7742.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567733/hbase-7742.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4309//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4309//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13569599" author="mbertozzi" created="Sat, 2 Feb 2013 17:23:59 +0000"  >&lt;p&gt;+1 on the merge fix patch&lt;/p&gt;</comment>
                            <comment id="13570367" author="jmhsieh" created="Mon, 4 Feb 2013 16:30:56 +0000"  >&lt;p&gt;Thanks for the review matteo. I&apos;ve committed to the snapshot branch.&lt;/p&gt;</comment>
                            <comment id="13774859" author="stack" created="Mon, 23 Sep 2013 18:30:13 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567733" name="hbase-7742.patch" size="6925" author="jmhsieh" created="Sat, 2 Feb 2013 17:19:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Feb 2013 05:58:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ho1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>