<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:30:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5713/HBASE-5713.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5713] Introduce throttling during Instant schema change process to throttle opening/closing regions. </title>
                <link>https://issues.apache.org/jira/browse/HBASE-5713</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There is a potential for region open/close stampede during instant schema change process as the process attempts to close/open impacted regions in rapid succession. We need to introduce some kind of throttling to eliminate the race condition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12549527">HBASE-5713</key>
            <summary>Introduce throttling during Instant schema change process to throttle opening/closing regions. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="iamknome">Subbu M Iyer</assignee>
                                    <reporter username="iamknome">Subbu M Iyer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Apr 2012 16:24:52 +0000</created>
                <updated>Wed, 7 Jan 2015 21:16:44 +0000</updated>
                                                                            <component>Client</component>
                    <component>master</component>
                    <component>regionserver</component>
                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13261084" author="zhihyu@ebaysf.com" created="Tue, 24 Apr 2012 22:18:10 +0000"  >&lt;p&gt;Subbu&apos;s patch.&lt;/p&gt;</comment>
                            <comment id="13261097" author="zhihyu@ebaysf.com" created="Tue, 24 Apr 2012 22:34:00 +0000"  >&lt;p&gt;For SchemaChangeTracker.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+                                              Throwable exception
+                                              ) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please move the second line to the end of the first line.&lt;/p&gt;

&lt;p&gt;For CompactSplitThread.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.concurrent.*;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please restore the individual imports from java.util.concurrent&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.server.getSchemaChangeTracker()
         .isSchemaChangeInProgress(tableName)) {
       &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
-        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(100);
+        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(500);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Why is the sleep interval longer ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &amp;lt;name&amp;gt;hbase.instant.schema.throttle.time&amp;lt;/name&amp;gt;
+      &amp;lt;value&amp;gt;500&amp;lt;/value&amp;gt;
+      &amp;lt;description&amp;gt;Throttle time in millis &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing/re opening impacted regions
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;re opening&apos; -&amp;gt; &apos;re-opening&apos;&lt;br/&gt;
Since user may choose longer throttle interval, &apos;hbase.instant.schema.alter.timeout&apos; should made longer.&lt;/p&gt;</comment>
                            <comment id="13294717" author="iamknome" created="Wed, 13 Jun 2012 23:27:58 +0000"  >&lt;p&gt;Ted:&lt;/p&gt;

&lt;p&gt;Attached a latest patch. &lt;/p&gt;

&lt;p&gt;1. Reduced the throttle time to 100ms.&lt;br/&gt;
2. Addressed your comments.&lt;/p&gt;

&lt;p&gt;All unit tests passed.&lt;/p&gt;

&lt;p&gt;As a next step, we need to get this tested in a production grade cluster and hope Lars can help us with that.&lt;/p&gt;

&lt;p&gt;thanks &lt;/p&gt;</comment>
                            <comment id="14268239" author="clehene" created="Wed, 7 Jan 2015 21:16:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iamknome&quot; class=&quot;user-hover&quot; rel=&quot;iamknome&quot;&gt;Subbu M Iyer&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; is this worth a refresh?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12549531">HBASE-5715</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12524070" name="5713.txt" size="21219" author="zhihyu@ebaysf.com" created="Tue, 24 Apr 2012 22:18:10 +0000"/>
                            <attachment id="12532025" name="patch-v4.patch" size="19616" author="iamknome" created="Wed, 13 Jun 2012 23:28:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Apr 2012 22:18:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>234518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>