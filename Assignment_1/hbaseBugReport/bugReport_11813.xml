<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:26:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11813/HBASE-11813.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11813] CellScanner#advance may overflow stack</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11813</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;On user@hbase, johannes.schaback@visual-meta.com reported:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;we face a serious issue with our HBase production cluster for two days now. Every couple minutes, a random RegionServer gets stuck and does not process any requests. In addition this causes the other RegionServers to freeze within a minute which brings down the entire cluster. Stopping the affected RegionServer unblocks the cluster and everything comes back to normal.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Subsequent troubleshooting reveals that RPC is getting stuck because we are losing RPC handlers. In the .out files we have this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;defaultRpcServer.handler=5,queue=2,port=60020&quot;
java.lang.StackOverflowError
        at org.apache.hadoop.hbase.CellUtil$1.advance(CellUtil.java:210)
        at org.apache.hadoop.hbase.CellUtil$1.advance(CellUtil.java:210)
        at org.apache.hadoop.hbase.CellUtil$1.advance(CellUtil.java:210)
        at org.apache.hadoop.hbase.CellUtil$1.advance(CellUtil.java:210)
[...]
Exception in thread &quot;defaultRpcServer.handler=5,queue=2,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=18,queue=0,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=23,queue=2,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=24,queue=0,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=2,queue=2,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=11,queue=2,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=25,queue=1,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=20,queue=2,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=19,queue=1,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=15,queue=0,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=1,queue=1,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=7,queue=1,port=60020&quot;
java.lang.StackOverflowError
Exception in thread &quot;defaultRpcServer.handler=4,queue=1,port=60020&quot;
java.lang.StackOverflowError&#8203;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That is the anonymous CellScanner instance we create from CellUtil#createCellScanner:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#8203;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CellScanner() {
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Iterator&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; CellScannable&amp;gt; iterator = cellScannerables.iterator();
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; CellScanner cellScanner = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;

      @Override
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Cell current() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cellScanner != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cellScanner.current(): &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      }

      @Override
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; advance() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cellScanner == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.iterator.hasNext()) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cellScanner = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.iterator.next().cellScanner();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cellScanner.advance()) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cellScanner = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
---&amp;gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; advance();
      }
    };
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That final return statement is the immediate problem.&lt;/p&gt;

&lt;p&gt;We should also fix this so the RegionServer aborts if it loses a handler to an Error. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12736274">HBASE-11813</key>
            <summary>CellScanner#advance may overflow stack</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Aug 2014 19:42:59 +0000</created>
                <updated>Sat, 21 Feb 2015 23:34:02 +0000</updated>
                            <resolved>Mon, 25 Aug 2014 21:56:41 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.6</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="14108112" author="apurtell" created="Sat, 23 Aug 2014 19:46:01 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, this came in on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7899&quot; title=&quot;Cell block building tools: Cell codec and means of iterating an objects Cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7899&quot;&gt;&lt;del&gt;HBASE-7899&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14108143" author="schabby" created="Sat, 23 Aug 2014 20:53:30 +0000"  >&lt;p&gt;Great, we are eagerly looking forward to the patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14108190" author="stack" created="Sat, 23 Aug 2014 23:03:20 +0000"  >&lt;p&gt;The code has been in hbase a good while now.  The issue I think is this.cellScanner = this.iterator.next().cellScanner(); where the iterator never finishes.  I cannot repro it locally.  Its some particularly combo of cell count and lists of cellscanners that is triggering it.&lt;/p&gt;</comment>
                            <comment id="14108197" author="apurtell" created="Sat, 23 Aug 2014 23:42:55 +0000"  >&lt;p&gt;Not that a scanner that never returns is better but can we do this without recursion? &lt;/p&gt;</comment>
                            <comment id="14108251" author="tianq" created="Sun, 24 Aug 2014 04:00:47 +0000"  >&lt;p&gt;I&apos;d suspect this one:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /**
   * Flatten the map of cells out under the CellScanner
   * @param map Map of Cell Lists; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; example, the map of families to Cells that is used
   * inside Put, etc., keeping Cells organized by family.
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; CellScanner &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; over &amp;lt;code&amp;gt;cellIterable&amp;lt;/code&amp;gt;
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; CellScanner createCellScanner(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; NavigableMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [],
      List&amp;lt;Cell&amp;gt;&amp;gt; map) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CellScanner() {
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Iterator&amp;lt;Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], List&amp;lt;Cell&amp;gt;&amp;gt;&amp;gt; entries =
          map.entrySet().iterator();
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Iterator&amp;lt;Cell&amp;gt; currentIterator = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Cell currentCell;

      @Override
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Cell current() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentCell;
      }

      @Override
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; advance() {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentIterator == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.entries.hasNext()) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentIterator = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.entries.next().getValue().iterator();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentIterator.hasNext()) {
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentCell = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentIterator.next();
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentCell = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentIterator = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; advance();
      }
    };
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;looks the one Andrew mentioned would not trigger advance method in server side...while the other one is widely used in server side code paths..coprocessor or end point related..&lt;/p&gt;</comment>
                            <comment id="14108289" author="stack" created="Sun, 24 Aug 2014 06:52:38 +0000"  >&lt;p&gt;Patch for 0.98.&lt;/p&gt;

&lt;p&gt;Was able to repro a stackoverflow by making up a CellScannerable made of 10k+ CellScanners.  Hopefully that is the same as what is going on here.&lt;/p&gt;

&lt;p&gt;Undoes recursion and adds tests that do CellScannerables of 100k and a few edge cases.&lt;/p&gt;

&lt;p&gt;Changes names of default handlers go give small clue as to what is running.&lt;/p&gt;

&lt;p&gt;Let me post master patch. Its a little different.&lt;/p&gt;</comment>
                            <comment id="14108294" author="stack" created="Sun, 24 Aug 2014 07:18:08 +0000"  >&lt;p&gt;Rebase&lt;/p&gt;</comment>
                            <comment id="14108296" author="stack" created="Sun, 24 Aug 2014 07:19:24 +0000"  >&lt;p&gt;Master patch.&lt;/p&gt;</comment>
                            <comment id="14108300" author="stack" created="Sun, 24 Aug 2014 07:55:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Schabby&quot; class=&quot;user-hover&quot; rel=&quot;Schabby&quot;&gt;Johannes Schaback&lt;/a&gt; Suggest you enable DEBUG. This patch below should catch the overflow error, dump some detail on the particular invocation, and allow you keep going:&lt;/p&gt;

&lt;p&gt;diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/CallRunner.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/CallRunner.java&lt;br/&gt;
index 31484bb..da2afe0 100644&lt;br/&gt;
&amp;#8212; a/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/CallRunner.java&lt;br/&gt;
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/CallRunner.java&lt;br/&gt;
@@ -136,9 +136,9 @@ public class CallRunner &lt;/p&gt;
{
           &quot;this means that the server was processing a &quot; +
           &quot;request but the client went away. The error message was: &quot; +
           cce.getMessage());
-    }
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
+    }
&lt;p&gt; catch (Throwable e) &lt;/p&gt;
{
       RpcServer.LOG.warn(Thread.currentThread().getName()
-          + &quot;: caught: &quot; + StringUtils.stringifyException(e));
+          + &quot;: caught: &quot; + StringUtils.stringifyException(e) + &quot; call=&quot; + getCall());
     }
&lt;p&gt;   }&lt;/p&gt;

&lt;p&gt;No guarantees! I tried it and works when no problems.&lt;/p&gt;</comment>
                            <comment id="14108303" author="hadoopqa" created="Sun, 24 Aug 2014 08:18:49 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12663910/11813.master.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12663910/11813.master.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12663910&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.http.TestHttpServerLifecycle.testStartedServerWithRequestLog(TestHttpServerLifecycle.java:92)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10550//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14108382" author="tianq" created="Sun, 24 Aug 2014 09:19:47 +0000"  >
&lt;p&gt;oops..it already points to line 210(got fever,brain is not so clear)&lt;br/&gt;
Thanks Stack&lt;/p&gt;</comment>
                            <comment id="14108387" author="schabby" created="Sun, 24 Aug 2014 09:45:47 +0000"  >&lt;p&gt;Sorry for my asking, but where do I get the patch from exactly? git://git.apache.org/hbase.git has the last commits about 15 hours ago.&lt;/p&gt;

&lt;p&gt;Thanks, Johannes&lt;/p&gt;</comment>
                            <comment id="14108391" author="schabby" created="Sun, 24 Aug 2014 10:14:16 +0000"  >&lt;p&gt;Ah, nevermind. I believe I just have to apply the patched attached to this bug ticket.&lt;/p&gt;</comment>
                            <comment id="14108429" author="schabby" created="Sun, 24 Aug 2014 15:16:01 +0000"  >&lt;p&gt;The patch is live in our production cluster for about 2 hours now. So far no RS crash...&lt;/p&gt;</comment>
                            <comment id="14108443" author="apurtell" created="Sun, 24 Aug 2014 16:29:00 +0000"  >&lt;p&gt;Thanks for reporting back &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Schabby&quot; class=&quot;user-hover&quot; rel=&quot;Schabby&quot;&gt;Johannes Schaback&lt;/a&gt;. Please let us know if this is still looking good after a day or so. &lt;/p&gt;</comment>
                            <comment id="14108647" author="hadoopqa" created="Mon, 25 Aug 2014 00:23:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12664068/catch_all_exceptions.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12664068/catch_all_exceptions.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12664068&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10556//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10556//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14108668" author="stack" created="Mon, 25 Aug 2014 01:51:07 +0000"  >&lt;p&gt;Retry patch. Above failure seems unrelated.&lt;/p&gt;

&lt;p&gt;Chatting w/ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Schabby&quot; class=&quot;user-hover&quot; rel=&quot;Schabby&quot;&gt;Johannes Schaback&lt;/a&gt; offline, we may be over the overflow issue and on to new pastures. Corruption? TBD.&lt;/p&gt;</comment>
                            <comment id="14108679" author="hadoopqa" created="Mon, 25 Aug 2014 02:19:31 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12664071/11813.master.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12664071/11813.master.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12664071&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestCellUtil&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10557//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14108755" author="ram_krish" created="Mon, 25 Aug 2014 05:25:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;-1 core tests. The patch failed these unit tests:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;org.apache.hadoop.hbase.TestCellUtil&lt;br/&gt;
Seems the test case is related to the patch.&lt;/p&gt;</comment>
                            <comment id="14109055" author="schabby" created="Mon, 25 Aug 2014 12:22:01 +0000"  >&lt;p&gt;Quick update from me. &lt;/p&gt;

&lt;p&gt;We have Stacks patch running for a day now. The StackOverflowExceptions did not occur again, all RS are operational and the cluster did not hang. We keep our home-compiled HBase running now until the patch makes it to an official release.&lt;/p&gt;

&lt;p&gt;Our client code still queries very large batches at times. Random-access of 100k records in one query is likely for us. Large batches were the original cause of this issue. With the recursion issue resolved, we now observed two non-dramatic cases where the client timed out and a ChannelClosedException was thrown on the server side without killing the RS. Stack and I suspect that a large query is taking to long to process/transmit, but we havent figured out the root cause yet (region is consistent). We will adjust our logging a bit and keep an eye on it. Besides these two cases, nothing happend so far.&lt;/p&gt;

&lt;p&gt;Thank you all for the quick fix and the responsiveness!&lt;/p&gt;</comment>
                            <comment id="14109184" author="stack" created="Mon, 25 Aug 2014 15:09:59 +0000"  >&lt;p&gt;Previous failure was because I attached test only and not the fix by mistake.  Here is fix and test.&lt;/p&gt;</comment>
                            <comment id="14109187" author="hadoopqa" created="Mon, 25 Aug 2014 15:12:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12664156/11813v2.master.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12664156/11813v2.master.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12664156&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;		    &lt;font color=&quot;red&quot;&gt;-1 Anti-pattern&lt;/font&gt;.  The patch appears to have anti-pattern where BYTES_COMPARATOR was omitted:&lt;br/&gt;
             +    NavigableMap&amp;lt;byte [], List&amp;lt;Cell&amp;gt;&amp;gt; m = new TreeMap&amp;lt;byte [], List&amp;lt;Cell&amp;gt;&amp;gt;();.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; COMPILATION ERROR : &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;79,10&amp;#93;&lt;/span&gt; error: TestCellUtil.TestCell is not abstract and does not override abstract method getTagsLength() in Cell&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;186,17&amp;#93;&lt;/span&gt; error: getTagsLength() in TestCellUtil.TestCell cannot implement getTagsLength() in Cell&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   return type short is not compatible with int&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;191,4&amp;#93;&lt;/span&gt; error: method does not override or implement a method from a supertype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:testCompile (default-testCompile) on project hbase-common: Compilation failure: Compilation failure:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;79,10&amp;#93;&lt;/span&gt; error: TestCellUtil.TestCell is not abstract and does not override abstract method getTagsLength() in Cell&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;186,17&amp;#93;&lt;/span&gt; error: getTagsLength() in TestCellUtil.TestCell cannot implement getTagsLength() in Cell&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; return type short is not compatible with int&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;185,4&amp;#93;&lt;/span&gt; error: method does not override or implement a method from a supertype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;191,4&amp;#93;&lt;/span&gt; error: method does not override or implement a method from a supertype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-common&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10565//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10565//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14109309" author="hadoopqa" created="Mon, 25 Aug 2014 16:57:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12664157/11813v3.master.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12664157/11813v3.master.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12664157&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10566//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14109407" author="stack" created="Mon, 25 Aug 2014 18:00:11 +0000"  >&lt;p&gt;Review?&lt;/p&gt;</comment>
                            <comment id="14109410" author="stack" created="Mon, 25 Aug 2014 18:01:27 +0000"  >&lt;p&gt;javadoc is unrelated. I can fix on commit though: &lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALCellCodec.java:96: warning - Tag @link: reference not found: cellCodecClsName&lt;/p&gt;</comment>
                            <comment id="14109796" author="apurtell" created="Mon, 25 Aug 2014 21:45:36 +0000"  >&lt;p&gt;+1 v3 trunk and 0.98 patches. (Reviewed the CellUtil changes, they are identical.)&lt;/p&gt;</comment>
                            <comment id="14109819" author="stack" created="Mon, 25 Aug 2014 21:56:41 +0000"  >&lt;p&gt;Thanks Andrew.&lt;/p&gt;

&lt;p&gt;Committed to 0.98+&lt;/p&gt;</comment>
                            <comment id="14109984" author="hudson" created="Mon, 25 Aug 2014 23:36:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5427 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5427/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5427/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11813&quot; title=&quot;CellScanner#advance may overflow stack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11813&quot;&gt;&lt;del&gt;HBASE-11813&lt;/del&gt;&lt;/a&gt; CellScanner#advance may overflow stack (stack: rev 03687b80bcd2c8f8968a044f4f9b8c865af0fd61)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/CallRunner.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14110030" author="hudson" created="Tue, 26 Aug 2014 00:12:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #470 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/470/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/470/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11813&quot; title=&quot;CellScanner#advance may overflow stack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11813&quot;&gt;&lt;del&gt;HBASE-11813&lt;/del&gt;&lt;/a&gt; CellScanner#advance may overflow stack (stack: rev a432988c8b6eedee72cd6d39e9429584dd82d609)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14110115" author="hudson" created="Tue, 26 Aug 2014 01:19:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #123 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/123/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/123/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11813&quot; title=&quot;CellScanner#advance may overflow stack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11813&quot;&gt;&lt;del&gt;HBASE-11813&lt;/del&gt;&lt;/a&gt; CellScanner#advance may overflow stack (stack: rev 2c5a2e854bed710fe0ff4250a311e35b2a42c771)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/CallRunner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14110120" author="hudson" created="Tue, 26 Aug 2014 01:27:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #443 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/443/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/443/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11813&quot; title=&quot;CellScanner#advance may overflow stack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11813&quot;&gt;&lt;del&gt;HBASE-11813&lt;/del&gt;&lt;/a&gt; CellScanner#advance may overflow stack (stack: rev a432988c8b6eedee72cd6d39e9429584dd82d609)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331166" author="enis" created="Sat, 21 Feb 2015 23:34:02 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12742749">HBASE-12028</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12663909" name="11813.098.txt" size="10586" author="stack" created="Sun, 24 Aug 2014 07:18:08 +0000"/>
                            <attachment id="12663907" name="11813.098.txt" size="10957" author="stack" created="Sun, 24 Aug 2014 06:52:38 +0000"/>
                            <attachment id="12664071" name="11813.master.txt" size="9516" author="stack" created="Mon, 25 Aug 2014 01:51:07 +0000"/>
                            <attachment id="12663910" name="11813.master.txt" size="12257" author="stack" created="Sun, 24 Aug 2014 07:19:24 +0000"/>
                            <attachment id="12664156" name="11813v2.master.txt" size="11887" author="stack" created="Mon, 25 Aug 2014 15:09:59 +0000"/>
                            <attachment id="12664157" name="11813v3.master.txt" size="12257" author="stack" created="Mon, 25 Aug 2014 15:17:54 +0000"/>
                            <attachment id="12664068" name="catch_all_exceptions.txt" size="832" author="stack" created="Mon, 25 Aug 2014 00:13:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Aug 2014 20:53:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z9lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>