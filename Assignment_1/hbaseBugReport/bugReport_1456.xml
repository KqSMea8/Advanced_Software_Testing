<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:53:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1456/HBASE-1456.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1456] Backport thrift 0.1.0 changes to branch 0.19</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1456</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Since so much in thrift has changed between the ancient version used in this branch and thrift 0.1.0, it will be useful to have a backport patch of all the changes so far.&lt;br/&gt;
There are some api tweaks. Like, gets returning lists, and just being empty when nothing was found instead of throwing NotFound.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426629">HBASE-1456</key>
            <summary>Backport thrift 0.1.0 changes to branch 0.19</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tim_s">Tim Sell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 May 2009 21:06:49 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:29 +0000</updated>
                            <resolved>Tue, 19 Jan 2010 03:53:58 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                    <component>Thrift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12714177" author="tim_s" created="Thu, 28 May 2009 21:11:06 +0000"  >&lt;p&gt;I made this from 0.19.2.&lt;/p&gt;

&lt;p&gt;For some reason the changed unit test (from trunk) wont pass &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; even if I comment out the body of testAll(), which tells me it&apos;s something to do HBaseClusterTestCase?&lt;br/&gt;
Incidentally, the TestThriftServer unit test fails on 0.19.2 without applying this patch.&lt;/p&gt;

&lt;p&gt;attaching a libthrift.jar file next.&lt;/p&gt;</comment>
                            <comment id="12714179" author="tim_s" created="Thu, 28 May 2009 21:13:18 +0000"  >&lt;p&gt;This libthrift.jar is from 0.1.0 RC1&lt;br/&gt;
I built it using java 1.6 though.&lt;/p&gt;</comment>
                            <comment id="12714529" author="lenards" created="Fri, 29 May 2009 17:41:23 +0000"  >&lt;p&gt;I applied the patch file on 0.19.2 and replaced libthrift-20080411p1.jar in &lt;/p&gt;
{hbase-0.19.2}
&lt;p&gt;/lib with libthrift.jar &lt;/p&gt;

&lt;p&gt;I&apos;m now getting the following NoClassDefFoundError when attempting to start the thrift server: &lt;/p&gt;

&lt;p&gt;$ bin/hbase thrift start &lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/facebook/thrift/protocol/TProtocolFactory&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: com.facebook.thrift.protocol.TProtocolFactory&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:252)&lt;br/&gt;
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320)&lt;br/&gt;
Could not find the main class: org.apache.hadoop.hbase.thrift.ThriftServer.  Program will exit.&lt;/p&gt;
</comment>
                            <comment id="12714549" author="stack" created="Fri, 29 May 2009 18:52:22 +0000"  >&lt;p&gt;Andrew:  Did you remove the old thrift lib?  Did you build after applying Tim&apos;s patch?  Did you rebuild your client?&lt;/p&gt;

&lt;p&gt;Tim, on commit, I should name the jar libthrift-0.1RC1.jar?  Is it same as the libthrift in TRUNIK?&lt;/p&gt;</comment>
                            <comment id="12714597" author="lenards" created="Fri, 29 May 2009 20:59:31 +0000"  >&lt;p&gt;I had forgotten to rebuild the hbase code after replacing the old thrift jar.  I did re-gen the thrift shim code, and redeploy that to my client (which was the updated DemoClient.py from this patch).  &lt;/p&gt;

&lt;p&gt;I would like to gleefully report that the thrift server start and that my client works! &lt;/p&gt;

&lt;p&gt;My abject apologies for the rebuild oversight. &lt;/p&gt;

&lt;p&gt;Thanks for the patch Tim - good on ya!&lt;/p&gt;

&lt;p&gt;Andrew&lt;/p&gt;</comment>
                            <comment id="12714639" author="tim_s" created="Sat, 30 May 2009 00:35:02 +0000"  >&lt;p&gt;Hmmm, jira seems to be down. So I&apos;m resorting to email.&lt;br/&gt;
I wget&apos;d the thrift code from their site and compiled it myself. Using the&lt;br/&gt;
jar that&apos;s in trunk probably makes more sense. Also I used java 1.6, I can&apos;t&lt;br/&gt;
remember, do we require that for the 0.19 anyway?&lt;br/&gt;
Naming it libthrift-0.1RC1.jar might be better then just libthrift (I don&apos;t&lt;br/&gt;
think the one in trunk is RC1 though?), that&apos;s just how it came out of the&lt;br/&gt;
thrift build process.&lt;/p&gt;

&lt;p&gt;~Tim.&lt;/p&gt;

&lt;p&gt;2009/5/29 stack (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12714763" author="stack" created="Sat, 30 May 2009 20:29:18 +0000"  >&lt;p&gt;So, I tried the patch.  Before application TestThriftServer works, after it doesn&apos;t (Everything else passes). I looked at the patch.  Nothing in there would seem to justify the failure type &amp;#8211; null pointer exception in the getting of master address in test harness.&lt;/p&gt;

&lt;p&gt;I&apos;d say, we just let the patch hang here and not apply it for now. Its not priority.  Its a nice-to-have done up by the mighty tim sell.  We can point thriftheads here if they are struggling.&lt;/p&gt;</comment>
                            <comment id="12802070" author="lars_francke" created="Tue, 19 Jan 2010 03:31:56 +0000"  >&lt;p&gt;What should we do with this?&lt;/p&gt;

&lt;p&gt;I probably won&apos;t take any time to work on the old Thrift API and as there doesn&apos;t seem any special need for something I propose we close this ticket as won&apos;t fix. New API will be supported by the new thrift contrib (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12802075" author="stack" created="Tue, 19 Jan 2010 03:53:58 +0000"  >&lt;p&gt;Overridden by thrift 0.2 revamp over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15017814" author="lars_francke" created="Fri, 20 Nov 2015 13:01:29 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12409304" name="HBASE-1456-v0.19.2.patch" size="869717" author="tim_s" created="Thu, 28 May 2009 21:11:06 +0000"/>
                            <attachment id="12409305" name="libthrift.jar" size="169621" author="tim_s" created="Thu, 28 May 2009 21:13:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 May 2009 17:41:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hdd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>