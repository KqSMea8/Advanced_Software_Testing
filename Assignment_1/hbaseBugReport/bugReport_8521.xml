<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:56:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8521/HBASE-8521.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8521] Cells cannot be overwritten with bulk loaded HFiles</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8521</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Let&apos;s say you have a pre-built HFile that contains a cell:&lt;/p&gt;

&lt;p&gt;(&apos;rowkey1&apos;, &apos;family1&apos;, &apos;qual1&apos;, 1234L, &apos;value1&apos;)&lt;/p&gt;

&lt;p&gt;We bulk load this first HFile. Now, let&apos;s create a second HFile that contains a cell that overwrites the first:&lt;/p&gt;

&lt;p&gt;(&apos;rowkey1&apos;, &apos;family1&apos;, &apos;qual1&apos;, 1234L, &apos;value2&apos;)&lt;/p&gt;

&lt;p&gt;That gets bulk loaded into the table, but the value that HBase bubbles up is still &apos;value1&apos;.&lt;/p&gt;

&lt;p&gt;It seems that there&apos;s no way to overwrite a cell for a particular timestamp without an explicit put operation. This seems to be the case even after minor and major compactions happen.&lt;/p&gt;

&lt;p&gt;My guess is that this is pretty closely related to the sequence number work being done on the compaction algorithm via &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7842&quot; title=&quot;Add compaction policy that explores more storefile groups&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7842&quot;&gt;&lt;del&gt;HBASE-7842&lt;/del&gt;&lt;/a&gt;, but I&apos;m not sure if one of would fix the other.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646931">HBASE-8521</key>
            <summary>Cells cannot be overwritten with bulk loaded HFiles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmspaggi">Jean-Marc Spaggiari</assignee>
                                    <reporter username="natty">Jonathan Natkins</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 May 2013 00:46:04 +0000</created>
                <updated>Mon, 20 Jan 2014 15:05:13 +0000</updated>
                            <resolved>Wed, 2 Oct 2013 19:06:41 +0000</resolved>
                                    <version>0.92.1</version>
                                    <fixVersion>0.94.13</fixVersion>
                                        <due></due>
                            <votes>5</votes>
                                    <watches>20</watches>
                                                                <comments>
                            <comment id="13653481" author="yuzhihong@gmail.com" created="Fri, 10 May 2013 02:00:11 +0000"  >&lt;p&gt;@Jonathan:&lt;br/&gt;
Are you able to write a unit test exhibiting this behavior ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13653519" author="natty" created="Fri, 10 May 2013 04:02:47 +0000"  >&lt;p&gt;@Ted:&lt;br/&gt;
Seemingly, I can&apos;t. It seems the mini cluster that HBaseTestingUtility creates has a different behavior than an actual cluster. What I will do, however, is upload a diff of the test that I wrote to show the behavior that I tried to create, and then I&apos;ll also attach the files necessary to recreate on a real cluster.&lt;/p&gt;</comment>
                            <comment id="13653522" author="eclark" created="Fri, 10 May 2013 04:10:34 +0000"  >&lt;p&gt;@Ted he opened this because of me.  It&apos;s a pretty tough thing to repro.&lt;/p&gt;

&lt;p&gt;Bulk load files (on trunk) are sorted by &lt;a href=&quot;#Comparator&quot;&gt;see StoreFile#Comparator&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;SeqID&lt;br/&gt;
Size (reversed)&lt;br/&gt;
TimeStamp&lt;br/&gt;
filename&lt;/p&gt;


&lt;p&gt;So bulkoad files that are larger than the bulkloaded files that come before them can overwrite key values with the same timestamp.  We should adopt what 0.89-fb does.  Assign seqid to bulk loaded files at bulk load time, by renaming the files.&lt;/p&gt;

&lt;p&gt;This should mean that bulk load files are treated in much the same way as flushed/compacted files.&lt;/p&gt;</comment>
                            <comment id="13653524" author="natty" created="Fri, 10 May 2013 04:13:50 +0000"  >&lt;p&gt;There are two directories in this tarball: familyDir1, and familyDir2. Each contains a single HFile, and each of them has one cell of data in them.&lt;/p&gt;

&lt;p&gt;The table was created as:&lt;br/&gt;
create &apos;test&apos;, &lt;/p&gt;
{NAME =&amp;gt; &apos;myfam&apos;, VERSIONS =&amp;gt; 100000, TTL =&amp;gt; 1000000000}

&lt;p&gt;In familyDir1, the HFile&apos;s cell contains the value &quot;oldVal&quot; for myfam:myqual.&lt;/p&gt;

&lt;p&gt;In familyDir2, the HFile&apos;s cell contains the value &quot;newVal&quot; for myfam:myqual.&lt;/p&gt;</comment>
                            <comment id="13653527" author="natty" created="Fri, 10 May 2013 04:19:28 +0000"  >&lt;p&gt;Basically, my process for reproducing is this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hadoop fs -put familyDir1 familyDir1
hadoop fs -put familyDir2 familyDir2

create &apos;test&apos;, {NAME =&amp;gt; &apos;myfam&apos;, VERSIONS =&amp;gt; 100000, TTL =&amp;gt; 1000000000}

hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles hdfs://localhost:8020/user/natty/familyDir1 test
hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles hdfs://localhost:8020/user/natty/familyDir2 test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result after this set of operations is:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1.9.2p320 :001 &amp;gt; scan &apos;test&apos;
ROW                                           COLUMN+CELL                                                                                                                          
 aaaa                                         column=myfam:myqual, timestamp=1368157470713, value=oldVal                                                                           
1 row(s) in 0.6260 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I only load familyDir2, the output is this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1.9.2p320 :001 &amp;gt; scan &apos;test&apos;
ROW                                           COLUMN+CELL                                                                                                                          
 aaaa                                         column=myfam:myqual, timestamp=1368157470713, value=newVal                                                                           
1 row(s) in 0.5930 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13653528" author="natty" created="Fri, 10 May 2013 04:23:28 +0000"  >&lt;p&gt;Here&apos;s a diff of the test I wrote. You&apos;ll have to forgive the quick-and-dirtiness of it, but it gets the point across. This test passes, despite the real cluster failing the same functional test.&lt;/p&gt;

&lt;p&gt;Also, with full disclosure, this diff was made against 0.92.1 included in CDH4.1.4, so if it doesn&apos;t nicely line up with Apache source, I&apos;ll go and diff it against the real source code.&lt;/p&gt;</comment>
                            <comment id="13653532" author="yuzhihong@gmail.com" created="Fri, 10 May 2013 04:26:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;We should adopt what 0.89-fb does. Assign seqid to bulk loaded files at bulk load time, by renaming the files.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;@Jonathan:&lt;br/&gt;
Thanks for outlining the procedure for reproducing the issue.&lt;/p&gt;</comment>
                            <comment id="13657305" author="jeffkole" created="Tue, 14 May 2013 18:06:25 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6630&quot; title=&quot;Port HBASE-6590 to trunk : Assign sequence number to bulk loaded files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6630&quot;&gt;&lt;del&gt;HBASE-6630&lt;/del&gt;&lt;/a&gt;, 0.89-fb&apos;s fix was ported to 0.95.  Any chance it is reasonable to backport to 0.92 or 0.94?&lt;/p&gt;</comment>
                            <comment id="13657313" author="yuzhihong@gmail.com" created="Tue, 14 May 2013 18:11:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;:&lt;br/&gt;
What&apos;s your opinion on the backport ?&lt;/p&gt;</comment>
                            <comment id="13657843" author="lhofhansl" created="Wed, 15 May 2013 03:20:33 +0000"  >&lt;p&gt;The patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6630&quot; title=&quot;Port HBASE-6590 to trunk : Assign sequence number to bulk loaded files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6630&quot;&gt;&lt;del&gt;HBASE-6630&lt;/del&gt;&lt;/a&gt; is easy enough to understand (and small too when disregarding the protobuf boilerplate).&lt;/p&gt;</comment>
                            <comment id="13658076" author="lhofhansl" created="Wed, 15 May 2013 05:29:00 +0000"  >&lt;p&gt;+0 from me (seems like a rare use case to me).&lt;/p&gt;

&lt;p&gt;It seems like Jeff and Jonathan need that, so let&apos;s get it in.&lt;/p&gt;</comment>
                            <comment id="13658512" author="yuzhihong@gmail.com" created="Wed, 15 May 2013 16:30:22 +0000"  >&lt;p&gt;Looks like the following new method needs to be added to HRegionInterface (note the 3rd parameter):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; bulkLoadHFiles(List&amp;lt;Pair&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt; familyPaths, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] regionName, assignSeqIds)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This means that if some region servers use 0.94.7 jars, the call in LoadIncrementalHFiles utilizing the new method would fail.&lt;/p&gt;

&lt;p&gt;Fallback to existing, two argument, method can be used in above scenario.&lt;/p&gt;

&lt;p&gt;I want to other people&apos;s opinion on the compatibility issue.&lt;/p&gt;</comment>
                            <comment id="13659445" author="jmspaggi" created="Thu, 16 May 2013 11:34:20 +0000"  >&lt;p&gt;FYI, I have backported &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6630&quot; title=&quot;Port HBASE-6590 to trunk : Assign sequence number to bulk loaded files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6630&quot;&gt;&lt;del&gt;HBASE-6630&lt;/del&gt;&lt;/a&gt; to 0.94 and used also some of 0.89fb diff too.&lt;/p&gt;

&lt;p&gt;I will run some tests locally with the data attached to this defect and try to reproduce what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=natty&quot; class=&quot;user-hover&quot; rel=&quot;natty&quot;&gt;Jonathan Natkins&lt;/a&gt; get.&lt;/p&gt;</comment>
                            <comment id="13659469" author="jmspaggi" created="Thu, 16 May 2013 12:16:46 +0000"  >&lt;p&gt;So. First try attached.&lt;/p&gt;

&lt;p&gt;Passed all the tests successfuly. (3 tests failed because of compilation issues not related to this patch. Servlets, etc.)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; create &apos;test&apos;, {NAME =&amp;gt; &apos;myfam&apos;, VERSIONS =&amp;gt; 100000, TTL =&amp;gt; 1000000000}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles familyDir1 test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=oldVal                                                                                                   
1 row(s) in 0.4190 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles familyDir2 test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=newVal                                                                                                   
1 row(s) in 0.4330 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So as said above, there is come incompatibility between he version.&lt;/p&gt;

&lt;p&gt;One thing that I can change is to not pass the parameter if it&apos;s false so new clients can still call old servers.&lt;/p&gt;

&lt;p&gt;Open to comments.&lt;/p&gt;</comment>
                            <comment id="13659486" author="jmspaggi" created="Thu, 16 May 2013 12:48:42 +0000"  >&lt;p&gt;Small update.&lt;/p&gt;

&lt;p&gt;I have defaulted the assignSeqIds to false in LoadIncrementalHFiles so if no additionnal parameter is used, it will behave the same way as before.&lt;/p&gt;

&lt;p&gt;Also, if assignSeqIds is false, I&apos;m using the previous existing method signatures in the serverCallable to make sure new client -&amp;gt; old server is still compatible.&lt;/p&gt;

&lt;p&gt;If someone specificaly turn assignSeqIds to true, then they are most probably aware of this new feature and will most probably also know that they need to upgrade the server side too.&lt;/p&gt;

&lt;p&gt;What I can add is a message in the console when this is turned to true to informe that this is working only with a server &amp;gt;= 0.94.8.&lt;/p&gt;

&lt;p&gt;Again, here are the tests results of this change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests in error: 
  testBasic(org.apache.hadoop.hbase.regionserver.TestRSStatusServlet): Unresolved compilation problems: (..)
  testWithRegions(org.apache.hadoop.hbase.regionserver.TestRSStatusServlet): Unresolved compilation problems: (..)
  testGetEmpty(org.apache.hadoop.hbase.avro.TestAvroUtil): Unresolved compilation problems: (..)

Tests run: 682, Failures: 0, Errors: 3, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I have compilation errors in my repository for thos 2 classes, not related to the changes I made.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bin/hbase -Dhbase.mapreduce.bulkload.assign.sequenceNumbers=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles familyDir1 test

hbase(main):001:0&amp;gt; scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=oldVal                                                                                                   
1 row(s) in 0.3860 seconds


bin/hbase -Dhbase.mapreduce.bulkload.assign.sequenceNumbers=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles familyDir2 test


hbase(main):001:0&amp;gt; scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=newVal                                                                                                   
1 row(s) in 0.3800 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;And without the parameter...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;create &apos;test&apos;, {NAME =&amp;gt; &apos;myfam&apos;, VERSIONS =&amp;gt; 100000, TTL =&amp;gt; 1000000000}&quot;&lt;/span&gt; | bin/hbase shell

bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles familyDir1 test
bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles familyDir2 test

echo &lt;span class=&quot;code-quote&quot;&gt;&quot;scan &apos;test&apos;&quot;&lt;/span&gt; | bin/hbase shell
HBase Shell; enter &apos;help&amp;lt;RETURN&amp;gt;&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; list of supported commands.
Type &lt;span class=&quot;code-quote&quot;&gt;&quot;exit&amp;lt;RETURN&amp;gt;&quot;&lt;/span&gt; to leave the HBase Shell
Version 0.94.8-SNAPSHOT, r, Thu May 16 08:43:22 EDT 2013

scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=oldVal  
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13659818" author="jmspaggi" created="Thu, 16 May 2013 18:44:09 +0000"  >&lt;p&gt;I just tried with a new client including this fix to bulkload to an existing cluster running 0.94.7 using the usecase Jonathan had provide above.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles hdfs:&lt;span class=&quot;code-comment&quot;&gt;//node3:9000/user/hbase/familyDir1 test
&lt;/span&gt;
 echo &lt;span class=&quot;code-quote&quot;&gt;&quot;scan &apos;test&apos;&quot;&lt;/span&gt; | bin/hbase shell
HBase Shell; enter &apos;help&amp;lt;RETURN&amp;gt;&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; list of supported commands.
Type &lt;span class=&quot;code-quote&quot;&gt;&quot;exit&amp;lt;RETURN&amp;gt;&quot;&lt;/span&gt; to leave the HBase Shell
Version 0.94.8-SNAPSHOT, r, Thu May 16 08:43:22 EDT 2013

scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=oldVal                                                                                                   
1 row(s) in 0.7900 seconds

bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles hdfs:&lt;span class=&quot;code-comment&quot;&gt;//node3:9000/user/hbase/familyDir2 test
&lt;/span&gt;
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;scan &apos;test&apos;&quot;&lt;/span&gt; | bin/hbase shell
HBase Shell; enter &apos;help&amp;lt;RETURN&amp;gt;&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; list of supported commands.
Type &lt;span class=&quot;code-quote&quot;&gt;&quot;exit&amp;lt;RETURN&amp;gt;&quot;&lt;/span&gt; to leave the HBase Shell
Version 0.94.8-SNAPSHOT, r, Thu May 16 08:43:22 EDT 2013

scan &apos;test&apos;
ROW                                                   COLUMN+CELL                                                                                                                                                  
 aaaa                                                 column=myfam:myqual, timestamp=1368157470713, value=oldVal                                                                                                   
1 row(s) in 0.6810 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Things are consistent and working as before, not any error is displayed.&lt;/p&gt;

&lt;p&gt;Full log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
bin/hbase org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles hdfs:&lt;span class=&quot;code-comment&quot;&gt;//node3:9000/user/hbase/familyDir2 test
&lt;/span&gt;13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.4.5-1392090, built on 09/30/2012 17:52 GMT
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:host.name=cloudera.distparser.com
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.version=1.6.0_45
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.vendor=Sun Microsystems Inc.
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.home=/usr/local/jdk1.6.0_45/jre
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.class.path=/home/jmspaggiari/workspace/hbase-0.94.8-SNAPSHOT/bin/../conf:/usr/local/jdk1.6.0_45&lt;span class=&quot;code-comment&quot;&gt;//lib/tools.jar:/home/jmspaggiari/.m2/repository/asm/asm/3.1/asm-3.1.jar:/home/jmspaggiari/.m2/repository/com/github/stephenc/high-scale-lib/high-scale-lib/1.1.1/high-scale-lib-1.1.1.jar:/home/jmspaggiari/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar:/home/jmspaggiari/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar:/home/jmspaggiari/.m2/repository/com/google/protobuf/protobuf-java/2.4.0a/protobuf-java-2.4.0a.jar:/home/jmspaggiari/.m2/repository/com/sun/jersey/jersey-core/1.8/jersey-core-1.8.jar:/home/jmspaggiari/.m2/repository/com/sun/jersey/jersey-json/1.8/jersey-json-1.8.jar:/home/jmspaggiari/.m2/repository/com/sun/jersey/jersey-server/1.8/jersey-server-1.8.jar:/home/jmspaggiari/.m2/repository/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-impl-2.2.3-1.jar:/home/jmspaggiari/.m2/repository/com/yammer/metrics/metrics-core/2.1.2/metrics-core-2.1.2.jar:/home/jmspaggiari/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar:/home/jmspaggiari/.m2/repository/commons-beanutils/commons-beanutils-core/1.8.0/commons-beanutils-core-1.8.0.jar:/home/jmspaggiari/.m2/repository/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/home/jmspaggiari/.m2/repository/commons-codec/commons-codec/1.4/commons-codec-1.4.jar:/home/jmspaggiari/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar:/home/jmspaggiari/.m2/repository/commons-configuration/commons-configuration/1.6/commons-configuration-1.6.jar:/home/jmspaggiari/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar:/home/jmspaggiari/.m2/repository/commons-el/commons-el/1.0/commons-el-1.0.jar:/home/jmspaggiari/.m2/repository/commons-httpclient/commons-httpclient/3.1/commons-httpclient-3.1.jar:/home/jmspaggiari/.m2/repository/commons-io/commons-io/2.1/commons-io-2.1.jar:/home/jmspaggiari/.m2/repository/commons-lang/commons-lang/2.5/commons-lang-2.5.jar:/home/jmspaggiari/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar:/home/jmspaggiari/.m2/repository/commons-net/commons-net/1.4.1/commons-net-1.4.1.jar:/home/jmspaggiari/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar:/home/jmspaggiari/.m2/repository/javax/xml/bind/jaxb-api/2.1/jaxb-api-2.1.jar:/home/jmspaggiari/.m2/repository/junit/junit/4.10-HBASE-1/junit-4.10-HBASE-1.jar:/home/jmspaggiari/.m2/repository/log4j/log4j/1.2.16/log4j-1.2.16.jar:/home/jmspaggiari/.m2/repository/org/apache/avro/avro/1.5.3/avro-1.5.3.jar:/home/jmspaggiari/.m2/repository/org/apache/avro/avro-ipc/1.5.3/avro-ipc-1.5.3.jar:/home/jmspaggiari/.m2/repository/org/apache/commons/commons-math/2.1/commons-math-2.1.jar:/home/jmspaggiari/.m2/repository/org/apache/ftpserver/ftplet-api/1.0.0/ftplet-api-1.0.0.jar:/home/jmspaggiari/.m2/repository/org/apache/ftpserver/ftpserver-core/1.0.0/ftpserver-core-1.0.0.jar:/home/jmspaggiari/.m2/repository/org/apache/ftpserver/ftpserver-deprecated/1.0.0-M2/ftpserver-deprecated-1.0.0-M2.jar:/home/jmspaggiari/.m2/repository/org/apache/hadoop/hadoop-core/1.0.4/hadoop-core-1.0.4.jar:/home/jmspaggiari/.m2/repository/org/apache/hadoop/hadoop-test/1.0.4/hadoop-test-1.0.4.jar:/home/jmspaggiari/.m2/repository/org/apache/httpcomponents/httpclient/4.1.2/httpclient-4.1.2.jar:/home/jmspaggiari/.m2/repository/org/apache/httpcomponents/httpcore/4.1.3/httpcore-4.1.3.jar:/home/jmspaggiari/.m2/repository/org/apache/mina/mina-core/2.0.0-M5/mina-core-2.0.0-M5.jar:/home/jmspaggiari/.m2/repository/org/apache/thrift/libthrift/0.8.0/libthrift-0.8.0.jar:/home/jmspaggiari/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar:/home/jmspaggiari/.m2/repository/org/apache/zookeeper/zookeeper/3.4.5/zookeeper-3.4.5.jar:/home/jmspaggiari/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.8.8/jackson-core-asl-1.8.8.jar:/home/jmspaggiari/.m2/repository/org/codehaus/jackson/jackson-jaxrs/1.8.8/jackson-jaxrs-1.8.8.jar:/home/jmspaggiari/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.8.8/jackson-mapper-asl-1.8.8.jar:/home/jmspaggiari/.m2/repository/org/codehaus/jackson/jackson-xc/1.8.8/jackson-xc-1.8.8.jar:/home/jmspaggiari/.m2/repository/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar:/home/jmspaggiari/.m2/repository/org/eclipse/jdt/core/3.1.1/core-3.1.1.jar:/home/jmspaggiari/.m2/repository/org/jamon/jamon-runtime/2.3.1/jamon-runtime-2.3.1.jar:/home/jmspaggiari/.m2/repository/org/jboss/netty/netty/3.2.4.Final/netty-3.2.4.Final.jar:/home/jmspaggiari/.m2/repository/org/jruby/jruby-complete/1.6.5/jruby-complete-1.6.5.jar:/home/jmspaggiari/.m2/repository/org/mockito/mockito-all/1.8.5/mockito-all-1.8.5.jar:/home/jmspaggiari/.m2/repository/org/mortbay/jetty/jetty/6.1.26/jetty-6.1.26.jar:/home/jmspaggiari/.m2/repository/org/mortbay/jetty/jetty-util/6.1.26/jetty-util-6.1.26.jar:/home/jmspaggiari/.m2/repository/org/mortbay/jetty/jsp-2.1/6.1.14/jsp-2.1-6.1.14.jar:/home/jmspaggiari/.m2/repository/org/mortbay/jetty/jsp-api-2.1/6.1.14/jsp-api-2.1-6.1.14.jar:/home/jmspaggiari/.m2/repository/org/mortbay/jetty/servlet-api-2.5/6.1.14/servlet-api-2.5-6.1.14.jar:/home/jmspaggiari/.m2/repository/org/slf4j/slf4j-api/1.4.3/slf4j-api-1.4.3.jar:/home/jmspaggiari/.m2/repository/org/slf4j/slf4j-log4j12/1.4.3/slf4j-log4j12-1.4.3.jar:/home/jmspaggiari/.m2/repository/org/xerial/snappy/snappy-java/1.0.3.2/snappy-java-1.0.3.2.jar:/home/jmspaggiari/.m2/repository/stax/stax-api/1.0.1/stax-api-1.0.1.jar:/home/jmspaggiari/.m2/repository/tomcat/jasper-compiler/5.5.23/jasper-compiler-5.5.23.jar:/home/jmspaggiari/.m2/repository/tomcat/jasper-runtime/5.5.23/jasper-runtime-5.5.23.jar:/home/jmspaggiari/.m2/repository/xmlenc/xmlenc/0.52/xmlenc-0.52.jar:/home/jmspaggiari/workspace/hbase-0.94.8-SNAPSHOT/bin/../target/classes:/home/jmspaggiari/workspace/hbase-0.94.8-SNAPSHOT/bin/../target/test-classes:/home/jmspaggiari/workspace/hbase-0.94.8-SNAPSHOT/bin/../target:/home/jmspaggiari/workspace/hbase-0.94.8-SNAPSHOT/bin/../lib/*.jar:
&lt;/span&gt;13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.library.path=/usr/local/jdk1.6.0_45/jre/lib/amd64/server:/usr/local/jdk1.6.0_45/jre/lib/amd64:/usr/local/jdk1.6.0_45/jre/../lib/amd64:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/tmp
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:java.compiler=&amp;lt;NA&amp;gt;
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:os.name=Linux
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:os.version=3.2.0-4-amd64
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:user.name=jmspaggiari
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:user.home=/home/jmspaggiari
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Client environment:user.dir=/home/jmspaggiari/workspace/hbase-0.94.8-SNAPSHOT
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=latitude:2181,cube:2181,node3:2181 sessionTimeout=180000 watcher=hconnection
13/05/16 14:38:15 INFO zookeeper.RecoverableZooKeeper: The identifier of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; process is 16902@cloudera
13/05/16 14:38:15 INFO zookeeper.ClientCnxn: Opening socket connection to server latitude/192.168.23.4:2181. Will not attempt to authenticate using SASL (Unable to locate a login configuration)
13/05/16 14:38:15 INFO zookeeper.ClientCnxn: Socket connection established to latitude/192.168.23.4:2181, initiating session
13/05/16 14:38:15 INFO zookeeper.ClientCnxn: Session establishment complete on server latitude/192.168.23.4:2181, sessionid = 0x23eadc5ddeb008f, negotiated timeout = 40000
13/05/16 14:38:15 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=latitude:2181,cube:2181,node3:2181 sessionTimeout=180000 watcher=catalogtracker-on-org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@79ee2c2c
13/05/16 14:38:15 INFO zookeeper.RecoverableZooKeeper: The identifier of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; process is 16902@cloudera
13/05/16 14:38:15 INFO zookeeper.ClientCnxn: Opening socket connection to server latitude/192.168.23.4:2181. Will not attempt to authenticate using SASL (Unable to locate a login configuration)
13/05/16 14:38:15 DEBUG catalog.CatalogTracker: Starting catalog tracker org.apache.hadoop.hbase.catalog.CatalogTracker@77ff92f5
13/05/16 14:38:15 INFO zookeeper.ClientCnxn: Socket connection established to latitude/192.168.23.4:2181, initiating session
13/05/16 14:38:16 INFO zookeeper.ClientCnxn: Session establishment complete on server latitude/192.168.23.4:2181, sessionid = 0x23eadc5ddeb0090, negotiated timeout = 40000
13/05/16 14:38:16 DEBUG client.HConnectionManager$HConnectionImplementation: Looked up root region location, connection=org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@79ee2c2c; serverName=node5,60020,1368669066647
13/05/16 14:38:16 DEBUG client.HConnectionManager$HConnectionImplementation: Cached location &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; .META.,,1.1028785192 is node6:60020
13/05/16 14:38:16 DEBUG client.ClientScanner: Creating scanner over .META. starting at key &apos;test,,&apos;
13/05/16 14:38:16 DEBUG client.ClientScanner: Advancing internal scanner to startKey at &apos;test,,&apos;
13/05/16 14:38:16 DEBUG catalog.CatalogTracker: Stopping catalog tracker org.apache.hadoop.hbase.catalog.CatalogTracker@77ff92f5
13/05/16 14:38:16 INFO zookeeper.ZooKeeper: Session: 0x23eadc5ddeb0090 closed
13/05/16 14:38:16 INFO zookeeper.ClientCnxn: EventThread shut down
13/05/16 14:38:16 DEBUG client.MetaScanner: Scanning .META. starting at row=test,,00000000000000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; max=10 rows using org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@79ee2c2c
13/05/16 14:38:16 DEBUG client.HConnectionManager$HConnectionImplementation: Cached location &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test,,1368729286037.32038a4d760aa9303643e2985dcd29a5. is node2:60020
13/05/16 14:38:16 DEBUG client.MetaScanner: Scanning .META. starting at row= &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; max=2147483647 rows using org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@79ee2c2c
13/05/16 14:38:17 DEBUG client.MetaScanner: Scanning .META. starting at row=test,,00000000000000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; max=2147483647 rows using org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@79ee2c2c
13/05/16 14:38:17 INFO hfile.CacheConfig: Allocating LruBlockCache with maximum size 246.9m
13/05/16 14:38:17 INFO util.ChecksumType: Checksum can use java.util.zip.CRC32
13/05/16 14:38:17 INFO mapreduce.LoadIncrementalHFiles: Trying to load hfile=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//node3:9000/user/hbase/familyDir2/myfam/hfile_1 first=aaaa last=aaaa
&lt;/span&gt;13/05/16 14:38:18 DEBUG mapreduce.LoadIncrementalHFiles: Going to connect to server region=test,,1368729286037.32038a4d760aa9303643e2985dcd29a5., hostname=node2, port=60020 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13681645" author="jmspaggi" created="Wed, 12 Jun 2013 21:15:06 +0000"  >&lt;p&gt;Any chance to have someone looking at this one?&lt;/p&gt;</comment>
                            <comment id="13687288" author="sershe" created="Tue, 18 Jun 2013 22:21:21 +0000"  >&lt;p&gt;patch looks reasonable esp. given it&apos;s a backport.&lt;br/&gt;
It has long lines.&lt;br/&gt;
These ifs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (assignSeqIds) {
+              success = secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken, assignSeqIds);
+            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+              success = secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken);
+            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;seem excessive, just the first call is enough, right?&lt;/p&gt;</comment>
                            <comment id="13688027" author="jmspaggi" created="Wed, 19 Jun 2013 14:17:40 +0000"  >&lt;p&gt;secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken) calls secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken, false) so if assignSeqIds is false, secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken) and secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken, assignSeqIds) are going to be the same call, therefore the if is not required.&lt;/p&gt;

&lt;p&gt;Same for &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (assignSeqIds) {
              success = secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken, assignSeqIds);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
              success = secureClient.bulkLoadHFiles(famPaths, userToken, bulkToken);
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will change that and re-base the patch since it&apos;s not working anymore with current 0.94 branch...&lt;/p&gt;

&lt;p&gt;Thanks for looking at it.&lt;/p&gt;</comment>
                            <comment id="13740911" author="jmspaggi" created="Thu, 15 Aug 2013 12:12:52 +0000"  >&lt;p&gt;Rebased patch attached. Some modifications required because minSeqId got removed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7210&quot; title=&quot;Backport HBASE-6059 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7210&quot;&gt;&lt;del&gt;HBASE-7210&lt;/del&gt;&lt;/a&gt;. Also applied Ted&apos;s comment. I&apos;m not testing with the data attached to this ticket.&lt;/p&gt;</comment>
                            <comment id="13741540" author="jdcryans" created="Thu, 15 Aug 2013 21:55:15 +0000"  >&lt;p&gt;This jira will need a title that accurately describes what&apos;s being done here.&lt;/p&gt;

&lt;p&gt;On the patch:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;There are 11 &quot;== Durability.USE_DEFAULT&quot;, can we just have a method somewhere (like in Mutation) that does it and is named &quot;isDefaultDurability&quot;?&lt;/li&gt;
	&lt;li&gt;LoadIncrementalHFiles.assignSeqIds should be final.&lt;/li&gt;
	&lt;li&gt;Since bulk loaded files can have sequence ids, we should print it out. StoreFile.toStringDetailed is a candidate for that change, there might be more&lt;/li&gt;
	&lt;li&gt;What&apos;s up with the commented out code in HRegion?&lt;/li&gt;
	&lt;li&gt;Is it passing all the unit tests? A trunk version would here to get some Hadoop QA love.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I tested the patch to see if Jonathan&apos;s original use case is covered and it looks like it is. I also did some mixed workloads of normal Puts and bulk loaded files.&lt;/p&gt;</comment>
                            <comment id="13742519" author="jmspaggi" created="Fri, 16 Aug 2013 18:53:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;, thanks for looking at it.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    There are 11 &quot;== Durability.USE_DEFAULT&quot;, can we just have a method somewhere (like in Mutation) that does it and is named &quot;isDefaultDurability&quot;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is because setWriteToWAL is now deprecated. If I set something locally to do the same thing as what setWriteToWAL was doing, then it&apos;s not very clean since we are just bypassing the deprecation warning. Other option is to keep setWriteToWAL calls and add @suppressWarning to avoid them and keep setWriteToWAL? &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;LoadIncrementalHFiles.assignSeqIds should be final.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I don&apos;t think we can. If I put it final, how are you going to modify it on the constructor? (assignSeqIds = conf.getBoolean(ASSIGN_SEQ_IDS, true))&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Since bulk loaded files can have sequence ids, we should print it out. StoreFile.toStringDetailed is a candidate for that change, there might be more&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;StoreFile.toStringDetailed already display the sequenceId under certain conditions. I will remove the condition to make sure we always have this information.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What&apos;s up with the commented out code in HRegion?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Wow, this should not be there. At all! Removed!&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Is it passing all the unit tests? A trunk version would here to get some Hadoop QA love.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, it&apos;s passing unit tests. I will post the results before EOD. Also, there is no trunk version because it&apos;s a backport of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6630&quot; title=&quot;Port HBASE-6590 to trunk : Assign sequence number to bulk loaded files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6630&quot;&gt;&lt;del&gt;HBASE-6630&lt;/del&gt;&lt;/a&gt; which is already doing the same thing in trunk.&lt;/p&gt;


&lt;p&gt;So, waiting for your recommendation regarding Durability.USE_DEFAULT tests and I will post an updated version.&lt;/p&gt;</comment>
                            <comment id="13745322" author="jmspaggi" created="Tue, 20 Aug 2013 19:45:57 +0000"  >&lt;p&gt;Update version attached.&lt;br/&gt;
1) final added. Was not working on trunk, but working fine on 0.94.&lt;br/&gt;
2) Removed the Durability modifications since they are not related to this patch. Was only deprecated calls cleanup.&lt;/p&gt;

&lt;p&gt;Should be nicer now.&lt;/p&gt;</comment>
                            <comment id="13749219" author="jmspaggi" created="Sat, 24 Aug 2013 01:19:15 +0000"  >&lt;p&gt;Hum, seems that I pushed the wrong file...&lt;/p&gt;</comment>
                            <comment id="13749222" author="jmspaggi" created="Sat, 24 Aug 2013 01:24:48 +0000"  >&lt;p&gt;Removed commented code.&lt;/p&gt;</comment>
                            <comment id="13766971" author="jmspaggi" created="Fri, 13 Sep 2013 21:26:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; any chance to look at that? Want it into 0.94? This patch is already running on a production cluster.&lt;/p&gt;</comment>
                            <comment id="13783503" author="lhofhansl" created="Wed, 2 Oct 2013 00:00:35 +0000"  >&lt;p&gt;Still +0 on this.&lt;/p&gt;

&lt;p&gt;Any strong sponsors? If so, let&apos;s get it in.&lt;/p&gt;</comment>
                            <comment id="13783517" author="alexandre.normand" created="Wed, 2 Oct 2013 00:24:33 +0000"  >&lt;p&gt;I&apos;ll jump in late to the discussion to add a personal story. &lt;/p&gt;

&lt;p&gt;We&apos;re very much relying on this patch since we bulk load everything and our use-case depends on this. We&apos;re running with this patch at the moment and we&apos;re hoping not to lose it when upgrading. We put automated testing of our feature that relies on this and we spent a lot of time looking at the internals (fun times with the Hfile tool) to check that all was as expected. While the test doesn&apos;t provide a full guarantee that the behavior is as expected as opposed to still being a combination of non-deterministic behavior and luck, this runs every day and each day that the test doesn&apos;t fail increases our confidence.  &lt;/p&gt;

&lt;p&gt;I&apos;m very much +1. If there&apos;s one patch we ever needed from hbase, this is it. &lt;/p&gt;</comment>
                            <comment id="13783672" author="lhofhansl" created="Wed, 2 Oct 2013 05:33:06 +0000"  >&lt;p&gt;Thanks for chiming in Alexandre... I&apos;ll count that a &quot;strong sponsor&quot; as per above.&lt;br/&gt;
If there are no objections, I will commit this to 0.94.13 tomorrow.&lt;/p&gt;</comment>
                            <comment id="13783675" author="alexandre.normand" created="Wed, 2 Oct 2013 05:37:54 +0000"  >&lt;p&gt;Thanks Lars, I appreciate it. I really do. &lt;/p&gt;</comment>
                            <comment id="13783886" author="jmspaggi" created="Wed, 2 Oct 2013 12:59:57 +0000"  >&lt;p&gt;Cool, that&apos;s all good news too! Thanks guys. One less on my radar.&lt;/p&gt;</comment>
                            <comment id="13784203" author="ndimiduk" created="Wed, 2 Oct 2013 17:45:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; do you have time to cut a patch for 0.96 before the next RC? (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13784206" author="ndimiduk" created="Wed, 2 Oct 2013 17:46:14 +0000"  >&lt;p&gt;^^^ or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13784235" author="jmspaggi" created="Wed, 2 Oct 2013 18:17:32 +0000"  >&lt;p&gt;It&apos;s already there in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6630&quot; title=&quot;Port HBASE-6590 to trunk : Assign sequence number to bulk loaded files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6630&quot;&gt;&lt;del&gt;HBASE-6630&lt;/del&gt;&lt;/a&gt;... Only 0.94 was missing it. So we should be good.&lt;/p&gt;</comment>
                            <comment id="13784248" author="ndimiduk" created="Wed, 2 Oct 2013 18:27:06 +0000"  >&lt;p&gt;ACK. Thanks JM.&lt;/p&gt;</comment>
                            <comment id="13784299" author="lhofhansl" created="Wed, 2 Oct 2013 19:06:41 +0000"  >&lt;p&gt;Committed to the 0.94 branch. Thanks for the patch.&lt;/p&gt;</comment>
                            <comment id="13784424" author="hudson" created="Wed, 2 Oct 2013 21:01:18 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #307 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/307/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/307/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8521&quot; title=&quot;Cells cannot be overwritten with bulk loaded HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8521&quot;&gt;&lt;del&gt;HBASE-8521&lt;/del&gt;&lt;/a&gt; Cells cannot be overwritten with bulk loaded HFiles (Jean-Marc Spaggiari) (larsh: rev 1528592)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionServerBulkLoad.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13784469" author="hudson" created="Wed, 2 Oct 2013 21:37:56 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1166 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1166/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1166/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8521&quot; title=&quot;Cells cannot be overwritten with bulk loaded HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8521&quot;&gt;&lt;del&gt;HBASE-8521&lt;/del&gt;&lt;/a&gt; Cells cannot be overwritten with bulk loaded HFiles (Jean-Marc Spaggiari) (larsh: rev 1528592)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/SecureBulkLoadClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionServerBulkLoad.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13784524" author="lhofhansl" created="Wed, 2 Oct 2013 22:08:46 +0000"  >&lt;p&gt;TestLoadIncrementalHFilesSplitRecovery.testBulkLoadPhaseFailure failed... Looks suspicious.&lt;/p&gt;</comment>
                            <comment id="13784528" author="jmspaggi" created="Wed, 2 Oct 2013 22:11:32 +0000"  >&lt;p&gt;I agree. Let me run that locally few multiple to validate...&lt;/p&gt;</comment>
                            <comment id="13784534" author="lhofhansl" created="Wed, 2 Oct 2013 22:16:05 +0000"  >&lt;p&gt;Also, looking at v4 now. It adds&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void verifyAssignedSequenceNumber(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; testName, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; hfileRanges, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; nonZero)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But it is never actually called from anywhere.&lt;/p&gt;</comment>
                            <comment id="13784538" author="lhofhansl" created="Wed, 2 Oct 2013 22:18:34 +0000"  >&lt;p&gt;Definitely passes without the patch and fail with it.&lt;/p&gt;</comment>
                            <comment id="13784543" author="jmspaggi" created="Wed, 2 Oct 2013 22:21:37 +0000"  >&lt;p&gt;Failed also on 0.94.10+&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8521&quot; title=&quot;Cells cannot be overwritten with bulk loaded HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8521&quot;&gt;&lt;del&gt;HBASE-8521&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Something might have changed since the last time I merged it. Please revert, I will look at the issue.&lt;/p&gt;</comment>
                            <comment id="13784551" author="jmspaggi" created="Wed, 2 Oct 2013 22:27:45 +0000"  >&lt;p&gt;verifyAssignedSequenceNumber has been removed from trunk because it&apos;s never called. I took it from 0.89. I will remove it. Looking at the test failure now.&lt;/p&gt;</comment>
                            <comment id="13784567" author="jmspaggi" created="Wed, 2 Oct 2013 22:38:47 +0000"  >&lt;p&gt;Ok. Looking deeper, I&apos;m not sure that it&apos;s really an issue.&lt;/p&gt;

&lt;p&gt;The test which failed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /**
   * Test that shows that exception thrown from the RS side will result in an
   * exception on the LIHFile client.
   */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;RS is not throwing an exception. But nothing related to this patch. But still, occurs only with this patch activated. So there might be some side effect. I will start to roll it back locally line by line to figure what the issue is...&lt;/p&gt;</comment>
                            <comment id="13784642" author="jmspaggi" created="Wed, 2 Oct 2013 23:47:00 +0000"  >&lt;p&gt;Found it.&lt;/p&gt;

&lt;p&gt;Don&apos;t revert. It&apos;s related to the test, not to the code. Patch and detailed to come in a minute.&lt;/p&gt;</comment>
                            <comment id="13784645" author="lhofhansl" created="Wed, 2 Oct 2013 23:53:26 +0000"  >&lt;p&gt;I knew I could wait a few minutes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13784659" author="jmspaggi" created="Thu, 3 Oct 2013 00:00:02 +0000"  >&lt;p&gt;So here is the culprit.&lt;/p&gt;

&lt;p&gt;There is now an extra parameter to the bulkLoadHFiles call where we need to specify the assignSeqNum boolean. However, the mocked connection was still configured to fail on the method call without this parameter (which is not the one being called).&lt;/p&gt;

&lt;p&gt;This addendum is to update the mocked connection configuration.&lt;/p&gt;

&lt;p&gt;Passed the test locally. Sorry for this.&lt;/p&gt;</comment>
                            <comment id="13784668" author="lhofhansl" created="Thu, 3 Oct 2013 00:10:17 +0000"  >&lt;p&gt;Committed. Thanks JM!&lt;/p&gt;</comment>
                            <comment id="13784723" author="hudson" created="Thu, 3 Oct 2013 01:13:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #308 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/308/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/308/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8521&quot; title=&quot;Cells cannot be overwritten with bulk loaded HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8521&quot;&gt;&lt;del&gt;HBASE-8521&lt;/del&gt;&lt;/a&gt; Addendum - test fix (Jean-Marc Spaggiari) (larsh: rev 1528692)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13784756" author="hudson" created="Thu, 3 Oct 2013 02:24:00 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1167 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1167/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1167/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8521&quot; title=&quot;Cells cannot be overwritten with bulk loaded HFiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8521&quot;&gt;&lt;del&gt;HBASE-8521&lt;/del&gt;&lt;/a&gt; Addendum - test fix (Jean-Marc Spaggiari) (larsh: rev 1528692)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12689819">HBASE-10383</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12583467" name="HBASE-8521-v0-0.94.patch" size="24006" author="jmspaggi" created="Thu, 16 May 2013 12:11:23 +0000"/>
                            <attachment id="12583475" name="HBASE-8521-v1-0.94.patch" size="24307" author="jmspaggi" created="Thu, 16 May 2013 12:48:42 +0000"/>
                            <attachment id="12598185" name="HBASE-8521-v2-0.94.patch" size="28691" author="jmspaggi" created="Thu, 15 Aug 2013 12:12:52 +0000"/>
                            <attachment id="12599015" name="HBASE-8521-v3-0.94.patch" size="27716" author="jmspaggi" created="Tue, 20 Aug 2013 19:45:57 +0000"/>
                            <attachment id="12599773" name="HBASE-8521-v4-0.94.patch" size="27989" author="jmspaggi" created="Sat, 24 Aug 2013 01:24:48 +0000"/>
                            <attachment id="12606492" name="HBASE-8521-v4-addendum-0.94.patch" size="1020" author="jmspaggi" created="Thu, 3 Oct 2013 00:00:02 +0000"/>
                            <attachment id="12582574" name="HBASE-8521.diff" size="6471" author="natty" created="Fri, 10 May 2013 04:23:28 +0000"/>
                            <attachment id="12582571" name="hfileDirs.tar.gz" size="584" author="natty" created="Fri, 10 May 2013 04:13:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 May 2013 02:00:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kgxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>