<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:32:10 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5922/HBASE-5922.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5922] HalfStoreFileReader seekBefore causes StackOverflowError</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5922</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Calling HRegionServer.getClosestRowBefore() can cause a stack overflow if the underlying store file is a reference and the row key is in the bottom.&lt;/p&gt;

&lt;p&gt;java.io.IOException: java.io.IOException: java.lang.StackOverflowError&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.convertThrowableToIOE(HRegionServer.java:990)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.convertThrowableToIOE(HRegionServer.java:978)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.getClosestRowBefore(HRegionServer.java:1651)&lt;br/&gt;
        at sun.reflect.GeneratedMethodAccessor174.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseRPC$Server.call(HBaseRPC.java:570)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1039)&lt;br/&gt;
Caused by: java.lang.StackOverflowError&lt;br/&gt;
        at org.apache.hadoop.hbase.io.HalfStoreFileReader$1.seekBefore(HalfStoreFileReader.java:147)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.HalfStoreFileReader$1.seekBefore(HalfStoreFileReader.java:149)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.HalfStoreFileReader$1.seekBefore(HalfStoreFileReader.java:149)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.HalfStoreFileReader$1.seekBefore(HalfStoreFileReader.java:149)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.HalfStoreFileReader$1.seekBefore(HalfStoreFileReader.java:149)&lt;/p&gt;</description>
                <environment>&lt;p&gt;HBase 0.90.4&lt;/p&gt;</environment>
        <key id="12553678">HBASE-5922</key>
            <summary>HalfStoreFileReader seekBefore causes StackOverflowError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nputnam">Nate Putnam</assignee>
                                    <reporter username="nputnam">Nate Putnam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 May 2012 22:48:24 +0000</created>
                <updated>Tue, 26 Feb 2013 08:16:07 +0000</updated>
                            <resolved>Fri, 11 May 2012 23:34:22 +0000</resolved>
                                    <version>0.90.0</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>Client</component>
                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13266998" author="stack" created="Wed, 2 May 2012 23:10:11 +0000"  >&lt;p&gt;When does this issue arise?  When we try to getclosest on split key?&lt;/p&gt;</comment>
                            <comment id="13267002" author="stack" created="Wed, 2 May 2012 23:13:59 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
===================================================================
--- src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java	(revision 1169834)
+++ src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java	(revision )
@@ -146,7 +146,7 @@
         } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
           &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
               splitkey.length) &amp;gt;= 0) {
-            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; seekBefore(splitkey, 0, splitkey.length);
+            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
           }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, if result is &amp;gt; splitKey, we need to get something before the splitkey, not fail?&lt;/p&gt;

&lt;p&gt;Maybe we should check what comes out of the seekBefore....  how is it that its returning us splitkey again?&lt;/p&gt;</comment>
                            <comment id="13267010" author="nputnam" created="Wed, 2 May 2012 23:17:59 +0000"  >&lt;p&gt;I was able to reproduce it by doing a seekBefore on a row key that was contained in the top of the HalfStoreFile. &lt;/p&gt;</comment>
                            <comment id="13267015" author="stack" created="Wed, 2 May 2012 23:22:18 +0000"  >&lt;p&gt;Hmm... maybe your fix is right.  There are other tests of half file, ones we added when we ran into issues w/ it in the past.  Lets try your patch against hadoopqa.&lt;/p&gt;</comment>
                            <comment id="13267023" author="hadoopqa" created="Wed, 2 May 2012 23:29:04 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525357/HBase-5922.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525357/HBase-5922.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1731//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1731//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13267068" author="hadoopqa" created="Thu, 3 May 2012 00:52:38 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525365/HBase-5922.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525365/HBase-5922.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.TestHalfStoreFileReader&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1734//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1734//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1734//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1734//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1734//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1734//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13267176" author="hadoopqa" created="Thu, 3 May 2012 04:49:13 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525389/HBASE-5922.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525389/HBASE-5922.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestServerCustomProtocol&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1738//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1738//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1738//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1738//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1738//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1738//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13267177" author="stack" created="Thu, 3 May 2012 04:52:45 +0000"  >&lt;p&gt;Retry&lt;/p&gt;</comment>
                            <comment id="13267200" author="anoopsamjohn" created="Thu, 3 May 2012 05:27:34 +0000"  >&lt;p&gt;After reading the code for HalfStoreFileReader and the javadoc for the HFileScanner.seekBefore(), got more confusion with the code...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
* Consider the key stream of all the keys in the file,
* &amp;lt;code&amp;gt;k[0] .. k[n]&amp;lt;/code&amp;gt;, where there are n keys in the file.
* @param key Key to find
* @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; key &amp;lt;= k[0] or &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; with scanner in position &apos;i&apos; such
* that: k[i] &amp;lt; key.  Furthermore: there may be a k[i+1], such that
* k[i] &amp;lt; key &amp;lt;= k[i+1] but there may also NOT be a k[i+1], and next() will
* &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; (EOF).
* @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
*/
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; seekBefore(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] key) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is the code for seekBefore in HalfStoreFileReader&lt;br/&gt;
For top half file&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (top) {
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
	  splitkey.length) &amp;lt; 0) {
	&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The top file is from [splitkey,endkey). When the passed key is less than or equal to the splitkey, we wont be able to find a point i in the file such that k&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;&amp;lt;key..  This should be a case of return false. So here we should have if condition with &amp;lt;= 0 ?&lt;/p&gt;


&lt;p&gt;Code for bottom file&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;{
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
	  splitkey.length) &amp;gt;= 0) {
	&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; seekBefore(splitkey, 0, splitkey.length);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The bottom file is from [startkey,splitkey). When the passed key is &amp;gt;= the split key we can point to the last key in the file. I think for this only seekBefore splitKey was done. But as it checks =0 also this will result in infinite calls to seekBefore  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;So may be we can change the condition from &amp;gt;=0 to &amp;gt;0 only...  Then the actual seekBefore will be done by the delegate.seekBefore() call...   But return false for getComparator().compare(key, offset, length, splitkey, 0, splitkey.length) &amp;gt;= 0  will be wrong I  feel.....&lt;/p&gt;

&lt;p&gt;@Stack, @Nate What do u say?&lt;/p&gt;

&lt;p&gt;Also this bug is applicable for other versions too...&lt;/p&gt;</comment>
                            <comment id="13267210" author="hadoopqa" created="Thu, 3 May 2012 05:46:38 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525391/HBASE-5922.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525391/HBASE-5922.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestDrainingServer&lt;br/&gt;
                  org.apache.hadoop.hbase.avro.TestAvroServer&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1739//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1739//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1739//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1739//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1739//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1739//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13267228" author="stack" created="Thu, 3 May 2012 06:03:59 +0000"  >&lt;p&gt;@Anoop Its late, but what you say makes sense.  Looking over in our half file test, TestHalfStoreFileReader, it seems pretty poor coverage.  What do you think?  It does not seem to test the boundary condition Nate ran into or that you reason above?&lt;/p&gt;</comment>
                            <comment id="13267254" author="anoopsamjohn" created="Thu, 3 May 2012 06:48:41 +0000"  >&lt;p&gt;@Stack, I have not gone though the test cases..  Seems like boudary condition is not checked.. As far as my analysis there are 2 bugs in this seekBefore()..  I will take a look at the tests and the other methods of HalfStoreFileReader...&lt;br/&gt;
Bugs&lt;br/&gt;
1. As the case with Nate, Stackoverflow when seekBefore() called with a key&amp;gt;=splitKey&lt;br/&gt;
   on the bottom half file&lt;br/&gt;
2. On the top half file a seekBefore() call with a key = splitkey is supposed to return false but it wont happen. It will try to seek into the bottom half I fear ..&lt;/p&gt;</comment>
                            <comment id="13267346" author="anoopsamjohn" created="Thu, 3 May 2012 10:17:56 +0000"  >&lt;p&gt;Checked other methods in HalfStoreFileReader. Looks ok to me...&lt;/p&gt;

&lt;p&gt;As Stack also asked how u get this issue in cluster? &lt;span class=&quot;error&quot;&gt;&amp;#91;Functionaly reproduce&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Any way the code is supposed to handle these cases I feel and needs fix &lt;/p&gt;</comment>
                            <comment id="13267424" author="todd.ua" created="Thu, 3 May 2012 13:28:18 +0000"  >&lt;p&gt;I worked with Nate on this yesterday. We couldn&apos;t think of any reason you would want the delegate to search for the splitkey, nor any reason this method would need to recursively call itself.&lt;/p&gt;

&lt;p&gt;Our reading of the code was that there are two reasons to return false: if &apos;top&apos; is true (you&apos;re in the top half of the split file) and the search key is greater than the splitkey (this works now) OR if &apos;top&apos; is false (you&apos;re in the bottom half of the file) and the search key is less-than-or-equal-to the splitkey (presumably, the splitkey is stored in the top half, thus or-equal-to). &lt;/p&gt;

&lt;p&gt;If neither of those conditions exist, there is a possibility of finding the search key in the half-file you&apos;re looking at, so you call the delegate. &lt;/p&gt;</comment>
                            <comment id="13267453" author="anoopsamjohn" created="Thu, 3 May 2012 14:09:53 +0000"  >&lt;p&gt;In case of the bottom file, if the passed key is &amp;gt;= splitkey, that is the case where we need to work with the passed key. This is not a case to return false. At this case ideally the the scanner should get pointed to the last key in the bottom file. Yes bottom file will not have the split key in it.&lt;br/&gt;
So we should change the key and need to seekBefore the splitKey, which in turn can make the pointer to the last key. I think why the stack overflow was coming is clear to you... It is because of the = check .. That is some thing unwanted...&lt;/p&gt;</comment>
                            <comment id="13267484" author="todd.ua" created="Thu, 3 May 2012 15:02:42 +0000"  >&lt;p&gt;Yeah, that&apos;s not how it seems to me. But then, I didn&apos;t write the code originally, so perhaps I misunderstand it.&lt;/p&gt;

&lt;p&gt;We added a test case that causes infinite recursion with the old code, but appears to work with the patch. The test case searches for a key that is not equal to the split key. Given this, I don&apos;t see how the equals check could be the problem. &lt;/p&gt;</comment>
                            <comment id="13267502" author="nputnam" created="Thu, 3 May 2012 15:31:25 +0000"  >&lt;p&gt;@Anoop as far as reproducing the issue, I&apos;m not sure the exact steps that would cause this in a production environment. The test case in the patch will reproduce the issue though. &lt;/p&gt;</comment>
                            <comment id="13267930" author="stack" created="Thu, 3 May 2012 23:13:24 +0000"  >&lt;p&gt;Can we write a test where we have a multi-block hfile (can have small block sizes) and then have the file filled with keys that differ by one position only: e.g. a, b, c, etc. Then we&apos;d test by getting every entry including outside of the files&apos; bounds but also having top half reach into the bottom half and vice-versa?  Would that help figure the code?&lt;/p&gt;

&lt;p&gt;Good stuff lads.&lt;/p&gt;</comment>
                            <comment id="13267956" author="nputnam" created="Thu, 3 May 2012 23:54:08 +0000"  >&lt;p&gt;Cool. Added a test that operates on the HFile instead of the References. That test will also reproduce the issue if the HalfStoreFileReader fix is removed. &lt;/p&gt;

&lt;p&gt;Thanks for your help on this. &lt;/p&gt;</comment>
                            <comment id="13267990" author="hadoopqa" created="Fri, 4 May 2012 00:52:16 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525534/HBASE-5922.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525534/HBASE-5922.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1758//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1758//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1758//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1758//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1758//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1758//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268073" author="anoopsamjohn" created="Fri, 4 May 2012 03:16:31 +0000"  >&lt;p&gt;@Nate still the patch contains the return false change....&lt;br/&gt;
Just see the javadoc for the seekBefore&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
* Consider the key stream of all the keys in the file,
* &amp;lt;code&amp;gt;k[0] .. k[n]&amp;lt;/code&amp;gt;, where there are n keys in the file.
* @param key Key to find
* @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; key &amp;lt;= k[0] or &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; with scanner in position &apos;i&apos; such
* that: k[i] &amp;lt; key.  Furthermore: there may be a k[i+1], such that
* k[i] &amp;lt; key &amp;lt;= k[i+1] but there may also NOT be a k[i+1], and next() will
* &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; (EOF).
* @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
*/
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; seekBefore(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] key) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This can return false only when the 1st key in the file is &amp;lt;= passed key&lt;/p&gt;

&lt;p&gt;In our case we check against the top boundary of the file...&lt;br/&gt;
The passed key is &amp;gt;=splitkey and in the file we need to seek to a position which comes before this key... And our last key in the file will be that position... So no chance of returning false in the if check...&lt;/p&gt;

&lt;p&gt;U getting my point...  Instead of this the fix for avoiding the stackoverflow to be&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
-   splitkey.length) &amp;gt;= 0) {
+	splitkey.length) &amp;gt; 0) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; seekBefore(splitkey, 0, splitkey.length);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;IMO&lt;/p&gt;</comment>
                            <comment id="13268082" author="todd.ua" created="Fri, 4 May 2012 03:30:30 +0000"  >&lt;p&gt;@Anoop, I think the confusion is that documentation quote is the HFileScanner doc. As far as we can tell, it seems that another class is coordinating two instances of the HalfStoreFileReader, one for the top and one for the bottom. Each of these will return false if the search key is in the other half, but the coordinating class will only return false in the condition you mention. &lt;/p&gt;

&lt;p&gt;It seems to me that if your interpretation was correct and our was incorrect, the test we submitted that searches for every key would fail the first time it searched for something in the bottom half. Have you run this test? Do you have any specific concerns about its accuracy? Do you have another test where our fix would fail, but yours would succeed? Can you submit it as a patch? &lt;/p&gt;</comment>
                            <comment id="13268099" author="anoopsamjohn" created="Fri, 4 May 2012 03:54:14 +0000"  >&lt;p&gt;@Johnson&lt;br/&gt;
I ran your test case and seen that...&lt;br/&gt;
+        // Seek on the splitKey, should be in top, not in bottom&lt;br/&gt;
+        KeyValue foundKeyValue = doTestOfSeekBefore(p, fs, bottom, midKV,cacheConf);&lt;br/&gt;
+        assertNull(foundKeyValue);&lt;/p&gt;

&lt;p&gt;You say here seek&lt;span class=&quot;error&quot;&gt;&amp;#91;seekBefore&amp;#93;&lt;/span&gt; on the splitkey in bottom file and as it is not there in this file for sure, it should return found KV as null ! If you test seekTo() on the bottom file passing the splitKey as the key, it will give the KV as the last KV in the file..  Not null...  So we need to be consistent right&lt;/p&gt;

&lt;p&gt;I think it should not be null in this case... It is seekBefore splitkey... The greatest key in the file which is less than the passed key.. Correct right... So it should point to the lest key in the file right...&lt;/p&gt;

&lt;p&gt;Also wrt the functional reproduce I dont think it will happen.. This seekBefore is used by the getClosestRowBefore() call... When this call happens from the client with key as the splitkey or &amp;gt; splitkey, the region selected after looking into META will be top the region and thus call wont come to bottom file I think...&lt;/p&gt;

&lt;p&gt;But still the code in the HalfStoreFile, if it creates the StackOverflow, we can fix I feel...&lt;/p&gt;

&lt;p&gt;What about you Stack?&lt;/p&gt;</comment>
                            <comment id="13268126" author="stack" created="Fri, 4 May 2012 04:53:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;What about you Stack?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m staying out of you fellas&apos; way.  You lot seem to be figuring it out just fine.  Let me know if you want me to write a test.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If you test seekTo() on the bottom file passing the splitKey as the key, it will give the KV as the last KV in the file.. Not null... So we need to be consistent right&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This seems correct to me... that we should be returning last key in the bottom (the &apos;before&apos;) rather than a null.&lt;/p&gt;

&lt;p&gt;Going by Todd&apos;s comment above, the test to write should be at the StoreFile level since it is the user of HalfFile.  I could do a test that had a StoreFile on a top half and another on a bottom half.  Then I&apos;d verify the seekBefore around the extremes (it should be doing the before as Anoop suggests and not returning the passed key, if it exists).&lt;/p&gt;

&lt;p&gt;This is a bad bug that you fellas have found.  &lt;/p&gt;</comment>
                            <comment id="13268132" author="todd.ua" created="Fri, 4 May 2012 05:11:41 +0000"  >&lt;p&gt;&quot;This seems correct to me... that we should be returning last key in the bottom (the &apos;before&apos;) rather than a null.&quot;&lt;/p&gt;

&lt;p&gt;I guess this requires a little more testing. My understanding has been that, when &apos;bottom&apos; is being asked about something that is really in &apos;top,&apos; there is nothing present (in &apos;bottom&apos;) which could qualify as &apos;before,&apos; so to move the pointer anywhere would be a waste. &lt;/p&gt;

&lt;p&gt;If the correct thing to do is end up with a call to delegate.seekBefore(splitKey  ...), I don&apos;t think the best fix is to change &amp;gt;= to &amp;gt;. I agree that this would have that result, but it creates a single unnecessary (and somewhat confusing) recursive call that is guaranteed to result in delegate.seekBefore(splitKey ...) anyway. So the solution which has the behavior that Adoop expects but is most readable would change the recursive call on line 153 from seekBefore to delegate.seekBefore. This would also make it look more like the analogous code in seekTo(). &lt;/p&gt;

&lt;p&gt;But I would still prefer to spend a few more minutes with Nate and the code tomorrow. &lt;/p&gt;</comment>
                            <comment id="13268134" author="ram_krish" created="Fri, 4 May 2012 05:17:49 +0000"  >&lt;p&gt;I have been following this JIRA and also discussed with Anoop.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The passed key is &amp;gt;=splitkey and in the file we need to seek to a position which comes before this key&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree with Anoop in this case. Anyway the splitkey is actually part of the top and not the bottom. The &apos;&amp;gt;=&apos; is what is causing the StackOverflow.&lt;/p&gt;</comment>
                            <comment id="13268217" author="anoopsamjohn" created="Fri, 4 May 2012 09:22:09 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;most readable would change the recursive call on line 153 from seekBefore to delegate.seekBefore&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;+1 for this.. Yes recursion always confusing..&lt;br/&gt;
So when key &amp;gt; splitKey  -&amp;gt; delegate.seekBefore(splitKey)&lt;/p&gt;

&lt;p&gt;No harm in having key &amp;gt;= splitKey also...&lt;/p&gt;</comment>
                            <comment id="13268218" author="anoopsamjohn" created="Fri, 4 May 2012 09:24:53 +0000"  >&lt;p&gt;Also this fix is needed in all versions...&lt;br/&gt;
92.2, 94.1 and trunk&lt;/p&gt;</comment>
                            <comment id="13268702" author="nputnam" created="Fri, 4 May 2012 20:58:11 +0000"  >&lt;p&gt;@Anoop happy to back port the fix to 92.x,94.x and 90.x once we agree on the solution. I&apos;ve submitted another patch (v3) witch changes the return false to a delegate.seekBefore. &lt;/p&gt;

&lt;p&gt;I&apos;m fairly confident that this is the final solution. If you have any concerns/comments let me know. &lt;/p&gt;</comment>
                            <comment id="13268731" author="todd.ua" created="Fri, 4 May 2012 21:45:57 +0000"  >&lt;p&gt;@Anoop, Thanks for the help understanding what was going on here. &lt;/p&gt;</comment>
                            <comment id="13268739" author="hadoopqa" created="Fri, 4 May 2012 21:57:23 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525680/HBASE-5922.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525680/HBASE-5922.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1774//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1774//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1774//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1774//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1774//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1774//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13269346" author="anoopsamjohn" created="Mon, 7 May 2012 03:41:56 +0000"  >&lt;p&gt;@Nate&lt;br/&gt;
 Thanks for the patch&lt;/p&gt;

&lt;p&gt;Just one more thing which is wrong with the seekBefore() code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (top) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
              splitkey.length) &amp;lt; 0) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is the code for the special check with top file..When the passed key is &amp;lt; splitKey return false as there wont be any key less than the midkey in this file. Just because of this factor, we need to return false and should not do any seek when the passed key is equal to splitKey,  in case of top scanner...&lt;/p&gt;

&lt;p&gt;I know this is out of interest of this bug as such.. But would be nice to fix as part of this. Or need another JIRA?&lt;/p&gt;

&lt;p&gt;One check in your test case also reveals this issue..&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      foundKeyValue = doTestOfSeekBefore(p, fs, top, midKV, cacheConf);
+      assertEquals(beforeMidKey, foundKeyValue);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In this try to seekBefore midKV in the top file and it returns beforeMidKey, which is there in the bottom file !&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2. On the top half file a seekBefore() call with a key = splitkey is supposed to return false but it wont happen. It will try to seek into the bottom half I fear ..&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes the same thing is happening...&lt;/p&gt;


&lt;p&gt;Good on you Nate and Johnson... The test case also try to cover all boundary cases&lt;br/&gt;
One minor comment about the test case : Can we assert the return value of this seekBefore() especially when the return value is false?&lt;/p&gt;</comment>
                            <comment id="13269875" author="nputnam" created="Mon, 7 May 2012 18:47:09 +0000"  >&lt;p&gt;@Anoop&lt;/p&gt;

&lt;p&gt;Agreed that the &amp;lt;= is probably the right thing to do. I dug into that piece of code and think there is some issue with the underlying KeyValue.comparator that will keep that from working. It seems that it&apos;s nearly impossible for key to exactly equal splitkey.&lt;/p&gt;

&lt;p&gt;This particular issue is a production blocker for us so I would like to get the current fix into the code base and file another issue for the splitkey equality work. Sound good?&lt;/p&gt;</comment>
                            <comment id="13270006" author="stack" created="Mon, 7 May 2012 21:11:18 +0000"  >&lt;p&gt;I&apos;m good w/ committing v3 and opening a new issue to address other concerns.  Anoop?&lt;/p&gt;</comment>
                            <comment id="13270155" author="anoopsamjohn" created="Tue, 8 May 2012 03:10:56 +0000"  >&lt;p&gt;+1 on patch V3..  I am fine with another JIRA in handling the issue with the top half file seek...&lt;/p&gt;

&lt;p&gt;One suggestion about the test case is pls remove this assertion from the test case&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      foundKeyValue = doTestOfSeekBefore(p, fs, top, midKV, cacheConf);
+      assertEquals(beforeMidKey, foundKeyValue);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is actually a bug as per our above discussion... Ideally it should be returning NULL.  At the time when we fix the issue we can have another test case with proper assert... What do u say?&lt;/p&gt;

&lt;p&gt;Otherwise I am fine with the code change and test cases&lt;/p&gt;</comment>
                            <comment id="13271626" author="nputnam" created="Wed, 9 May 2012 17:44:29 +0000"  >&lt;p&gt;@Anoop agreed, v4 patch with that change uploaded. &lt;/p&gt;

&lt;p&gt;@Stack what is the procedure for doing the back port to all the affected versions? &lt;/p&gt;</comment>
                            <comment id="13271633" author="ram_krish" created="Wed, 9 May 2012 17:49:15 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13271675" author="hadoopqa" created="Wed, 9 May 2012 18:36:23 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12526185/HBASE-5922.v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12526185/HBASE-5922.v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1819//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1819//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1819//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1819//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1819//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1819//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13272054" author="anoopsamjohn" created="Thu, 10 May 2012 03:23:38 +0000"  >&lt;p&gt;+1 for patch V4&lt;/p&gt;
</comment>
                            <comment id="13272571" author="ram_krish" created="Thu, 10 May 2012 18:09:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;@Stack what is the procedure for doing the back port to all the affected versions?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As Stack did not reply to this i can tell this.&lt;br/&gt;
Just create similar patches for different branches, like download the svn code and prepare patches and again submit it in this JIRA.&lt;br/&gt;
Generally patches affecting across versions will be individually committed to all versions with the respective patches prepared against the version.&lt;br/&gt;
Hope am clear.  Let me know if you have any questions.&lt;/p&gt;</comment>
                            <comment id="13273718" author="stack" created="Fri, 11 May 2012 23:33:50 +0000"  >&lt;p&gt;What I applied to 0.92 and to 0.90.  Its just the change to HalfStoreFileReader, not the test change.  The test change would not apply.&lt;/p&gt;</comment>
                            <comment id="13273721" author="stack" created="Fri, 11 May 2012 23:34:22 +0000"  >&lt;p&gt;Committed to 0.90, 0.92, 0.94 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Nate.  Thanks Anoop for helping get it in.&lt;/p&gt;</comment>
                            <comment id="13273779" author="hudson" created="Sat, 12 May 2012 01:12:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #188 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/188/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; HalfStoreFileReader seekBefore causes StackOverflowError (Revision 1337411)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13273780" author="hudson" created="Sat, 12 May 2012 01:15:42 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2866 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2866/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2866/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; HalfStoreFileReader seekBefore causes StackOverflowError (Revision 1337409)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13273819" author="hudson" created="Sat, 12 May 2012 02:53:15 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #404 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/404/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/404/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; HalfStoreFileReader seekBefore causes StackOverflowError (Revision 1337412)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13278518" author="hudson" created="Fri, 18 May 2012 02:34:22 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/107/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; HalfStoreFileReader seekBefore causes StackOverflowError (Revision 1337412)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13279404" author="hudson" created="Sat, 19 May 2012 02:42:08 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #27 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/27/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/27/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; HalfStoreFileReader seekBefore causes StackOverflowError (Revision 1337411)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442006" author="hudson" created="Sun, 26 Aug 2012 01:51:48 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3277 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3277/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3277/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1377366)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442030" author="hudson" created="Sun, 26 Aug 2012 04:30:12 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #149 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/149/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1377366)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442160" author="hudson" created="Sun, 26 Aug 2012 20:05:41 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3281 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3281/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3281/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader; REVERT (Revision 1377483)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442227" author="hudson" created="Sun, 26 Aug 2012 23:48:21 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #150 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/150/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader; REVERT (Revision 1377483)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13453796" author="hudson" created="Wed, 12 Sep 2012 07:02:36 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3322 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3322/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383788)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13453807" author="hudson" created="Wed, 12 Sep 2012 07:23:24 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #464 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/464/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/464/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383792)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13453916" author="hudson" created="Wed, 12 Sep 2012 11:45:40 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #169 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/169/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/169/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383788)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13455030" author="hudson" created="Thu, 13 Sep 2012 17:28:09 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #52 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/52/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/52/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383792)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13469880" author="hudson" created="Fri, 5 Oct 2012 00:37:46 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #8 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/8/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/8/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383792)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555096">HBASE-5997</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12526587" name="5922.092.txt" size="826" author="stack" created="Fri, 11 May 2012 23:33:50 +0000"/>
                            <attachment id="12525391" name="HBASE-5922.patch" size="3635" author="stack" created="Thu, 3 May 2012 04:52:44 +0000"/>
                            <attachment id="12525389" name="HBASE-5922.patch" size="3635" author="nputnam" created="Thu, 3 May 2012 03:56:35 +0000"/>
                            <attachment id="12525534" name="HBASE-5922.v2.patch" size="5583" author="nputnam" created="Thu, 3 May 2012 23:52:56 +0000"/>
                            <attachment id="12525680" name="HBASE-5922.v3.patch" size="5039" author="nputnam" created="Fri, 4 May 2012 20:55:33 +0000"/>
                            <attachment id="12526185" name="HBASE-5922.v4.patch" size="4914" author="nputnam" created="Wed, 9 May 2012 17:42:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 May 2012 23:10:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>237872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02h27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>