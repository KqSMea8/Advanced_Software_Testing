<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:01:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9127/HBASE-9127.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9127] HFileContext</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9127</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We can roll up at least some of the state we are leaking between the Store layer and the HFile layer by introducing an IO context for passing between the two. This idea has come up in other discussions. Here I am calling it &apos;HFileContext&apos; because the particulars are regarding how to configure HFile readers and writers. This will be easier to maintain than various and sundry method parameters and (duplicated) instance variables sprinkled about, and will make adding or modifying persistence features easier and less disruptive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12661950">HBASE-9127</key>
            <summary>HFileContext</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Aug 2013 19:21:32 +0000</created>
                <updated>Mon, 12 May 2014 03:47:13 +0000</updated>
                            <resolved>Mon, 12 May 2014 03:47:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13729854" author="apurtell" created="Mon, 5 Aug 2013 19:33:39 +0000"  >&lt;p&gt;Attached are three patches as a thought experiment. They are based on 0.94 but taking the same actions in later versions would be similar.&lt;/p&gt;

&lt;p&gt;0001 - Introduces HFileContext and moves CacheConfig into it. &lt;/p&gt;

&lt;p&gt;0002 - Moves compression algorithm selection into HFileContext.&lt;/p&gt;

&lt;p&gt;0003 - Moves in cache and on disk data block encoder selection into HFileContext. This one is not tested, so a few unit tests may need more tweaks.&lt;/p&gt;

&lt;p&gt;Next steps could be: &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Move BloomType into HFileContext&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Move whether to persist memstoreTS into HFileContext&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Test if the additional indirection has a performance impact.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Consider what more of HFileContext state can be made final/immutable to facilitate inlining. This is interesting wherever a reader wants to reconfigure based on file trailer or other metadata discovered when opening the HFile.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CacheConfig could be fully rolled into HFileContext.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In the HFile V3 work we have a patch that, like in the existing case with memstoreTS, does whole file optimization if no tags will be stored (just like if memstoreTS would be 0 for all KVs in an HFile), which breaks encapsulation in the Store and Compactor. Putting this into HFileContext (at some future time) would fix that.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7544&quot; title=&quot;Transparent table/CF encryption&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7544&quot;&gt;&lt;del&gt;HBASE-7544&lt;/del&gt;&lt;/a&gt; could be reworked to use this instead of sprinkling additional method parameters throughout Store and HFile.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13994779" author="apurtell" created="Mon, 12 May 2014 03:47:13 +0000"  >&lt;p&gt;This was introduced as part of HFile V3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12596197" name="0001-Introduce-HFileContext.patch" size="134418" author="apurtell" created="Mon, 5 Aug 2013 19:33:39 +0000"/>
                            <attachment id="12596198" name="0002-Move-compression-algorithm-into-HFileContext.patch" size="79251" author="apurtell" created="Mon, 5 Aug 2013 19:33:39 +0000"/>
                            <attachment id="12596199" name="0003-Move-data-block-encoder-into-HFileContext.patch" size="78779" author="apurtell" created="Mon, 5 Aug 2013 19:33:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mz2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>