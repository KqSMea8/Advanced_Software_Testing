<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:21:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11284/HBASE-11284.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11284] Asynchronous logging with Log4j2</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11284</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Log4j 2.0 is the successor project to Log4J 1.x and logback. From &lt;a href=&quot;http://logging.apache.org/log4j/2.x/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://logging.apache.org/log4j/2.x/:&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Apache Log4j 2 is an upgrade to Log4j that provides significant improvements over its predecessor, Log4j 1.x, and provides many of the improvements available in Logback while fixing some inherent problems in Logback&apos;s architecture. &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; Log4j 2 contains next-generation Asynchronous Loggers based on the LMAX Disruptor library. &lt;b&gt;In multi-threaded scenarios Asynchronous Loggers have 10 times higher throughput and orders of magnitude lower latency than Log4j 1.x and Logback&lt;/b&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Use Log4j2&apos;s asynchronous logger for managing HBase log messages. We can&apos;t do anything about Hadoop or ZooKeeper or other components but the preponderance of logging done by HBase during operation comes from our own code.&lt;/p&gt;

&lt;p&gt;Log4j2 can remain hidden behind the commons-logging facade except where we might programmatically adjust configuration and add components (unit tests, log management utilities). &lt;/p&gt;

&lt;p&gt;Log4j2 can also automatically reload configuration upon modification, will be useful for operations.&lt;/p&gt;

&lt;p&gt;We have already brought the LMAX Disruptor in on trunk for the WAL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12717999">HBASE-11284</key>
            <summary>Asynchronous logging with Log4j2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2014 21:24:07 +0000</created>
                <updated>Mon, 2 Jun 2014 21:33:29 +0000</updated>
                            <resolved>Mon, 2 Jun 2014 21:33:29 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14015917" author="stack" created="Mon, 2 Jun 2014 21:29:38 +0000"  >&lt;p&gt;Related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10092&quot; title=&quot;Move up on to log4j2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10092&quot;&gt;HBASE-10092&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14015918" author="apurtell" created="Mon, 2 Jun 2014 21:29:58 +0000"  >&lt;p&gt;Attached is a proof of concept patch that passes all unit tests. &lt;/p&gt;

&lt;p&gt;Change summary:&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;53 files changed, 497 insertions, 531 deletions&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;POM changes: Import log4j2 artifacts only into the compiler classpath. Include the artifacts that wire log4j2 up to commons-logging and slf4j. Exclude log4j1 except in test scope (required by Hadoop). Bring slf4j into test scope also (required by Hadoop, ZooKeeper, and Thrift).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;org.apache.log4j.Level is an internal implementation detail of 1.x no longer available. Remove all uses.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;org.apache.log4j.Appender is also an internal implementation detail of 1.x. One unit test and a log management utility requires reimplementation or removal. For now offending code is commented out and marked with TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Replace log4j.properties files with log4j2.xml and log4j2-test.xml files. Not sure if these are functional yet. May require tweaks if significantly deviating from old behavior. conf/hbase-env.sh and bin/hbase required minor related changes. Haven&apos;t figured out how to do custom log levels yet like we had in the old log4j.properties files.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14015920" author="apurtell" created="Mon, 2 Jun 2014 21:31:00 +0000"  >&lt;p&gt;Whoops, I duped your issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. This was a tangent, went off without checking.&lt;/p&gt;</comment>
                            <comment id="14015923" author="apurtell" created="Mon, 2 Jun 2014 21:33:29 +0000"  >&lt;p&gt;Dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10092&quot; title=&quot;Move up on to log4j2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10092&quot;&gt;HBASE-10092&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12648004" name="HBASE-11284.patch" size="92342" author="apurtell" created="Mon, 2 Jun 2014 21:29:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Jun 2014 21:29:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1w7o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>