<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:24:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11558/HBASE-11558.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11558] Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11558</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;0.94 and before, if one sets caching on the Scan object in the Job by calling scan.setCaching(int) and passes it to TableMapReduceUtil, it is correctly read and used by the mappers during a mapreduce job. This is because Scan.write respects and serializes caching, which is used internally by TableMapReduceUtil to serialize and transfer the scan object to the mappers.&lt;/p&gt;

&lt;p&gt;0.95+, after the move to protobuf, ProtobufUtil.toScan does not respect caching anymore as ClientProtos.Scan does not have the field caching. Caching is passed via the ScanRequest object to the server and so is not needed in the Scan object. However, this breaks application code that relies on the earlier behavior. This will lead to sudden degradation in Scan performance 0.96+ for users relying on the old behavior.&lt;/p&gt;

&lt;p&gt;There are 2 options here:&lt;br/&gt;
1. Add caching to Scan object, adding an extra int to the payload for the Scan object which is really not needed in the general case.&lt;br/&gt;
2. Document and preach that TableMapReduceUtil.setScannerCaching must be called by the client.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12728734">HBASE-11558</key>
            <summary>Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ishanc">Ishan Chhabra</assignee>
                                    <reporter username="ishanc">Ishan Chhabra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jul 2014 23:42:15 +0000</created>
                <updated>Sat, 21 Feb 2015 23:30:09 +0000</updated>
                            <resolved>Wed, 30 Jul 2014 20:42:38 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.96.3</fixVersion>
                    <fixVersion>0.98.5</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>mapreduce</component>
                    <component>Scanners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                            <comments>
                            <comment id="14069580" author="ndimiduk" created="Tue, 22 Jul 2014 00:22:24 +0000"  >&lt;p&gt;Silently dropping support for passing this configuration is a bug, agreed. However, we also increased the default value of hbase.client.scanner.caching from 1 to 100, so perf drop shouldn&apos;t be too egregious.&lt;/p&gt;</comment>
                            <comment id="14069719" author="ishanc" created="Tue, 22 Jul 2014 02:30:50 +0000"  >&lt;p&gt;Unfortunately our configuration has this value set to 1 (carried over from the default in 0.94) and we faced this issue. Another fellow in the mailing list got perplexed because of this (not sure if he went from 5000 to 100 or 5000 to 1).&lt;/p&gt;</comment>
                            <comment id="14070449" author="apurtell" created="Tue, 22 Jul 2014 16:19:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Add caching to Scan object, adding an extra int to the payload for the Scan object which is really not needed in the general case.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But with protobuf there&apos;s no overhead if not set. &lt;/p&gt;

&lt;p&gt;Are you working on a patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ishanc&quot; class=&quot;user-hover&quot; rel=&quot;ishanc&quot;&gt;Ishan Chhabra&lt;/a&gt;, or would you like one of us to take it?&lt;/p&gt;</comment>
                            <comment id="14073049" author="ishanc" created="Thu, 24 Jul 2014 09:57:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, If caching is set during a general scan (not MapReduce), it will be serialized and sent in the openScanner request even though it is not needed. However, it would just be 3-4 bytes more overhead, and only in the openScanner call and not the next call. &lt;/p&gt;

&lt;p&gt;If this is ok, I would be happy to put a patch up.&lt;/p&gt;</comment>
                            <comment id="14073533" author="apurtell" created="Thu, 24 Jul 2014 19:08:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;If this is ok, I would be happy to put a patch up.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is. Thanks! Reassigning to you&lt;/p&gt;</comment>
                            <comment id="14075330" author="ishanc" created="Sat, 26 Jul 2014 11:01:53 +0000"  >&lt;p&gt;Patch for trunk, 96 and 98.&lt;/p&gt;</comment>
                            <comment id="14075331" author="ishanc" created="Sat, 26 Jul 2014 11:02:53 +0000"  >&lt;p&gt;Attached patch and added 0.96 as a fix version.&lt;/p&gt;</comment>
                            <comment id="14075351" author="hadoopqa" created="Sat, 26 Jul 2014 11:47:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12657987/HBASE_11558.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12657987/HBASE_11558.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12657987&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +      &quot;\022\024\n\014more_results\030\003 \001(\010\022\013\n\003ttl\030\004 \001(\r\022\030\n\007r&quot; +&lt;br/&gt;
+              new java.lang.String[] &lt;/p&gt;
{ &quot;Column&quot;, &quot;Attribute&quot;, &quot;StartRow&quot;, &quot;StopRow&quot;, &quot;Filter&quot;, &quot;TimeRange&quot;, &quot;MaxVersions&quot;, &quot;CacheBlocks&quot;, &quot;BatchSize&quot;, &quot;MaxResultSize&quot;, &quot;StoreLimit&quot;, &quot;StoreOffset&quot;, &quot;LoadColumnFamiliesOnDemand&quot;, &quot;Small&quot;, &quot;Reversed&quot;, &quot;Consistency&quot;, &quot;Caching&quot;, }
&lt;p&gt;);&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.protobuf.TestProtobufUtil&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10194//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14076027" author="ishanc" created="Mon, 28 Jul 2014 08:42:38 +0000"  >&lt;p&gt;Fixed ProtobufUtil test and enhanced it a bit. PTAL.&lt;/p&gt;</comment>
                            <comment id="14076992" author="hadoopqa" created="Mon, 28 Jul 2014 22:11:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12658110/HBASE_11558-0.98_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12658110/HBASE_11558-0.98_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12658110&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10209//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10209//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14078075" author="apurtell" created="Tue, 29 Jul 2014 17:56:59 +0000"  >&lt;p&gt;Attach trunk patch again to be most current&lt;/p&gt;</comment>
                            <comment id="14078141" author="hadoopqa" created="Tue, 29 Jul 2014 18:35:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12658453/HBASE_11558_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12658453/HBASE_11558_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12658453&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +      &quot;\022\024\n\014more_results\030\003 \001(\010\022\013\n\003ttl\030\004 \001(\r\022\030\n\007r&quot; +&lt;br/&gt;
+              new java.lang.String[] &lt;/p&gt;
{ &quot;Column&quot;, &quot;Attribute&quot;, &quot;StartRow&quot;, &quot;StopRow&quot;, &quot;Filter&quot;, &quot;TimeRange&quot;, &quot;MaxVersions&quot;, &quot;CacheBlocks&quot;, &quot;BatchSize&quot;, &quot;MaxResultSize&quot;, &quot;StoreLimit&quot;, &quot;StoreOffset&quot;, &quot;LoadColumnFamiliesOnDemand&quot;, &quot;Small&quot;, &quot;Reversed&quot;, &quot;Consistency&quot;, &quot;Caching&quot;, }
&lt;p&gt;);&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.compactions.TestStripeCompactionPolicy&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestDefaultCompactSelection&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10215//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14078381" author="ishanc" created="Tue, 29 Jul 2014 21:19:40 +0000"  >&lt;p&gt;Test failures are due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11316&quot; title=&quot;Expand info about compactions beyond HBASE-11120&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11316&quot;&gt;&lt;del&gt;HBASE-11316&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14078385" author="ishanc" created="Tue, 29 Jul 2014 21:20:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, how can I trigger the build for 0.96 and 0.98 patches? &lt;/p&gt;</comment>
                            <comment id="14078391" author="apurtell" created="Tue, 29 Jul 2014 21:24:46 +0000"  >&lt;p&gt;You cannot. Precommit builds always check out trunk. The test failures reported in the last precommit build do not look related. &lt;/p&gt;

&lt;p&gt;+1 for commit&lt;/p&gt;</comment>
                            <comment id="14078995" author="ishanc" created="Wed, 30 Jul 2014 06:53:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;, can you +1 and commit?&lt;/p&gt;</comment>
                            <comment id="14079920" author="ndimiduk" created="Wed, 30 Jul 2014 20:28:40 +0000"  >&lt;p&gt;+1 for patch v2.&lt;/p&gt;

&lt;p&gt;TestStripeCompactionPolicy and TestDefaultCompactSelection both pass for me locally. Will commit.&lt;/p&gt;</comment>
                            <comment id="14079939" author="ndimiduk" created="Wed, 30 Jul 2014 20:42:38 +0000"  >&lt;p&gt;Pushed to 4 branches. Thanks for the patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ishanc&quot; class=&quot;user-hover&quot; rel=&quot;ishanc&quot;&gt;Ishan Chhabra&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14079944" author="ndimiduk" created="Wed, 30 Jul 2014 20:44:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ishanc&quot; class=&quot;user-hover&quot; rel=&quot;ishanc&quot;&gt;Ishan Chhabra&lt;/a&gt; as a follow-on, what do you think about deprecating TableMapReduceUtil.setScannerCaching in favor of setScanner? Is there any sense in having two ways to specify this?&lt;/p&gt;

&lt;p&gt;We should also look at what happens when a user specifies both. What&apos;s the effective behavior? Mind updating the release note appropriately?&lt;/p&gt;</comment>
                            <comment id="14080158" author="hudson" created="Wed, 30 Jul 2014 23:10:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #425 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/425/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/425/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt; Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+ (Ishan Chhabra) (ndimiduk: rev 61de4e47835f98dd7d2cec92bf33641c9de072a8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080177" author="hudson" created="Wed, 30 Jul 2014 23:22:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5355 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5355/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5355/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt; Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+ (Ishan Chhabra) (ndimiduk: rev 50ac59fa8530bbd35c21cd61cfd64d2bd7d3eb57)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080304" author="ishanc" created="Thu, 31 Jul 2014 00:31:35 +0000"  >&lt;p&gt;Updated release notes. It makes sense to remove the second method. Do you propose to delete the method or mark it as deprecated for now? Which branches should get this patch? I can open a separate JIRA and put in the patch there once the answers are clear.&lt;/p&gt;</comment>
                            <comment id="14080324" author="hudson" created="Thu, 31 Jul 2014 00:54:46 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #414 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/414/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/414/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt; Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+ (Ishan Chhabra) (ndimiduk: rev efdbe072ef7e910259360bfb01bc4200eab86a4f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080352" author="ndimiduk" created="Thu, 31 Jul 2014 01:20:18 +0000"  >&lt;p&gt;Thanks, looks good.&lt;/p&gt;

&lt;p&gt;Go ahead and open the ticket. Should be deprecated on 0.98 and branch-1, removed from master. In addition to the deprecation annotations on Java methods, we should WARN when the config is used.&lt;/p&gt;</comment>
                            <comment id="14080362" author="hudson" created="Thu, 31 Jul 2014 01:24:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #403 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/403/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/403/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt; Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+ (Ishan Chhabra) (ndimiduk: rev 61de4e47835f98dd7d2cec92bf33641c9de072a8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080472" author="hudson" created="Thu, 31 Jul 2014 04:24:13 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #287 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/287/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt; Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+ (Ishan Chhabra) (ndimiduk: rev efdbe072ef7e910259360bfb01bc4200eab86a4f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080520" author="hudson" created="Thu, 31 Jul 2014 05:33:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #76 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/76/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/76/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt; Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+ (Ishan Chhabra) (ndimiduk: rev 2af67c298645361b86a424362e705c2501e0c1eb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/protobuf/TestProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330655" author="enis" created="Sat, 21 Feb 2015 23:30:09 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12735233">HBASE-11781</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12657985" name="HBASE_11558-0.96.patch" size="16522" author="ishanc" created="Sat, 26 Jul 2014 11:01:53 +0000"/>
                            <attachment id="12658109" name="HBASE_11558-0.96_v2.patch" size="17174" author="ishanc" created="Mon, 28 Jul 2014 08:42:38 +0000"/>
                            <attachment id="12657986" name="HBASE_11558-0.98.patch" size="17265" author="ishanc" created="Sat, 26 Jul 2014 11:01:53 +0000"/>
                            <attachment id="12658110" name="HBASE_11558-0.98_v2.patch" size="17917" author="ishanc" created="Mon, 28 Jul 2014 08:42:38 +0000"/>
                            <attachment id="12657987" name="HBASE_11558.patch" size="17897" author="ishanc" created="Sat, 26 Jul 2014 11:01:53 +0000"/>
                            <attachment id="12658453" name="HBASE_11558_v2.patch" size="18549" author="apurtell" created="Tue, 29 Jul 2014 17:56:59 +0000"/>
                            <attachment id="12658108" name="HBASE_11558_v2.patch" size="18549" author="ishanc" created="Mon, 28 Jul 2014 08:42:38 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12735233">HBASE-11781</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 Jul 2014 00:22:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>406808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y05z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>406828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>TableMapReduceUtil now restores the option to set scanner caching by setting it on the Scan object that is passe in. The priority order for choosing the scanner caching is as follows:&lt;br/&gt;
&lt;br/&gt;
1. Caching set on the scan object.&lt;br/&gt;
2. Caching specified via the config &amp;quot;hbase.client.scanner.caching&amp;quot;, which can either be set manually on the conf or via the helper method TableMapReduceUtil.setScannerCaching().&lt;br/&gt;
3. The default value HConstants.DEFAULT_HBASE_CLIENT_SCANNER_CACHING, which is set to 100 currently.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>