<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:52:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14430/HBASE-14430.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14430] TestHttpServerLifecycle#testStartedServerIsAlive times out</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14430</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Running on my test rig, I see this test timeout from time to time. It just hangs after jetty setup. Port clash?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-09-14 09:08:54,474 INFO  [main] hbase.ResourceChecker(148): before: http.TestHttpServerLifecycle#testCreatedServerIsNotAlive &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=4, OpenFileDescriptor=192, MaxFileDescriptor=32768, SystemLoadAverage=122, ProcessCount=507, Availabl
2015-09-14 09:08:54,592 INFO  [Time-limited test] log.Slf4jLog(67): Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2015-09-14 09:08:54,911 INFO  [Time-limited test] http.HttpRequestLog(69): Http request log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.requests.test is not defined
2015-09-14 09:08:54,923 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;safety&apos; (class=org.apache.hadoop.hbase.http.HttpServer$QuotingInputFilter)
2015-09-14 09:08:54,924 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;clickjackingprevention&apos; (class=org.apache.hadoop.hbase.http.ClickjackingPreventionFilter)
2015-09-14 09:08:54,985 INFO  [main] hbase.ResourceChecker(172): after: http.TestHttpServerLifecycle#testCreatedServerIsNotAlive &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=5 (was 4)
Potentially hanging thread: process reaper
        sun.misc.Unsafe.park(Native Method)
        java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
        java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:460)
        java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:359)
        java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:942)
        java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
        java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
        java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; LEAK? -, OpenFileDescriptor=192 (was 192), MaxFileDescriptor=32768 (was 32768), SystemLoadAverage=122 (was 122), ProcessCount=507 (was 507), AvailableMemoryMB=28014 (was 28054)
2015-09-14 09:08:55,013 INFO  [main] hbase.ResourceChecker(148): before: http.TestHttpServerLifecycle#testWepAppContextAfterServerStop &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=5, OpenFileDescriptor=192, MaxFileDescriptor=32768, SystemLoadAverage=122, ProcessCount=507, Ava
2015-09-14 09:08:55,088 INFO  [Time-limited test] http.HttpRequestLog(69): Http request log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.requests.test is not defined
2015-09-14 09:08:55,089 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;safety&apos; (class=org.apache.hadoop.hbase.http.HttpServer$QuotingInputFilter)
2015-09-14 09:08:55,090 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;clickjackingprevention&apos; (class=org.apache.hadoop.hbase.http.ClickjackingPreventionFilter)
2015-09-14 09:08:55,113 INFO  [Time-limited test] http.HttpServer(1013): Jetty bound to port 60242
2015-09-14 09:08:55,113 INFO  [Time-limited test] log.Slf4jLog(67): jetty-6.1.26
2015-09-14 09:08:55,263 INFO  [Time-limited test] log.Slf4jLog(67): Started SelectChannelConnector@localhost:60242
2015-09-14 09:08:55,270 INFO  [Time-limited test] log.Slf4jLog(67): Stopped SelectChannelConnector@localhost:0
2015-09-14 09:08:55,401 INFO  [main] hbase.ResourceChecker(172): after: http.TestHttpServerLifecycle#testWepAppContextAfterServerStop &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=5 (was 5), OpenFileDescriptor=197 (was 192) - OpenFileDescriptor LEAK? -, MaxFileDescriptor=32768
2015-09-14 09:08:55,428 INFO  [main] hbase.ResourceChecker(148): before: http.TestHttpServerLifecycle#testStopUnstartedServer &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=5, OpenFileDescriptor=197, MaxFileDescriptor=32768, SystemLoadAverage=122, ProcessCount=507, AvailableMem
2015-09-14 09:08:55,489 INFO  [Time-limited test] http.HttpRequestLog(69): Http request log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.requests.test is not defined
2015-09-14 09:08:55,489 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;safety&apos; (class=org.apache.hadoop.hbase.http.HttpServer$QuotingInputFilter)
2015-09-14 09:08:55,490 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;clickjackingprevention&apos; (class=org.apache.hadoop.hbase.http.ClickjackingPreventionFilter)
2015-09-14 09:08:55,521 INFO  [main] hbase.ResourceChecker(172): after: http.TestHttpServerLifecycle#testStopUnstartedServer &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=5 (was 5), OpenFileDescriptor=197 (was 197), MaxFileDescriptor=32768 (was 32768), SystemLoadAverage=122 (w
2015-09-14 09:08:55,548 INFO  [main] hbase.ResourceChecker(148): before: http.TestHttpServerLifecycle#testStartedServerIsAlive &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=5, OpenFileDescriptor=197, MaxFileDescriptor=32768, SystemLoadAverage=122, ProcessCount=507, AvailableMe
2015-09-14 09:08:55,592 INFO  [Time-limited test] http.HttpRequestLog(69): Http request log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.requests.test is not defined
2015-09-14 09:08:55,593 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;safety&apos; (class=org.apache.hadoop.hbase.http.HttpServer$QuotingInputFilter)
2015-09-14 09:08:55,593 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;clickjackingprevention&apos; (class=org.apache.hadoop.hbase.http.ClickjackingPreventionFilter)
2015-09-14 09:08:55,596 INFO  [Time-limited test] http.HttpServer(1013): Jetty bound to port 34027
2015-09-14 09:08:55,596 INFO  [Time-limited test] log.Slf4jLog(67): jetty-6.1.26
2015-09-14 09:08:55,620 INFO  [Time-limited test] log.Slf4jLog(67): Started SelectChannelConnector@localhost:34027
2015-09-14 09:09:55,589 INFO  [main] hbase.ResourceChecker(172): after: http.TestHttpServerLifecycle#testStartedServerIsAlive &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=8 (was 5)
Potentially hanging thread: 665017523@qtp-1303167268-1 - Acceptor0 SelectChannelConnector@localhost:34027
        org.mortbay.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:464)
        org.mortbay.io.nio.SelectorManager.doSelect(SelectorManager.java:192)
        org.mortbay.jetty.nio.SelectChannelConnector.accept(SelectChannelConnector.java:124)
        org.mortbay.jetty.AbstractConnector$Acceptor.run(AbstractConnector.java:708)
        org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)

Potentially hanging thread: Time-limited test
        org.mortbay.io.nio.SelectorManager$SelectSet.stop(SelectorManager.java:879)
        org.mortbay.io.nio.SelectorManager.doStop(SelectorManager.java:240)
        org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)
        org.mortbay.jetty.nio.SelectChannelConnector.close(SelectChannelConnector.java:136)
        org.apache.hadoop.hbase.http.HttpServer.stop(HttpServer.java:1041)
        org.apache.hadoop.hbase.http.HttpServerFunctionalTest.stop(HttpServerFunctionalTest.java:195)
        org.apache.hadoop.hbase.http.TestHttpServerLifecycle.testStartedServerIsAlive(TestHttpServerLifecycle.java:73)
        sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        java.lang.reflect.Method.invoke(Method.java:606)
        org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
        org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
        org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
        org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
        org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
        org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
        java.util.concurrent.FutureTask.run(FutureTask.java:262)
        java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

Potentially hanging thread: Timer-1
        java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
        java.util.TimerThread.mainLoop(Timer.java:552)
        java.util.TimerThread.run(Timer.java:505)

Potentially hanging thread: 1272155315@qtp-1303167268-0
        java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
        org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:626)
 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; LEAK? -, OpenFileDescriptor=201 (was 197) - OpenFileDescriptor LEAK? -, MaxFileDescriptor=32768 (was 32768), SystemLoadAverage=112 (was 122), ProcessCount=507 (was 507), AvailableMemoryMB=27985 (was 27994)
2015-09-14 09:09:55,619 INFO  [main] hbase.ResourceChecker(148): before: http.TestHttpServerLifecycle#testStoppedServerIsNotAlive &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=9, OpenFileDescriptor=201, MaxFileDescriptor=32768, SystemLoadAverage=112, ProcessCount=507, Availabl
2015-09-14 09:09:55,652 INFO  [Time-limited test] http.HttpRequestLog(69): Http request log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.requests.test is not defined
2015-09-14 09:09:55,653 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;safety&apos; (class=org.apache.hadoop.hbase.http.HttpServer$QuotingInputFilter)
2015-09-14 09:09:55,654 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;clickjackingprevention&apos; (class=org.apache.hadoop.hbase.http.ClickjackingPreventionFilter)
2015-09-14 09:09:55,657 INFO  [Time-limited test] http.HttpServer(1013): Jetty bound to port 49253
2015-09-14 09:09:55,657 INFO  [Time-limited test] log.Slf4jLog(67): jetty-6.1.26
2015-09-14 09:09:55,681 INFO  [Time-limited test] log.Slf4jLog(67): Started SelectChannelConnector@localhost:49253
2015-09-14 09:09:55,684 INFO  [Time-limited test] log.Slf4jLog(67): Stopped SelectChannelConnector@localhost:0
2015-09-14 09:09:55,817 INFO  [main] hbase.ResourceChecker(172): after: http.TestHttpServerLifecycle#testStoppedServerIsNotAlive &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=9 (was 9), OpenFileDescriptor=201 (was 201), MaxFileDescriptor=32768 (was 32768), SystemLoadAverage=11
2015-09-14 09:09:55,847 INFO  [main] hbase.ResourceChecker(148): before: http.TestHttpServerLifecycle#testStoppingTwiceServerIsAllowed &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=9, OpenFileDescriptor=201, MaxFileDescriptor=32768, SystemLoadAverage=112, ProcessCount=507, Ava
2015-09-14 09:09:55,879 INFO  [Time-limited test] http.HttpRequestLog(69): Http request log &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; http.requests.test is not defined
2015-09-14 09:09:55,880 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;safety&apos; (class=org.apache.hadoop.hbase.http.HttpServer$QuotingInputFilter)
2015-09-14 09:09:55,880 INFO  [Time-limited test] http.HttpServer(821): Added global filter &apos;clickjackingprevention&apos; (class=org.apache.hadoop.hbase.http.ClickjackingPreventionFilter)
2015-09-14 09:09:55,883 INFO  [Time-limited test] http.HttpServer(1013): Jetty bound to port 53449
2015-09-14 09:09:55,884 INFO  [Time-limited test] log.Slf4jLog(67): jetty-6.1.26
2015-09-14 09:09:55,906 INFO  [Time-limited test] log.Slf4jLog(67): Started SelectChannelConnector@localhost:53449
2015-09-14 09:09:55,910 INFO  [Time-limited test] log.Slf4jLog(67): Stopped SelectChannelConnector@localhost:0
2015-09-14 09:09:56,038 INFO  [main] hbase.ResourceChecker(172): after: http.TestHttpServerLifecycle#testStoppingTwiceServerIsAllowed &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=9 (was 9), OpenFileDescriptor=201 (was 201), MaxFileDescriptor=32768 (was 32768), SystemLoadAvera
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This test came over from hadoop. &lt;/p&gt;

&lt;p&gt;Looking at history, it usually passes up on apache jenkins so not disabling for now. Just noting this failure.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/PreCommit-HBASE-Build/15579/testReport/org.apache.hadoop.hbase.http/TestHttpServerLifecycle/history/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/PreCommit-HBASE-Build/15579/testReport/org.apache.hadoop.hbase.http/TestHttpServerLifecycle/history/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12863934">HBASE-14430</key>
            <summary>TestHttpServerLifecycle#testStartedServerIsAlive times out</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12863637">HBASE-14420</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Sep 2015 16:56:48 +0000</created>
                <updated>Tue, 29 Sep 2015 09:02:22 +0000</updated>
                            <resolved>Tue, 29 Sep 2015 04:40:00 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14745487" author="stack" created="Tue, 15 Sep 2015 13:54:16 +0000"  >&lt;p&gt;This happens a bunch for me on test rig but its history up in apache jenkins is a long line of successful passes.&lt;/p&gt;</comment>
                            <comment id="14803160" author="stack" created="Thu, 17 Sep 2015 16:16:35 +0000"  >&lt;p&gt;My master builds all passed last night but I had this in place:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java b/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java
index de290e3..c28d50a 100644
--- a/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java
@@ -21,6 +21,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.testclassification.MiscTests;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.testclassification.SmallTests;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.log4j.Logger;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Test;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Ignore;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.experimental.categories.Category;

 @Category({MiscTests.class, SmallTests.class})
@@ -63,7 +64,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestHttpServerLifecycle &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HttpServerFunctionalTest {
    *
    * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable on failure
    */
-  @Test(timeout=60000)
+  @Ignore @Test(timeout=60000)
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testStartedServerIsAlive() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable {
     HttpServer server = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
     server = createTestServer();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14803299" author="stack" created="Thu, 17 Sep 2015 17:52:51 +0000"  >&lt;p&gt;Just got this too on my test rig:&lt;/p&gt;

&lt;p&gt;TestHttpServerLifecycle.testStoppedServerIsNotAlive:97-&amp;gt;HttpServerFunctionalTest.stop:195 &#187; TestTimedOut&lt;/p&gt;</comment>
                            <comment id="14904952" author="stack" created="Wed, 23 Sep 2015 18:11:11 +0000"  >&lt;p&gt;I want to comment out this test. It just keeps failing on rig other than apache:&lt;/p&gt;

&lt;p&gt;Tests in error:&lt;br/&gt;
  TestHttpServerLifecycle.testStoppedServerIsNotAlive:97-&amp;gt;HttpServerFunctionalTest.stop:195 &#187; TestTimedOut&lt;/p&gt;

&lt;p&gt;Tests in error:&lt;br/&gt;
  TestHttpServerLifecycle.testStoppedServerIsNotAlive:97-&amp;gt;HttpServerFunctionalTest.stop:195 &#187; TestTimedOut&lt;/p&gt;

&lt;p&gt;Let me catch it failing on apache jenkins, then I&apos;ll undo it.&lt;/p&gt;</comment>
                            <comment id="14904953" author="stack" created="Wed, 23 Sep 2015 18:11:38 +0000"  >&lt;p&gt;Now I have this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java b/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java
index de290e3..2e0748d 100644
--- a/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java
@@ -21,6 +21,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.testclassification.MiscTests;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.testclassification.SmallTests;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.log4j.Logger;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Test;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Ignore;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.experimental.categories.Category;

 @Category({MiscTests.class, SmallTests.class})
@@ -63,7 +64,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestHttpServerLifecycle &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HttpServerFunctionalTest {
    *
    * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable on failure
    */
-  @Test(timeout=60000)
+  @Ignore @Test(timeout=60000)
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testStartedServerIsAlive() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable {
     HttpServer server = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
     server = createTestServer();
@@ -89,7 +90,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestHttpServerLifecycle &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HttpServerFunctionalTest {
    *
    * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable on failure
    */
-  @Test(timeout=60000)
+  @Ignore (&lt;span class=&quot;code-quote&quot;&gt;&quot;Fails on occasion on non-apache rigs&quot;&lt;/span&gt;) @Test(timeout=60000)
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testStoppedServerIsNotAlive() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Throwable {
     HttpServer server = createAndStartTestServer();
     assertAlive(server);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14905060" author="stack" created="Wed, 23 Sep 2015 19:12:59 +0000"  >&lt;p&gt;I need to turn off even more....&lt;/p&gt;


&lt;p&gt;Tests in error:&lt;br/&gt;
  TestHttpServerLifecycle.testStoppingTwiceServerIsAllowed:110-&amp;gt;HttpServerFunctionalTest.stop:195 &#187; TestTimedOut&lt;/p&gt;
</comment>
                            <comment id="14934277" author="stack" created="Mon, 28 Sep 2015 22:59:35 +0000"  >&lt;p&gt;I just noticed that this test is failing on apache too... its just that it passes on second run through:&lt;/p&gt;

&lt;p&gt;Flaked tests: &lt;br/&gt;
org.apache.hadoop.hbase.http.TestHttpServerLifecycle.testStartedServerIsAlive(org.apache.hadoop.hbase.http.TestHttpServerLifecycle)&lt;br/&gt;
  Run 1: TestHttpServerLifecycle.testStartedServerIsAlive:73-&amp;gt;HttpServerFunctionalTest.stop:195 &#187; TestTimedOut&lt;br/&gt;
  Run 2: PASS&lt;/p&gt;

&lt;p&gt;I don&apos;t have this facility turned on on my local rig.&lt;/p&gt;</comment>
                            <comment id="14934602" author="stack" created="Tue, 29 Sep 2015 04:24:24 +0000"  >&lt;p&gt;Tests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 61.573 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.http.TestHttpServerLifecycle&lt;br/&gt;
testStartedServerIsAlive(org.apache.hadoop.hbase.http.TestHttpServerLifecycle)  Time elapsed: 60.033 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
org.junit.runners.model.TestTimedOutException: test timed out after 60000 milliseconds&lt;br/&gt;
	at org.mortbay.io.nio.SelectorManager$SelectSet.stop(SelectorManager.java:879)&lt;br/&gt;
	at org.mortbay.io.nio.SelectorManager.doStop(SelectorManager.java:240)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)&lt;br/&gt;
	at org.mortbay.jetty.nio.SelectChannelConnector.close(SelectChannelConnector.java:136)&lt;br/&gt;
	at org.apache.hadoop.hbase.http.HttpServer.stop(HttpServer.java:1041)&lt;br/&gt;
	at org.apache.hadoop.hbase.http.HttpServerFunctionalTest.stop(HttpServerFunctionalTest.java:195)&lt;br/&gt;
	at org.apache.hadoop.hbase.http.TestHttpServerLifecycle.testStartedServerIsAlive(TestHttpServerLifecycle.java:73)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=387446&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=387446&lt;/a&gt; talks of a deadlock in Jetty in stop (though HW is windows). Goes on in this issue: &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=357318&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=357318&lt;/a&gt; There is talk of a JVM bug and then workarounds in jetty 7. Am going to disable this.  Can reenalbe when up on jetty 9 or something.&lt;/p&gt;</comment>
                            <comment id="14934603" author="stack" created="Tue, 29 Sep 2015 04:25:23 +0000"  >&lt;p&gt;This test came in when we brought httpserver local.&lt;/p&gt;</comment>
                            <comment id="14934606" author="stack" created="Tue, 29 Sep 2015 04:31:47 +0000"  >&lt;p&gt;What I applied to master and branch-1 and branch-1.2.&lt;/p&gt;</comment>
                            <comment id="14934608" author="stack" created="Tue, 29 Sep 2015 04:35:17 +0000"  >&lt;p&gt;I made &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14505&quot; title=&quot;Reenable tests disabled by HBASE-14430 in TestHttpServerLifecycle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14505&quot;&gt;HBASE-14505&lt;/a&gt; to get these tests reeenabled.&lt;/p&gt;</comment>
                            <comment id="14934609" author="stack" created="Tue, 29 Sep 2015 04:40:00 +0000"  >&lt;p&gt;Pushed to 1.2+&lt;/p&gt;</comment>
                            <comment id="14934786" author="hudson" created="Tue, 29 Sep 2015 07:25:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #206 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/206/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/206/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14430&quot; title=&quot;TestHttpServerLifecycle#testStartedServerIsAlive times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14430&quot;&gt;&lt;del&gt;HBASE-14430&lt;/del&gt;&lt;/a&gt; TestHttpServerLifecycle#testStartedServerIsAlive times out (stack: rev 527a2106131c04b0282bed15106869e40036a46d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14934790" author="hudson" created="Tue, 29 Sep 2015 07:28:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #212 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/212/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/212/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14430&quot; title=&quot;TestHttpServerLifecycle#testStartedServerIsAlive times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14430&quot;&gt;&lt;del&gt;HBASE-14430&lt;/del&gt;&lt;/a&gt; TestHttpServerLifecycle#testStartedServerIsAlive times out (stack: rev 642273bc2a5a415eba6f1592a439a6b2b53a70a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14934831" author="hudson" created="Tue, 29 Sep 2015 08:15:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6850 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6850/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6850/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14430&quot; title=&quot;TestHttpServerLifecycle#testStartedServerIsAlive times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14430&quot;&gt;&lt;del&gt;HBASE-14430&lt;/del&gt;&lt;/a&gt; TestHttpServerLifecycle#testStartedServerIsAlive times out (stack: rev 6ad6273ddaedb7a3a21ef391d4381c19a474e3b3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14934873" author="hudson" created="Tue, 29 Sep 2015 08:58:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #189 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/189/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/189/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14430&quot; title=&quot;TestHttpServerLifecycle#testStartedServerIsAlive times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14430&quot;&gt;&lt;del&gt;HBASE-14430&lt;/del&gt;&lt;/a&gt; TestHttpServerLifecycle#testStartedServerIsAlive times out (stack: rev 642273bc2a5a415eba6f1592a439a6b2b53a70a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14934882" author="hudson" created="Tue, 29 Sep 2015 09:02:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #173 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/173/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/173/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14430&quot; title=&quot;TestHttpServerLifecycle#testStartedServerIsAlive times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14430&quot;&gt;&lt;del&gt;HBASE-14430&lt;/del&gt;&lt;/a&gt; TestHttpServerLifecycle#testStartedServerIsAlive times out (stack: rev 527a2106131c04b0282bed15106869e40036a46d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/http/TestHttpServerLifecycle.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12901217">HBASE-14505</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12764172" name="14430.txt" size="2955" author="stack" created="Tue, 29 Sep 2015 04:31:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Sep 2015 07:25:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2k58v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>