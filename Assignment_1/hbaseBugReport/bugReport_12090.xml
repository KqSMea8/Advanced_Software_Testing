<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:29:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12090/HBASE-12090.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12090] Bytes: more Unsafe, more Faster </title>
                <link>https://issues.apache.org/jira/browse/HBASE-12090</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Additional optimizations to &lt;b&gt;org.apache.hadoop.hbase.util.Bytes&lt;/b&gt;:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;New version of compareTo method.&lt;/li&gt;
	&lt;li&gt;New versions for primitive converters  : putXXX/toXXX.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12743883">HBASE-12090</key>
            <summary>Bytes: more Unsafe, more Faster </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vrodionov">Vladimir Rodionov</assignee>
                                    <reporter username="vrodionov">Vladimir Rodionov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2014 22:48:37 +0000</created>
                <updated>Sat, 4 Oct 2014 17:51:33 +0000</updated>
                            <resolved>Sun, 28 Sep 2014 04:08:59 +0000</resolved>
                                    <version>0.94.23</version>
                    <version>0.98.6</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.7</fixVersion>
                    <fixVersion>0.94.24</fixVersion>
                    <fixVersion>0.99.1</fixVersion>
                                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="14147022" author="vrodionov" created="Wed, 24 Sep 2014 22:49:45 +0000"  >&lt;p&gt;Patch.&lt;/p&gt;</comment>
                            <comment id="14147030" author="vrodionov" created="Wed, 24 Sep 2014 22:54:27 +0000"  >&lt;p&gt;I have done some additional optimizations to &lt;b&gt;Bytes&lt;/b&gt; class and now I can see &amp;gt;15% performance improvement in my Get(s) from block cache test (single thread).&lt;/p&gt;

&lt;p&gt;Before: 44K gets per sec.&lt;br/&gt;
After:  52K gets per sec.&lt;/p&gt;

&lt;p&gt;The similar improvement, I think, should be in a Scanner iterations from block cache. &lt;/p&gt;</comment>
                            <comment id="14147031" author="jmspaggi" created="Wed, 24 Sep 2014 22:55:25 +0000"  >&lt;p&gt;What&apos;s about the memory usage/objects creations, no impact?&lt;/p&gt;</comment>
                            <comment id="14147033" author="vrodionov" created="Wed, 24 Sep 2014 22:56:42 +0000"  >&lt;p&gt;No object creations.&lt;/p&gt;</comment>
                            <comment id="14147037" author="vrodionov" created="Wed, 24 Sep 2014 22:58:27 +0000"  >&lt;p&gt;No memory impact.&lt;/p&gt;</comment>
                            <comment id="14147046" author="hadoopqa" created="Wed, 24 Sep 2014 23:02:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671077/HBASE-12090.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671077/HBASE-12090.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671077&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; COMPILATION ERROR : &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1430,3&amp;#93;&lt;/span&gt; error: cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   symbol:   class VisibleForTesting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1484,19&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1490,21&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1495,28&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (default-compile) on project hbase-common: Compilation failure: Compilation failure:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1430,3&amp;#93;&lt;/span&gt; error: cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   class VisibleForTesting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class Bytes&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;55,15&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1484,19&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1490,21&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1495,28&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-common&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11059//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11059//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14147053" author="vrodionov" created="Wed, 24 Sep 2014 23:08:28 +0000"  >&lt;p&gt;Nice. Compilation error. ?&lt;/p&gt;</comment>
                            <comment id="14147056" author="vrodionov" created="Wed, 24 Sep 2014 23:11:25 +0000"  >&lt;p&gt;Can&apos;t find com.google.common.annotations.VisibleForTesting? Some build issue?&lt;/p&gt;</comment>
                            <comment id="14147058" author="jmspaggi" created="Wed, 24 Sep 2014 23:13:19 +0000"  >&lt;p&gt;I guess so. Seems to not be related to what you have done....&lt;/p&gt;</comment>
                            <comment id="14147064" author="apurtell" created="Wed, 24 Sep 2014 23:15:56 +0000"  >&lt;p&gt;I don&apos;t see an issue with the master build at HEAD. Resubmitting to Jenkins.&lt;/p&gt;</comment>
                            <comment id="14147068" author="vrodionov" created="Wed, 24 Sep 2014 23:17:25 +0000"  >&lt;p&gt;This is a build issue - not a patch issue. mvn / pom etc. guava version conflicts probably. &lt;/p&gt;</comment>
                            <comment id="14147093" author="vrodionov" created="Wed, 24 Sep 2014 23:35:08 +0000"  >&lt;p&gt;Nope. I can&apos;t build locally. Eclipse is OK , but not through maven. Have no idea what is going on, have always thought that guava has been given to make developer&apos;s life more desperate.&lt;/p&gt;</comment>
                            <comment id="14147094" author="vrodionov" created="Wed, 24 Sep 2014 23:35:37 +0000"  >&lt;blockquote&gt;&lt;/blockquote&gt;
&lt;p&gt; have always thought that guava has been given to make developer&apos;s life more desperate.&lt;br/&gt;
{quote&lt;/p&gt;

&lt;p&gt;+1 to maven&lt;/p&gt;</comment>
                            <comment id="14147725" author="anoop.hbase" created="Thu, 25 Sep 2014 13:26:38 +0000"  >&lt;p&gt;What about compatibility for existing bytes data? Those might be written with old impl ( toBytes(long val) ). Now if we try to read that back with new code ( toLong(byte[] bytes) ) will there be issues? &lt;/p&gt;</comment>
                            <comment id="14147809" author="vrodionov" created="Thu, 25 Sep 2014 14:40:51 +0000"  >&lt;p&gt;It is fully compatible. It writes/reads data in a big endian format. &lt;/p&gt;</comment>
                            <comment id="14148261" author="lhofhansl" created="Thu, 25 Sep 2014 20:29:09 +0000"  >&lt;p&gt;Nice. +1 when we sorted out the compilation issues.&lt;/p&gt;</comment>
                            <comment id="14148443" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 22:54:34 +0000"  >&lt;p&gt;Moved lexicographicalComparerJavaImpl() below LexicographicalComparerHolder&lt;/p&gt;

&lt;p&gt;Compiles.&lt;/p&gt;</comment>
                            <comment id="14148451" author="hadoopqa" created="Thu, 25 Sep 2014 23:02:15 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671336/12090-v1.1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671336/12090-v1.1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671336&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; COMPILATION ERROR : &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1425,3&amp;#93;&lt;/span&gt; error: cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   symbol:   class VisibleForTesting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1484,19&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1490,21&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1495,28&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (default-compile) on project hbase-common: Compilation failure: Compilation failure:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1425,3&amp;#93;&lt;/span&gt; error: cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   class VisibleForTesting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class Bytes&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;55,15&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1484,19&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1490,21&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1495,28&amp;#93;&lt;/span&gt; Unsafe is internal proprietary API and may be removed in a future release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-common&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11081//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11081//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14148453" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 23:04:31 +0000"  >&lt;p&gt;Spoke too soon &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14148466" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 23:16:34 +0000"  >&lt;p&gt;This version should be better - dropped LexicographicalComparerHolder.UnsafeComparer import.&lt;/p&gt;</comment>
                            <comment id="14148567" author="hadoopqa" created="Fri, 26 Sep 2014 00:59:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671339/12090-v1.1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671339/12090-v1.1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671339&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestShell&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11082//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14149603" author="vrodionov" created="Fri, 26 Sep 2014 16:29:48 +0000"  >&lt;p&gt;Thanks, Ted. This does not make code more beautiful &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, but it works.  &lt;/p&gt;</comment>
                            <comment id="14149610" author="vrodionov" created="Fri, 26 Sep 2014 16:35:36 +0000"  >&lt;p&gt;The single failing test (org.apache.hadoop.hbase.client.TestShell) failed by itself. It passes in my environment with the patch. It is time to commit, guys. I think, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;] wants this in 0.94 as well. The same patch should be OK for all branches (hopefully).&lt;/p&gt;</comment>
                            <comment id="14149613" author="yuzhihong@gmail.com" created="Fri, 26 Sep 2014 16:38:01 +0000"  >&lt;p&gt;I would say that beautiful code has to be code that works &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;There&apos;re several places where formatting for if statement should be adjusted. e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( minLength - offset &amp;gt;= SIZEOF_INT){
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Put a space between if and (, remove the space following (, add a space between ) and {.&lt;/p&gt;</comment>
                            <comment id="14149614" author="yuzhihong@gmail.com" created="Fri, 26 Sep 2014 16:38:51 +0000"  >&lt;p&gt;Test failure should be fixed by addendum to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12084&quot; title=&quot;Remove deprecated APIs from Result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12084&quot;&gt;&lt;del&gt;HBASE-12084&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14149655" author="lhofhansl" created="Fri, 26 Sep 2014 17:13:27 +0000"  >&lt;p&gt;I&apos;ll fix whitespace on commit. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;. Also allow me to run some tests with this before commit (I various different machine architectures available to try).&lt;br/&gt;
Might not get to that today.&lt;/p&gt;</comment>
                            <comment id="14149730" author="vrodionov" created="Fri, 26 Sep 2014 18:02:26 +0000"  >&lt;p&gt;1. I fixed compilation errors by changing import orders&lt;br/&gt;
2. The previous version introduced huge performance degradation. 45 sec vs 39 original patch.  There is something wrong with HotSpot compiler when it has to optimize static-class-&amp;gt;static-class-&amp;gt;static-method invocation (I bet it does not do inlining properly)&lt;/p&gt;

&lt;p&gt;This patch has original performance and no compilation errors.&lt;/p&gt;</comment>
                            <comment id="14149819" author="stack" created="Fri, 26 Sep 2014 19:08:25 +0000"  >&lt;p&gt;The numbers look too good to be true (smile).  Could we have a little micro-benchmark that demos before/after just against Bytes class?  15% @ macro level should show as big numbers in the small.&lt;/p&gt;</comment>
                            <comment id="14149839" author="vrodionov" created="Fri, 26 Sep 2014 19:21:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The numbers look too good to be true (smile)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am going to re-test Get(s) from block cache today and will run some  scanners from block cache as well. Just to remind that majority of time in Get execution is spent in searching for the right row in a block. Search is dominated by &lt;b&gt;compareTo&lt;/b&gt; and &lt;b&gt;toShort&lt;/b&gt;.  &lt;/p&gt;</comment>
                            <comment id="14149915" author="vrodionov" created="Fri, 26 Sep 2014 20:11:51 +0000"  >&lt;p&gt;Correction:&lt;/p&gt;

&lt;p&gt;This is not a pure Get test. I do not use &lt;b&gt;HTable&lt;/b&gt; API, but use directly  &lt;b&gt;RegionScannerImpl&lt;/b&gt; to bypass all IPC-related overhead.&lt;/p&gt;</comment>
                            <comment id="14149932" author="hadoopqa" created="Fri, 26 Sep 2014 20:35:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671500/HBASE-12090.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671500/HBASE-12090.2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671500&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.regionserver.TestRegionReplicaReplicationEndpoint&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11097//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14149944" author="stack" created="Fri, 26 Sep 2014 20:44:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is not a pure Get test. I do not use HTable API, but use directly RegionScannerImpl to bypass all IPC-related overhead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok. Then 15% is more believable.  Is it a little harness you wrote?  Whats it look like?  Thanks V.&lt;/p&gt;</comment>
                            <comment id="14149968" author="vrodionov" created="Fri, 26 Sep 2014 21:04:49 +0000"  >&lt;p&gt;This code does actual Get in my test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  class WorkThreadForGet &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;
  {
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; HRegion region;
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; RegionScanner scanner;  
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalOps;
      &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Random rnd;
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; WorkThreadForGet (HRegion region, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalOps, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; num)
      {
          &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;WorkThreadForGet #&quot;&lt;/span&gt;+num);
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.region = region;
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.totalOps = totalOps;
          rnd = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Random(num);          
      }
           
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run(){
          LOG.info(getName()+&lt;span class=&quot;code-quote&quot;&gt;&quot;: started&quot;&lt;/span&gt;);
          List&amp;lt;Cell&amp;gt; result = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;Cell&amp;gt;();
          
          &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0;
          
          &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;( i++ &amp;lt; totalOps){
              
              &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                  scanner = nextScanner();
                  &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;(scanner.next(result)){
                      result.clear();
                  }
                  scanner.close();  
              } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
                  LOG.error(getName()+&lt;span class=&quot;code-quote&quot;&gt;&quot; failed&quot;&lt;/span&gt;, e);
              }
          }   
          
          LOG.info(getName()+&lt;span class=&quot;code-quote&quot;&gt;&quot;: finished&quot;&lt;/span&gt;);          
      }


    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; RegionScanner nextScanner() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        
        Scan scan = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Scan();
        scan.addFamily(FAMILIES[0]);
        scan.setMaxVersions();
        scan.setCaching(1000);
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = rnd.nextInt(N);
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] row = getRow(i);
        scan.setStartRow(row);
        scan.setStopRow (row);       
        RegionScanner scanner = region.getScanner(scan);        
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; scanner;
    }          
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14150007" author="vrodionov" created="Fri, 26 Sep 2014 21:25:36 +0000"  >&lt;p&gt;Re-run Get(s) test again (see code above for how I do Get op):&lt;/p&gt;

&lt;p&gt;Trunk:&lt;br/&gt;
44,700 ops&lt;/p&gt;

&lt;p&gt;Patch:&lt;br/&gt;
51,800 ops&lt;/p&gt;

&lt;p&gt;Performance improvement: 16%&lt;/p&gt;</comment>
                            <comment id="14150053" author="vrodionov" created="Fri, 26 Sep 2014 21:49:09 +0000"  >&lt;p&gt;Forgot to mention that each Get loads 3 col X 10 versions (30 KVs). I will re-run test for narrow rows ( 1 col X 1 version).&lt;/p&gt;</comment>
                            <comment id="14150104" author="vrodionov" created="Fri, 26 Sep 2014 22:26:20 +0000"  >&lt;p&gt;OK, here are some test results.&lt;/p&gt;

&lt;p&gt;Two tables with one column family:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Narrow Table:  narrow row = 1 col + 1 version  each&lt;/li&gt;
	&lt;li&gt;Wide Table   :  wide row  = 3 col  + 10 versions each&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Get   - reads randomly 2M rows from a table fully cached in a block cache.&lt;/li&gt;
	&lt;li&gt;Scan - makes full scan using RegionScannerImp on a table fully cached in a block cache.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;.h3 Test results - Patch vs. Trunk  improvement (+%%)&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Narrow table &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Wide Table &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; GET &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +2% &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +16% &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; SCAN &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +14% &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; +26% &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;.h3 Conclusions&lt;br/&gt;
Patched version is faster in all tests.&lt;/p&gt;
</comment>
                            <comment id="14150120" author="vrodionov" created="Fri, 26 Sep 2014 22:35:31 +0000"  >&lt;p&gt;I need to find explanation why patched version does not show significant improvement in a GET - Narrow Table test.&lt;/p&gt;</comment>
                            <comment id="14150197" author="stack" created="Fri, 26 Sep 2014 23:28:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;I need to find explanation why patched version does not show significant improvement in a GET - Narrow Table test.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Less compares per result returned?&lt;/p&gt;

&lt;p&gt;Otherwise patch looks good on a skim.  This stuff is a little unsettling if (UnsafeComparer.littleEndian) { but seems fine on a read through. Your thinking is that TestBytes is coverage enough for this new code &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;? They do tests that go in and out of bytes.  You don&apos;t think we need a test that does unsafe and safe and then compares result?&lt;/p&gt;

&lt;p&gt;Deferring to Lars&apos;s testing but this looks good to me.&lt;/p&gt;</comment>
                            <comment id="14150357" author="lhofhansl" created="Sat, 27 Sep 2014 02:57:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I need to find explanation why patched version does not show significant improvement in a GET - Narrow Table test.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Did you expect another result? Or see another result with another version of the patch?&lt;/p&gt;</comment>
                            <comment id="14150367" author="lhofhansl" created="Sat, 27 Sep 2014 03:28:08 +0000"  >&lt;p&gt;I can confirm the scan numbers (tested with a table with 5 cols, 1 version). Nice!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Your thinking is that TestBytes is coverage enough for this new code Vladimir Rodionov?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think this code is exercised during normal operations in the tests.&lt;/p&gt;

&lt;p&gt;Looked through the patch looks good to me. The only part I am little but fuzzy on the compareTo change, but I can&apos;t see anything wrong in that.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, I assume you&apos;re cool with this in 0.98. It&apos;s nice speed improvement. Will commit too all branches by tomorrow morning unless I hear objections.&lt;/p&gt;</comment>
                            <comment id="14150380" author="vrodionov" created="Sat, 27 Sep 2014 04:08:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Your thinking is that TestBytes is coverage enough for this new code&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I concur with Lars, the new code is exercised during normal operations in the tests. If it is broken 50% of HBase tests will fail.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Did you expect another result?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, Scan shows improvement in both tables.&lt;/p&gt;</comment>
                            <comment id="14150383" author="lhofhansl" created="Sat, 27 Sep 2014 04:17:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yes, Scan shows improvement in both tables.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For Gets it&apos;s probably shadowed by other overhead - also see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11811&quot; title=&quot;Use binary search for seeking into a block&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11811&quot;&gt;HBASE-11811&lt;/a&gt;. In any case this is a good improvement.&lt;/p&gt;</comment>
                            <comment id="14150657" author="apurtell" created="Sat, 27 Sep 2014 16:35:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14150887" author="lhofhansl" created="Sun, 28 Sep 2014 02:33:48 +0000"  >&lt;p&gt;Patch with all the trailing whitespace fixed.&lt;/p&gt;</comment>
                            <comment id="14150897" author="lhofhansl" created="Sun, 28 Sep 2014 02:51:20 +0000"  >&lt;p&gt;Committed to all branches.&lt;br/&gt;
Left title the way it is &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14150904" author="vrodionov" created="Sun, 28 Sep 2014 03:09:04 +0000"  >&lt;p&gt;Hey, I just found potential issue in the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; toShort(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] bytes) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; toShortUnsafe(bytes, 0);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If Unsafe is not available (have no idea if it is possible at all?) - the code will fail.&lt;/p&gt;</comment>
                            <comment id="14150910" author="vrodionov" created="Sun, 28 Sep 2014 03:13:15 +0000"  >&lt;p&gt;Opened for addendum.&lt;/p&gt;</comment>
                            <comment id="14150911" author="vrodionov" created="Sun, 28 Sep 2014 03:14:34 +0000"  >&lt;p&gt;Small fix in toShort() to make sure that we are 100% bullet proof. &lt;/p&gt;</comment>
                            <comment id="14150912" author="vrodionov" created="Sun, 28 Sep 2014 03:15:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Thanks Vladimir Rodionov!&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You are always welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14150918" author="hudson" created="Sun, 28 Sep 2014 03:29:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #532 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/532/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/532/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev b4e1be5b4095ef796961fc9194bd46a77ee224c0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150921" author="hudson" created="Sun, 28 Sep 2014 03:34:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #546 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/546/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/546/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev 5c4f838447281c1a35e82c5154b9d127c30bdcbe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150929" author="hudson" created="Sun, 28 Sep 2014 03:55:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #191 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/191/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/191/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev b4e1be5b4095ef796961fc9194bd46a77ee224c0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150932" author="hudson" created="Sun, 28 Sep 2014 03:56:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1421 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1421/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev b4e1be5b4095ef796961fc9194bd46a77ee224c0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150934" author="lhofhansl" created="Sun, 28 Sep 2014 03:59:18 +0000"  >&lt;p&gt;Ah, yes. Lemme commit the addendum.&lt;/p&gt;</comment>
                            <comment id="14150940" author="lhofhansl" created="Sun, 28 Sep 2014 04:08:59 +0000"  >&lt;p&gt;Pushed addendum.&lt;/p&gt;</comment>
                            <comment id="14150942" author="hadoopqa" created="Sun, 28 Sep 2014 04:15:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671681/12090-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671681/12090-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671681&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to cause Findbugs (version 2.0.3) to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 3 zombie test(s): 	at org.apache.hadoop.hbase.master.snapshot.TestSnapshotFileCache.testLoadAndDelete(TestSnapshotFileCache.java:89)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11113//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11113//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11113//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11113//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14150946" author="lhofhansl" created="Sun, 28 Sep 2014 04:17:57 +0000"  >&lt;p&gt;Unfortunately committed with the wrong commit message. Oh well.&lt;/p&gt;</comment>
                            <comment id="14150947" author="hudson" created="Sun, 28 Sep 2014 04:19:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5567 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5567/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5567/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev 5aeec324e77e5f57d1b641594764097878b25c5b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150984" author="hudson" created="Sun, 28 Sep 2014 06:02:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #236 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/236/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/236/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev b58c66d596d428a321fd0d981e14ed20c2c29787)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14150988" author="hadoopqa" created="Sun, 28 Sep 2014 06:06:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12671686/HBASE-12090.ADD.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12671686/HBASE-12090.ADD.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12671686&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 6 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:100)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableMapReduceBase.testMultiRegionTable(TestTableMapReduceBase.java:97)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:99)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat.testMRIncrementalLoadWithSplit(TestHFileOutputFormat.java:360)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:339)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat2.testMRIncrementalLoadWithSplit(TestHFileOutputFormat2.java:361)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11114//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14150999" author="hudson" created="Sun, 28 Sep 2014 06:25:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #547 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/547/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/547/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Addendum (larsh: rev b3783d221a83819b4697b6763d6c45bd06620920)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14151000" author="hudson" created="Sun, 28 Sep 2014 06:26:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #519 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/519/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/519/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Bytes: more Unsafe, more Faster. (Vladimir Rodionov) (larsh: rev 5c4f838447281c1a35e82c5154b9d127c30bdcbe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14151055" author="hudson" created="Sun, 28 Sep 2014 09:10:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #520 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/520/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/520/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12090&quot; title=&quot;Bytes: more Unsafe, more Faster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12090&quot;&gt;&lt;del&gt;HBASE-12090&lt;/del&gt;&lt;/a&gt; Addendum (larsh: rev b3783d221a83819b4697b6763d6c45bd06620920)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/util/Bytes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12671339" name="12090-v1.1.txt" size="13919" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 23:16:34 +0000"/>
                            <attachment id="12671681" name="12090-v3.txt" size="12994" author="lhofhansl" created="Sun, 28 Sep 2014 02:33:48 +0000"/>
                            <attachment id="12671500" name="HBASE-12090.2.patch" size="13936" author="vrodionov" created="Fri, 26 Sep 2014 18:02:26 +0000"/>
                            <attachment id="12671686" name="HBASE-12090.ADD.patch" size="569" author="vrodionov" created="Sun, 28 Sep 2014 03:13:46 +0000"/>
                            <attachment id="12671077" name="HBASE-12090.patch" size="13410" author="vrodionov" created="Wed, 24 Sep 2014 22:49:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Sep 2014 22:55:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20gdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>