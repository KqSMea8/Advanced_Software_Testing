<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:51:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14239/HBASE-14239.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14239] Branch-1.2 AM can get stuck when meta moves</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14239</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When regions are moving master can get totally stuck trying to talk to meta.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12856959">HBASE-14239</key>
            <summary>Branch-1.2 AM can get stuck when meta moves</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12856958">HBASE-14238</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eclark">Elliott Clark</assignee>
                                    <reporter username="eclark">Elliott Clark</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Aug 2015 16:55:58 +0000</created>
                <updated>Tue, 25 Aug 2015 01:25:12 +0000</updated>
                            <resolved>Mon, 24 Aug 2015 19:53:49 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Region Assignment</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14701587" author="eclark" created="Tue, 18 Aug 2015 16:59:29 +0000"  >&lt;p&gt;RIT list contains:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Region 1588230740: hbase:meta,,1.1588230740 state=PENDING_CLOSE, ts=Tue Aug 18 03:48:30 PDT 2015 (22029s ago), server=hbase498.ash1.facebook.com,16020,1439847225385
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the RPC reader threads are blocked here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 29 (RpcServer.reader=5,bindAddress=hbasectrl023.ash1.facebook.com,port=16000):
  State: WAITING
  Blocked count: 13
  Waited count: 14
  Waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7dc2455e
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
    java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:350)
    org.apache.hadoop.hbase.ipc.BalancedQueueRpcExecutor.dispatch(BalancedQueueRpcExecutor.java:77)
    org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.dispatch(SimpleRpcScheduler.java:197)
    org.apache.hadoop.hbase.ipc.RpcServer$Connection.processRequest(RpcServer.java:1856)
    org.apache.hadoop.hbase.ipc.RpcServer$Connection.processOneRpc(RpcServer.java:1753)
    org.apache.hadoop.hbase.ipc.RpcServer$Connection.process(RpcServer.java:1612)
    org.apache.hadoop.hbase.ipc.RpcServer$Connection.readAndProcess(RpcServer.java:1592)
    org.apache.hadoop.hbase.ipc.RpcServer$Listener.doRead(RpcServer.java:856)
    org.apache.hadoop.hbase.ipc.RpcServer$Listener$Reader.doRunLoop(RpcServer.java:641)
    org.apache.hadoop.hbase.ipc.RpcServer$Listener$Reader.run(RpcServer.java:617)
    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Priority handlers are all stuck here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 69 (PriorityRpcServer.handler=0,queue=0,port=16000):
  State: TIMED_WAITING
  Blocked count: 515
  Waited count: 215347
  Stack:
    java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
    org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1573)
    org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1543)
    org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.processBatchCallback(ConnectionManager.java:2231)
    org.apache.hadoop.hbase.util.MultiHConnection.processBatchCallback(MultiHConnection.java:124)
    org.apache.hadoop.hbase.master.RegionStateStore.updateRegionState(RegionStateStore.java:244)
    org.apache.hadoop.hbase.master.RegionStates.updateRegionState(RegionStates.java:1111)
    org.apache.hadoop.hbase.master.RegionStates.regionOnline(RegionStates.java:449)
    org.apache.hadoop.hbase.master.AssignmentManager.regionOnline(AssignmentManager.java:1460)
    org.apache.hadoop.hbase.master.AssignmentManager.onRegionOpen(AssignmentManager.java:3634)
    org.apache.hadoop.hbase.master.AssignmentManager.onRegionTransition(AssignmentManager.java:4263)
    org.apache.hadoop.hbase.master.MasterRpcServices.reportRegionStateTransition(MasterRpcServices.java:1339)
    org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos$RegionServerStatusService$2.callBlockingMethod(RegionServerStatusProtos.java:8623)
    org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2117)
    org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:106)
    org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)
    org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)
    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Assignment manager is here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 90156 (AM.-pool1-t403):
  State: TIMED_WAITING
  Blocked count: 302
  Waited count: 206355
  Stack:
    java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
    org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1573)
    org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1543)
    org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.processBatchCallback(ConnectionManager.java:2231)
    org.apache.hadoop.hbase.util.MultiHConnection.processBatchCallback(MultiHConnection.java:124)
    org.apache.hadoop.hbase.master.RegionStateStore.updateRegionState(RegionStateStore.java:244)
    org.apache.hadoop.hbase.master.RegionStates.updateRegionState(RegionStates.java:1111)
    org.apache.hadoop.hbase.master.RegionStates.updateRegionState(RegionStates.java:427)
    org.apache.hadoop.hbase.master.RegionStates.updateRegionState(RegionStates.java:385)
    org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:2264)
    org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:1587)
    org.apache.hadoop.hbase.master.AssignCallable.call(AssignCallable.java:48)
    java.util.concurrent.FutureTask.run(FutureTask.java:266)
    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14701691" author="eclark" created="Tue, 18 Aug 2015 17:53:00 +0000"  >&lt;p&gt;All region moves were being treated as meta since that got tagged as hi-pri.&lt;/p&gt;</comment>
                            <comment id="14701714" author="apurtell" created="Tue, 18 Aug 2015 18:14:08 +0000"  >&lt;p&gt;lgtm,&lt;/p&gt;

&lt;p&gt;Yeah, AnnotationReadingPriorityFunction has special case support for figuring out if ReportRegionStateTransition involves a system table that was being overridden by that annotation.&lt;/p&gt;</comment>
                            <comment id="14701718" author="stack" created="Tue, 18 Aug 2015 18:16:25 +0000"  >&lt;p&gt;Does all of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; &quot;Annotate internal MasterRpcServices methods with admin priority&quot; get undone by this change? If so, revert it?&lt;/p&gt;</comment>
                            <comment id="14701719" author="eclark" created="Tue, 18 Aug 2015 18:16:35 +0000"  >&lt;p&gt;Testing on the cluster right now, I&apos;ll commit if it makes things better.&lt;/p&gt;</comment>
                            <comment id="14701732" author="apurtell" created="Tue, 18 Aug 2015 18:24:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does all of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; &quot;Annotate internal MasterRpcServices methods with admin priority&quot; get undone by this change?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, only one hunk out of many over 15 files, specifically:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@@ -1282,6 +1287,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class MasterRpcServices &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RSRpcServices
   }
 
   @Override
+  @QosPriority(priority=HConstants.ADMIN_QOS)
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ReportRegionStateTransitionResponse reportRegionStateTransition(RpcController c,
       ReportRegionStateTransitionRequest req) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServiceException {
     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The global change needs tweaking but I&apos;m not sure we have cause to undo it all at this point.&lt;/p&gt;</comment>
                            <comment id="14701739" author="eclark" created="Tue, 18 Aug 2015 18:26:38 +0000"  >&lt;p&gt;Report region in transition need to only be hi-pri if it&apos;s talking about meta. &lt;br/&gt;
However we should check to make sure that other things that got annotated don&apos;t need a special case like reporting region in transition.  I&apos;ll do that while I wait for itbll.&lt;/p&gt;</comment>
                            <comment id="14701796" author="eclark" created="Tue, 18 Aug 2015 19:02:45 +0000"  >&lt;p&gt;Here&apos;s a few more methods.&lt;/p&gt;</comment>
                            <comment id="14701951" author="apurtell" created="Tue, 18 Aug 2015 20:38:57 +0000"  >&lt;p&gt;Why downgrade reportRSFatalError? &lt;/p&gt;

&lt;p&gt;Looking at the v1 patch I have Stack&apos;s question now too.&lt;/p&gt;</comment>
                            <comment id="14702007" author="hadoopqa" created="Tue, 18 Aug 2015 21:22:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12751074/HBASE-14239.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12751074/HBASE-14239.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 68113abec5a87ea578628ad0831ef4a32eba5f06.&lt;br/&gt;
  ATTACHMENT ID: 12751074&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestMultiTableInputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALPlayer&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestCellCounter&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableSnapshotInputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestSecureLoadIncrementalHFiles&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableInputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestRowCounter&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestRegionReplicaFailover&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHashTable&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestPerColumnFamilyFlush&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterPriorityRpc&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat2&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan1&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTSVWithTTLs&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestRegionMergeTransactionOnCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestCopyTable&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestRegionFavoredNodes&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.io.hfile.TestCacheOnWrite&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestMultithreadedTableMapper&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan2&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestScannerWithBulkload&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesUseSecurityEndPoint&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALRecordReader&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 6 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15147//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14702129" author="eclark" created="Tue, 18 Aug 2015 22:46:08 +0000"  >&lt;p&gt;All fatal does is take the log and use it for debugging. So I didn&apos;t want that to be on the priority scheduler.&lt;br/&gt;
However looking at the patch now I am leaning towards a revert.&lt;/p&gt;</comment>
                            <comment id="14703368" author="eclark" created="Wed, 19 Aug 2015 17:03:38 +0000"  >&lt;p&gt;I tested the v2 patch last night and things are better but not great yet.&lt;/p&gt;

&lt;p&gt;I&apos;m still getting some of these:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-08-19T09:19:24 Region server hbase516.ash1.facebook.com,16020,1439963654848 reported a fatal error:
ABORTING region server hbase516.ash1.facebook.com,16020,1439963654848: Exception running postOpenDeployTasks; region=142593938bea8fb99cb265258c19dfa1
Cause:
java.io.IOException: Failed to report opened region to master: IntegegrationTestBigLinkedList.4,_\xCB%\xFC\xB2_\xCB ,1439965968754.142593938bea8fb99cb265258c19dfa1.
	at org.apache.hadoop.hbase.regionserver.HRegionServer.postOpenDeployTasks(HRegionServer.java:1927)
	at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler$PostOpenDeployTasksThread.run(OpenRegionHandler.java:327)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have all the regionservers set to restart so it wasn&apos;t too big a deal. However for anyone without the auto-restart it would have been enough deaths to kill the test.&lt;/p&gt;</comment>
                            <comment id="14703887" author="enis" created="Wed, 19 Aug 2015 22:57:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elserj&quot; class=&quot;user-hover&quot; rel=&quot;elserj&quot;&gt;Josh Elser&lt;/a&gt; FYI. &lt;/p&gt;</comment>
                            <comment id="14703894" author="enis" created="Wed, 19 Aug 2015 23:01:35 +0000"  >&lt;p&gt;Is this zk-less + meta is colocated in master ? if the meta is not in master, this should not happen I think. &lt;/p&gt;</comment>
                            <comment id="14704285" author="elserj" created="Thu, 20 Aug 2015 04:52:32 +0000"  >&lt;p&gt;I&apos;m trying to refresh my brain as to whether &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13480&quot; title=&quot;ShortCircuitConnection doesn&amp;#39;t short-circuit all calls as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13480&quot;&gt;&lt;del&gt;HBASE-13480&lt;/del&gt;&lt;/a&gt; is just a wholly better goal than what &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; was trying to do or if it was just something else I noticed during the process. If memory serves, the same problem you observed here was possible before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; too. I hold no stake in a revert or not, but I&apos;d be afraid the deadlock is still there post-revert. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14705525" author="enis" created="Thu, 20 Aug 2015 18:35:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m trying to refresh my brain as to whether &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13480&quot; title=&quot;ShortCircuitConnection doesn&amp;#39;t short-circuit all calls as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13480&quot;&gt;&lt;del&gt;HBASE-13480&lt;/del&gt;&lt;/a&gt; is just a wholly better goal&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good catch. Agreed that this is probably due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13480&quot; title=&quot;ShortCircuitConnection doesn&amp;#39;t short-circuit all calls as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13480&quot;&gt;&lt;del&gt;HBASE-13480&lt;/del&gt;&lt;/a&gt; if it it meta colocation with master. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I hold no stake in a revert or not, but I&apos;d be afraid the deadlock is still there post-revert&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;if reportRegionStateTransition() uses a normal priority handler, and that handler does a meta request which uses a priority handler, it may work. But it seems fragile. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13480&quot; title=&quot;ShortCircuitConnection doesn&amp;#39;t short-circuit all calls as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13480&quot;&gt;&lt;del&gt;HBASE-13480&lt;/del&gt;&lt;/a&gt; seems to be the proper fix. &lt;/p&gt;</comment>
                            <comment id="14706012" author="eclark" created="Fri, 21 Aug 2015 00:07:35 +0000"  >&lt;p&gt;This is zk-less only. I haven&apos;t tried with meta co-located yet.&lt;/p&gt;</comment>
                            <comment id="14706053" author="eclark" created="Fri, 21 Aug 2015 01:18:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elserj&quot; class=&quot;user-hover&quot; rel=&quot;elserj&quot;&gt;Josh Elser&lt;/a&gt; so the issue comes in that with enough machines on a cluster the number of report region in transition actions can over whelm the entire priority threads. That means that the meta movement can be finalized. However if meta is in transition none of the reportRegionStateTransition calls can complete until meta is online.&lt;/p&gt;

&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; report region in transition for meta went to the priority thread all other report region in transition calls went to the default thread pool ( write pool if RW thread pool was enabled ). &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; made it so all calls to reportRegionStateTransition went to the same pool.&lt;/p&gt;</comment>
                            <comment id="14706062" author="elserj" created="Fri, 21 Aug 2015 01:27:22 +0000"  >&lt;p&gt;Thanks for the explanation, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;. I don&apos;t think I realized the RITs could prevent meta&apos;s location from being finalized. A revert of that definitely seems appropriate then.&lt;/p&gt;</comment>
                            <comment id="14707093" author="eclark" created="Fri, 21 Aug 2015 17:32:48 +0000"  >&lt;p&gt;Ok so I don&apos;t think that we need a full revert of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13351&quot; title=&quot;Annotate internal MasterRpcServices methods with admin priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13351&quot;&gt;&lt;del&gt;HBASE-13351&lt;/del&gt;&lt;/a&gt; the current patch looks like it works well on my cluster.&lt;br/&gt;
Any reviews ?&lt;/p&gt;</comment>
                            <comment id="14709623" author="eclark" created="Mon, 24 Aug 2015 17:04:51 +0000"  >&lt;p&gt;ping&lt;/p&gt;</comment>
                            <comment id="14709684" author="stack" created="Mon, 24 Aug 2015 17:36:09 +0000"  >&lt;p&gt;This is brittle:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
191	    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (param &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; RegionServerStatusProtos.ReportRegionStateTransitionRequest) {
192	      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
193	    }
194	    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (param &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; RegionServerStatusProtos.RegionServerStartupRequest) {
195	      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
196	    }
197	    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (param &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; RegionServerStatusProtos.RegionServerReportRequest) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... but the method at its head asks if there is a better way to do this (figure if a &apos;write&apos;).&lt;/p&gt;

&lt;p&gt;+1 given it passed your test run&lt;/p&gt;

&lt;p&gt;You are running zk-less on 1.2 branch but meta is not colocated?&lt;/p&gt;</comment>
                            <comment id="14709715" author="eclark" created="Mon, 24 Aug 2015 17:49:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is brittle:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah very brittle. Honestly the whole thing is pretty awful. I&apos;m not sure that master should have the read/write pools at all. And I think that we should completely do away with server side priority infavor of the client setting priority. However doing that would break compatibility. So we&apos;ll need to do that in a different jira and let it bake until 2.0&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You are running zk-less on 1.2 branch but meta is not colocated?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Correct.&lt;/p&gt;</comment>
                            <comment id="14709766" author="eclark" created="Mon, 24 Aug 2015 18:13:11 +0000"  >&lt;p&gt;Same patch rebased. Lets see how hadoop qa is doing today.&lt;br/&gt;
I&apos;m running tests myself before commit though.&lt;/p&gt;

&lt;p&gt;Thanks for the review and discussion.&lt;/p&gt;</comment>
                            <comment id="14709768" author="stack" created="Mon, 24 Aug 2015 18:13:41 +0000"  >&lt;p&gt;Ok. Then &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13480&quot; title=&quot;ShortCircuitConnection doesn&amp;#39;t short-circuit all calls as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13480&quot;&gt;&lt;del&gt;HBASE-13480&lt;/del&gt;&lt;/a&gt; won&apos;t help you.&lt;/p&gt;

&lt;p&gt;+1 on patch. Add your comment above to the head of the method on commit (there is something there already but your comment is a bit more specific in its criticism)&lt;/p&gt;</comment>
                            <comment id="14709944" author="eclark" created="Mon, 24 Aug 2015 19:50:10 +0000"  >&lt;p&gt;I&apos;m hoping that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13480&quot; title=&quot;ShortCircuitConnection doesn&amp;#39;t short-circuit all calls as expected&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13480&quot;&gt;&lt;del&gt;HBASE-13480&lt;/del&gt;&lt;/a&gt; + running meta co-located will help with the other issue I&apos;m seeing on itbll.&lt;/p&gt;</comment>
                            <comment id="14709945" author="eclark" created="Mon, 24 Aug 2015 19:50:31 +0000"  >&lt;p&gt;Patch with more explanation&lt;/p&gt;</comment>
                            <comment id="14710180" author="hadoopqa" created="Mon, 24 Aug 2015 22:34:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752054/HBASE-14239-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752054/HBASE-14239-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 9334a47d4570f8adfc003f0fb2c5969a88c3bba0.&lt;br/&gt;
  ATTACHMENT ID: 12752054&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.procedure.TestWALProcedureStoreOnHDFS&lt;br/&gt;
                  org.apache.hadoop.hbase.TestIOFencing&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 6 zombie test(s): 	at org.apache.hadoop.hbase.snapshot.TestExportSnapshot.testExportFileSystemState(TestExportSnapshot.java:287)&lt;br/&gt;
	at org.apache.hadoop.hbase.snapshot.TestExportSnapshot.testExportFileSystemState(TestExportSnapshot.java:261)&lt;br/&gt;
	at org.apache.hadoop.hbase.snapshot.TestExportSnapshot.testSnapshotWithRefsExportFileSystemState(TestExportSnapshot.java:255)&lt;br/&gt;
	at org.apache.hadoop.hbase.snapshot.TestExportSnapshot.testSnapshotWithRefsExportFileSystemState(TestExportSnapshot.java:235)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster.testMasterRestartWhenSplittingIsPartial(TestSplitTransactionOnCluster.java:796)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster.testMasterRestartWhenSplittingIsPartial(TestSplitTransactionOnCluster.java:796)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster.testSplitWithRegionReplicas(TestSplitTransactionOnCluster.java:983)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestAccessController.testAccessControlClientUserPerms(TestAccessController.java:2441)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15225//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14710210" author="hudson" created="Mon, 24 Aug 2015 22:51:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6753 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6753/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6753/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14239&quot; title=&quot;Branch-1.2 AM can get stuck when meta moves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14239&quot;&gt;&lt;del&gt;HBASE-14239&lt;/del&gt;&lt;/a&gt; Fix Branch-1.2 AM can get stuck when meta moves (eclark: rev bfae44a95235981576da0a569385fd716e613d91)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RWQueueRpcExecutor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710264" author="hudson" created="Mon, 24 Aug 2015 23:25:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #110 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/110/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14239&quot; title=&quot;Branch-1.2 AM can get stuck when meta moves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14239&quot;&gt;&lt;del&gt;HBASE-14239&lt;/del&gt;&lt;/a&gt; Fix Branch-1.2 AM can get stuck when meta moves (eclark: rev 10d8275a28811386404915b351d0d532bcaaafe9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RWQueueRpcExecutor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710277" author="hudson" created="Mon, 24 Aug 2015 23:36:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #113 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/113/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/113/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14239&quot; title=&quot;Branch-1.2 AM can get stuck when meta moves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14239&quot;&gt;&lt;del&gt;HBASE-14239&lt;/del&gt;&lt;/a&gt; Fix Branch-1.2 AM can get stuck when meta moves (eclark: rev 585f8fa8a518e30e05047f363b29174de977e48c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RWQueueRpcExecutor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710305" author="hudson" created="Tue, 25 Aug 2015 00:04:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #130 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/130/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/130/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14239&quot; title=&quot;Branch-1.2 AM can get stuck when meta moves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14239&quot;&gt;&lt;del&gt;HBASE-14239&lt;/del&gt;&lt;/a&gt; Fix Branch-1.2 AM can get stuck when meta moves (eclark: rev 585f8fa8a518e30e05047f363b29174de977e48c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RWQueueRpcExecutor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14710408" author="hudson" created="Tue, 25 Aug 2015 01:25:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #133 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/133/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14239&quot; title=&quot;Branch-1.2 AM can get stuck when meta moves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14239&quot;&gt;&lt;del&gt;HBASE-14239&lt;/del&gt;&lt;/a&gt; Fix Branch-1.2 AM can get stuck when meta moves (eclark: rev 10d8275a28811386404915b351d0d532bcaaafe9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RWQueueRpcExecutor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12751091" name="HBASE-14239-v1.patch" size="5445" author="eclark" created="Tue, 18 Aug 2015 19:02:45 +0000"/>
                            <attachment id="12752054" name="HBASE-14239-v2.patch" size="5445" author="eclark" created="Mon, 24 Aug 2015 18:13:11 +0000"/>
                            <attachment id="12752078" name="HBASE-14239-v3.patch" size="5906" author="eclark" created="Mon, 24 Aug 2015 19:50:31 +0000"/>
                            <attachment id="12751074" name="HBASE-14239.patch" size="1052" author="eclark" created="Tue, 18 Aug 2015 17:52:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Aug 2015 18:14:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j27z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>