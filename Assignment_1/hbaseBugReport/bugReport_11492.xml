<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:23:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11492/HBASE-11492.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11492] Hadoop configuration overrides some ipc parameters including tcpNoDelay</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11492</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There is an option to set tcpNoDelay, defaulted to true, but the socket channel is actually not changed. As a consequence, the server works with nagle enabled. This leads to very degraded behavior when a single connection is shared between threads. We enter into conflicts with nagle and tcp delayed ack. &lt;/p&gt;

&lt;p&gt;Here is an example of performance with the PE tool plus &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11491&quot; title=&quot;Add an option to sleep randomly during the tests with the PE tool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11491&quot;&gt;&lt;del&gt;HBASE-11491&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;oneCon     #client       sleep          exeTime (seconds)                             avg latency, sleep excluded (microseconds)
true           1               0                31                                                     310
false          1               0                31                                                     310
true           2               0                50                                                      500
false          2               0               31                                                      310
true           2                5               488 (including 200s sleeping)               2880 
false          2               5               246  (including 200s sleeping)               460
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The latency is multiple by 5 (2880 vs 460) when the connection is shared. This is the delayed ack kicking in. This can be fixed by really using tcp no delay.&lt;/p&gt;

&lt;p&gt;Any application sharing the tcp connection between threads has the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12726604">HBASE-11492</key>
            <summary>Hadoop configuration overrides some ipc parameters including tcpNoDelay</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jul 2014 15:27:00 +0000</created>
                <updated>Sat, 21 Feb 2015 23:35:36 +0000</updated>
                            <resolved>Tue, 22 Jul 2014 13:43:21 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.98.4</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                                                            <comments>
                            <comment id="14057606" author="hadoopqa" created="Thu, 10 Jul 2014 15:46:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12655015/11492.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12655015/11492.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12655015&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10015//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10015//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14057610" author="nkeywal" created="Thu, 10 Jul 2014 15:55:18 +0000"  >&lt;p&gt; -1 patch. The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;This works locally. Something has changed on the build process?&lt;/p&gt;</comment>
                            <comment id="14057623" author="yuzhihong@gmail.com" created="Thu, 10 Jul 2014 16:08:12 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;

&lt;p&gt;Looks like QA bot is having trouble accepting level 0 patch.&lt;/p&gt;

&lt;p&gt;Please attach level 1 patch.&lt;/p&gt;</comment>
                            <comment id="14057761" author="ndimiduk" created="Thu, 10 Jul 2014 18:11:05 +0000"  >&lt;p&gt;Wow. +1.&lt;/p&gt;</comment>
                            <comment id="14057775" author="devaraj" created="Thu, 10 Jul 2014 18:20:28 +0000"  >&lt;p&gt;Could this be a JDK issue or maybe something that needs to be done when nio is used (as discussed offline). Nonetheless, the change itself is fine (using channel.setOption instead of socket.setTcpNoDelay). Very good catch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14057908" author="esteban" created="Thu, 10 Jul 2014 20:24:47 +0000"  >&lt;p&gt;Wouldn&apos;t other TCP flags be affected in the same way too? with JDK6 the behavior seems correct but I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; that maybe is a JDK issue.&lt;/p&gt;</comment>
                            <comment id="14058140" author="enis" created="Fri, 11 Jul 2014 00:03:18 +0000"  >&lt;p&gt;Should we set both of these just in case if this is a JDK issue indeed?&lt;/p&gt;</comment>
                            <comment id="14058307" author="xieliang007" created="Fri, 11 Jul 2014 03:32:42 +0000"  >&lt;p&gt;I have no more knowledge on this area, but i could not convince me to believe the original &quot;socket().setTcpNoDelay&quot; style did not take effect, since HDFS + HBase always use this style, right?  so weird, my god...&lt;/p&gt;</comment>
                            <comment id="14058600" author="nkeywal" created="Fri, 11 Jul 2014 10:01:18 +0000"  >&lt;p&gt;(on the bug)&lt;br/&gt;
I&apos;ve tried different jdk7 versions, they all have the same behavior. If I understand well Esteban tested the jdk6?&lt;/p&gt;

&lt;p&gt;Searching in google I have&lt;br/&gt;
&quot;channel.socket().setTcpNoDelay&quot; =&amp;gt; 4400 results&lt;br/&gt;
&quot;channel.setOption(StandardSocketOptions.TCP_NODELAY&quot; =&amp;gt; 60 results&lt;/p&gt;

&lt;p&gt;If it&apos;s representative, it could be classified as a documentation bug at the very least I suppose.&lt;br/&gt;
But the jdk bug database contains nothing on this. On the web, multiple documentations mention setOption with nio, without alerting that channel.socket().setTcpNoDelay won&apos;t work. I haven&apos;t found anyone complaining or alerting on this (well someone has to be the first &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;

&lt;p&gt;But yeah, it&apos;s a pure nio thing. with oio using the socket works (that&apos;s why the hbase client sets nagle correctly for its side of the connection).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should we set both of these just in case if this is a JDK issue indeed?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In anycase using the setOption is fine. Requiring the socket.settcpnodelay would be a regression.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Wouldn&apos;t other TCP flags be affected in the same way too?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It seems not for the keep alive. I haven&apos;t tested in details however, so I may be wrong.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;since HDFS + HBase always use this style, right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it&apos;s because of the OIO thing: it works fine until you use the NIO.&lt;br/&gt;
As well, Nagle is tricky, because the first packet is sent immediately, the wait is on the next ones. Nevertheless the issue is quite severe.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;so weird&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That&apos;s for sure &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; What about the 0.98? An intermediate patch would be to default back the value to false if we fear that activating &apos;for real&apos; the nodelay would be too risky.&lt;br/&gt;
 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; fyi. &lt;/p&gt;</comment>
                            <comment id="14058611" author="lhofhansl" created="Fri, 11 Jul 2014 10:16:36 +0000"  >&lt;p&gt;Very interesting. I definitely tested changing this in 0.94 and definitely saw an marked improvement. Has that changed since 0.94? Possible that I tested with JDK6 back then.&lt;/p&gt;</comment>
                            <comment id="14058616" author="nkeywal" created="Fri, 11 Jul 2014 10:20:45 +0000"  >&lt;p&gt;This code seems to be the same since 0.89 at least. Have you tested the server and the client in isolation? Because the client does take the setting into account. &lt;/p&gt;</comment>
                            <comment id="14058646" author="hadoopqa" created="Fri, 11 Jul 2014 11:02:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12655192/11492.v1.withp1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12655192/11492.v1.withp1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12655192&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 4 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.hfile.TestCacheConfig&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10033//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14058652" author="lhofhansl" created="Fri, 11 Jul 2014 11:12:56 +0000"  >&lt;p&gt;No only client. This is an important finding. Let&apos;s do this in 0.94 as well (guarded by the tcpnodelay option). Recalling now, we have seen some inexplicable slowdown when multiplexing many client connections over a single TCP connection (for HBase RPCs).&lt;/p&gt;</comment>
                            <comment id="14058720" author="nkeywal" created="Fri, 11 Jul 2014 12:41:02 +0000"  >&lt;p&gt;Thanks for the feedback, all.&lt;br/&gt;
I&apos;ve committed it to master and branch-1. It&apos;s not committed to 0.98/96/94 so I keep the jira open (ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; for 0.96).&lt;br/&gt;
For 0.98, I think the best option it to commit it as well, keeping the tcpNoDelay defaulted to true because of the tcp delayed ack issue when it&apos;s not on. But I wait for Andrew&apos;s feedback. fwiw I&apos;m on vacation next week, coming back on the 21th, and I usually try to stay away from my apache mailbox on vacation &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="14058748" author="lhofhansl" created="Fri, 11 Jul 2014 13:18:18 +0000"  >&lt;p&gt;I&apos;ll make a patch for and commit to 0.94 (provided Andy is OK with this in 0.98).&lt;/p&gt;</comment>
                            <comment id="14058871" author="hudson" created="Fri, 11 Jul 2014 15:07:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #27 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/27/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/27/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; The servers do not honor the tcpNoDelay option (nkeywal: rev c80b4510443552d13f21f5eda62f94daff318565)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14058905" author="hudson" created="Fri, 11 Jul 2014 15:29:14 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5287 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5287/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; The servers do not honor the tcpNoDelay option (nkeywal: rev 79676f15f4c63504d60ca9b7046cb7346e9c3df6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14058919" author="nkeywal" created="Fri, 11 Jul 2014 15:46:28 +0000"  >&lt;p&gt;hold on.&lt;br/&gt;
The issue is real, but it&apos;s not java. I fucked up the test.&lt;br/&gt;
The issue is that we&apos;re taking the value from ipc.server.tcpnodelay, and this is set in the default hadoop conf that we&apos;re getting from the classpath in hadoop-common&lt;/p&gt;

&lt;p&gt;It&apos;s much less fun, but simpler to understand. We still need to fix this however. What about renaming it to hbase.ipc.server.tcpnodelay and say we&apos;re done?&lt;/p&gt;</comment>
                            <comment id="14058926" author="yuzhihong@gmail.com" created="Fri, 11 Jul 2014 15:54:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;What about renaming it to hbase.ipc.server.tcpnodelay&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That would be clearer.&lt;/p&gt;</comment>
                            <comment id="14058935" author="lhofhansl" created="Fri, 11 Jul 2014 16:09:47 +0000"  >&lt;p&gt;Yeah... Need to set both. I was doing that when I did the testing. So the delay in question here is from the DFS client?&lt;/p&gt;</comment>
                            <comment id="14058951" author="nkeywal" created="Fri, 11 Jul 2014 16:23:51 +0000"  >&lt;p&gt;The setting is from hadoop-common, so we get it server side as well. It overrides the setting we have in the code. But it&apos;s not an issue in 0.94/96 as the default is the same as in hadoop.&lt;br/&gt;
If we don&apos;t set nagle to false on the hbase server, we have an issue linked to the delayed ack. It&apos;s not linked to the dfs client.&lt;br/&gt;
The bad scenario occurs when the server has two responses to send back, each within a single packet: with nagle the first answer will be sent immediately, but the second one will wait for an ack from the client. With the tcp delayed, there will be no ack if the client has nothing to write to the server. That&quot;s why the issue is very visible with the sleep: the reply is delayed by the sleep time (the next get triggers the ack of the N-1 message so the server sends its message N). &lt;/p&gt;
</comment>
                            <comment id="14058969" author="apurtell" created="Fri, 11 Jul 2014 16:38:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;The issue is that we&apos;re taking the value from ipc.server.tcpnodelay, and this is set in the default hadoop conf that we&apos;re getting from the classpath in hadoop-common&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah, that explains why I haven&apos;t seen this. I set all of the *nodelay options for both Hadoop and HBase in the site files. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What about renaming it to hbase.ipc.server.tcpnodelay and say we&apos;re done?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good&lt;/p&gt;</comment>
                            <comment id="14059005" author="esteban" created="Fri, 11 Jul 2014 17:02:23 +0000"  >&lt;p&gt;Yeah, same thing as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; said, with &lt;tt&gt;tcpnodelay&lt;/tt&gt; everywhere I don&apos;t see this, specifically in my JDK6 environment.&lt;/p&gt;

&lt;p&gt;+1 to rename to &lt;tt&gt;hbase.ipc.server.tcpnodelay&lt;/tt&gt; but lets do the same to &lt;tt&gt;hbase.ipc.server.tcpkeepalive&lt;/tt&gt; for consistency.&lt;/p&gt;</comment>
                            <comment id="14059016" author="nkeywal" created="Fri, 11 Jul 2014 17:09:06 +0000"  >&lt;p&gt;Yeah, I&apos;m going to do all of them&lt;/p&gt;</comment>
                            <comment id="14059033" author="lhofhansl" created="Fri, 11 Jul 2014 17:19:52 +0000"  >&lt;p&gt;&amp;#43;1 to changing the name(1). In 0.98+ tcpnodelay defaults to true, right?&lt;/p&gt;</comment>
                            <comment id="14059037" author="nkeywal" created="Fri, 11 Jul 2014 17:22:41 +0000"  >&lt;p&gt;yes in the code, but hadoop-common contains core-default with the the value set to false. &lt;/p&gt;</comment>
                            <comment id="14059046" author="lhofhansl" created="Fri, 11 Jul 2014 17:27:21 +0000"  >&lt;p&gt;Does it make that much sense to set this true in HBase but not HDFS anyway? It means the we avoid Nagle&apos;s with client RPCs but get delays when accessing HDFS from the HBase daemons.&lt;br/&gt;
Another option might be a prominent warning in the HBase log to also disable Nagle&apos;s for HDFS...?&lt;/p&gt;</comment>
                            <comment id="14059055" author="esteban" created="Fri, 11 Jul 2014 17:34:38 +0000"  >&lt;p&gt;For HBase accessing HDFS makes sense for short network reads which might happen when regions move but the gain is minimal since the network becomes the bottleneck which is a different issue. For RPC clients and servers its critical when you are serving cached data.&lt;/p&gt;</comment>
                            <comment id="14059062" author="nkeywal" created="Fri, 11 Jul 2014 17:37:16 +0000"  >&lt;p&gt;here are the changes. Some parameters were defined twice but the only difference was on tcpnodelay.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ipc.server.listen.queue.size
hbase code 128
in hadoop common yes 128
in hbase conf files no

ipc.server.max.callqueue.size
in hadoop common no
in hbase conf files no

ipc.server.read.threadpool.size
hbase code 10
in hadoop common no
in hbase conf files no

ipc.client.connection.maxidletime
hbase code 10
in hadoop common no
in hbase conf files no

ipc.client.kill.max
hbase code 10
in hadoop common yes 10
in hbase conf files no

ipc.client.idlethreshold
hbase code 4000
in hadoop common yes 4000
in hbase conf files no

ipc.client.call.purge.timeout
in hadoop common no
in hbase conf files no

ipc.server.tcpnodelay
hbase code true
in hadoop common yes false
in hbase conf files no

ipc.server.tcpkeepalive
hbase code true
in hadoop common no
in hbase conf files no
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14059092" author="nkeywal" created="Fri, 11 Jul 2014 17:48:32 +0000"  >&lt;p&gt;Nagle and tcp delayed ack makes HBase slow with some usage pattern, with an impact up to 200ms, so it&apos;s definitively needed. I&apos;m not sure that hdfs has the same issue, or at least not for all patterns. For example hbase could have an issue if the client sends 2 puts in parallel, but for hdfs there will be a single put so nagle or not nagle won&apos;t change much (i think). But yeah, I found the issue by looking at a scenario with everything in cache.&lt;/p&gt;</comment>
                            <comment id="14059129" author="hadoopqa" created="Fri, 11 Jul 2014 18:13:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12655252/11492.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12655252/11492.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12655252&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 4 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.hfile.TestCacheConfig&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10035//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14059244" author="hudson" created="Fri, 11 Jul 2014 19:30:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5288 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5288/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5288/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; The servers do not honor the tcpNoDelay option&quot; (nkeywal: rev dd9f1cbf3a3f69792733bd853e2191fe18978179)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14059259" author="hudson" created="Fri, 11 Jul 2014 19:51:05 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #28 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/28/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/28/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; The servers do not honor the tcpNoDelay option&quot; (nkeywal: rev daa16b9c4d9c93cd4458c30fd97328af856b5f0d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14059288" author="apurtell" created="Fri, 11 Jul 2014 20:17:41 +0000"  >&lt;p&gt;I&apos;m working on a version for patch v2 that also includes backwards compatibility for 0.98, will attach soon.&lt;/p&gt;</comment>
                            <comment id="14059333" author="apurtell" created="Fri, 11 Jul 2014 20:46:10 +0000"  >&lt;p&gt;Attached as &apos;11492.v2-0.98&apos; a patch for 0.98. While doing search-and-replace I found a few more places to make substitutions then the v2 patch on trunk, please review.&lt;/p&gt;</comment>
                            <comment id="14059337" author="hadoopqa" created="Fri, 11 Jul 2014 20:51:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12655294/11492.v2-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12655294/11492.v2-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12655294&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10039//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10039//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14059648" author="anoop.hbase" created="Sat, 12 Jul 2014 05:06:50 +0000"  >&lt;p&gt;So here by we rename all the configs ipc.*  to hbase.ipc.* Great.!&lt;/p&gt;</comment>
                            <comment id="14059739" author="yuzhihong@gmail.com" created="Sat, 12 Jul 2014 10:37:51 +0000"  >&lt;p&gt;+1 on patch for 0.98&lt;/p&gt;</comment>
                            <comment id="14060056" author="lhofhansl" created="Sun, 13 Jul 2014 09:25:45 +0000"  >&lt;p&gt;Let&apos;s not change this in 0.94,  as folks might have configured these options already - might be an issue in 0.98 as well.&lt;/p&gt;</comment>
                            <comment id="14060217" author="nkeywal" created="Sun, 13 Jul 2014 20:37:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;So here by we rename all the configs ipc.* to hbase.ipc.* Great.!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah, small issue big consequences &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;+1 for 0.98 as well. &lt;/p&gt;

&lt;p&gt;I&apos;m re-triggering hadoop qa for trunk.&lt;/p&gt;

</comment>
                            <comment id="14060222" author="hadoopqa" created="Sun, 13 Jul 2014 22:05:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12655470/11492.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12655470/11492.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12655470&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestHRegion.testWritesWhileGetting(TestHRegion.java:3504)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10046//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14060347" author="apurtell" created="Mon, 14 Jul 2014 05:24:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;folks might have configured these options already - might be an issue in 0.98 as well.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The 0.98 patch applies the old configuration settings unless the new ones are present. Not sure how it will be an issue. Can you elaborate? &lt;/p&gt;</comment>
                            <comment id="14060348" author="apurtell" created="Mon, 14 Jul 2014 05:25:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;, when I was doing a substitution for &quot;ipc.* for the 0.98 patch I found a few additional places that I don&apos;t think the master patch changed. Please have a look. Overzealous in 0.98? Or a few more substitutions needed for master? &lt;/p&gt;</comment>
                            <comment id="14060351" author="apurtell" created="Mon, 14 Jul 2014 05:28:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m working on a version for patch v2 that also includes backwards compatibility for 0.98, will attach soon.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just want to highlight again the 0.98 patch is not a backport of the master patch. I used the master patch as a template but rather than changing &quot;ipc.&lt;b&gt;&quot; to &quot;hbase.ipc&lt;/b&gt;&quot;, first we look for the &quot;hbase.ipc.&lt;b&gt;&quot; version, if not present we look for the &quot;ipc.&lt;/b&gt;&quot; version, and if not present we use the default value.&lt;/p&gt;</comment>
                            <comment id="14060422" author="lhofhansl" created="Mon, 14 Jul 2014 08:14:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;The 0.98 patch applies the old configuration settings unless the new ones are present. Not sure how it will be an issue. Can you elaborate?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Won&apos;t be. Didn&apos;t actually look at the 0.98 patch.&lt;/p&gt;</comment>
                            <comment id="14061265" author="apurtell" created="Mon, 14 Jul 2014 21:18:25 +0000"  >&lt;p&gt;Committed the 0.98 patch.&lt;/p&gt;</comment>
                            <comment id="14061286" author="apurtell" created="Mon, 14 Jul 2014 21:33:38 +0000"  >&lt;p&gt;Reopening. Seems this was committed on master and branch-1, see the integration messages on this issue from Jenkins, but later reverted. &lt;/p&gt;</comment>
                            <comment id="14061403" author="hudson" created="Mon, 14 Jul 2014 23:10:52 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #398 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/398/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/398/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; Hadoop configuration overrides some ipc parameters including tcpNoDelay (Nicolas Liochon) (apurtell: rev 9cb234104d63b1a96232e821ad0cbbb516aeae84)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/FifoRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestFullLogReconstruction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14061425" author="hudson" created="Mon, 14 Jul 2014 23:32:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #378 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/378/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/378/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; Hadoop configuration overrides some ipc parameters including tcpNoDelay (Nicolas Liochon) (apurtell: rev 9cb234104d63b1a96232e821ad0cbbb516aeae84)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/FifoRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestFullLogReconstruction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14068450" author="nkeywal" created="Mon, 21 Jul 2014 12:14:22 +0000"  >&lt;p&gt;(back from vacation, sorry for the delay in responding, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;The gap between 0.98 and master patch is because the master patch was limited to the rpcServer while you covered all ipc* in the 0.98 version.&lt;br/&gt;
I&apos;ve done a grep on  &quot;ipc.&quot; in the code.&lt;/p&gt;

&lt;p&gt;v3 of the master patch includes the 0.98 ones, namely:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ipc.server.callqueue.read.share (not used in hadoop)&lt;/li&gt;
	&lt;li&gt;ipc.server.callqueue.handler.factor (not used in hadoop)&lt;/li&gt;
	&lt;li&gt;ipc.server.callqueue.type (not used in hadoop nor in hbase 0.98)&lt;/li&gt;
	&lt;li&gt;ipc.server.queue.max.call.delay  (not used in hadoop nor in hbase 0.98)&lt;/li&gt;
	&lt;li&gt;ipc.server.max.callqueue.length (not used in hadoop)&lt;/li&gt;
	&lt;li&gt;ipc.server.scan.vtime.weight  (not used in hadoop nor in hbase 0.98)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The same grep on 0.98 shows:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ipc.ping.interval (feature removed on master, used in hadoop but not in the config files)&lt;/li&gt;
	&lt;li&gt;ipc.socket.timeout (not used in hadoop, replaced by connect/read/write settings on master)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;0.98.addendum contains this, with the same double read (new name / old name) strategy.&lt;br/&gt;
master v3 contains the whole patch&lt;/p&gt;

&lt;p&gt;I think there is another issue with the 0.98 patch: as we don&apos;t set the value for tcpnodelay in our config files, we&apos;re using the value from hadoop common so our default for tcpnodelay is still &apos;false&apos; I think. We don&apos;t have this in master as we don&apos;t have the double read strategy.&lt;/p&gt;

</comment>
                            <comment id="14068547" author="hadoopqa" created="Mon, 21 Jul 2014 14:09:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12656859/11492.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12656859/11492.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12656859&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10133//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14068593" author="apurtell" created="Mon, 21 Jul 2014 14:59:02 +0000"  >&lt;p&gt;+1 on the addendum for 0.98&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think there is another issue with the 0.98 patch: as we don&apos;t set the value for tcpnodelay in our config files, we&apos;re using the value from hadoop common so our default for tcpnodelay is still &apos;false&apos;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think it is an issue if the default we use is the Hadoop default. That&apos;s the intent of the differences between the 0.98 patch and changes to later versions. It may not be what we&apos;d want for HBase production settings, but is a conservative choice to make in general. On the other hand, if people are fine with setting the default &apos;nodelay&apos; to true in 0.98, I&apos;d be happy to file a follow up JIRA and make that change.&lt;/p&gt;</comment>
                            <comment id="14068680" author="nkeywal" created="Mon, 21 Jul 2014 15:58:23 +0000"  >&lt;p&gt;It&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7008&quot; title=&quot;Set scanner caching to a better default, disable Nagles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7008&quot;&gt;&lt;del&gt;HBASE-7008&lt;/del&gt;&lt;/a&gt;. Our release notes say that tcpnodelay is our default since 0.96.&lt;/p&gt;

&lt;p&gt;From hbase source code point of view it&apos;s not a big deal; with the patch we can set the parameter to the value we like. So if you prefer to keep the default as tcpnodelay == false, it&apos;s ok for me.&lt;/p&gt;

&lt;p&gt;I would recommend to set tcpnodelay as true by default in 0.98, whatever the hadoop setting; for the following reasons:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The big issue is not Nagle by itself, it&apos;s the mix of Nagle &amp;amp; tcp delayed ack. This leads to up to 200ms delays in some scenarios.&lt;/li&gt;
	&lt;li&gt;Hadoop has done its homework (at least partly), and for example, in TcpPeerServer, Hadoop sets tcpnodelay to true. It&apos;s not configurable by the ipc* settings.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that with the master code tcpnodelay == true by default, as expected by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7008&quot; title=&quot;Set scanner caching to a better default, disable Nagles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7008&quot;&gt;&lt;del&gt;HBASE-7008&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;








</comment>
                            <comment id="14068714" author="nkeywal" created="Mon, 21 Jul 2014 16:17:48 +0000"  >&lt;p&gt;I will commit v3 + the addendum for 0.98 tomorrow if there is no objection.&lt;/p&gt;</comment>
                            <comment id="14068761" author="apurtell" created="Mon, 21 Jul 2014 16:46:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;It&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7008&quot; title=&quot;Set scanner caching to a better default, disable Nagles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7008&quot;&gt;&lt;del&gt;HBASE-7008&lt;/del&gt;&lt;/a&gt;. Our release notes say that tcpnodelay is our default since 0.96.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Didn&apos;t realize that. Ok. Let&apos;s ignore the Hadoop nodelay settings. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I will commit v3 + the addendum for 0.98 tomorrow if there is no objection.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let me amend the addendum. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Coming right up. &lt;/p&gt;</comment>
                            <comment id="14068774" author="apurtell" created="Mon, 21 Jul 2014 16:57:02 +0000"  >&lt;p&gt;Attached updated addendum for 0.98. Set the default of &apos;hbase.ipc.server.tcpnodelay&apos; to &apos;true&apos; and ignore the Hadoop conf vars. We are already doing this for the client side setting.&lt;/p&gt;

&lt;p&gt;We shouldn&apos;t amend src/main/docbkx/ on a branch. Current release practice is to copy src/main/* from master branch back onto the branch before generating docs. Any changes on branch are clobbered. Left that part out.&lt;/p&gt;</comment>
                            <comment id="14068786" author="hadoopqa" created="Mon, 21 Jul 2014 17:02:31 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12656886/11492.098.addendum.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12656886/11492.098.addendum.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12656886&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 16 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10135//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10135//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14068792" author="nkeywal" created="Mon, 21 Jul 2014 17:04:59 +0000"  >&lt;p&gt;Ok, I didn&apos;t know for the doc. Makes sense.&lt;br/&gt;
+1 on the v2 of the addendum as well &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14068816" author="apurtell" created="Mon, 21 Jul 2014 17:15:21 +0000"  >&lt;p&gt;+1 here too, please commit when ready&lt;/p&gt;</comment>
                            <comment id="14068847" author="nkeywal" created="Mon, 21 Jul 2014 17:29:08 +0000"  >&lt;p&gt;I will commit all this on master/1.0/0.98 tomorrow my time if there is no objection coming by during the bay area working hours &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14070265" author="nkeywal" created="Tue, 22 Jul 2014 13:43:21 +0000"  >&lt;p&gt;Committed to master &amp;amp; branch 1&lt;br/&gt;
Addendum committed to 0.98&lt;br/&gt;
Thanks Andrew &amp;amp; all!&lt;/p&gt;</comment>
                            <comment id="14070276" author="hudson" created="Tue, 22 Jul 2014 13:59:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #60 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/60/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/60/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; Hadoop configuration overrides some ipc parameters including tcpNoDelay (nkeywal: rev af141f2b087ff0baecb10257f8792a33cae31615)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/AnnotationReadingPriorityFunction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestFullLogReconstruction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/FifoRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;src/main/docbkx/configuration.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLogRolling.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/hbase.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14070371" author="hudson" created="Tue, 22 Jul 2014 15:14:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #411 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/411/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/411/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; Hadoop configuration overrides some ipc parameters including tcpNoDelay - addendum (nkeywal: rev ee5c109bbcb46bff4a8e7cecfbf4bdc36477485e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/hbase.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestFullLogReconstruction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLogRolling.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLogRollAbort.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14070386" author="hudson" created="Tue, 22 Jul 2014 15:24:28 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5332 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5332/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5332/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; Hadoop configuration overrides some ipc parameters including tcpNoDelay (nkeywal: rev d8faab2fffabea369b3346e079c7edafdb504686)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestFullLogReconstruction.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/hbase.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/AnnotationReadingPriorityFunction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;src/main/docbkx/configuration.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/FifoRpcScheduler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLogRolling.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/SimpleRpcScheduler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14070395" author="hudson" created="Tue, 22 Jul 2014 15:35:56 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #390 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/390/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/390/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; Hadoop configuration overrides some ipc parameters including tcpNoDelay - addendum (nkeywal: rev ee5c109bbcb46bff4a8e7cecfbf4bdc36477485e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLogRollAbort.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestLogRolling.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestFullLogReconstruction.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/hbase.rb&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14101645" author="hudson" created="Tue, 19 Aug 2014 01:07:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11508&quot; title=&quot;Document changes to IPC config parameters from HBASE-11492&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11508&quot;&gt;&lt;del&gt;HBASE-11508&lt;/del&gt;&lt;/a&gt; Document changes to IPC config parameters from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; (Misty Stanley-Jones) (jmhsieh: rev 137fea8a768e31659461a2414e3ca9912fbcb1eb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/docbkx/troubleshooting.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14101745" author="hudson" created="Tue, 19 Aug 2014 02:23:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5408 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5408/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5408/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11508&quot; title=&quot;Document changes to IPC config parameters from HBASE-11492&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11508&quot;&gt;&lt;del&gt;HBASE-11508&lt;/del&gt;&lt;/a&gt; Document changes to IPC config parameters from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt; (Misty Stanley-Jones) (jmhsieh: rev 454389a4b7e63a731c025748a3d595a168d61640)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/docbkx/troubleshooting.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331346" author="enis" created="Sat, 21 Feb 2015 23:35:36 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12732651">HBASE-11698</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12656858" name="11492.098.addendum.patch" size="9181" author="nkeywal" created="Mon, 21 Jul 2014 12:14:53 +0000"/>
                            <attachment id="12656886" name="11492.098.addendum.v2.patch" size="10423" author="apurtell" created="Mon, 21 Jul 2014 16:57:02 +0000"/>
                            <attachment id="12655015" name="11492.v1.patch" size="1070" author="nkeywal" created="Thu, 10 Jul 2014 15:37:57 +0000"/>
                            <attachment id="12655192" name="11492.v1.withp1.patch" size="1078" author="nkeywal" created="Fri, 11 Jul 2014 10:23:41 +0000"/>
                            <attachment id="12655294" name="11492.v2-0.98.patch" size="10760" author="apurtell" created="Fri, 11 Jul 2014 20:46:10 +0000"/>
                            <attachment id="12655470" name="11492.v2.patch" size="5026" author="nkeywal" created="Sun, 13 Jul 2014 20:38:56 +0000"/>
                            <attachment id="12655252" name="11492.v2.patch" size="5026" author="nkeywal" created="Fri, 11 Jul 2014 17:35:23 +0000"/>
                            <attachment id="12656859" name="11492.v3.patch" size="13751" author="nkeywal" created="Mon, 21 Jul 2014 12:15:08 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12727027">HBASE-11508</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jul 2014 15:46:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xngn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>If the Hadoop configuration is read after the HBase configuration, Hadoop&amp;#39;s settings can override HBase&amp;#39;s settings if the names of the settings are the same. To avoid the risk of override, HBase has renamed the following settings (by prepending &amp;#39;hbase.&amp;#39;) so that you can set them independent of your setting for Hadoop. If you do not use the HBase-specific variants, the Hadoop settings will be used.&lt;br/&gt;
&lt;br/&gt;
Old Name   --&amp;gt;   New Name&lt;br/&gt;
======================================================&lt;br/&gt;
ipc.server.listen.queue.size   --&amp;gt;   hbase.ipc.server.listen.queue.size&lt;br/&gt;
ipc.server.max.callqueue.size   --&amp;gt;   hbase.ipc.server.max.callqueue.size&lt;br/&gt;
ipc.server.callqueue.handler.factor --&amp;gt; hbase.ipc.server.callqueue.handler.factor&lt;br/&gt;
ipc.server.callqueue.read.share --&amp;gt; hbase.ipc.server.callqueue.read.share&lt;br/&gt;
ipc.server.callqueue.type --&amp;gt; hbase.ipc.server.callqueue.type&lt;br/&gt;
ipc.server.queue.max.call.delay --&amp;gt; hbase.ipc.server.queue.max.call.delay&lt;br/&gt;
ipc.server.max.callqueue.length --&amp;gt; hbase.ipc.server.max.callqueue.length&lt;br/&gt;
ipc.server.read.threadpool.size   --&amp;gt;  hbase.ipc.server.read.threadpool.size&lt;br/&gt;
ipc.server.tcpkeepalive   --&amp;gt;   hbase.ipc.server.tcpkeepalive&lt;br/&gt;
ipc.server.tcpnodelay   --&amp;gt;   hbase.ipc.server.tcpnodelay&lt;br/&gt;
ipc.client.call.purge.timeout   --&amp;gt;   hbase.ipc.client.call.purge.timeout&lt;br/&gt;
ipc.client.connection.maxidletime   --&amp;gt;   hbase.ipc.client.connection.maxidletime&lt;br/&gt;
ipc.client.idlethreshold   --&amp;gt;   hbase.ipc.client.idlethreshold&lt;br/&gt;
ipc.client.kill.max   --&amp;gt;   hbase.ipc.client.kill.max&lt;br/&gt;
ipc.server.scan.vtime.weight --&amp;gt; hbase.ipc.server.scan.vtime.weight&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>