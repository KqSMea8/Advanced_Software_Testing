<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:51:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14261/HBASE-14261.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14261] Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14261</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;One of the shortcomings of existing ChaosMonkey framework is lack of fault injections for hbase dependencies like zookeeper, hdfs etc. This patch attempts to solve this problem partially by adding datanode and zk node fault injections.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12857359">HBASE-14261</key>
            <summary>Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srikanth235">Srikanth Srungarapu</assignee>
                                    <reporter username="srikanth235">Srikanth Srungarapu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2015 23:30:23 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:44 +0000</updated>
                            <resolved>Thu, 3 Sep 2015 22:22:40 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>0.98.15</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>integration tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                                                            <comments>
                            <comment id="14703955" author="srikanth235" created="Wed, 19 Aug 2015 23:32:04 +0000"  >&lt;p&gt;Tested the patch on 3 node cluster. Looks like fault injections are working as expected.&lt;/p&gt;</comment>
                            <comment id="14704207" author="enis" created="Thu, 20 Aug 2015 02:48:25 +0000"  >&lt;p&gt;This is good. However a couple of things: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Zookeeper is usually not started by the hbase scripts. At least in our deployment and testing, it is always the zkServer that is starting the zookeeper.&lt;/li&gt;
	&lt;li&gt;Hadoop daemons are started with a different user than the hbase user, which is also possibly different than the test user who is running the CM. Also the zookeeper user is usually different. Current code base uses a combination of &lt;tt&gt;hbase.it.clustermanager.ssh.user&lt;/tt&gt; and &lt;tt&gt;hbase.it.clustermanager.ssh.cmd&lt;/tt&gt; as a way to configure the ssh user, and if needed run the command as a different user. Our test env uses something like this:&lt;br/&gt;
   
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hbase.it.clustermanager.ssh.cmd&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;/usr/bin/ssh %1$s %2$s%3$s%4$s &lt;span class=&quot;code-quote&quot;&gt;&quot;sudo su - hbase -c \&quot;&lt;/span&gt;%5$s\&quot;&quot;&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;. &lt;br/&gt;
I think we can add a concept of service user, and have it as the 6th argument to the &lt;tt&gt;ssh.cmd&lt;/tt&gt; so that, one can configure the service user per ssh depending on the service type. &lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;We have to make killing of datanodes and zk servers optional. Not all testing needs that.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14705879" author="enis" created="Thu, 20 Aug 2015 22:17:35 +0000"  >&lt;p&gt;I forgot to add one more comment. This assumes that the zookeeper cluster is on the same nodes as the hbase cluster which won&apos;t work for cluster sizes &amp;gt;3. The zookeeper nodes and hdfs nodes have to be discovered separately than the hbase nodes. &lt;/p&gt;</comment>
                            <comment id="14705891" author="srikanth235" created="Thu, 20 Aug 2015 22:25:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; for the review. I&apos;ll post the new patch soon.&lt;/p&gt;</comment>
                            <comment id="14718077" author="srikanth235" created="Fri, 28 Aug 2015 05:23:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;Zookeeper is usually not started by the hbase scripts. At least in our deployment and testing, it is always the zkServer that is starting the zookeeper.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Addressed.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I think we can add a concept of service user, and have it as the 6th argument to the ssh.cmd so that, one can configure the service user per ssh depending on the service type. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;We have to make killing of datanodes and zk servers optional. Not all testing needs that.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Introduced &lt;tt&gt;ServerAndDependenciesKillingMonkeyFactory&lt;/tt&gt; in case if you want to include zk and datanode related faults.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;This assumes that the zookeeper cluster is on the same nodes as the hbase cluster which won&apos;t work for cluster sizes &amp;gt;3.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Currently, zk nodes are being read using &lt;tt&gt;ZKServerTool&lt;/tt&gt; and the actions get triggered on those nodes pointed to by the output. Not sure what exactly was being pointed to here.&lt;/p&gt;

</comment>
                            <comment id="14718186" author="hadoopqa" created="Fri, 28 Aug 2015 08:10:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752938/HBASE-14261.branch-1_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752938/HBASE-14261.branch-1_v2.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit cc1542828de93b8d54cc14497fd5937989ea1b6d.&lt;br/&gt;
  ATTACHMENT ID: 12752938&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 30 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3816 checkstyle errors (more than the master&apos;s current 3815 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +    clusterManager.kill(ServiceType.HBASE_REGIONSERVER, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+    clusterManager.stop(ServiceType.HBASE_REGIONSERVER, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+    clusterManager.kill(ServiceType.HBASE_ZOOKEEPER, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+    clusterManager.stop(ServiceType.HBASE_ZOOKEEPER, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+    clusterManager.start(ServiceType.HADOOP_DATANODE, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+    clusterManager.kill(ServiceType.HADOOP_DATANODE, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+    clusterManager.stop(ServiceType.HADOOP_DATANODE, serverName.getHostname(), serverName.getPort());&lt;br/&gt;
+   * 1 SSH options, 2 user name , 3 &quot;@&quot; if username is set, 4 host, 5 original command, 6 service user.&lt;br/&gt;
+  private static final String DEFAULT_TUNNEL_CMD = &quot;/usr/bin/ssh %1$s %2$s%3$s%4$s \&quot;sudo -u %6$s %5$s\&quot;&quot;;&lt;br/&gt;
+      String cmd = String.format(tunnelCmd, sshOptions, sshUserName, at, hostname, remoteCmd, getServiceUser());&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.cloudstack.GetServiceProviderMetaDataCmdTest.testAuthenticate(GetServiceProviderMetaDataCmdTest.java:83)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15314//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14720761" author="enis" created="Fri, 28 Aug 2015 23:12:08 +0000"  >&lt;p&gt;Thanks Srikanth. The patch looks almost there. Some more comments: &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Currently, zk nodes are being read using ZKServerTool and the actions get triggered on those nodes pointed to by the output. Not sure what exactly was being pointed to here.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sorry I missed this part in the first patch. &lt;/p&gt;

&lt;p&gt;This still prints to the System.out and creates a new Configuration. We want to pass the conf and only print out to system.out when ZkServerTool.main() is called. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; ServerName[] readZKNodes() {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This should be ZOOKEEPER_SERVER since it is not a daemon of HBase. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HBASE_ZOOKEEPER(&lt;span class=&quot;code-quote&quot;&gt;&quot;zookeeper&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is there a way to ask NN the list of datanodes instead of reading &lt;tt&gt;slaves&lt;/tt&gt; file? In my deployment, the slaves files is under &lt;tt&gt;$HADOOP_CONF_DIR&lt;/tt&gt;. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; line: FileUtils.readLines(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(hadoopHome + &lt;span class=&quot;code-quote&quot;&gt;&quot;/etc/hadoop/slaves&quot;&lt;/span&gt;))) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This should default to &quot;hbase&quot; rather than root: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; conf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.it.clustermanager.hbase.user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;root&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In deployments I have seen, hdfs daemons and mapred daemons are run as different users (hdfs and mapred typically). We are only interested in killing hdfs datanodes for now. So maybe &lt;tt&gt;&quot;hbase.it.clustermanager.hadoop.hdfs.user&lt;/tt&gt;? &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; conf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.it.clustermanager.hadoop.user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This does not belong in RemoteShell IMO. Passing the user directly is better. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getServiceUser() {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Better to sleep 100ms rather than 1sec. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      Threads.sleep(1000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some lines are using 4 instead of 2 spaces as indentation. &lt;/p&gt;</comment>
                            <comment id="14724439" author="srikanth235" created="Tue, 1 Sep 2015 00:07:42 +0000"  >&lt;p&gt;Attached patch which addresses the feedback.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; for helping with &lt;tt&gt;DFSClient&lt;/tt&gt; related api discovery.&lt;/p&gt;</comment>
                            <comment id="14724588" author="enis" created="Tue, 1 Sep 2015 02:03:32 +0000"  >&lt;p&gt;LGTM, depending on hadoopqa.  Did you test the patch? &lt;br/&gt;
Not sure whether &lt;tt&gt;hadoop&lt;/tt&gt; or &lt;tt&gt;hdfs&lt;/tt&gt; would be a better default. At least it is configurable. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; conf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.it.clustermanager.hadoop.hdfs.user&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="14724710" author="hadoopqa" created="Tue, 1 Sep 2015 03:12:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753421/HBASE-14261-branch-1_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753421/HBASE-14261-branch-1_v3.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 498c1845ab7b01710955153c27501fdc7492849d.&lt;br/&gt;
  ATTACHMENT ID: 12753421&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 30 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +        throw new IOException(&quot;Hadoop home configuration parameter i.e. &apos;hbase.it.clustermanager.hadoop.home&apos; &quot; +&lt;br/&gt;
+        throw new IOException(&quot;Zookeeper home configuration parameter i.e. &apos;hbase.it.clustermanager.zookeeper.home&apos; &quot; +&lt;br/&gt;
+  private Pair&amp;lt;Integer, String&amp;gt; exec(String hostname, ServiceType service, String... cmd) throws IOException {&lt;br/&gt;
+    String ret = execWithRetries(hostname, service, getCommandProvider(service).isRunningCommand(service))&lt;br/&gt;
+  public static final String KILL_ZK_NODE_TIMEOUT_KEY = &quot;hbase.chaosmonkey.action.killzknodetimeout&quot;;&lt;br/&gt;
+  public static final String START_ZK_NODE_TIMEOUT_KEY = &quot;hbase.chaosmonkey.action.startzknodetimeout&quot;;&lt;br/&gt;
+  public static final String KILL_DATANODE_TIMEOUT_KEY = &quot;hbase.chaosmonkey.action.killdatanodetimeout&quot;;&lt;br/&gt;
+  public static final String START_DATANODE_TIMEOUT_KEY = &quot;hbase.chaosmonkey.action.startdatanodetimeout&quot;;&lt;br/&gt;
+    killZkNodeTimeout = cluster.getConf().getLong(KILL_ZK_NODE_TIMEOUT_KEY, KILL_ZK_NODE_TIMEOUT_DEFAULT);&lt;br/&gt;
+    startZkNodeTimeout = cluster.getConf().getLong(START_ZK_NODE_TIMEOUT_KEY, START_ZK_NODE_TIMEOUT_DEFAULT);&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 4 zombie test(s): 	at org.apache.hadoop.hbase.security.access.TestCellACLs.testCoveringCheck(TestCellACLs.java:405)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15372//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14725752" author="dimaspivak" created="Tue, 1 Sep 2015 17:41:22 +0000"  >&lt;p&gt;Sorry for being so late to the party here, but some comments about the latest patch (which looks awesome, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;):&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I agree with Enis, the HDFS user should default to hdfs instead of hadoop.&lt;/li&gt;
	&lt;li&gt;Any reason that DistributedHBaseCluster (and HBaseCluster) now has waitForZkNodeToStart and waitForDataNodeToStart? I see that there were previously just wait... methods for stopping, so I&apos;m wondering if the wait shouldn&apos;t just be implicit for starts (i.e. do we ever envision wanting to not wait for the service to be started before doing things?).&lt;/li&gt;
	&lt;li&gt;Nit: &quot;LOG.info(&quot;Waiting for service:&quot; + service + &quot; to stop: &quot; + serverName.getServerName());&quot; could use a space after the colon in a couple of places. There are a few other instances of this where we should probably have a space between colons and service names for the sake of readability in the logs later.&lt;/li&gt;
	&lt;li&gt;Super nit: a few comments in your new ServerAndDependenciesKillingMonkeyFactory.java are missing trailing periods.&lt;/li&gt;
	&lt;li&gt;Just as a general best practices question, in HBaseClusterManager, you throw an IOException if hbase.it.clustermanager.
{zookeeper,hadoop}
&lt;p&gt;.home isn&apos;t set. Does not passing a correct config qualify as an IOException, or should this just be a more general Exception?&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;Do you mind adding a TODO to RestApiClusterManager to add this same ZK/HDFS functionality? I can get to it eventually. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;In HBaseMinCluster, the message you log at waitForDataNodeToStop doesn&apos;t match the method.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Great work, Awesome. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14726902" author="srikanth235" created="Wed, 2 Sep 2015 07:28:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any reason that DistributedHBaseCluster (and HBaseCluster) now has waitForZkNodeToStart and waitForDataNodeToStart? I see that there were previously just wait... methods for stopping, so I&apos;m wondering if the wait shouldn&apos;t just be implicit for starts (i.e. do we ever envision wanting to not wait for the service to be started before doing things?).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We do have &lt;tt&gt;waitForRegionServerToStart&lt;/tt&gt; and &lt;tt&gt;waitForActiveAndReadyMaster&lt;/tt&gt;. So, I followed the same pattern here too.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Just as a general best practices question, in HBaseClusterManager, you throw an IOException if hbase.it.clustermanager. {zookeeper,hadoop}.home isn&apos;t set. Does not passing a correct config qualify as an IOException, or should this just be a more general Exception?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree that IOException is not the most appropriate object to use here. Hopefully &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13936&quot; title=&quot;Improve configuration framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13936&quot;&gt;HBASE-13936&lt;/a&gt; will help us in handling misappropriate configurations more appropriately. In the meanwhile, if you have something else in mind, I&apos;d be happy to incorporate into the patch.&lt;/p&gt;

&lt;p&gt;Addressed all other issues in the latest patch.&lt;/p&gt;</comment>
                            <comment id="14726914" author="srikanth235" created="Wed, 2 Sep 2015 07:33:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Did you test the patch? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah, I did today &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;. Had to tweak &lt;tt&gt;ZookeeperShellCommandProvider&lt;/tt&gt; to make things happen as expected.&lt;/p&gt;</comment>
                            <comment id="14727150" author="hadoopqa" created="Wed, 2 Sep 2015 10:35:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753707/HBASE-14261-branch-1_v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753707/HBASE-14261-branch-1_v4.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit f8dd99d7380e5eafae62a9f0c526ba24f98eb2e5.&lt;br/&gt;
  ATTACHMENT ID: 12753707&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestStochasticBalancerJmxMetrics&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 4 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15389//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14727772" author="srikanth235" created="Wed, 2 Sep 2015 18:25:42 +0000"  >&lt;p&gt;The test &lt;tt&gt;TestStochasticBalancerJmxMetrics&lt;/tt&gt; is passing locally on my box.&lt;/p&gt;</comment>
                            <comment id="14727779" author="dimaspivak" created="Wed, 2 Sep 2015 18:29:14 +0000"  >&lt;p&gt;That&apos;s just &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/lastCompletedBuild/testReport/org.apache.hadoop.hbase/TestStochasticBalancerJmxMetrics/history/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;a flaky&lt;/a&gt;, Srikanth. Your latest patch gets a +1 from me.&lt;/p&gt;</comment>
                            <comment id="14727794" author="srikanth235" created="Wed, 2 Sep 2015 18:33:29 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt;. &lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;, you okay with the latest draft?&lt;/p&gt;</comment>
                            <comment id="14728383" author="enis" created="Thu, 3 Sep 2015 01:54:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;Enis Soztutar, you okay with the latest draft?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. Can you please provide a patch for master? &lt;/p&gt;</comment>
                            <comment id="14728448" author="srikanth235" created="Thu, 3 Sep 2015 03:19:00 +0000"  >&lt;p&gt;Attached the patch for master branch.&lt;/p&gt;</comment>
                            <comment id="14728674" author="hadoopqa" created="Thu, 3 Sep 2015 08:17:22 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753910/HBASE-14261.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753910/HBASE-14261.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 3341f13e71a25bf3f8eb5a6a57ce330b3d8a3495.&lt;br/&gt;
  ATTACHMENT ID: 12753910&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15400//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14729543" author="mbertozzi" created="Thu, 3 Sep 2015 18:40:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;wrong message, you can fix it on commit&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java
+  @Override
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void stopDataNode(ServerName serverName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+    LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Aborting datanodes on mini cluster is not supported&quot;&lt;/span&gt;);
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14729908" author="srikanth235" created="Thu, 3 Sep 2015 22:22:40 +0000"  >&lt;p&gt;Thanks folks for the reviews.  Pushed to 1.3+ branches.&lt;/p&gt;</comment>
                            <comment id="14729936" author="hudson" created="Thu, 3 Sep 2015 22:38:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6776 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6776/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6776/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev e48991970d3d584db8716ceaf9b186c46dce34b4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14729947" author="hudson" created="Thu, 3 Sep 2015 22:41:31 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #147 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/147/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/147/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev 1717de65a49f0ae4885be29c888712010aaff506)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14729978" author="srikanth235" created="Thu, 3 Sep 2015 22:55:29 +0000"  >&lt;p&gt;Can I also backport this to other 1.x branches?&lt;/p&gt;</comment>
                            <comment id="14729984" author="enis" created="Thu, 3 Sep 2015 22:59:32 +0000"  >&lt;p&gt;We should at least put this to 1.2 branch. Since this is a testability improvement, this can go in to 1.x IMO. For 1.1 and 1.0, the only concerning change is the extra &lt;tt&gt;sudo -u&lt;/tt&gt; in the command line for the SSH command. It might be fine, since most deployments might already be configuring it for their IT setup. &lt;/p&gt;</comment>
                            <comment id="14729998" author="hudson" created="Thu, 3 Sep 2015 23:08:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #130 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/130/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/130/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev 1717de65a49f0ae4885be29c888712010aaff506)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730290" author="stack" created="Fri, 4 Sep 2015 04:17:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt; Any chance of a release note with example of how to use this fancy new feature!&lt;/p&gt;</comment>
                            <comment id="14731284" author="srikanth235" created="Fri, 4 Sep 2015 19:22:43 +0000"  >&lt;p&gt;Sure, this change warrants one. Will add it soon. Thanks for bringing this up.&lt;/p&gt;</comment>
                            <comment id="14731293" author="srikanth235" created="Fri, 4 Sep 2015 19:27:46 +0000"  >&lt;p&gt;The patch changed (accidentally) printing &quot;Zk host&quot; to &quot;ZK host&quot; in &lt;tt&gt;ZkServerTool&lt;/tt&gt;.  The addendum should fix this.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; for noticing and bringing this to attention.&lt;/p&gt;</comment>
                            <comment id="14731339" author="mbertozzi" created="Fri, 4 Sep 2015 19:59:39 +0000"  >&lt;p&gt;+1 on addendum, but on commit you should add a comment like // bin/zookeeper.sh relies on the &quot;ZK host&quot; string&lt;br/&gt;
also we should have another jira to have testing for that zookeer.sh or change that in grep insensitive&lt;/p&gt;</comment>
                            <comment id="14731615" author="hudson" created="Fri, 4 Sep 2015 23:38:23 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #150 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/150/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections; ADDENDUM (ssrungarapu: rev b84908857e562fad6ef7d7151990ab0206e40133)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14731690" author="hudson" created="Sat, 5 Sep 2015 01:29:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #134 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/134/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/134/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections; ADDENDUM (ssrungarapu: rev b84908857e562fad6ef7d7151990ab0206e40133)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14731703" author="hudson" created="Sat, 5 Sep 2015 01:59:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6783 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6783/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections; ADDENDUM (ssrungarapu: rev 2969093b5b39cb950d8710cfffa7e55484d40259)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14732055" author="apurtell" created="Sat, 5 Sep 2015 17:42:15 +0000"  >&lt;p&gt;I think this could go back to 0.98 too. Unless I hear otherwise I&apos;ll expect to be the one fixing up a cherry pick to there. &lt;/p&gt;</comment>
                            <comment id="14738443" author="hudson" created="Thu, 10 Sep 2015 09:02:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #134 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/134/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/134/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev 42ded3a1f91f380e02f9b63cccf5f566e44c4120)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14738527" author="hudson" created="Thu, 10 Sep 2015 09:58:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #158 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/158/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/158/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev 42ded3a1f91f380e02f9b63cccf5f566e44c4120)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14738583" author="hudson" created="Thu, 10 Sep 2015 10:57:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1042 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1042/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1042/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev 5412619659a8bb65ee606d612f72fa7d648ae3fe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14738609" author="hudson" created="Thu, 10 Sep 2015 11:32:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #653 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/653/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/653/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev 95425c44c06684ff29a0984fdda15e2b4165008f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14738641" author="hudson" created="Thu, 10 Sep 2015 12:13:25 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1113 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1113/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1113/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev b400b8572f1ff07a6d66f9fd980796081742e302)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14738719" author="hudson" created="Thu, 10 Sep 2015 13:13:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1066 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1066/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1066/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections. (ssrungarapu: rev b400b8572f1ff07a6d66f9fd980796081742e302)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartActionBaseAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/RESTApiClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomZKNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/Action.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/ServerAndDependenciesKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKServerTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14741290" author="yuzhihong@gmail.com" created="Fri, 11 Sep 2015 18:26:01 +0000"  >&lt;p&gt;The following compilation error is reproducible on Mac and Linux for hadoop-1.1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) on project hbase-it: Compilation failure: Compilation failure:
[ERROR] /Users/tyu/98/hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java:[27,38] error: cannot find symbol
[ERROR] symbol:   class HdfsConstants
[ERROR] location: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop.hdfs.protocol
[ERROR] /Users/tyu/98/hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java:[53,70] error: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; HdfsConstants does not exist
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14741295" author="apurtell" created="Fri, 11 Sep 2015 18:28:47 +0000"  >&lt;p&gt;Interested in making an addendum? If not I&apos;ll do it. &lt;/p&gt;</comment>
                            <comment id="14741333" author="yuzhihong@gmail.com" created="Fri, 11 Sep 2015 18:41:30 +0000"  >&lt;p&gt;My hands are full at the moment.&lt;/p&gt;</comment>
                            <comment id="14741346" author="apurtell" created="Fri, 11 Sep 2015 18:44:56 +0000"  >&lt;p&gt;Ok, I&apos;ll fix it&lt;/p&gt;</comment>
                            <comment id="14741372" author="srikanth235" created="Fri, 11 Sep 2015 18:55:44 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="14741842" author="apurtell" created="Sat, 12 Sep 2015 01:41:18 +0000"  >&lt;p&gt;Attaching what I committed to 0.98. &lt;/p&gt;

&lt;p&gt;The public constant enum DatanodeReportType moved around. We need to supply a DatanodeReportType to DFSClient#datanodeReport to select the report type. I&apos;ve hidden its use behind a new shim in the compat modules and all is now well again. &lt;/p&gt;</comment>
                            <comment id="14741962" author="hudson" created="Sat, 12 Sep 2015 08:08:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1074 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1074/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1074/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections (apurtell: rev 334c716ae349a212103af3bdf1edc706a3b9faad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/test/java/org/apache/hadoop/hbase/HadoopShimsImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop1-compat/src/test/java/org/apache/hadoop/hbase/HadoopShimsImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/test/java/org/apache/hadoop/hbase/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14741964" author="hudson" created="Sat, 12 Sep 2015 08:13:25 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1121 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1121/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1121/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections (apurtell: rev 334c716ae349a212103af3bdf1edc706a3b9faad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/actions/RestartRandomDataNodeAction.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/test/java/org/apache/hadoop/hbase/HadoopShimsImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop1-compat/src/test/java/org/apache/hadoop/hbase/HadoopShimsImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/test/java/org/apache/hadoop/hbase/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14954244" author="hudson" created="Tue, 13 Oct 2015 02:09:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6898 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6898/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6898/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14558&quot; title=&quot;Document ChaosMonkey enhancements from HBASE-14261&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14558&quot;&gt;&lt;del&gt;HBASE-14558&lt;/del&gt;&lt;/a&gt; Documenmt ChaosMonkey enhancements from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14261&quot; title=&quot;Enhance Chaos Monkey framework by adding zookeeper and datanode fault injections.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14261&quot;&gt;&lt;del&gt;HBASE-14261&lt;/del&gt;&lt;/a&gt; (mstanleyjones: rev 397bc555e300b6c528008e6122d489792786b559)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/asciidoc/_chapters/developer.adoc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119528" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:44 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12755524" name="HBASE-14261-0.98-addendum.patch" size="7014" author="apurtell" created="Sat, 12 Sep 2015 01:41:18 +0000"/>
                            <attachment id="12754257" name="HBASE-14261-addendum.patch" size="683" author="srikanth235" created="Fri, 4 Sep 2015 19:27:46 +0000"/>
                            <attachment id="12751364" name="HBASE-14261-branch-1.patch" size="28329" author="srikanth235" created="Wed, 19 Aug 2015 23:32:04 +0000"/>
                            <attachment id="12753421" name="HBASE-14261-branch-1_v3.patch" size="38800" author="srikanth235" created="Tue, 1 Sep 2015 00:04:58 +0000"/>
                            <attachment id="12753707" name="HBASE-14261-branch-1_v4.patch" size="39978" author="srikanth235" created="Wed, 2 Sep 2015 07:29:03 +0000"/>
                            <attachment id="12752938" name="HBASE-14261.branch-1_v2.patch" size="37419" author="srikanth235" created="Fri, 28 Aug 2015 05:18:54 +0000"/>
                            <attachment id="12753910" name="HBASE-14261.patch" size="39846" author="srikanth235" created="Thu, 3 Sep 2015 03:18:28 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12902590">HBASE-14558</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Aug 2015 02:48:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j4mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This change augments existing chaos monkey framework with actions for restarting underlying zookeeper quorum and hdfs nodes of distributed hbase cluster. One assumption made while creating zk actions are that zookeper ensemble is an independent external service and won&amp;#39;t be managed by hbase cluster.  For these actions to work as expected, the following parameters need to be configured appropriately.&lt;br/&gt;
&lt;br/&gt;
{code}&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;name&amp;gt;hbase.it.clustermanager.hadoop.home&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;value&amp;gt;$HADOOP_HOME&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;name&amp;gt;hbase.it.clustermanager.zookeeper.home&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;value&amp;gt;$ZOOKEEPER_HOME&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;name&amp;gt;hbase.it.clustermanager.hbase.user&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;value&amp;gt;hbase&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;name&amp;gt;hbase.it.clustermanager.hadoop.hdfs.user&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;value&amp;gt;hdfs&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;name&amp;gt;hbase.it.clustermanager.zookeeper.user&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;lt;value&amp;gt;zookeeper&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
{code}&lt;br/&gt;
&lt;br/&gt;
The service user related configurations are newly introduced since in prod/test environments each service is managed by different user. Once the above parameters are configured properly, you can start using them as needed. An example usage for invoking these new actions is:&lt;br/&gt;
&lt;br/&gt;
{{./hbase org.apache.hadoop.hbase.IntegrationTestAcidGuarantees -m serverAndDependenciesKilling}}&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>