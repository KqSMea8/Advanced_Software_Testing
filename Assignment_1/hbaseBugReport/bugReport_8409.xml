<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:54:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8409/HBASE-8409.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8409] Security support for namespaces</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8409</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This task adds the security piece to the namespace feature. The work related to migration of the existing acl table to the new namespace is remaining and will be completed in the follow up patch. Permissions can be granted to a namespace by the hbase admin, by appending &apos;@&apos; to the namespace name. A user with write or admin permissions on a given namespace can create tables in that namespace. The other privileges (R, X, C ) do not have any special meaning w.r.t namespaces.  Any users of hbase can list tables in a namespace.&lt;/p&gt;

&lt;p&gt;The following commands can only be executed by HBase admins.&lt;br/&gt;
1. Grant privileges for user on Namespace.&lt;br/&gt;
2. Revoke privileges for user on Namespace&lt;/p&gt;


&lt;p&gt;Grant Command:&lt;br/&gt;
hbase&amp;gt; grant &apos;tenant-A&apos; &apos;W&apos; &apos;@N1&apos;&lt;br/&gt;
 In the above example, the command will grant the user &apos;tenant-A&apos; write privileges for a namespace named &quot;N1&quot;.&lt;/p&gt;

&lt;p&gt;Revoke Command:&lt;/p&gt;

&lt;p&gt;hbase&amp;gt; revoke &apos;tenant-A&apos;&apos;@N1&apos;&lt;br/&gt;
 In the above example, the command will revoke  all privileges from user &apos;tenant-A&apos; for namespace named &quot;N1&quot;.&lt;/p&gt;

&lt;p&gt;Lets see an example on how privileges work with namespaces.&lt;/p&gt;


&lt;p&gt;User &quot;Mike&quot; request for a namespace named &quot;hbase_perf&quot; with the hbase admin.&lt;br/&gt;
      whoami: hbase&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; namespace_create &apos;hbase_perf&apos;&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; grant &apos;mike&apos;, &apos;W&apos;, &apos;@hbase_perf&apos;&lt;br/&gt;
Mike creates two tables &quot;table20&quot; and &quot;table50&quot; in the above workspace.&lt;br/&gt;
      whoami: mike&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; create &apos;hbase_perf.table20&apos;, &apos;family1&apos;&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; create &apos;hbase_perf.table50&apos;, &apos;family1&apos;&lt;/p&gt;

&lt;p&gt;      Note: As Mike was able to create tables &apos;hbase_perf.table20&apos;, &apos;hbase_perf.table50&apos;, he becomes the owner of those tables. &lt;br/&gt;
      This means he has &quot;RWXCA&quot; perms on those tables.&lt;br/&gt;
Another team member of Mike, Alice wants also to share the same workspace &quot;hbase_perf&quot;. HBase admin grants Alice also permission to create tables in &quot;hbase_perf&quot; namespace.&lt;br/&gt;
      whoami: hbase&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; grant &apos;alice&apos;, &apos;W&apos;, &apos;@hbase_perf&apos;&lt;br/&gt;
Now Alice can create new tables under &quot;hbase_perf&quot; namespace, but cannot read,write,alter,delete existing tables in the namespace.&lt;/p&gt;


&lt;p&gt;      whoami: alice&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; namespace_list_tables &apos;hbase_perf&apos;&lt;br/&gt;
                     hbase_perf.table20&lt;br/&gt;
                     hbase_perf.table50&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; scan &apos;hbase_perf.table20&apos;&lt;br/&gt;
                     AccessDeniedException  &lt;/p&gt;


&lt;p&gt;If Alice wants to read or write to existing tables in the &quot;hbase_perf&quot; namespace, hbase admins need to explicitly grant permission.&lt;/p&gt;


&lt;p&gt;      whoami: hbase&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; grant &apos;alice&apos;, &apos;RW&apos;, &apos;hbase_perf.table20&apos;&lt;br/&gt;
      hbase shell &amp;gt;&amp;gt; grant &apos;alice&apos;, &apos;RW&apos;, &apos;hbase_perf.table50&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644238">HBASE-8409</key>
            <summary>Security support for namespaces</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12635622">HBASE-8015</parent>
                                    <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="avandana">Vandana Ayyalasomayajula</assignee>
                                    <reporter username="toffer">Francis Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Apr 2013 23:18:14 +0000</created>
                <updated>Tue, 29 Mar 2016 20:19:37 +0000</updated>
                            <resolved>Tue, 13 Aug 2013 22:02:50 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13689904" author="avandana" created="Fri, 21 Jun 2013 00:44:33 +0000"  >&lt;p&gt;First draft of the patch.&lt;/p&gt;</comment>
                            <comment id="13689910" author="avandana" created="Fri, 21 Jun 2013 00:48:53 +0000"  >&lt;p&gt;Review board link: &lt;a href=&quot;https://reviews.apache.org/r/12020/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12020/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13729552" author="mbertozzi" created="Mon, 5 Aug 2013 14:55:42 +0000"  >&lt;p&gt;Do you plan to add a migration step to the NamespaceUpgrade tool? migrating the &lt;em&gt;acl&lt;/em&gt; table to hbase.&lt;em&gt;acl&lt;/em&gt;?&lt;br/&gt;
How do you handle the row keys migration? just a simple scan, put new values and delete the old ones?&lt;/p&gt;</comment>
                            <comment id="13729710" author="apurtell" created="Mon, 5 Aug 2013 17:49:09 +0000"  >&lt;p&gt;Related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9124&quot; title=&quot;_acl_ table should be migrated to system namespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9124&quot;&gt;&lt;del&gt;HBASE-9124&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13729736" author="stack" created="Mon, 5 Aug 2013 18:07:11 +0000"  >&lt;p&gt;Can the new acl table be called hbase.acl instead of hbase.&lt;em&gt;acl&lt;/em&gt;?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The work related to migration of the existing acl table to the new namespace is remaining and will be completed in the follow up patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As per our Matteo, how is the above going?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Permissions can be granted to a namespace by the hbase admin, by appending &apos;@&apos; to the namespace name.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What is the &apos;@&apos; about?  Seems awkward?  Is this because our current grant didn&apos;t include ns:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grant &amp;lt;user&amp;gt; &amp;lt;permissions&amp;gt; [ &amp;lt;table&amp;gt; [ &amp;lt;column family&amp;gt; [ &amp;lt;column qualifier&amp;gt; ] ] ]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... the &apos;@&apos; is how we get it in there?  Can we do better?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;





</comment>
                            <comment id="13729737" author="stack" created="Mon, 5 Aug 2013 18:07:32 +0000"  >&lt;p&gt;ns can&apos;t go in w/o this fixed (migration and &apos;@&apos; thingy)&lt;/p&gt;</comment>
                            <comment id="13729904" author="toffer" created="Mon, 5 Aug 2013 20:40:00 +0000"  >&lt;p&gt;Yes, that&apos;s the plan. The table migration will be part of 8408 just to keep the patches more independent. Yep it&apos;ll be done in NamespaceUpgrade. I don&apos;t plan to scan since I know the table names. I was hoping I could get by just deleting the old keys and writing the new ones. Also will have to rewrite .regioninfo since the table name change. All of this has to be done will the system is offline. Does this sound feasible?&lt;/p&gt;

&lt;p&gt;Vandana is on vacation this week. So I&apos;ll take care of the work in the interest of expediency.&lt;/p&gt;</comment>
                            <comment id="13729914" author="toffer" created="Mon, 5 Aug 2013 20:45:28 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Can the new acl table be called hbase.acl instead of hbase.acl?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I assuming rename &lt;em&gt;acl&lt;/em&gt; =&amp;gt; hbase:acl? That&apos;s the plan.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What is the &apos;@&apos; about? Seems awkward? Is this because our current grant didn&apos;t include ns:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It&apos;s to disambiguate granting per table and granting per namespace. The same paradigm (prefix with &apos;@&apos;) is used to disambiguate user and group in the grant command. We could also go with &lt;/p&gt;

&lt;p&gt;grant &amp;lt;user&amp;gt; &amp;lt;permissions&amp;gt; &amp;lt;namespace&amp;gt;:&lt;/p&gt;

&lt;p&gt;ie&lt;/p&gt;

&lt;p&gt;grant &apos;foo&apos;, &apos;A&apos;, &apos;my_ns:&apos;&lt;/p&gt;

&lt;p&gt;To disambiguate NS from table. We couldn&apos;t do this before since we were using &apos;.&apos;. Does this sound ok?&lt;/p&gt;
</comment>
                            <comment id="13729919" author="stack" created="Mon, 5 Aug 2013 20:48:42 +0000"  >&lt;p&gt;I forgot that group is done w/ a &apos;@&apos;.  So there is precedent.  Might be ok as-is then.&lt;/p&gt;

&lt;p&gt;On rewriting .regioninfo, FYI &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8778&quot; title=&quot;Region assigments scan table directory making them slow for huge tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8778&quot;&gt;&lt;del&gt;HBASE-8778&lt;/del&gt;&lt;/a&gt; moves stuff around and is about to go in.&lt;/p&gt;</comment>
                            <comment id="13730261" author="enis" created="Tue, 6 Aug 2013 02:01:43 +0000"  >&lt;p&gt;+1 on naming hbase.acl instead of &quot;&lt;em&gt;acl&lt;/em&gt;&quot;. &lt;br/&gt;
For createTable:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    requireGlobalPermission(&lt;span class=&quot;code-quote&quot;&gt;&quot;createTable&quot;&lt;/span&gt;, Permission.Action.CREATE, desc.getName(), familyMap);
+    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+      requireGlobalPermission(&lt;span class=&quot;code-quote&quot;&gt;&quot;createTable&quot;&lt;/span&gt;, Permission.Action.CREATE, desc.getName(), familyMap);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (AccessDeniedException exp) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We should first check whether there is permissions at the NS level, then check for global level instead of catching the exception.&lt;/p&gt;

&lt;p&gt;Namespace permissions should not be based on privileges in acl table, but rather global perms.&lt;/p&gt;

&lt;p&gt;We would need documentation in book accordingly. &lt;/p&gt;

&lt;p&gt;Would be good if more security experts take a look. &lt;/p&gt;</comment>
                            <comment id="13730946" author="toffer" created="Tue, 6 Aug 2013 16:52:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;On rewriting .regioninfo, FYI &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8778&quot; title=&quot;Region assigments scan table directory making them slow for huge tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8778&quot;&gt;&lt;del&gt;HBASE-8778&lt;/del&gt;&lt;/a&gt; moves stuff around and is about to go in.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Looks like it got in. Will have to rebase and start working on the upgrade. Hopefully we can get namespace in soon.&lt;/p&gt;</comment>
                            <comment id="13730975" author="apurtell" created="Tue, 6 Aug 2013 17:16:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;Namespace permissions should not be based on privileges in acl table, but rather global perms.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s late. These are just thoughts. &lt;/p&gt;

&lt;p&gt;The ability to create or delete namespaces should require GLOBAL ADMIN.&lt;/p&gt;

&lt;p&gt;The ability to create tables within a namespace should require ADMIN or CREATE grants on the namespace. (Isn&apos;t it confusing to be able to create tables if you have WRITE access on a namespace but not CREATE? CREATE has no meaning?) &lt;/p&gt;

&lt;p&gt;Any user permissions granted on a namespace authorize to all tables in the namespace.&lt;/p&gt;</comment>
                            <comment id="13730991" author="enis" created="Tue, 6 Aug 2013 17:29:39 +0000"  >&lt;p&gt;One more comment is that if the user has already existing permissions in the acl table, the migration script should rename that table, or copy the acl definitions. Shall we do it in another subtask? &lt;/p&gt;</comment>
                            <comment id="13735481" author="stack" created="Fri, 9 Aug 2013 23:17:52 +0000"  >&lt;p&gt;This is a blocker on 0.95.2&lt;/p&gt;</comment>
                            <comment id="13735493" author="stack" created="Fri, 9 Aug 2013 23:22:45 +0000"  >&lt;p&gt;Needed for 0.95.2&lt;/p&gt;</comment>
                            <comment id="13736251" author="toffer" created="Sun, 11 Aug 2013 10:49:10 +0000"  >&lt;p&gt;rebased patch. &lt;/p&gt;

&lt;p&gt;Added namespace specific apis and support for different permission types in Permission PB. &lt;/p&gt;

&lt;p&gt;Also includes migration logic in NamespaceMigration to migrate &lt;em&gt;acl&lt;/em&gt; table. Tho it does not migrate snapshots of the &lt;em&gt;acl&lt;/em&gt; table. So those snapshots may be invalidated.&lt;/p&gt;

&lt;p&gt;Needs new attached TestNamespaceUpgrade.tgz which now contains &lt;em&gt;acl&lt;/em&gt; table.&lt;/p&gt;</comment>
                            <comment id="13736474" author="stack" created="Mon, 12 Aug 2013 00:09:19 +0000"  >&lt;p&gt;I know you are following &apos;convention&apos; but I hate that we have work other than convertion going on in protobufutil; to be addressed in subsequent issues.&lt;/p&gt;

&lt;p&gt;Regards:&lt;/p&gt;

&lt;p&gt;+  //we need to refacting this into three classes (Global, Table, Namespace)&lt;/p&gt;

&lt;p&gt;...what are implications of not refactoring?  It all works, it is just ugly?&lt;/p&gt;

&lt;p&gt;So, this is like a union in that enum says what is following &amp;#8211; a global, ns, or table?&lt;/p&gt;

&lt;p&gt;+    enum Type &lt;/p&gt;
{
+        Global = 1;
+        Namespace = 2;
+        Table = 3;
+    }
&lt;p&gt;+    required Type type = 1;&lt;br/&gt;
+    optional GlobalPermission global_permission = 2;&lt;br/&gt;
+    optional NamespacePermission namespace_permission = 3;&lt;br/&gt;
+    optional TablePermission table_permission = 4;&lt;/p&gt;


&lt;p&gt;We migrate meta before we rename it now?&lt;/p&gt;

&lt;p&gt;Patch lgtm.  Has new test for new functionality.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; What you think boss?   Or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt;?  Thanks lads.&lt;/p&gt;</comment>
                            <comment id="13736545" author="toffer" created="Mon, 12 Aug 2013 03:51:59 +0000"  >&lt;p&gt;Change signature of non-pb apis with namespace from byte[] to string to be consistent with core namespace apis. &lt;/p&gt;

&lt;p&gt;Added major compaction logic into acl migration to keep snapshots of old &lt;em&gt;acl&lt;/em&gt; table unbroken.&lt;/p&gt;</comment>
                            <comment id="13736547" author="toffer" created="Mon, 12 Aug 2013 03:56:57 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I know you are following &apos;convention&apos; but I hate that we have work other than convertion going on in protobufutil; to be addressed in subsequent issues.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed. I started with a lot of refactoring but the patch was getting big and complex. Wanted to keep things simple given this is a blocker.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;...what are implications of not refactoring? It all works, it is just ugly?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah all works, just ugly and hard to understand.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;So, this is like a union in that enum says what is following &#8211; a global, ns, or table?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah, needed polymorphism. This was the closest I could think of. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We migrate meta before we rename it now?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah. Needed access to meta for acl migration. Filesystem version update is now the &quot;final commit&quot;&lt;/p&gt;
</comment>
                            <comment id="13737091" author="apurtell" created="Mon, 12 Aug 2013 17:34:22 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;what are implications of not refactoring? It all works, it is just ugly?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah all works, just ugly and hard to understand.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Over time we&apos;ve built up debt in the access controller. We should take the pain of fixing it on the back end so it doesn&apos;t block this feature. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7123&quot; title=&quot;Refactor internal methods in AccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7123&quot;&gt;HBASE-7123&lt;/a&gt;. Can do it there. I&apos;m thinking we add support for namespaces and then per cell ACLs and then call in the janitor. (Paging Mr. Purtell.) May be reasonable to do some janitorial work as part of porting per cell ACLs to trunk and tags also.&lt;/p&gt;</comment>
                            <comment id="13737130" author="stack" created="Mon, 12 Aug 2013 18:07:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; Sounds reasonable sir.  You +1 on this patch then?&lt;/p&gt;</comment>
                            <comment id="13737140" author="apurtell" created="Mon, 12 Aug 2013 18:12:58 +0000"  >&lt;p&gt;Sorry, +1 on the latest patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13737326" author="toffer" created="Mon, 12 Aug 2013 20:53:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; missed this comment. Thought I should address it.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The ability to create tables within a namespace should require ADMIN or CREATE grants on the namespace. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yep this is how it behaves.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;(Isn&apos;t it confusing to be able to create tables if you have WRITE access on a namespace but not CREATE? CREATE has no meaning?) &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The model we were going for was similar to unix directories. Write privilege on a directory allows you to create files/dirs in it. Yeah CREATE has no meaning in this case. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Any user permissions granted on a namespace authorize to all tables in the namespace.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It seems RWCXA may potentially be not enough to express the types of privileges we want to enforce on a namespace. As there are privileges that we want inherited (RWXCA) and there are privileges that apply only to namespaces (list, modify metadata, etc). &lt;/p&gt;

&lt;p&gt;I&apos;ll create a separate jira to address all the namespace privileges. And we can stick with the two existing basic privileges for now?&lt;/p&gt;

</comment>
                            <comment id="13737329" author="toffer" created="Mon, 12 Aug 2013 20:54:42 +0000"  >&lt;p&gt;I can remove the existing &quot;Write&quot; namespace privilege for now. So we won&apos;t have any backward compatibility issues as well? This means table create is still left to global admin.&lt;/p&gt;</comment>
                            <comment id="13737372" author="apurtell" created="Mon, 12 Aug 2013 21:28:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;The model we were going for was similar to unix directories. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Instead of directories, I see namespaces as another level in a hierarchy of grants: cell, column family, table, namespace, global. List that out in the inverse for the dominance relationship. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;ll create a separate jira to address all the namespace privileges. And we can stick with the two existing basic privileges for now?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I can remove the existing &quot;Write&quot; namespace privilege for now. So we won&apos;t have any backward compatibility issues as well? This means table create is still left to global admin.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was wondering if it would be possible to change this bit of logic on namespace grants from a test for WRITE to a test for CREATE or (CREATE|ADMIN). In your administrative model, is there such a thing as namespace ADMIN or a user with privilege to CREATE in the namespace only?&lt;/p&gt;</comment>
                            <comment id="13737376" author="apurtell" created="Mon, 12 Aug 2013 21:30:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;As there are privileges that we want inherited (RWXCA) and there are privileges that apply only to namespaces (list, modify metadata, etc)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should be a separate JIRA. We can add more privilege types beyond RWXCA. &lt;/p&gt;</comment>
                            <comment id="13737406" author="toffer" created="Mon, 12 Aug 2013 21:51:44 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I was wondering if it would be possible to change this bit of logic on namespace grants from a test for WRITE to a test for CREATE or (CREATE|ADMIN). In your administrative model, is there such a thing as namespace ADMIN or a user with privilege to CREATE in the namespace only?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Might be reading this wrong. But that&apos;s what the test for namespace write privilege was for. Namespace write privilege allows the user to create tables within the namespace only.&lt;/p&gt;
</comment>
                            <comment id="13737828" author="stack" created="Tue, 13 Aug 2013 05:10:37 +0000"  >&lt;p&gt;Are you fellas still debating &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt;?  Sounds like you are both saying improvement is for another issue and this patch can go in as is?&lt;/p&gt;

&lt;p&gt;What about this work Francis: &quot; The work related to migration of the existing acl table to the new namespace is remaining and will be completed in the follow up patch. &quot; ?  That is included in this patch right if I read the above properly?&lt;/p&gt;

&lt;p&gt;The description on this issue is really good.  Can it become the release note.  Does this patch implement what the issue description outlines or were there compromises or adjustment?  Can the release also explain that there is precedent for the &apos;@&apos; symbol else it looks like it came from left field.&lt;/p&gt;
</comment>
                            <comment id="13738412" author="toffer" created="Tue, 13 Aug 2013 16:10:52 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Are you fellas still debating Andrew Purtell and Francis Liu? Sounds like you are both saying improvement is for another issue and this patch can go in as is?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think debate is done. We&apos;ll address namespace security enhancements in a separate patch.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What about this work Francis: &quot; The work related to migration of the existing acl table to the new namespace is remaining and will be completed in the follow up patch. &quot; ? That is included in this patch right if I read the above properly?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yep, it&apos;s included in NamespaceUpgrade. I Updated tgz file to include acl table.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The description on this issue is really good. Can it become the release note. Does this patch implement what the issue description outlines or were there compromises or adjustment? Can the release also explain that there is precedent for the &apos;@&apos; symbol else it looks like it came from left field.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We agreed on the functionality but not to which privilege they map to. Sounds like we will need more privileges hence removing that functionality in the patch for now. Only permission check is CRUD of namespace which will require global admin. I can update the release notes for that. BTW where is the release note?&lt;/p&gt;
</comment>
                            <comment id="13738427" author="apurtell" created="Tue, 13 Aug 2013 16:21:10 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Are you fellas still debating Andrew Purtell and Francis Liu? Sounds like you are both saying improvement is for another issue and this patch can go in as is?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think debate is done. We&apos;ll address namespace security enhancements in a separate patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A conversation. +1 for separate patch&lt;/p&gt;</comment>
                            <comment id="13738463" author="toffer" created="Tue, 13 Aug 2013 16:38:09 +0000"  >&lt;p&gt;Updated patch. Removed namespace table create permission will be addressed in a separate patch.&lt;/p&gt;</comment>
                            <comment id="13738511" author="toffer" created="Tue, 13 Aug 2013 17:18:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9206&quot; title=&quot;namespace permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9206&quot;&gt;HBASE-9206&lt;/a&gt; to address the extended permissions.&lt;/p&gt;</comment>
                            <comment id="13738870" author="stack" created="Tue, 13 Aug 2013 21:41:35 +0000"  >&lt;p&gt;Ok.  Let me commit.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; Hit the edit button on this issue and then you will see a textbox named &apos;release note&apos; if you scroll down a little.  Thanks boss.&lt;/p&gt;</comment>
                            <comment id="13738895" author="stack" created="Tue, 13 Aug 2013 22:01:14 +0000"  >&lt;p&gt;What I committed to 0.95 (a few minor rejects)&lt;/p&gt;</comment>
                            <comment id="13738897" author="stack" created="Tue, 13 Aug 2013 22:02:50 +0000"  >&lt;p&gt;Committed to trunk and 0.95.  Thanks for the patch Vandana and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; for finishing it up).  Mind updating the release note?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13739067" author="hudson" created="Wed, 14 Aug 2013 00:23:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #239 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/239/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/239/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8409&quot; title=&quot;Security support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8409&quot;&gt;&lt;del&gt;HBASE-8409&lt;/del&gt;&lt;/a&gt; Security support for namespaces (stack: rev 1513668)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ResponseConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/UserPermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AccessControlProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-protocol/src/main/protobuf/AccessControl.proto&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/migration/NamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AuthResult.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/ZKPermissionWatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/generated/Hbase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/data/TestNamespaceUpgrade.tgz&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/migration/TestNamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/SecureTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessControlFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestZKPermissionsWatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13739117" author="hudson" created="Wed, 14 Aug 2013 01:19:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #673 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/673/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/673/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8409&quot; title=&quot;Security support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8409&quot;&gt;&lt;del&gt;HBASE-8409&lt;/del&gt;&lt;/a&gt; Security support for namespaces (stack: rev 1513666)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ResponseConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/UserPermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AccessControlProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/AccessControl.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/migration/NamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AuthResult.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/ZKPermissionWatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/generated/Hbase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/security.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/TestNamespaceUpgrade.tgz&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/migration/TestNamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/SecureTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessControlFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestNamespaceCommands.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestZKPermissionsWatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13739125" author="hudson" created="Wed, 14 Aug 2013 01:21:15 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95 #442 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/442/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/442/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8409&quot; title=&quot;Security support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8409&quot;&gt;&lt;del&gt;HBASE-8409&lt;/del&gt;&lt;/a&gt; Security support for namespaces (stack: rev 1513668)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ResponseConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/UserPermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AccessControlProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-protocol/src/main/protobuf/AccessControl.proto&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/migration/NamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AuthResult.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/ZKPermissionWatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/generated/Hbase.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/data/TestNamespaceUpgrade.tgz&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/migration/TestNamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/SecureTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessControlFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestZKPermissionsWatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13739148" author="hudson" created="Wed, 14 Aug 2013 02:09:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4383 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4383/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4383/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8409&quot; title=&quot;Security support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8409&quot;&gt;&lt;del&gt;HBASE-8409&lt;/del&gt;&lt;/a&gt; Security support for namespaces (stack: rev 1513666)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ResponseConverter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/security/access/UserPermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AccessControlProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/AccessControl.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/migration/NamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AuthResult.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/ZKPermissionWatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/generated/Hbase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/security.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/TestNamespaceUpgrade.tgz&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestSecureLoadIncrementalHFilesSplitRecovery.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/migration/TestNamespaceUpgrade.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/SecureTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessControlFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestNamespaceCommands.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestZKPermissionsWatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13743567" author="devaraj" created="Mon, 19 Aug 2013 06:07:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt;, I lack sufficient context here but I wonder why hbase-server/src/main/ruby/hbase/security.rb was left out from the 0.95 commit?&lt;/p&gt;</comment>
                            <comment id="13743923" author="stack" created="Mon, 19 Aug 2013 15:48:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; Did we misapply the patch?  I looked at v4 and see that there is a change to security.rb in there but applying the patch it does not apply.  Do we need to go over this patch again.&lt;/p&gt;</comment>
                            <comment id="13743939" author="devaraj" created="Mon, 19 Aug 2013 16:02:25 +0000"  >&lt;p&gt;Yes it seems we need to go over the patch again. In 0.95.x I am sure we didn&apos;t apply any change to security.rb whereas in trunk we did.&lt;br/&gt;
The reason why I started looking is that the universal grant command (grant &apos;bob&apos;, &apos;RWX&apos;) does not work in 0.95.x. It NPEs out saying that &quot;TableName cannot be null&quot;. I believe part (or maybe all) of the reason is that the security.rb changes have not been applied to 0.95.x.&lt;/p&gt;</comment>
                            <comment id="13744395" author="devaraj" created="Mon, 19 Aug 2013 22:49:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;I looked at v4 and see that there is a change to security.rb in there but applying the patch it does not apply&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The reason why it couldn&apos;t be applied cleanly was that there was another patch that got left out sometime back - &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7658&quot; title=&quot;grant with an empty string as permission should throw an exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7658&quot;&gt;&lt;del&gt;HBASE-7658&lt;/del&gt;&lt;/a&gt;. I just committed that to the 0.95 branch. Any objections to committing the security.rb part from the trunk patch to the 0.95 branch now? I tested it as well and the &apos;grant &amp;lt;user&amp;gt; &amp;lt;permissions&amp;gt;&apos; work as usual with the security.rb change proposed in this patch.&lt;/p&gt;</comment>
                            <comment id="13744404" author="devaraj" created="Mon, 19 Aug 2013 22:55:30 +0000"  >&lt;p&gt;Here is the part of the patch that got left out from 0.95.&lt;/p&gt;</comment>
                            <comment id="13744410" author="devaraj" created="Mon, 19 Aug 2013 22:59:02 +0000"  >&lt;p&gt;I committed the addendum. There was not a single line of code change needed on the addendum after I pushed the patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7658&quot; title=&quot;grant with an empty string as permission should throw an exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7658&quot;&gt;&lt;del&gt;HBASE-7658&lt;/del&gt;&lt;/a&gt; to the 0.95 branch.&lt;/p&gt;</comment>
                            <comment id="13744538" author="hudson" created="Mon, 19 Aug 2013 23:59:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #255 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/255/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/255/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8409&quot; title=&quot;Security support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8409&quot;&gt;&lt;del&gt;HBASE-8409&lt;/del&gt;&lt;/a&gt;. Addendum. Part of the patch that got missed in the 0.95 commit of the original patch (ddas: rev 1515655)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/hbase/security.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13744552" author="stack" created="Tue, 20 Aug 2013 00:19:25 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; for fixing my messup&lt;/p&gt;</comment>
                            <comment id="13744591" author="hudson" created="Tue, 20 Aug 2013 01:19:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #472 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/472/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/472/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8409&quot; title=&quot;Security support for namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8409&quot;&gt;&lt;del&gt;HBASE-8409&lt;/del&gt;&lt;/a&gt;. Addendum. Part of the patch that got missed in the 0.95 commit of the original patch (ddas: rev 1515655)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/hbase/security.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12661514">HBASE-9124</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12598855" name="8409-addendum.patch" size="9074" author="devaraj" created="Mon, 19 Aug 2013 22:55:30 +0000"/>
                            <attachment id="12597834" name="8409_095.txt" size="378730" author="stack" created="Tue, 13 Aug 2013 22:01:14 +0000"/>
                            <attachment id="12588977" name="HBASE-8049_trunk.patch" size="33147" author="avandana" created="Fri, 21 Jun 2013 00:44:33 +0000"/>
                            <attachment id="12597329" name="HBASE-8409_2.patch" size="402716" author="toffer" created="Sun, 11 Aug 2013 10:49:10 +0000"/>
                            <attachment id="12597401" name="HBASE-8409_3.patch" size="404680" author="toffer" created="Mon, 12 Aug 2013 03:51:59 +0000"/>
                            <attachment id="12597761" name="HBASE-8409_4.patch" size="403270" author="toffer" created="Tue, 13 Aug 2013 16:38:09 +0000"/>
                            <attachment id="12597330" name="TestNamespaceUpgrade.tgz" size="10449" author="toffer" created="Sun, 11 Aug 2013 10:49:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Jun 2013 00:44:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k04f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch introduces security privileges to create, alter or drop namespaces. When security is enabled only global admin is allowed to do such operations. Richer namespace privileges will be introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9206&quot; title=&quot;namespace permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9206&quot;&gt;HBASE-9206&lt;/a&gt;.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>