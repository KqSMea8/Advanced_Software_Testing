<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:53:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14470/HBASE-14470.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14470] Reduce memory pressure generated by client</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14470</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I think there&apos;s room for improvement in our client&apos;s memory profile. I ran ltt with jfr running, attaching some snaps of what my client sees. Looks like some kind of object pool or block encoding for result objects will give us a lot of bang for the buck re: allocations and GC pressure. We probably also want to look for an alternative way to represent result objects, something besides the java Map interface with it&apos;s Entry bloat.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12895829">HBASE-14470</key>
            <summary>Reduce memory pressure generated by client</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Sep 2015 16:25:01 +0000</created>
                <updated>Thu, 28 Apr 2016 09:11:25 +0000</updated>
                                            <version>1.3.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                                    <component>Client</component>
                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="14904757" author="ndimiduk" created="Wed, 23 Sep 2015 16:30:29 +0000"  >&lt;p&gt;Images generated via ltt running vs standalone mode instance on &lt;tt&gt;branch-1/9574c67&lt;/tt&gt; with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home HBASE_LTT_OPTS=&quot;-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:ltt-$(git rev-parse --short HEAD).gc -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=1 -XX:GCLogFileSize=512M -XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=settings=./c+ma.jfc,compress=true,dumponexit=true,filename=ltt-$(git rev-parse --short HEAD).jfr&quot; ./bin/hbase ltt -data_block_encoding FAST_DIFF -bloom ROWCOL -num_keys 100000 -read 50 -write 10:1000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14904760" author="ndimiduk" created="Wed, 23 Sep 2015 16:31:06 +0000"  >&lt;p&gt;And here&apos;s the JFR config file too.&lt;/p&gt;</comment>
                            <comment id="14904962" author="vrodionov" created="Wed, 23 Sep 2015 18:18:46 +0000"  >&lt;p&gt;I am wondering, is there any way to optimize protobuf - generated stubs? These classes just pollute Java heap.&lt;/p&gt;</comment>
                            <comment id="14905005" author="stack" created="Wed, 23 Sep 2015 18:36:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;I am wondering, is there any way to optimize protobuf - generated stubs? These classes just pollute Java heap.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The stubs have served their purpose &amp;#8211; providing a narrow border between app and RPC+PB. We could now discard this interface and bolt app to rpc (after doing a bit of design). Ideally, server sends Results only and a Result is nothing but how many Cells and if we are chunking.  Even more ideal, we&apos;d just send Cells... with a bit of enveloping with meta data... sizing.... partial... http2!&lt;/p&gt;</comment>
                            <comment id="14905006" author="stack" created="Wed, 23 Sep 2015 18:37:25 +0000"  >&lt;p&gt;Was also going to say that while the threads-view is ugly, its not too bad either given it a complicated response object that is being read.&lt;/p&gt;

&lt;p&gt;For me client thread count is a killer too (server thread count is another killer).&lt;/p&gt;</comment>
                            <comment id="14905026" author="stack" created="Wed, 23 Sep 2015 18:49:16 +0000"  >&lt;p&gt;Sorry, wrong issue. Reopening.&lt;/p&gt;</comment>
                            <comment id="14907420" author="apurtell" created="Fri, 25 Sep 2015 02:19:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks like some kind of object pool or block encoding for result objects will give us a lot of bang for the buck re: allocations and GC pressure&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There are already open issues addressing parts of this, at least the encoding of result objects, such as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14323&quot; title=&quot;Encoding rpc payload instead of compression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14323&quot;&gt;HBASE-14323&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="15261818" author="mantonov" created="Thu, 28 Apr 2016 09:11:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; - moving out of 1.3.0 due to inactivity. Please feel free to bring it back in 1.3 if you have bandwidth to work on it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12761926" name="allocation-by-class.jpg" size="1292411" author="ndimiduk" created="Wed, 23 Sep 2015 16:28:05 +0000"/>
                            <attachment id="12761927" name="allocation-by-thread.jpg" size="1545496" author="ndimiduk" created="Wed, 23 Sep 2015 16:28:05 +0000"/>
                            <attachment id="12761929" name="c+ma.jfc" size="12048" author="ndimiduk" created="Wed, 23 Sep 2015 16:31:06 +0000"/>
                            <attachment id="12761928" name="object-stats.jpg" size="932409" author="ndimiduk" created="Wed, 23 Sep 2015 16:28:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Sep 2015 18:18:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lgtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>