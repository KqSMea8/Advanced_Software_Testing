<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:19:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11054/HBASE-11054.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11054] Create new hook in StoreScanner to help user creating his own delete tracker</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11054</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In case of Visibility labels, to support deletes we need to consider the visibility expression per version inorder to identify the matching visibility expression.  &lt;br/&gt;
Tracking the visibility tags along with the delete tracker would make things easier rather than handling during scans/compactions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12710011">HBASE-11054</key>
            <summary>Create new hook in StoreScanner to help user creating his own delete tracker</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12705871">HBASE-10885</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Apr 2014 11:37:26 +0000</created>
                <updated>Sat, 21 Feb 2015 23:32:39 +0000</updated>
                            <resolved>Mon, 28 Apr 2014 06:26:23 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.98.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13978085" author="jmspaggi" created="Wed, 23 Apr 2014 11:40:59 +0000"  >&lt;p&gt;Hi Ram,&lt;/p&gt;

&lt;p&gt;Is this similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10115&quot; title=&quot;Add a hook for compaction deletes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10115&quot;&gt;&lt;del&gt;HBASE-10115&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;

&lt;p&gt;JM&lt;/p&gt;</comment>
                            <comment id="13978113" author="ram_krish" created="Wed, 23 Apr 2014 12:12:10 +0000"  >&lt;p&gt;Yes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; similar to that. You have patch?  I have a patch with me.&lt;/p&gt;</comment>
                            <comment id="13978139" author="jmspaggi" created="Wed, 23 Apr 2014 12:32:44 +0000"  >&lt;p&gt;No, I don&apos;t have. Created the JIRA to keep track of the need, but did not got a chance to work on that yet.&lt;/p&gt;</comment>
                            <comment id="13978450" author="ram_krish" created="Wed, 23 Apr 2014 16:58:53 +0000"  >&lt;p&gt;Patch that adds a new hook when the DeleteTracker is created in the SQM.  CPs can implement this to have their own DeleteTrackers.&lt;/p&gt;</comment>
                            <comment id="13978487" author="yuzhihong@gmail.com" created="Wed, 23 Apr 2014 17:20:00 +0000"  >&lt;p&gt;For RegionObserver.java , three parameters are given in javadoc of preInstantiateDeleteTracker(). But I only see one actual parameter.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          deleteTracker = ((RegionObserver) env.getInstance()).preInstantiateDeleteTracker(ctx);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should deleteTracker from previous invocation be passed to the next invocation ?&lt;/p&gt;</comment>
                            <comment id="13978493" author="ram_krish" created="Wed, 23 Apr 2014 17:24:10 +0000"  >&lt;p&gt;Oh!! I will change it. It happened when i tried removing this patch from a bigger one.  &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Should deleteTracker from previous invocation be passed to the next invocation ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok.. Could do that? &lt;br/&gt;
Let&apos;s see whether adding a new hook is fine.&lt;/p&gt;</comment>
                            <comment id="13978499" author="yuzhihong@gmail.com" created="Wed, 23 Apr 2014 17:27:50 +0000"  >&lt;p&gt;Can you fill up description with use case ?&lt;/p&gt;</comment>
                            <comment id="13978589" author="hadoopqa" created="Wed, 23 Apr 2014 18:41:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12641510/HBASE-11054.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12641510/HBASE-11054.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12641510&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9373//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13979249" author="lhofhansl" created="Thu, 24 Apr 2014 03:54:56 +0000"  >&lt;p&gt;Should we step back and rethink this code? Can this all be expressed via filters?&lt;/p&gt;</comment>
                            <comment id="13979288" author="ram_krish" created="Thu, 24 Apr 2014 05:03:45 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;Should we step back and rethink this code? Can this all be expressed via filters?&lt;br/&gt;
You mean the DeleteTrackers itself? Or this patch you mean?&lt;br/&gt;
By the time we call filterKV() in filters the cells masked by deletes are removed already. &lt;/p&gt;</comment>
                            <comment id="13979300" author="lhofhansl" created="Thu, 24 Apr 2014 05:25:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;By the time we call filterKV() in filters the cells masked by deletes are removed already. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I meant generallt (not specifically the patch). We could be radical and say: There are only filters, and all logic is expressed in series of filters. No more deleteTrackers or columnTrackers.&lt;/p&gt;</comment>
                            <comment id="13979303" author="lhofhansl" created="Thu, 24 Apr 2014 05:27:30 +0000"  >&lt;p&gt;As for this patch. Is a coprocessor the right approach? Or should the class be pluggable? Could make it pluggable at the Store level.&lt;br/&gt;
Do you need find grained programmatic control?&lt;/p&gt;</comment>
                            <comment id="13979304" author="ram_krish" created="Thu, 24 Apr 2014 05:27:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;There are only filters, and all logic is expressed in series of filters. No more deleteTrackers or columnTrackers.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1. True&lt;br/&gt;
Ideally a filterKV() should be able to do this including tracking a delete KV and its versioning.&lt;/p&gt;</comment>
                            <comment id="13979997" author="ram_krish" created="Thu, 24 Apr 2014 17:39:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsh&quot; class=&quot;user-hover&quot; rel=&quot;larsh&quot;&gt;larsh&lt;/a&gt;&lt;br/&gt;
Can we do the new type of thing in the trunk? But for 0.98.x it may be too big a change right?  Do you think the introduction of the new patch would make sense?&lt;br/&gt;
If this is not acceptable then deletion of the visibility labels would become much complex because we will not be able to handle visibility like versions in the StoreScanner or RegionSCanner layer.&lt;br/&gt;
I would love to work on a way where we get rid of trackers and use filters in a seperate JIRA.&lt;/p&gt;</comment>
                            <comment id="13980486" author="apurtell" created="Thu, 24 Apr 2014 23:29:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;As for this patch. Is a coprocessor the right approach? Or should the class be pluggable? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The component that would use this functionality would be the VisibilityController, which is a coprocessor, operating potentially on some regions but not others. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There are only filters, and all logic is expressed in series of filters. No more deleteTrackers or columnTrackers.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That could be fine on trunk but can&apos;t happen in 0.98, where we have &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10885&quot; title=&quot;Support visibility expressions on Deletes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10885&quot;&gt;&lt;del&gt;HBASE-10885&lt;/del&gt;&lt;/a&gt; as an important objective. &lt;/p&gt;</comment>
                            <comment id="13980497" author="apurtell" created="Thu, 24 Apr 2014 23:36:28 +0000"  >&lt;p&gt;On the design of this particular hook.... Usually with hooks we take in as parameter an existing object and return the same type, which could be the input object with possibly modified state, or a new object allocated within the hook using the input object as a template. The hook here can only blindly create a DeleteTracker and that&apos;s not as flexible as if instead there is an option to take the tracker allocated by core and mix in state. &lt;/p&gt;</comment>
                            <comment id="13980547" author="lhofhansl" created="Fri, 25 Apr 2014 00:31:59 +0000"  >&lt;p&gt;Thanks for explaining &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;. So a coprocessor is the right approach.&lt;/p&gt;</comment>
                            <comment id="13980671" author="ram_krish" created="Fri, 25 Apr 2014 04:14:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;The hook here can only blindly create a DeleteTracker and that&apos;s not as flexible as if instead there is an option to take the tracker allocated by core and mix in state&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I will update the patch.  I would pass the core DeleteTracker to this hook and if the CP creates a new deleteTracker would return that else would return the core tracker only.  &lt;br/&gt;
Thanks Lars for giving a go ahead with the new hook approach.&lt;/p&gt;</comment>
                            <comment id="13980755" author="ram_krish" created="Fri, 25 Apr 2014 07:16:44 +0000"  >&lt;p&gt;Updated patch.  Renames the preHook to postHook as now this hook is called after the ScanDeleteTracker is created and the same is passed as param to the hook.  &lt;br/&gt;
If no new DeleteTracker is created in the hook the original deletetracker is returned back.&lt;/p&gt;
{Edit}
&lt;p&gt; hook to deleteTracker.&lt;/p&gt;</comment>
                            <comment id="13980896" author="hadoopqa" created="Fri, 25 Apr 2014 11:26:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12641881/HBASE-11054_1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12641881/HBASE-11054_1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12641881&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithDistributedLogReplay&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9399//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13981252" author="apurtell" created="Fri, 25 Apr 2014 17:04:19 +0000"  >&lt;p&gt;Also agree that removing trackers and replacing with filters is a good follow on goal &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13981254" author="apurtell" created="Fri, 25 Apr 2014 17:06:18 +0000"  >&lt;p&gt;+1 on latest patch&lt;/p&gt;</comment>
                            <comment id="13981925" author="ram_krish" created="Sat, 26 Apr 2014 08:32:51 +0000"  >&lt;p&gt;Committed to trunk and 0.98.  Thanks for the review @apurtell and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsh&quot; class=&quot;user-hover&quot; rel=&quot;larsh&quot;&gt;larsh&lt;/a&gt;.&lt;br/&gt;
Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11084&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-11084&lt;/a&gt; for replacing trackers with filters. &lt;/p&gt;</comment>
                            <comment id="13981956" author="hudson" created="Sat, 26 Apr 2014 11:33:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5120 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5120/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5120/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11054&quot; title=&quot;Create new hook in StoreScanner to help user creating his own delete tracker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11054&quot;&gt;&lt;del&gt;HBASE-11054&lt;/del&gt;&lt;/a&gt;-Create new hook in StoreScanner to help user creating his own delete tracker (Ram) (ramkrishna: rev 1590220)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13981987" author="hudson" created="Sat, 26 Apr 2014 13:52:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #297 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/297/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/297/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11054&quot; title=&quot;Create new hook in StoreScanner to help user creating his own delete tracker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11054&quot;&gt;&lt;del&gt;HBASE-11054&lt;/del&gt;&lt;/a&gt;-Create new hook in StoreScanner to help user creating his own delete tracker (Ram) (ramkrishna: rev 1590221)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13982028" author="hudson" created="Sat, 26 Apr 2014 15:50:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #282 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/282/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/282/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11054&quot; title=&quot;Create new hook in StoreScanner to help user creating his own delete tracker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11054&quot;&gt;&lt;del&gt;HBASE-11054&lt;/del&gt;&lt;/a&gt;-Create new hook in StoreScanner to help user creating his own delete tracker (Ram) (ramkrishna: rev 1590221)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestQueryMatcher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13996448" author="nkeywal" created="Tue, 13 May 2014 14:42:44 +0000"  >&lt;p&gt;This changes the interface of the RegionObserver in 0.98.2 vs 0.98.1, so it impacts an application that implements it.&lt;br/&gt;
Do we have a defined policy for this?&lt;br/&gt;
It&apos;s not that much of a an issue, especially as we&apos;re still at the beginning of the 0.98, but it would worth mentioning it in the release notes imho...&lt;/p&gt;</comment>
                            <comment id="13997293" author="apurtell" created="Wed, 14 May 2014 05:22:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do we have a defined policy for this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;None that I am aware of beyond &quot;let&apos;s stop doing this for 1.0 and beyond&quot;, please see related issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11125&quot; title=&quot;Introduce a higher level interface for registering interest in coprocessor upcalls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11125&quot;&gt;HBASE-11125&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13997447" author="ram_krish" created="Wed, 14 May 2014 10:27:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;but it would worth mentioning it in the release notes imho...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Okie. Just seeing this ping in the JIRA.&lt;/p&gt;</comment>
                            <comment id="13997499" author="nkeywal" created="Wed, 14 May 2014 12:28:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;None that I am aware of beyond &quot;let&apos;s stop doing this for 1.0 and beyond&quot;, please see related issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11125&quot; title=&quot;Introduce a higher level interface for registering interest in coprocessor upcalls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11125&quot;&gt;HBASE-11125&lt;/a&gt; &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok, that&apos;s fine for me.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Okie. Just seeing this ping in the JIRA.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks, Ram!&lt;/p&gt;</comment>
                            <comment id="13997736" author="stack" created="Wed, 14 May 2014 16:38:21 +0000"  >&lt;p&gt;We breaking anyone?  Phoenix?  I&apos;d say policy should be no changes to method apis across minor versions?&lt;/p&gt;</comment>
                            <comment id="13998323" author="anoop.hbase" created="Thu, 15 May 2014 00:35:55 +0000"  >&lt;p&gt;We added a new cp method in RegionObserver. If a user having a cp impl, directly implementing RegionObserver (not extending BaseRegionObserver) the addition of new method will break compatibility. &lt;/p&gt;</comment>
                            <comment id="13998348" author="apurtell" created="Thu, 15 May 2014 01:03:27 +0000"  >&lt;p&gt;This is a new hook, we are not breaking anyone&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;d say policy should be no changes to method apis across minor versions&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would prevent any changes at all to coprocessor APIs in 0.98, we&apos;d have to leave the branch behind and move to trunk only. &lt;/p&gt;</comment>
                            <comment id="13998444" author="ram_krish" created="Thu, 15 May 2014 04:59:34 +0000"  >&lt;p&gt;Seeing these comments late.&lt;br/&gt;
Generally it is advisable to use BaseRegionObserver only but if RegionObserver is used then there will be a compilation issue when using the CP application with 0.98.2. If we cannot add new hooks in 0.98 then we will not be able to add any new improvements that could be done using hooks.&lt;/p&gt;</comment>
                            <comment id="13998602" author="nkeywal" created="Thu, 15 May 2014 09:03:40 +0000"  >&lt;p&gt;I wonder is there is a good reason to extend the RegionObserver directly? In this case it could become private?&lt;/p&gt;

&lt;p&gt;Now that I think about it again, I think that we should always add a @since annotation as well (not for this change, but for the next ones). This way the developer knows that he is using an API not available in a previous dot release (we can easily imagine that multiple distros may have different underlying hbase dot version).&lt;/p&gt;

</comment>
                            <comment id="14330989" author="enis" created="Sat, 21 Feb 2015 23:32:39 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12641510" name="HBASE-11054.patch" size="11247" author="ram_krish" created="Wed, 23 Apr 2014 16:58:53 +0000"/>
                            <attachment id="12641881" name="HBASE-11054_1.patch" size="11478" author="ram_krish" created="Fri, 25 Apr 2014 07:16:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Apr 2014 11:40:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uw7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Creates a new hook in the RegionObserver Coprocessor,&lt;br/&gt;
{code}&lt;br/&gt;
RegionObserver postInstantiateDeleteTracker(final ObserverContext&amp;lt;RegionCoprocessorEnvironment&amp;gt; ctx, DeleteTracker delTracker)&lt;br/&gt;
{code}&lt;br/&gt;
Introduced in 0.98.2. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>