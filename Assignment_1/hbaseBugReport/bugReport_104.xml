<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:41:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-104/HBASE-104.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-104] [hbase] ConcurrentModificationException on regionserver startup</title>
                <link>https://issues.apache.org/jira/browse/HBASE-104</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Saw this in aRegionServer log on startup (RegionServer had tens of regions).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2007-11-22 00:17:33,622 INFO org.apache.hadoop.hbase.HRegionServer: HRegionServer started at: 208.76.45.216:60020
2007-11-22 00:17:33,622 INFO org.apache.hadoop.ipc.Server: IPC Server handler 9 on 60020: starting
2007-11-22 00:17:33,644 INFO org.apache.hadoop.hbase.HRegionServer: MSG_REGION_OPEN : regionname: -ROOT-,,0, startKey: &amp;lt;&amp;gt;, tableDesc: {name: -ROOT-, families: {info:={name: info, max versions: 1, compression: NONE, in memory: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, max length: 2147483647, bloom filter: none}}}
2007-11-22 00:17:33,712 INFO org.apache.hadoop.hbase.HRegion: region -ROOT-,,0 available
2007-11-22 00:17:42,704 WARN org.apache.hadoop.hbase.HRegionServer: Processing message (Retry: 0)
java.io.IOException: java.io.IOException: java.util.ConcurrentModificationException
        at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
        at java.util.HashMap$EntryIterator.next(Unknown Source)
        at java.util.HashMap$EntryIterator.next(Unknown Source)
        at org.apache.hadoop.hbase.HMaster.getRegionsToAssign(HMaster.java:1739)
        at org.apache.hadoop.hbase.HMaster.assignRegions(HMaster.java:1597)
        at org.apache.hadoop.hbase.HMaster.processMsgs(HMaster.java:1582)
        at org.apache.hadoop.hbase.HMaster.regionServerReport(HMaster.java:1400)
        at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:379)
        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:596)

        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
        at java.lang.reflect.Constructor.newInstance(Unknown Source)
        at org.apache.hadoop.hbase.RemoteExceptionHandler.decodeRemoteException(RemoteExceptionHandler.java:82)
        at org.apache.hadoop.hbase.RemoteExceptionHandler.checkIOException(RemoteExceptionHandler.java:48)
        at org.apache.hadoop.hbase.HRegionServer.run(HRegionServer.java:532)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12383043">HBASE-104</key>
            <summary>[hbase] ConcurrentModificationException on regionserver startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Nov 2007 06:00:57 +0000</created>
                <updated>Fri, 22 Aug 2008 21:34:49 +0000</updated>
                            <resolved>Wed, 28 Nov 2007 20:24:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12544893" author="stack" created="Thu, 22 Nov 2007 21:55:52 +0000"  >&lt;p&gt;Happened again:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2007-11-22 19:01:35,337 INFO org.apache.hadoop.ipc.Server: IPC Server handler 6 on 60000, call regionServerReport(address: 208.76.45.190:60020, startcode: 6899830976673084046, load: (requests: 0 regions: 17), [Lorg.apache.hadoop.hbase.HMsg;@6c1989b5) from 208.76.45.190:53517: error: java.io.IOException: java.util.ConcurrentModificationException
java.io.IOException: java.util.ConcurrentModificationException
        at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
        at java.util.HashMap$EntryIterator.next(Unknown Source)
        at java.util.HashMap$EntryIterator.next(Unknown Source)
        at org.apache.hadoop.hbase.HMaster.getRegionsToAssign(HMaster.java:1739)
        at org.apache.hadoop.hbase.HMaster.assignRegions(HMaster.java:1597)
        at org.apache.hadoop.hbase.HMaster.processMsgs(HMaster.java:1582)
        at org.apache.hadoop.hbase.HMaster.regionServerReport(HMaster.java:1400)
        at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:379)
        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:596)
2007-11-22 19:01:35,337 INFO org.apache.hadoop.ipc.Server: IPC Server handler 8 on 60000, call regionServerReport(address: 208.76.45.133:60020, startcode: 15832095071232930, load: (requests: 50 regions: 0), [Lorg.apache.hadoop.hbase.HMsg;@8c3c315) from 208.76.45.133:46925: error: java.io.IOException: java.util.ConcurrentModificationException
java.io.IOException: java.util.ConcurrentModificationException
        at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
        at java.util.HashMap$EntryIterator.next(Unknown Source)
        at java.util.HashMap$EntryIterator.next(Unknown Source)
        at org.apache.hadoop.hbase.HMaster.getRegionsToAssign(HMaster.java:1739)
        at org.apache.hadoop.hbase.HMaster.assignRegions(HMaster.java:1597)
        at org.apache.hadoop.hbase.HMaster.processMsgs(HMaster.java:1582)
        at org.apache.hadoop.hbase.HMaster.regionServerReport(HMaster.java:1400)
        at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
        at java.lang.reflect.Method.invoke(Unknown Source)
        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:379)
        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:596)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12544914" author="jimk" created="Fri, 23 Nov 2007 03:05:28 +0000"  >&lt;p&gt;Hadoop-patch build #1143 a similar problem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    [junit] 2007-11-23 01:23:02,779 FATAL [RegionServer:0.cacheFlusher] org.apache.hadoop.hbase.HRegionServer$1.uncaughtException(HRegionServer.java:887): Set stop flag in RegionServer:0.cacheFlusher
    [junit] java.util.ConcurrentModificationException
    [junit]     at java.util.PriorityQueue$Itr.checkForComodification(PriorityQueue.java:456)
    [junit]     at java.util.PriorityQueue$Itr.next(PriorityQueue.java:412)
    [junit]     at java.util.concurrent.DelayQueue$Itr.next(DelayQueue.java:395)
    [junit]     at java.util.AbstractCollection.contains(AbstractCollection.java:101)
    [junit]     at org.apache.hadoop.hbase.HRegionServer$Flusher.run(HRegionServer.java:487)
    [junit] 2007-11-23 01:23:02,780 DEBUG [RegionServer:0.compactor] org.apache.hadoop.hbase.HStore.completeCompaction(HStore.java:1364): moving 1996951076/info/-1 in /hbase/compaction.dir to 1996951076/info/7827035655061474734 in /hbase
    [junit] 2007-11-23 01:23:02,883 DEBUG [main] org.apache.hadoop.hbase.HTable.commit(HTable.java:739): reloading table servers because: java.io.IOException: Server not running
    [junit]     at org.apache.hadoop.hbase.HRegionServer.checkOpen(HRegionServer.java:1493)
    [junit]     at org.apache.hadoop.hbase.HRegionServer.batchUpdate(HRegionServer.java:1310)
    [junit]     at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
    [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit]     at java.lang.reflect.Method.invoke(Method.java:585)
    [junit]     at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:379)
    [junit]     at org.apache.hadoop.ipc.Server$Handler.run(Server.java:596)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12544915" author="jimk" created="Fri, 23 Nov 2007 03:07:21 +0000"  >&lt;p&gt;It appears to be happening in both the master and the region server.&lt;/p&gt;</comment>
                            <comment id="12545241" author="jimk" created="Sun, 25 Nov 2007 07:20:52 +0000"  >&lt;p&gt;This should be corrected with the latest commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-316&quot; title=&quot;[hbase] Increase parallelism in region servers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-316&quot;&gt;&lt;del&gt;HADOOP-2139&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12383237">HBASE-249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12381639">HBASE-316</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Nov 2007 03:05:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h4cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>