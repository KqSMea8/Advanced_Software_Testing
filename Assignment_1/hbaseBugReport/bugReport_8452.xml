<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:55:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8452/HBASE-8452.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8452] Reduce byte copy in PrefixTreeSeeker</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8452</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In PrefixTreeSeeker, I think we could do two improvement for deep copy of byte.&lt;/p&gt;

&lt;p&gt;1.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
PrefixTreeSeeker#getKeyValue(){
KeyValueUtil.copyToNewKeyValue(ptSearcher.current());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This method will be called frequently when reading. e.g. Scanner#peek(), Scanner comparison in KeyValueHeap&lt;/p&gt;

&lt;p&gt;2.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
PrefixTreeSeeker#seekToOrBeforeUsingPositionAtOrBefore(){
KeyValue.createKeyValueFromKey(keyOnlyBytes, offset, length);
}
PrefixTreeSeeker#seekToOrBeforeUsingPositionAtOrAfter(){
KeyValue.createKeyValueFromKey(keyOnlyBytes, offset, length);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Solution:&lt;br/&gt;
1.Using a cache for seeker&apos;s current keyvalue. &lt;br/&gt;
2.Importing new KeyOnlyCell class without coping bytes.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12645068">HBASE-8452</key>
            <summary>Reduce byte copy in PrefixTreeSeeker</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zjushch">chunhui shen</assignee>
                                    <reporter username="zjushch">chunhui shen</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Apr 2013 09:22:22 +0000</created>
                <updated>Mon, 29 Apr 2013 18:16:53 +0000</updated>
                                            <version>0.95.0</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13643947" author="zjushch" created="Sun, 28 Apr 2013 09:26:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mcorgan&quot; class=&quot;user-hover&quot; rel=&quot;mcorgan&quot;&gt;Matt Corgan&lt;/a&gt;&lt;br/&gt;
What do you think about the patch?&lt;/p&gt;</comment>
                            <comment id="13644305" author="mcorgan" created="Mon, 29 Apr 2013 06:35:04 +0000"  >&lt;p&gt;The idea seems good.  I hadn&apos;t done optimizations like this because I hope at some point we can change the getKeyValue method to getCell where it won&apos;t need copying.  Until that&apos;s done, something like this is ok.&lt;/p&gt;</comment>
                            <comment id="13644710" author="stack" created="Mon, 29 Apr 2013 18:16:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt; In case it is not clear, you can take Matt&apos;s comment as a +1 for commit (Matt is the component lieutenant for prefix tree).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580877" name="hbase-8452-trunkv1.patch" size="12562" author="zjushch" created="Sun, 28 Apr 2013 09:26:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Apr 2013 06:35:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k57j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>