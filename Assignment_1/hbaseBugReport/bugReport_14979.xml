<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:58:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14979/HBASE-14979.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14979] Update to the newest Zookeeper release</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14979</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-706&quot; title=&quot;large numbers of watches can cause session re-establishment to fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-706&quot;&gt;&lt;del&gt;ZOOKEEPER-706&lt;/del&gt;&lt;/a&gt; is nice to have for anyone running replication that sometimes gets stalled. We should update to the latest patch version.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12921853">HBASE-14979</key>
            <summary>Update to the newest Zookeeper release</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="eclark">Elliott Clark</assignee>
                                    <reporter username="eclark">Elliott Clark</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2015 02:25:13 +0000</created>
                <updated>Mon, 20 Jun 2016 18:50:38 +0000</updated>
                            <resolved>Mon, 14 Mar 2016 19:05:43 +0000</resolved>
                                    <version>1.2.0</version>
                                                    <component>Zookeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="15057222" author="eclark" created="Tue, 15 Dec 2015 02:35:54 +0000"  >&lt;p&gt;One line change.&lt;/p&gt;</comment>
                            <comment id="15057297" author="stack" created="Tue, 15 Dec 2015 03:50:37 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;</comment>
                            <comment id="15057688" author="hudson" created="Tue, 15 Dec 2015 09:19:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #375 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/375/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/375/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release (eclark: rev a290a5d978a5eb730d9708bc2c0384d22fc37fb6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15057725" author="hudson" created="Tue, 15 Dec 2015 09:48:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #341 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/341/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/341/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release (eclark: rev f64cdf44b5c420d0ec29f84a48d3145441113351)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15057918" author="hudson" created="Tue, 15 Dec 2015 11:41:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #443 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/443/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/443/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release (eclark: rev f64cdf44b5c420d0ec29f84a48d3145441113351)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15057946" author="hudson" created="Tue, 15 Dec 2015 12:03:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #437 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/437/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/437/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release (eclark: rev a290a5d978a5eb730d9708bc2c0384d22fc37fb6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15058014" author="hudson" created="Tue, 15 Dec 2015 12:55:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #554 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/554/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/554/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release (eclark: rev ef92a6a067230cae96d3e3267da5a18ac5ad89c6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15061081" author="yuzhihong@gmail.com" created="Wed, 16 Dec 2015 23:03:15 +0000"  >&lt;p&gt;See this thread:&lt;br/&gt;
&lt;a href=&quot;http://search-hadoop.com/m/JhBoa1I025AfpjDk1&amp;amp;subj=ZooKeeperServer+shutdown+hangs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/JhBoa1I025AfpjDk1&amp;amp;subj=ZooKeeperServer+shutdown+hangs&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15061213" author="eclark" created="Thu, 17 Dec 2015 00:28:23 +0000"  >&lt;p&gt;Like I said when you emailed. I&apos;m not seeing this at all. That test passed more than 20 times in a row on my machine. And has passed 20 times on my machine in a colo.&lt;/p&gt;

&lt;p&gt;If you think there&apos;s an issue then we&apos;re going to need more information.&lt;/p&gt;</comment>
                            <comment id="15061255" author="yuzhihong@gmail.com" created="Thu, 17 Dec 2015 01:00:57 +0000"  >&lt;p&gt;Looks like the web site hasn&apos;t indexed all the conversations on the above thread.&lt;br/&gt;
Before long, you should see the following response from Flavio:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is bad, we should fix it and release 3.4.8 soon. With the holidays and such, we won&apos;t be able to produce an RC and vote, so I suggest we target early Jan. In the meanwhile, I&apos;d suggest users to not move to 3.4.7.&lt;/p&gt;

&lt;p&gt;I&apos;ve reopened ZK-1907 and suggested a fix to this problem.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;w.r.t. details, you can find the complete stack trace attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-2347&quot; title=&quot;Deadlock shutting down zookeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-2347&quot;&gt;&lt;del&gt;ZOOKEEPER-2347&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15064735" author="stack" created="Fri, 18 Dec 2015 20:47:47 +0000"  >&lt;p&gt;Let me revert this for a while. In 1.2 alone, I see failures of TestRSKilledWhenInitializing failures with higher incidence in the 1.8 builds:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/454/jdk=latest1.8,label=Hadoop/testReport/junit/org.apache.hadoop.hbase.regionserver/TestRSKilledWhenInitializing/testRSTermnationAfterRegisteringToMasterBeforeCreatingEphemeralNod/history/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/454/jdk=latest1.8,label=Hadoop/testReport/junit/org.apache.hadoop.hbase.regionserver/TestRSKilledWhenInitializing/testRSTermnationAfterRegisteringToMasterBeforeCreatingEphemeralNod/history/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Started about 3 days ago. Stacktraces look like this:&lt;/p&gt;

&lt;p&gt;org.junit.runners.model.TestTimedOutException: test timed out after 180000 milliseconds&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Thread.join(Thread.java:1245)&lt;br/&gt;
	at java.lang.Thread.join(Thread.java:1319)&lt;br/&gt;
	at org.apache.zookeeper.server.SyncRequestProcessor.shutdown(SyncRequestProcessor.java:213)&lt;br/&gt;
	at org.apache.zookeeper.server.PrepRequestProcessor.shutdown(PrepRequestProcessor.java:770)&lt;br/&gt;
	at org.apache.zookeeper.server.ZooKeeperServer.shutdown(ZooKeeperServer.java:478)&lt;br/&gt;
	at org.apache.zookeeper.server.NIOServerCnxnFactory.shutdown(NIOServerCnxnFactory.java:266)&lt;br/&gt;
	at org.apache.hadoop.hbase.zookeeper.MiniZooKeeperCluster.shutdown(MiniZooKeeperCluster.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseTestingUtility.shutdownMiniZKCluster(HBaseTestingUtility.java:782)&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseTestingUtility.shutdownMiniCluster(HBaseTestingUtility.java:1090)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestRSKilledWhenInitializing.testRSTermnationAfterRegisteringToMasterBeforeCreatingEphemeralNod(TestRSKilledWhenInitializing.java:104)&lt;/p&gt;

&lt;p&gt;Looks like hang in zk shutdown.&lt;/p&gt;

&lt;p&gt;Zk-crew seem to be on about there being a hang in zk... see cited zk thread.&lt;/p&gt;
</comment>
                            <comment id="15064741" author="stack" created="Fri, 18 Dec 2015 20:52:09 +0000"  >&lt;p&gt;I reverted from branch-1.2+ Let me see if the test settles down again. We can put this back in if it still is failing.&lt;/p&gt;

&lt;p&gt;If a prob in shutdown, we&apos;ll probably find it in our up and down all day long tests... 3.4.7 is probably fine for production.... zk never goes down right!&lt;/p&gt;</comment>
                            <comment id="15064831" author="hudson" created="Fri, 18 Dec 2015 21:54:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #568 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/568/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/568/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release&quot; (stack: rev eb59d4d7690bb4d8d0afa460202c68885ef6a271)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15064953" author="hudson" created="Fri, 18 Dec 2015 23:22:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #388 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/388/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/388/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release&quot; (stack: rev d06bb5e05f4edbd5aeca8317cccefcf1f26f9deb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065016" author="hudson" created="Sat, 19 Dec 2015 00:02:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #353 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/353/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/353/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release&quot; (stack: rev 6360877b9265033c5b20c1c2327e328698417136)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065151" author="hudson" created="Sat, 19 Dec 2015 02:06:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #457 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/457/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/457/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release&quot; (stack: rev 6360877b9265033c5b20c1c2327e328698417136)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065221" author="hudson" created="Sat, 19 Dec 2015 03:57:48 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #452 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/452/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/452/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14979&quot; title=&quot;Update to the newest Zookeeper release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14979&quot;&gt;&lt;del&gt;HBASE-14979&lt;/del&gt;&lt;/a&gt; Update to the newest Zookeeper release&quot; (stack: rev d06bb5e05f4edbd5aeca8317cccefcf1f26f9deb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15067642" author="busbey" created="Tue, 22 Dec 2015 06:53:49 +0000"  >&lt;p&gt;do we expect some version of this is going to be ready in the next couple of days, or should I punt it to 1.3?&lt;/p&gt;</comment>
                            <comment id="15067653" author="eclark" created="Tue, 22 Dec 2015 07:00:57 +0000"  >&lt;p&gt;Punt to 1.3&lt;/p&gt;</comment>
                            <comment id="15068340" author="stack" created="Tue, 22 Dec 2015 16:21:04 +0000"  >&lt;p&gt;Removing 1.2.0 from fix list. ZooKeeper 3.4.7 shutdown hang would seem to make it unusable. Need later version.&lt;/p&gt;</comment>
                            <comment id="15133760" author="ashish singhi" created="Fri, 5 Feb 2016 06:50:26 +0000"  >&lt;p&gt;Reopening the issue as the code change was reverted.&lt;/p&gt;</comment>
                            <comment id="15193918" author="eclark" created="Mon, 14 Mar 2016 19:05:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15300&quot; title=&quot;Upgrade to zookeeper 3.4.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15300&quot;&gt;&lt;del&gt;HBASE-15300&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12777651" name="HBASE-14979.patch" size="783" author="eclark" created="Tue, 15 Dec 2015 02:35:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Dec 2015 03:50:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pw1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>