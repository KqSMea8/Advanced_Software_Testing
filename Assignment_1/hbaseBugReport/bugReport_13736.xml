<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:46:10 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13736/HBASE-13736.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13736] Add delay for the first execution of ExpiredMobFileCleanerChore and MobFileCompactorChore</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13736</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently, the ExpiredMobFileCleanerChore and MobFileCompactorChore are executed immediately when the master is started. At that time most of regions are not online, running these chore is a waste. We need to add a delay for them, now in the patch, we will use the interval as the initial delay.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831607">HBASE-13736</key>
            <summary>Add delay for the first execution of ExpiredMobFileCleanerChore and MobFileCompactorChore</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12721032">HBASE-11339</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingcheng.du@intel.com">Jingcheng Du</assignee>
                                    <reporter username="jingcheng.du@intel.com">Jingcheng Du</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 May 2015 05:39:06 +0000</created>
                <updated>Wed, 22 Jul 2015 22:48:46 +0000</updated>
                            <resolved>Thu, 21 May 2015 08:11:22 +0000</resolved>
                                    <version>hbase-11339</version>
                                    <fixVersion>hbase-11339</fixVersion>
                                    <component>mob</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14553680" author="jingcheng.du@intel.com" created="Thu, 21 May 2015 06:02:43 +0000"  >&lt;p&gt;Upload the patch.&lt;br/&gt;
Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, please help look at it. Thanks a lot!&lt;/p&gt;</comment>
                            <comment id="14553755" author="anoop.hbase" created="Thu, 21 May 2015 07:08:11 +0000"  >&lt;p&gt;Patch looks good except a minor comment&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(master.getServerName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;-ExpiredMobFileCleanerChore&quot;&lt;/span&gt;, master,
-        master.getConfiguration().getInt(MobConstants.MOB_CLEANER_PERIOD,
-                MobConstants.DEFAULT_MOB_CLEANER_PERIOD));
+    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(master.getServerName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;-ExpiredMobFileCleanerChore&quot;&lt;/span&gt;, master, master.getConfiguration()
+      .getInt(MobConstants.MOB_CLEANER_PERIOD, MobConstants.DEFAULT_MOB_CLEANER_PERIOD), master
+      .getConfiguration().getInt(MobConstants.MOB_CLEANER_PERIOD,
+        MobConstants.DEFAULT_MOB_CLEANER_PERIOD), TimeUnit.SECONDS);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can you get the delay from conf just once and use it as 2 args?&lt;/p&gt;</comment>
                            <comment id="14553764" author="ram_krish" created="Thu, 21 May 2015 07:14:36 +0000"  >&lt;p&gt;So you will want the compaction chore to start by default after one day only?  Any way things are configurable so should be ok in my opinion. &lt;/p&gt;</comment>
                            <comment id="14553766" author="ram_krish" created="Thu, 21 May 2015 07:15:03 +0000"  >&lt;p&gt;Just seeing, some comments from Anoop.  +1 after that. &lt;/p&gt;</comment>
                            <comment id="14553775" author="jingcheng.du@intel.com" created="Thu, 21 May 2015 07:21:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; for the comments!&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Can you get the delay from conf just once and use it as 2 args?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m afraid it&apos;s hard to do that. We have to use super.() in the first line of the constructor where we have to add the arguments one by one. I think we have to do it like this. Please advise. Thanks.&lt;/p&gt;</comment>
                            <comment id="14553780" author="jingcheng.du@intel.com" created="Thu, 21 May 2015 07:24:59 +0000"  >&lt;p&gt;Upload a new patch to include the changes in hbase book.&lt;/p&gt;</comment>
                            <comment id="14553823" author="anoop.hbase" created="Thu, 21 May 2015 07:59:59 +0000"  >&lt;p&gt;Oh ya didn&apos;t really care it is super call..  &lt;br/&gt;
+1&lt;br/&gt;
So we don&apos;t have ref to &apos;hbase.mob.file.compaction.chore.period&apos; in book?&lt;/p&gt;</comment>
                            <comment id="14553827" author="jingcheng.du@intel.com" created="Thu, 21 May 2015 08:02:26 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;So we don&apos;t have ref to &apos;hbase.mob.file.compaction.chore.period&apos; in book?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, we don&apos;t. In hbase_mob.adoc, we only have this.&lt;/p&gt;</comment>
                            <comment id="14553842" author="anoop.hbase" created="Thu, 21 May 2015 08:11:22 +0000"  >&lt;p&gt;Pushed to branch hbase-11339. Thanks Jingcheng.&lt;/p&gt;</comment>
                            <comment id="14637831" author="hudson" created="Wed, 22 Jul 2015 22:48:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13736&quot; title=&quot;Add delay for the first execution of ExpiredMobFileCleanerChore and MobFileCompactorChore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13736&quot;&gt;&lt;del&gt;HBASE-13736&lt;/del&gt;&lt;/a&gt; Add delay for the first execution of ExpiredMobFileCleanerChore and MobFileCompactorChore.(Jingcheng) (anoopsamjohn: rev 5098f365b4071ab860d6850df792b4200b92c197)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/asciidoc/_chapters/hbase_mob.adoc&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/ExpiredMobFileCleanerChore.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MobFileCompactionChore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12734337" name="HBASE-13736.diff" size="5396" author="jingcheng.du@intel.com" created="Thu, 21 May 2015 06:02:43 +0000"/>
                            <attachment id="12734358" name="hbase-13736-V2.diff" size="6168" author="jingcheng.du@intel.com" created="Thu, 21 May 2015 07:24:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 May 2015 07:08:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f0zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>