<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:00:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2323/HBASE-2323.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2323] filter.RegexStringComparator does not work with certain bytes</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2323</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;m trying to use &lt;tt&gt;RegexStringComparator&lt;/tt&gt; in conjunction with &lt;tt&gt;RowFilter&lt;/tt&gt;.  One of my row keys contained the byte 0xA, which turns out to be the ASCII code for the newline character (\n).  When the row key is converted to a string in order to use the regexp facility of the Java standard library, it becomes a string containing two lines and my regexp does not match.&lt;/p&gt;

&lt;p&gt;I believe the solution is to compile the regexp with the &lt;tt&gt;DOTALL&lt;/tt&gt; flag.  Luckily, this flag can be &quot;passed&quot; by the client by prefixing the regexp with &lt;tt&gt;(?s)&lt;/tt&gt; so people working with an older version of HBase can work around this issue without having to upgrade.&lt;/p&gt;


&lt;p&gt;Second problem: One of my row keys contained the sequence &lt;tt&gt;0x00 0x00 0x9D&lt;/tt&gt; (&lt;tt&gt;0x9D&lt;/tt&gt; = -99 when stored in a Java &lt;tt&gt;byte&lt;/tt&gt;) but in &lt;tt&gt;compareTo&lt;/tt&gt; the row key is transformed in a &lt;tt&gt;String&lt;/tt&gt; using &lt;tt&gt;Bytes.toString&lt;/tt&gt;, which just assumes that the byte array is an UTF8 encoded string.  Java &quot;cleverly&quot; substituted the 0x9D byte with 0x63 (character &apos;?&apos;).  In my case, I want to use encoding ISO-8859-1 as it preserves every byte when the byte array is converted to a &lt;tt&gt;String&lt;/tt&gt; and back to a byte array, unlike UTF-8 or ASCII.  Should we add a new method to &lt;tt&gt;RegexStringComparator&lt;/tt&gt; to allow the user to specify their own &lt;tt&gt;Charset&lt;/tt&gt; instance?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12459049">HBASE-2323</key>
            <summary>filter.RegexStringComparator does not work with certain bytes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tsuna">Benoit Sigoure</assignee>
                                    <reporter username="tsuna">Benoit Sigoure</reporter>
                        <labels>
                    </labels>
                <created>Sun, 14 Mar 2010 02:38:14 +0000</created>
                <updated>Fri, 12 Oct 2012 06:16:14 +0000</updated>
                            <resolved>Mon, 15 Mar 2010 18:52:29 +0000</resolved>
                                    <version>0.20.3</version>
                                    <fixVersion>0.20.6</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                    <component>Filters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12845060" author="tsuna" created="Sun, 14 Mar 2010 10:08:36 +0000"  >&lt;p&gt;Patches to fix the issue.&lt;/p&gt;</comment>
                            <comment id="12845062" author="tsuna" created="Sun, 14 Mar 2010 10:10:59 +0000"  >&lt;p&gt;The patches attached preserve backwards compatibility.&lt;/p&gt;

&lt;p&gt;Only the last patch is potentially disruptive with backwards compatibility, but the extra &lt;tt&gt;if&lt;/tt&gt; statement in &lt;tt&gt;readFields&lt;/tt&gt; makes it work even with older clients that won&apos;t serialize the new charset attribute.&lt;/p&gt;

&lt;p&gt;If the patch is included in 0.20.4, then we can remove the extra &lt;tt&gt;if&lt;/tt&gt; statement as that release won&apos;t be backwards compatible with older clients anyway.&lt;/p&gt;</comment>
                            <comment id="12845454" author="stack" created="Mon, 15 Mar 2010 18:52:29 +0000"  >&lt;p&gt;Committed branch and trunk.  Thanks for the patch Beno&#238;t.  I remove the if from readFields as per your suggestion on the 0.20 commit.  I left it in place on TRUNK in case folks are are using older version of filter there.&lt;/p&gt;</comment>
                            <comment id="12866869" author="stack" created="Wed, 12 May 2010 23:52:46 +0000"  >&lt;p&gt;Marking these as fixed against 0.21.0 rather than against 0.20.5.&lt;/p&gt;</comment>
                            <comment id="12887273" author="tsuna" created="Mon, 12 Jul 2010 05:27:39 +0000"  >&lt;p&gt;Patch rebased for 0.20.  Stack&apos;s previous commit in 0.20 (#923387) was &quot;lost&quot; when 0.20 was renamed &lt;tt&gt;0.20_pre_durability&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="12887554" author="stack" created="Mon, 12 Jul 2010 21:51:33 +0000"  >&lt;p&gt;Commit for 0.20.6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12438746" name="0001-HBASE-2323-Kill-some-trailing-whitespaces.patch" size="1540" author="tsuna" created="Sun, 14 Mar 2010 10:08:36 +0000"/>
                            <attachment id="12449205" name="0001-HBASE-2323-filter.RegexStringComparator-does-not-wor.patch" size="4703" author="tsuna" created="Mon, 12 Jul 2010 05:27:39 +0000"/>
                            <attachment id="12438747" name="0002-HBASE-2323-Compile-the-pattern-with-DOTALL.patch" size="1023" author="tsuna" created="Sun, 14 Mar 2010 10:08:36 +0000"/>
                            <attachment id="12438748" name="0003-HBASE-2323-Allow-the-client-to-specify-a-custom-char.patch" size="3271" author="tsuna" created="Sun, 14 Mar 2010 10:08:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 15 Mar 2010 18:52:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08scn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>