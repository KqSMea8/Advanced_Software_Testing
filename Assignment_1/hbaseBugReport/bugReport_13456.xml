<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:43:32 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13456/HBASE-13456.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13456] Improve HFilePrettyPrinter first hbase:meta region processing </title>
                <link>https://issues.apache.org/jira/browse/HBASE-13456</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HFilePrettyPrinter have couple of small issues when -r option is used with hbase:meta region as argument:&lt;br/&gt;
1. Processing files in oldWals and recovered.edits directories&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ hbase org.apache.hadoop.hbase.io.hfile.HFilePrettyPrinter -v -r hbase:meta,,1

&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of region files found -&amp;gt; 3
Found file[1] -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/info/e1d395908f8c43d2b22bb3a630728ebf
&lt;/span&gt;Found file[2] -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/info/e30faa185198449b9cb2eeb5589ebd1b
&lt;/span&gt;Found file[3] -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/oldWALs/hlog.1428309293399
&lt;/span&gt;Scanning -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/info/e1d395908f8c43d2b22bb3a630728ebf
&lt;/span&gt;Scanning -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/info/e30faa185198449b9cb2eeb5589ebd1b
&lt;/span&gt;Scanning -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/oldWALs/hlog.1428309293399
&lt;/span&gt;2015-04-13 14:08:21,461 ERROR [main] hfile.HFilePrettyPrinter: Error reading hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/oldWALs/hlog.1428309293399
&lt;/span&gt;org.apache.hadoop.hbase.io.hfile.CorruptHFileException: Problem reading HFile Trailer from file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/1588230740/oldWALs/hlog.1428309293399&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. If full region name is passed as argument we have wrong encoded region name returned:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase org.apache.hadoop.hbase.io.hfile.HFilePrettyPrinter -v -r hbase:meta,,1.1588230740

region dir -&amp;gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/104563571
&lt;/span&gt;2015-04-13 14:21:43,012 INFO  [main] Configuration.deprecation: hadoop.&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;.lib is deprecated. Instead, use io.&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;.lib.available
2015-04-13 14:21:43,711 INFO  [main] util.ChecksumType: Checksum using org.apache.hadoop.util.PureJavaCrc32
2015-04-13 14:21:43,717 INFO  [main] util.ChecksumType: Checksum can use org.apache.hadoop.util.PureJavaCrc32C
2015-04-13 14:21:43,899 ERROR [main] hfile.HFilePrettyPrinter: Error parsing command-line options
java.io.FileNotFoundException: File hdfs:&lt;span class=&quot;code-comment&quot;&gt;//P3cluster/hbase/data/hbase/meta/104563571 does not exist.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have modified HFilePrettyPrinter.java to address this issues. Patch is coming soon.&lt;/p&gt;</description>
                <environment>&lt;p&gt;x86_64 GNU/Linux&lt;/p&gt;</environment>
        <key id="12820525">HBASE-13456</key>
            <summary>Improve HFilePrettyPrinter first hbase:meta region processing </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asamir">Samir Ahmic</assignee>
                                    <reporter username="asamir">Samir Ahmic</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Apr 2015 12:36:16 +0000</created>
                <updated>Wed, 3 Jun 2015 15:29:08 +0000</updated>
                            <resolved>Fri, 17 Apr 2015 18:45:53 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>0.98.12</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>util</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14492361" author="asamir" created="Mon, 13 Apr 2015 12:51:46 +0000"  >&lt;p&gt;Here is patch.&lt;/p&gt;</comment>
                            <comment id="14492581" author="yuzhihong@gmail.com" created="Mon, 13 Apr 2015 16:24:54 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
172	      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; enc = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please use variable name such as encodedRegionName which is eaiser to understand.&lt;/p&gt;

&lt;p&gt;Please attach patch for trunk.&lt;/p&gt;</comment>
                            <comment id="14493064" author="asamir" created="Mon, 13 Apr 2015 20:57:22 +0000"  >&lt;p&gt;Here are patches for 0.98 and master branch. I have changed variable &apos;enc&apos; to encodedRegionName &lt;/p&gt;</comment>
                            <comment id="14494918" author="jinghe" created="Tue, 14 Apr 2015 21:25:47 +0000"  >&lt;p&gt;Trying to understand the 2nd problem you reported:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;hbase org.apache.hadoop.hbase.io.hfile.HFilePrettyPrinter -v -r hbase:meta,,1.1588230740&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The full region name for the meta region is &apos;hbase:meta,,1&apos;, correct?&lt;/p&gt;

&lt;p&gt;For the first problem you reported, should you fix the HFile.getStoreFiles() directly?&lt;/p&gt;</comment>
                            <comment id="14495911" author="asamir" created="Wed, 15 Apr 2015 09:22:13 +0000"  >&lt;p&gt;Ted, Jerry thanks for review, &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The full region name for the meta region is &apos;hbase:meta,,1&apos;, correct?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agree, First meta region have old name format &amp;lt;tablename&amp;gt;&amp;lt;startkey&amp;gt;&amp;lt;regionIdTimestamp&amp;gt;, i think HRegionInfo.getRegionNameAsString() tricked me since it returns &amp;lt;tablename&amp;gt;&amp;lt;startkey&amp;gt;&amp;lt;regionIdTimestamp&amp;gt;.&amp;lt;encodedRegionName&amp;gt; and we use it in 0.98 version to display region name on UI. I see that on master branch we use HRegionInfo.getRegionNameAsStringForDisplay()  for UI which displays correct name &quot;hbase:meta,,1&quot;. So this is not issue for master branch. &lt;/p&gt;

&lt;p&gt;bg.  For the first problem you reported, should you fix the HFile.getStoreFiles() directly?&lt;br/&gt;
Let me check if we use HFile.getStoreFiles() somewhere else in code in other context and i if not i will fix HFile.getStoreFiles() directly.&lt;/p&gt;</comment>
                            <comment id="14496217" author="asamir" created="Wed, 15 Apr 2015 14:12:42 +0000"  >&lt;p&gt;I have checked HFIle#getStoreFiles  and is used only by HFilePrettyPrinter so i have modified it to address issue in HFilePrettyPrinter. Here is new patch. &lt;/p&gt;</comment>
                            <comment id="14498539" author="jinghe" created="Thu, 16 Apr 2015 19:11:20 +0000"  >&lt;p&gt;Looks good.  +1&lt;/p&gt;</comment>
                            <comment id="14499473" author="hadoopqa" created="Fri, 17 Apr 2015 08:33:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12725579/HBASE-13456-master-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12725579/HBASE-13456-master-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7fb6055ed7304b05a383a730b64e55e41772bcf8.&lt;br/&gt;
  ATTACHMENT ID: 12725579&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13731//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14500414" author="jinghe" created="Fri, 17 Apr 2015 18:45:53 +0000"  >&lt;p&gt;Pushed to master, branch-1, branch-1.1.  Thanks for the patch.&lt;/p&gt;</comment>
                            <comment id="14500667" author="hudson" created="Fri, 17 Apr 2015 21:05:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #405 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/405/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/405/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13456&quot; title=&quot;Improve HFilePrettyPrinter first hbase:meta region processing &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13456&quot;&gt;&lt;del&gt;HBASE-13456&lt;/del&gt;&lt;/a&gt; Improve HFilePrettyPrinter first hbase:meta region processing (Samir Ahmic) (jerryjch: rev 3c81d656e02aca80fb9f6fe0636b953202c79054)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14500730" author="hudson" created="Fri, 17 Apr 2015 21:35:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6386 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6386/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6386/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13456&quot; title=&quot;Improve HFilePrettyPrinter first hbase:meta region processing &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13456&quot;&gt;&lt;del&gt;HBASE-13456&lt;/del&gt;&lt;/a&gt; Improve HFilePrettyPrinter first hbase:meta region processing (Samir Ahmic) (jerryjch: rev 3ccae37866bde3783e1866ce92026a9410860515)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14571125" author="ndimiduk" created="Wed, 3 Jun 2015 15:29:08 +0000"  >&lt;p&gt;Closing issues released in 1.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12725042" name="HBASE-13456-0.98-v2.patch" size="2871" author="asamir" created="Mon, 13 Apr 2015 20:57:22 +0000"/>
                            <attachment id="12724932" name="HBASE-13456-0.98.patch" size="2747" author="asamir" created="Mon, 13 Apr 2015 12:51:28 +0000"/>
                            <attachment id="12725579" name="HBASE-13456-master-v2.patch" size="1999" author="asamir" created="Wed, 15 Apr 2015 14:12:42 +0000"/>
                            <attachment id="12725043" name="HBASE-13456-master.patch" size="2870" author="asamir" created="Mon, 13 Apr 2015 20:57:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Apr 2015 16:24:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d6g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>