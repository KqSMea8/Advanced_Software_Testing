<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:18:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-16880/HBASE-16880.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-16880] Correct the javadoc/behaviour of the APIs in ByteBufferUtils</title>
                <link>https://issues.apache.org/jira/browse/HBASE-16880</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There are some issues either with the javadoc or the actual behaviour of some APIs in BBUtils.&lt;br/&gt;
For eg,&lt;br/&gt;
BBUtil#copyFromBufferToBuffer() says&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /**
   * Copy one buffer&apos;s whole data to another. Write starts at the current position of &apos;out&apos; buffer.
   * Note : This will advance the position marker of {@code out} but not change the position maker
   * &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; {@code in}. The position and limit of the {@code in} buffer to be set properly by caller.
   * @param in source buffer
   * @param out destination buffer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But this is true in case of UNSAFE.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (UNSAFE_AVAIL) {
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length = in.remaining();
      UnsafeAccess.copy(in, in.position(), out, out.position(), length);
      out.position(out.position() + length);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      out.put(in);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But in other case where we move the else - the &apos;in&apos; is also advanced. So we need to either correct the behaviour or change the doc and see all the used places. This JIRA can be used to correct all the APIs in this util class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13013411">HBASE-16880</key>
            <summary>Correct the javadoc/behaviour of the APIs in ByteBufferUtils</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Oct 2016 06:23:39 +0000</created>
                <updated>Tue, 25 Oct 2016 10:23:44 +0000</updated>
                            <resolved>Tue, 25 Oct 2016 05:23:47 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15589032" author="anoop.hbase" created="Wed, 19 Oct 2016 15:20:02 +0000"  >&lt;p&gt;Am +1 to change the code so as to make it behave like ByteBuffer put API. ie advance pos in the &apos;in&apos; buf also and correct the javadoc.&lt;/p&gt;</comment>
                            <comment id="15601539" author="ram_krish" created="Mon, 24 Oct 2016 10:13:45 +0000"  >&lt;p&gt;Patch that changes the javadoc and the behaviour of the BBUtils#copyFromBuffertoBuffer(ByteBuffer, ByteBuffer).&lt;br/&gt;
I verified all other copyFromXXXtoXXX APIs and they all seems to have the correct doc and the behaviour.&lt;/p&gt;</comment>
                            <comment id="15601629" author="anoop.hbase" created="Mon, 24 Oct 2016 10:51:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;if (in.hasArray() &amp;amp;&amp;amp; out.hasArray())&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;U want to really add this here?  May be not needed. How that makes a diff?  In our code flow, some where we use with both as HBBs?  Better do what the jira subject says alone.&lt;/p&gt;</comment>
                            <comment id="15601637" author="ram_krish" created="Mon, 24 Oct 2016 10:57:26 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (in.hasArray() &amp;amp;&amp;amp; out.hasArray()) {
      &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.arraycopy(in.array(), sourceOffset + in.arrayOffset(), out.array(), out.arrayOffset()
          + destinationOffset, length);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In every other API we are doing this.  So I do think this makes sense to add here. The code is still doing what the JIRA says only. Not sure if we need a new JIRA to fix the hasArray case in case some where else we try to use that utility in our code base.&lt;/p&gt;</comment>
                            <comment id="15604159" author="ram_krish" created="Tue, 25 Oct 2016 04:37:22 +0000"  >&lt;p&gt;Can this be committed? Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15604207" author="anoop.hbase" created="Tue, 25 Oct 2016 05:03:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15604245" author="ram_krish" created="Tue, 25 Oct 2016 05:23:48 +0000"  >&lt;p&gt;Thanks for the review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15604246" author="ram_krish" created="Tue, 25 Oct 2016 05:23:59 +0000"  >&lt;p&gt;Pushed to master.&lt;/p&gt;</comment>
                            <comment id="15604913" author="hudson" created="Tue, 25 Oct 2016 10:23:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build HBase-Trunk_matrix #1850 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/1850/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/1850/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16880&quot; title=&quot;Correct the javadoc/behaviour of the APIs in ByteBufferUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16880&quot;&gt;&lt;del&gt;HBASE-16880&lt;/del&gt;&lt;/a&gt; Correct the javadoc/behaviour of the APIs in ByteBufferUtils (ramkrishna: rev 9875c699afb552d8190df81750e4496677925417)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) hbase-common/src/main/java/org/apache/hadoop/hbase/util/ByteBufferUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) hbase-common/src/test/java/org/apache/hadoop/hbase/util/TestByteBufferUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12834910" name="HBASE-16880.patch" size="2946" author="ram_krish" created="Mon, 24 Oct 2016 10:13:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Oct 2016 15:20:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i352pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>