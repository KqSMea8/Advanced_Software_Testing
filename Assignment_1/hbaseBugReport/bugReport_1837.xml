<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:56:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1837/HBASE-1837.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1837] Fix results contract (If row has no results, return null, if Result has no results return null or empty Sets and Arrays?)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1837</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Make sure we are consistent regards results contract.  As jgray says:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
17:47 &amp;lt; jgray&amp;gt; decisions are things like, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the result is empty &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; we &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; nulls or &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; we &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; empty 
               lists/0-length arrays
17:47 &amp;lt; jgray&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; result is empty, &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; we &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row?
17:47 &amp;lt; jgray&amp;gt; and &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; row is the &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; row, we then &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; zero-length &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[0]
17:48 &amp;lt; St^Ack_&amp;gt; So, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; row is empty, we &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; (I believe)
17:48 &amp;lt; jgray&amp;gt; yes
17:49 &amp;lt; St^Ack_&amp;gt; If you have a result, up to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; empty, it would not &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; stuff.
17:49 &amp;lt; jgray&amp;gt; no it did &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; stuff
17:49 &amp;lt; jgray&amp;gt; at least many of them did
17:49 &amp;lt; St^Ack_&amp;gt; oh.. ok.
17:49 &amp;lt; jgray&amp;gt; but then my result delayed deserialization broke that on one &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;
17:49 &amp;lt; St^Ack_&amp;gt; I thought I&apos;d added it w/ 1836?
17:49 &amp;lt; jgray&amp;gt; yeah u fixed what i broke, i think
17:50 &amp;lt; jgray&amp;gt; but we should nail down the contract, specify what it is in javadoc, and add unit tests to verify such
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12435637">HBASE-1837</key>
            <summary>Fix results contract (If row has no results, return null, if Result has no results return null or empty Sets and Arrays?)</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Sep 2009 17:53:45 +0000</created>
                <updated>Sat, 11 Apr 2015 00:37:20 +0000</updated>
                            <resolved>Sat, 11 Apr 2015 00:37:20 +0000</resolved>
                                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12866997" author="stack" created="Thu, 13 May 2010 04:41:15 +0000"  >&lt;p&gt;Moved from 0.21 to 0.22 just after merge of old 0.20 branch into TRUNK.&lt;/p&gt;</comment>
                            <comment id="13010235" author="jpallas" created="Wed, 23 Mar 2011 17:22:24 +0000"  >&lt;p&gt;Current behavior is both confusing and not documented.&lt;/p&gt;

&lt;p&gt;&quot;Effective Java&quot; recommends returning empty collections instead of null, in general.  I understand the argument about distinguishing between empty and missing from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1028&quot; title=&quot;If key does not exist, return null in getRow rather than an empty RowResult&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1028&quot;&gt;&lt;del&gt;HBASE-1028&lt;/del&gt;&lt;/a&gt;, but with a Bigtable-style dynamic schema, there are cases where there simply is no difference.  In those cases, an empty collection seems a much better choice for clients.&lt;/p&gt;</comment>
                            <comment id="13047582" author="stack" created="Fri, 10 Jun 2011 22:45:56 +0000"  >&lt;p&gt;Moving out of 0.92.0. Pull it back in if you think different.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12382939">HBASE-176</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12409231">HBASE-1028</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12421637">HBASE-1301</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Mar 2011 17:22:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hfjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>