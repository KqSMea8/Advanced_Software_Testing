<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:13:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10361/HBASE-10361.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10361] Enable/AlterTable support for region replicas</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10361</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add support for region replicas in master operations enable table and modify table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689148">HBASE-10361</key>
            <summary>Enable/AlterTable support for region replicas</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="devaraj">Devaraj Das</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 01:46:07 +0000</created>
                <updated>Sat, 21 Feb 2015 23:32:07 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 00:27:39 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>hbase-10070</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13898456" author="devaraj" created="Tue, 11 Feb 2014 22:58:36 +0000"  >&lt;p&gt;Patch that assumes &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10350&quot; title=&quot;Master/AM/RegionStates changes to create and assign region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10350&quot;&gt;&lt;del&gt;HBASE-10350&lt;/del&gt;&lt;/a&gt;&apos;s patch on jira (10350-3.txt).&lt;/p&gt;</comment>
                            <comment id="13898647" author="enis" created="Wed, 12 Feb 2014 01:50:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;// update meta if needed (TODO: make this work when table is online)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Will this come in this patch? If not we can create an issue for tracking this, and check and throw an exception if the table is not offline when region replication is changed. &lt;/p&gt;

&lt;p&gt;inside removeReplicaColumnsIfNeeded(), we remove the regions if new replication count is lower from meta. We want to encapsulate the meta operations in MetaReader / MetaEditor so that outsiders won&apos;t even know how the replicas are stored. Can we change this to call MetaEditor.deleteRegion() for the region replicas that should be removed from meta inside MetaEditor, and change MetaEditor to recognize the replica and do the action accordingly. &lt;/p&gt;

&lt;p&gt;ModifyTableHandler also does not create new regions when region replication is bumped. Is this because EnableTableHandler would create those anyway? In case of online schema change, we can address this later I guess. &lt;/p&gt;</comment>
                            <comment id="13900771" author="devaraj" created="Thu, 13 Feb 2014 21:46:42 +0000"  >&lt;p&gt;Patch that addresses the comments..&lt;/p&gt;</comment>
                            <comment id="13901170" author="devaraj" created="Fri, 14 Feb 2014 07:09:49 +0000"  >&lt;p&gt;Patch that applies on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10350&quot; title=&quot;Master/AM/RegionStates changes to create and assign region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10350&quot;&gt;&lt;del&gt;HBASE-10350&lt;/del&gt;&lt;/a&gt;&apos;s 10350-4-5.txt&lt;/p&gt;</comment>
                            <comment id="13901683" author="devaraj" created="Fri, 14 Feb 2014 17:39:58 +0000"  >&lt;p&gt;A small addendum on top of the 10361-4.txt patch to address a NPE.&lt;/p&gt;</comment>
                            <comment id="13901797" author="enis" created="Fri, 14 Feb 2014 19:07:13 +0000"  >&lt;p&gt;v4 patch loos good. +1. &lt;/p&gt;</comment>
                            <comment id="13906294" author="ndimiduk" created="Wed, 19 Feb 2014 23:41:20 +0000"  >&lt;p&gt;No changes to the shell help strings?&lt;/p&gt;

&lt;p&gt;nit: no longer needed.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;       //TODO: HBASE-10361 patch should uncomment the test below
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13906350" author="devaraj" created="Thu, 20 Feb 2014 00:19:46 +0000"  >&lt;p&gt;Patch addressing Nick&apos;s comments. Also includes the NPE related patch 10361-4-add.txt&lt;/p&gt;</comment>
                            <comment id="13906360" author="ndimiduk" created="Thu, 20 Feb 2014 00:25:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13906363" author="devaraj" created="Thu, 20 Feb 2014 00:27:39 +0000"  >&lt;p&gt;Committed to the hbase-10070 branch. Thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="14046608" author="enis" created="Sat, 28 Jun 2014 01:46:53 +0000"  >&lt;p&gt;Attaching rebased patch for master that is committed&lt;/p&gt;</comment>
                            <comment id="14046657" author="enis" created="Sat, 28 Jun 2014 02:07:34 +0000"  >&lt;p&gt;Committed to master as part of hbase-10070 branch merge&lt;/p&gt;</comment>
                            <comment id="14046745" author="hudson" created="Sat, 28 Jun 2014 06:13:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5245 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5245/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5245/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10361&quot; title=&quot;Enable/AlterTable support for region replicas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10361&quot;&gt;&lt;del&gt;HBASE-10361&lt;/del&gt;&lt;/a&gt;. Enable/AlterTable support for region replicas (ddas) (enis: rev 72355a920a6c8dbb766a39c5a39c288838030cdf)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/alter.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/EnableTableHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterOperationsForRegionReplicas.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330915" author="enis" created="Sat, 21 Feb 2015 23:32:07 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652947" name="0009-HBASE-10361.-Enable-AlterTable-support-for-region-re.patch" size="16898" author="enis" created="Sat, 28 Jun 2014 01:46:52 +0000"/>
                            <attachment id="12628360" name="10361-1.txt" size="11798" author="devaraj" created="Tue, 11 Feb 2014 22:58:36 +0000"/>
                            <attachment id="12628862" name="10361-3.txt" size="14983" author="devaraj" created="Thu, 13 Feb 2014 21:46:42 +0000"/>
                            <attachment id="12629064" name="10361-4-add.txt" size="886" author="devaraj" created="Fri, 14 Feb 2014 17:39:58 +0000"/>
                            <attachment id="12628965" name="10361-4.txt" size="14298" author="devaraj" created="Fri, 14 Feb 2014 07:09:49 +0000"/>
                            <attachment id="12629938" name="10361-5.txt" size="15853" author="devaraj" created="Thu, 20 Feb 2014 00:19:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Feb 2014 22:58:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rg6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>