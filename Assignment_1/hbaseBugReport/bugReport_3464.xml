<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:10:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3464/HBASE-3464.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3464] dns.interface property causes malformed parsing for &apos;lo&apos;</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3464</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have a seed application that is executed via maven and runs a&lt;br/&gt;
single JVM ApplicationStarter that starts up hdfs, regionserver, hmaster&lt;br/&gt;
threads. It does some seeding then shuts those down in reverse order.&lt;br/&gt;
So this isn&apos;t a typical way of running hbase to be sure. However it has&lt;br/&gt;
always worked until I upgraded to HBase 0.90.0.&lt;/p&gt;

&lt;p&gt;I didn&apos;t notice it when I was originally testing 0.90.0 because it only&lt;br/&gt;
seems to be happening on our EC2.small build server node when I run this&lt;br/&gt;
particular seeder.&lt;/p&gt;

&lt;p&gt;Running the same thing locally on my mac works.&lt;/p&gt;

&lt;p&gt;Attached is the error output starting from when the HRegionServer.stop() is&lt;br/&gt;
called to when HMaster.shutdown() is called and it starts looping forever in&lt;br/&gt;
letRegionServersShutdown().&lt;/p&gt;

&lt;p&gt;It looks like RegionServerTracker is getting to &quot;RegionServer ephemeral node&lt;br/&gt;
deleted, processing expiration&quot; but then because it can&apos;t get the&lt;br/&gt;
HServerInfo it doesn&apos;t follow-through with actually expiring it.&lt;/p&gt;

&lt;p&gt;The reason it can&apos;t get the HServerInfo is because it is looking for &quot;localhost.&quot; instead of &quot;localhost&quot;.&lt;/p&gt;

&lt;p&gt;My /etc/hosts file was vanilla. But when I removed the following form hbase-site.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
       &amp;lt;name&amp;gt;hbase.master.dns.interface&amp;lt;/name&amp;gt;&lt;br/&gt;
       &amp;lt;value&amp;gt;lo&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
      &amp;lt;name&amp;gt;hbase.regionserver.dns.interface&amp;lt;/name&amp;gt;&lt;br/&gt;
      &amp;lt;value&amp;gt;lo&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;The issue went away.&lt;/p&gt;

&lt;p&gt;So something about the &quot;lo&quot; interface isn&apos;t getting parsed right on that particular machine (An EC2 M.small running Ubuntu 9).&lt;/p&gt;</description>
                <environment>&lt;p&gt;An EC2 m1.large node running Ubuntu 9.  HDFS + HBASE 0.90.0 running in a single JVM.&lt;/p&gt;</environment>
        <key id="12496357">HBASE-3464</key>
            <summary>dns.interface property causes malformed parsing for &apos;lo&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jk-public@troove.net">James Kennedy</reporter>
                        <labels>
                            <label>delete</label>
                    </labels>
                <created>Sat, 22 Jan 2011 01:06:53 +0000</created>
                <updated>Sat, 10 Jan 2015 02:01:28 +0000</updated>
                            <resolved>Sat, 10 Jan 2015 02:01:28 +0000</resolved>
                                                                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12985021" author="jk-public@troove.net" created="Sat, 22 Jan 2011 01:13:01 +0000"  >&lt;p&gt;Correction the box is an m1.large&lt;/p&gt;</comment>
                            <comment id="12992077" author="stack" created="Tue, 8 Feb 2011 17:53:33 +0000"  >&lt;p&gt;Thanks for filing the issue James.  This is an interesting one.  Seems related to hbase-3431 where we do resolve on both master and regionserver and the two can disagree?&lt;/p&gt;</comment>
                            <comment id="12992094" author="jk-public@troove.net" created="Tue, 8 Feb 2011 18:42:47 +0000"  >&lt;p&gt;Not sure.  I haven&apos;t dug into this very far but it seems to me like it might be more of a parsing error.  &quot;localhost.&quot; is not a valid server name anyway you look at it. Maybe that is being fed in from the OS environment somehow but I wasn&apos;t able to find any evidence of that.&lt;/p&gt;

&lt;p&gt;On that machine ifconfig shows:&lt;/p&gt;

&lt;p&gt;lo        Link encap:Local Loopback  &lt;br/&gt;
          inet addr:127.0.0.1  Mask:255.0.0.0&lt;br/&gt;
          inet6 addr: ::1/128 Scope:Host&lt;br/&gt;
          UP LOOPBACK RUNNING  MTU:16436  Metric:1&lt;br/&gt;
          RX packets:8423670 errors:0 dropped:0 overruns:0 frame:0&lt;br/&gt;
          TX packets:8423670 errors:0 dropped:0 overruns:0 carrier:0&lt;br/&gt;
          collisions:0 txqueuelen:0 &lt;br/&gt;
          RX bytes:4935980808 (4.9 GB)  TX bytes:4935980808 (4.9 GB)&lt;/p&gt;

&lt;p&gt;and /etc/hosts shows:&lt;/p&gt;

&lt;p&gt;127.0.0.1 localhost&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The following lines are desirable for IPv6 capable hosts&lt;br/&gt;
::1     ip6-localhost ip6-loopback&lt;br/&gt;
fe00::0 ip6-localnet&lt;br/&gt;
ff00::0 ip6-mcastprefix&lt;br/&gt;
ff02::1 ip6-allnodes&lt;br/&gt;
ff02::2 ip6-allrouters&lt;br/&gt;
ff02::3 ip6-allhosts&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13047597" author="stack" created="Fri, 10 Jun 2011 22:46:00 +0000"  >&lt;p&gt;Moving out of 0.92.0. Pull it back in if you think different.&lt;/p&gt;</comment>
                            <comment id="14267752" author="clehene" created="Wed, 7 Jan 2015 15:31:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=james.kennedy&quot; class=&quot;user-hover&quot; rel=&quot;james.kennedy&quot;&gt;James Kennedy&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; does this still reproduce? &lt;/p&gt;</comment>
                            <comment id="14272247" author="apurtell" created="Sat, 10 Jan 2015 02:01:28 +0000"  >&lt;p&gt;Resolving as Cannot Reproduce. Reopen if observed with supported version (0.94, 0.98+)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Feb 2011 17:53:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11544</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>