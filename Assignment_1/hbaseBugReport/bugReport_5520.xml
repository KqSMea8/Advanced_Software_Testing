<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:28:29 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5520/HBASE-5520.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5520] Support reseek() at RegionScanner</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5520</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;reseek() is not supported currently at the RegionScanner level. We can support the same.&lt;br/&gt;
This is created following the discussion under &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2038&quot; title=&quot;Coprocessors: Region level indexing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2038&quot;&gt;&lt;del&gt;HBASE-2038&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545171">HBASE-5520</key>
            <summary>Support reseek() at RegionScanner</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="anoopsamjohn">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Mar 2012 12:15:28 +0000</created>
                <updated>Tue, 26 Feb 2013 08:12:34 +0000</updated>
                            <resolved>Wed, 21 Mar 2012 04:26:43 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.94.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13222341" author="anoopsamjohn" created="Mon, 5 Mar 2012 13:30:27 +0000"  >&lt;p&gt;We can support only seek() and reseek() at the row boundary level.&lt;br/&gt;
We can take any of the below approaches&lt;br/&gt;
1. The APIs make use of the rowkey and timestamp only from the KeyValue passed.&lt;br/&gt;
2. Check at the RegionScannerImpl level that it is not having the CF, qualifier in the passed KV. If so throw exception. Only the KV can have the rowkey and timestamp also.&lt;span class=&quot;error&quot;&gt;&amp;#91;It is ok.Timestamp can be there...&amp;#93;&lt;/span&gt;&lt;br/&gt;
3. Dont bother let the seek happen. But may be dangerous??&lt;br/&gt;
4. We can give the signature of the seek() and reseek() at the RegionScanner as seek( byte[] rowKey ) reseek( byte[] rowKey )? So that the seek will be always to the begin KV of the row in every CF. [ if CF contains that key ]&lt;/p&gt;</comment>
                            <comment id="13222414" author="ram_krish" created="Mon, 5 Mar 2012 15:50:36 +0000"  >&lt;p&gt;We can upload a patch if we are fine with any one of the approaches?&lt;/p&gt;

&lt;p&gt;Please provide your suggestions.&lt;/p&gt;</comment>
                            <comment id="13225894" author="ram_krish" created="Fri, 9 Mar 2012 07:01:25 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13225896" author="ram_krish" created="Fri, 9 Mar 2012 07:02:59 +0000"  >&lt;p&gt;seek() api if we provide currently the Memstore scanner and store scanner does not allow going back from a current position.  &lt;br/&gt;
So only reseek() has been provided.  Please provide your comments.&lt;/p&gt;</comment>
                            <comment id="13225909" author="lhofhansl" created="Fri, 9 Mar 2012 07:31:15 +0000"  >&lt;p&gt;Didn&apos;t realize that KeyValueHeap does have a reseek method already. This makes this much simpler than I thought (so strike my comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2028&quot; title=&quot;Add HTable.incrementColumnValue() to shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2028&quot;&gt;&lt;del&gt;HBASE-2028&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
Do you want to use requestSeek (with forward == true) as opposed to reseek, to make use of the lazy-seek optimization?&lt;/p&gt;</comment>
                            <comment id="13225911" author="ram_krish" created="Fri, 9 Mar 2012 07:39:01 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Thanks for the review.  I will check the requestSeek option and get back.&lt;/p&gt;</comment>
                            <comment id="13226171" author="ram_krish" created="Fri, 9 Mar 2012 16:12:32 +0000"  >&lt;p&gt;Updated the patch with requestSeek.&lt;/p&gt;</comment>
                            <comment id="13226177" author="hadoopqa" created="Fri, 9 Mar 2012 16:26:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12517734/HBASE-5520_2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12517734/HBASE-5520_2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -123 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 159 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1145//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1145//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1145//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1145//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1145//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1145//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13226290" author="zhihyu@ebaysf.com" created="Fri, 9 Mar 2012 18:27:26 +0000"  >&lt;p&gt;Compilation failed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java:[54,17] org.apache.hadoop.hbase.coprocessor.TestCoprocessorInterface.CustomScanner is not &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; and does not override &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; method reseek(org.apache.hadoop.hbase.KeyValue) in org.apache.hadoop.hbase.regionserver.RegionScanner
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13226414" author="stack" created="Fri, 9 Mar 2012 20:25:02 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (kv == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {$
+        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Row cannot be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.&quot;&lt;/span&gt;);$
+      }$
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should be kv cannot be null?&lt;/p&gt;

&lt;p&gt;I don&apos;t understand what this means:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
The kv that is required to seek must be given$
+   * explicitly &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; reseek. Should not be used to seek to a key which may come$
+   * before the current position.$
+   * Note : Recommended to use knowing how seek can be done on different kvs.$
+   * Suggested to seek to row boundaries like start of a row or end of a row.$
+   * Seeking to the middle of a row may lead to inconsistencies across stores.$
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... its probably because I&apos;m slow but I&apos;m sure there will be slow fellows following behind me.  Is it saying you need to create a KV to do this?&lt;/p&gt;

&lt;p&gt;How would I know what the next row is in advance?  I suppose with the mvcc, you have some hope of isolating this row... but  if we are going for row boundaries, this patch looks to be missing some heft.&lt;/p&gt;</comment>
                            <comment id="13226762" author="ram_krish" created="Sat, 10 Mar 2012 05:39:55 +0000"  >&lt;p&gt;@Stack&lt;br/&gt;
If you see the comments above 05/Mar/12 13:30.&lt;br/&gt;
Always allowing to createFirstOnRow kv and createLastOnRow kv will help us to ensure that we are on row boundaries.&lt;br/&gt;
If you see the comments above &lt;br/&gt;
-&amp;gt; Is it ok if we expose the api accepting a row rather than kv.&lt;br/&gt;
-&amp;gt; Or get a kv but still internally create a start key? (We cannot create an end key in this case)&lt;/p&gt;
</comment>
                            <comment id="13226779" author="lhofhansl" created="Sat, 10 Mar 2012 06:42:15 +0000"  >&lt;p&gt;Agree with stack that the comment can be simplified. Also as stated in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2038&quot; title=&quot;Coprocessors: Region level indexing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2038&quot;&gt;&lt;del&gt;HBASE-2038&lt;/del&gt;&lt;/a&gt;, this reseek only works correctly on row boundaries, so the API should capture this and only accept a rowkey (rather than a KV).&lt;/p&gt;

&lt;p&gt;Then maybe the comment could say something like this:&lt;br/&gt;
&quot;Seek forward to the first KV matching the passed rowkey.&lt;br/&gt;
Only forward seeking is allowed, otherwise the behavior is undefined.&quot;&lt;/p&gt;

&lt;p&gt;There might be problems with this approach too. What if the scanner already saw some KVs for this rowkey? It puts a lot of burden on the caller that we only seek forward.&lt;/p&gt;

&lt;p&gt;As an aside:&lt;br/&gt;
Looking back at the various conversations, I actually have not heard a convincing argument on why using a Filter that returns the standard SEEK_NEXT_USING_HINT does not work. It would be doing a little bit more work (because each store would separately need to seek, and it needs to look at at least one more KV to decide to skip ahead), but that would still be &lt;b&gt;huge&lt;/b&gt; win over a full scan that needs to look at every KV.&lt;br/&gt;
Filters do not have the above problems, since they are inherently per column family.&lt;br/&gt;
You wouldn&apos;t use filterRow() but use filterKeyValue() together with getNextKeyHint()&lt;br/&gt;
(see MultipleColumnPrefixFilter).&lt;/p&gt;</comment>
                            <comment id="13227581" author="ram_krish" created="Mon, 12 Mar 2012 14:52:32 +0000"  >&lt;p&gt;@Lars and @Stack&lt;br/&gt;
Updated the api to take row instead of kv.&lt;br/&gt;
@Lars&lt;br/&gt;
Yes SEEK_NEXT_USING_HINT is a definite gain but this reseek will help to avoid that one problem that filters have to reseek one more kv incase where we know the row that we need to seek to.&lt;/p&gt;

&lt;p&gt;Just a thought of me and Anoop.  Pls let us know your suggestions and comments.&lt;/p&gt;</comment>
                            <comment id="13227582" author="hadoopqa" created="Mon, 12 Mar 2012 14:52:46 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12518028/HBASE-5520_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12518028/HBASE-5520_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1164//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1164//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13227765" author="stack" created="Mon, 12 Mar 2012 18:42:06 +0000"  >&lt;p&gt;We are reseeking to the start of the passed &apos;row&apos;?  Is that what we want?  I thought we were trying to go to start of next row.&lt;/p&gt;

&lt;p&gt;If reseeking the start of passed in &apos;row&apos;, then this patch looks fine.&lt;/p&gt;

&lt;p&gt;I defer to Lars&apos;s opinion though.  I don&apos;t know this area of the code well.&lt;/p&gt;</comment>
                            <comment id="13227900" author="lhofhansl" created="Mon, 12 Mar 2012 21:09:16 +0000"  >&lt;p&gt;Generally it would be very useful for coprocessors to have this ability!&lt;br/&gt;
After looking at the discussion here (the restrictions imposed on what KVs one can passed - previous ones, row only, column family needs to be ignored, etc) we just need to be careful how we add this.&lt;/p&gt;

&lt;p&gt;For this specific issue it would be nice to get some comparative performance numbers between this and filters. Maybe we&apos;re missing a level of abstraction...?&lt;/p&gt;</comment>
                            <comment id="13228197" author="ram_krish" created="Tue, 13 Mar 2012 04:39:30 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
We will come up with some performance numbers based on our scenario. &lt;/p&gt;

&lt;p&gt;Thanks Lars and Stack.&lt;/p&gt;</comment>
                            <comment id="13230900" author="lhofhansl" created="Fri, 16 Mar 2012 05:11:51 +0000"  >&lt;p&gt;Have been thinking a bit more about this.&lt;/p&gt;

&lt;p&gt;I think if we allow the caller just to pass a rowkey, and then enforce the we only seek forward this would be a great feature to have.&lt;br/&gt;
Since we&apos;re operation at the level of a region scanner (where we think about regions, rather than stores) this would be the right abstraction too.&lt;/p&gt;

&lt;p&gt;Alternatively looking at the MemstoreScanner code, seeking backwards would just be a no-op, so that is another option.&lt;/p&gt;

&lt;p&gt;Sorry, didn&apos;t mean to be dis-encouraging before just cautious &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13230907" author="anoopsamjohn" created="Fri, 16 Mar 2012 05:37:06 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Thanks for your thoughts and suggestion.&lt;br/&gt;
Yes we felt that this will be a nice feature for the coprocessor guy..&lt;/p&gt;

&lt;p&gt;Now we support seek to the begin boundary of row.&lt;br/&gt;
Will it be nice to support seek to the end of a given row also.&lt;/p&gt;

&lt;p&gt;Co processor dont know the exact rowid to be seeked... But it know to skip till some rowId.. In that case if we allow to seek to the end boundary of a row , it would be useful.. What do u say?&lt;/p&gt;

&lt;p&gt;In our case we dont have this use case now. But it might be useful for some other co processor guys &lt;/p&gt;</comment>
                            <comment id="13231258" author="ram_krish" created="Fri, 16 Mar 2012 14:52:37 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
I need to rebase the patch once again related to test case.&lt;br/&gt;
Currently the performance numbers am not able to get it because our clusters are busy with other tasks.&lt;br/&gt;
If it is ok i will rebase the patch now and upload it so that it can be committed.&lt;br/&gt;
If not i will wait to get the results. This can go into 0.94?&lt;br/&gt;
What do you say Lars?&lt;/p&gt;</comment>
                            <comment id="13231459" author="lhofhansl" created="Fri, 16 Mar 2012 18:01:29 +0000"  >&lt;p&gt;+1 on 0.94.&lt;br/&gt;
Another question about the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; reseek(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] row) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
...
+      startRegionOperation();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;ol&gt;
	&lt;li&gt;why start a region operation here? This is called only called from a coprocessor, right? So should already be in a region operation.&lt;/li&gt;
	&lt;li&gt;why synchronized?&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13231843" author="anoopsamjohn" created="Sat, 17 Mar 2012 04:52:08 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
The co processor preScannerNext() method will be getting called from the HRegionServer&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Call coprocessor. Get region info from scanner.
&lt;/span&gt;      HRegion region = getRegion(s.getRegionInfo().getRegionName());
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (region != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; region.getCoprocessorHost() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; bypass = region.getCoprocessorHost().preScannerNext(s,
            results, nbRows);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So by the time co processor calls this seek, there wont be any region op already started. Pls correct me if I am wrong.&lt;/p&gt;</comment>
                            <comment id="13231849" author="ram_krish" created="Sat, 17 Mar 2012 05:33:50 +0000"  >&lt;p&gt;An udpated patch not w.r.t to the comments given by Lars.  In my previous patch some commented lines were present hence removed them.&lt;br/&gt;
Reg, startRegionOperation i go with Anoop&apos;s reply.&lt;br/&gt;
Lars, pls share your comments on this.&lt;/p&gt;</comment>
                            <comment id="13231865" author="hadoopqa" created="Sat, 17 Mar 2012 06:26:35 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12518777/HBASE-5520_4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12518777/HBASE-5520_4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 161 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1216//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1216//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1216//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1216//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1216//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1216//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13233448" author="ram_krish" created="Tue, 20 Mar 2012 14:39:31 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Are you considering this for 0.94 RC? If you feel the patch is fine and if you include this in RC it will be of great help for us.&lt;br/&gt;
But even if you feel this cant go in RC then no issues.&lt;/p&gt;</comment>
                            <comment id="13233489" author="lhofhansl" created="Tue, 20 Mar 2012 15:30:34 +0000"  >&lt;p&gt;Yeah, I think this should be in 0.94.&lt;/p&gt;</comment>
                            <comment id="13233507" author="lhofhansl" created="Tue, 20 Mar 2012 15:46:13 +0000"  >&lt;p&gt;+1 on patch.&lt;br/&gt;
I think this is good for commit.&lt;/p&gt;</comment>
                            <comment id="13233557" author="ram_krish" created="Tue, 20 Mar 2012 17:01:50 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Thanks for reviewing.  I will go ahead and commit this now.&lt;/p&gt;</comment>
                            <comment id="13233566" author="ram_krish" created="Tue, 20 Mar 2012 17:12:42 +0000"  >&lt;p&gt;Committed to 0.94 and trunk.&lt;br/&gt;
Thanks Lars, Stack and Anoop for review. &lt;br/&gt;
Special thanks to Lars for taking it into 0.94 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13233570" author="hudson" created="Tue, 20 Mar 2012 17:15:36 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #41 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/41/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/41/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5520&quot; title=&quot;Support reseek() at RegionScanner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5520&quot;&gt;&lt;del&gt;HBASE-5520&lt;/del&gt;&lt;/a&gt; Support reseek() at RegionScanner (Ram) (Revision 1303006)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/RegionScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13233574" author="zhihyu@ebaysf.com" created="Tue, 20 Mar 2012 17:18:51 +0000"  >&lt;p&gt;The patch resulted in compilation error.&lt;/p&gt;

&lt;p&gt;Hadoop QA has stopped functioning.&lt;/p&gt;

&lt;p&gt;Please revert the patch, fix the compilation error, run the whole test suite and publish test result.&lt;/p&gt;</comment>
                            <comment id="13233580" author="lhofhansl" created="Tue, 20 Mar 2012 17:24:11 +0000"  >&lt;p&gt;We got an earlier successful test run. The patch is small and adds only new functionality.&lt;br/&gt;
Ram, I think you can you just run the tests locally and revert only if you see any problem.&lt;/p&gt;</comment>
                            <comment id="13233583" author="lhofhansl" created="Tue, 20 Mar 2012 17:25:33 +0000"  >&lt;p&gt;Wait... Just looked at the runs output again, this &lt;b&gt;is&lt;/b&gt; related to this patch.&lt;br/&gt;
So Ted&apos;s right, either commit an addendum or revert the patch please. Thanks.&lt;/p&gt;</comment>
                            <comment id="13233599" author="ram_krish" created="Tue, 20 Mar 2012 17:36:06 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
I have immediately corrected that and now it is running fine. &lt;/p&gt;</comment>
                            <comment id="13233615" author="hudson" created="Tue, 20 Mar 2012 17:51:56 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #42 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/42/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/42/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5520&quot; title=&quot;Support reseek() at RegionScanner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5520&quot;&gt;&lt;del&gt;HBASE-5520&lt;/del&gt;&lt;/a&gt; - 0.94 patch did not apply cleanly .  Updated it (Revision 1303019)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/RegionScanner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13233929" author="hudson" created="Tue, 20 Mar 2012 23:15:44 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2688 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2688/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2688/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5520&quot; title=&quot;Support reseek() at RegionScanner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5520&quot;&gt;&lt;del&gt;HBASE-5520&lt;/del&gt;&lt;/a&gt; Support reseek() at RegionScanner (Ram) (Revision 1303005)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/RegionScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13234132" author="hudson" created="Wed, 21 Mar 2012 05:50:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #144 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/144/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/144/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5520&quot; title=&quot;Support reseek() at RegionScanner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5520&quot;&gt;&lt;del&gt;HBASE-5520&lt;/del&gt;&lt;/a&gt; Support reseek() at RegionScanner (Ram) (Revision 1303005)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/RegionScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12443023">HBASE-2038</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12517686" name="HBASE-5520_1.patch" size="13466" author="ram_krish" created="Fri, 9 Mar 2012 07:01:25 +0000"/>
                            <attachment id="12517734" name="HBASE-5520_2.patch" size="13564" author="ram_krish" created="Fri, 9 Mar 2012 16:12:32 +0000"/>
                            <attachment id="12518028" name="HBASE-5520_3.patch" size="11231" author="ram_krish" created="Mon, 12 Mar 2012 14:50:16 +0000"/>
                            <attachment id="12518777" name="HBASE-5520_4.patch" size="9629" author="ram_krish" created="Sat, 17 Mar 2012 05:33:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Mar 2012 15:50:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08qtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>