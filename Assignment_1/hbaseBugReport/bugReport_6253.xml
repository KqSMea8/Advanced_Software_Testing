<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:35:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6253/HBASE-6253.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6253] Do not allow user to disable or drop ACL table</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6253</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently HTableDescriptor.isLegalTableName API doesn&apos;t check for the &lt;em&gt;acl&lt;/em&gt; table name, due to this user can able to disable/enable/drop/create the acl table. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12595430">HBASE-6253</key>
            <summary>Do not allow user to disable or drop ACL table</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12541733">HBASE-5352</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopinathan.av">Gopinathan A</assignee>
                                    <reporter username="gopinathan.av">Gopinathan A</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Thu, 21 Jun 2012 13:45:35 +0000</created>
                <updated>Tue, 26 Feb 2013 08:16:09 +0000</updated>
                            <resolved>Fri, 6 Jul 2012 03:02:51 +0000</resolved>
                                    <version>0.94.1</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13398583" author="zhihyu@ebaysf.com" created="Thu, 21 Jun 2012 16:57:08 +0000"  >&lt;p&gt;Have you run all security related tests ?&lt;br/&gt;
With this patch, how would &lt;em&gt;acl&lt;/em&gt; table be created on a clean cluster ?&lt;/p&gt;</comment>
                            <comment id="13398649" author="ram_krish" created="Thu, 21 Jun 2012 17:57:31 +0000"  >&lt;p&gt;@Ted&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!MetaReader.tableExists(master.getCatalogTracker(), ACL_TABLE_NAME_STR)) {
      master.createTable(ACL_TABLEDESC, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The acl creation goes thro&apos; master.createTable. So it should be ok.&lt;/p&gt;</comment>
                            <comment id="13398656" author="gopinathan.av" created="Thu, 21 Jun 2012 18:01:43 +0000"  >&lt;p&gt;Sorry Ted.. I have not run the Security related tests. Your right acl table creation will be failed in this case &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
My main intention to avoid user to perform disable/drop acl table.&lt;/p&gt;

&lt;p&gt;I think we can set setMetaFlags as true in HTableDescriptor constructor for &lt;em&gt;acl&lt;/em&gt; table also (like ROOT &amp;amp; META). This will solve the table creation problem.&lt;/p&gt;</comment>
                            <comment id="13398658" author="apurtell" created="Thu, 21 Jun 2012 18:02:33 +0000"  >&lt;p&gt;How can a user drop the ACL table if they are not authorized to do it?&lt;/p&gt;

&lt;p&gt;The string &lt;tt&gt;_ acl _&lt;/tt&gt; as table name has no special meaning unless the AccessController is installed. So -1 a core change that encodes it.&lt;/p&gt;

&lt;p&gt;Edit: Fix formatting (kind of)&lt;/p&gt;</comment>
                            <comment id="13398694" author="gopinathan.av" created="Thu, 21 Jun 2012 18:20:29 +0000"  >&lt;p&gt;I felt even authorized user should not able to perform disable/drop operation.&lt;/p&gt;</comment>
                            <comment id="13398695" author="apurtell" created="Thu, 21 Jun 2012 18:22:31 +0000"  >&lt;p&gt;-1 any core code change here. Protect against the drop in the AccessController.&lt;/p&gt;</comment>
                            <comment id="13399057" author="gopinathan.av" created="Fri, 22 Jun 2012 01:18:21 +0000"  >&lt;p&gt;I agree with your point. I will rework on this patch.&lt;/p&gt;</comment>
                            <comment id="13400290" author="gopinathan.av" created="Mon, 25 Jun 2012 05:40:25 +0000"  >&lt;p&gt;I considered only disable table scenario in this patch, since table need to be disabled before doing any drop/modify table. &lt;/p&gt;</comment>
                            <comment id="13400292" author="lakshman" created="Mon, 25 Jun 2012 06:00:28 +0000"  >&lt;p&gt;Moving to PA.&lt;/p&gt;</comment>
                            <comment id="13400294" author="lakshman" created="Mon, 25 Jun 2012 06:00:58 +0000"  >&lt;p&gt;should we consider disallowing all DDL operations (add/delete/modify column)?&lt;br/&gt;
with online schema change, its not mandatory that we need to diable the table.&lt;br/&gt;
that means, we can drop the columns of &quot;acl&quot; table even now.&lt;/p&gt;</comment>
                            <comment id="13400296" author="lakshman" created="Mon, 25 Jun 2012 06:07:23 +0000"  >&lt;p&gt;by DDL i consider : AddColumn, ModifyColumn, DeleteColumn, EnableTable, DisableTable, ModifyTable, DeleteTable&lt;/p&gt;

&lt;p&gt;Reference: ACL matrix available @ &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6192&quot; title=&quot;Document ACL matrix in the book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6192&quot;&gt;&lt;del&gt;HBASE-6192&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13400297" author="ram_krish" created="Mon, 25 Jun 2012 06:08:54 +0000"  >&lt;p&gt;I think its better we fix keeping online schema changes also.&lt;/p&gt;</comment>
                            <comment id="13400317" author="hadoopqa" created="Mon, 25 Jun 2012 06:48:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12533259/HBASE-6253.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12533259/HBASE-6253.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 11 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2247//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13400665" author="apurtell" created="Mon, 25 Jun 2012 17:01:21 +0000"  >&lt;p&gt;+1 on patch&lt;/p&gt;</comment>
                            <comment id="13400666" author="apurtell" created="Mon, 25 Jun 2012 17:02:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;should we consider disallowing all DDL operations (add/delete/modify column)? with online schema change, its not mandatory that we need to diable the table. that means, we can drop the columns of &quot;acl&quot; table even now.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Concur.&lt;/p&gt;</comment>
                            <comment id="13407623" author="lhofhansl" created="Fri, 6 Jul 2012 00:26:43 +0000"  >&lt;p&gt;+1 on patch.&lt;br/&gt;
Let&apos;s tackle online schema change in a separate issue (against 0.94.2).&lt;/p&gt;</comment>
                            <comment id="13407647" author="apurtell" created="Fri, 6 Jul 2012 01:24:28 +0000"  >&lt;p&gt;I have these changes queued for commit to trunk and 0.94 branch. Will commit after local tests pass.&lt;/p&gt;</comment>
                            <comment id="13407669" author="apurtell" created="Fri, 6 Jul 2012 03:02:51 +0000"  >&lt;p&gt;Committed to trunk and 0.94 branch. TestAccessController passes locally.&lt;/p&gt;</comment>
                            <comment id="13407713" author="hudson" created="Fri, 6 Jul 2012 05:25:29 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #301 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/301/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/301/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6253&quot; title=&quot;Do not allow user to disable or drop ACL table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6253&quot;&gt;&lt;del&gt;HBASE-6253&lt;/del&gt;&lt;/a&gt;. Do not allow user to disable or drop ACL table (Gopinathan) (Revision 1358030)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13411170" author="hudson" created="Wed, 11 Jul 2012 02:36:56 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #39 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/39/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/39/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6253&quot; title=&quot;Do not allow user to disable or drop ACL table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6253&quot;&gt;&lt;del&gt;HBASE-6253&lt;/del&gt;&lt;/a&gt;. Do not allow user to disable or drop ACL table (Gopinathan) (Revision 1358030)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428741" author="hudson" created="Sun, 5 Aug 2012 00:51:14 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #6 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6253&quot; title=&quot;Do not allow user to disable or drop ACL table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6253&quot;&gt;&lt;del&gt;HBASE-6253&lt;/del&gt;&lt;/a&gt;. Do not allow user to disable or drop ACL table (Gopinathan) (Revision 1358030)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12533259" name="HBASE-6253.patch" size="1907" author="gopinathan.av" created="Mon, 25 Jun 2012 05:40:25 +0000"/>
                            <attachment id="12532873" name="HBASE-6253.patch" size="2899" author="gopinathan.av" created="Thu, 21 Jun 2012 14:04:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Jun 2012 16:57:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>