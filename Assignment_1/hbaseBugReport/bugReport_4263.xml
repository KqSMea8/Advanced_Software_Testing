<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:17:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4263/HBASE-4263.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4263] New config property for user-table only RegionObservers.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4263</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It turns out that a RegionObserver can interfere with - ROOT - and .META.&lt;/p&gt;

&lt;p&gt;That seems weird and should be prevented.&lt;/p&gt;

&lt;p&gt;(The one use case for this that I could come up with is access control by Region by intercepting actions on .META., and I don&apos;t think that&apos;s a particularly strong use case).&lt;/p&gt;

&lt;p&gt;I&apos;ll attach a patch as soon as I get to it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12520331">HBASE-4263</key>
            <summary>New config property for user-table only RegionObservers.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Aug 2011 04:40:00 +0000</created>
                <updated>Fri, 20 Nov 2015 11:54:07 +0000</updated>
                            <resolved>Thu, 1 Sep 2011 05:38:22 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13092197" author="lhofhansl" created="Sat, 27 Aug 2011 04:54:55 +0000"  >&lt;p&gt;I think it is still OK to load per table coprocessors for - ROOT - and .META. as those are (presumably) specifically targeted to those tables.&lt;/p&gt;</comment>
                            <comment id="13092199" author="lhofhansl" created="Sat, 27 Aug 2011 05:31:43 +0000"  >&lt;p&gt;Gary points out on the mailing list that access control &lt;b&gt;is&lt;/b&gt; an important use case for coprocessors on ROOT and META and we should not unduly cripple coprocessors.&lt;/p&gt;

&lt;p&gt;So the question is should system coprocessor (at least RegionObservers) be loaded for the system tables.&lt;/p&gt;</comment>
                            <comment id="13092200" author="ghelmling" created="Sat, 27 Aug 2011 05:31:52 +0000"  >&lt;p&gt;See:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1697&quot; title=&quot;Discretionary access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1697&quot;&gt;&lt;del&gt;HBASE-1697&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3025&quot; title=&quot;Coprocessor based simple access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3025&quot;&gt;&lt;del&gt;HBASE-3025&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1712&quot; title=&quot;Delete protect tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1712&quot;&gt;&lt;del&gt;HBASE-1712&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I completely disagree about access control not being a &quot;strong&quot; use case.  And I&apos;m sure it&apos;s not the only possible or valid use case.&lt;/p&gt;

&lt;p&gt;I also disagree that this would be a desirable restriction and I think the downsides are far worse than the benefits.  There are still countless ways a coprocessor can crash a server.  What are we buying here?&lt;/p&gt;

&lt;p&gt;If the underlying need is to have an easy way for users to load RegionObservers on all &lt;b&gt;user&lt;/b&gt; tables, then I think it would be easy to add another configuration property to enable that.  Coprocessors loaded through that property could just skip loading on &lt;del&gt;ROOT&lt;/del&gt; and .META.  If that&apos;s the issue, then let&apos;s fix it.&lt;/p&gt;

&lt;p&gt;But removing the current property that allows loading RegionObservers on &lt;b&gt;all&lt;/b&gt; tables or restricting the ability to run RegionObservers on &lt;del&gt;ROOT&lt;/del&gt; and .META. severely undermines coprocessors as an extension mechanism and I&apos;ll be -1 on changes in that direction.&lt;/p&gt;</comment>
                            <comment id="13092201" author="lhofhansl" created="Sat, 27 Aug 2011 05:40:13 +0000"  >&lt;p&gt;(Comment overlap)&lt;/p&gt;

&lt;p&gt;Fair enough &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I think another config parameter is a good idea. If there are no objections I&apos;ll prepare a patch for that.&lt;/p&gt;</comment>
                            <comment id="13092202" author="ghelmling" created="Sat, 27 Aug 2011 05:46:48 +0000"  >&lt;p&gt;Sure, I can see the benefit of another config parameter for ease of use.  Thanks Lars.&lt;/p&gt;</comment>
                            <comment id="13092208" author="lhofhansl" created="Sat, 27 Aug 2011 06:36:51 +0000"  >&lt;p&gt;Changed title.&lt;/p&gt;</comment>
                            <comment id="13092222" author="apurtell" created="Sat, 27 Aug 2011 08:03:29 +0000"  >&lt;p&gt;Security is a strong use case, end of story.&lt;/p&gt;

&lt;p&gt;I&apos;m -1 on this issue, it should be resolved as invalid.&lt;/p&gt;

&lt;p&gt;Otherwise we don&apos;t have RegionObservers, we have SometimesRegionObservers, or NotUsefulToTheContributorsOfCoprocessorsRegionObservers.&lt;/p&gt;


</comment>
                            <comment id="13092223" author="apurtell" created="Sat, 27 Aug 2011 08:03:30 +0000"  >&lt;p&gt;Security is a strong use case, end of story.&lt;/p&gt;

&lt;p&gt;I&apos;m -1 on this issue, it should be resolved as invalid.&lt;/p&gt;

&lt;p&gt;Otherwise we don&apos;t have RegionObservers, we have SometimesRegionObservers, or NotUsefulToTheContributorsOfCoprocessorsRegionObservers.&lt;/p&gt;</comment>
                            <comment id="13092224" author="apurtell" created="Sat, 27 Aug 2011 08:13:28 +0000"  >&lt;p&gt;Apologies for the double post. A cab ride in Taipei can cause key jitter. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13092231" author="apurtell" created="Sat, 27 Aug 2011 08:55:55 +0000"  >&lt;p&gt;Coprocessors in architecture and implementation are exactly like loadable kernel modules. I think this moots considerations for restricting them.&lt;/p&gt;

&lt;p&gt;We did discuss code weaving in security policy earlier, but I&apos;m not sure how fruitful pursuing that would be, given the complexity involved and the murky assurance that would be the result.&lt;/p&gt;

&lt;p&gt;We can distinguish between external and internal coprocessors with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4047&quot; title=&quot;[Coprocessors] Generic external process host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4047&quot;&gt;HBASE-4047&lt;/a&gt;. If you want to pursue a direction where coprocessors can meaningfully be treated with some suspicion or restriction, adding security policies for &quot;external&quot; coprocessors makes sense. How policy is implemented there should be pluggable and stackable. It should be possible to supply a basic set of options for users, and allow system integrators to add their own, and stack them in order of desired authority.&lt;/p&gt;</comment>
                            <comment id="13092305" author="lhofhansl" created="Sat, 27 Aug 2011 15:06:40 +0000"  >&lt;p&gt;So just to sure, you are against another config option for user-table only region observers?&lt;/p&gt;</comment>
                            <comment id="13092946" author="lhofhansl" created="Mon, 29 Aug 2011 16:13:19 +0000"  >&lt;p&gt;For what&apos;s it worth, here&apos;s a patch.&lt;/p&gt;

&lt;p&gt;It just adds a new config option: hbase.coprocessor.user.region.classes, for coprocessor classes to be only loaded for user tables.&lt;/p&gt;

&lt;p&gt;For the record, I am not trying to cripple coprocessors or have any other agenda, nor am I saying anything about the coprocessor architecture in general (the fact that this patch is only 7 lines speaks for the thought-out design).&lt;br/&gt;
It&apos;s a great feature that we are planning to use extensively.&lt;/p&gt;

&lt;p&gt;I think this a fair and simple enhancement. Nobody has to use the new config option.&lt;br/&gt;
For us it would be helpful.&lt;/p&gt;</comment>
                            <comment id="13093072" author="stack" created="Mon, 29 Aug 2011 18:44:34 +0000"  >&lt;p&gt;Patch looks innocuous to me.  Seems reasonable having a catalog/user -space divide.&lt;/p&gt;</comment>
                            <comment id="13093077" author="yuzhihong@gmail.com" created="Mon, 29 Aug 2011 18:47:51 +0000"  >&lt;p&gt;Would hbase.coprocessor.user.table.classes be a better name for this new config ?&lt;/p&gt;</comment>
                            <comment id="13093088" author="lhofhansl" created="Mon, 29 Aug 2011 18:57:28 +0000"  >&lt;p&gt;I picked hbase.coprocessor.user.region.classes in analogy to the existing hbase.coprocessor.region.classes and because the RegionObservers are loaded per region.&lt;/p&gt;

&lt;p&gt;hbase.coprocessor.user.table.classes works too and might be easier to understand.&lt;/p&gt;</comment>
                            <comment id="13093093" author="ghelmling" created="Mon, 29 Aug 2011 19:02:09 +0000"  >&lt;p&gt;The patch seems fine to me.  I view the additional config property as just a short-cut to enabling a coprocessor per-table on each user table.&lt;/p&gt;

&lt;p&gt;I do think that too many configuration properties can become confusing, but I don&apos;t think one more will kill us.&lt;/p&gt;

&lt;p&gt;For naming, I prefer hbase.coprocessor.user.region.classes for consistency with terminology throughout other coprocessor code/configs.  If we name break that consistency, let&apos;s have a good reason.&lt;/p&gt;</comment>
                            <comment id="13093302" author="lhofhansl" created="Mon, 29 Aug 2011 23:25:27 +0000"  >&lt;p&gt;Thanks Gary.&lt;br/&gt;
&quot;a short-cut to enabling a coprocessor per-table on each user table&quot;... That exactly what we&apos;re going to use it for.&lt;br/&gt;
I also agree or the too-many-options-are-confusing bit.&lt;/p&gt;</comment>
                            <comment id="13093871" author="lhofhansl" created="Tue, 30 Aug 2011 16:31:05 +0000"  >&lt;p&gt;Andrew, are you still opposed after seeing the patch?&lt;/p&gt;</comment>
                            <comment id="13094623" author="lhofhansl" created="Wed, 31 Aug 2011 15:41:54 +0000"  >&lt;p&gt;Does anybody feel like committing this? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13094944" author="yuzhihong@gmail.com" created="Wed, 31 Aug 2011 21:57:32 +0000"  >&lt;p&gt;@Lars:&lt;br/&gt;
Why did you ask question you knew the answer &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13095051" author="lhofhansl" created="Thu, 1 Sep 2011 01:22:05 +0000"  >&lt;p&gt;Sigh &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
If nobody&apos;s feels comfortable committing this, might as well close it.&lt;/p&gt;

&lt;p&gt;How about I contact you guys offline via email to resolve this?&lt;/p&gt;</comment>
                            <comment id="13095127" author="apurtell" created="Thu, 1 Sep 2011 05:32:58 +0000"  >&lt;p&gt;@Lars, sorry for the delayed response. My objection is to the initial proposal, the patch is fine. Let me change my vote here to +0.&lt;/p&gt;</comment>
                            <comment id="13095129" author="stack" created="Thu, 1 Sep 2011 05:34:51 +0000"  >&lt;p&gt;@Lars Just waiting for Andrew&apos;s take after a few above argue the patch reasonable.&lt;/p&gt;</comment>
                            <comment id="13095130" author="stack" created="Thu, 1 Sep 2011 05:36:14 +0000"  >&lt;p&gt;oh, nvm, Andrew responded above.&lt;/p&gt;</comment>
                            <comment id="13095132" author="stack" created="Thu, 1 Sep 2011 05:38:22 +0000"  >&lt;p&gt;Committed to TRUNK.&lt;/p&gt;</comment>
                            <comment id="13095199" author="hudson" created="Thu, 1 Sep 2011 09:31:22 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2168 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2168/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2168/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4263&quot; title=&quot;New config property for user-table only RegionObservers.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4263&quot;&gt;&lt;del&gt;HBASE-4263&lt;/del&gt;&lt;/a&gt; New config property for user-table only RegionObservers&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15016145" author="lars_francke" created="Fri, 20 Nov 2015 11:54:07 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12512347">HBASE-4047</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12492095" name="4263.txt" size="1925" author="lhofhansl" created="Mon, 29 Aug 2011 16:13:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Aug 2011 05:31:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hq5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>