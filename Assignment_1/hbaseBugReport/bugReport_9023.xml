<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:00:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9023/HBASE-9023.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9023] TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9023</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Any one want to take a look at this one? &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4283/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4283/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.apache.hadoop.hbase.TestIOFencing.doTest(TestIOFencing.java:263)
	at org.apache.hadoop.hbase.TestIOFencing.testFencingAroundCompactionAfterWALSync(TestIOFencing.java:217)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.junit.runners.Suite.runChild(Suite.java:127)
	at org.junit.runners.Suite.runChild(Suite.java:26)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12659250">HBASE-9023</key>
            <summary>TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jul 2013 04:06:16 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:15 +0000</updated>
                            <resolved>Mon, 26 Aug 2013 19:10:40 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13716028" author="stack" created="Tue, 23 Jul 2013 04:08:01 +0000"  >&lt;p&gt;It is probably just the overcommitted box:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; LEAK? -, OpenFileDescriptor=174 (was 162) - OpenFileDescriptor LEAK? -, MaxFileDescriptor=40000 (was 40000), SystemLoadAverage=351 (was 383), ProcessCount=142 (was 144), AvailableMemoryMB=819 (was 892), ConnectionCount=0 (was 0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We are out of fds.&lt;/p&gt;</comment>
                            <comment id="13716055" author="stack" created="Tue, 23 Jul 2013 05:10:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;We are out of fds.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is not right.  It is just a misreading of the way ResourceChecker logs.  If we were out of fds we would see &quot;Too many open files&quot; in the logs.&lt;/p&gt;</comment>
                            <comment id="13724909" author="stack" created="Wed, 31 Jul 2013 05:51:26 +0000"  >&lt;p&gt;Failed again: &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/386/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/386/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13726721" author="stack" created="Thu, 1 Aug 2013 18:37:47 +0000"  >&lt;p&gt;Failed this morning: &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4328/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4328/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13727399" author="stack" created="Fri, 2 Aug 2013 06:26:20 +0000"  >&lt;p&gt;Failed this evening: &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4331/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4331/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13737775" author="stack" created="Tue, 13 Aug 2013 03:45:27 +0000"  >&lt;p&gt;Failed this evening &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/435/testReport/junit/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompaction/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/435/testReport/junit/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompaction/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13741236" author="stack" created="Thu, 15 Aug 2013 17:33:08 +0000"  >&lt;p&gt;Failed this  morning &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/453/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/453/testReport/org.apache.hadoop.hbase/TestIOFencing/testFencingAroundCompactionAfterWALSync/&lt;/a&gt;  Anyone want to take a look at this?&lt;/p&gt;</comment>
                            <comment id="13741388" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 19:38:54 +0000"  >&lt;p&gt;The latest test failure was due to timing.&lt;br/&gt;
TestIOFencing waits for flush to complete by checking:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (compactingRegion.getLastFlushTime() &amp;lt;= lastFlushTime) {
        LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the region to flush &quot;&lt;/span&gt; + compactingRegion.getRegionNameAsString());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In test output, I don&apos;t see the above LOG.&lt;br/&gt;
HRegion#lastFlushTime is assigned at the beginning of internalFlushcache(). This means that the test might come out of the loop prematurely due to flush still in progress.&lt;/p&gt;</comment>
                            <comment id="13741392" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 19:42:50 +0000"  >&lt;p&gt;Patch v1 moves the assignment of lastFlushTime to immediately before notifyAll().&lt;/p&gt;

&lt;p&gt;Please comment.&lt;/p&gt;</comment>
                            <comment id="13741449" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 20:41:40 +0000"  >&lt;p&gt;Looped TestIOFencing 30 times on Linux and all passed.&lt;br/&gt;
There was no hanging test.&lt;/p&gt;</comment>
                            <comment id="13741543" author="stack" created="Thu, 15 Aug 2013 21:57:02 +0000"  >&lt;p&gt;How does your patch &apos;fix&apos; it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13741553" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 22:06:39 +0000"  >&lt;p&gt;The check against compactingRegion.getLastFlushTime() interprets the return value as the completion time of the more recent flush.&lt;br/&gt;
Without patch, this assumption is not true. Meaning flushing may still be in progress coming out of the while loop mentioned above.&lt;br/&gt;
Patch v1 lets getLastFlushTime() represent the completion time of last flush.&lt;/p&gt;</comment>
                            <comment id="13741562" author="stack" created="Thu, 15 Aug 2013 22:13:41 +0000"  >&lt;p&gt;+1 on trying the patch to see if it fixes the issue.  Leave the issue open meantime?&lt;/p&gt;</comment>
                            <comment id="13741569" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 22:15:28 +0000"  >&lt;p&gt;Thanks for the review.&lt;/p&gt;

&lt;p&gt;Plan to integrate after Hadoop QA reports back.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Leave the issue open meantime?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure.&lt;/p&gt;</comment>
                            <comment id="13741646" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 23:16:47 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6767/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6767/console&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HBASE-9023 patch is being downloaded at Thu Aug 15 22:04:37 UTC 2013 from
http:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/secure/attachment/12598280/9023-v1.txt
&lt;/span&gt;...
FATAL: hudson.remoting.RequestAbortedException: java.io.IOException: Unexpected termination of the channel
hudson.remoting.RequestAbortedException: hudson.remoting.RequestAbortedException: java.io.IOException: Unexpected termination of the channel
	at hudson.remoting.RequestAbortedException.wrapForRethrow(RequestAbortedException.java:41)
	at hudson.remoting.RequestAbortedException.wrapForRethrow(RequestAbortedException.java:34)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Don&apos;t know what caused the abort.&lt;/p&gt;</comment>
                            <comment id="13741656" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 23:20:28 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Will watch Jenkins builds for related test failure.&lt;/p&gt;</comment>
                            <comment id="13741773" author="hudson" created="Fri, 16 Aug 2013 01:07:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4399 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4399/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4399/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails (tedyu: rev 1514538)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13741776" author="yuzhihong@gmail.com" created="Fri, 16 Aug 2013 01:15:21 +0000"  >&lt;p&gt;Integrated to 0.95 as well.&lt;/p&gt;</comment>
                            <comment id="13741851" author="hudson" created="Fri, 16 Aug 2013 03:19:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #246 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/246/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/246/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails (tedyu: rev 1514550)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13741859" author="hudson" created="Fri, 16 Aug 2013 03:27:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #679 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/679/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/679/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails (tedyu: rev 1514538)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13741955" author="hudson" created="Fri, 16 Aug 2013 06:01:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #457 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/457/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/457/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails (tedyu: rev 1514550)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13743113" author="yuzhihong@gmail.com" created="Sun, 18 Aug 2013 03:13:03 +0000"  >&lt;p&gt;It turns out that flush detection logic still needs to be refined.&lt;br/&gt;
In one test run, here was the first completion of flush:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-08-17 15:10:18,370 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-282] regionserver.HStore(760): Added hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost.localdomain:53662/user/jenkins/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/tabletest/174fab922ef8fceeb0342279c97aadb7/family/4f528c163ab64226829fd13b7ae3f4b0, entries=2319, sequenceid=2323, filesize=77.9 K
&lt;/span&gt;2013-08-17 15:10:18,370 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-282] regionserver.HRegion(1639): Finished memstore flush of ~390.8 K/400144, currentsize=0/0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region tabletest,,1376777411816.174fab922ef8fceeb0342279c97aadb7. in 651ms, sequenceid=2323, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, the test failed with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError: lastFlushTime: 1376777411967 current: 1376777418370
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.apache.hadoop.hbase.TestIOFencing.doTest(TestIOFencing.java:264)
	at org.apache.hadoop.hbase.TestIOFencing.testFencingAroundCompactionAfterWALSync(TestIOFencing.java:218)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;1376777418370, in milliseconds, corresponds to 2013-08-17 15:10:18.&lt;br/&gt;
Obviously the reading of 1376777411967 as the previous flush time was incorrect. It was due to the assignment in HRegion#initializeRegionInternals():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.lastFlushTime = EnvironmentEdgeManager.currentTimeMillis();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13743114" author="yuzhihong@gmail.com" created="Sun, 18 Aug 2013 03:15:01 +0000"  >&lt;p&gt;Addendum changes the wait for second flush to complete.&lt;/p&gt;</comment>
                            <comment id="13743129" author="stack" created="Sun, 18 Aug 2013 04:12:55 +0000"  >&lt;p&gt;+1 on trying the addendum.&lt;/p&gt;</comment>
                            <comment id="13743234" author="hadoopqa" created="Sun, 18 Aug 2013 15:16:30 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12598662/9023.addendum1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12598662/9023.addendum1&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6803//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13743313" author="yuzhihong@gmail.com" created="Sun, 18 Aug 2013 18:07:04 +0000"  >&lt;p&gt;Addendum integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review.&lt;/p&gt;</comment>
                            <comment id="13743375" author="hudson" created="Sun, 18 Aug 2013 21:04:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4409 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4409/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4409/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; Addendum makes the wait for flush look for 2 store files (tedyu: rev 1515189)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestIOFencing.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13743405" author="hudson" created="Sun, 18 Aug 2013 22:15:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #685 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/685/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; Addendum makes the wait for flush look for 2 store files (tedyu: rev 1515189)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestIOFencing.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13743456" author="yuzhihong@gmail.com" created="Mon, 19 Aug 2013 00:45:05 +0000"  >&lt;p&gt;Integrated addendum to 0.95 as well.&lt;/p&gt;</comment>
                            <comment id="13743495" author="hudson" created="Mon, 19 Aug 2013 02:45:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #468 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/468/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/468/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; Addendum waits for two flushes (tedyu: rev 1515251)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/TestIOFencing.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13743513" author="hudson" created="Mon, 19 Aug 2013 04:32:23 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95-on-hadoop2 #252 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/252/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/252/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9023&quot; title=&quot;TestIOFencing.testFencingAroundCompactionAfterWALSync occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9023&quot;&gt;&lt;del&gt;HBASE-9023&lt;/del&gt;&lt;/a&gt; Addendum waits for two flushes (tedyu: rev 1515251)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/TestIOFencing.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13744543" author="yuzhihong@gmail.com" created="Tue, 20 Aug 2013 00:04:42 +0000"  >&lt;p&gt;TestIOFencing has been passing on Apache Jenkins and EC2 for both 0.95 and trunk.&lt;/p&gt;</comment>
                            <comment id="13744550" author="stack" created="Tue, 20 Aug 2013 00:17:09 +0000"  >&lt;p&gt;Hold your horses.  It fails sporadically.  Lets wait a few days.&lt;/p&gt;</comment>
                            <comment id="13750424" author="stack" created="Mon, 26 Aug 2013 19:10:40 +0000"  >&lt;p&gt;Resolving fixed.  This used to fail frequently but looks like Ted fixed it.&lt;/p&gt;</comment>
                            <comment id="15015939" author="lars_francke" created="Fri, 20 Nov 2015 11:53:15 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12687814">HBASE-10298</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12598280" name="9023-v1.txt" size="1027" author="yuzhihong@gmail.com" created="Thu, 15 Aug 2013 19:42:50 +0000"/>
                            <attachment id="12598662" name="9023.addendum1" size="877" author="yuzhihong@gmail.com" created="Sun, 18 Aug 2013 13:55:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Aug 2013 19:38:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mjon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>