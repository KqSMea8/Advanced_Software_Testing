<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:27:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5371/HBASE-5371.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5371] Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5371</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542049">HBASE-5371</key>
            <summary>Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12541733">HBASE-5352</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Feb 2012 23:08:55 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:05 +0000</updated>
                            <resolved>Wed, 21 Mar 2012 17:45:19 +0000</resolved>
                                    <version>0.92.1</version>
                    <version>0.94.0</version>
                                    <fixVersion>0.94.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13205021" author="jiraposter@reviews.apache.org" created="Thu, 9 Feb 2012 23:13:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;br/&gt;
  security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;br/&gt;
  security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;enis&lt;/p&gt;
</comment>
                            <comment id="13205281" author="jiraposter@reviews.apache.org" created="Fri, 10 Feb 2012 07:51:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5003&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5003&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11004&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11004&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This seems a reasonable approach.&lt;/p&gt;



&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11005&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11005&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Perhaps add a couple of additional cases to check?&lt;/p&gt;



&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11006&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11006&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Likewise&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Andrew&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2012-02-09 23:12:00, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-09 23:12:00)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13205998" author="jiraposter@reviews.apache.org" created="Sat, 11 Feb 2012 02:58:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2012-02-11 02:58:35.137932)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added more tests! &lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;br/&gt;
  security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;br/&gt;
  security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;enis&lt;/p&gt;
</comment>
                            <comment id="13206225" author="zhihyu@ebaysf.com" created="Sat, 11 Feb 2012 19:06:26 +0000"  >&lt;p&gt;Thanks for the update, Enis.&lt;/p&gt;

&lt;p&gt;Can you run patch v2 through secure HBase unit tests ?&lt;br/&gt;
Hadoop QA only runs test suite for insecure HBase.&lt;/p&gt;</comment>
                            <comment id="13206226" author="zhihyu@ebaysf.com" created="Sat, 11 Feb 2012 19:07:10 +0000"  >&lt;p&gt;Patch v2 from Enis.&lt;/p&gt;</comment>
                            <comment id="13206227" author="zhihyu@ebaysf.com" created="Sat, 11 Feb 2012 19:07:36 +0000"  >&lt;p&gt;Run through Hadoop QA.&lt;/p&gt;</comment>
                            <comment id="13206246" author="jiraposter@reviews.apache.org" created="Sat, 11 Feb 2012 19:48:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5026&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11026&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I think we should log the size of permissions here.&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11024&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11024&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This assignment can be lifted to line 971&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11025&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11025&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    We should include tperm.getTable() in the message&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11023&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11023&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &apos;level&apos; is not needed here.&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11027&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11027&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I think &apos;one of&apos; is not needed here because every region would incur permission check.&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11028&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11028&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This doesn&apos;t seem to match the method signature.&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11029&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11029&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Should read &apos;permissions to check for&apos;&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ted&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13206645" author="hadoopqa" created="Mon, 13 Feb 2012 02:51:35 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12514227/HBASE-5371_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12514227/HBASE-5371_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/947//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/947//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13206648" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 03:00:58 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-02-11 19:48:26, Ted Yu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java, line 972&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I think we should log the size of permissions here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What are you thinking here Ted?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Andrew&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5026&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13206655" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 03:38:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5043&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5043&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11073&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11073&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Optimization was mentioned for the following check.&lt;br/&gt;
    I was looking for justification of further optimization.&lt;br/&gt;
    If there&apos;re not many permissions passed, maybe optimization isn&apos;t needed.&lt;/p&gt;

&lt;p&gt;    If you know what to optimize, please share.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ted&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13207083" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 19:06:59 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-02-13 03:38:13, Ted Yu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java, line 972&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Optimization was mentioned for the following check.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I was looking for justification of further optimization.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     If there&apos;re not many permissions passed, maybe optimization isn&apos;t needed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     If you know what to optimize, please share.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The possible optimization is to group permissions that have the same table/cf/cq and action, so that requirePermission is called less times. But it is not clear that we would gain anything from this. So, I left that as a comment. I can clarify more, or just remove the comment. &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;enis&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5043&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5043&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13207085" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 19:10:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5053&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5053&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/#comment11090&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#comment11090&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please clarify the comment in code.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ted&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13207104" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 19:27:00 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-02-11 19:48:26, Ted Yu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java, line 80&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/diff/2/?file=74389#file74389line80&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff/2/?file=74389#file74389line80&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This doesn&apos;t seem to match the method signature.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;AccessdeniedException is an IOException.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2012-02-11 19:48:26, Ted Yu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java, line 78&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/diff/2/?file=74389#file74389line78&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff/2/?file=74389#file74389line78&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I think &apos;one of&apos; is not needed here because every region would incur permission check.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&quot;however TablePermissions can only be checked by one of the table&apos;s regions&quot;, means you can check permissions from any one of the table&apos;s regions, which is essentially the same thing if you remove &quot;one of&quot;. I removed that just in case. &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;enis&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5026&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13207112" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 19:34:59 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-02-13 19:10:02, Ted Yu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java, line 972&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please clarify the comment in code.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;On second thought, I think it&apos;s the clients responsibility to optimize the permissions[] array to not contain duplicates, and to group the permissions having the same table/cf/cq. The server side should not try to optimize what is passed for this. I&apos;ll just remove the comment instead. &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;enis&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5053&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5053&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-02-11 02:58:35, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-11 02:58:35)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13207145" author="jiraposter@reviews.apache.org" created="Mon, 13 Feb 2012 19:54:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2012-02-13 19:54:36.265360)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Incorporated review sugggestions by Ted.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;br/&gt;
  security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;br/&gt;
  security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;enis&lt;/p&gt;
</comment>
                            <comment id="13207471" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 02:58:33 +0000"  >&lt;p&gt;@Enis:&lt;br/&gt;
Can you run latest patch through secure HBase test suite ?&lt;br/&gt;
Hadoop QA currently doesn&apos;t cover them.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13207473" author="enis" created="Tue, 14 Feb 2012 03:00:45 +0000"  >&lt;p&gt;Sure, will do that and attach the results here. &lt;/p&gt;</comment>
                            <comment id="13207476" author="jiraposter@reviews.apache.org" created="Tue, 14 Feb 2012 03:08:59 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-02-13 19:10:02, Ted Yu wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java, line 972&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff/2/?file=74388#file74388line972&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please clarify the comment in code.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;On second thought, I think it&apos;s the clients responsibility to optimize the permissions[] array to not contain duplicates, and to group the permissions having the same table/cf/cq. The server side should not try to optimize what is passed for this. I&apos;ll just remove the comment instead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Andrew&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/3829/#review5053&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/#review5053&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-02-13 19:54:36, enis wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/3829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-02-13 19:54:36)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We need to introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5371&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java 5091b7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java 5fa2edb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java f864373 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/3829/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3829/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;enis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13207478" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 03:09:49 +0000"  >&lt;p&gt;@Andy:&lt;br/&gt;
Does latest patch look Okay to you ?&lt;/p&gt;</comment>
                            <comment id="13207483" author="apurtell@yahoo.com" created="Tue, 14 Feb 2012 03:21:02 +0000"  >&lt;p&gt;@Ted, Looks good.&lt;/p&gt;</comment>
                            <comment id="13207873" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 18:03:26 +0000"  >&lt;p&gt;@Andy:&lt;br/&gt;
Do you think this should go into 0.92.1 ?&lt;/p&gt;</comment>
                            <comment id="13207874" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 18:06:32 +0000"  >&lt;p&gt;Patch v3 from Enis.&lt;/p&gt;</comment>
                            <comment id="13207941" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 19:36:37 +0000"  >&lt;p&gt;I ran TestAccessController with latest patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.security.access.TestAccessController
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 32.802 sec

Results :

Tests run: 21, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13207983" author="enis" created="Tue, 14 Feb 2012 20:16:41 +0000"  >&lt;p&gt;I ran the full test suite yesterday with 2 failures which seem unrelated. However the security/src/test/ classes were not picked up, since they did not define @Category&apos;s. Shall we open another ticket to annotate them as large tests? Currently, I am running the tests with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; mvn test -P security,localTests &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but i think it will take some time to finish. &lt;/p&gt;</comment>
                            <comment id="13207988" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 20:29:23 +0000"  >&lt;p&gt;We should open a JIRA for annotating tests under security/src/test&lt;/p&gt;</comment>
                            <comment id="13208098" author="enis" created="Tue, 14 Feb 2012 23:05:06 +0000"  >&lt;p&gt;test results:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
Running org.apache.hadoop.hbase.security.access.TestAccessControlFilter
2012-02-14 14:14:34.390 java[67005:1903] Unable to load realm info from SCDynamicStore
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 32.002 sec
Running org.apache.hadoop.hbase.security.access.TestAccessController
2012-02-14 14:15:06.963 java[67014:1903] Unable to load realm info from SCDynamicStore
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 50.355 sec
Running org.apache.hadoop.hbase.security.access.TestTablePermissions
2012-02-14 14:15:58.028 java[67023:1903] Unable to load realm info from SCDynamicStore
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 36.739 sec
Running org.apache.hadoop.hbase.security.access.TestZKPermissionsWatcher
2012-02-14 14:16:35.517 java[67032:1903] Unable to load realm info from SCDynamicStore
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 24.579 sec
Running org.apache.hadoop.hbase.security.TestUser
2012-02-14 14:17:00.817 java[67041:1903] Unable to load realm info from SCDynamicStore
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.445 sec
Running org.apache.hadoop.hbase.security.token.TestTokenAuthentication
2012-02-14 14:17:01.835 java[67043:1903] Unable to load realm info from SCDynamicStore
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.099 sec
Running org.apache.hadoop.hbase.security.token.TestZKSecretWatcher
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 15.46 sec

...

Results :

Failed tests:   testCyclicReplication(org.apache.hadoop.hbase.replication.TestMasterReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  testSimplePutDelete(org.apache.hadoop.hbase.replication.TestMasterReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  testMultiSlaveReplication(org.apache.hadoop.hbase.replication.TestMultiSlaveReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  testClientSessionExpired(org.apache.hadoop.hbase.TestZooKeeper)
  testLeaderSelection(org.apache.hadoop.hbase.zookeeper.TestZKLeaderManager): New leader should exist

Tests in error: 
  testTralingGarbageCorruptionFileSkipErrorsPasses(org.apache.hadoop.hbase.regionserver.wal.TestHLogSplit): All datanodes 127.0.0.1:58462 are bad. Aborting...

Tests run: 1429, Failures: 5, Errors: 1, Skipped: 10
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All the failing tests seem to be not related to this patch. It seems they are timing out due to running slow.  &lt;/p&gt;</comment>
                            <comment id="13208099" author="enis" created="Tue, 14 Feb 2012 23:06:45 +0000"  >&lt;p&gt;Attaching --no-prefix v3 patch candidate for inclusion. &lt;/p&gt;</comment>
                            <comment id="13208243" author="zhihyu@ebaysf.com" created="Wed, 15 Feb 2012 05:49:40 +0000"  >&lt;p&gt;Will integrate patch v3 tomorrow.&lt;/p&gt;</comment>
                            <comment id="13208364" author="hadoopqa" created="Wed, 15 Feb 2012 11:03:25 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12514568/HBASE-5371_v3-noprefix.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12514568/HBASE-5371_v3-noprefix.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -136 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 157 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestClassLoading&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;br/&gt;
                  org.apache.hadoop.hbase.coprocessor.TestMasterObserver&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/964//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/964//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/964//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/964//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/964//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/964//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13208547" author="apurtell" created="Wed, 15 Feb 2012 15:45:50 +0000"  >&lt;blockquote&gt;
&lt;p&gt;@Andy:&lt;br/&gt;
Do you think this should go into 0.92.1 ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It can&apos;t because it changes the protocol version of AccessControllerProtocol.&lt;/p&gt;</comment>
                            <comment id="13208626" author="zhihyu@ebaysf.com" created="Wed, 15 Feb 2012 18:12:01 +0000"  >&lt;p&gt;The failed tests were unrelated to the patch.&lt;br/&gt;
I ran the 3 failed tests and they passed on MacBook.&lt;/p&gt;</comment>
                            <comment id="13208630" author="zhihyu@ebaysf.com" created="Wed, 15 Feb 2012 18:16:00 +0000"  >&lt;p&gt;Integrated to TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Enis.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Andy.&lt;/p&gt;</comment>
                            <comment id="13208914" author="hudson" created="Wed, 15 Feb 2012 22:57:02 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #112 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/112/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/112/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt; Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API (Enis Soztutar) (Revision 1244623)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13209076" author="enis" created="Thu, 16 Feb 2012 02:18:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;It can&apos;t because it changes the protocol version of AccessControllerProtocol.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Right, since we bumped the protocol version, it will be incompatible. But without this, we cannot continue with the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which will hopefully ported to Hive as well. What about re-changing the version to 1, since we just added a new method, but not changed anything on the wire, it should be compatible. The only catch is that if you invoke the new API from a new client, but the server is using the old version, you would get a NoSuchMethod or smt. Is that asking for too much, wdyt?&lt;/p&gt;</comment>
                            <comment id="13209404" author="hudson" created="Thu, 16 Feb 2012 14:46:20 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2663 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2663/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2663/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt; Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API (Enis Soztutar) (Revision 1244623)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13210663" author="stack" created="Fri, 17 Feb 2012 23:24:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;What about re-changing the version to 1, since we just added a new method, but not changed anything on the wire, it should be compatible. The only catch is that if you invoke the new API from a new client, but the server is using the old version, you would get a NoSuchMethod or smt. Is that asking for too much, wdyt?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it a good idea.  Test an old client talking to a new w/o changing the version.  See what happens.  If it works, lets get it into 0.92.&lt;/p&gt;</comment>
                            <comment id="13210667" author="stack" created="Fri, 17 Feb 2012 23:30:08 +0000"  >&lt;p&gt;@Enis If you change version back to 1, do it for trunk too.  Can you try it to see what you get if you try and invoke the non-existent method?&lt;/p&gt;</comment>
                            <comment id="13210668" author="stack" created="Fri, 17 Feb 2012 23:30:48 +0000"  >&lt;p&gt;@Enis It has to work w/ 0.92?  You can&apos;t wait on 0.94?  Which should be soonish... Month or two?&lt;/p&gt;</comment>
                            <comment id="13211033" author="apurtell" created="Sat, 18 Feb 2012 17:59:43 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;It can&apos;t because it changes the protocol version of AccessControllerProtocol.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, since we bumped the protocol version, it will be incompatible. &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; What about re-changing the version to 1, since we just added a new method, but not changed anything on the wire, it should be compatible. The only catch is that if you invoke the new API from a new client, but the server is using the old version, you would get a NoSuchMethod or smt.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve seen this approach used in HDFS. (At least in CDH.) The client can catch the NoSuchMethodException, set a boolean or similar to note that it is talking with an older version, and try an alternate strategy.&lt;/p&gt;

&lt;p&gt;I think this is a reasonable approach until we have a more general solution for cross-version (and backwards) RPC compatibility.&lt;/p&gt;</comment>
                            <comment id="13211034" author="apurtell" created="Sat, 18 Feb 2012 18:00:49 +0000"  >&lt;p&gt;This was probably committed early.&lt;/p&gt;</comment>
                            <comment id="13211035" author="apurtell" created="Sat, 18 Feb 2012 18:01:59 +0000"  >&lt;p&gt;@Enis Make sure you add the new methods at the bottom of the interface definition. &lt;/p&gt;</comment>
                            <comment id="13213203" author="enis" created="Wed, 22 Feb 2012 02:31:59 +0000"  >&lt;p&gt;From my testing and understanding from the code, the version defined by the coprocossor is not checked in the invocation code path. So the version defined in AccessControllerProtocol is not relevant anyway. We can file a new jira for version checking, but since we are going to work on wire compatibility for coprocessors. let&apos;s wait on that for now. &lt;/p&gt;

&lt;p&gt;I am attaching a patch which decreases the version back to 1. I have tested adding a new method to the client, and invoking the  old server, and the method invocation throws NoSuchMethodException wrapped around RetriesExhaustedException. Applying this patch to trunk, and pushing both of these to 0.92.1 seems fine to me. wdyt?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=10, exceptions:
Tue Feb 21 18:04:37 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:38 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:39 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:40 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:42 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:44 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:48 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:04:52 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:05:00 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()
Tue Feb 21 18:05:16 PST 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@630f41e9, java.io.IOException: java.io.IOException: java.lang.NoSuchMethodException: org.apache.hadoop.hbase.security.access.AccessControllerProtocol.shinyNewMethod()

	at org.apache.hadoop.hbase.client.ServerCallable.withRetries(ServerCallable.java:183)
	at org.apache.hadoop.hbase.ipc.ExecRPCInvoker.invoke(ExecRPCInvoker.java:79)
	at $Proxy2.shinyNewMethod(Unknown Source)
	at org.apache.hadoop.hbase.NewMethodTest.main(NewMethodTest.java:36)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;@Andrew an alternate strategy would be for the client to actually perform an operation and see whether if it fails or not. But to do that, the client has to create a dummy table, or put a dummy value, etc, which seems very dangerous. Throwing NoSuchMethod seems more appropriate to me, if the server does not suppport the call. &lt;/p&gt;</comment>
                            <comment id="13213235" author="zhihyu@ebaysf.com" created="Wed, 22 Feb 2012 03:17:13 +0000"  >&lt;p&gt;If Andy gives green light to addendum, I will apply the addendum to TRUNK and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;_v3-noprefix.patch + addendum to 0.92 branch.&lt;/p&gt;</comment>
                            <comment id="13214164" author="enis" created="Thu, 23 Feb 2012 01:24:13 +0000"  >&lt;p&gt;Thanks Ted for taking a look. If you push this to 92, we have to also push &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5358&quot; title=&quot;HBaseObjectWritable should be able to serialize/deserialize generic arrays&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5358&quot;&gt;&lt;del&gt;HBASE-5358&lt;/del&gt;&lt;/a&gt;, since it is a blocker for this. &lt;/p&gt;</comment>
                            <comment id="13220451" author="enis" created="Thu, 1 Mar 2012 22:49:54 +0000"  >&lt;p&gt;@Andrew, did you have a chance to look into this? Would appreciate your input. &lt;/p&gt;</comment>
                            <comment id="13221701" author="apurtell" created="Sat, 3 Mar 2012 21:19:07 +0000"  >&lt;p&gt;+1 apologies for the delay&lt;/p&gt;</comment>
                            <comment id="13221708" author="zhihyu@ebaysf.com" created="Sat, 3 Mar 2012 21:50:33 +0000"  >&lt;p&gt;Addendum integrated into 0.94 and TRUNK.&lt;/p&gt;

&lt;p&gt;Waiting for Stack&apos;s confirmation on when to integrate into 0.92&lt;/p&gt;</comment>
                            <comment id="13221722" author="hudson" created="Sat, 3 Mar 2012 22:37:33 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #12 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt; Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API, addendum (Enis) (Revision 1296710)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13221800" author="hudson" created="Sun, 4 Mar 2012 05:53:06 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #128 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/128/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt; Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API, addendum (Enis) (Revision 1296709)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13222634" author="stack" created="Mon, 5 Mar 2012 21:52:47 +0000"  >&lt;p&gt;Please integrate into 0.92 Ted.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13222717" author="zhihyu@ebaysf.com" created="Mon, 5 Mar 2012 22:55:48 +0000"  >&lt;p&gt;Integrated to 0.92 after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5358&quot; title=&quot;HBaseObjectWritable should be able to serialize/deserialize generic arrays&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5358&quot;&gt;&lt;del&gt;HBASE-5358&lt;/del&gt;&lt;/a&gt; went in.&lt;/p&gt;</comment>
                            <comment id="13222856" author="hudson" created="Tue, 6 Mar 2012 01:13:36 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #315 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/315/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/315/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;  Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons)&lt;br/&gt;
               API (Enis) (Revision 1297268)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13222870" author="hudson" created="Tue, 6 Mar 2012 01:30:31 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2672/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt; Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API, addendum (Enis) (Revision 1296709)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13225512" author="hudson" created="Thu, 8 Mar 2012 21:08:34 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #97 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/97/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/97/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5371&quot; title=&quot;Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons) API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5371&quot;&gt;&lt;del&gt;HBASE-5371&lt;/del&gt;&lt;/a&gt;  Introduce AccessControllerProtocol.checkPermissions(Permission[] permissons)&lt;br/&gt;
               API (Enis) (Revision 1297268)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessControllerProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13234580" author="lhofhansl" created="Wed, 21 Mar 2012 17:45:19 +0000"  >&lt;p&gt;This was committed, marking as fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12540478">HCATALOG-245</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12541898">HBASE-5358</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12542604">HBASE-5400</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12515524" name="HBASE-5371-addendum_v1.patch" size="1487" author="enis" created="Wed, 22 Feb 2012 02:31:59 +0000"/>
                            <attachment id="12514227" name="HBASE-5371_v2.patch" size="15796" author="zhihyu@ebaysf.com" created="Sat, 11 Feb 2012 19:07:10 +0000"/>
                            <attachment id="12514568" name="HBASE-5371_v3-noprefix.patch" size="15910" author="enis" created="Tue, 14 Feb 2012 23:06:45 +0000"/>
                            <attachment id="12514516" name="HBASE-5371_v3.patch" size="15844" author="zhihyu@ebaysf.com" created="Tue, 14 Feb 2012 18:06:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Feb 2012 23:13:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08qv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>