<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:47:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13886/HBASE-13886.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13886] Return empty value when the mob file is corrupt instead of throwing exceptions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13886</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Now in reading, CorruptHFileException is thrown if the target mob file is corrupt. We can return empty value for that mob cell instead of throwing exceptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12836772">HBASE-13886</key>
            <summary>Return empty value when the mob file is corrupt instead of throwing exceptions</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12721032">HBASE-11339</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingcheng.du@intel.com">Jingcheng Du</assignee>
                                    <reporter username="jingcheng.du@intel.com">Jingcheng Du</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jun 2015 08:49:19 +0000</created>
                <updated>Wed, 22 Jul 2015 22:48:56 +0000</updated>
                            <resolved>Tue, 16 Jun 2015 11:50:09 +0000</resolved>
                                    <version>hbase-11339</version>
                                    <fixVersion>hbase-11339</fixVersion>
                                    <component>mob</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14580256" author="jingcheng.du@intel.com" created="Wed, 10 Jun 2015 08:55:09 +0000"  >&lt;p&gt;Upload the patch.&lt;br/&gt;
Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, please take a look. Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="14580466" author="anoop.hbase" created="Wed, 10 Jun 2015 12:39:56 +0000"  >&lt;p&gt;Returning empty value is right always? May be Scan/Get has to take it as an attribute? By default go with existing way and if scan/get says so to return empty value, we do that.&lt;br/&gt;
One use case I am seeing is suppose the table contain student details and MOB column is student picture. Now while reading, with out showing the pic also the o/p can be rendered. So this case, throwing the exception and not returning other student details might not be correct.&lt;/p&gt;</comment>
                            <comment id="14581087" author="apurtell" created="Wed, 10 Jun 2015 21:08:52 +0000"  >&lt;p&gt;The best thing to do here is simply throw exceptions for all corruptions, including missing files. Returning silently corrupt data to the user, at least if it is default behavior, would be bad.&lt;/p&gt;</comment>
                            <comment id="14581333" author="jingcheng.du@intel.com" created="Thu, 11 Jun 2015 01:48:59 +0000"  >&lt;p&gt;Thanks comments!&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Returning empty value is right always? May be Scan/Get has to take it as an attribute?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure, I can add such a attribute to scan/get. As Andy&apos;s suggestion, we can throw exceptions by default?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The best thing to do here is simply throw exceptions for all corruptions, including missing files. Returning silently corrupt data to the user, at least if it is default behavior, would be bad.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I will add a switch for the exceptional behavior, and throw exceptions by default.&lt;/p&gt;</comment>
                            <comment id="14581431" author="anoop.hbase" created="Thu, 11 Jun 2015 04:49:03 +0000"  >&lt;p&gt;Yes I was also suggesting to go with current way by default ie. Throw exception.&lt;br/&gt;
t&lt;br/&gt;
return empty value when scan or get say so.&lt;/p&gt;</comment>
                            <comment id="14581515" author="jingcheng.du@intel.com" created="Thu, 11 Jun 2015 06:24:16 +0000"  >&lt;p&gt;Upload a new patch to address the comments. Thanks.&lt;/p&gt;</comment>
                            <comment id="14581520" author="jingcheng.du@intel.com" created="Thu, 11 Jun 2015 06:26:17 +0000"  >&lt;p&gt;Yes, got it. Thanks!&lt;/p&gt;</comment>
                            <comment id="14585617" author="jingcheng.du@intel.com" created="Mon, 15 Jun 2015 08:19:44 +0000"  >&lt;p&gt;Update the patch according to Anoop&apos;s comments. Thanks.&lt;/p&gt;</comment>
                            <comment id="14587615" author="jingcheng.du@intel.com" created="Tue, 16 Jun 2015 07:44:39 +0000"  >&lt;p&gt;Upload a new patch(V4) to add more comments.&lt;/p&gt;</comment>
                            <comment id="14587696" author="anoop.hbase" created="Tue, 16 Jun 2015 08:43:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14587705" author="ram_krish" created="Tue, 16 Jun 2015 08:51:15 +0000"  >&lt;p&gt;nit:Unify the test cases that is added in patch. I think one case it is with the new attribute in another it is without the attribute.  Rest looks good to me. +1.&lt;/p&gt;</comment>
                            <comment id="14587789" author="jingcheng.du@intel.com" created="Tue, 16 Jun 2015 10:04:08 +0000"  >&lt;p&gt;Upload a new patch (V5) according to Ram&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="14587916" author="anoop.hbase" created="Tue, 16 Jun 2015 11:50:09 +0000"  >&lt;p&gt;Thanks for the patch Jingcheng!&lt;/p&gt;</comment>
                            <comment id="14637866" author="hudson" created="Wed, 22 Jul 2015 22:48:56 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13886&quot; title=&quot;Return empty value when the mob file is corrupt instead of throwing exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13886&quot;&gt;&lt;del&gt;HBASE-13886&lt;/del&gt;&lt;/a&gt; Return empty value when the mob file is corrupt instead of throwing exceptions. (Jingcheng) (anoopsamjohn: rev b889339006eff73428ba93f39c7dbe4ab483ff9a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobUtils.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ReversedMobStoreScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HMobStore.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestMobStoreScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MobStoreScanner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739001" name="HBASE-13886-V2.diff" size="15084" author="jingcheng.du@intel.com" created="Thu, 11 Jun 2015 06:24:16 +0000"/>
                            <attachment id="12739564" name="HBASE-13886-V3.patch" size="15362" author="jingcheng.du@intel.com" created="Mon, 15 Jun 2015 08:19:44 +0000"/>
                            <attachment id="12739804" name="HBASE-13886-V4.patch" size="15919" author="jingcheng.du@intel.com" created="Tue, 16 Jun 2015 07:44:39 +0000"/>
                            <attachment id="12739836" name="HBASE-13886-V5.patch" size="15682" author="jingcheng.du@intel.com" created="Tue, 16 Jun 2015 10:04:08 +0000"/>
                            <attachment id="12738770" name="HBASE-13886.diff" size="4606" author="jingcheng.du@intel.com" created="Wed, 10 Jun 2015 08:55:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Jun 2015 12:39:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fvav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>By default the Get/Scan will throw Exception when it is not able to find a mob cell because the mob file is missing/corrupted. This jira adds a facility to continue scan/get and get other cells with mob cell value as empty. Set an attribute MobConstants.EMPTY_VALUE_ON_MOBCELL_MISS = true in Scan/Get for getting this behaviour</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>