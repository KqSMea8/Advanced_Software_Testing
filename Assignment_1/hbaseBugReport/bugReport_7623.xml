<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:47:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7623/HBASE-7623.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7623] Username is not available for HConnectionManager to use in HConnectionKey</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7623</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Sometimes, some non-IOException prevents User.getCurrent() to get a username.  It makes it impossible to create a HConnection.  We should catch all exception here:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      try {
        User currentUser = User.getCurrent();
        if (currentUser != null) {
          username = currentUser.getName();
        }
      } catch (IOException ioe) {
        LOG.warn(&quot;Error obtaining current user, skipping username in HConnectionKey&quot;,
            ioe);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not just IOException, so that client can move forward.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628252">HBASE-7623</key>
            <summary>Username is not available for HConnectionManager to use in HConnectionKey</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Jan 2013 18:33:48 +0000</created>
                <updated>Mon, 9 Jun 2014 14:47:03 +0000</updated>
                            <resolved>Fri, 18 Jan 2013 22:19:10 +0000</resolved>
                                                                    <component>Client</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13557460" author="ghelmling" created="Fri, 18 Jan 2013 18:40:39 +0000"  >&lt;p&gt;Can you describe more what types of errors are causing this or the situations where it happens?&lt;/p&gt;

&lt;p&gt;What ultimately happens when an RPC connection is setup?  Does that successfully obtain and use a username?  I think it&apos;s important to avoid a situation where the username for HConnectionKey does not match the authenticated (even with simple auth) username for an RPC connection.&lt;/p&gt;</comment>
                            <comment id="13557477" author="jxiang" created="Fri, 18 Jan 2013 18:58:47 +0000"  >&lt;p&gt;That&apos;s a good point. The issue is that we have some problem to get the user if the client runs on some windows platform as a system user.  However, the security is not needed, so we don&apos;t need the username.&lt;/p&gt;

&lt;p&gt;As to the RPC connection setup, we are going to find out.  I assume we don&apos;t need a username either since security is not a concern here.  On the server side, do we mandate a username in accepting a RPC connection?&lt;/p&gt;</comment>
                            <comment id="13557527" author="ghelmling" created="Fri, 18 Jan 2013 19:37:16 +0000"  >&lt;p&gt;Okay, my concern was more that this might be a temporary condition where the user is not initially available but then could be available later, potentially indicating a deeper problem, rather than running in an environment with no user.  Is there a more specific exception to handle in the Windows case?&lt;/p&gt;

&lt;p&gt;From what I can see, if hadoop.security.authorization is set to &quot;true&quot;, even with simple auth, we may get an NPE server side when we call down to &lt;tt&gt;ServiceAuthorizationManager.authorize()&lt;/tt&gt; if the user is null.&lt;/p&gt;

&lt;p&gt;We could modify &lt;tt&gt;HBaseServer.authorize()&lt;/tt&gt; to do something like the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (authorize) {
+  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (user == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+    &lt;span class=&quot;code-comment&quot;&gt;// when configured &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; authorization, some username is required
&lt;/span&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AuthorizationException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to authorize, no user is associated with connection&quot;&lt;/span&gt;);
+  }
  &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; protocol = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    protocol = getProtocolClass(connection.getProtocol(), getConf());
  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException cfne) {
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AuthorizationException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown protocol: &quot;&lt;/span&gt; +
                                     connection.getProtocol());
  }
-  authManager.authorize(user != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? user : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
-    protocol, getConf(), addr);
+  authManager.authorize(user, protocol, getConf(), addr);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems like the right approach that a user is required if we&apos;re configured to do authorization.  The second change is just a cleanup since the conditional does nothing in that case.&lt;/p&gt;

&lt;p&gt;If we&apos;re not configured to do authorization and only doing simple auth, then a null user looks to be okay.&lt;/p&gt;</comment>
                            <comment id="13557533" author="hadoopqa" created="Fri, 18 Jan 2013 19:40:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12565525/trunk-7623.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12565525/trunk-7623.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestLocalHBaseCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4087//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13557683" author="jxiang" created="Fri, 18 Jan 2013 22:18:49 +0000"  >&lt;p&gt;It is a runtime exception: ArrayIndexOutofBound.  I looked into the trunk code and found that we need more change to fix this. Probably we won&apos;t fix this.&lt;/p&gt;</comment>
                            <comment id="13700580" author="yogesh.bedekar@oracle.com" created="Fri, 5 Jul 2013 10:29:47 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I am using hbase-0.94.8.jar and getting the following exception while &lt;br/&gt;
trying to connect -&lt;/p&gt;

&lt;p&gt;WARN client.HConnectionManager: Error obtaining current user, skipping &lt;br/&gt;
username in HConnectionKey&lt;br/&gt;
java.io.IOException: failure to login&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:490)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:452)&lt;br/&gt;
     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
     at &lt;br/&gt;
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
     at &lt;br/&gt;
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
     at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
     at org.apache.hadoop.hbase.util.Methods.call(Methods.java:37)&lt;br/&gt;
     at org.apache.hadoop.hbase.security.User.call(User.java:607)&lt;br/&gt;
     at org.apache.hadoop.hbase.security.User.callStatic(User.java:597)&lt;br/&gt;
     at org.apache.hadoop.hbase.security.User.access$400(User.java:51)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.security.User$SecureHadoopUser.&amp;lt;init&amp;gt;(User.java:414)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.security.User$SecureHadoopUser.&amp;lt;init&amp;gt;(User.java:409)&lt;br/&gt;
     at org.apache.hadoop.hbase.security.User.getCurrent(User.java:157)&lt;/p&gt;

&lt;p&gt;What is the solution to this problem?&lt;br/&gt;
I have embedded this hbase jar in an osgi bundle and am unable to &lt;br/&gt;
connect to my HBase database.&lt;/p&gt;

&lt;p&gt;Thanks in advance for any help.&lt;/p&gt;

&lt;p&gt;Rgds,&lt;br/&gt;
Yogesh Bedekar&lt;br/&gt;
Technical Lead&lt;br/&gt;
Oracle&lt;/p&gt;
</comment>
                            <comment id="13701366" author="jxiang" created="Sat, 6 Jul 2013 15:17:15 +0000"  >&lt;p&gt;This is just a warning.  Your application should still work, if security is not enabled.&lt;/p&gt;</comment>
                            <comment id="13702929" author="yogesh.bedekar@oracle.com" created="Tue, 9 Jul 2013 05:21:47 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for the reply.&lt;/p&gt;

&lt;p&gt;It will be great if you can help me solve the following issue :-&lt;/p&gt;

&lt;p&gt;Exception creating HBase connection: java.lang.ClassNotFoundException: &lt;br/&gt;
org.apache.hadoop.hbase.ipc.WritableRpcEngine not found from bundle XXX&lt;br/&gt;
Stack trace: java.lang.RuntimeException: &lt;br/&gt;
java.lang.ClassNotFoundException: &lt;br/&gt;
org.apache.hadoop.hbase.ipc.WritableRpcEngine not found from bundle XXX&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.conf.Configuration.getClass(Configuration.java:867)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.ipc.HBaseRPC.getProtocolEngine(HBaseRPC.java:99)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.ensureZookeeperTrackers(HConnectionManager.java:630)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:882)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:857)&lt;br/&gt;
     at org.apache.hadoop.hbase.client.HTable.finishSetup(HTable.java:233)&lt;br/&gt;
     at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:173)&lt;br/&gt;
     at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:132)&lt;br/&gt;
     at &lt;br/&gt;
com.oracle.cep.hbase.impl.HBaseConnection.&amp;lt;init&amp;gt;(HBaseConnection.java:103)&lt;br/&gt;
     at &lt;br/&gt;
com.oracle.cep.hbase.impl.HBaseDataSource.getConnection(HBaseDataSource.java:91)&lt;br/&gt;
     at &lt;br/&gt;
com.oracle.cep.processor.cql.impl.CQLExternalDataSourceDelegate.getConnection(CQLExternalDataSourceDelegate.java:256)&lt;br/&gt;
     at oracle.cep.interfaces.input.ExtSource.start(ExtSource.java:123)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.execution.operators.RelSource.initialize(RelSource.java:500)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.planmgr.codegen.RelSourceFactory.setupExecOpt(RelSourceFactory.java:317)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.planmgr.codegen.ExecOptFactory.instantiate(ExecOptFactory.java:234)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.planmgr.codegen.RelSourceFactory.instantiate(RelSourceFactory.java:119)&lt;br/&gt;
     at oracle.cep.planmgr.codegen.OptInst.instOp(OptInst.java:139)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.planmgr.codegen.CodeGenHelper.instantiate(CodeGenHelper.java:121)&lt;br/&gt;
     at oracle.cep.planmgr.PlanManager.instantiate(PlanManager.java:1315)&lt;br/&gt;
     at oracle.cep.metadata.QueryManager.instantiate(QueryManager.java:2029)&lt;br/&gt;
     at oracle.cep.metadata.QueryManager.startQuery(QueryManager.java:572)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.metadata.QueryManager.startNamedQuery(QueryManager.java:358)&lt;br/&gt;
     at &lt;br/&gt;
oracle.cep.server.CommandDriver.QueryRefNodeDriver.execute(QueryRefNodeDriver.java:61)&lt;/p&gt;

&lt;p&gt;I am using an osgi bundle AAA in which I have embedded the &lt;br/&gt;
hbase-0.94.8.jar and hadoop-core-1.0.4.jar.&lt;br/&gt;
I see that the hbase-0.94.8.jar does contain the class &lt;br/&gt;
org.apache.hadoop.hbase.ipc.WritableRpcEngine.&lt;br/&gt;
I have added this bundle AAA as a dependency in my client maven project &lt;br/&gt;
bundle XXX.&lt;/p&gt;

&lt;p&gt;Rgds,&lt;br/&gt;
Yogesh&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
Yogesh Bedekar&lt;br/&gt;
Technical Lead&lt;br/&gt;
Oracle Event Processing&lt;br/&gt;
Prestige Lexington Towers&lt;br/&gt;
Bangalore&lt;/p&gt;
</comment>
                            <comment id="13703618" author="jxiang" created="Tue, 9 Jul 2013 18:42:14 +0000"  >&lt;p&gt;Could this be because some dependent jars are missing?&lt;/p&gt;</comment>
                            <comment id="13704314" author="yogesh.bedekar@oracle.com" created="Wed, 10 Jul 2013 08:35:46 +0000"  >&lt;p&gt;Hi Jimmy,&lt;/p&gt;

&lt;p&gt;The bundle itself gets compiled successfully so the dependencies seem to &lt;br/&gt;
be resolved.&lt;br/&gt;
I am attaching my maven pom.xml file which indicates that the following &lt;br/&gt;
jar files are embedded -&lt;br/&gt;
hbase|hadoop-core|guava|protobuf-java|jersey-core|jersey-json|jersey-server|metrics-core|commons-cli|commons-codec|commons-configuration|commons-httpclient|commons-io|commons-lang|commons-logging|jaxb-api|log4j|avro|avro-ipc|commons-math|libthrift|zookeeper|jackson-core-asl|jackson-mapper-asl|jackson-jaxrs|jackson-xc|jamon-runtime|jruby-complete|jetty|jetty-util|jsp|jsp-api|servlet-api|slf4j-api|slf4j-log4j12|stax-api|activation|asm|core|high-scale-lib|httpcore|velocity|snappy-java|xmlenc|commons-beanutils|commons-beanutils-core|commons-collections|commons-digester|commons-el|commons-net|httpclient|jasper-compiler|jasper-runtime|jaxb-impl|jettison|jsr305|netty&lt;/p&gt;

&lt;p&gt;Than ks in advance for any help.&lt;/p&gt;


&lt;p&gt;Rgds,&lt;br/&gt;
Yogesh&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
Yogesh Bedekar&lt;br/&gt;
Technical Lead&lt;br/&gt;
Oracle Event Processing&lt;br/&gt;
Prestige Lexington Towers&lt;br/&gt;
Bangalore&lt;/p&gt;
</comment>
                            <comment id="13705959" author="jxiang" created="Thu, 11 Jul 2013 16:32:43 +0000"  >&lt;p&gt;For OSGI bundle, you need to specify the version of dependent jar files in some manifest file. If the version doesn&apos;t match, it won&apos;t be loaded by the OSGI classloader.  Have you checked that?&lt;/p&gt;</comment>
                            <comment id="13943978" author="dangyifei" created="Sat, 22 Mar 2014 09:13:52 +0000"  >&lt;p&gt;Will that solve the problem yet&#65311;&#65311;&#65311;&lt;/p&gt;</comment>
                            <comment id="13997462" author="yogesh.bedekar@oracle.com" created="Wed, 14 May 2014 10:52:16 +0000"  >&lt;p&gt;Hi ,&lt;/p&gt;

&lt;p&gt;Could you please help us with the following issue for our HBase project :-&lt;/p&gt;

&lt;p&gt;While trying to connect to HBase database using Java I am getting the &lt;br/&gt;
following exception-&lt;/p&gt;

&lt;p&gt;14/05/14 02:45:17 INFO zookeeper.ZooKeeper: Initiating client &lt;br/&gt;
connection, connectString=blr2211457.idc.oracle.com:2182 &lt;br/&gt;
sessionTimeout=180000 watcher=hconnection&lt;br/&gt;
14/05/14 02:45:17 INFO zookeeper.RecoverableZooKeeper: The identifier of &lt;br/&gt;
this process is 29532@blr2211457&lt;br/&gt;
14/05/14 02:45:17 WARN zookeeper.ClientCnxn: Session 0x0 for server &lt;br/&gt;
null, unexpected error, closing socket connection and attempting reconnect&lt;br/&gt;
java.lang.IllegalArgumentException: No Configuration was registered that &lt;br/&gt;
can handle the configuration named Client&lt;br/&gt;
     at &lt;br/&gt;
com.bea.common.security.jdkutils.JAASConfiguration.getAppConfigurationEntry(JAASConfiguration.java:130)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.zookeeper.client.ZooKeeperSaslClient.&amp;lt;init&amp;gt;(ZooKeeperSaslClient.java:97)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.zookeeper.ClientCnxn$SendThread.startConnect(ClientCnxn.java:943)&lt;br/&gt;
     at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:993)&lt;br/&gt;
14/05/14 02:45:18 WARN zookeeper.RecoverableZooKeeper: Possibly &lt;br/&gt;
transient ZooKeeper exception: &lt;br/&gt;
org.apache.zookeeper.KeeperException$ConnectionLossException: &lt;br/&gt;
KeeperErrorCode = ConnectionLoss for /hbase/hbaseid&lt;/p&gt;

&lt;p&gt;I tried adding the following to hbase-site.xml but it didnt work-&lt;/p&gt;

&lt;p&gt;    &amp;lt;property&amp;gt;&lt;br/&gt;
         &amp;lt;name&amp;gt;hbase.security.authorization&amp;lt;/name&amp;gt;&lt;br/&gt;
         &amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
    &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;property&amp;gt;&lt;br/&gt;
         &amp;lt;name&amp;gt;hbase.security.authentication&amp;lt;/name&amp;gt;&lt;br/&gt;
         &amp;lt;value&amp;gt;simple&amp;lt;/value&amp;gt;&lt;br/&gt;
     &amp;lt;/property&amp;gt;&lt;/p&gt;


&lt;p&gt;Thanks in advance.&lt;/p&gt;

&lt;p&gt;Rgds,&lt;br/&gt;
Yogesh&lt;/p&gt;
</comment>
                            <comment id="13997664" author="jxiang" created="Wed, 14 May 2014 15:44:28 +0000"  >&lt;p&gt;The error message is not about security I think. It seems that your application can&apos;t find your hbase-site.xml that should have the zookeeper setting. One thing you can try at first is to create a new configuration (HBaseConfiguration.create()), and make sure it has settings you expect.&lt;/p&gt;</comment>
                            <comment id="14000403" author="yogesh.bedekar@oracle.com" created="Fri, 16 May 2014 22:19:15 +0000"  >&lt;p&gt;Hi Jimmy,&lt;/p&gt;

&lt;p&gt;I confirmed that hbase-site.xml is on the classpath and that the &lt;br/&gt;
properties are being read from it using conf.get(&quot;&amp;lt;property name&quot;).&lt;/p&gt;

&lt;p&gt;It has the following entries currently :-&lt;/p&gt;

&lt;p&gt;  &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.defaults.for.version&amp;lt;/name&amp;gt;&lt;br/&gt;
     &amp;lt;value&amp;gt;0.94.8-SNAPSHOT&amp;lt;/value&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.defaults.for.version.skip&amp;lt;/name&amp;gt;&lt;br/&gt;
     &amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.zookeeper.quorum&amp;lt;/name&amp;gt;&lt;br/&gt;
     &amp;lt;value&amp;gt;hostname&amp;lt;/value&amp;gt;&lt;br/&gt;
     &amp;lt;description&amp;gt;The directory shared by RegionServers.&lt;br/&gt;
     &amp;lt;/description&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.zookeeper.property.clientPort&amp;lt;/name&amp;gt;&lt;br/&gt;
     &amp;lt;value&amp;gt;2181&amp;lt;/value&amp;gt;&lt;br/&gt;
     &amp;lt;description&amp;gt;The directory shared by RegionServers.&lt;br/&gt;
     &amp;lt;/description&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.master&amp;lt;/name&amp;gt;&lt;br/&gt;
     &amp;lt;value&amp;gt;hostname:60000&amp;lt;/value&amp;gt;&lt;br/&gt;
     &amp;lt;description&amp;gt;The directory shared by RegionServers.&lt;br/&gt;
     &amp;lt;/description&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;br/&gt;
   &amp;lt;property&amp;gt;&lt;br/&gt;
   &amp;lt;name&amp;gt;hbase.rootdir&amp;lt;/name&amp;gt;&lt;br/&gt;
   &amp;lt;value&amp;gt;hdfs://hostname:8020/hbase&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;Please let me know what could be missing here.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Yogesh&lt;/p&gt;

</comment>
                            <comment id="14000482" author="yogesh.bedekar@oracle.com" created="Fri, 16 May 2014 23:15:15 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thanks for your reply.&lt;/p&gt;

&lt;p&gt;I am using the following code snippet -&lt;/p&gt;

&lt;p&gt;      conf = HBaseConfiguration.create();&lt;/p&gt;

&lt;p&gt;        conf.set(&quot;hbase.zookeeper.quorum&quot;, &quot;&amp;lt;ip address or hostname&amp;gt;&quot;);&lt;br/&gt;
         conf.set(&quot;hbase.zookeeper.property.clientPort&quot;,&quot;2181&quot;);&lt;br/&gt;
         conf.set(&quot;hbase.master&quot;, &quot;&amp;lt;ip address or hostname&amp;gt;:60000&quot;);&lt;/p&gt;

&lt;p&gt;But this is throwing the above mentioned error.&lt;/p&gt;

&lt;p&gt;I included the hbase-site.xml in my maven project, but probablt it is &lt;br/&gt;
not getting picked up.&lt;br/&gt;
Can we set the parameters in the code as above?&lt;/p&gt;

&lt;p&gt;If yes am I missing any parameters?&lt;/p&gt;



&lt;p&gt;Thanks,&lt;br/&gt;
Yogesh&lt;/p&gt;

</comment>
                            <comment id="14000498" author="jxiang" created="Fri, 16 May 2014 23:31:16 +0000"  >&lt;p&gt;&lt;br/&gt;
Your code snippet should work. Is security enabled in the HBase server side?&lt;/p&gt;</comment>
                            <comment id="14001457" author="yogesh.bedekar@oracle.com" created="Mon, 19 May 2014 07:30:42 +0000"  >&lt;p&gt;Hi Jimmy,&lt;/p&gt;

&lt;p&gt;I do not have security enabled in hbase-site.xml.&lt;/p&gt;

&lt;p&gt;The following is my configuration -&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
   &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.rootdir&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;lt;value&amp;gt;&lt;a href=&quot;file:///scratch/ybedekar/hbase0.94.8logs/hbase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///scratch/ybedekar/hbase0.94.8logs/hbase&lt;/a&gt;&amp;lt;/value&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;br/&gt;
   &amp;lt;property&amp;gt;&lt;br/&gt;
     &amp;lt;name&amp;gt;hbase.zookeeper.property.dataDir&amp;lt;/name&amp;gt;&lt;br/&gt;
&amp;lt;value&amp;gt;/scratch/ybedekar/hbase0.94.8logs/zookeeper&amp;lt;/value&amp;gt;&lt;br/&gt;
   &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;property&amp;gt;&lt;br/&gt;
         &amp;lt;name&amp;gt;hbase.security.authorization&amp;lt;/name&amp;gt;&lt;br/&gt;
         &amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
       &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;Your help is really appreciated in resolving this.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Yogesh&lt;/p&gt;
</comment>
                            <comment id="14001970" author="jxiang" created="Mon, 19 May 2014 16:48:32 +0000"  >&lt;p&gt;Based on the information you provided, I am not sure what the problem is with your app/setup now. You may send a request to the hbase user mailing list and get some help over there.&lt;/p&gt;</comment>
                            <comment id="14002955" author="yogesh.bedekar@oracle.com" created="Tue, 20 May 2014 08:38:39 +0000"  >&lt;p&gt;Thanks, Jimmy. I sent an email to user@hbase.apache.org.&lt;/p&gt;

&lt;p&gt;Meanwhile I notice the following from the decompiled code :-&lt;/p&gt;

&lt;p&gt;The class apache.zookeeper.ClientCnxn tries to initiate client &lt;br/&gt;
connection as follows -&lt;/p&gt;

&lt;p&gt;ClientCnxn.this.zooKeeperSaslClient = new &lt;br/&gt;
ZooKeeperSaslClient(&quot;zookeeper/&quot; + addr.getHostName());&lt;/p&gt;


&lt;p&gt;and ZooKeeperSaslClient has -&lt;/p&gt;

&lt;p&gt;String clientSection = System.getProperty(&quot;zookeeper.sasl.clientconfig&quot;, &lt;br/&gt;
&quot;Client&quot;);&lt;/p&gt;

&lt;p&gt;     AppConfigurationEntry[] entries = null;&lt;br/&gt;
     SecurityException securityException = null;&lt;br/&gt;
     try&lt;/p&gt;
     {
       entries = 
Configuration.getConfiguration().getAppConfigurationEntry(clientSection);
     }
&lt;p&gt;     catch (SecurityException e)&lt;/p&gt;
     {
       securityException = e;
     }

&lt;p&gt;I think this is throwing the exception - &lt;br/&gt;
java.lang.IllegalArgumentException: No Configuration was registered that&lt;br/&gt;
can handle the configuration named Client .&lt;/p&gt;

&lt;p&gt;I am not sure why the property &apos;zookeeper.sasl.clientconfig&apos; needs to be &lt;br/&gt;
set when we are not using security.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Yogesh&lt;/p&gt;


</comment>
                            <comment id="14003610" author="jxiang" created="Tue, 20 May 2014 16:44:35 +0000"  >&lt;p&gt;Which version of ZooKeeper are you using?  It should catch IllegalArgumentException and SecurityException.&lt;/p&gt;</comment>
                            <comment id="14004499" author="yogesh.bedekar@oracle.com" created="Wed, 21 May 2014 08:52:39 +0000"  >&lt;p&gt;I am using version 3.4.5.&lt;/p&gt;
</comment>
                            <comment id="14025235" author="yogesh.bedekar@oracle.com" created="Mon, 9 Jun 2014 14:47:03 +0000"  >&lt;p&gt;Hi ,&lt;/p&gt;

&lt;p&gt;I am no longer getting this error.&lt;br/&gt;
I changed my /etc/hosts file .&lt;/p&gt;

&lt;p&gt;It now has the following entries :-&lt;/p&gt;

&lt;p&gt;127.0.0.1 localhost localhost.localdomain&lt;br/&gt;
&amp;lt;ip&amp;gt; &amp;lt;hostname&amp;gt;.oracle.com  &amp;lt;hostname&amp;gt;&lt;/p&gt;

&lt;p&gt;However, I am now getting the following error -&lt;/p&gt;

&lt;p&gt;14/06/09 07:19:45 INFO zookeeper.RecoverableZooKeeper: The identifier of &lt;br/&gt;
this process is 5055@blr2211457&lt;br/&gt;
14/06/09 07:19:45 INFO zookeeper.ClientCnxn: Opening socket connection &lt;br/&gt;
to server localhost/10.177.123.4:2181. Will not attempt to authenticate &lt;br/&gt;
using SASL (java.lang.IllegalArgumentException: No Configuration was &lt;br/&gt;
registered that can handle the configuration named Client)&lt;br/&gt;
14/06/09 07:19:45 INFO zookeeper.ClientCnxn: Socket connection &lt;br/&gt;
established to localhost/10.177.123.4:2181, initiating session&lt;br/&gt;
14/06/09 07:19:45 INFO zookeeper.ClientCnxn: Session establishment &lt;br/&gt;
complete on server localhost/10.177.123.4:2181, sessionid = &lt;br/&gt;
0x14680f5cc980008, negotiated timeout = 40000&lt;br/&gt;
Exception creating HBase connection: Unable to find region for &lt;br/&gt;
CustomerDescription,,99999999999999 after 10 tries.&lt;br/&gt;
Stack trace: org.apache.hadoop.hbase.client.NoServerForRegionException: &lt;br/&gt;
Unable to find region for CustomerDescription,,99999999999999 after 10 &lt;br/&gt;
tries.&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(HConnectionManager.java:991)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:896)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(HConnectionManager.java:998)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:900)&lt;br/&gt;
     at &lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:857)&lt;br/&gt;
     at org.apache.hadoop.hbase.client.HTable.finishSetup(HTable.java:233)&lt;br/&gt;
     at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:173)&lt;br/&gt;
     at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:132)&lt;/p&gt;

&lt;p&gt;I can connect to the table named &apos;CustomerDescription&apos; from the HBase shell.&lt;/p&gt;

&lt;p&gt;Thanks in advance for any help on this issue.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Yogesh&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591610" name="pom.xml" size="25183" author="yogesh.bedekar@oracle.com" created="Wed, 10 Jul 2013 08:35:46 +0000"/>
                            <attachment id="12565525" name="trunk-7623.patch" size="730" author="jxiang" created="Fri, 18 Jan 2013 18:37:25 +0000"/>
                            <attachment id="12649381" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Mon, 9 Jun 2014 14:47:03 +0000"/>
                            <attachment id="12645978" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Wed, 21 May 2014 08:52:39 +0000"/>
                            <attachment id="12645756" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Tue, 20 May 2014 08:38:39 +0000"/>
                            <attachment id="12645520" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Mon, 19 May 2014 07:30:42 +0000"/>
                            <attachment id="12645358" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Fri, 16 May 2014 23:15:16 +0000"/>
                            <attachment id="12645342" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Fri, 16 May 2014 22:19:16 +0000"/>
                            <attachment id="12644801" name="yogesh_bedekar.vcf" size="219" author="yogesh.bedekar@oracle.com" created="Wed, 14 May 2014 10:52:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Jan 2013 18:40:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>305378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i18bzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>