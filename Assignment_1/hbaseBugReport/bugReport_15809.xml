<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:07:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15809/HBASE-15809.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15809] Basic Replication WebUI</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15809</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;At the moment the only way to have some insight on replication from the webui is looking at zkdump and metrics.&lt;/p&gt;

&lt;p&gt;the basic information useful to get started debugging are: peer information and the view of WALs offsets for each peer.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/47275/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/47275/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12966615">HBASE-15809</key>
            <summary>Basic Replication WebUI</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="appy">Appy</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 May 2016 05:40:28 +0000</created>
                <updated>Fri, 28 Oct 2016 00:32:48 +0000</updated>
                                            <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.4.0</fixVersion>
                    <fixVersion>0.98.24</fixVersion>
                                    <component>Replication</component>
                    <component>UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="15277654" author="mbertozzi" created="Tue, 10 May 2016 05:42:45 +0000"  >&lt;p&gt;v0 is a quick &amp;amp; dirty draft. There are a lot of assumption about the wal, trailer size and zk implementation. not sure how to workaround those without having a huge patch with changes in both wal and replication&lt;/p&gt;</comment>
                            <comment id="15280821" author="busbey" created="Wed, 11 May 2016 20:54:51 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/FreeReplicationEndpoint.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/FreeReplicationEndpoint.java
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; file mode 100755
index 0000000..9333f98
--- /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/FreeReplicationEndpoint.java
@@ -0,0 +1,147 @@
+&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop.hbase.replication.regionserver;
+ 
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.InputStream;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;File is missing ASF header&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+/*
+ * add_peer &apos;1&apos;, ENDPOINT_CLASSNAME =&amp;gt; &apos;org.apache.hadoop.hbase.replication.regionserver.FreeReplicationEndpoint&apos;, CONFIG =&amp;gt; {&apos;master_addresses&apos; =&amp;gt; &apos;localhost:18080&apos;}
+ * create &apos;testtb&apos;, {NAME =&amp;gt; &apos;f&apos;, REPLICATION_SCOPE =&amp;gt; 1}
+ * put &apos;testtb&apos;, &apos;row0&apos;, &apos;f:q&apos;, &apos;value0&apos;
+ */
+&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class FreeReplicationEndpoint &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BaseReplicationEndpoint
+    im
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I like the instructions for installation, but also needs a brief description what this endpoint is used for. When would I want to install it?&lt;/p&gt;</comment>
                            <comment id="15280824" author="mbertozzi" created="Wed, 11 May 2016 20:57:35 +0000"  >&lt;p&gt;This was not really supposed to be in. This is my replication endpoint for testing. &lt;br/&gt;
has really nothing to do with the webui patch&lt;/p&gt;</comment>
                            <comment id="15311094" author="huaxiang" created="Wed, 1 Jun 2016 20:56:27 +0000"  >&lt;p&gt;I will work on this one, thanks.&lt;/p&gt;</comment>
                            <comment id="15311150" author="huaxiang" created="Wed, 1 Jun 2016 21:28:43 +0000"  >&lt;p&gt;Appy is going to work on it.&lt;/p&gt;</comment>
                            <comment id="15337276" author="mantonov" created="Sat, 18 Jun 2016 00:12:20 +0000"  >&lt;p&gt;Kicked out of 1.3&lt;/p&gt;</comment>
                            <comment id="15610320" author="zghaobac" created="Thu, 27 Oct 2016 01:44:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appy&quot; class=&quot;user-hover&quot; rel=&quot;appy&quot;&gt;Appy&lt;/a&gt; Do you still work on this? If not, I can pick this up. Recently, we met too many replication WALs problem in our production cluster. This replication info is very useful for our use case. Thanks.&lt;/p&gt;</comment>
                            <comment id="15610465" author="appy" created="Thu, 27 Oct 2016 03:03:17 +0000"  >&lt;p&gt;Yes, still working on it.  Worked on it about 2 weeks ago and finished the frontend. Handling backend wasn&apos;t trivial, so stack helped figure out best way. I have to complete that next. Will find sometime in next 2 weeks to get it done.&lt;/p&gt;</comment>
                            <comment id="15610519" author="zghaobac" created="Thu, 27 Oct 2016 03:29:19 +0000"  >&lt;p&gt;Thanks for your reply. Look forward to your work. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15610748" author="stack" created="Thu, 27 Oct 2016 05:37:27 +0000"  >&lt;p&gt;@appy&apos;s tool is looking very nice &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zghaobac&quot; class=&quot;user-hover&quot; rel=&quot;zghaobac&quot;&gt;Guanghao Zhang&lt;/a&gt; What would you like to see in it though? No harm dumping it in here.&lt;/p&gt;</comment>
                            <comment id="15610927" author="zghaobac" created="Thu, 27 Oct 2016 06:51:46 +0000"  >&lt;p&gt;Now sizeOfLogQueue and replicationLag metrics are important for us. And I hope master ui can show the aggregate info for every peer. And the peer config info only need be showed on master ui. Thanks.&lt;/p&gt;</comment>
                            <comment id="15610944" author="zghaobac" created="Thu, 27 Oct 2016 07:01:02 +0000"  >&lt;p&gt;On our cluster, master aggregate all ServerLoad from all regionserver and report it by jmx metrics.&lt;/p&gt;</comment>
                            <comment id="15612560" author="appy" created="Thu, 27 Oct 2016 17:24:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zghaobac&quot; class=&quot;user-hover&quot; rel=&quot;zghaobac&quot;&gt;Guanghao Zhang&lt;/a&gt;, so the UI which i have currently includes all the things you mentioned. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
When i complete it, would it be possible for you to give it a quick try (out of normal release) and help me improve it.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="15613791" author="zghaobac" created="Fri, 28 Oct 2016 00:32:48 +0000"  >&lt;p&gt;Sounds good. I am very glad to try it on our cluster. I will do a backport (because our cluster used a branch based 0.98) after you upload the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12803161" name="HBASE-15809-v0.patch" size="30940" author="mbertozzi" created="Tue, 10 May 2016 05:42:45 +0000"/>
                            <attachment id="12803162" name="HBASE-15809-v0.png" size="200053" author="mbertozzi" created="Tue, 10 May 2016 05:42:45 +0000"/>
                            <attachment id="12803550" name="HBASE-15809-v1.patch" size="26231" author="mbertozzi" created="Thu, 12 May 2016 00:48:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 May 2016 20:54:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xfqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>