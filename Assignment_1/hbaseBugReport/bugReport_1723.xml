<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:55:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1723/HBASE-1723.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1723] getRowWithColumnsTs changed behavior</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1723</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The method getRowWithTimestampTs of the thrift interface changed behavior from version 0.19 to 0.20:&lt;/p&gt;

&lt;p&gt;In 0.19, it returned only cells with exactly the given timestamp, 0.20 it to returns cells with a timestamp before (not including) the given timestamp.&lt;/p&gt;

&lt;p&gt;It needs to be clearified, which one is the desired behavior.&lt;/p&gt;

&lt;p&gt;I attach a patch to make 0.20 conform with 0.19 (only return cells with exactly the given timestamp), if this is what is wanted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431779">HBASE-1723</key>
            <summary>getRowWithColumnsTs changed behavior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="tim_s">Tim Sell</assignee>
                                    <reporter username="matleh">Matthias Lehmann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jul 2009 08:30:33 +0000</created>
                <updated>Tue, 19 Jan 2010 18:12:33 +0000</updated>
                            <resolved>Tue, 19 Jan 2010 18:12:34 +0000</resolved>
                                    <version>0.20.0</version>
                                                    <component>Thrift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12737040" author="matleh" created="Thu, 30 Jul 2009 08:33:36 +0000"  >&lt;p&gt;Use get.setTimeStamp instead of get.setTimeRange&lt;/p&gt;

&lt;p&gt;This patch rearranges getRowWithColumnsTs a bit, because the original version was unneccessary repetitive.&lt;/p&gt;</comment>
                            <comment id="12737197" author="stack" created="Thu, 30 Jul 2009 17:51:23 +0000"  >&lt;p&gt;Patch looks good.  Yes, the method should work as it used to.&lt;/p&gt;

&lt;p&gt;I don&apos;t think this issue of enough import to sink the current 0.20.0 RC1.  Lets leave it filed against 0.20.0 and add it in if we end up making a new RC.&lt;/p&gt;

&lt;p&gt;Will commit later to TRUNK and if it doesn&apos;t make 0.20.0, to 0.20.1.&lt;/p&gt;</comment>
                            <comment id="12737983" author="stack" created="Sun, 2 Aug 2009 03:15:40 +0000"  >&lt;p&gt;Committed to 0.20 branch and TRUNK.  Thanks for the patch Mathias.&lt;/p&gt;</comment>
                            <comment id="12738158" author="stack" created="Mon, 3 Aug 2009 00:26:12 +0000"  >&lt;p&gt;Reopening.  Breaks TestThriftServer.  Removed patch from 0.20 branch and TRUNK.&lt;/p&gt;

&lt;p&gt;Mathias, looks like the unit test needs to be changed to match this change in behavior.  Any chance of your taking a look?&lt;/p&gt;</comment>
                            <comment id="12738969" author="matleh" created="Tue, 4 Aug 2009 13:21:42 +0000"  >&lt;p&gt;Sorry for the inconveniences caused. I&apos;m trying to fix the tests, yet my problem is, that the test-case failes even without the patch.&lt;/p&gt;

&lt;p&gt;When I run the TestThriftServer test, I get an exception &quot;java.io.FileNotFoundException: &lt;a href=&quot;file:/home/mat/work/lalisio/hbase-trunk/build/webapps/datanode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/home/mat/work/lalisio/hbase-trunk/build/webapps/datanode&lt;/a&gt;&quot; &lt;br/&gt;
and later it fails with &quot;testAll(org.apache.hadoop.hbase.thrift.TestThriftServer)org.apache.hadoop.hbase.client.NoServerForRegionException: No server address listed in &lt;del&gt;ROOT&lt;/del&gt; for region .META.,,1&quot;&lt;/p&gt;

&lt;p&gt;What am I missing?&lt;/p&gt;</comment>
                            <comment id="12739133" author="stack" created="Tue, 4 Aug 2009 20:20:01 +0000"  >&lt;p&gt;No worries Matias. Thanks for looking out for our thrift API.&lt;/p&gt;

&lt;p&gt;For first error, make the hadoop jar come before the hbase jar or the dir with hbase webapps in it.... .CLASSPATH is a little tricky. Or run on the cmdline: ant test -Dtestcase=TestThriftServer. Ant test has CLASSPATH set right. On second error, my guess is that its a follow on from first?&lt;/p&gt;

&lt;p&gt;Test passes for me. &lt;/p&gt;</comment>
                            <comment id="12742701" author="stack" created="Thu, 13 Aug 2009 03:51:32 +0000"  >&lt;p&gt;Move to 0.20.1&lt;/p&gt;</comment>
                            <comment id="12745000" author="matleh" created="Wed, 19 Aug 2009 11:07:01 +0000"  >&lt;p&gt;substitute setTimeRange with setTimeStamp in several methods for consistent behavior.&lt;br/&gt;
Also adjust TestThriftServer.&lt;/p&gt;</comment>
                            <comment id="12753406" author="stack" created="Thu, 10 Sep 2009 03:33:32 +0000"  >&lt;p&gt;@Tim: I know you are on your holidays but should we apply this to 0.20.1?  It changes behavior, so its like 0.19.x, but changes it.  Need a thrift-head to say yeah or nay!&lt;/p&gt;</comment>
                            <comment id="12753912" author="tim_s" created="Fri, 11 Sep 2009 00:12:04 +0000"  >&lt;p&gt;I vaguely recall this changing after Ryan updated it for the new java client? So was maybe intentional.&lt;br/&gt;
If not, I think the current thrift interface suggests the 19 behavior anyway, so +1.&lt;/p&gt;

&lt;p&gt;~Tim.&lt;/p&gt;</comment>
                            <comment id="12754316" author="ryanobjc" created="Fri, 11 Sep 2009 20:08:00 +0000"  >&lt;p&gt;&apos;setTimeStamp&apos; says &apos;retrieve values AT this exact timestamp&apos;.  When I Was fixing the thrift tests, the tests suggested that the API was &apos;retrieve me a vision of the past that is at this timestamp&apos; which implies &apos;setTimeRange(0,providedTimestamp)&apos;.&lt;/p&gt;

&lt;p&gt;Retrieving exactly TS=X is rarely correct behaviour since you rely on millisecond precise matching, and unless you are using explicit TS, its fairly unlikely this will match. Whereas saying &apos;all cells older than TS=X&apos; works much better.&lt;/p&gt;</comment>
                            <comment id="12754320" author="stack" created="Fri, 11 Sep 2009 20:17:02 +0000"  >&lt;p&gt;Ok.  The behavior is different from 0.19.x but lets leave it as is since its more likely what folks want.  Moving out of 0.20.1.&lt;/p&gt;</comment>
                            <comment id="12802267" author="lars_francke" created="Tue, 19 Jan 2010 14:09:16 +0000"  >&lt;p&gt;I believe this is another issue that is overridden by the new Thrift API from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt; and it can be closed as &quot;won&apos;t fix&quot;&lt;/p&gt;</comment>
                            <comment id="12802392" author="stack" created="Tue, 19 Jan 2010 18:12:33 +0000"  >&lt;p&gt;Subsumed by new Lars Francke thrift 0.2 API work &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12415011" name="HBASE-1723-no-rearrangement.patch" size="990" author="matleh" created="Thu, 30 Jul 2009 12:52:23 +0000"/>
                            <attachment id="12417008" name="HBASE-1723-v2.patch" size="3357" author="matleh" created="Wed, 19 Aug 2009 11:07:01 +0000"/>
                            <attachment id="12415005" name="HBASE-1723.patch" size="1911" author="matleh" created="Thu, 30 Jul 2009 08:34:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Jul 2009 17:51:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hewn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>