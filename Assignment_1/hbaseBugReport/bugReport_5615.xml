<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:29:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5615/HBASE-5615.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5615] the master never does balance because of balancing the parent region</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5615</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;the master never do balance becauseof when master do rebuildUserRegions()&#65292;it will add the parent region into  AssignmentManager#servers,&lt;br/&gt;
if balancer let the parent region to move,the parent will in RIT forever.thus balance will never be executed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12547557">HBASE-5615</key>
            <summary>the master never does balance because of balancing the parent region</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xufeng">xufeng</assignee>
                                    <reporter username="xufeng">xufeng</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Mar 2012 07:52:02 +0000</created>
                <updated>Thu, 10 May 2012 17:32:06 +0000</updated>
                            <resolved>Thu, 10 May 2012 17:32:06 +0000</resolved>
                                    <version>0.90.7</version>
                                    <fixVersion>0.90.7</fixVersion>
                                        <due>Thu, 22 Mar 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13235426" author="xufeng" created="Thu, 22 Mar 2012 07:52:38 +0000"  >&lt;p&gt;In my cluster I found this issue.&lt;/p&gt;

&lt;p&gt;1.the balance never be executed because:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2012-03-21 14:11:47,226] [DEBUG] [158-1-131-48:20000-BalancerChore] [org.apache.hadoop.hbase.master.HMaster 824] Not running balancer because 4 region(s) in transition: {3139250177b9c55fbce6856e2595b272=hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272. state=PENDING_CLOSE, ts=1332339058374, 3d7698062c1ffaa288ffa4b0630205dd=hbaseTable,12284#000051,1332214163915.3d7698062c1ffaa288ffa4b0630205dd. st...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2.choose the 3139250177b9c55fbce6856e2595b272 as a sample to track.&lt;br/&gt;
I found it has be splited:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2012-03-20 23:40:36,496] [INFO ] [regionserver20020.compactor] [org.apache.hadoop.hbase.regionserver.HRegion 563] Closed hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272.
[2012-03-20 23:40:38,469] [INFO ] [regionserver20020.compactor] [org.apache.hadoop.hbase.catalog.MetaEditor 85] Offlined parent region hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272. in META
[2012-03-20 23:40:39,755] [INFO ] [regionserver20020.compactor] [org.apache.hadoop.hbase.regionserver.CompactSplitThread 181] Region split, META updated, and report to master. Parent=hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272., new regions: hbaseTable3,06640#000149,1332286834610.bf8baeae598db2a1e87dbd0a234d1539., hbaseTable3,06723#000707,1332286834610.64ccaffa46be50a5dbc41540006afcb6.. Split took 5sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3.then the backup master active one, in finishInitialization() logs,I found those logs:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2012-03-21 11:41:46,692&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;master-158-1-131-48:20000&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hbase.master.handler.ServerShutdownHandler 348&amp;#93;&lt;/span&gt; Daughter hbaseTable3,06640#000149,1332286834610.bf8baeae598db2a1e87dbd0a234d1539. present&lt;/p&gt;

&lt;p&gt;4.so I ensure that the parent region(3139250177b9c55fbce6856e2595b272) also in META table.&lt;/p&gt;

&lt;p&gt;5.if 3139250177b9c55fbce6856e2595b272 in META, it will be added to AssignmentManager#regions and AssignmentManager#servers when master rebuild the user regions.&lt;/p&gt;

&lt;p&gt;6.balance will reference to AssignmentManager#servers to let the 3139250177b9c55fbce6856e2595b272 to move:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2012-03-21 11:46:47,699] [INFO ] [158-1-131-48:20000-BalancerChore] [org.apache.hadoop.hbase.master.HMaster 849] balance hri=hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272., src=158-1-131-48,20020,1331918756600, dest=158-1-130-11,20020,1331918756573
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;7.the parent will in RIT forever as PENDING_CLOSE state,thus balance will never be executed&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2012-03-21 13:13:57,201] [WARN ] [PRI IPC Server handler 3 on 20020] [org.apache.hadoop.hbase.regionserver.HRegionServer 2211] Received close for region we are not serving; 3139250177b9c55fbce6856e2595b272
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[2012-03-21 11:55:55,638] [INFO ] [158-1-131-48:20000.timeoutMonitor] [org.apache.hadoop.hbase.master.AssignmentManager 2327] Regions in transition timed out:  hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272. state=PENDING_CLOSE, ts=1332330775586
[2012-03-21 11:55:55,639] [INFO ] [158-1-131-48:20000.timeoutMonitor] [org.apache.hadoop.hbase.master.AssignmentManager 2363] Region has been PENDING_CLOSE for too long, running forced unassign again on region=hbaseTable3,06640#000149,1332230348477.3139250177b9c55fbce6856e2595b272.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13235432" author="xufeng" created="Thu, 22 Mar 2012 08:01:49 +0000"  >&lt;p&gt;I use the 0.90&lt;br/&gt;
BTW:I can not compile the 0.90 branch on location by maven.is this a problem?&lt;/p&gt;

&lt;p&gt;the error log is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project hbase: Compilation failure
[ERROR] /opt/xufeng/module/hbase/host_java/src/HBASE_ONLINE/src/main/java/org/apache/hadoop/hbase/master/HMaster.java:[1121,22] cannot find symbol
[ERROR] symbol  : class ServerName
[ERROR] location: class org.apache.hadoop.hbase.master.HMaster
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13235516" author="xufeng" created="Thu, 22 Mar 2012 11:42:48 +0000"  >&lt;p&gt;this is my patch, and I will reproduce the problem and validate the patch.&lt;/p&gt;

&lt;p&gt;anyone can review it and give me so suggestion?&lt;/p&gt;</comment>
                            <comment id="13235529" author="zhihyu@ebaysf.com" created="Thu, 22 Mar 2012 12:15:41 +0000"  >&lt;p&gt;@Xufeng:&lt;br/&gt;
Can you clarify which region server was log from step 2 collected from ?&lt;br/&gt;
Is it 158-1-131-48 ?&lt;/p&gt;</comment>
                            <comment id="13235541" author="xufeng" created="Thu, 22 Mar 2012 12:33:45 +0000"  >&lt;p&gt;the log of step2 from 158-1-131-48,20020,1331918756600&lt;/p&gt;</comment>
                            <comment id="13235624" author="ram_krish" created="Thu, 22 Mar 2012 15:12:54 +0000"  >&lt;p&gt;+1 on patch for 0.90.  Is this present in other versions also?&lt;/p&gt;</comment>
                            <comment id="13235674" author="zhihyu@ebaysf.com" created="Thu, 22 Mar 2012 15:58:29 +0000"  >&lt;p&gt;+1 as well.&lt;/p&gt;

&lt;p&gt;Please fix indentation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
       &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tableName = regionInfo.getTableDesc().getNameAsString();
+	  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (regionInfo.isOffline() &amp;amp;&amp;amp; regionInfo.isSplit()) &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13236464" author="xufeng" created="Fri, 23 Mar 2012 09:03:46 +0000"  >&lt;p&gt;reproduce this issue by 0.90&lt;br/&gt;
In this issue,META should hold parent region info for long time.So before test,I delete those code in regionserver class:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  public void postOpenDeployTasks(final HRegion r, final CatalogTracker ct,
      final boolean daughter)
  throws KeeperException, IOException {
    // Do checks to see if we need to compact (references or too many files)
    /*if (r.hasReferences() || r.hasTooManyStoreFiles()) {
      getCompactionRequester().requestCompaction(r,
        r.hasReferences()? &quot;Region has references on open&quot; :
          &quot;Region has too many store files&quot;);
    }*/
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;step1:start cluster that has two master and one regionerver process.&lt;br/&gt;
step2:create a table and input some data in it.&lt;br/&gt;
step3:split the table by shell.&lt;br/&gt;
step4:kill the active master.&lt;br/&gt;
step5:after backup master become active one,start another regionserver process.&lt;br/&gt;
result:the issue happen&lt;/p&gt;


&lt;p&gt;I also test my patch many times and it can work.&lt;/p&gt;</comment>
                            <comment id="13236468" author="xufeng" created="Fri, 23 Mar 2012 09:07:25 +0000"  >&lt;p&gt;@Zhihong Yu&lt;br/&gt;
updated the patch.&lt;br/&gt;
this patch for 0.90 version&lt;/p&gt;

&lt;p&gt;@Rama&lt;br/&gt;
I will check the TRUNK and 0.92 version.&lt;/p&gt;</comment>
                            <comment id="13237399" author="xufeng" created="Sat, 24 Mar 2012 01:51:10 +0000"  >&lt;p&gt;Submit the unit test result for 90 patch.&lt;/p&gt;

&lt;p&gt;There are some err in result after patched.&lt;/p&gt;

&lt;p&gt;But those err also be found if no patched.&lt;/p&gt;
</comment>
                            <comment id="13237484" author="sunnygao" created="Sat, 24 Mar 2012 09:12:36 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13237556" author="yuzhihong@gmail.com" created="Sat, 24 Mar 2012 15:02:27 +0000"  >&lt;p&gt;Integrated to 0.90 branch.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Xufeng.&lt;/p&gt;

&lt;p&gt;Thanks for the review Ramkrishna and Jinchao.&lt;/p&gt;

&lt;p&gt;Patch for TRUNK to follow&lt;/p&gt;</comment>
                            <comment id="13237581" author="hadoopqa" created="Sat, 24 Mar 2012 15:58:07 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12519805/5615-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12519805/5615-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.hfile.TestForceCacheImportantBlocks&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1298//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1298//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1298//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1298//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1298//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1298//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13238009" author="yuzhihong@gmail.com" created="Sun, 25 Mar 2012 23:25:33 +0000"  >&lt;p&gt;Integrated to 0.92, 0.94 and TRUNK as well.&lt;/p&gt;</comment>
                            <comment id="13238029" author="xufeng" created="Mon, 26 Mar 2012 01:21:48 +0000"  >&lt;p&gt;Thanks for help Ramkrishna,Jinchao and Ted.&lt;/p&gt;</comment>
                            <comment id="13238030" author="yuzhihong@gmail.com" created="Mon, 26 Mar 2012 01:24:27 +0000"  >&lt;p&gt;@Xufeng:&lt;br/&gt;
You&apos;re welcome.&lt;/p&gt;

&lt;p&gt;In the future, please grant license to Apache when you attach patches.&lt;/p&gt;</comment>
                            <comment id="13238042" author="hudson" created="Mon, 26 Mar 2012 01:34:54 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2695 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2695/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2695/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; the master never does balance because of balancing the parent region (Xufeng) (Revision 1305171)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13238048" author="hudson" created="Mon, 26 Mar 2012 01:51:14 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #55 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/55/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/55/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; the master never does balance because of balancing the parent region (Xufeng) (Revision 1305172)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13238083" author="hudson" created="Mon, 26 Mar 2012 03:42:13 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #339 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/339/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/339/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; the master never does balance because of balancing the parent region (Xufeng) (Revision 1305173)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13238110" author="hudson" created="Mon, 26 Mar 2012 05:27:04 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #150 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/150/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; the master never does balance because of balancing the parent region (Xufeng) (Revision 1305171)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13239003" author="hudson" created="Mon, 26 Mar 2012 23:40:05 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #3 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/3/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; the master never does balance because of balancing the parent region (Xufeng) (Revision 1305172)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13246956" author="hudson" created="Thu, 5 Apr 2012 02:52:05 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #104 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/104/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/104/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; the master never does balance because of balancing the parent region (Xufeng) (Revision 1305173)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13247302" author="ram_krish" created="Thu, 5 Apr 2012 15:42:45 +0000"  >&lt;p&gt;This issue fix is not valid for 0.92 and above branches as it uses ZK for splitting.  &lt;/p&gt;</comment>
                            <comment id="13247325" author="ram_krish" created="Thu, 5 Apr 2012 16:08:42 +0000"  >&lt;p&gt;@Xufeng&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;@Rama&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;bq .I will check the TRUNK and 0.92 version.&lt;/p&gt;

&lt;p&gt;Did u check for the trunk and 0.92?&lt;/p&gt;</comment>
                            <comment id="13247556" author="lhofhansl" created="Thu, 5 Apr 2012 19:25:20 +0000"  >&lt;p&gt;@Ram: Are you saying we should revert from 0.92, 0.94, and 0.96?&lt;/p&gt;</comment>
                            <comment id="13247653" author="lhofhansl" created="Thu, 5 Apr 2012 20:48:07 +0000"  >&lt;p&gt;The patch will definitely do no harm in 0.92+ (although it might be ineffective)&lt;/p&gt;</comment>
                            <comment id="13248038" author="ram_krish" created="Fri, 6 Apr 2012 04:30:07 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
I suspect the following problem.&lt;br/&gt;
The split of region is done using ZK.  Now suppose just after the RS updated the status of the region split node to RS_SPLIT and before the master could respond master went down.&lt;br/&gt;
Now the master comes up and he will expect the RIT to be populated from the servers map.&lt;br/&gt;
But with this patch that servers map is not populated and the RIT is not populated and the master is not able to process the SPLIT node and the RS keeps saying master yet to process.  This has to be reverted in all the 0.92+ branches i feel.&lt;br/&gt;
Correct me if am wrong. 0.90 is fine.&lt;/p&gt;</comment>
                            <comment id="13248050" author="zhihyu@ebaysf.com" created="Fri, 6 Apr 2012 04:53:02 +0000"  >&lt;p&gt;RS_SPLIT above refers to RS_ZK_REGION_SPLIT, right ?&lt;/p&gt;

&lt;p&gt;regionsInTransition isn&apos;t filled by rebuildUserRegions(). If you can provide a test case for the scenario described above, that would help me understand.&lt;/p&gt;</comment>
                            <comment id="13248108" author="lhofhansl" created="Fri, 6 Apr 2012 06:04:37 +0000"  >&lt;p&gt;@Ram: I believe you, but I don&apos;t follow &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Since you have an opinion and I don&apos;t know much about this. Let&apos;s revert from 0.92+ until we know more.&lt;/p&gt;</comment>
                            <comment id="13248119" author="ram_krish" created="Fri, 6 Apr 2012 06:18:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;RS_SPLIT above refers to RS_ZK_REGION_SPLIT, right ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes.&lt;br/&gt;
I will explain the problem first once again with the code&lt;br/&gt;
The patch does the following change while rebuildUserRegions on master startup.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (regionInfo.isOffline() &amp;amp;&amp;amp; regionInfo.isSplit()) &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Take the case where the RS was splitting a region.  In SplitTransaction&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.znodeVersion = transitionNodeSplit(server.getZooKeeper(),
          parent.getRegionInfo(), a.getRegionInfo(), b.getRegionInfo(),
          server.getServerName(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.znodeVersion);

        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; spins = 0;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After doing the above step RS waits for the master to respond for this change done in znode.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (spins % 10 == 0) {
            LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Still waiting on the master to process the split &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &quot;&lt;/span&gt; +
                &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.parent.getRegionInfo().getEncodedName());
          }
          &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(100);
          &lt;span class=&quot;code-comment&quot;&gt;// When &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; returns -1 it means the znode doesn&apos;t exist
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.znodeVersion = tickleNodeSplit(server.getZooKeeper(),
            parent.getRegionInfo(), a.getRegionInfo(), b.getRegionInfo(),
            server.getServerName(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.znodeVersion);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But the master had gone down.  So RS will keep waiting here&lt;br/&gt;
Now in master side when master comes up, the master tries to form all the existing regions and their corresponding servers in AM.rebuildUserRegions()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; == checkIfRegionBelongsToDisabled(regionInfo)
            &amp;amp;&amp;amp; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; == checkIfRegionsBelongsToEnabling(regionInfo)) {
          regions.put(regionInfo, regionLocation);
          addToServers(regionLocation, regionInfo);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As the region was already splitted the current fix in this patch will not allow me to continue to the above step where i addToServers.  &lt;br/&gt;
Now because the RS keeps on tickling the node to SPLIT state in AM.handleRegion&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; RS_ZK_REGION_SPLIT:
          &lt;span class=&quot;code-comment&quot;&gt;// RegionState must be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, or SPLITTING or PENDING_CLOSE.
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isInStateForSplitting(regionState)) &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
          &lt;span class=&quot;code-comment&quot;&gt;// If &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, add SPLITTING state before going to SPLIT
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (regionState == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            regionState = addSplittingToRIT(sn, encodedName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We see that the current regionState is null as no entry is present in RIT for that splitted region. As the regionState is null we fist try to get the RIT populated&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; HRegionInfo findHRegionInfo(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ServerName sn,
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encodedName) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverManager.isServerOnline(sn)) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    Set&amp;lt;HRegionInfo&amp;gt; hris = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.servers.get(sn);
    HRegionInfo foundHri = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (HRegionInfo hri: hris) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (hri.getEncodedName().equals(encodedName)) {
        foundHri = hri;
        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
      }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; foundHri;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But my servers map doesnot have this region. So it will always be null and master will not process the SPLIT.&lt;br/&gt;
I reverted the patch and i was able to overcome the problem . We need to make the fix for 0.92+ branches considering these scenarios.&lt;/p&gt;


</comment>
                            <comment id="13248120" author="ram_krish" created="Fri, 6 Apr 2012 06:19:59 +0000"  >&lt;p&gt;I will try to come up with a patch.  &lt;/p&gt;</comment>
                            <comment id="13248341" author="zhihyu@ebaysf.com" created="Fri, 6 Apr 2012 13:44:47 +0000"  >&lt;p&gt;Thanks for the finding, Ram.&lt;/p&gt;

&lt;p&gt;Reverted from 0.92, 0.94 and trunk.&lt;/p&gt;</comment>
                            <comment id="13248396" author="hudson" created="Fri, 6 Apr 2012 14:36:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2719 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2719/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2719/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; revert due to race condition in case master dies (Revision 1310324)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13248398" author="hudson" created="Fri, 6 Apr 2012 14:41:47 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #92 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/92/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/92/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; revert due to race condition in case master dies (Revision 1310322)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13248465" author="hudson" created="Fri, 6 Apr 2012 16:19:16 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #359 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/359/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/359/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; revert due to race condition in case master dies (Revision 1310321)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13248526" author="lhofhansl" created="Fri, 6 Apr 2012 17:38:07 +0000"  >&lt;p&gt;Thanks for the explanation Ram!&lt;br/&gt;
Now, do you think this is even a problem in 0.92+, or can we close this issue?&lt;/p&gt;</comment>
                            <comment id="13249173" author="hudson" created="Sat, 7 Apr 2012 05:11:53 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #161 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/161/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/161/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; revert due to race condition in case master dies (Revision 1310324)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13249194" author="hudson" created="Sat, 7 Apr 2012 06:19:07 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #8 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/8/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/8/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; revert due to race condition in case master dies (Revision 1310322)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13249326" author="lhofhansl" created="Sat, 7 Apr 2012 20:28:44 +0000"  >&lt;p&gt;I&apos;m a bit confused about whether this is an issue for 0.92+ or not.&lt;br/&gt;
Ram&apos;s argument seems to imply that it is not.&lt;/p&gt;</comment>
                            <comment id="13249696" author="ram_krish" created="Mon, 9 Apr 2012 06:12:03 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Sorry for not able to comment on this issue over the weekend.&lt;br/&gt;
The issue is present in 0.92+ but the fix is not this.  We may have to work on the correct fix for this.&lt;/p&gt;</comment>
                            <comment id="13250069" author="lhofhansl" created="Mon, 9 Apr 2012 19:00:55 +0000"  >&lt;p&gt;Thanks Ram... I&apos;ll hold up 0.94 for this (unless you think that unnecessary).&lt;/p&gt;</comment>
                            <comment id="13250911" author="ram_krish" created="Tue, 10 Apr 2012 18:20:04 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
I feel we need not hold up 0.94 for this.  I also need some more time to work on a proper fix. Atleast for now reverting the fix will not lead to some already handled scenarios and which looks clean.&lt;/p&gt;</comment>
                            <comment id="13251187" author="lhofhansl" created="Tue, 10 Apr 2012 23:46:19 +0000"  >&lt;p&gt;Moving to 0.94.1 at Ram&apos;s recommendation.&lt;/p&gt;</comment>
                            <comment id="13259509" author="hudson" created="Mon, 23 Apr 2012 11:00:50 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #105 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/105/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; revert due to race condition in case master dies (Revision 1310321)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13272526" author="ram_krish" created="Thu, 10 May 2012 17:31:55 +0000"  >&lt;p&gt;Resolving this issue as it is fixed in 0.90.&lt;br/&gt;
The fix for other versions have been reverted and the same has been taken care in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12519805" name="5615-trunk.txt" size="749" author="yuzhihong@gmail.com" created="Sat, 24 Mar 2012 15:03:25 +0000"/>
                            <attachment id="12519599" name="HBASE-5615-90.patch" size="714" author="xufeng" created="Fri, 23 Mar 2012 09:07:24 +0000"/>
                            <attachment id="12519426" name="HBASE-5615.patch" size="703" author="xufeng" created="Thu, 22 Mar 2012 11:42:48 +0000"/>
                            <attachment id="12519773" name="NoPatched-surefire-report-5615-90.html" size="205884" author="xufeng" created="Sat, 24 Mar 2012 01:51:10 +0000"/>
                            <attachment id="12519774" name="Patched_surefire-report-5615-90.html" size="205894" author="xufeng" created="Sat, 24 Mar 2012 01:51:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Mar 2012 12:15:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0692f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>