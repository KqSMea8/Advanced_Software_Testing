<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:58:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8769/HBASE-8769.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8769] Calculates the client write buffer size from the number of region</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8769</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The default size is ~2Mb. There are two issues:&lt;br/&gt;
1) It has not changed for a few years, while the memory available has increased&lt;br/&gt;
2) It&apos;s a fixed size, that does not take into account the number of region.&lt;/p&gt;

&lt;p&gt;I think we should have something like 100Kb per region, with a max at 6Mb, all this configurable of course.&lt;/p&gt;

&lt;p&gt;I plan to do this after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6295&quot; title=&quot;Possible performance improvement in client batch operations: presplit and send in background&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6295&quot;&gt;&lt;del&gt;HBASE-6295&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653707">HBASE-8769</key>
            <summary>Calculates the client write buffer size from the number of region</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jun 2013 13:54:56 +0000</created>
                <updated>Wed, 19 Jun 2013 16:35:45 +0000</updated>
                                            <version>0.98.0</version>
                    <version>0.95.1</version>
                                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13688115" author="lhofhansl" created="Wed, 19 Jun 2013 16:19:56 +0000"  >&lt;p&gt;The writer buffer is also per HTable.&lt;br/&gt;
Should we consider having the buffer capped per HConnection?&lt;/p&gt;</comment>
                            <comment id="13688137" author="nkeywal" created="Wed, 19 Jun 2013 16:35:45 +0000"  >&lt;p&gt;It would be a good thing to do, but it seems non trivial to me:&lt;/p&gt;

&lt;p&gt;With a scenario like: 3 tables of 50 regions each. I read from the first two and write in the third, using the default config everywhere. HBase cannot know that the first two write buffers will remain empty, so it may lowers the memory available for the 3rd table while it&apos;s not necessary.&lt;/p&gt;

&lt;p&gt;Or, if we want to have a global view in real time we will have to add some synchronisation at the HConnection level (i.e: AtomicLong or so), likely for each inserts.&lt;/p&gt;

&lt;p&gt;Today, we&apos;re pushing this to the user... Agreed it&apos;s not perfect.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Jun 2013 16:19:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lm3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>