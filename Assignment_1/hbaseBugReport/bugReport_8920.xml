<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8920/HBASE-8920.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8920] TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8920</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Failed here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/607/testReport/org.apache.hadoop.hbase.master/TestZKBasedOpenCloseRegion/testReOpenRegion/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/607/testReport/org.apache.hadoop.hbase.master/TestZKBasedOpenCloseRegion/testReOpenRegion/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4232/testReport/org.apache.hadoop.hbase.master/TestZKBasedOpenCloseRegion/testReOpenRegion/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4232/testReport/org.apache.hadoop.hbase.master/TestZKBasedOpenCloseRegion/testReOpenRegion/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In both cases, we fail for the same reason.  The previous test closes a region.  The failing test starts but we are reopening the region we&apos;d just closed as we are wont to do.  This is the region that gets chosen by the failing test to practise reopen on only  it is not yet fully open so in comes the close and it gets stomped on by the ongoing open.&lt;/p&gt;

&lt;p&gt;Let me post some log.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657134">HBASE-8920</key>
            <summary>TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jul 2013 19:13:59 +0000</created>
                <updated>Mon, 23 Sep 2013 19:22:27 +0000</updated>
                            <resolved>Fri, 2 Aug 2013 19:54:48 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13704942" author="stack" created="Wed, 10 Jul 2013 19:22:16 +0000"  >&lt;p&gt;So, here is the testClose finishing up:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-07-10 11:58:46,979 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-387] master.TestZKBasedOpenCloseRegion(317): Done with testCloseRegion
2013-07-10 11:58:46,981 INFO  [StoreOpener-953c5884dc661334f302052cfe8d547b-1] compactions.CompactionConfiguration(85): size [134217728, 9223372036854775807); files [3, 10); ratio 1.200000; off-peak ratio 5.000000; throttle point 2684354560; delete expired; major period 604800000, major jitter 0.500000
2013-07-10 11:58:46,993 DEBUG [StoreOpener-953c5884dc661334f302052cfe8d547b-1] regionserver.HStore(443): loaded hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:56405/user/jenkins/hbase/TestZKBasedOpenCloseRegion/953c5884dc661334f302052cfe8d547b/a/fb400fbb145949dcb3563bd7b5a3c9ab, isReference=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, isBulkLoadResult=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, seqid=2, majorCompaction=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/span&gt;2013-07-10 11:58:46,994 INFO  [StoreOpener-953c5884dc661334f302052cfe8d547b-1] compactions.CompactionConfiguration(85): size [134217728, 9223372036854775807); files [3, 10); ratio 1.200000; off-peak ratio 5.000000; throttle point 2684354560; delete expired; major period 604800000, major jitter 0.500000
2013-07-10 11:58:46,996 INFO  [StoreOpener-953c5884dc661334f302052cfe8d547b-1] compactions.CompactionConfiguration(85): size [134217728, 9223372036854775807); files [3, 10); ratio 1.200000; off-peak ratio 5.000000; throttle point 2684354560; delete expired; major period 604800000, major jitter 0.500000
2013-07-10 11:58:47,000 INFO  [RS_OPEN_REGION-juno:39691-0] regionserver.HRegion(619): Onlined 953c5884dc661334f302052cfe8d547b; next sequenceid=3
2013-07-10 11:58:47,000 DEBUG [RS_OPEN_REGION-juno:39691-0] zookeeper.ZKAssign(598): regionserver:39691-0x13fc8727d2e0002 Attempting to retransition the opening state of node 953c5884dc661334f302052cfe8d547b
2013-07-10 11:58:47,001 INFO  [pool-1-thread-1] hbase.ResourceChecker(171): after: master.TestZKBasedOpenCloseRegion#testCloseRegion &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=281 (was 278)
Potentially hanging thread: MASTER_CLOSE_REGION-juno:45449-0
	sun.misc.Unsafe.park(Native Method)
	java.util.concurrent.locks.LockSupport.park(LockSupport.java:156)
	java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1987)
	java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:399)
	java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:957)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:917)
	java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)

Potentially hanging thread: RS_CLOSE_REGION-juno:39691-0
	sun.misc.Unsafe.park(Native Method)
	java.util.concurrent.locks.LockSupport.park(LockSupport.java:156)
	java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1987)
	java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:399)
	java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:957)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:917)
	java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)

Potentially hanging thread: StoreOpener-953c5884dc661334f302052cfe8d547b-1
	java.util.regex.Pattern$GroupTail.match(Pattern.java:4231)
	java.util.regex.Pattern$Curly.match0(Pattern.java:3782)
	java.util.regex.Pattern$Curly.match(Pattern.java:3744)
	java.util.regex.Pattern$CharProperty.match(Pattern.java:3345)
	java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)
	java.util.regex.Pattern$GroupHead.match(Pattern.java:4168)
	java.util.regex.Pattern$Begin.match(Pattern.java:3120)
	java.util.regex.Matcher.match(Matcher.java:1127)
	java.util.regex.Matcher.matches(Matcher.java:502)
	org.apache.hadoop.hbase.io.HFileLink.isHFileLink(HFileLink.java:140)
	org.apache.hadoop.hbase.regionserver.StoreFileInfo.validateStoreFileName(StoreFileInfo.java:297)
	org.apache.hadoop.hbase.regionserver.StoreFileInfo.isValid(StoreFileInfo.java:322)
	org.apache.hadoop.hbase.regionserver.HRegionFileSystem.getStoreFiles(HRegionFileSystem.java:190)
	org.apache.hadoop.hbase.regionserver.HStore.loadStoreFiles(HStore.java:407)
	org.apache.hadoop.hbase.regionserver.HStore.&amp;lt;init&amp;gt;(HStore.java:242)
	org.apache.hadoop.hbase.regionserver.HRegion.instantiateHStore(HRegion.java:3104)
	org.apache.hadoop.hbase.regionserver.HRegion$1.call(HRegion.java:655)
	org.apache.hadoop.hbase.regionserver.HRegion$1.call(HRegion.java:653)
	java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	java.util.concurrent.FutureTask.run(FutureTask.java:138)
	java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
	java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	java.util.concurrent.FutureTask.run(FutureTask.java:138)
	java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; LEAK? -, OpenFileDescriptor=445 (was 442) - OpenFileDescriptor LEAK? -, MaxFileDescriptor=40000 (was 40000), SystemLoadAverage=324 (was 324), ProcessCount=141 (was 141), AvailableMemoryMB=1280 (was 1283), ConnectionCount=6 (was 6)
2013-07-10 11:58:47,002 INFO  [PostOpenDeployTasks:953c5884dc661334f302052cfe8d547b] regionserver.HRegionServer(1698): Post open deploy tasks &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region=TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b.
2013-07-10 11:58:47,009 INFO  [PostOpenDeployTasks:953c5884dc661334f302052cfe8d547b] catalog.MetaEditor(432): Updated row TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b. with server=juno.apache.org,39691,1373457514592
2013-07-10 11:58:47,009 INFO  [PostOpenDeployTasks:953c5884dc661334f302052cfe8d547b] regionserver.HRegionServer(1723): Done with post open deploy task &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region=TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b.
2013-07-10 11:58:47,009 DEBUG [RS_OPEN_REGION-juno:39691-0] zookeeper.ZKAssign(786): regionserver:39691-0x13fc8727d2e0002 Attempting to transition node 953c5884dc661334f302052cfe8d547b from RS_ZK_REGION_OPENING to RS_ZK_REGION_OPENED
2013-07-10 11:58:47,020 DEBUG [pool-1-thread-1-EventThread] zookeeper.ZooKeeperWatcher(307): master:45449-0x13fc8727d2e0000 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/region-in-transition/953c5884dc661334f302052cfe8d547b
2013-07-10 11:58:47,020 DEBUG [RS_OPEN_REGION-juno:39691-0] zookeeper.ZKAssign(862): regionserver:39691-0x13fc8727d2e0002 Successfully transitioned node 953c5884dc661334f302052cfe8d547b from RS_ZK_REGION_OPENING to RS_ZK_REGION_OPENED
2013-07-10 11:58:47,020 DEBUG [RS_OPEN_REGION-juno:39691-0] handler.OpenRegionHandler(373): region transitioned to opened in zookeeper: {ENCODED =&amp;gt; 953c5884dc661334f302052cfe8d547b, NAME =&amp;gt; &apos;TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b.&apos;, STARTKEY =&amp;gt; &apos;bbb&apos;, ENDKEY =&amp;gt; &apos;ccc&apos;}, server: juno.apache.org,39691,1373457514592
2013-07-10 11:58:47,020 DEBUG [RS_OPEN_REGION-juno:39691-0] handler.OpenRegionHandler(186): Opened TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b. on server:juno.apache.org,39691,1373457514592
2013-07-10 11:58:47,021 DEBUG [hbase-am-zkevent-worker-pool-2-thread-15] master.AssignmentManager(768): Handling transition=RS_ZK_REGION_OPENED, server=juno.apache.org,39691,1373457514592, region=953c5884dc661334f302052cfe8d547b, current state from region state map ={953c5884dc661334f302052cfe8d547b state=OPENING, ts=1373457526962, server=juno.apache.org,39691,1373457514592}

....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The region reopen is going ahead after the close succeeds.&lt;/p&gt;

&lt;p&gt;Now, we fall into the next test, the testReOpen, the one that is failing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
2013-07-10 11:58:47,021 INFO  [pool-1-thread-1] hbase.ResourceChecker(147): before: master.TestZKBasedOpenCloseRegion#testReOpenRegion &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=281, OpenFileDescriptor=448, MaxFileDescriptor=40000, SystemLoadAverage=324, ProcessCount=141, AvailableMemoryMB=1280, ConnectionCount=6
2013-07-10 11:58:47,021 INFO  [hbase-am-zkevent-worker-pool-2-thread-15] master.RegionStates(265): Region transitioned from {953c5884dc661334f302052cfe8d547b state=OPENING, ts=1373457526962, server=juno.apache.org,39691,1373457514592} to {953c5884dc661334f302052cfe8d547b state=OPEN, ts=1373457527021, server=juno.apache.org,39691,1373457514592}
2013-07-10 11:58:47,022 DEBUG [MASTER_OPEN_REGION-juno:45449-2] handler.OpenedRegionHandler(145): Handling OPENED event &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 953c5884dc661334f302052cfe8d547b from juno.apache.org,39691,1373457514592; deleting unassigned node
2013-07-10 11:58:47,022 DEBUG [MASTER_OPEN_REGION-juno:45449-2] zookeeper.ZKAssign(405): master:45449-0x13fc8727d2e0000 Deleting existing unassigned node &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 953c5884dc661334f302052cfe8d547b that is in expected state RS_ZK_REGION_OPENED
2013-07-10 11:58:47,032 DEBUG [pool-1-thread-1] client.ClientScanner(195): Finished region={ENCODED =&amp;gt; 1028785192, NAME =&amp;gt; &apos;.META.,,1&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;}
2013-07-10 11:58:47,032 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-394] master.TestZKBasedOpenCloseRegion(109): &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of region servers = 2
2013-07-10 11:58:47,033 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-394] master.TestZKBasedOpenCloseRegion(150): TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b.
2013-07-10 11:58:47,033 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-394] master.TestZKBasedOpenCloseRegion(116): Asking RS to close region TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b.
2013-07-10 11:58:47,034 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-394] master.TestZKBasedOpenCloseRegion(133): Unassign TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b.
2013-07-10 11:58:47,034 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-394] master.AssignmentManager(2206): Starting unassignment of region TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b. (offlining)
2013-07-10 11:58:47,035 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-394] master.AssignmentManager(2279): Attempting to unassign region TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b. but it is already in transition (OPEN, force=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
2013-07-10 11:58:47,036 DEBUG [pool-1-thread-1-EventThread] zookeeper.ZooKeeperWatcher(307): master:45449-0x13fc8727d2e0000 Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/region-in-transition/953c5884dc661334f302052cfe8d547b
2013-07-10 11:58:47,036 DEBUG [hbase-am-zkevent-worker-pool-2-thread-13] master.AssignmentManager$4(1219): The znode of region TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b. has been deleted, region state: {953c5884dc661334f302052cfe8d547b state=OPEN, ts=1373457527021, server=juno.apache.org,39691,1373457514592}
2013-07-10 11:58:47,036 DEBUG [pool-1-thread-1-EventThread] zookeeper.ZooKeeperWatcher(307): master:45449-0x13fc8727d2e0000 Received ZooKeeper Event, type=NodeChildrenChanged, state=SyncConnected, path=/hbase/region-in-transition
2013-07-10 11:58:47,036 INFO  [hbase-am-zkevent-worker-pool-2-thread-13] master.AssignmentManager$4(1224): The master has opened the region TestZKBasedOpenCloseRegion,bbb,1373457519402.953c5884dc661334f302052cfe8d547b. that was online on juno.apache.org,39691,1373457514592
2013-07-10 11:58:47,036 DEBUG [MASTER_OPEN_REGION-juno:45449-2] zookeeper.ZKAssign(434): master:45449-0x13fc8727d2e0000 Successfully deleted unassigned node &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region 953c5884dc661334f302052cfe8d547b in expected state RS_ZK_REGION_OPENED
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We are dropping the close event.  It is stomped on by the successful open.&lt;/p&gt;

&lt;p&gt;I could ensure nothing is in transition before starting the test but this seems like a conflict we could see out on running cluster.&lt;/p&gt;</comment>
                            <comment id="13704961" author="stack" created="Wed, 10 Jul 2013 19:43:46 +0000"  >&lt;p&gt;Added a waitOnRIT to the @Before.  Should &apos;fix&apos; this test.&lt;/p&gt;

&lt;p&gt;(Minor log message formatting in AM and RegionStates too).&lt;/p&gt;</comment>
                            <comment id="13704986" author="hadoopqa" created="Wed, 10 Jul 2013 20:02:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12591708/8920.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12591708/8920.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6298//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6298//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13704990" author="jxiang" created="Wed, 10 Jul 2013 20:04:52 +0000"  >&lt;p&gt;+1 if add a small sleep in waitOnRIT.&lt;/p&gt;</comment>
                            <comment id="13705002" author="stack" created="Wed, 10 Jul 2013 20:12:37 +0000"  >&lt;p&gt;Adding Jimmy suggested sleep.&lt;/p&gt;</comment>
                            <comment id="13705019" author="hadoopqa" created="Wed, 10 Jul 2013 20:22:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12591711/8920v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12591711/8920v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6299//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6299//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13705063" author="stack" created="Wed, 10 Jul 2013 20:59:10 +0000"  >&lt;p&gt;Retry (fixed why it would not apply to trunk)&lt;/p&gt;</comment>
                            <comment id="13705141" author="hadoopqa" created="Wed, 10 Jul 2013 22:10:04 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12591723/8920v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12591723/8920v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6301//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13705551" author="stack" created="Thu, 11 Jul 2013 07:14:35 +0000"  >&lt;p&gt;Committed to 0.95 and trunk.  Will leave open to see if this fixes this test.&lt;/p&gt;</comment>
                            <comment id="13705659" author="hudson" created="Thu, 11 Jul 2013 10:16:44 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #314 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/314/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/314/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8920&quot; title=&quot;TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8920&quot;&gt;&lt;del&gt;HBASE-8920&lt;/del&gt;&lt;/a&gt; TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally (Revision 1502133)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestZKBasedOpenCloseRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13705668" author="hudson" created="Thu, 11 Jul 2013 10:35:44 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #4241 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4241/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4241/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8920&quot; title=&quot;TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8920&quot;&gt;&lt;del&gt;HBASE-8920&lt;/del&gt;&lt;/a&gt; TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally (Revision 1502132)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestZKBasedOpenCloseRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13705748" author="hudson" created="Thu, 11 Jul 2013 12:23:30 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #175 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/175/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/175/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8920&quot; title=&quot;TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8920&quot;&gt;&lt;del&gt;HBASE-8920&lt;/del&gt;&lt;/a&gt; TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally (Revision 1502133)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestZKBasedOpenCloseRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13705817" author="hudson" created="Thu, 11 Jul 2013 13:34:41 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #609 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/609/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/609/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8920&quot; title=&quot;TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8920&quot;&gt;&lt;del&gt;HBASE-8920&lt;/del&gt;&lt;/a&gt; TestZKBasedOpenCloseRegion.testReOpenRegion fails occasionally (Revision 1502132)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestZKBasedOpenCloseRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728017" author="stack" created="Fri, 2 Aug 2013 19:54:48 +0000"  >&lt;p&gt;Commit seems to have fixed this issue.  Resolving.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591708" name="8920.txt" size="19561" author="stack" created="Wed, 10 Jul 2013 19:43:46 +0000"/>
                            <attachment id="12591723" name="8920v2.txt" size="18764" author="stack" created="Wed, 10 Jul 2013 20:59:10 +0000"/>
                            <attachment id="12591711" name="8920v2.txt" size="19587" author="stack" created="Wed, 10 Jul 2013 20:12:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Jul 2013 20:02:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m6tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>