<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:36:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12820/HBASE-12820.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12820] Use table lock instead of MobZookeeper</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12820</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We had a lock to synchronize the major compaction, and sweep tool. Now we will have MR-less mob compaction in the HBase, and need the lock as well. And the table lock is a better choice. In this JIRA, clean the MobZookeeper code and use TableLockManager instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765557">HBASE-12820</key>
            <summary>Use table lock instead of MobZookeeper</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12721032">HBASE-11339</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingcheng.du@intel.com">Jingcheng Du</assignee>
                                    <reporter username="jingcheng.du@intel.com">Jingcheng Du</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jan 2015 06:32:37 +0000</created>
                <updated>Wed, 22 Jul 2015 22:48:52 +0000</updated>
                            <resolved>Sat, 24 Jan 2015 06:09:10 +0000</resolved>
                                    <version>hbase-11339</version>
                                    <fixVersion>hbase-11339</fixVersion>
                                    <component>regionserver</component>
                    <component>Scanners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14269078" author="jingcheng.du@intel.com" created="Thu, 8 Jan 2015 09:37:23 +0000"  >&lt;p&gt;Upload the patch. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, please help look at it. Thanks!&lt;/p&gt;</comment>
                            <comment id="14269088" author="jingcheng.du@intel.com" created="Thu, 8 Jan 2015 09:42:58 +0000"  >&lt;p&gt;The patch is uploaded to the RB, you could find it through &lt;a href=&quot;https://reviews.apache.org/r/29703/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/29703/&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14270639" author="jingcheng.du@intel.com" created="Fri, 9 Jan 2015 06:39:25 +0000"  >&lt;p&gt;Upload the patch V2 to remove the redundant empty space.&lt;/p&gt;</comment>
                            <comment id="14274750" author="jingcheng.du@intel.com" created="Tue, 13 Jan 2015 05:35:28 +0000"  >&lt;p&gt;Update the patch according to the comments of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;. All the test cases (including the non-mob ones) are passed.&lt;/p&gt;</comment>
                            <comment id="14279741" author="ram_krish" created="Fri, 16 Jan 2015 02:47:36 +0000"  >&lt;p&gt;Just one comment in RB. Will commit after that. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingchengdu&quot; class=&quot;user-hover&quot; rel=&quot;jingchengdu&quot;&gt;JingchengDu&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14279750" author="jingcheng.du@intel.com" created="Fri, 16 Jan 2015 02:57:58 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;. I&apos;ve replied it in RB.&lt;/p&gt;</comment>
                            <comment id="14279755" author="jingcheng.du@intel.com" created="Fri, 16 Jan 2015 03:10:02 +0000"  >&lt;p&gt;Update the patch according to Ram&apos;s comments. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14279872" author="anoop.hbase" created="Fri, 16 Jan 2015 06:31:23 +0000"  >&lt;p&gt;Sorry for the delay.. I have some Qs /comments.  Pls hold off commit Ram.&lt;/p&gt;</comment>
                            <comment id="14279897" author="anoop.hbase" created="Fri, 16 Jan 2015 07:01:06 +0000"  >&lt;p&gt;TableLock is a broader one and we might delay other lock needed ops unwanted. This is my major concern.&lt;/p&gt;

&lt;p&gt;Had some discussion with Jingcheng and some ways have come out.. He would add details.&lt;/p&gt;

&lt;p&gt;Pls don&apos;t commit.&lt;/p&gt;</comment>
                            <comment id="14279963" author="jingcheng.du@intel.com" created="Fri, 16 Jan 2015 08:17:45 +0000"  >&lt;p&gt;Thanks Anoop &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;.&lt;br/&gt;
Currently we use table locks in the major compaction of mob-enabled column, sweeper and native mob compaction.&lt;br/&gt;
The major compactions of mob-enabled columns use read locks, and the other two use write locks.&lt;br/&gt;
The write locks might block the usages other than mob, for instance the region split, etc.&lt;br/&gt;
So is it ok to use a dummy table name for the table lock used in the mob? For instance, use tableName + &quot;.mobLock&quot; as the dummy table name? Please advise. Thanks.&lt;/p&gt;</comment>
                            <comment id="14283582" author="jingcheng.du@intel.com" created="Tue, 20 Jan 2015 08:23:02 +0000"  >&lt;p&gt;Upload the patch V5 to use a table lock with a dummy table name in mob.&lt;/p&gt;</comment>
                            <comment id="14283583" author="jingcheng.du@intel.com" created="Tue, 20 Jan 2015 08:24:08 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, please review and comment. Thanks.&lt;/p&gt;</comment>
                            <comment id="14285268" author="jingcheng.du@intel.com" created="Wed, 21 Jan 2015 06:58:10 +0000"  >&lt;p&gt;Update the patch according to Ram&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="14288985" author="jingcheng.du@intel.com" created="Fri, 23 Jan 2015 08:57:07 +0000"  >&lt;p&gt;Update the patch V7 according to Anoop&apos;s comments. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14290459" author="anoop.hbase" created="Sat, 24 Jan 2015 06:08:46 +0000"  >&lt;p&gt;Pushed to branch hbase-11339.  Thanks Jingcheng.&lt;/p&gt;</comment>
                            <comment id="14637853" author="hudson" created="Wed, 22 Jul 2015 22:48:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12820&quot; title=&quot;Use table lock instead of MobZookeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12820&quot;&gt;&lt;del&gt;HBASE-12820&lt;/del&gt;&lt;/a&gt; Use table lock instead of MobZookeeper.(Jingcheng Du) (anoopsamjohn: rev fbbb3249d9ef6aa5bf12ca2abbf67f4a89c86c18)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mob/mapreduce/TestMobSweeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/mapreduce/SweepReducer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/mapreduce/SweepMapper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestMobCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/mapreduce/SweepJobNodeTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobUtils.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mob/mapreduce/TestMobSweepReducer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobZookeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mob/mapreduce/TestMobSweepMapper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HMobStore.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/mapreduce/SweepJob.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12760838">HBASE-12669</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12737853">HBASE-11861</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12691058" name="HBASE-12820-V2.diff" size="49785" author="jingcheng.du@intel.com" created="Fri, 9 Jan 2015 06:39:25 +0000"/>
                            <attachment id="12691852" name="HBASE-12820-V3.diff" size="50305" author="jingcheng.du@intel.com" created="Tue, 13 Jan 2015 05:35:28 +0000"/>
                            <attachment id="12692679" name="HBASE-12820-V4.diff" size="50403" author="jingcheng.du@intel.com" created="Fri, 16 Jan 2015 03:10:02 +0000"/>
                            <attachment id="12693259" name="HBASE-12820-V5.diff" size="52076" author="jingcheng.du@intel.com" created="Tue, 20 Jan 2015 08:23:02 +0000"/>
                            <attachment id="12693527" name="HBASE-12820-V6.diff" size="55171" author="jingcheng.du@intel.com" created="Wed, 21 Jan 2015 06:58:10 +0000"/>
                            <attachment id="12694118" name="HBASE-12820-V7.diff" size="55465" author="jingcheng.du@intel.com" created="Fri, 23 Jan 2015 08:57:07 +0000"/>
                            <attachment id="12690789" name="HBASE-12820.diff" size="49786" author="jingcheng.du@intel.com" created="Thu, 8 Jan 2015 09:37:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Jan 2015 02:47:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i242bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>