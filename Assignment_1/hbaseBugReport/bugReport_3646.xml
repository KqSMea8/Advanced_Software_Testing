<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:11:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3646/HBASE-3646.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3646] When mapper writes multiple values for a key keep chronological order of values</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3646</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When mapper writes multiple values for a key, the underlying collection class maps each of the values to the key, but not always in chronological order. If chronological order were guaranteed each of the values mapped to the key, each of the values could be understood as specific and different parameters between the mapper and the reducer.&lt;/p&gt;

&lt;p&gt;I&apos;ve done little tricks like having the mapper flag one a the values by making it a negative number, which the reducer recognizes and can write it to hbase as a unique column value.This is a kluge workaround which it would be nice to not have to do.&lt;/p&gt;

&lt;p&gt;Used to formulate this suggestion:&lt;br/&gt;
TableMapper&amp;lt;ImmutableBytesWritable,IntWritable&amp;gt;&lt;br/&gt;
TableReducer&amp;lt;ImmutableBytesWritable,IntWritable, ImmutableBytesWritable&amp;gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cloudera 3.5 VM &lt;br/&gt;
TableMapper&amp;lt;ImmutableBytesWritable,IntWritable&amp;gt;&lt;br/&gt;
TableReducer&amp;lt;ImmutableBytesWritable,IntWritable, ImmutableBytesWritable&amp;gt;&lt;/p&gt;</environment>
        <key id="12501451">HBASE-3646</key>
            <summary>When mapper writes multiple values for a key keep chronological order of values</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cummins_robert@bah.com">Bob Cummins</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Mar 2011 12:39:05 +0000</created>
                <updated>Tue, 9 Oct 2012 22:20:53 +0000</updated>
                            <resolved>Tue, 9 Oct 2012 22:20:53 +0000</resolved>
                                    <version>0.90.1</version>
                                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13007073" author="stack" created="Tue, 15 Mar 2011 18:29:38 +0000"  >&lt;p&gt;@Bob Is that just a matter of changing the data structure that is at core of Context?&lt;/p&gt;</comment>
                            <comment id="13007739" author="cummins_robert@bah.com" created="Wed, 16 Mar 2011 23:28:35 +0000"  >&lt;p&gt;Yes, and an index argument for the write method could be helpful.&lt;/p&gt;</comment>
                            <comment id="13008309" author="stack" created="Fri, 18 Mar 2011 03:28:28 +0000"  >&lt;p&gt;Any chance of a patch Bob?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13008681" author="cummins_robert@bah.com" created="Fri, 18 Mar 2011 23:42:30 +0000"  >&lt;p&gt;ok--I&apos;ll produce a patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="13106724" author="jesse_yates" created="Fri, 16 Sep 2011 19:10:01 +0000"  >&lt;p&gt;@Bob How is this patch coming along? If you guys have dropped it, I would be interested in taking a stab at it.&lt;/p&gt;

&lt;p&gt;@stack Is this ticket even still valid? Should we bump the version number?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13106751" author="stack" created="Fri, 16 Sep 2011 19:41:14 +0000"  >&lt;p&gt;@Jesse I don&apos;t think anything in here is changed so I&apos;d say this patch still needed.&lt;/p&gt;</comment>
                            <comment id="13107210" author="jesse_yates" created="Sat, 17 Sep 2011 18:58:45 +0000"  >&lt;p&gt;@Bob (or @stack) what is meant by &apos;chronological order&apos; - the timestamp from HBase or the time that the key is written into the context? Also, in what context would the index argument be used? Would you be mapping values back to a row? When passing ImmutableBytesWritable to the reducer, are you just passing the Row returned from TableRecordReader or your own version? Sending the KeyValue pairs from the Result seems to make more sense, at least at first blush, to me.&lt;/p&gt;

&lt;p&gt;I&apos;m looking at this issue sight unseen (rather than actually having the problem myself), so a little in the dark. &lt;/p&gt;

&lt;p&gt;Been thinking about this for a while (and dug into the code a bit), and I&apos;m thinking this may be a straight patch to org.apahe.hadoop.mapreduce.Mapper.Context (est. in the first comment), if we need to do anything at all. Then given that, do we even need to maintain this ticket? Is it just going to be used track the change we would need to make in Hadoop-core?&lt;/p&gt;

&lt;p&gt;It seems like if we were going to add something to hbase it would be a class that would bind kVs together and be comparable (a KeyValue that is WritableComparable) including sorting wrt timestamp (it that is what is meant be chronological). So just adding compareTo(KV) using the KeyValueComparator.&lt;/p&gt;</comment>
                            <comment id="13109420" author="cummins_robert@bah.com" created="Wed, 21 Sep 2011 11:45:08 +0000"  >&lt;p&gt;Jesse,&lt;/p&gt;

&lt;p&gt; I&apos;ll get back to you soon.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Bob&lt;/p&gt;

&lt;p&gt;Robert T. Cummins, Jr.    CEH, LPIC-1, CREA, CPT, GSEC, Network+&lt;/p&gt;</comment>
                            <comment id="13469703" author="lhofhansl" created="Thu, 4 Oct 2012 21:09:29 +0000"  >&lt;p&gt;Any update on this?&lt;/p&gt;</comment>
                            <comment id="13469720" author="jesse_yates" created="Thu, 4 Oct 2012 21:19:37 +0000"  >&lt;p&gt;Nope  - I have no idea what Bob was after with this. I&apos;m okay if we want to close this as won&apos;t fix/can&apos;t reproduce.&lt;/p&gt;</comment>
                            <comment id="13472798" author="stack" created="Tue, 9 Oct 2012 22:20:53 +0000"  >&lt;p&gt;Closing for now.  Open a new issue when a patch Bob.  Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Mar 2011 18:29:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i028mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>