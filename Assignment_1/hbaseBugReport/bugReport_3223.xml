<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3223/HBASE-3223.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3223] Get VersionInfo for Running HBase Process</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3223</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;bin/hbase VersionInfo is a great existing utility to provide version info about Hbase jar files.  Unfortunately, there is no way to currently get this information for the running process.  For this jira, add an easy/quick way to see verify the rev of the running jar.&lt;/p&gt;

&lt;p&gt;We got recently bit internally because our running jar was a different version from the jar that we had recently pushed and caused havoc on our cluster.  This problem is more important to fix now that we have rolling upgrades and will regularly have cluster scenarios with mixed-version RSs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479668">HBASE-3223</key>
            <summary>Get VersionInfo for Running HBase Process</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nspiegelberg">Nicolas Spiegelberg</assignee>
                                    <reporter username="nspiegelberg">Nicolas Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Nov 2010 00:47:34 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:46 +0000</updated>
                            <resolved>Mon, 29 Nov 2010 20:32:30 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12930881" author="hbasereviewboard" created="Thu, 11 Nov 2010 01:20:13 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1209/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1209/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;bin/hbase VersionInfo is a great existing utility to provide version info about Hbase jar files. Unfortunately, there is no way to currently get this information for the running process. For this jira, add an easy/quick way to see verify the rev of the running jar.&lt;br/&gt;
We got recently bit internally because our running jar was a different version from the jar that we had recently pushed and caused havoc on our cluster. This problem is more important to fix now that we have rolling upgrades and will regularly have cluster scenarios with mixed-version RSs.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3223&quot; title=&quot;Get VersionInfo for Running HBase Process&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3223&quot;&gt;&lt;del&gt;HBASE-3223&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HBASE-3223&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HBASE-3223&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/src/main/java/org/apache/hadoop/hbase/master/metrics/MasterMetrics.java 1033788 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/metrics/HBaseInfo.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/metrics/MetricsMBeanBase.java 1033788 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/metrics/MetricsString.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/regionserver/metrics/RegionServerMetrics.java 1033788 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1209/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1209/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;loaded on dev cluster and verified that we this was exported via JMX&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Nicolas&lt;/p&gt;

</comment>
                            <comment id="12930885" author="hbasereviewboard" created="Thu, 11 Nov 2010 01:24:13 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1209/#review1899&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1209/#review1899&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/metrics/MetricsMBeanBase.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1209/#comment6122&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1209/#comment6122&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    both LOG info messages can be taken out.  this was from debug&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Nicolas&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12930934" author="stack" created="Thu, 11 Nov 2010 05:57:19 +0000"  >&lt;p&gt;Marking as patch available&lt;/p&gt;</comment>
                            <comment id="12930935" author="hbasereviewboard" created="Thu, 11 Nov 2010 05:58:15 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1209/#review1905&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1209/#review1905&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;This looks like nice utility.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;stack&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12931640" author="nspiegelberg" created="Sat, 13 Nov 2010 06:21:29 +0000"  >&lt;p&gt;With the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3223&quot; title=&quot;Get VersionInfo for Running HBase Process&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3223&quot;&gt;&lt;del&gt;HBASE-3223&lt;/del&gt;&lt;/a&gt;.patch applied, HBase gets an ERROR message every time JMX metrics are pushed.  This is actually a false positive, it does not affect any functionality.  Small patch to fix that false positive.&lt;/p&gt;</comment>
                            <comment id="12964929" author="stack" created="Mon, 29 Nov 2010 20:32:30 +0000"  >&lt;p&gt;Committed branch and trunk.  Thanks for patch Nicolas.&lt;/p&gt;</comment>
                            <comment id="12975457" author="larsgeorge" created="Tue, 28 Dec 2010 09:48:58 +0000"  >&lt;p&gt;Just a question, wouldn&apos;t it make sense to add this to VersionInfo too? Or is that for static/build-time into only? &lt;/p&gt;</comment>
                            <comment id="12975586" author="nspiegelberg" created="Tue, 28 Dec 2010 19:03:13 +0000"  >&lt;p&gt;@Lars: correct assumption.  The idea is that &apos;bin/hbase VersionInfo&apos; gives info about the jar that is resident in the HBase dir, whereas JMX will give you the info about the currently running HBase process.  I guess you could build a JMX client into VersionInfo to give you both pieces of information, but I see a couple things problematic with that:&lt;/p&gt;

&lt;p&gt;1. you would need to refactor the Hadoop VersionInfo for consistency&lt;br/&gt;
2. you would want to have JMX also give you static info for consistency.  That&apos;s a little hacky to accomplish.&lt;br/&gt;
3. you run into a little bit of confusion in psuedo-distributed mode, where you have multiple JMX servers but only one HBase dir.  I guess you do a JMX port scan and query every candidate you find?&lt;/p&gt;</comment>
                            <comment id="12975587" author="stack" created="Tue, 28 Dec 2010 19:03:42 +0000"  >&lt;p&gt;@Lars Say more.  I don&apos;t follow.  VersionInfo is static info, yeah.  What would you add?&lt;/p&gt;</comment>
                            <comment id="12975591" author="stack" created="Tue, 28 Dec 2010 19:09:13 +0000"  >&lt;p&gt;@Lars.  Ignore my remark.  N is on it.&lt;/p&gt;</comment>
                            <comment id="12975749" author="larsgeorge" created="Wed, 29 Dec 2010 09:36:03 +0000"  >&lt;p&gt;Wow, you two posted at the exact same minute - jinx! &lt;/p&gt;

&lt;p&gt;The part with VersionInfo is fine, I am just all for giving the user the info he/she needs as easy as possible. Maybe we can add a counterpart that can be called like the old &quot;shell &amp;gt; status&quot; in the shell to poll this from JMX and report it, similar to the ZK dump (we once had). We can open a new issue if this comes up again?&lt;/p&gt;</comment>
                            <comment id="12975936" author="nspiegelberg" created="Wed, 29 Dec 2010 22:23:47 +0000"  >&lt;p&gt;I agree with the idea that you need easy setup &amp;amp; access to information.  I think, however, that people will mainly care about the running process version when they actually have a cluster up, working, and being upgraded to fix perceived shortcomings in the system.  If you have a working cluster and you don&apos;t already have some monitoring tools setup (hopefully, with some tool that can read JMX), God help that admin.  He needs more visibility than just the version number.&lt;/p&gt;</comment>
                            <comment id="12984870" author="stack" created="Fri, 21 Jan 2011 19:05:38 +0000"  >&lt;p&gt;Fix was included in 0.90.0.&lt;/p&gt;</comment>
                            <comment id="15017066" author="lars_francke" created="Fri, 20 Nov 2015 12:41:46 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459519" name="HBASE-3223-fix.patch" size="754" author="nspiegelberg" created="Sat, 13 Nov 2010 06:21:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Nov 2010 01:20:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hla7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>