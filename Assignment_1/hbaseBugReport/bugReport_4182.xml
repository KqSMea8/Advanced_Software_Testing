<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:16:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4182/HBASE-4182.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4182] NullPointerException when loadbalancer tries to close the region for reassigning to new RS.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4182</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;1. Start 2 RS.  Create some regions so that is is balanced.&lt;br/&gt;
2. Stop RS2.  Now all the Regions from RS2 are assigned to RS1.&lt;br/&gt;
3. Again start RS2.&lt;br/&gt;
4. Load Balancing is calculated and few regions from RS1 are assigned to RS2.&lt;br/&gt;
As part of this step Master tries to unassign the regions from RS1.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;          RegionTransitionData data = ZKAssign.getDataNoWatch(zkw, ZKAssign
              .getNodeName(zkw, region.getEncodedName()), null);
          if (data.equals(EventType.RS_ZK_REGION_CLOSING)) {
            ZKAssign.createNodeClosing(zkw, region, master.getServerName());
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now there is no data present in the unassigned node.  We are directly comparing the data.&lt;br/&gt;
Here data is null. Hence nullpointer exception is thrown.&lt;br/&gt;
Hence load balancing fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518305">HBASE-4182</key>
            <summary>NullPointerException when loadbalancer tries to close the region for reassigning to new RS.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Aug 2011 10:39:41 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:08 +0000</updated>
                            <resolved>Tue, 9 Aug 2011 11:23:19 +0000</resolved>
                                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13081556" author="ram_krish" created="Tue, 9 Aug 2011 10:40:13 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2011-08-09 16:04:57,429 INFO org.apache.hadoop.hbase.master.LoadBalancer: Calculated a load balance in 1ms. Moving 3 regions off of 1 overloaded servers onto 1 less loaded servers
2011-08-09 16:04:57,429 INFO org.apache.hadoop.hbase.master.HMaster: balance hri=t5,,1312885663262.e59e66fa2535da2a2feccdffbf22063c., src=linux76,60020,1312885513666, dest=linux146,60020,1312885914318
2011-08-09 16:05:06,832 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Starting unassignment of region t5,,1312885663262.e59e66fa2535da2a2feccdffbf22063c. (offlining)
2011-08-09 16:05:49,343 ERROR org.apache.hadoop.hbase.master.HMaster$1: Caught exception
java.lang.NullPointerException
	at org.apache.hadoop.hbase.master.AssignmentManager.unassign(AssignmentManager.java:1563)
	at org.apache.hadoop.hbase.master.AssignmentManager.unassign(AssignmentManager.java:1527)
	at org.apache.hadoop.hbase.master.AssignmentManager.balance(AssignmentManager.java:2535)
	at org.apache.hadoop.hbase.master.HMaster.balance(HMaster.java:832)
	at org.apache.hadoop.hbase.master.HMaster$1.chore(HMaster.java:704)
	at org.apache.hadoop.hbase.Chore.run(Chore.java:66)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13081572" author="ram_krish" created="Tue, 9 Aug 2011 11:31:00 +0000"  >&lt;p&gt;In my code base i had that piece of code.  but after investigation found that the piece of code no longer&lt;br/&gt;
existed. so invalidating. Sorry for the inconvenience caused.&lt;/p&gt;</comment>
                            <comment id="15015913" author="lars_francke" created="Fri, 20 Nov 2015 11:53:08 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Nov 2015 11:53:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hprj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>