<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:23:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4916/HBASE-4916.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4916] LoadTest MR Job</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4916</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add a script to start a streaming map-reduce job where each map tasks runs an instance of the load tester for a partition of the key-space. Ensure that the load tester takes a parameter indicating the start key for write operations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533371">HBASE-4916</key>
            <summary>LoadTest MR Job</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12533357">HBASE-4907</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nspiegelberg">Nicolas Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Nov 2011 23:12:59 +0000</created>
                <updated>Tue, 21 Apr 2015 00:41:14 +0000</updated>
                            <resolved>Tue, 21 Apr 2015 00:41:14 +0000</resolved>
                                                                    <component>Client</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13160455" author="nspiegelberg" created="Wed, 30 Nov 2011 23:33:24 +0000"  >&lt;p&gt;Need to port from 89-fb.  See SVN #1181975 &amp;amp; #1181977.&lt;/p&gt;</comment>
                            <comment id="13166747" author="phabricator@reviews.facebook.net" created="Sat, 10 Dec 2011 02:24:40 +0000"  >&lt;p&gt;cgist requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  MR-based load tester with pluggable workloads&lt;/p&gt;

&lt;p&gt;  This is a new load tester for HBase which supports pluggable workloads&lt;br/&gt;
  and more flexibility in configuring how the load is exercised. This load&lt;br/&gt;
  tester runs as a native map reduce job. Interfaces which define the&lt;br/&gt;
  workloads can be extended for specific testing. The intensity of a load&lt;br/&gt;
  can be controlled by the number of clients, number of threads and&lt;br/&gt;
  desired operations per second.&lt;/p&gt;

&lt;p&gt;  Add a script to start a streaming map-reduce job where each map tasks runs an instance of the load tester for a partition of the key-space. Ensure that the load tester takes a parameter indicating the start key for write operations.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/CompositeOperationGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/DataGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/GetGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/GetOperation.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/KeyCounter.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/MixedWorkloadGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/Operation.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/OperationGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/PutGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/PutOperation.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/PutReGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/RandomDataGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/SeparateWorkloadGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/StatsCollector.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/VersionWorkloadGenerator.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/Workload.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/mapreduce/Driver.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/mapreduce/LoadTest.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1587/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1587/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13173687" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 00:37:30 +0000"  >&lt;p&gt;mbautin has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;br/&gt;
Added CCs: jdcryans, stack, tedyu, todd&lt;/p&gt;

&lt;p&gt;  @stack, @tedyu, @todd, @jdcryans: this is a versatile map-reduce-based load tester that our intern Christopher Gist wrote. While there might be some overlap with PerformanceEvaluation and LoadTestTool, this load tester was developed and debugged independently and has already been useful to us in real-world tasks. Could you please take a quick look and let us know what you think is the best strategy of integrating this into the trunk?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13173874" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 05:55:30 +0000"  >&lt;p&gt;stack has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;/p&gt;

&lt;p&gt;  I started to review code then gave up to look more at what is attached.&lt;/p&gt;

&lt;p&gt;  This looks better than PE and more easily extended IMO.  Good documentation (could do w/ a package-info with overview of what it is and simple howto run it).  Nice it adds itself to Driver.  I think we should commit it after some fixup/review.  I think it should go into tools package rather than into loadtest package so it&apos;d be tools.loadtest.&lt;/p&gt;

&lt;p&gt;  Nice one.&lt;/p&gt;





&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/CompositeOperationGenerator.java:1 Missing license.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/CompositeOperationGenerator.java:11 This looks promising&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/CompositeOperationGenerator.java:78 isEmpty is cheaper than size() == 0&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/CompositeOperationGenerator.java:90 These exceptions could come out here?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/DataGenerator.java:36 Whats a column?  A cf+qualifier written as cf:qualifier?  Or is this just a cf?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/DataGenerator.java:71 Only longs allowed as keys?  Is key == row?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/DataGenerator.java:75 This should be called constructPut rather than constructBulkPut&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/DataGenerator.java:90 long key &apos;as String&apos;...&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/GetGenerator.java:109 Should be logged at least rather than printStackTrace&apos;d?   Should we let it out?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/GetOperation.java:47 Logged rather than printed&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/KeyCounter.java:32 There is an upper bound?  Don&apos;t we need an upper bound so mappers don&apos;t overlap?  Or is that not wanted?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/KeyCounter.java:72 Why assign here?  Why not declare and allocate in the one go?  Could make the data members final then.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/KeyCounter.java:78 Should be seeded?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13174218" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 17:03:30 +0000"  >&lt;p&gt;stack has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;/p&gt;

&lt;p&gt;  Looking back at PE, here is what it has that this tool doesn&apos;t and in some cases might be hard to add:&lt;/p&gt;

&lt;p&gt;  + Runs against minicluster (Should be easy to add)&lt;br/&gt;
  + Can sequential read/writes (Not so important, though sequential write can be interesting)&lt;br/&gt;
  + Can do scan tests; random 10 items, random 100, etc.&lt;/p&gt;

&lt;p&gt;  Stuff this tool can do that would need to be added to PE:&lt;/p&gt;

&lt;p&gt;  + PE needs to do more work per mapper; at moment doing dumb stuff like running 24 mappers per TT just to get the load up&lt;br/&gt;
  + Better load profiles; PE loading is regular&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13174249" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 17:41:30 +0000"  >&lt;p&gt;tedyu has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;/p&gt;

&lt;p&gt;  Nice tool.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/GetGenerator.java:81 Should be seeded.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/RandomDataGenerator.java:94 Please seed as what is done at line 61.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/KeyCounter.java:103 I think we should add some message to NoKeysException so that this scenario can be distinguished from that of line 90.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13174365" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 19:57:30 +0000"  >&lt;p&gt;jdcryans has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;/p&gt;

&lt;p&gt;  I tried using it on my 0.92 cluster, had to backport HexStringSplit but no biggie, but I encountered a few usability issues.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Why is -zk mandatory? It seems that by default it should use the one provided in HBaseConfiguration.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;There is no help, not even for basic usage like when I tried to use it the first time without arguments all I got was this and it doesn&apos;t tell me what the switch is:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  jdcryans@sv4r11s38:~/hbase$ ./bin/hbase org.apache.hadoop.hbase.mapreduce.LoadTest&lt;br/&gt;
  ZooKeeper quorum must be specified&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The workloads need their own documentation too, currently unless you dig in the code you won&apos;t know how to properly tune them.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;VersionWorkloadGenerator and MixedWorkloadGenerator don&apos;t work with their default values, they both hit this in their reducers and the reason is that delayNS ends up at 0:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  11/12/21 19:45:43 INFO mapred.JobClient: Task Id : attempt_201112142134_0063_r_000008_2, Status : FAILED&lt;br/&gt;
  java.lang.IllegalArgumentException&lt;br/&gt;
  	at java.util.concurrent.ScheduledThreadPoolExecutor.scheduleAtFixedRate(ScheduledThreadPoolExecutor.java:420)&lt;br/&gt;
  	at org.apache.hadoop.hbase.loadtest.Workload$Executor.start(Workload.java:229)&lt;br/&gt;
  	at org.apache.hadoop.hbase.mapreduce.LoadTest$Reduce.reduce(LoadTest.java:158)&lt;br/&gt;
  	at org.apache.hadoop.hbase.mapreduce.LoadTest$Reduce.reduce(LoadTest.java:124)&lt;br/&gt;
  	at org.apache.hadoop.mapreduce.Reducer.run(Reducer.java:176)&lt;br/&gt;
  	at org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:572)&lt;br/&gt;
  	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:414)&lt;br/&gt;
  	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
  	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
  	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
  	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1154)&lt;br/&gt;
  	at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Finally, and I&apos;m not sure if you can do something about it, some tasks fail in this way on my cluster:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  11/12/21 19:45:31 INFO mapred.JobClient: Task Id : attempt_201112142134_0063_r_000008_1, Status : FAILED&lt;br/&gt;
  java.lang.Throwable: Child Error&lt;br/&gt;
  	at org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:242)&lt;br/&gt;
  Caused by: java.io.IOException: Task process exit with nonzero status of 1.&lt;br/&gt;
  	at org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:229)&lt;/p&gt;

&lt;p&gt;  And in the stderr:&lt;/p&gt;

&lt;p&gt;  Error: Exception thrown by the agent : java.rmi.server.ExportException: Port already in use: 8991; nested exception is:&lt;br/&gt;
          java.net.BindException: Address already in use&lt;/p&gt;

&lt;p&gt;  It would be nice if it was bubbled up, but I understand if you don&apos;t have control over it.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13174473" author="phabricator@reviews.facebook.net" created="Wed, 21 Dec 2011 23:01:30 +0000"  >&lt;p&gt;jdcryans has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;/p&gt;

&lt;p&gt;  Doing further testing, I got this while running an online merge (that took 1721 seconds to run because it counts parent regions):&lt;/p&gt;

&lt;p&gt;  Exception in thread &quot;pool-2-thread-186&quot; java.lang.NullPointerException&lt;br/&gt;
  	at org.apache.hadoop.hbase.loadtest.RandomDataGenerator.verify(RandomDataGenerator.java:106)&lt;br/&gt;
  	at org.apache.hadoop.hbase.loadtest.GetOperation.postAction(GetOperation.java:45)&lt;br/&gt;
  	at org.apache.hadoop.hbase.loadtest.Operation.run(Operation.java:126)&lt;br/&gt;
  	at org.apache.hadoop.hbase.loadtest.Workload$Executor$BoundedExecutor$1.run(Workload.java:269)&lt;br/&gt;
  	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
  	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13175152" author="phabricator@reviews.facebook.net" created="Thu, 22 Dec 2011 23:35:30 +0000"  >&lt;p&gt;jdcryans has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4916&quot; title=&quot;LoadTest MR Job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4916&quot;&gt;&lt;del&gt;HBASE-4916&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LoadTest MR Job&quot;.&lt;/p&gt;

&lt;p&gt;  Another day of testing later, here&apos;s what I think of the current patch:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I like being able to drive a lot of load from just a few mappers, this is definitely something YCSB and PE can&apos;t do.&lt;/li&gt;
	&lt;li&gt;Being able to mix things is fun too, with PE I&apos;d have to start 2 tests. With YCSB it&apos;s more versatile tho since you can tweak more than just random reads and writes.&lt;/li&gt;
	&lt;li&gt;Regarding the work loads, it&apos;s also much easier to do in YCSB as you don&apos;t have to write code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  My other comments are in the code below.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/mapreduce/LoadTest.java:197 HBC.create()  ??&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/Workload.java:100 I understand why the table is recreated every time (you need to know the existing keys), but this is also a big flaw for this load tester. If you have a respectable number of nodes, it&apos;s takes a lot of time to generate enough data so that your block cache/OS cache cannot hold all the data. Being able to restart using an existing table is a must have IMO.&lt;/p&gt;

&lt;p&gt;  How are you guys using it?&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/Workload.java:136 I think this should be configurable.&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/loadtest/GetGenerator.java:97 This is one of the other big problem with this load generator, the only pattern is random. YCSB let&apos;s you do that but also offers zipf or latest distribution.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D741&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13180143" author="nspiegelberg" created="Thu, 5 Jan 2012 02:43:49 +0000"  >&lt;p&gt;@Karthik: you were cgist&apos;s mentor for his internship.  what is the status of this feature?&lt;/p&gt;</comment>
                            <comment id="13188232" author="nspiegelberg" created="Wed, 18 Jan 2012 03:06:16 +0000"  >&lt;p&gt;changing status to &quot;patch available&quot; for trunk&lt;/p&gt;</comment>
                            <comment id="13188262" author="hadoopqa" created="Wed, 18 Jan 2012 03:46:17 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12506822/HBASE-4916.D741.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12506822/HBASE-4916.D741.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -145 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 91 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestClassLoading&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/803//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/803//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/803//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/803//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/803//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/803//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13234577" author="lhofhansl" created="Wed, 21 Mar 2012 17:43:07 +0000"  >&lt;p&gt;@Nicolas: Want this in 0.94? Is it ready?&lt;/p&gt;</comment>
                            <comment id="13235655" author="lhofhansl" created="Thu, 22 Mar 2012 15:39:44 +0000"  >&lt;p&gt;Moving out of 0.94, pull back if you disagree.&lt;/p&gt;</comment>
                            <comment id="13639820" author="stack" created="Tue, 23 Apr 2013 23:24:16 +0000"  >&lt;p&gt;Moving issue w/ no recent movement out of 0.95&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506822" name="ASF.LICENSE.NOT.GRANTED--HBASE-4916.D741.1.patch" size="92446" author="phabricator@reviews.facebook.net" created="Sat, 10 Dec 2011 02:24:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 10 Dec 2011 02:24:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i015zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>