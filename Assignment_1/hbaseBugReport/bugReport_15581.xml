<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:05:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15581/HBASE-15581.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15581] Reduce garbage created by PB in write path</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15581</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Changes such that PB code will not make much garbage.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12955392">HBASE-15581</key>
            <summary>Reduce garbage created by PB in write path</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12954202">HBASE-15555</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Apr 2016 18:52:53 +0000</created>
                <updated>Sat, 2 Apr 2016 17:51:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="15222195" author="anoop.hbase" created="Fri, 1 Apr 2016 19:12:43 +0000"  >&lt;p&gt;PB 2.6.0 onwards having some ways of reducing garbage and avoid some copying.&lt;br/&gt;
eg: CIS#readBytes&lt;br/&gt;
If the bytes, created the CIS, specified as immutable, it avoids a copy.&lt;/p&gt;

&lt;p&gt;Right now in write path when Mutation comes as PB object,  for field like row,   internally PB creates a ByteString representation and on which we call toByteArray()&lt;br/&gt;
The request bytes 1st copied from socket to a large byte array.  PB then create CIS over this.  Create ByteString by a copy. On that BS we call toByteArray() which will do again one more copy.&lt;/p&gt;

&lt;p&gt;We can avoid many copied.&lt;/p&gt;</comment>
                            <comment id="15222305" author="stack" created="Fri, 1 Apr 2016 20:31:25 +0000"  >&lt;p&gt;Hurray. Want to go to PB2.6? We&apos;ll have to shade?&lt;/p&gt;</comment>
                            <comment id="15222644" author="anoop.hbase" created="Sat, 2 Apr 2016 01:57:41 +0000"  >&lt;p&gt;Ya at least move to 2.6.0..  When/if we need PB to work with DBB,  we will add this work on top of 2.6 base.  Ya shading might be better choice.. Will see this part.&lt;/p&gt;</comment>
                            <comment id="15222646" author="eclark" created="Sat, 2 Apr 2016 01:59:29 +0000"  >&lt;p&gt;We need to get all the PB out of api&apos;s before we can move to a shaded 2.6.&lt;/p&gt;</comment>
                            <comment id="15222656" author="anoop.hbase" created="Sat, 2 Apr 2016 02:20:37 +0000"  >&lt;p&gt;+1.. Which is that Jira Elliot?  I can take that up first or request some one help &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15222979" author="eclark" created="Sat, 2 Apr 2016 17:51:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15174&quot; title=&quot;Client Public API should not have PB objects in 2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15174&quot;&gt;&lt;del&gt;HBASE-15174&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Apr 2016 20:31:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vj6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>