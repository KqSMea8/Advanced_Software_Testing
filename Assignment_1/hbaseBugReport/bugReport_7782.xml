<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:49:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7782/HBASE-7782.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7782] HBaseTestingUtility.truncateTable() not acting like CLI</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7782</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I would like to discuss the behavior of the truncateTable() method of HBaseTestingUtility. It&apos;s currently only removing the data through a scan/delete pattern.&lt;/p&gt;

&lt;p&gt;However, the truncate command in CLI is doing additional things: it disables the tables, drop, creates (with similar column descriptors) and then enables the table.&lt;/p&gt;

&lt;p&gt;I think the truncateTable() method is misleading; for example I used it to force a coprocessor to be reloaded, but it did not. Of course I can disable and enable the table by myself within my unit test, but perhaps it deserves to be discussed?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12631136">HBASE-7782</key>
            <summary>HBaseTestingUtility.truncateTable() not acting like CLI</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="busbey">Sean Busbey</assignee>
                                    <reporter username="cf357">Adrien Mogenet</reporter>
                        <labels>
                            <label>cli</label>
                            <label>hbasetest</label>
                            <label>test</label>
                    </labels>
                <created>Wed, 6 Feb 2013 20:28:06 +0000</created>
                <updated>Mon, 13 Jul 2015 17:48:21 +0000</updated>
                            <resolved>Mon, 13 Jul 2015 17:48:21 +0000</resolved>
                                    <version>0.94.3</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13574653" author="stack" created="Fri, 8 Feb 2013 17:36:17 +0000"  >&lt;p&gt;IMO, they should do the same thing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cf357&quot; class=&quot;user-hover&quot; rel=&quot;cf357&quot;&gt;Adrien Mogenet&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13574659" author="jdcryans" created="Fri, 8 Feb 2013 17:42:24 +0000"  >&lt;p&gt;IIRC we wrote it because the disable/drop/create cycle is slow. I agree it could be renamed to something like deleteTableData() and have truncateTable() do the same as the shell.&lt;/p&gt;</comment>
                            <comment id="14104121" author="busbey" created="Wed, 20 Aug 2014 16:56:42 +0000"  >&lt;p&gt;The truncating version of this can be handled with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8332&quot; title=&quot;Add truncate as HMaster method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8332&quot;&gt;&lt;del&gt;HBASE-8332&lt;/del&gt;&lt;/a&gt; now.&lt;/p&gt;

&lt;p&gt;Any preference on wether existing use of HBTU.truncateTable should use the renamed deleteTableData method?&lt;/p&gt;</comment>
                            <comment id="14105800" author="busbey" created="Thu, 21 Aug 2014 19:04:09 +0000"  >&lt;p&gt;patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;preserves current behavior in deleteTableData method&lt;/li&gt;
	&lt;li&gt;updates existing tests to use deleteTableData&lt;/li&gt;
	&lt;li&gt;adds truncateTable methods that behave like the shell.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14105803" author="mbertozzi" created="Thu, 21 Aug 2014 19:06:39 +0000"  >&lt;p&gt;+1 looks good to me&lt;/p&gt;</comment>
                            <comment id="14111018" author="stack" created="Tue, 26 Aug 2014 17:44:54 +0000"  >&lt;p&gt;Committed to master.  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14111254" author="hudson" created="Tue, 26 Aug 2014 20:19:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5433 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5433/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5433/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7782&quot; title=&quot;HBaseTestingUtility.truncateTable() not acting like CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7782&quot;&gt;&lt;del&gt;HBASE-7782&lt;/del&gt;&lt;/a&gt; HBaseTestingUtility.truncateTable() not acting like CLI (Sean Busbey) (stack: rev aada70053b37c4ac113f12c682ca61964af36847)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationChangingPeerRegionservers.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14557076" author="srikanth235" created="Sat, 23 May 2015 01:05:59 +0000"  >&lt;p&gt;Any particular reason why this fix is not backported to 1.0+ and 0.98 branches?&lt;/p&gt;</comment>
                            <comment id="14557099" author="busbey" created="Sat, 23 May 2015 02:27:14 +0000"  >&lt;p&gt;Not that I know of. It changes the behavior of HBaseTestingUtility, so I think it wouldn&apos;t be okay in a patch release but minor would be fine.&lt;/p&gt;</comment>
                            <comment id="14570061" author="hudson" created="Wed, 3 Jun 2015 00:39:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #128 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/128/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13764&quot; title=&quot;Backport HBASE-7782 (HBaseTestingUtility.truncateTable() not acting like CLI) to branch-1.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13764&quot;&gt;&lt;del&gt;HBASE-13764&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7782&quot; title=&quot;HBaseTestingUtility.truncateTable() not acting like CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7782&quot;&gt;&lt;del&gt;HBASE-7782&lt;/del&gt;&lt;/a&gt; (HBaseTestingUtility.truncateTable() not acting like CLI) to branch-1.x (ssrungarapu: rev 83d5f31649d36ce4ae100bde3bdd1628631ac135)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationChangingPeerRegionservers.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestRowCounter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14573022" author="hudson" created="Thu, 4 Jun 2015 15:53:59 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #946 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/946/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/946/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13764&quot; title=&quot;Backport HBASE-7782 (HBaseTestingUtility.truncateTable() not acting like CLI) to branch-1.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13764&quot;&gt;&lt;del&gt;HBASE-13764&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7782&quot; title=&quot;HBaseTestingUtility.truncateTable() not acting like CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7782&quot;&gt;&lt;del&gt;HBASE-7782&lt;/del&gt;&lt;/a&gt; (HBaseTestingUtility.truncateTable() not acting like CLI) to branch-1.x (ssrungarapu: rev e1d177cb8050fa2f3fce9319b4f6b8b04cd438ec)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationChangingPeerRegionservers.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestRowCounter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14573080" author="hudson" created="Thu, 4 Jun 2015 16:22:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #523 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/523/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/523/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13764&quot; title=&quot;Backport HBASE-7782 (HBaseTestingUtility.truncateTable() not acting like CLI) to branch-1.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13764&quot;&gt;&lt;del&gt;HBASE-13764&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7782&quot; title=&quot;HBaseTestingUtility.truncateTable() not acting like CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7782&quot;&gt;&lt;del&gt;HBASE-7782&lt;/del&gt;&lt;/a&gt; (HBaseTestingUtility.truncateTable() not acting like CLI) to branch-1.x (ssrungarapu: rev 77c48846f0163b6e86293bc81ff4597a62bdb5ca)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSink.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestRowCounter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationChangingPeerRegionservers.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12734733">HBASE-11769</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12642207">HBASE-8332</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12663461" name="HBASE-7782.patch" size="7706" author="busbey" created="Thu, 21 Aug 2014 19:04:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Feb 2013 17:36:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hs3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>HBaseTestingUtility now uses the truncate API added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8332&quot; title=&quot;Add truncate as HMaster method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8332&quot;&gt;&lt;strike&gt;HBASE-8332&lt;/strike&gt;&lt;/a&gt; so that calls to HBTU.truncateTable will behave like the shell command: effectively dropping the table and recreating a new one with the same split points.&lt;br/&gt;
&lt;br/&gt;
Previously, HBTU.truncateTable instead issued deletes for all the data already in the table. If you wish to maintain the same behavior, you should use the newly added HBTU.deleteTableData method.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>