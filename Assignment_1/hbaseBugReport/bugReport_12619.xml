<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:34:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12619/HBASE-12619.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12619] Backport HBASE-11639 (Replicate the visibility of Cells as strings) to 0.98</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12619</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Raising a back port issue for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11639&quot; title=&quot;[Visibility controller] Replicate the visibility of Cells as strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11639&quot;&gt;&lt;del&gt;HBASE-11639&lt;/del&gt;&lt;/a&gt;. We have the patch ready just need to see how we are handling the new CP hook in RS Observer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12759075">HBASE-12619</key>
            <summary>Backport HBASE-11639 (Replicate the visibility of Cells as strings) to 0.98</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                            <label>visibility</label>
                    </labels>
                <created>Wed, 3 Dec 2014 04:32:24 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:27 +0000</updated>
                            <resolved>Fri, 5 Dec 2014 02:25:34 +0000</resolved>
                                    <version>0.98.8</version>
                                    <fixVersion>0.98.9</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14233926" author="ram_krish" created="Thu, 4 Dec 2014 05:30:53 +0000"  >&lt;p&gt;Patch for 0.98.  &lt;br/&gt;
Apart from the core functionality this patch also adds the new hook in RS observer for 0.98 and before this hook is called we use reflections to check if this new method is really available, if so invoke the method on the object, if not found just use the exisiting end point  with a LOG message saying what we are doing.&lt;br/&gt;
Rest are just the same as in master and branch-1.&lt;/p&gt;</comment>
                            <comment id="14234480" author="apurtell" created="Thu, 4 Dec 2014 18:59:46 +0000"  >&lt;p&gt;I made a pass over this and it seems fine. Let me see about committing this today, it should be in place ahead of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11764&quot; title=&quot;Support per cell TTLs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11764&quot;&gt;&lt;del&gt;HBASE-11764&lt;/del&gt;&lt;/a&gt; because there&apos;s a small conflict with tag type allocation. (I&apos;ll fix that in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11764&quot; title=&quot;Support per cell TTLs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11764&quot;&gt;&lt;del&gt;HBASE-11764&lt;/del&gt;&lt;/a&gt;). Will take a closer look then.&lt;/p&gt;

&lt;p&gt;One higher level question I have about this whole design is what happens if we want to replicate visibility tags as Strings over an existing custom ReplicationEndpoint? That won&apos;t be guaranteed today because an endpoint is implemented by a single class, there&apos;s no opportunity for mixing in functionality, each implementation must take care to delegate. But that&apos;s not an issue for here, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11639&quot; title=&quot;[Visibility controller] Replicate the visibility of Cells as strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11639&quot;&gt;&lt;del&gt;HBASE-11639&lt;/del&gt;&lt;/a&gt; has already been reviewed and committed and this is a backport.&lt;/p&gt;</comment>
                            <comment id="14234490" author="apurtell" created="Thu, 4 Dec 2014 19:08:41 +0000"  >&lt;p&gt;/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt;, private replication API changes&lt;/p&gt;</comment>
                            <comment id="14234945" author="apurtell" created="Fri, 5 Dec 2014 02:23:30 +0000"  >&lt;p&gt;Tested with: &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Cluster 1 to 2 unidirectional, load 1M rows on 1: All 1M rows OK on 1 and 2&lt;/li&gt;
	&lt;li&gt;Clusters 1 and 2 bidirectional, load 1M rows on 1: All 1M rows OK on 1 and 2&lt;/li&gt;
	&lt;li&gt;Clusters 1 and 2 bidirectional, load 1M rows on 1 and 2: All 2M rows OK on 1 and 2&lt;/li&gt;
	&lt;li&gt;Cluster 1 to 2 unidirectional, load 1M rows on 1, kill RS on 1 and restart during load: All 1M rows OK on 1 and 2&lt;/li&gt;
	&lt;li&gt;Cluster 1 to 2 unidirectional, load on 1, kill RS on 2 and restart during load: All 1M rows OK on 1 and 2&lt;/li&gt;
	&lt;li&gt;Cluster 1 to 2 unidirectional, load on 1, kill RS on 1 and restart, then kill RS on 2 and restart, repeat kills in sequence until load completes: All 1M rows OK on 1 and 2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Replication and VC unit tests pass locally.&lt;/p&gt;</comment>
                            <comment id="14234949" author="apurtell" created="Fri, 5 Dec 2014 02:25:34 +0000"  >&lt;p&gt;Pushed to 0.98&lt;/p&gt;</comment>
                            <comment id="14234981" author="ram_krish" created="Fri, 5 Dec 2014 03:02:25 +0000"  >&lt;p&gt;Thanks for the cluster testing and the commit &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;.&lt;br/&gt;
I think there should be no problem with the custom RE impl as suggested over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11620&quot; title=&quot;Record the class name of Writer in WAL header so that only proper Reader can open the WAL file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11620&quot;&gt;&lt;del&gt;HBASE-11620&lt;/del&gt;&lt;/a&gt;.  This VisibilityReplicationEP would only change the VC related CElls to strings and again after doing this conversion would call the configured ReplicationEP to do the replication work.  So only a wrapper on the actual EP.&lt;br/&gt;
What do you think?&lt;/p&gt;</comment>
                            <comment id="14235089" author="hudson" created="Fri, 5 Dec 2014 05:03:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #718 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/718/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/718/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12619&quot; title=&quot;Backport HBASE-11639 (Replicate the visibility of Cells as strings) to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12619&quot;&gt;&lt;del&gt;HBASE-12619&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11639&quot; title=&quot;[Visibility controller] Replicate the visibility of Cells as strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11639&quot;&gt;&lt;del&gt;HBASE-11639&lt;/del&gt;&lt;/a&gt; (Replicate the visibility of Cells as strings) to 0.98 (Ramkrishna S. Vasudevan) (apurtell: rev 91341421964e3e560b96585af35d7306fd68f664)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/TagType.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/DefaultVisibilityExpressionResolver.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityUtils.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelsCache.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/ExpAsStringVisibilityLabelServiceImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelOrdinalProvider.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionServerObserver.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelReplicationWithExpAsString.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/DefaultVisibilityLabelServiceImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionServerObserver.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/Tag.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14235256" author="hudson" created="Fri, 5 Dec 2014 08:10:18 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #685 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/685/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12619&quot; title=&quot;Backport HBASE-11639 (Replicate the visibility of Cells as strings) to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12619&quot;&gt;&lt;del&gt;HBASE-12619&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11639&quot; title=&quot;[Visibility controller] Replicate the visibility of Cells as strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11639&quot;&gt;&lt;del&gt;HBASE-11639&lt;/del&gt;&lt;/a&gt; (Replicate the visibility of Cells as strings) to 0.98 (Ramkrishna S. Vasudevan) (apurtell: rev 91341421964e3e560b96585af35d7306fd68f664)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/DefaultVisibilityExpressionResolver.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelOrdinalProvider.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/ExpAsStringVisibilityLabelServiceImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelsCache.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelReplicationWithExpAsString.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionServerObserver.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityUtils.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/Tag.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceManager.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/TagType.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionServerObserver.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/DefaultVisibilityLabelServiceImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015987" author="lars_francke" created="Fri, 20 Nov 2015 11:53:27 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12741854">HBASE-11992</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12685046" name="HBASE-11639_0.98_1.patch" size="91236" author="ram_krish" created="Thu, 4 Dec 2014 05:30:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Dec 2014 18:59:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22zw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;br/&gt;
Allows the visibility tags to be replicated as Strings to the peer cluster. Useful in cases where the peer cluster and the source cluster does not have a common global LABELs table. &lt;br/&gt;
In order to enable this feature configure the below property in hbase-site.xml &lt;br/&gt;
&amp;lt;property&amp;gt; &lt;br/&gt;
&amp;lt;name&amp;gt; &lt;br/&gt;
hbase.coprocessor.regionserver.classes &lt;br/&gt;
&amp;lt;/name&amp;gt; &lt;br/&gt;
&amp;lt;value&amp;gt; &lt;br/&gt;
org.apache.hadoop.hbase.security.visibility.VisibilityController$VisibilityReplication &lt;br/&gt;
&amp;lt;/value&amp;gt; &lt;br/&gt;
&amp;lt;property&amp;gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>