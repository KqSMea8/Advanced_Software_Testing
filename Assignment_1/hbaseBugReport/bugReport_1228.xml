<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:51:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1228/HBASE-1228.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1228] Hang on DFSOS#flushInternal for minutes after regionserver crash</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1228</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;After an exception that forced an HRegionServer to shut down, I&apos;m seeing it hang in the following method for at least a few minutes:&lt;/p&gt;

&lt;p&gt;&quot;regionserver/0:0:0:0:0:0:0:0:60020&quot; prio=10 tid=0x00002aaaf41a9000 nid=0x10f6 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00000000422dd000..0x00000000422ddb10&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.flushInternal(DFSClient.java:3025)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaad8fa2410&amp;gt; (a java.util.LinkedList)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaad8fa2078&amp;gt; (a org.apache.hadoop.hdfs.DFSClient$DFSOutputStream)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.closeInternal(DFSClient.java:3105)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaad8fa2078&amp;gt; (a org.apache.hadoop.hdfs.DFSClient$DFSOutputStream)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.close(DFSClient.java:3054)&lt;br/&gt;
	at org.apache.hadoop.fs.FSDataOutputStream$PositionCache.close(FSDataOutputStream.java:61)&lt;br/&gt;
	at org.apache.hadoop.fs.FSDataOutputStream.close(FSDataOutputStream.java:86)&lt;br/&gt;
	at org.apache.hadoop.io.SequenceFile$Writer.close(SequenceFile.java:959)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaad8fa1f10&amp;gt; (a org.apache.hadoop.io.SequenceFile$Writer)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HLog.close(HLog.java:431)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00002aaab378b290&amp;gt; (a java.lang.Integer)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:498)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I believe the file system may have been closed and thus there is trouble flushing the HLog. The HLog should be pro actively closed before shutdown begins, to maximize the chances of it surviving the crash.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415856">HBASE-1228</key>
            <summary>Hang on DFSOS#flushInternal for minutes after regionserver crash</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bmaurer">Ben Maurer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Feb 2009 17:34:45 +0000</created>
                <updated>Tue, 7 Dec 2010 20:56:19 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 20:56:19 +0000</resolved>
                                    <version>0.19.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12679781" author="stack" created="Sat, 7 Mar 2009 00:28:57 +0000"  >&lt;p&gt;Moving out (I think Ben said it OK).&lt;/p&gt;</comment>
                            <comment id="12679812" author="jimk" created="Sat, 7 Mar 2009 02:42:51 +0000"  >&lt;p&gt;It would be helpful to have the region server and master logs.&lt;/p&gt;</comment>
                            <comment id="12705449" author="stack" created="Sun, 3 May 2009 21:28:40 +0000"  >&lt;p&gt;Moved to 0.20.0.&lt;/p&gt;</comment>
                            <comment id="12711715" author="stack" created="Thu, 21 May 2009 17:36:05 +0000"  >&lt;p&gt;Moving out of 0.20.0.  Not critical.&lt;/p&gt;</comment>
                            <comment id="12968975" author="stack" created="Tue, 7 Dec 2010 20:56:19 +0000"  >&lt;p&gt;Resolving as stale/invalid.  Alot has changed since.  Lets open new issue if we see this again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Mar 2009 00:28:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hc2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>