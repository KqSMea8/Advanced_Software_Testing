<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:48:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7772/HBASE-7772.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7772] clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7772</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;clusterId is not set in the job&apos;s conf correctly if only TableMapReduceUtil.initCredentials() is called and thus fails to include the token when using an hbase client in any of the job&apos;s tasks. This is a regression.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12630924">HBASE-7772</key>
            <summary>clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="toffer">Francis Liu</assignee>
                                    <reporter username="toffer">Francis Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Feb 2013 18:51:21 +0000</created>
                <updated>Tue, 5 Mar 2013 07:52:18 +0000</updated>
                            <resolved>Wed, 6 Feb 2013 21:25:55 +0000</resolved>
                                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13571582" author="mbertozzi" created="Tue, 5 Feb 2013 18:54:06 +0000"  >&lt;p&gt;related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7442&quot; title=&quot;HBase remote CopyTable not working when security enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7442&quot;&gt;&lt;del&gt;HBASE-7442&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13571584" author="toffer" created="Tue, 5 Feb 2013 18:54:56 +0000"  >&lt;p&gt;This is more a short term fix as we set the cluster id whenever a token is added to the job. It seems there needs to be some major refactoring to come up with a more holistic solution.&lt;/p&gt;</comment>
                            <comment id="13571588" author="toffer" created="Tue, 5 Feb 2013 18:57:06 +0000"  >&lt;p&gt;Yes, I believe this may be what caused the regression. No remote clusters are involved in my case. Simple way to try this out is run PerformanceEvaluation tests in secure mode.&lt;/p&gt;</comment>
                            <comment id="13571595" author="hadoopqa" created="Tue, 5 Feb 2013 19:02:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12568056/HBASE-7772_94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12568056/HBASE-7772_94.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4337//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4337//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13571627" author="toffer" created="Tue, 5 Feb 2013 19:19:50 +0000"  >&lt;p&gt;port of trunk patch. I have not tested this. &lt;/p&gt;</comment>
                            <comment id="13571629" author="ghelmling" created="Tue, 5 Feb 2013 19:25:16 +0000"  >&lt;p&gt;I&apos;m not sure I understand the underlying issue here.  Cluster ID should come from the cluster that SecureClient is connecting to, which will be driven by the zookeeper quorum configuration.  The Token instance obtained and stored in the job&apos;s credentials should also have the cluster ID set.  So I&apos;m not following why the cluster ID needs to be set in the job conf?&lt;/p&gt;

&lt;p&gt;It&apos;s entirely possible that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7442&quot; title=&quot;HBase remote CopyTable not working when security enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7442&quot;&gt;&lt;del&gt;HBASE-7442&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7626&quot; title=&quot;Backport portions of HBASE-7460 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7626&quot;&gt;&lt;del&gt;HBASE-7626&lt;/del&gt;&lt;/a&gt; broke some part of how this ties together.  Can you describe where in the flow the correct cluster ID is not being found, though?&lt;/p&gt;</comment>
                            <comment id="13571689" author="hadoopqa" created="Tue, 5 Feb 2013 20:16:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12568063/HBASE-7772.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12568063/HBASE-7772.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4339//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13571766" author="apurtell" created="Tue, 5 Feb 2013 21:48:35 +0000"  >&lt;p&gt;I&apos;m not sure this is a bug. More like the test environment isn&apos;t fully set up or needs some helper to mock a running cluster? &lt;/p&gt;</comment>
                            <comment id="13571794" author="ghelmling" created="Tue, 5 Feb 2013 22:17:29 +0000"  >&lt;p&gt;Based on current evidence, I agree this is not a bug.&lt;/p&gt;

&lt;p&gt;I tried to reproduce this with a simple test of HBase token authentication using current 0.94 branch + Hadoop 1.1.1.  (I applied the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7771&quot; title=&quot;Secure HBase Client in MR job causes tasks to wait forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7771&quot;&gt;&lt;del&gt;HBASE-7771&lt;/del&gt;&lt;/a&gt; patch to avoid having to use secure ZK).&lt;/p&gt;

&lt;p&gt;The job&apos;s task ran successfully and a bit of debugging output I added shows that the authentication token is being selected correctly by cluster ID.&lt;/p&gt;

&lt;p&gt;So there is no problem here that I can see.&lt;/p&gt;</comment>
                            <comment id="13571831" author="toffer" created="Tue, 5 Feb 2013 22:47:09 +0000"  >&lt;p&gt;I can easily reproduce this problem by running the PerformanceEvaluation tool to launch MR jobs. I&apos;m running on hadoop-0.23 BTW.&lt;/p&gt;

&lt;p&gt;Let me try and dig deeper and figure out the cause.&lt;/p&gt;</comment>
                            <comment id="13571833" author="toffer" created="Tue, 5 Feb 2013 22:52:00 +0000"  >&lt;p&gt;Here&apos;s a stacktrace, perhaps the issue is isolated  with HBaseAdmin:&lt;/p&gt;

&lt;p&gt;2013-02-05 22:45:30,361 FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 25 on 60437&amp;#93;&lt;/span&gt; org.apache.hadoop.mapred.TaskAttemptListenerImpl: Task: attempt_1348093718159_1526_m_000046_3 - exited : java.lang.RuntimeException: SASL authentication failed. The most likely cause is missing or invalid credentials. Consider &apos;kinit&apos;.&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection$1.run(SecureClient.java:242)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1212)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.Methods.call(Methods.java:37)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User.call(User.java:590)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User.access$700(User.java:51)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User$SecureHadoopUser.runAs(User.java:444)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.handleSaslConnectionFailure(SecureClient.java:203)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.setupIOstreams(SecureClient.java:291)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseClient.getConnection(HBaseClient.java:1124)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:974)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureRpcEngine$Invoker.invoke(SecureRpcEngine.java:104)&lt;br/&gt;
	at $Proxy11.getProtocolVersion(Unknown Source)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureRpcEngine.getProxy(SecureRpcEngine.java:146)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:708)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HBaseAdmin.&amp;lt;init&amp;gt;(HBaseAdmin.java:113)&lt;br/&gt;
	at org.apache.hadoop.hbase.PerformanceEvaluation$Test.testSetup(PerformanceEvaluation.java:788)&lt;br/&gt;
	at org.apache.hadoop.hbase.PerformanceEvaluation$ScanTest.testSetup(PerformanceEvaluation.java:998)&lt;br/&gt;
	at org.apache.hadoop.hbase.PerformanceEvaluation$Test.test(PerformanceEvaluation.java:808)&lt;br/&gt;
	at org.apache.hadoop.hbase.PerformanceEvaluation.runOneClient(PerformanceEvaluation.java:1141)&lt;br/&gt;
	at org.apache.hadoop.hbase.PerformanceEvaluation$EvaluationMapTask.map(PerformanceEvaluation.java:448)&lt;br/&gt;
	at org.apache.hadoop.hbase.PerformanceEvaluation$EvaluationMapTask.map(PerformanceEvaluation.java:401)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:144)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:725)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:332)&lt;br/&gt;
	at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:157)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1212)&lt;br/&gt;
	at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:152)&lt;br/&gt;
Caused by: javax.security.sasl.SaslException: GSS initiate failed &lt;span class=&quot;error&quot;&gt;&amp;#91;Caused by GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.sun.security.sasl.gsskerb.GssKrb5Client.evaluateChallenge(GssKrb5Client.java:194)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.HBaseSaslRpcClient.saslConnect(HBaseSaslRpcClient.java:156)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.setupSaslConnection(SecureClient.java:177)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.access$500(SecureClient.java:85)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection$2.run(SecureClient.java:284)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection$2.run(SecureClient.java:281)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1212)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.Methods.call(Methods.java:37)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User.call(User.java:590)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User.access$700(User.java:51)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User$SecureHadoopUser.runAs(User.java:444)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.SecureClient$SecureConnection.setupIOstreams(SecureClient.java:280)&lt;br/&gt;
	... 21 more&lt;/p&gt;</comment>
                            <comment id="13571887" author="toffer" created="Tue, 5 Feb 2013 23:19:51 +0000"  >&lt;p&gt;Took a quick look this is what seems to be happening:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SecureRPCengine initialization is created as part of HConnectionImplmentation&apos;s constructor&lt;/li&gt;
	&lt;li&gt;SecureClient (subclass of HBaseClient), is created as part of SecureRPCEngine initialization&lt;/li&gt;
	&lt;li&gt;HBaseClient.clusterId is assigned from conf (clusterId = conf.get(CLUSTER_ID,&quot;default&quot;)  as part of HBaseClient&apos;s constructor&lt;/li&gt;
	&lt;li&gt;SaslClient is the consumer of HBaseClient.clusterId to determine if a delegation token can be used&lt;/li&gt;
	&lt;li&gt;HConnectionImplementation.ensureZookeeperTrackers() is responsible for setting the clusterId in conf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The problem here is the sequence in which things happen. Since SecureRPCEngine is created before HConnectionImplementation.ensureZookeeperTrackers() is called. HBaseClient.clusterId downstream will be set to &quot;default&quot;.&lt;/p&gt;</comment>
                            <comment id="13571901" author="toffer" created="Tue, 5 Feb 2013 23:25:36 +0000"  >&lt;p&gt;A better fix could be to retrieve and set clusterId in HConnectionImplementation&apos;s constructor. Though I&apos;m not entirely familiar with the client code. Thoughts?&lt;/p&gt;</comment>
                            <comment id="13571960" author="yuzhihong@gmail.com" created="Wed, 6 Feb 2013 00:06:45 +0000"  >&lt;p&gt;@Francis:&lt;br/&gt;
Can you try reproducing this issue with 0.94.5 RC0 ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13571977" author="ghelmling" created="Wed, 6 Feb 2013 00:25:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; This would definitely apply to 0.94.5 RC0 as well, as it would come from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7626&quot; title=&quot;Backport portions of HBASE-7460 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7626&quot;&gt;&lt;del&gt;HBASE-7626&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; Yes, it does seem like SecureRpcEngine initialization should only happen after HCI.ensureZookeeperTrackers(). This leaves me a little puzzled about why token auth was working with the RowCounter test I just tried.&lt;/p&gt;</comment>
                            <comment id="13572004" author="ghelmling" created="Wed, 6 Feb 2013 00:58:20 +0000"  >&lt;p&gt;Okay, I can reproduce this using PerformanceEvaluation.  I&apos;m testing a simple fix that just moves the RpcEngine initialization to the end of ensureZooKeeperTrackers().&lt;/p&gt;</comment>
                            <comment id="13572033" author="toffer" created="Wed, 6 Feb 2013 01:27:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt; I believe the reason RowCounter works is because it uses TableInputFormat and when TIF.setConf is called. It creates an instance of HTable which should set clsuterId prior to job submission.&lt;/p&gt;

&lt;p&gt;Great, I can verify the patch once it&apos;s up.&lt;/p&gt;</comment>
                            <comment id="13572039" author="ghelmling" created="Wed, 6 Feb 2013 01:36:49 +0000"  >&lt;p&gt;Here is a simple patch for 0.94 that moves RpcEngine instantiation to the end of ensureZooKeeperTrackers(), allowing clusterId to be set in the configuration first.&lt;/p&gt;</comment>
                            <comment id="13572041" author="ghelmling" created="Wed, 6 Feb 2013 01:40:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; Just attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7772&quot; title=&quot;clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7772&quot;&gt;&lt;del&gt;HBASE-7772&lt;/del&gt;&lt;/a&gt;-v2_0.94.patch, which fixes PerformanceEvaluation in secure, pseudo-distributed setup for me.  Can you confirm it fixes the issue for you?&lt;/p&gt;

&lt;p&gt;I&apos;m also running it through the full test suite now.&lt;/p&gt;</comment>
                            <comment id="13572051" author="hadoopqa" created="Wed, 6 Feb 2013 01:43:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12568152/HBASE-7772-v2_0.94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12568152/HBASE-7772-v2_0.94.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4347//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4347//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13572063" author="apurtell" created="Wed, 6 Feb 2013 01:52:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;RowCounter works is because it uses TableInputFormat and when TIF.setConf is called&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good catch Francis.&lt;/p&gt;</comment>
                            <comment id="13572067" author="ghelmling" created="Wed, 6 Feb 2013 01:56:57 +0000"  >&lt;p&gt;Attaching an equivalent patch for trunk, moving ProtobufRpcClientEngine instantiation to after obtaining the cluster ID.&lt;/p&gt;</comment>
                            <comment id="13572068" author="toffer" created="Wed, 6 Feb 2013 01:57:02 +0000"  >&lt;p&gt;+1 works for me&lt;/p&gt;</comment>
                            <comment id="13572107" author="hadoopqa" created="Wed, 6 Feb 2013 03:04:53 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12568154/HBASE-7772-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12568154/HBASE-7772-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13572125" author="yuzhihong@gmail.com" created="Wed, 6 Feb 2013 04:02:51 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4348/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4348/console&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;pool-1-thread-1&quot;&lt;/span&gt; prio=10 tid=0x77240800 nid=0x16ed in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x76efe000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x810d91c8&amp;gt; (a org.apache.hadoop.hbase.util.JVMClusterUtil$RegionServerThread)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.join(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1194)
	- locked &amp;lt;0x810d91c8&amp;gt; (a org.apache.hadoop.hbase.util.JVMClusterUtil$RegionServerThread)
	at org.apache.hadoop.hbase.util.JVMClusterUtil.shutdown(JVMClusterUtil.java:249)
	at org.apache.hadoop.hbase.LocalHBaseCluster.shutdown(LocalHBaseCluster.java:430)
	at org.apache.hadoop.hbase.MiniHBaseCluster.shutdown(MiniHBaseCluster.java:501)
	at org.apache.hadoop.hbase.HBaseTestingUtility.shutdownMiniHBaseCluster(HBaseTestingUtility.java:893)
	at org.apache.hadoop.hbase.HBaseTestingUtility.shutdownMiniCluster(HBaseTestingUtility.java:863)
	at org.apache.hadoop.hbase.TestRegionRebalancing.after(TestRegionRebalancing.java:77)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I ran the test with patch and it passed.&lt;/p&gt;</comment>
                            <comment id="13572165" author="lhofhansl" created="Wed, 6 Feb 2013 04:47:44 +0000"  >&lt;p&gt;+1 from me.&lt;/p&gt;</comment>
                            <comment id="13572549" author="lhofhansl" created="Wed, 6 Feb 2013 16:36:47 +0000"  >&lt;p&gt;Also double checked that in every code path where rpcEngine is used we call ensureZookeeperTrackers prior to using it.&lt;br/&gt;
I think this is good to go.&lt;/p&gt;</comment>
                            <comment id="13572686" author="ghelmling" created="Wed, 6 Feb 2013 19:09:48 +0000"  >&lt;p&gt;Running the full test suite with this patch on 0.94, I got:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Results :

Tests in error:
  testQuarantineMissingFamdir(org.apache.hadoop.hbase.util.TestHBaseFsck): org.apache.hadoop.hbase.TableNotEnabledException: testQuarantineMissingFamdir

Tests run: 1320, Failures: 0, Errors: 1, Skipped: 13
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I believe I&apos;ve seen other failures of TestHBaseFsck lately, so I&apos;m not sure this is related.  I&apos;m retesting locally to check.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; Do you have any other comments on the patch?&lt;/p&gt;</comment>
                            <comment id="13572689" author="yuzhihong@gmail.com" created="Wed, 6 Feb 2013 19:13:34 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;

&lt;p&gt;I ran through 0.94 security test suite and tests passed.&lt;/p&gt;</comment>
                            <comment id="13572698" author="apurtell" created="Wed, 6 Feb 2013 19:19:01 +0000"  >&lt;p&gt;How about we also add a test that runs PerformanceEvaluation with security enabled? This would add coverage for the problem Francis found that in retrospect should have been discovered already.&lt;/p&gt;</comment>
                            <comment id="13572718" author="ghelmling" created="Wed, 6 Feb 2013 19:33:03 +0000"  >&lt;p&gt;In trunk, we already have a new version of TestTokenAuthentication that tests the client/server interactions for token authentication.  However, this only exercises an RPC client directly, so it doesn&apos;t go through the HConnectionImplementation path where the problem occurred.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how we can easily run PerformanceEvaluation + security in the absence of a supporting KDC.  I&apos;ve thought about how we can better test security in general, even to the point of embedding a java based KDC, doing principal and keytab generation, etc.  But that seems like a much larger effort outside the scope of this issue.&lt;/p&gt;

&lt;p&gt;I agree that we have a big hole in coverage here, though, and I&apos;m open to any ideas.&lt;/p&gt;</comment>
                            <comment id="13572723" author="apurtell" created="Wed, 6 Feb 2013 19:36:45 +0000"  >&lt;p&gt;Fair enough, we could take this discussion to another JIRA. Perhaps we need something like &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8078&quot; title=&quot;Add capability to turn on security in unit tests.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8078&quot;&gt;&lt;del&gt;HADOOP-8078&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9004&quot; title=&quot;Allow security unit tests to use external KDC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9004&quot;&gt;&lt;del&gt;HADOOP-9004&lt;/del&gt;&lt;/a&gt;, for hbase-it.&lt;/p&gt;</comment>
                            <comment id="13572746" author="ghelmling" created="Wed, 6 Feb 2013 19:53:14 +0000"  >&lt;p&gt;Thanks for the links, I wasn&apos;t aware of those two.  Standing up a temporary Apache DS instance was definitely one approach I was thinking of.  I&apos;ve opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7781&quot; title=&quot;Update security unit tests to use a KDC if available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7781&quot;&gt;&lt;del&gt;HBASE-7781&lt;/del&gt;&lt;/a&gt; for follow up.&lt;/p&gt;

&lt;p&gt;Also does Bigtop provide coverage in this area?  If so, is there better collaboration we could do to provide coverage of development changes prior to release?&lt;/p&gt;</comment>
                            <comment id="13572791" author="apurtell" created="Wed, 6 Feb 2013 20:33:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Also does Bigtop provide coverage in this area? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not sure. I think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schu&quot; class=&quot;user-hover&quot; rel=&quot;schu&quot;&gt;Stephen Chu&lt;/a&gt; has been involved with both Bigtop and &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9004&quot; title=&quot;Allow security unit tests to use external KDC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9004&quot;&gt;&lt;del&gt;HADOOP-9004&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13572795" author="apurtell" created="Wed, 6 Feb 2013 20:36:28 +0000"  >&lt;p&gt;+1 for this jira&lt;/p&gt;</comment>
                            <comment id="13572849" author="ghelmling" created="Wed, 6 Feb 2013 21:25:55 +0000"  >&lt;p&gt;Committed to 0.94 branch and trunk.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; Thanks for identifying the problem and diagnosing.&lt;/p&gt;

&lt;p&gt;Ted, Lars, Andy, thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="13572966" author="hudson" created="Wed, 6 Feb 2013 22:56:19 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #830 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/830/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/830/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7772&quot; title=&quot;clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7772&quot;&gt;&lt;del&gt;HBASE-7772&lt;/del&gt;&lt;/a&gt; Cluster ID is not initialized correctly in RPC client (Revision 1443181)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
garyh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13573060" author="hudson" created="Thu, 7 Feb 2013 01:06:31 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3858 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3858/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3858/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7772&quot; title=&quot;clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7772&quot;&gt;&lt;del&gt;HBASE-7772&lt;/del&gt;&lt;/a&gt; Cluster ID is not initialized correctly in RPC client (Revision 1443221)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
garyh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13573173" author="hudson" created="Thu, 7 Feb 2013 04:13:25 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #395 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/395/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/395/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7772&quot; title=&quot;clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7772&quot;&gt;&lt;del&gt;HBASE-7772&lt;/del&gt;&lt;/a&gt; Cluster ID is not initialized correctly in RPC client (Revision 1443221)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
garyh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13574287" author="hudson" created="Fri, 8 Feb 2013 06:17:58 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/109/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7772&quot; title=&quot;clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7772&quot;&gt;&lt;del&gt;HBASE-7772&lt;/del&gt;&lt;/a&gt; Cluster ID is not initialized correctly in RPC client (Revision 1443181)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
garyh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13593196" author="hudson" created="Tue, 5 Mar 2013 07:52:18 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #12 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7772&quot; title=&quot;clusterId is not set in conf properly if only TableMapReduceUtil.initCredentials() is called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7772&quot;&gt;&lt;del&gt;HBASE-7772&lt;/del&gt;&lt;/a&gt; Cluster ID is not initialized correctly in RPC client (Revision 1443181)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
garyh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12628351">HBASE-7626</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12568154" name="HBASE-7772-v2.patch" size="1376" author="ghelmling" created="Wed, 6 Feb 2013 01:56:57 +0000"/>
                            <attachment id="12568152" name="HBASE-7772-v2_0.94.patch" size="2273" author="ghelmling" created="Wed, 6 Feb 2013 01:36:49 +0000"/>
                            <attachment id="12568063" name="HBASE-7772.patch" size="774" author="toffer" created="Tue, 5 Feb 2013 19:19:50 +0000"/>
                            <attachment id="12568056" name="HBASE-7772_94.patch" size="1384" author="toffer" created="Tue, 5 Feb 2013 18:54:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Feb 2013 18:54:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hqs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>