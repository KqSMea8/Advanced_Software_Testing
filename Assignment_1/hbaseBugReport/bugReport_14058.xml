<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:49:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14058/HBASE-14058.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14058] Stabilizing default heap memory tuner</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14058</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The memory tuner works well in general cases but when we have a work load that is both read heavy as well as write heavy the tuner does too many tuning. We should try to control the number of tuner operation and stabilize it. The main problem was that the tuner thinks it is in steady state even if it sees just one neutral tuner period thus does too many tuning operations and too many reverts that too with large step sizes(step size was set to maximum even after one neutral period). So to stop this I have thought of these steps:&lt;/p&gt;

&lt;p&gt;1) The division created by &#956; + &#948;/2 and &#956; - &#948;/2 is too small. Statistically ~62% periods will lie outside this range, which means 62% of the data points are considered either high or low which is too much. Use &#956; + &#948;*0.8 and &#956; - &#948;*0.8 instead. On expectations it will decrease number of tuner operations per 100 periods from 19 to just 10. If we use &#948;/2 then 31% of data values will be considered to be high and 31% will be considered to be low (2*0.31 * 0.31 = 0.19), on the other hand if we use &#948;*0.8 then 22% will be low and 22% will be high(2*0.22*0.22 ~ 0.10).&lt;/p&gt;

&lt;p&gt;2) Defining proper steady state by looking at past few periods(it is equal to hbase.regionserver.heapmemory.autotuner.lookup.periods) rather than just last tuner operation. We say tuner is in steady state when last few tuner periods were NEUTRAL. We keep decreasing step size unless it is extremely low. Then leave system in that state for some time.&lt;/p&gt;

&lt;p&gt;3) Rather then decreasing step size only while reverting, decrease the magnitude of step size whenever we are trying to revert tuning done in last few periods(sum the changes of last few periods and compare to current step) rather than just looking at last period. When its magnitude gets too low then make tuner steps NEUTRAL(no operation). This will cause step size to continuously decrease unless we reach steady state. After that tuning process will restart (tuner step size rests again when we reach steady state).&lt;/p&gt;

&lt;p&gt;4) The tuning done in last few periods will be decaying sum of past tuner steps with sign. This parameter will be positive for increase in memstore and negative for increase in block cache. Rather than using arithmetic mean we use this to give more priority to recent tuner steps.&lt;/p&gt;

&lt;p&gt;Please see the attachments. One represents the size of memstore(green) and size of block cache(blue) adjusted by tuner without these modification and other with the above modifications. The x-axis is time axis and y-axis is the fraction of heap memory available to memstore and block cache at that time(it always sums up to 80%). I configured min/max ranges for both components to 0.1 and 0.7 respectively(so in the plots the y-axis min and max is 0.1 and 0.7). In both cases the tuner tries to distribute memory by giving ~15% to memstore and ~65% to block cache. But the modified one does it much more smoothly.&lt;/p&gt;

&lt;p&gt;I got these results from YCSB test. The test was doing approximately 5000 inserts and 500 reads per second (for one region server). The results can be further fine tuned and number of tuner operation can be reduced with these changes in configuration.&lt;br/&gt;
For more fine tuning:&lt;br/&gt;
a) lower max step size (suggested = 4%)&lt;br/&gt;
b) lower min step size ( default if also fine )&lt;br/&gt;
To further decrease frequency of tuning operations:&lt;br/&gt;
c) increase the number of lookup periods ( in the tests it was just 10, default is 60 )&lt;br/&gt;
d) increase tuner period ( in the tests it was just 20 secs, default is 60secs)&lt;br/&gt;
I used smaller tuner period/ number of look up periods to get more data points.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12844291">HBASE-14058</key>
            <summary>Stabilizing default heap memory tuner</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhilak">Abhilash</assignee>
                                    <reporter username="abhilak">Abhilash</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jul 2015 20:59:25 +0000</created>
                <updated>Sat, 22 Oct 2016 03:31:10 +0000</updated>
                            <resolved>Wed, 22 Jul 2015 18:38:55 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.2.0</version>
                    <version>1.3.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="14623220" author="hadoopqa" created="Sat, 11 Jul 2015 04:16:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12744836/HBASE-14058.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12744836/HBASE-14058.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 5e708746b8d301c2fb22a85b8756129147012374.&lt;br/&gt;
  ATTACHMENT ID: 12744836&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14748//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14623304" author="anoop.hbase" created="Sat, 11 Jul 2015 08:05:21 +0000"  >&lt;p&gt;I have not checked the patch and description.&lt;br/&gt;
But just one point to note. The evict count we make use in the tune decisions.  The eviction count can be some time larger due to write also.  In a write and read heavy system, the flushes are happening constantly and so compaction. After the compaction all the blocks from old files will get evicted. This also getting added to the evict count stat now!   The concurrent reads would have made the flushed files into BC.  If cache of write is ON that also will make it into BC.  May be we have to check wrt this area also..  There should be separate tracking for evictions due to compaction (Say because of HFile removal)&lt;/p&gt;</comment>
                            <comment id="14623670" author="abhilak" created="Sun, 12 Jul 2015 05:37:03 +0000"  >&lt;p&gt;Yes you are absolutely right. In read/write heavy scenario evictions due to compaction is a problem. We should try to distinguish between normal evictions and eviction caused due to compactions. But we are also using cache misses(for operations that were set to be cached while read) which gives more clear indication if we need to increase size of  BC or not. It is more helpful in both cases that you mentioned i.e ignore evictions caused by compaction and caching on writes. Should we completely remove use of evictions form tuner decisions and just use cache misses ?&lt;/p&gt;</comment>
                            <comment id="14623985" author="yuzhihong@gmail.com" created="Sun, 12 Jul 2015 20:13:53 +0000"  >&lt;p&gt;Went through the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+ * parameter &amp;lt;i&amp;gt;decayingAvgTunerStepSize&amp;lt;/i&amp;gt; which is sum of past tuner steps with
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since the variable is sum, you can drop the &apos;Avg&apos; in variable name.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; DEFAULT_MIN_STEP_VALUE = 0.00125f; &lt;span class=&quot;code-comment&quot;&gt;// 0.5%&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Make the comment match actual percentage.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-comment&quot;&gt;// are likely to occur with probability 56%, 22%, 22% respectively. Hence with there is at&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please correct the syntax for &apos;Hence with there is at&apos;&lt;/p&gt;</comment>
                            <comment id="14624029" author="abhilak" created="Sun, 12 Jul 2015 21:54:44 +0000"  >&lt;p&gt;Thanks a lot for the reviews Ted.&lt;br/&gt;
I think &amp;lt;i&amp;gt;decayingTunerStepSizeSum&amp;lt;/i&amp;gt; will be correct name for it. I saw that percentage mistake yesterday, I was just waiting for further reviews. Will commit soon if there are no further reviews.&lt;/p&gt;</comment>
                            <comment id="14624518" author="hadoopqa" created="Mon, 13 Jul 2015 10:55:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12744997/HBASE-14058-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12744997/HBASE-14058-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 5e708746b8d301c2fb22a85b8756129147012374.&lt;br/&gt;
  ATTACHMENT ID: 12744997&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14754//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14624695" author="yuzhihong@gmail.com" created="Mon, 13 Jul 2015 14:13:28 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Fetching the console output from the URL
Printing hanging tests
Printing Failing tests
Failing test : org.apache.hadoop.hbase.master.TestDistributedLogSplitting
Failing test : org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The failed tests were not related to the patch.&lt;/p&gt;</comment>
                            <comment id="14624759" author="lhofhansl" created="Mon, 13 Jul 2015 15:04:47 +0000"  >&lt;p&gt;Similar to the design suggested in the patch, we could also have a moving average of the metrics we&apos;re tracking to make tuning decisions.&lt;br/&gt;
So heavy read and write loads will ramp up slowly (as far as the tuner is concerned) and short spikes will not cause any tuner actions.&lt;/p&gt;

&lt;p&gt;So each time we calculate the metric we calculate it to metric = oldValue * (1-gamma) + newValue * gamma. Then we can tune gamma (high to make quick tuning decision, low to make them smooth). We can also make the tuner step size proportional to the change of the metric.&lt;br/&gt;
(Sorry haven&apos;t looked at the patch, yet)&lt;/p&gt;</comment>
                            <comment id="14625006" author="abhilak" created="Mon, 13 Jul 2015 17:38:04 +0000"  >&lt;p&gt;Thanks for the suggestions.&lt;br/&gt;
We already maintain moving average and deviation of metrics over past periods(number of past periods to consider is configurable). Then compare mean and deviation to current metric value to decide tuning. Did you mean to use above value instead of current metric value while comparing or use it for that stats calculation itself ?&lt;br/&gt;
IMO it wont be a good idea to use it for stat calculation as it will tamper the actual trend and stats.&lt;br/&gt;
It will be very interesting/challenging to try to resize step size based on variation. But I feel it may lead to the same problem of over tuning. Instead of doing this resize every time. How about we do it only when we reset our step size ? Instead of resetting step size to maximum we can set it to some mediocre value depending on current variation and tuner will try to settle down things in following periods and then go to steady state. &lt;/p&gt;</comment>
                            <comment id="14626032" author="anoop.hbase" created="Tue, 14 Jul 2015 08:27:50 +0000"  >&lt;p&gt;The eviction usage related discussion let us have in another Jira.  Let us get this improvement in first.&lt;/p&gt;</comment>
                            <comment id="14626568" author="abhilak" created="Tue, 14 Jul 2015 16:13:55 +0000"  >&lt;p&gt;Then lets get this patch in as there as no other reviews for this patch. &lt;/p&gt;</comment>
                            <comment id="14626773" author="lhofhansl" created="Tue, 14 Jul 2015 17:59:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;IMO it wont be a good idea to use it for stat calculation as it will tamper the actual trend and stats.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm... We want to capture the trend and not the current state. I.e. if we trend towards write load for a while then we tune for writeloads, if we trend towards readloads we tune for that, but only after a bit.&lt;br/&gt;
Maybe I&apos;m missing something. Lemme actually look at the patch.&lt;/p&gt;</comment>
                            <comment id="14630305" author="eclark" created="Thu, 16 Jul 2015 20:50:09 +0000"  >&lt;p&gt;+1 from me. I&apos;ll commit unless someone has another comment&lt;/p&gt;</comment>
                            <comment id="14637405" author="eclark" created="Wed, 22 Jul 2015 18:38:55 +0000"  >&lt;p&gt;Pushed to branch-1 and master. Thanks for the patch.&lt;/p&gt;</comment>
                            <comment id="14637640" author="hadoopqa" created="Wed, 22 Jul 2015 21:15:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12746603/0001-Stabilizing-default-heap-memory-tuner.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12746603/0001-Stabilizing-default-heap-memory-tuner.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 5ec5552be0534dbf4b07ef6607741ae6f9ab0495.&lt;br/&gt;
  ATTACHMENT ID: 12746603&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14862//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14637685" author="hudson" created="Wed, 22 Jul 2015 21:39:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6671 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6671/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6671/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14058&quot; title=&quot;Stabilizing default heap memory tuner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14058&quot;&gt;&lt;del&gt;HBASE-14058&lt;/del&gt;&lt;/a&gt; Stabilizing default heap memory tuner (eclark: rev 20739542fdca185eb857813bf269d6262c11b652)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14637723" author="hudson" created="Wed, 22 Jul 2015 22:00:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #55 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/55/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/55/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14058&quot; title=&quot;Stabilizing default heap memory tuner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14058&quot;&gt;&lt;del&gt;HBASE-14058&lt;/del&gt;&lt;/a&gt; Stabilizing default heap memory tuner (eclark: rev 89ecb93c95b63159cca427100b6003802870f1d8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14637726" author="hudson" created="Wed, 22 Jul 2015 22:01:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #70 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/70/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14058&quot; title=&quot;Stabilizing default heap memory tuner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14058&quot;&gt;&lt;del&gt;HBASE-14058&lt;/del&gt;&lt;/a&gt; Stabilizing default heap memory tuner (eclark: rev 89ecb93c95b63159cca427100b6003802870f1d8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15107757" author="hudson" created="Wed, 20 Jan 2016 00:49:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #401 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/401/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/401/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14058&quot; title=&quot;Stabilizing default heap memory tuner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14058&quot;&gt;&lt;del&gt;HBASE-14058&lt;/del&gt;&lt;/a&gt; Stabilizing default heap memory tuner (eclark: rev e738e69f8cc59581a454207483aca42e7f314396)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15107903" author="hudson" created="Wed, 20 Jan 2016 03:13:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #512 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/512/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/512/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14058&quot; title=&quot;Stabilizing default heap memory tuner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14058&quot;&gt;&lt;del&gt;HBASE-14058&lt;/del&gt;&lt;/a&gt; Stabilizing default heap memory tuner (eclark: rev e738e69f8cc59581a454207483aca42e7f314396)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12836657">HBASE-13876</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12746603" name="0001-Stabilizing-default-heap-memory-tuner.patch" size="12713" author="abhilak" created="Wed, 22 Jul 2015 18:33:28 +0000"/>
                            <attachment id="12744997" name="HBASE-14058-v1.patch" size="12363" author="abhilak" created="Mon, 13 Jul 2015 08:20:44 +0000"/>
                            <attachment id="12744836" name="HBASE-14058.patch" size="12304" author="abhilak" created="Fri, 10 Jul 2015 22:31:18 +0000"/>
                            <attachment id="12744812" name="after_modifications.png" size="91314" author="abhilak" created="Fri, 10 Jul 2015 21:15:38 +0000"/>
                            <attachment id="12744813" name="before_modifications.png" size="128035" author="abhilak" created="Fri, 10 Jul 2015 21:15:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 11 Jul 2015 04:16:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2h4gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>