<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:09:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3413/HBASE-3413.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3413] DNS Configs may completely break HBase cluster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3413</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I recently experienced a cluster malfunction which was caused by a change in DNS config for services co-hosted on the machines running region servers.&lt;/p&gt;

&lt;p&gt;The RS are specified using IP addresses in the &apos;regionservers&apos; file. Those machines are 1.example.com to N.example.com (there are A RRs for those names to each of the N IP addresses in &apos;regionservers&apos;).&lt;/p&gt;

&lt;p&gt;Until recently, the PTR RRs for the RS IPs were those x.example.com names.&lt;/p&gt;

&lt;p&gt;Then a service was deployed on some of the x.example.com machines, and new A RRs were added for svc.example.com which point to each of the IPs used for the service.&lt;/p&gt;

&lt;p&gt;Jointly new PTR records were added too for the given IPs. Those PTR records have &apos;svc.example.com&apos; as their PTRDATA, and this is causing the HBase cluster to get completely confused.&lt;/p&gt;

&lt;p&gt;Since it is perfectly legal to have multiple PTR records, it seems important to make the canonicalization of RS more robust to DNS tweaks.&lt;/p&gt;

&lt;p&gt;Maybe generating a UUID when a RS is started would help, this UUID could be used to register the RS in ZK and we would not rely on DNS for obtaining a stable canonical name (which may not even exist...).&lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12494688">HBASE-3413</key>
            <summary>DNS Configs may completely break HBase cluster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="herberts">Mathias Herberts</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jan 2011 07:47:30 +0000</created>
                <updated>Tue, 12 Aug 2014 19:19:55 +0000</updated>
                            <resolved>Tue, 12 Aug 2014 19:19:55 +0000</resolved>
                                    <version>0.90.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12977685" author="ryanobjc" created="Wed, 5 Jan 2011 08:44:22 +0000"  >&lt;p&gt;how would we ensure the uuid would be generated the same upon every regionserver startup?&lt;/p&gt;

&lt;p&gt;Another thing to consider is that dns names are inserted into META tables, and this is used by clients to find the machine.  If we detect a DNS change we would have to do a bunch of fancy work to ensure the META table is correct, no?&lt;/p&gt;
</comment>
                            <comment id="12977689" author="herberts" created="Wed, 5 Jan 2011 08:54:34 +0000"  >&lt;p&gt;The idea of using a UUID was to be able to detect that two RS accessed with different DNS names were truely the same (wih the same UUID).&lt;/p&gt;

&lt;p&gt;As for using names in META tables, I&apos;ve still to understand why we do that instead of using IPs.&lt;/p&gt;</comment>
                            <comment id="14094542" author="apurtell" created="Tue, 12 Aug 2014 19:19:55 +0000"  >&lt;p&gt;Stale issue. Consider reopening or filing a new issue with updated findings from clusters using a current release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Jan 2011 08:44:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02e13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>