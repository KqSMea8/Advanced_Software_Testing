<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:54:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8358/HBASE-8358.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8358] Add delete permission separate from full write permissions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8358</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently there are five permissions checked by HBase: read, write, exec, create, and admin.  An RDBMS allows for more fine-grained control over the operations, and it would be helpful to have such controls in HBase.  Specifically, a distinction between &quot;put&quot; and &quot;delete&quot; would be most useful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12642959">HBASE-8358</key>
            <summary>Add delete permission separate from full write permissions</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jeffkole">Jeff Kolesky</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Apr 2013 15:47:56 +0000</created>
                <updated>Wed, 17 Apr 2013 17:25:14 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13634151" author="jeffkole" created="Wed, 17 Apr 2013 15:49:55 +0000"  >&lt;p&gt;I imagine we would need to keep the &quot;write&quot; permission action for the sake of backwards-compatibility.  Therefore, we can add &quot;put&quot; and &quot;delete&quot; permission actions that can be used for more fine-grained control.  A user with &quot;write&quot; could issue any kind of write operation; to issue a put, a user must have the &quot;put&quot; permission; and to issue a delete, a user must have the &quot;delete&quot; permission.&lt;/p&gt;</comment>
                            <comment id="13634170" author="apurtell" created="Wed, 17 Apr 2013 16:06:50 +0000"  >&lt;p&gt;Adding additional permissions to check requires another loop iteration at minimum for every op, and potentially additional IO (in the case of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6222&quot; title=&quot;Add per-KeyValue Security&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6222&quot;&gt;&lt;del&gt;HBASE-6222&lt;/del&gt;&lt;/a&gt;). Internally a delete is another type of write, the put of a tombstone if you will. A put &quot;overwrites&quot; a given location so in effect &quot;deletes&quot; the previous value (modulo the number of versions retained according to schema settings). We should be reluctant to add additional permissions unless there is a compelling use case or an actual lack in semantics.&lt;/p&gt;</comment>
                            <comment id="13634186" author="jeffkole" created="Wed, 17 Apr 2013 16:28:47 +0000"  >&lt;p&gt;While deletes and puts are just writes, semantically they are distinct, and they show up as distinct key value types.  I do not want to protect a put overwriting another put.  My use case is this:&lt;/p&gt;

&lt;p&gt;I want to give `hbase shell` access to individuals to allow them to debug issues.  I want them to have read-only access in our production tier.  Existing security handles that case just fine.  We also have a testing tier where it is often useful for these individuals to write data into tables to construct scenarios for testing.  Given how destructive a delete in Hbase can be, and how it is not recoverable by just writing the cell back in, I want to be sure that no data can be accidentally deleted.  Given our schema design, a malformed delete could remove all of the data in one of our thick rows.&lt;/p&gt;

&lt;p&gt;I&apos;m not as familiar with the security code in HBase yet.  Will you point me to the code where the additional loop iteration would need to be added so I can understand your performance concerns?&lt;/p&gt;</comment>
                            <comment id="13634217" author="apurtell" created="Wed, 17 Apr 2013 17:23:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Given how destructive a delete in Hbase can be, and how it is not recoverable by just writing the cell back in, I want to be sure that no data can be accidentally deleted&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;HBase already has mechanisms and schema options in place to handle this. I don&apos;t think it is a security concern per se. You can configure the table with KEEP_DELETED_CELLS and then deleted values are retained and are available via timerange scans with a &quot;raw scanner&quot;, subject to TTL (if set) and MAX_VERSIONS. You can also set MIN_VERSIONS, which tells HBase to keep at least MIN_VERSIONS versions of a given cell around no matter what, also available via timerange scans with a &quot;raw scanner&quot;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Will you point me to the code where the additional loop iteration would need to be added so I can understand your performance concerns?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See &lt;a href=&quot;http://svn.apache.org/repos/asf/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/a&gt; and other classes in that package. There are additional concerns with the feature under development on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6222&quot; title=&quot;Add per-KeyValue Security&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6222&quot;&gt;&lt;del&gt;HBASE-6222&lt;/del&gt;&lt;/a&gt;, specifically the changes proposed for AccessController.java, where for cell ACLs we have to go to disk to find permissions and we have to then enumerate all permissions found for all &quot;covering&quot; KeyValues. Finally, see the last point in the description of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7123&quot; title=&quot;Refactor internal methods in AccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7123&quot;&gt;HBASE-7123&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12615265">HBASE-7123</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Apr 2013 16:06:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jsi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>