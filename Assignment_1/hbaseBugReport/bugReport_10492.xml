<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:14:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10492/HBASE-10492.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10492] open daughter regions can unpredictably take long time</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10492</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have seen during a stress testing client was getting &lt;/p&gt;

&lt;p&gt;&quot;RetriesExhaustedWithDetailsException: Failed 748 actions: NotServingRegionException&quot;&lt;/p&gt;

&lt;p&gt;On the master log, 2014-02-08 20:43 is the timestamp from OFFLINE to SPLITTING_NEW, 2014-02-08 21:41 is the timestamp from SPLITTING_NEW to OPEN.&lt;/p&gt;

&lt;p&gt;The corresponding time period on the region sever log is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-02-08 20:44:12,662 WARN org.apache.hadoop.hbase.regionserver.HRegionFileSystem: .regioninfo file not found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region: 010c1981882d1a59201af5e2dc589d44
2014-02-08 20:44:12,666 WARN org.apache.hadoop.hbase.regionserver.HRegionFileSystem: .regioninfo file not found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region: c2eb9b7971ca7f3fed3da86df5b788e7
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There were no INFO related to these two regions until: (at the end see this: Split took 57mins, 16sec)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-02-08 21:41:14,029 INFO org.apache.hadoop.hbase.regionserver.HRegion: Onlined c2eb9b7971ca7f3fed3da86df5b788e7; next sequenceid=213355
2014-02-08 21:41:14,031 INFO org.apache.hadoop.hbase.regionserver.HRegion: Onlined 010c1981882d1a59201af5e2dc589d44; next sequenceid=213354
2014-02-08 21:41:14,032 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Post open deploy tasks &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region=tpch_hb_1000_2.lineitem,]\x01\x8B\xE9\xF4\x8A\x01\x80p\xA3\xA4\x01\x80\x00\x00\x00\xB6\xB7+\x02\x01\x80\x00\x00\x02,1391921037353.c2eb9b7971ca7f3fed3da86df5b788e7.
2014-02-08 21:41:14,054 INFO org.apache.hadoop.hbase.catalog.MetaEditor: Updated row tpch_hb_1000_2.lineitem,]\x01\x8B\xE9\xF4\x8A\x01\x80p\xA3\xA4\x01\x80\x00\x00\x00\xB6\xB7+\x02\x01\x80\x00\x00\x02,1391921037353.c2eb9b7971ca7f3fed3da86df5b788e7. with server=hdtest208.svl.ibm.com,60020,1391887547473
2014-02-08 21:41:14,054 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Finished post open deploy task &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tpch_hb_1000_2.lineitem,]\x01\x8B\xE9\xF4\x8A\x01\x80p\xA3\xA4\x01\x80\x00\x00\x00\xB6\xB7+\x02\x01\x80\x00\x00\x02,1391921037353.c2eb9b7971ca7f3fed3da86df5b788e7.
2014-02-08 21:41:14,054 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Post open deploy tasks &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region=tpch_hb_1000_2.lineitem,,1391921037353.010c1981882d1a59201af5e2dc589d44.
2014-02-08 21:41:14,059 INFO org.apache.hadoop.hbase.regionserver.HStore: Completed compaction of 10 file(s) in cf of tpch_hb_1000_2.lineitem,^\x01\x8B\xE7(\x80\x01\x80\x93\xFD\x01\x01\x80\x00\x00\x00\xB5\x0E\xCC&apos;\x01\x80\x00\x00\x03,1391918508561.1fbcfc0a792435dfd73ec5b0ef5c953c. into 451be6df8c604993ae540b808d9cfa08(size=72.8 M), total size &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; store is 2.4 G. This selection was in queue &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0sec, and took 1mins, 40sec to execute.
2014-02-08 21:41:14,059 INFO org.apache.hadoop.hbase.regionserver.CompactSplitThread: Completed compaction: Request = regionName=tpch_hb_1000_2.lineitem,^\x01\x8B\xE7(\x80\x01\x80\x93\xFD\x01\x01\x80\x00\x00\x00\xB5\x0E\xCC&apos;\x01\x80\x00\x00\x03,1391918508561.1fbcfc0a792435dfd73ec5b0ef5c953c., storeName=cf, fileCount=10, fileSize=94.1 M, priority=9883, time=1391924373278861000; duration=1mins, 40sec
2014-02-08 21:41:14,059 INFO org.apache.hadoop.hbase.regionserver.HRegion: Starting compaction on cf in region tpch_hb_1000_2.lineitem,]\x01\x8B\xE9\xF4\x8A\x01\x80p\xA3\xA4\x01\x80\x00\x00\x00\xB6\xB7+\x02\x01\x80\x00\x00\x02,1391921037353.c2eb9b7971ca7f3fed3da86df5b788e7.
2014-02-08 21:41:14,059 INFO org.apache.hadoop.hbase.regionserver.HStore: Starting compaction of 10 file(s) in cf of tpch_hb_1000_2.lineitem,]\x01\x8B\xE9\xF4\x8A\x01\x80p\xA3\xA4\x01\x80\x00\x00\x00\xB6\xB7+\x02\x01\x80\x00\x00\x02,1391921037353.c2eb9b7971ca7f3fed3da86df5b788e7. into tmpdir=gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/tpch_hb_1000_2.lineitem/c2eb9b7971ca7f3fed3da86df5b788e7/.tmp, totalSize=709.7 M
2014-02-08 21:41:14,066 INFO org.apache.hadoop.hbase.catalog.MetaEditor: Updated row tpch_hb_1000_2.lineitem,,1391921037353.010c1981882d1a59201af5e2dc589d44. with server=hdtest208.svl.ibm.com,60020,1391887547473
2014-02-08 21:41:14,066 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Finished post open deploy task &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tpch_hb_1000_2.lineitem,,1391921037353.010c1981882d1a59201af5e2dc589d44.
2014-02-08 21:41:14,190 INFO org.apache.hadoop.hbase.regionserver.SplitRequest: Region split, hbase:meta updated, and report to master. Parent=tpch_hb_1000_2.lineitem,,1391918508561.b576e8db65d56ec08db5ca900587c28d., &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; regions: tpch_hb_1000_2.lineitem,,1391921037353.010c1981882d1a59201af5e2dc589d44., tpch_hb_1000_2.lineitem,]\x01\x8B\xE9\xF4\x8A\x01\x80p\xA3\xA4\x01\x80\x00\x00\x00\xB6\xB7+\x02\x01\x80\x00\x00\x02,1391921037353.c2eb9b7971ca7f3fed3da86df5b788e7.. Split took 57mins, 16sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12694340">HBASE-10492</key>
            <summary>open daughter regions can unpredictably take long time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jinghe">Jerry He</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Feb 2014 19:56:12 +0000</created>
                <updated>Wed, 12 Feb 2014 19:52:00 +0000</updated>
                                            <version>0.96.0</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13896937" author="jinghe" created="Mon, 10 Feb 2014 20:01:12 +0000"  >&lt;p&gt;The problem is probably caused by this part of the code in SplitTransaction.openDaughters()&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// Open daughters in parallel.
&lt;/span&gt;      DaughterOpener aOpener = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DaughterOpener(server, a);
      DaughterOpener bOpener = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DaughterOpener(server, b);
      aOpener.start();
      bOpener.start();
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        aOpener.join();
        bOpener.join();
      } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We are opening the daughter regions in separate new threads.  It is possible, although rare, due to issues like thread scheduling, the daughter regions may not be opened until after a long time.&lt;/p&gt;</comment>
                            <comment id="13896978" author="stack" created="Mon, 10 Feb 2014 20:37:36 +0000"  >&lt;p&gt;Can you reproduce &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt;?  It&apos;d be crazy a thread not being scheduled for an hour.  Any details on your setup?  The load type, the os?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13897276" author="apurtell" created="Mon, 10 Feb 2014 23:26:24 +0000"  >&lt;p&gt;JVM?&lt;/p&gt;</comment>
                            <comment id="13897528" author="ram_krish" created="Tue, 11 Feb 2014 04:38:15 +0000"  >&lt;p&gt;Yes, JVM does matter.  In one of my recent tests where I did not change my JVM to oracle, and was using the openJDK, i found that under heavy load after some point there was no progress anywhere.  I did not go thro the logs or did not dive into it.  Just changed the JVM and continued with the tests.&lt;/p&gt;</comment>
                            <comment id="13898262" author="jinghe" created="Tue, 11 Feb 2014 20:19:22 +0000"  >&lt;p&gt;The machines are 24 CPU 48G memory with &lt;br/&gt;
Red Hat Enterprise Linux Server release 6.4 (Santiago) 2.6.32-358.el6.x86_64&lt;br/&gt;
IBM JDK 6&lt;br/&gt;
5 region servers (each with datanode and task tracker).  The load MR job with loading of data.&lt;br/&gt;
I have been trying to reproduce the long delay in opening the daughter regions.&lt;br/&gt;
With &apos;org.apache.hadoop.hbase.PerformanceEvaluation sequentialWrite 200&apos; I have seen delays up to 6 mins.&lt;br/&gt;
See the log below (from 2014-02-11 02:35:52 to 2014-02-11 02:41:14 at the end)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-02-11 02:35:52,473 WARN org.apache.hadoop.hbase.regionserver.HRegionFileSystem: .regioninfo file not found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region: 10a421ac8075a42cbcb53bdc393c8e8c
2014-02-11 02:35:52,479 WARN org.apache.hadoop.hbase.regionserver.HRegionFileSystem: .regioninfo file not found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region: 5ff07e59d13c99ca14408807a6e61722
2014-02-11 02:35:52,589 INFO org.apache.hadoop.hbase.regionserver.compactions.CompactionConfiguration: size [4194304, 9223372036854775807); files [3, 10); ratio 1.200000; off-peak ratio 5.000000; throttle point 2684354560; delete expired; major period 0, major jitter 0.500000
2014-02-11 02:35:52,596 INFO org.apache.hadoop.hbase.regionserver.compactions.CompactionConfiguration: size [4194304, 9223372036854775807); files [3, 10); ratio 1.200000; off-peak ratio 5.000000; throttle point 2684354560; delete expired; major period 0, major jitter 0.500000
2014-02-11 02:35:55,458 INFO org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher: Flushed, sequenceid=4289924, memsize=256.6 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/ed4d9fb392ae52c1a406a221defc6b00/.tmp/9e2cb318b0114248b9c62948cf47ac5b
2014-02-11 02:36:37,894 INFO org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher: Flushed, sequenceid=4289926, memsize=153.1 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/110cc21c77569d595f7717b8c75fbf66/.tmp/4e55d6ba4b5644838163101f2ba20fdb
2014-02-11 02:36:53,067 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: Rolled WAL /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392114789609 with entries=416, filesize=578.7 M; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WAL /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392114958416
2014-02-11 02:36:53,067 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112795409 whose highest sequenceid is 4285071 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112795409
2014-02-11 02:36:53,162 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112818204 whose highest sequenceid is 4285169 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112818204
2014-02-11 02:36:53,210 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112839023 whose highest sequenceid is 4285266 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112839023
2014-02-11 02:37:13,297 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112862511 whose highest sequenceid is 4285362 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112862511
2014-02-11 02:37:13,326 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112871587 whose highest sequenceid is 4285453 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112871587
2014-02-11 02:37:13,383 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112877894 whose highest sequenceid is 4285546 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112877894
2014-02-11 02:37:33,474 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112891408 whose highest sequenceid is 4285641 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112891408
2014-02-11 02:37:33,481 INFO org.apache.hadoop.hbase.regionserver.HStore: Added gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/ed4d9fb392ae52c1a406a221defc6b00/info/9e2cb318b0114248b9c62948cf47ac5b, entries=225739, sequenceid=4289924, filesize=227.8 M
2014-02-11 02:37:33,481 INFO org.apache.hadoop.hbase.regionserver.HRegion: Finished memstore flush of ~256.6 M/269080888, currentsize=0/0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region TestTable,00000000000000000083857650,1392100516043.ed4d9fb392ae52c1a406a221defc6b00. in 104430ms, sequenceid=4289924, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2014-02-11 02:37:53,550 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112901166 whose highest sequenceid is 4285739 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112901166
2014-02-11 02:38:13,610 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112957011 whose highest sequenceid is 4285845 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112957011
2014-02-11 02:38:13,657 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112996569 whose highest sequenceid is 4285939 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392112996569
2014-02-11 02:38:13,709 INFO org.apache.hadoop.hbase.regionserver.HStore: Added gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/110cc21c77569d595f7717b8c75fbf66/info/4e55d6ba4b5644838163101f2ba20fdb, entries=134636, sequenceid=4289926, filesize=135.9 M
2014-02-11 02:38:13,709 INFO org.apache.hadoop.hbase.regionserver.HRegion: Finished memstore flush of ~154.6 M/162140608, currentsize=50.6 M/53094064 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region TestTable,00000000000000000097375233,1392102079505.110cc21c77569d595f7717b8c75fbf66. in 143570ms, sequenceid=4289926, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2014-02-11 02:38:13,726 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113011433 whose highest sequenceid is 4286032 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113011433
2014-02-11 02:38:13,763 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113031250 whose highest sequenceid is 4286132 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113031250
2014-02-11 02:38:19,012 INFO org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher: Flushed, sequenceid=4290528, memsize=258.2 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/d2182e25d616eeccb29c50356ba7df3e/.tmp/1954e5e2f04f49139a75c77d9c71efbe
2014-02-11 02:38:53,871 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113067064 whose highest sequenceid is 4286371 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113067064
2014-02-11 02:39:13,926 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113092341 whose highest sequenceid is 4286698 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113092341
2014-02-11 02:39:17,850 INFO org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher: Flushed, sequenceid=4290603, memsize=260.3 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/d43376acb9509f28299e7c0373957502/.tmp/f01bfa141fc64f859115144284093e0a
2014-02-11 02:39:34,010 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113120811 whose highest sequenceid is 4286993 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113120811
2014-02-11 02:39:54,068 INFO org.apache.hadoop.hbase.regionserver.wal.FSHLog: moving old hlog file /hbase/WALs/hdtest202.svl.ibm.com,60020,1392097223732/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113296100 whose highest sequenceid is 4287325 to /hbase/oldWALs/hdtest202.svl.ibm.com%2C60020%2C1392097223732.1392113296100
2014-02-11 02:40:54,179 INFO org.apache.hadoop.hbase.regionserver.HStore: Added gpfs:/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/d2182e25d616eeccb29c50356ba7df3e/info/1954e5e2f04f49139a75c77d9c71efbe, entries=227127, sequenceid=4290528, filesize=229.2 M
2014-02-11 02:40:54,179 INFO org.apache.hadoop.hbase.regionserver.HRegion: Finished memstore flush of ~258.2 M/270735384, currentsize=0/0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region TestTable,00000000000000000152484874,1392104467789.d2182e25d616eeccb29c50356ba7df3e. in 200657ms, sequenceid=4290528, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2014-02-11 02:41:14,206 INFO org.apache.hadoop.hbase.regionserver.HRegion: Onlined 10a421ac8075a42cbcb53bdc393c8e8c; next sequenceid=4289919
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13898410" author="stack" created="Tue, 11 Feb 2014 22:25:09 +0000"  >&lt;p&gt;6minutes is eons, a body blow.  If you run oracle jvm, does it exhibit same latencies?&lt;/p&gt;

&lt;p&gt;ibm jdk taking this long scheduling a thread is a problem, a problem for us if we are to run well on ibmjdk.   We should dig and figure if it something about the way this thread is scheduled in particular or if it is the case that any thread can be swapped out for pauses of this magnitude.&lt;/p&gt;</comment>
                            <comment id="13899501" author="jinghe" created="Wed, 12 Feb 2014 19:52:00 +0000"  >&lt;p&gt;I am able to reproduce the problem and get more realtime metrics on the region server.  Now it does not seem to be a thread scheduling problem, or doesn&apos;t it?&lt;br/&gt;
We can see from the live metrics:   Initializing region  since 5mins, 18sec ago Instantiating store for column family since 5mins, 18sec ago&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Wed Feb 12 00:00:59 PST 2014	Initializing region tpch_hb_1000_2.lineitem,`\x01\x85\xF5\xEC\x8D\x01\x80\x00\x0B\x8E\x01\x80\x00\x00\x00\xB3\x9EN\xE3\x01\x80\x00\x00\x03,1392192032936.1d4381bb583f957a9996c1ef0fa3ce68.	RUNNING (since 5mins, 18sec ago)	Instantiating store &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column family {NAME =&amp;gt; &apos;cf&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;GZ&apos;, ENCODE_ON_DISK =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, TTL =&amp;gt; &apos;2147483647&apos;, VERSIONS =&amp;gt; &apos;2147483647&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;} (since 5mins, 18sec ago)
Wed Feb 12 00:00:59 PST 2014	Initializing region tpch_hb_1000_2.lineitem,`\x01\x80\x01:\x94\x01\x80\x01:\x95\x01\x80\x00\x00\x00\xB5\xA8\x94\x04\x01\x80\x00\x00\x02,1392192032936.2980739184621d45397a972ea89c9411.	RUNNING (since 5mins, 18sec ago)	Instantiating store &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column family {NAME =&amp;gt; &apos;cf&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;GZ&apos;, ENCODE_ON_DISK =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, TTL =&amp;gt; &apos;2147483647&apos;, VERSIONS =&amp;gt; &apos;2147483647&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;} (since 5mins, 18sec ago)

Wed Feb 12 00:00:59 PST 2014	Initializing region tpch_hb_1000_2.lineitem,`\x01\x85\xF5\xEC\x8D\x01\x80\x00\x0B\x8E\x01\x80\x00\x00\x00\xB3\x9EN\xE3\x01\x80\x00\x00\x03,1392192032936.1d4381bb583f957a9996c1ef0fa3ce68.	RUNNING (since 8mins, 18sec ago)	 Instantiating store &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column family {NAME =&amp;gt; &apos;cf&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;GZ&apos;, ENCODE_ON_DISK =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, TTL =&amp;gt; &apos;2147483647&apos;, VERSIONS =&amp;gt; &apos;2147483647&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;} (since 8mins, 18sec ago)
Wed Feb 12 00:00:59 PST 2014	Initializing region tpch_hb_1000_2.lineitem,`\x01\x80\x01:\x94\x01\x80\x01:\x95\x01\x80\x00\x00\x00\xB5\xA8\x94\x04\x01\x80\x00\x00\x02,1392192032936.2980739184621d45397a972ea89c9411.	RUNNING (since 8mins, 18sec ago)	Instantiating store &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column family {NAME =&amp;gt; &apos;cf&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;GZ&apos;, ENCODE_ON_DISK =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, TTL =&amp;gt; &apos;2147483647&apos;, VERSIONS =&amp;gt; &apos;2147483647&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;} (since 8mins, 18sec ago)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is more like file system issue?&lt;/p&gt;

&lt;p&gt;BWT. HBase&apos;s new metrics rocks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 10 Feb 2014 20:37:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s96n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>