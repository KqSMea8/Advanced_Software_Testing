<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:59:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15059/HBASE-15059.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15059] Allow 0.94 to compile against Hadoop 2.7.x</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15059</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently HBase 0.94 cannot be compiled against Hadoop 2.7.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924950">HBASE-15059</key>
            <summary>Allow 0.94 to compile against Hadoop 2.7.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Dec 2015 21:09:02 +0000</created>
                <updated>Mon, 18 Jul 2016 09:23:48 +0000</updated>
                            <resolved>Mon, 18 Jul 2016 09:23:48 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15075409" author="lhofhansl" created="Wed, 30 Dec 2015 21:21:08 +0000"  >&lt;p&gt;Simple patch.&lt;/p&gt;

&lt;p&gt;Can I just remove TimeStampingFileContext?! It&apos;s not used anywhere (that I can find).&lt;/p&gt;

&lt;p&gt;I have not tried, yet, whether I can actually &lt;em&gt;run&lt;/em&gt; HBase this way.&lt;/p&gt;</comment>
                            <comment id="15075455" author="stack" created="Wed, 30 Dec 2015 22:02:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Just shout loud you&apos;ve removed this file. Anyone interested can do the work to get it going w/ later hadoop versions....&lt;/p&gt;</comment>
                            <comment id="15075464" author="lhofhansl" created="Wed, 30 Dec 2015 22:07:31 +0000"  >&lt;p&gt;V2.&lt;/p&gt;

&lt;p&gt;This is needed to actually run it. Notice that I force the correct versions of protobuf and commons.io for the Hadoop 2.7 profile.&lt;/p&gt;

&lt;p&gt;This also requires to rebuild the protobuf generated files with protoc 2.5. For that I added the build-proto.sh script.&lt;/p&gt;

&lt;p&gt;Could always force protobug 2.5.0, but not sure what implications this has.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, any insight here?&lt;/p&gt;

&lt;p&gt;With this I was able to start up HBase, look at metrics, etc.&lt;/p&gt;</comment>
                            <comment id="15075472" author="stack" created="Wed, 30 Dec 2015 22:18:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could always force protobug 2.5.0, but not sure what implications this has.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Too big a change for point release. Will make it so can&apos;t run on hadoop 1s.&lt;/p&gt;</comment>
                            <comment id="15075517" author="lhofhansl" created="Wed, 30 Dec 2015 23:35:25 +0000"  >&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;What do you think about this change?&lt;/p&gt;

&lt;p&gt;Need to state somewhere that one needs to regenerate the protobuf code (and since I couldn&apos;t figure out how to do that, I added the older shell-script that master used to have).&lt;/p&gt;</comment>
                            <comment id="15075526" author="lhofhansl" created="Wed, 30 Dec 2015 23:50:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;Too big a change for point release. Will make it so can&apos;t run on hadoop 1s.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed. The patch does this now:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;PB 2.4.0a is used by default.&lt;/li&gt;
	&lt;li&gt;If -Dhadoop.profile=2.7 is specified then PB 2.5 and commons.io 2.4 will be pulled in as dependencies&lt;/li&gt;
	&lt;li&gt;When building for later Hadoops the user has to manually execute dev-support.build-proto.sh, before building the rest of HBase&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Would be nice to automate the last part via maven, but I think for 0.94 that might be overkill.&lt;/p&gt;</comment>
                            <comment id="15076053" author="lhofhansl" created="Thu, 31 Dec 2015 16:33:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; you OK with committing V2?&lt;/p&gt;</comment>
                            <comment id="15076751" author="lhofhansl" created="Sun, 3 Jan 2016 03:13:07 +0000"  >&lt;p&gt;Ping... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Good to commit V2?&lt;/p&gt;</comment>
                            <comment id="15081554" author="apurtell" created="Mon, 4 Jan 2016 18:39:54 +0000"  >&lt;p&gt;I think it&apos;s ok to change the protobuf dependency and required compiler version only when asked for with a specific Hadoop profile. However, then we should probably invoke build-proto.sh via maven at every build, in case the pbuf target versions has changed (2.4 vs 2.5)? And also check which version of the compiler we have on the path to ensure it&apos;s the necessary one for the build parameters. Lovely.&lt;/p&gt;

&lt;p&gt;Removing TimeStampingFileContext in a point release is iffy. Since this is the last expected release of 0.94 I think it&apos;s fine, but be sure to mention it in the release notes. &lt;/p&gt;</comment>
                            <comment id="15081976" author="lhofhansl" created="Mon, 4 Jan 2016 23:13:13 +0000"  >&lt;p&gt;I think I&apos;d rather document the process (over recompiling PB every time, since that requires the correct version of protoc on the machine as you say, even when it is not needed).&lt;br/&gt;
At least it is possible to build against Hadoop 7.x&lt;/p&gt;

&lt;p&gt;Another option is to not override the protobuf version to pull in, but require an explicit -Dprotobuf.version=2.5.0 (could even add a comment in pom.xml to that extend).&lt;br/&gt;
That would make the failure explicit at runtime. Folks would then look into what failed and find the instructions here, which would include to call build-proto.sh.&lt;/p&gt;

&lt;p&gt;Trying not to overcomplicate things. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="15081994" author="apurtell" created="Mon, 4 Jan 2016 23:23:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think I&apos;d rather document the process (over recompiling PB every time, since that requires the correct version of protoc on the machine as you say, even when it is not needed).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok, it&apos;s the last release before EOL anyway&lt;/p&gt;</comment>
                            <comment id="15082088" author="stack" created="Tue, 5 Jan 2016 00:29:40 +0000"  >&lt;p&gt;Ok on doc&apos;ing how. Yeah, need to minimize change in last point release.&lt;/p&gt;

&lt;p&gt;We have a hadoop 2.6 profile? I suppose anyone who needs it can figure how with this 2.7 profile in place.&lt;/p&gt;

&lt;p&gt;Yeah, shout that TimeStampingFileContext is gone (but ok to remove it since messes up jdk8)&lt;/p&gt;

&lt;p&gt;+1 on patch.&lt;/p&gt;

&lt;p&gt;Where you going to doc how to make it work on 2.7/jdk8? In the release message for the release? That should be enough I&apos;d say.&lt;/p&gt;
</comment>
                            <comment id="15082202" author="lhofhansl" created="Tue, 5 Jan 2016 01:47:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Where you going to doc how to make it work on 2.7/jdk8? In the release message for the release? That should be enough I&apos;d say.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Was thinking 3 places:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;comment in the pom (where it defines the 2.7 profile), can have a prominent comment there, that pb classes need to be recompiled and how to do that&lt;/li&gt;
	&lt;li&gt;in the release notes here&lt;/li&gt;
	&lt;li&gt;in the release message for the release&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15082413" author="lhofhansl" created="Tue, 5 Jan 2016 05:36:41 +0000"  >&lt;p&gt;Pushed to 0.94 only&lt;br/&gt;
(added a comment into the pom about the extra build steps)&lt;/p&gt;</comment>
                            <comment id="15082574" author="hudson" created="Tue, 5 Jan 2016 07:32:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1480 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1480/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1480/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15059&quot; title=&quot;Allow 0.94 to compile against Hadoop 2.7.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15059&quot;&gt;&lt;del&gt;HBASE-15059&lt;/del&gt;&lt;/a&gt; Allow 0.94 to compile against Hadoop 2.7.x. (larsh: rev dd5660444a2587840bf982559d5b48f8a8e74e3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/master/MasterDumpServlet.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/metrics/file/TimeStampingFileContext.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;dev-support/build-proto.sh&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/metrics/file/TestTimeStampingMetricsContext.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java&lt;/li&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15083791" author="hudson" created="Tue, 5 Jan 2016 21:08:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #247 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/247/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/247/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15059&quot; title=&quot;Allow 0.94 to compile against Hadoop 2.7.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15059&quot;&gt;&lt;del&gt;HBASE-15059&lt;/del&gt;&lt;/a&gt; Allow 0.94 to compile against Hadoop 2.7.x. (larsh: rev dd5660444a2587840bf982559d5b48f8a8e74e3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/master/MasterDumpServlet.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/metrics/file/TestTimeStampingMetricsContext.java&lt;/li&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/metrics/file/TimeStampingFileContext.java&lt;/li&gt;
	&lt;li&gt;dev-support/build-proto.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15083971" author="hudson" created="Tue, 5 Jan 2016 22:39:01 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #590 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/590/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/590/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15059&quot; title=&quot;Allow 0.94 to compile against Hadoop 2.7.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15059&quot;&gt;&lt;del&gt;HBASE-15059&lt;/del&gt;&lt;/a&gt; Allow 0.94 to compile against Hadoop 2.7.x. (larsh: rev dd5660444a2587840bf982559d5b48f8a8e74e3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RSDumpServlet.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/master/MasterDumpServlet.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;dev-support/build-proto.sh&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/metrics/file/TestTimeStampingMetricsContext.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/metrics/file/TimeStampingFileContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15096440" author="busbey" created="Wed, 13 Jan 2016 16:11:11 +0000"  >&lt;p&gt;reopening, because I don&apos;t think this has all the docs needed.&lt;/p&gt;

&lt;p&gt;When attempting to build I get a failure from the enforcer plugin because hadoop 2.7 is jdk7+ only:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;mvn clean site install assembly:single -Prelease -Dhadoop.profile=2.7 -Dlicense.debug.print.included=true&lt;/tt&gt; (last bit is to avoid license failure while fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14213&quot; title=&quot;Ensure ASF policy compliant headers and correct LICENSE and NOTICE files in artifacts for 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14213&quot;&gt;HBASE-14213&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- maven-enforcer-plugin:1.0.1:enforce (enforce) @ hbase ---
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-server-common:jar:2.7.1:compile contains org/apache/hadoop/yarn/lib/&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;-info.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-api:jar:2.7.1:compile contains org/apache/hadoop/yarn/api/ApplicationBaseProtocol.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-annotations:jar:2.7.1:compile contains org/apache/hadoop/classification/InterfaceAudience$LimitedPrivate.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-app:jar:2.7.1:compile contains org/apache/hadoop/CustomOutputCommitter.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-server-applicationhistoryservice:jar:2.7.1:compile contains org/apache/hadoop/yarn/proto/YarnServerTimelineServerRecoveryProtos$1.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-core:jar:2.7.1:compile contains org/apache/hadoop/filecache/DistributedCache.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet jdk.tools:jdk.tools:jar:1.7:system contains sun/tools/asm/ArrayData.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-common:test-jar:tests:2.7.1:compile contains org/apache/hadoop/cli/CLITestHelper$TestConfigFileParser.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-hdfs:jar:2.7.1:compile contains org/apache/hadoop/fs/BlockStorageLocation.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-server-nodemanager:jar:2.7.1:compile contains org/apache/hadoop/yarn/proto/LocalizationProtocol$1.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-common:jar:2.7.1:compile contains org/apache/hadoop/mapred/LocalClientProtocolProvider.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-server-resourcemanager:jar:2.7.1:compile contains org/apache/hadoop/yarn/proto/YarnSecurityTestClientAMTokenProtos$1.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-jobclient:jar:2.7.1:compile contains org/apache/hadoop/mapred/ClientCache$1.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-shuffle:jar:2.7.1:compile contains org/apache/hadoop/mapred/FadvisedChunkedFile.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-hdfs:test-jar:tests:2.7.1:compile contains org/apache/hadoop/cli/CLITestCmdDFS.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-jobclient:test-jar:tests:2.7.1:compile contains org/apache/hadoop/cli/CLITestCmdMR.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-server-web-proxy:jar:2.7.1:compile contains org/apache/hadoop/yarn/server/webproxy/amfilter/AmFilterInitializer.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-common:jar:2.7.1:compile contains org/apache/hadoop/conf/Configurable.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-mapreduce-client-hs:jar:2.7.1:compile contains org/apache/hadoop/mapreduce/v2/hs/CachedHistoryStorage$1.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-auth:jar:2.7.1:compile contains org/apache/hadoop/security/authentication/client/AuthenticatedURL$Token.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-server-tests:test-jar:tests:2.7.1:compile contains org/apache/hadoop/yarn/server/ContainerTokenIdentifierForTest.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-client:jar:2.7.1:compile contains org/apache/hadoop/yarn/client/api/AHSClient.class targeted to JDK 1.7
[INFO] Restricted to JDK 1.6 yet org.apache.hadoop:hadoop-yarn-common:jar:2.7.1:compile contains org/apache/hadoop/yarn/api/ApplicationClientProtocolPB.class targeted to JDK 1.7
[WARNING] Rule 0: org.apache.maven.plugins.enforcer.EnforceBytecodeVersion failed with message:
HBase has unsupported dependencies.
  HBase requires that all dependencies be compiled with version 1.6 or earlier
  of the JDK to properly build from source.  You appear to be using a newer dependency. You can use
  either &lt;span class=&quot;code-quote&quot;&gt;&quot;mvn -version&quot;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&quot;mvn enforcer:display-info&quot;&lt;/span&gt; to verify what version is active.
  Non-release builds can temporarily build with a newer JDK version by setting the
  &apos;compileSource&apos; property (eg. mvn -DcompileSource=1.8 clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the instructions should include setting the &lt;tt&gt;compileSource&lt;/tt&gt; property.&lt;/p&gt;</comment>
                            <comment id="15097703" author="lhofhansl" created="Thu, 14 Jan 2016 06:31:57 +0000"  >&lt;p&gt;Ah yes, I built with JDK7 and JDK8 only. I do have an env with JDK6 anymore (other than the Apache Jenkins boxes).&lt;br/&gt;
Could document the compile instructions (just like I did w.r.t. recompiling the PB generated files)&lt;/p&gt;

&lt;p&gt;I also found the class I removed shows up hadoop-metrics.properties (only commented out, but clearly with the intend to be used when uncommented).&lt;br/&gt;
So without going to multiple modules like in 0.98+ this might be hard to impossible to do now. I have very little time in in the next few weeks, I&apos;ll try to look into this.&lt;br/&gt;
There&apos;s no hurry really, I&apos;ll do the last 0.94 when it&apos;s ready.&lt;/p&gt;</comment>
                            <comment id="15102872" author="lhofhansl" created="Sat, 16 Jan 2016 01:24:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;, aren&apos;t the new instructions just to build with JDK7 or later?&lt;/p&gt;</comment>
                            <comment id="15102882" author="lhofhansl" created="Sat, 16 Jan 2016 01:30:21 +0000"  >&lt;p&gt;Chatted with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; about TimeStampingFileContext occurring in hadoop-metrics.properties. We think it&apos;s still OK to remove.&lt;br/&gt;
So I&apos;ll update the release notes and the instructions in the pom to use JDK7 when building with Hadoop 2.7.&lt;/p&gt;</comment>
                            <comment id="15102894" author="busbey" created="Sat, 16 Jan 2016 01:37:32 +0000"  >&lt;p&gt;yeah, it&apos;s just to set &lt;tt&gt;-DcompileSource=1.7&lt;/tt&gt; if you want to run with Hadoop 2.7. It should include a warning about how this will mean the generated jars won&apos;t be usable with jdk 6.&lt;/p&gt;</comment>
                            <comment id="15102982" author="lhofhansl" created="Sat, 16 Jan 2016 04:51:14 +0000"  >&lt;p&gt;Addendum:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;forces compile.source to 1.7&lt;/li&gt;
	&lt;li&gt;replaces example uses of TimeStampingFileContext with org.apache.hadoop.metrics.file.FileContext (this is just an example in the .properties file, the class is not used by default)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Going to commit soon, I don&apos;t think there&apos;s anything controversial here.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12782683" name="15059-addendum.txt" size="1988" author="lhofhansl" created="Sat, 16 Jan 2016 04:51:14 +0000"/>
                            <attachment id="12780053" name="15059-v2.txt" size="18043" author="lhofhansl" created="Wed, 30 Dec 2015 22:07:31 +0000"/>
                            <attachment id="12780046" name="15059.txt" size="16532" author="lhofhansl" created="Wed, 30 Dec 2015 21:21:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Dec 2015 22:02:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qf27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This allows HBase to compile against Hadoop 2.7.1.&lt;br/&gt;
&lt;br/&gt;
TimeStampingFileContext.java had to be removed!&lt;br/&gt;
If your code relied on this class to exist, do NOT upgrade to HBase 0.94.28.&lt;br/&gt;
If your installation used this class to dump Hadoop metric to files, replace its usage with org.apache.hadoop.metrics.file.FileContext.&lt;br/&gt;
&lt;br/&gt;
In order to work correctly with Hadoop 2.x+ the Java classes generated for protobuf need to generated with protoc 2.5.0 before HBase is compiled.&lt;br/&gt;
This can be done with the included build-proto.sh script.&lt;br/&gt;
&lt;br/&gt;
Also note that JDK7 or greater is required to build Hadoop 2.7 or later.&lt;br/&gt;
&lt;br/&gt;
Example:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ protoc --version&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;check that the output indicates 2.5.0&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ dev-support/build-proto.sh&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$ mvn -Dhadoop.profile=2.7 ...&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>