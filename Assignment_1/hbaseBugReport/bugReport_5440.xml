<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:27:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5440/HBASE-5440.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5440] Allow Import to optionally use HFileOutputFormat</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5440</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;importtsv support importing into a life table or to generate HFiles for bulk load.&lt;br/&gt;
import should allow the same.&lt;/p&gt;

&lt;p&gt;Could even consider merging these tools into one (in principle the only difference is the parsing part - although that is maybe for a different jira).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12543606">HBASE-5440</key>
            <summary>Allow Import to optionally use HFileOutputFormat</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2012 01:46:31 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:01 +0000</updated>
                            <resolved>Fri, 24 Feb 2012 06:47:54 +0000</resolved>
                                                    <fixVersion>0.94.0</fixVersion>
                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13215036" author="lhofhansl" created="Thu, 23 Feb 2012 20:49:51 +0000"  >&lt;p&gt;First cut.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;a new import mapper that writes KeyValues&lt;/li&gt;
	&lt;li&gt;uses KeyValueSortReducer&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Only used when -Dimport.bulk.output=&amp;lt;path/to/output&amp;gt; is set.&lt;/p&gt;

&lt;p&gt;I did experiment with a Reducer that accepts Mutation (common super class of Put and Delete), but that caused more problems than it solved, hence the KeyValueImporter.&lt;/p&gt;</comment>
                            <comment id="13215071" author="hadoopqa" created="Thu, 23 Feb 2012 21:32:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12515813/5440.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12515813/5440.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -136 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 152 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestAtomicOperation&lt;br/&gt;
                  org.apache.hadoop.hbase.coprocessor.TestClassLoading&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1027//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1027//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1027//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1027//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1027//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1027//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13215178" author="lhofhansl" created="Thu, 23 Feb 2012 23:09:45 +0000"  >&lt;p&gt;Ran the failed tests locally. They all pass.&lt;/p&gt;</comment>
                            <comment id="13215380" author="lhofhansl" created="Fri, 24 Feb 2012 04:55:28 +0000"  >&lt;p&gt;Would review board help?&lt;br/&gt;
This is actually a pretty simple change:&lt;br/&gt;
import can optionally import into HFiles. In that case a new mapper and an additional reducer are used (similar to what importtsv does).&lt;/p&gt;

&lt;p&gt;Most of the changes are just so that code can be shared between KeyValueImporter and the existing Importer mapper classes.&lt;/p&gt;</comment>
                            <comment id="13215388" author="stack" created="Fri, 24 Feb 2012 05:13:32 +0000"  >&lt;p&gt;LGTM.  Whats missing is better documentation in the usage for Import.  This new option will be under a rock unless its better surfaced.  +1 on commit after beefing up usage.  Add some lines under here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Usage: Import &amp;lt;tablename&amp;gt; &amp;lt;inputdir&amp;gt;&quot;&lt;/span&gt;);
+    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Usage: Import [-D&quot;&lt;/span&gt; + BULK_OUTPUT_CONF_KEY
+        + &lt;span class=&quot;code-quote&quot;&gt;&quot;=/path/&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;/output] &amp;lt;tablename&amp;gt; &amp;lt;inputdir&amp;gt;&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... going on about what the -D thingy does.&lt;/p&gt;

&lt;p&gt;Good stuff.&lt;/p&gt;</comment>
                            <comment id="13215395" author="lhofhansl" created="Fri, 24 Feb 2012 05:31:59 +0000"  >&lt;p&gt;Yeah, you&apos;re right of course &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Will do and a post a new patch soon.&lt;/p&gt;</comment>
                            <comment id="13215430" author="lhofhansl" created="Fri, 24 Feb 2012 06:34:49 +0000"  >&lt;p&gt;How about this. Same patch, just different message.&lt;/p&gt;

&lt;p&gt;Note that I manually tested this. I have not managed to create a test for this.&lt;br/&gt;
Might think about a good test more in a separate jira.&lt;/p&gt;</comment>
                            <comment id="13215438" author="stack" created="Fri, 24 Feb 2012 06:40:15 +0000"  >&lt;p&gt;+1 on commit.&lt;/p&gt;</comment>
                            <comment id="13215444" author="lhofhansl" created="Fri, 24 Feb 2012 06:47:54 +0000"  >&lt;p&gt;Committed to trunk. Thanks for reviewing stack!&lt;/p&gt;</comment>
                            <comment id="13216325" author="hudson" created="Sat, 25 Feb 2012 06:01:28 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #122 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/122/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5440&quot; title=&quot;Allow Import to optionally use HFileOutputFormat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5440&quot;&gt;&lt;del&gt;HBASE-5440&lt;/del&gt;&lt;/a&gt; Allow Import to optionally use HFileOutputFormat (Revision 1293101)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13216343" author="hudson" created="Sat, 25 Feb 2012 06:08:56 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2669 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2669/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2669/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5440&quot; title=&quot;Allow Import to optionally use HFileOutputFormat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5440&quot;&gt;&lt;del&gt;HBASE-5440&lt;/del&gt;&lt;/a&gt; Allow Import to optionally use HFileOutputFormat (Revision 1293101)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/mapreduce/Import.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13234568" author="pmackles" created="Wed, 21 Mar 2012 17:39:26 +0000"  >&lt;p&gt;Thanks Lars and Stack. I actually had a chance to play around with this a bit over the weekend and it certainly suited my purposes of being able to restore in a reasonable timeframe should disaster strike. We are actually still on 0.90.4 so I backported the relevant portions of the changes to that version of Import. Happy to create a patch if folks think that might be interesting.&lt;/p&gt;</comment>
                            <comment id="13234595" author="lhofhansl" created="Wed, 21 Mar 2012 17:55:10 +0000"  >&lt;p&gt;Hey Paul, I am glad this is useful for you. Reducing the timeframe for recovery is exactly what I had in mind with this.&lt;br/&gt;
@Stack and @Ram: Are we doing more 0.90 releases? Should we add this?&lt;/p&gt;</comment>
                            <comment id="13239861" author="stack" created="Tue, 27 Mar 2012 19:35:12 +0000"  >&lt;p&gt;@Lars Up to Ram.  I&apos;ve moved on.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515890" name="5440-v2.txt" size="8999" author="lhofhansl" created="Fri, 24 Feb 2012 06:34:48 +0000"/>
                            <attachment id="12515813" name="5440.txt" size="8774" author="lhofhansl" created="Thu, 23 Feb 2012 20:49:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Feb 2012 21:32:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08r27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>