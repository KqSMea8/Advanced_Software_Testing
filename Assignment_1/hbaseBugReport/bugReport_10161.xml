<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:11:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10161/HBASE-10161.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10161] [AccessController] Tolerate regions in recovery</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10161</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;AccessController fixes for the issue also affecting VisibilityController described on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10148&quot; title=&quot;[VisibilityController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10148&quot;&gt;&lt;del&gt;HBASE-10148&lt;/del&gt;&lt;/a&gt;. Coprocessors that initialize in postOpen upcalls must check if the region is still in recovery and defer initialization until recovery is complete. We need to add a new CP hook for post recovery upcalls and modify existing CPs to defer initialization until this new hook as needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684511">HBASE-10161</key>
            <summary>[AccessController] Tolerate regions in recovery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2013 18:00:56 +0000</created>
                <updated>Sat, 21 Feb 2015 23:31:22 +0000</updated>
                            <resolved>Sat, 21 Dec 2013 00:46:59 +0000</resolved>
                                    <version>0.96.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.2</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13847719" author="apurtell" created="Fri, 13 Dec 2013 18:01:23 +0000"  >&lt;p&gt;Depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10157&quot; title=&quot;Provide CP hook post log replay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10157&quot;&gt;&lt;del&gt;HBASE-10157&lt;/del&gt;&lt;/a&gt; for the new CP hook.&lt;/p&gt;</comment>
                            <comment id="13847768" author="ghelmling" created="Fri, 13 Dec 2013 18:47:51 +0000"  >&lt;p&gt;I understand the need for the fixes here and the new post replay hook, but I&apos;d like to inject the consideration if there is some way we can make the implications or intent clearer for potential coprocessor developers.  postOpen() was used for region coprocessor initialization because it seemed to be the right moment in the region lifecycle to initialize things.  But it seems to me like we should consider starting to create more of a separation between region lifecycle and coprocessor lifecycle.  My concern is that we&apos;re even further implicitly tying coprocessor lifecycle further into implementation details of the region lifecycle, and I think many coprocessor authors and unlikely to consider &quot;I need to wait for region recovery and log replay to complete if necessary&quot;.  I think they&apos;re more likely to be concerned with &quot;initialize my coprocessor from the available data when we&apos;re ready to go&quot;.&lt;/p&gt;

&lt;p&gt;If others agree, maybe we should move this discussion into a new JIRA, but should we consider adding a new lifecycle-targeted RegionObserver hook, something like initializeWhenAvailable(), to be called only replay (and whatever new steps/requirements we add in the future) are complete?&lt;/p&gt;</comment>
                            <comment id="13847773" author="apurtell" created="Fri, 13 Dec 2013 18:51:28 +0000"  >&lt;p&gt;That sounds good to me Gary, we need to fix the issue at hand for the CPs we have today, but should certainly welcome design and patches for simplifying for CP implementors the issues around region lifecycle and coprocessor lifecycle.&lt;/p&gt;</comment>
                            <comment id="13847813" author="ghelmling" created="Fri, 13 Dec 2013 19:26:03 +0000"  >&lt;p&gt;Added &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10162&quot; title=&quot;Add RegionObserver lifecycle hook to be called when region is available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10162&quot;&gt;HBASE-10162&lt;/a&gt; for follow up.&lt;/p&gt;</comment>
                            <comment id="13849952" author="apurtell" created="Tue, 17 Dec 2013 00:53:22 +0000"  >&lt;p&gt;We don&apos;t need to check in postOpen if the region is in recovery?&lt;/p&gt;</comment>
                            <comment id="13849954" author="apurtell" created="Tue, 17 Dec 2013 00:53:48 +0000"  >&lt;p&gt;Don&apos;t we have to deny everything until initialized?&lt;/p&gt;</comment>
                            <comment id="13850060" author="hadoopqa" created="Tue, 17 Dec 2013 03:25:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12619009/HBASE-10161.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12619009/HBASE-10161.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8195//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13850108" author="anoop.hbase" created="Tue, 17 Dec 2013 04:58:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;We don&apos;t need to check in postOpen if the region is in recovery?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes we have to...  Oh I can see that change in my eclipse code base but in this patch.. I think I have attached wrongly the 1st patch I produced with out this change..  Will do that in the next patch.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Don&apos;t we have to deny everything until initialized?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What I was thinking is I will make this table also as write on replay false. (Again missing this also in this patch because of the above reason &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;br/&gt;
Any read request to the table will fail with RegionInRecoveryException.  The permission checking will rely on cache and so those ops also might fail &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
In other patch for visibility the write ops I have checked as we were using the ordinal no also which might not be initialized. &lt;br/&gt;
What all ops u feel we need to check for init. The admin ops on acl table?&lt;/p&gt;</comment>
                            <comment id="13850118" author="apurtell" created="Tue, 17 Dec 2013 05:15:53 +0000"  >&lt;p&gt;Everything should be access denied until initialized except for superuser actions. &lt;/p&gt;</comment>
                            <comment id="13853990" author="hadoopqa" created="Fri, 20 Dec 2013 14:27:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12619800/HBASE-10161_V2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12619800/HBASE-10161_V2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12619800&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.access.TestAccessController&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8243//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13854146" author="anoop.hbase" created="Fri, 20 Dec 2013 16:48:12 +0000"  >&lt;p&gt;Test failure is addressed by the addendum committed to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10173&quot; title=&quot;Need HFile version check in security coprocessors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10173&quot;&gt;&lt;del&gt;HBASE-10173&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13854156" author="apurtell" created="Fri, 20 Dec 2013 16:59:22 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13854160" author="apurtell" created="Fri, 20 Dec 2013 17:01:50 +0000"  >&lt;p&gt;One question. This part:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java	(revision 1552489)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java	(working copy)
@@ -116,6 +116,8 @@
             Compression.Algorithm.NONE.getName(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, 8 * 1024,
             HConstants.FOREVER, BloomType.NONE.toString(),
             HConstants.REPLICATION_SCOPE_LOCAL));
+    ACL_TABLEDESC.setValue(Bytes.toBytes(HConstants.DISALLOW_WRITES_IN_RECOVERING),
+        Bytes.toBytes(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For future use? &lt;/p&gt;</comment>
                            <comment id="13854185" author="anoop.hbase" created="Fri, 20 Dec 2013 17:14:25 +0000"  >&lt;p&gt;We have initilaized boolean checks now. I think I can remove this. Fine on that Andy?&lt;/p&gt;</comment>
                            <comment id="13854191" author="apurtell" created="Fri, 20 Dec 2013 17:17:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think I can remove this. Fine on that Andy?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure&lt;/p&gt;</comment>
                            <comment id="13854198" author="anoop.hbase" created="Fri, 20 Dec 2013 17:19:54 +0000"  >&lt;p&gt;V3 which avoids the change in AccessControlLists. Going to commit now&lt;/p&gt;</comment>
                            <comment id="13854206" author="anoop.hbase" created="Fri, 20 Dec 2013 17:24:05 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. This is required in 96 branch also. Pls +1&lt;/p&gt;</comment>
                            <comment id="13854311" author="anoop.hbase" created="Fri, 20 Dec 2013 17:50:25 +0000"  >&lt;p&gt;Committed to 0.98 and Trunk. Will add to 0.96 as well once Stack gives a go.&lt;/p&gt;</comment>
                            <comment id="13854543" author="stack" created="Fri, 20 Dec 2013 20:45:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt; If you say so.  Will this break existing CPs?&lt;/p&gt;</comment>
                            <comment id="13854700" author="anoop.hbase" created="Sat, 21 Dec 2013 00:26:26 +0000"  >&lt;p&gt;No. This will solve the problem of AC not getting initialized when log replaying frsture is ON. I will commit to 96 branch also in some time. Thanks Stack&lt;/p&gt;</comment>
                            <comment id="13855040" author="hudson" created="Sun, 22 Dec 2013 00:53:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4742 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4742/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4742/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;AccessController&amp;#93;&lt;/span&gt; Tolerate regions in recovery (anoopsamjohn: rev 1552748)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855054" author="hudson" created="Sun, 22 Dec 2013 01:51:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #235 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/235/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/235/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;AccessController&amp;#93;&lt;/span&gt; Tolerate regions in recovery (anoopsamjohn: rev 1552853)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855063" author="hudson" created="Sun, 22 Dec 2013 02:12:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #158 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/158/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/158/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;AccessController&amp;#93;&lt;/span&gt; Tolerate regions in recovery (anoopsamjohn: rev 1552853)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855087" author="hudson" created="Sun, 22 Dec 2013 03:46:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #14 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/14/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/14/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;AccessController&amp;#93;&lt;/span&gt; Tolerate regions in recovery (anoopsamjohn: rev 1552748)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855261" author="hudson" created="Sun, 22 Dec 2013 20:31:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #28 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/28/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/28/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;AccessController&amp;#93;&lt;/span&gt; Tolerate regions in recovery (anoopsamjohn: rev 1552749)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855316" author="hudson" created="Mon, 23 Dec 2013 00:02:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #25 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/25/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/25/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10161&quot; title=&quot;[AccessController] Tolerate regions in recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10161&quot;&gt;&lt;del&gt;HBASE-10161&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;AccessController&amp;#93;&lt;/span&gt; Tolerate regions in recovery (anoopsamjohn: rev 1552749)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330816" author="enis" created="Sat, 21 Feb 2015 23:31:22 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12684376">HBASE-10148</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12684496">HBASE-10155</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12684503">HBASE-10157</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12619009" name="HBASE-10161.patch" size="1041" author="anoop.hbase" created="Tue, 17 Dec 2013 00:49:54 +0000"/>
                            <attachment id="12619800" name="HBASE-10161_V2.patch" size="3714" author="anoop.hbase" created="Fri, 20 Dec 2013 11:33:40 +0000"/>
                            <attachment id="12619861" name="HBASE-10161_V3.patch" size="3024" author="anoop.hbase" created="Fri, 20 Dec 2013 17:19:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Dec 2013 18:47:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qo73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363889</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>