<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:14:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-16439/HBASE-16439.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-16439] Row mutation: missing rows with Put contains thousands of columns</title>
                <link>https://issues.apache.org/jira/browse/HBASE-16439</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Some rows is missing when put them into a table using mutateRow method and each row has thousands of columns. The code excerpt:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (HConnection hc = HConnectionManager.createConnection(conf)) {
	&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (HTableInterface table = hc.getTable(tableName)) {
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LocalDate startDate = LocalDate.of(1980, 01, 01); 
		&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 15000; i++) {
			&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] row = Bytes.toBytes(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.toString(i));

			&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; ts = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis();
			Put put = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Put(row, ts + 1);
			LocalDate date = startDate; 
			&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j = 0; j &amp;lt; 5000; j++) {
				put.add(
					family,
					Bytes.toBytes(DateTimeFormatter.BASIC_ISO_DATE.format(date)),
					Bytes.toBytes(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.toString(j))
				);
				date = date.plusDays(1);
			}
			
			RowMutations rm = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RowMutations(row);

			rm.add(put);
			
			table.mutateRow(rm);
		}
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Resulting number of rows varies - sometimes it 200, sometimes it 8000. But never expected 15000.&lt;br/&gt;
The full code of test application is attached.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cloudera CDH 5.3.3&lt;/p&gt;</environment>
        <key id="12997916">HBASE-16439</key>
            <summary>Row mutation: missing rows with Put contains thousands of columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stas.makutin">Stas Makutin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Aug 2016 14:10:58 +0000</created>
                <updated>Thu, 18 Aug 2016 14:21:59 +0000</updated>
                            <resolved>Thu, 18 Aug 2016 14:14:35 +0000</resolved>
                                    <version>0.98.6</version>
                                                    <component>hbase</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15424585" author="jmspaggi" created="Wed, 17 Aug 2016 14:13:50 +0000"  >&lt;p&gt;Hi Stas,&lt;/p&gt;

&lt;p&gt;Reading your code, it seems you try to create 15 000 rows of 5 00 columns. But you are expecting to see 15 000 columns. Am I reading something badly?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="15424589" author="stas.makutin" created="Wed, 17 Aug 2016 14:15:57 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;. Sorry, I mean rows. Fixed the description.&lt;/p&gt;</comment>
                            <comment id="15424832" author="apurtell" created="Wed, 17 Aug 2016 16:20:20 +0000"  >&lt;p&gt;Please contact your vendor (CDH) for support. &lt;/p&gt;

&lt;p&gt;The latest release of HBase 0.98 is 0.98.21. If this can be reproduced with that version, we can take a look. The latest stable version of HBase is 1.2.2. If you are still on 0.98 you should consider upgrading to 1.2. &lt;/p&gt;</comment>
                            <comment id="15424847" author="jmspaggi" created="Wed, 17 Aug 2016 16:30:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; I&apos;m trying to reproduce that on different versions and see what it gives. I will update here with the result...&lt;/p&gt;</comment>
                            <comment id="15424850" author="apurtell" created="Wed, 17 Aug 2016 16:32:22 +0000"  >&lt;p&gt;Ok thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15426528" author="jmspaggi" created="Thu, 18 Aug 2016 14:13:42 +0000"  >&lt;p&gt;I built the example with the given pom (CDH 5.3.3).&lt;/p&gt;

&lt;p&gt;Tested it against CDH 5.3.0 =&amp;gt; Able to reproduce&lt;br/&gt;
Tested it against HBase 0.98.21 just released =&amp;gt; Not able to reproduce.&lt;br/&gt;
Tested it against CDH 5.3.10 (Last CDH 5.3 release) =&amp;gt; Able to reproduce&lt;/p&gt;

&lt;p&gt;So please open a ticket with the specific vendor.&lt;/p&gt;</comment>
                            <comment id="15426531" author="jmspaggi" created="Thu, 18 Aug 2016 14:14:36 +0000"  >&lt;p&gt;Not an Apache HBase 0.98 issue. Fixed on Apache side. Might be vendor specific. Please contact Cloudera support or ask on the Cloudera Community forum.&lt;/p&gt;</comment>
                            <comment id="15426537" author="stas.makutin" created="Thu, 18 Aug 2016 14:21:59 +0000"  >&lt;p&gt;Thank you very much &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12824143" name="HBaseAtomic.zip" size="2827" author="stas.makutin" created="Wed, 17 Aug 2016 14:11:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Aug 2016 14:13:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i32fc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>