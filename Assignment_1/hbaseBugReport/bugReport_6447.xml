<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6447/HBASE-6447.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6447] Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6447</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Studying 0.94 failures of late, in the last 15 or so builds, TestZooKeeper has failed at least three times.  Running it local, it fails 50% of the time: once with testCreateSilentIsReallySilent and then less frequently with testMasterExpiration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600026">HBASE-6447</key>
            <summary>Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jul 2012 15:37:15 +0000</created>
                <updated>Wed, 24 Oct 2012 05:40:43 +0000</updated>
                            <resolved>Wed, 25 Jul 2012 09:31:52 +0000</resolved>
                                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.92.2</fixVersion>
                    <fixVersion>0.94.2</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13421488" author="stack" created="Tue, 24 Jul 2012 15:43:16 +0000"  >&lt;p&gt;Patch for 0.94 branch.&lt;/p&gt;

&lt;p&gt;I disabled testMasterSessionExpired.  It kills master session and at same time tries to create a table and do some puts to it.  Of course, this fails (First I fixed the PleaseHoldException handling and then I got an IOE complaining about zk error; i.e. session expired so could not set table enabling state up in zk).  My guess is this used to work when in old days, no state in zk regards enabling/disabling meant enabling... but a while a go we changed this so a table has enabled state up in zk on creation.  Timing had this working most of the time though it should have just failed.&lt;/p&gt;

&lt;p&gt;The other test fail has us using a raw ZK rather than a recoverable ZK to do some acl manipulations up in zk.  The raw zk is used because recoverable doesn&apos;t have acl setting support (is my guess &amp;#8211; we should probably add it but this issue is about fixing tests).  So, I added to the test what recoverableZK does around the two calls that could fail: setACL and create.&lt;/p&gt;

&lt;p&gt;When I run this patch locally, it passes all the time now.&lt;/p&gt;</comment>
                            <comment id="13421490" author="stack" created="Tue, 24 Jul 2012 15:46:10 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13421542" author="zhihyu@ebaysf.com" created="Tue, 24 Jul 2012 17:05:07 +0000"  >&lt;p&gt;Patch looks good.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+            Threads.sleep(100);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should a shorter interval be used ?&lt;/p&gt;</comment>
                            <comment id="13421554" author="zhihyu@ebaysf.com" created="Tue, 24 Jul 2012 17:17:54 +0000"  >&lt;p&gt;Looking at RecoverableZooKeeper#create(), it seems it already handles retry through createNonSequential(), etc&lt;/p&gt;

&lt;p&gt;I logged &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6448&quot; title=&quot;Add RecoverableZooKeeper#setACL which handles transient zookeeper exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6448&quot;&gt;&lt;del&gt;HBASE-6448&lt;/del&gt;&lt;/a&gt; for adding retry logic in RecoverableZooKeeper#setACL().&lt;/p&gt;</comment>
                            <comment id="13422117" author="stack" created="Wed, 25 Jul 2012 09:31:52 +0000"  >&lt;p&gt;Committed to trunk and to 0.94 and 0.92 branches.  Thanks for review Ted.&lt;/p&gt;</comment>
                            <comment id="13422137" author="hudson" created="Wed, 25 Jul 2012 10:23:08 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #368 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/368/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/368/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6447&quot; title=&quot;Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6447&quot;&gt;&lt;del&gt;HBASE-6447&lt;/del&gt;&lt;/a&gt; Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent (Revision 1365503)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13422155" author="hudson" created="Wed, 25 Jul 2012 10:55:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3171 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3171/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3171/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6447&quot; title=&quot;Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6447&quot;&gt;&lt;del&gt;HBASE-6447&lt;/del&gt;&lt;/a&gt; Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent (Revision 1365502)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13422170" author="hudson" created="Wed, 25 Jul 2012 11:40:08 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/109/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6447&quot; title=&quot;Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6447&quot;&gt;&lt;del&gt;HBASE-6447&lt;/del&gt;&lt;/a&gt; Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent (Revision 1365502)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13422379" author="hudson" created="Wed, 25 Jul 2012 16:19:20 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #481 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/481/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6447&quot; title=&quot;Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6447&quot;&gt;&lt;del&gt;HBASE-6447&lt;/del&gt;&lt;/a&gt;  Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent (Revision 1365581)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428731" author="hudson" created="Sun, 5 Aug 2012 00:51:13 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #6 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6447&quot; title=&quot;Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6447&quot;&gt;&lt;del&gt;HBASE-6447&lt;/del&gt;&lt;/a&gt; Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent (Revision 1365503)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428759" author="hudson" created="Sun, 5 Aug 2012 00:58:51 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #47 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/47/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/47/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6447&quot; title=&quot;Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6447&quot;&gt;&lt;del&gt;HBASE-6447&lt;/del&gt;&lt;/a&gt; Common TestZooKeeper failures on jenkins: testMasterSessionExpired and testCreateSilentIsReallySilent (Revision 1365503)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12600040">HBASE-6448</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12537702" name="testzk.txt" size="2730" author="stack" created="Tue, 24 Jul 2012 15:43:16 +0000"/>
                            <attachment id="12537703" name="testzkTRUNK.txt" size="2798" author="stack" created="Tue, 24 Jul 2012 15:46:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jul 2012 17:05:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>