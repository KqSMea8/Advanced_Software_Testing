<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:14:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3954/HBASE-3954.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3954] Pluggable block index</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3954</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Make a pluggable block index system.  The default implementation will be the current one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509288">HBASE-3954</key>
            <summary>Pluggable block index</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jasonrutherglen">Jason Rutherglen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Jun 2011 22:43:09 +0000</created>
                <updated>Sat, 11 Apr 2015 00:42:41 +0000</updated>
                            <resolved>Sat, 11 Apr 2015 00:42:41 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13048673" author="jasonrutherglen" created="Mon, 13 Jun 2011 18:00:10 +0000"  >&lt;p&gt;Here&apos;s a first cut of this.  &lt;/p&gt;

&lt;p&gt;TestHFile passes (except the heap estimator), and TestMultipleTimestamps hangs&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="13048824" author="stack" created="Mon, 13 Jun 2011 22:10:17 +0000"  >&lt;p&gt;Looks good J.&lt;/p&gt;

&lt;p&gt;You add imports in HFileOutputFormat.java but doesn&apos;t seem like you use them?&lt;/p&gt;

&lt;p&gt;Why this is public?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; blockIndexClassName = &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.io.hfile.SimpleBlockIndex&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why not use the define you made above?&lt;/p&gt;

&lt;p&gt;Should we let this out of HFile?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
getBlockIndexImpl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Its public.  Should it be private?&lt;/p&gt;


&lt;p&gt;This seems dodgy doing it writing out the trailer:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+        blockIndex = (AbstractBlockIndex)&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(blockIndexClass).newInstance();
+      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception ex) {
+        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&quot;&quot;, ex);
+      }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We&apos;ve just written a bunch of data.  If we fail the above for whatever reason, we get an exception and will likely lose the data we just wrote.  Can this reflection be done creating the Writer and kept around for writing the trailer?  If fails on construction, at least no data will have been written.&lt;/p&gt;

&lt;p&gt;Whats going on here?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metaIndex = BlockIndex.readIndex(Bytes.BYTES_RAWCOMPARATOR, dis,
+        &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; metaIndex == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
+        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metaIndex = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleBlockIndex().readIndex(Bytes.BYTES_RAWCOMPARATOR, dis,
             &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.trailer.metaIndexCount);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why are we referring to SimpleBlockIndex by name?&lt;/p&gt;

&lt;p&gt;There are files missing from your patch?  SimpleBlockIndex and the Interface to implement.&lt;/p&gt;

&lt;p&gt;Good stuff Jason.&lt;/p&gt;</comment>
                            <comment id="13048829" author="jasonrutherglen" created="Mon, 13 Jun 2011 22:18:37 +0000"  >&lt;p&gt;Oops, my patch generation skills are rusty.  Here it is with the missing files.  &lt;/p&gt;

&lt;p&gt;@Stack Thanks for reviewing, I&apos;ll post a new patch shortly incorporating the comments&lt;/p&gt;</comment>
                            <comment id="13048831" author="jasonrutherglen" created="Mon, 13 Jun 2011 22:18:54 +0000"  >&lt;p&gt;Patch with missing files.&lt;/p&gt;</comment>
                            <comment id="13048853" author="jasonrutherglen" created="Mon, 13 Jun 2011 22:57:26 +0000"  >&lt;p&gt;Here&apos;s a patch incorporating the comments given.  &lt;/p&gt;

&lt;p&gt;I am going to create an FST version next to insure the available AbstractBlockIndex method calls will work.&lt;/p&gt;</comment>
                            <comment id="13048876" author="tlipcon" created="Mon, 13 Jun 2011 23:29:40 +0000"  >&lt;p&gt;mind posting this to reviewboard since it&apos;s fairly lengthy?&lt;/p&gt;</comment>
                            <comment id="13048880" author="jasonrutherglen" created="Mon, 13 Jun 2011 23:33:37 +0000"  >&lt;p&gt;What&apos;s reviewboard?  We should add it to this page?  &lt;a href=&quot;http://wiki.apache.org/hadoop/Hbase/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hbase/HowToContribute&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13048885" author="stack" created="Mon, 13 Jun 2011 23:39:21 +0000"  >&lt;p&gt;reviews.apache.org&lt;/p&gt;

&lt;p&gt;Make yourself an account.  You post patches up there.  Its a tool that makes it easier on reviewers.  Yeah, should add it to the wiki page.  Mind adding it Jason (after you&apos;ve figured out what it is &amp;#8211; smile).  Notion is that if patches get a little large, its best to put them up on reviews.apache.org rather than attach them to the issue.  Once reviews are done, practise has been to attach the final version to the issue (though this latter is probably not necessary).&lt;/p&gt;</comment>
                            <comment id="13048894" author="jasonrutherglen" created="Mon, 13 Jun 2011 23:47:04 +0000"  >&lt;p&gt;What&apos;s the &quot;Base Directory&quot;?&lt;/p&gt;

&lt;p&gt;Keep getting:&lt;/p&gt;

&lt;p&gt;&quot;The file &apos;trunk/src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFile.java&apos; (r1135334) could not be found in the repository&quot;&lt;/p&gt;</comment>
                            <comment id="13048901" author="stack" created="Mon, 13 Jun 2011 23:55:23 +0000"  >&lt;p&gt;You a git head or svn&apos;er?  Make sure you pick appropriately &amp;#8211; hbase for svn and hbase-git for git.  Base dir is &apos;.&apos;  or &apos;trunk&apos; (I think)&lt;/p&gt;</comment>
                            <comment id="13048908" author="jasonrutherglen" created="Tue, 14 Jun 2011 00:02:59 +0000"  >&lt;p&gt;This one&apos;s svn.  I added the review, the answer to the path question is &apos;.&apos;  Is there a link I should post here to the reviewboard?&lt;/p&gt;</comment>
                            <comment id="13048931" author="nspiegelberg" created="Tue, 14 Jun 2011 01:17:57 +0000"  >&lt;p&gt;@Jason: could you explain a little bit about why you need a custom block index scheme?  We are currently in the testing phase of multi-level block indices &amp;amp; HFile refactoring, which I think may cause significant conflicts with your efforts if not abstracted properly.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3856&quot; title=&quot;Build a tree structure data block index inside of the HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3856&quot;&gt;&lt;del&gt;HBASE-3856&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13049342" author="stack" created="Tue, 14 Jun 2011 19:06:31 +0000"  >&lt;p&gt;@Jason If you mention &apos;hbase-3954&apos; in the &apos;bugs&apos; field and/or summary, one of them triggers the review board appending JIRA.&lt;/p&gt;

&lt;p&gt;@Nicolas Any chance of the &apos;girls&apos; pasting an update on the issue?&lt;/p&gt;


&lt;p&gt;Good stuff.&lt;/p&gt;</comment>
                            <comment id="13049368" author="nspiegelberg" created="Tue, 14 Jun 2011 19:48:55 +0000"  >&lt;p&gt;@stack: Mikhail is working on the open source port.  It will be about 6 sizable diffs.  He should be starting that task this week.&lt;/p&gt;</comment>
                            <comment id="13049483" author="jasonrutherglen" created="Tue, 14 Jun 2011 22:30:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you mention &apos;hbase-3954&apos; in the &apos;bugs&apos; field and/or summary, one of them triggers the review board appending JIRA.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s in the summary and the bugs, hmm... What should happen next?&lt;/p&gt;</comment>
                            <comment id="13049484" author="jiraposter@reviews.apache.org" created="Tue, 14 Jun 2011 22:30:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/897/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-14 22:29:39.103693)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3954&quot; title=&quot;Pluggable block index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3954&quot;&gt;&lt;del&gt;HBASE-3954&lt;/del&gt;&lt;/a&gt; patch - Make a pluggable block index system. The default implementation will be the current one.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3954&quot; title=&quot;Pluggable block index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3954&quot;&gt;&lt;del&gt;HBASE-3954&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3954&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3954&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ./src/main/java/org/apache/hadoop/hbase/io/hfile/AbstractBlockIndex.java PRE-CREATION &lt;br/&gt;
  ./src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java 1135334 &lt;br/&gt;
  ./src/main/java/org/apache/hadoop/hbase/io/hfile/SimpleBlockIndex.java PRE-CREATION &lt;br/&gt;
  ./src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFile.java 1135334 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/897/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;jasonrutherglen&lt;/p&gt;
</comment>
                            <comment id="13049485" author="jasonrutherglen" created="Tue, 14 Jun 2011 22:30:59 +0000"  >&lt;p&gt;In any case, here&apos;s the link to the review: &lt;a href=&quot;https://reviews.apache.org/r/897/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13049590" author="jiraposter@reviews.apache.org" created="Wed, 15 Jun 2011 03:23:48 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/897/#review840&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/#review840&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;./src/main/java/org/apache/hadoop/hbase/io/hfile/AbstractBlockIndex.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/897/#comment1824&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/#comment1824&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This method is covered by getBlockKey().&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ted&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-06-14 22:29:39, jasonrutherglen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/897/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-14 22:29:39)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3954&quot; title=&quot;Pluggable block index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3954&quot;&gt;&lt;del&gt;HBASE-3954&lt;/del&gt;&lt;/a&gt; patch - Make a pluggable block index system. The default implementation will be the current one.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3954&quot; title=&quot;Pluggable block index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3954&quot;&gt;&lt;del&gt;HBASE-3954&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3954&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3954&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;./src/main/java/org/apache/hadoop/hbase/io/hfile/AbstractBlockIndex.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;./src/main/java/org/apache/hadoop/hbase/io/hfile/HFile.java 1135334 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;./src/main/java/org/apache/hadoop/hbase/io/hfile/SimpleBlockIndex.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;./src/test/java/org/apache/hadoop/hbase/io/hfile/TestHFile.java 1135334 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/897/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/897/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;jasonrutherglen&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13050799" author="jasonrutherglen" created="Thu, 16 Jun 2011 23:25:49 +0000"  >&lt;p&gt;I think the issue with this patch is I&apos;m not yet sure how the FST (or similar prefix compression systems) will plugin.  It&apos;s more a first hack at moving the code around.&lt;/p&gt;</comment>
                            <comment id="13050833" author="yuzhihong@gmail.com" created="Fri, 17 Jun 2011 01:02:23 +0000"  >&lt;p&gt;A draft implementation of using FST would make AbstractBlockIndex more concrete.&lt;/p&gt;

&lt;p&gt;@Mikhail, @Liyin:&lt;br/&gt;
Please comment on how AbstractBlockIndex may be shaped to support multi-level indexing.&lt;/p&gt;</comment>
                            <comment id="13050867" author="stack" created="Fri, 17 Jun 2011 02:27:06 +0000"  >&lt;p&gt;Yeah, an API that worked for FST and current index would give you some hope your abstraction is heading in right direction&lt;/p&gt;</comment>
                            <comment id="13051171" author="jasonrutherglen" created="Fri, 17 Jun 2011 16:25:33 +0000"  >&lt;p&gt;@Stack Right, today the first key of each block is binary searched on to find the block containing the key.  People may specify smaller blocks in order to &lt;span class=&quot;error&quot;&gt;&amp;#91;possibly&amp;#93;&lt;/span&gt; cut down on the seek time.  With this issue we will decouple key search from the &quot;first key of the block&quot; index/array.  &lt;/p&gt;

&lt;p&gt;Users may specify larger block sizes (which will load fewer full length keys into RAM).  The FST will contain more keys than the number of blocks, so the FST value will point to within the block (rather than just the beginning of the block).&lt;/p&gt;</comment>
                            <comment id="13062263" author="jasonrutherglen" created="Sat, 9 Jul 2011 00:23:39 +0000"  >&lt;p&gt;I&apos;m not actively working on this as I think it requires seeking to within a block.  I think that will be tricky.  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12506310">HBASE-3856</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12482489" name="HBASE-3954.patch" size="33268" author="jasonrutherglen" created="Mon, 13 Jun 2011 22:57:26 +0000"/>
                            <attachment id="12482481" name="HBASE-3954.patch" size="32104" author="jasonrutherglen" created="Mon, 13 Jun 2011 22:18:54 +0000"/>
                            <attachment id="12482354" name="HBASE-3954.patch" size="21625" author="jasonrutherglen" created="Mon, 13 Jun 2011 18:00:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Jun 2011 22:10:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09vv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>