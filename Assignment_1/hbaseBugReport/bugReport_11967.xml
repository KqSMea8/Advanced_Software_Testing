<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:28:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11967/HBASE-11967.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11967] HMaster in standalone won&apos;t go down if it gets &apos;Unhandled exception&apos;</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11967</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Got this testing 0.99.0 RC.&lt;/p&gt;

&lt;p&gt;I started it up after unbundling and got this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 99 2014-09-12 14:50:42,761 FATAL [ActiveMasterManager] master.HMaster: Unhandled exception. Starting shutdown.
100 org.apache.hadoop.hbase.util.FileSystemVersionException: HBase file layout needs to be upgraded. You have version &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; and I want version 8. Consult http:&lt;span class=&quot;code-comment&quot;&gt;//hbase.apache.org/book.html &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; further information about upgrading HBase. Is your hbase.rootdir valid? If so, you may need to run &apos;hbase hbck -fixVersionFile&apos;.
&lt;/span&gt;101   at org.apache.hadoop.hbase.util.FSUtils.checkVersion(FSUtils.java:587)
....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But now my master is stuck trying to become master in here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 46 &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; prio=5 tid=0x00007fe825001000 nid=0x1303 waiting on condition [0x0000000107383000]
 47    java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
 48   at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
 49   at org.apache.hadoop.hbase.util.JVMClusterUtil.startup(JVMClusterUtil.java:218)
 50   at org.apache.hadoop.hbase.LocalHBaseCluster.startup(LocalHBaseCluster.java:438)
 51   at org.apache.hadoop.hbase.master.HMasterCommandLine.startMaster(HMasterCommandLine.java:188)
 52   at org.apache.hadoop.hbase.master.HMasterCommandLine.run(HMasterCommandLine.java:139)
 53   at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)
 54   at org.apache.hadoop.hbase.util.ServerCommandLine.doMain(ServerCommandLine.java:126)
 55   at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:1794)
...

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any ideas &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;?  Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12741182">HBASE-11967</key>
            <summary>HMaster in standalone won&apos;t go down if it gets &apos;Unhandled exception&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Sep 2014 21:57:06 +0000</created>
                <updated>Sat, 21 Feb 2015 23:41:12 +0000</updated>
                            <resolved>Thu, 9 Oct 2014 21:14:39 +0000</resolved>
                                    <version>0.99.0</version>
                                    <fixVersion>0.99.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14132215" author="stack" created="Fri, 12 Sep 2014 22:23:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; looked at it.  My FS was messed up.  Had a meta region but no version file.  Looking at this having trouble figuring how we got into this state.  Let me reproduce.  Then it will be easy fix.&lt;/p&gt;</comment>
                            <comment id="14132240" author="jxiang" created="Fri, 12 Sep 2014 22:44:47 +0000"  >&lt;p&gt;But it should shutdown instead of stuck, right?&lt;/p&gt;</comment>
                            <comment id="14132309" author="stack" created="Fri, 12 Sep 2014 23:36:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; Yessir. I found a means by which we get stuck rather than go down (or rather, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; identified it as so).  Let me repro in a little test..&lt;/p&gt;</comment>
                            <comment id="14136262" author="stack" created="Tue, 16 Sep 2014 21:26:20 +0000"  >&lt;p&gt;So, this is semi-legit. The RS was dying because it could not parse old style HTD.  This has been fixed.  We were starting standalone w/ a RS only it went away.  The master is just hanging out waiting for a RS to check in but none coming.  In standalone mode we wait 200 seconds and then go down.  Maybe make this less than 200 seconds in standalone?&lt;/p&gt;</comment>
                            <comment id="14136278" author="jxiang" created="Tue, 16 Sep 2014 21:34:49 +0000"  >&lt;p&gt;I see. That&apos;s why it is gone after a while. +1 on making it less than 200 seconds.&lt;/p&gt;</comment>
                            <comment id="14165755" author="stack" created="Thu, 9 Oct 2014 21:14:39 +0000"  >&lt;p&gt;Resolving as not a problem.  RS was not coming up.  Master was just waiting on it to come in.  Maybe in standalone mode, the master should be more cognizant of RS in same heap but that&apos;d be messy. &lt;/p&gt;

&lt;p&gt;Could change default of 200seconds but to what?  120?  60?&lt;/p&gt;

&lt;p&gt;Just leaving it as is for now till someone else complains.&lt;/p&gt;</comment>
                            <comment id="14331476" author="enis" created="Sat, 21 Feb 2015 23:41:12 +0000"  >&lt;p&gt;Closing this issue after 0.99.1 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Sep 2014 22:44:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zzun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>