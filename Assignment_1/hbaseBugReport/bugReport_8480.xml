<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:55:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8480/HBASE-8480.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8480] Embed HDFS into HBase</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8480</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase is often a bit more involved to get going. We already have the option to host ZooKeeper for very small clusters. We should have the same for HDFS. The idea is that it adjusts replication based on the number of nodes, i.e. from 1 to 3 (the default), so that you could start with a single node and grow the cluster from there. Once the cluster reaches a certain size, and the admin decides to split the components, we should have a why to export the proper configs/settings so that you can easily start up an external HDFS and/or ZooKeeper, while updating the HBase config as well to point to the new &quot;locations&quot;.&lt;/p&gt;

&lt;p&gt;The goal is to start a fully operational HBase that can grow from single machine to multi machine clusters with just a single daemon on each machine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645752">HBASE-8480</key>
            <summary>Embed HDFS into HBase</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="larsgeorge">Lars George</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 May 2013 07:22:05 +0000</created>
                <updated>Fri, 3 May 2013 06:55:08 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13648045" author="otis" created="Fri, 3 May 2013 00:12:19 +0000"  >&lt;p&gt;+1&lt;br/&gt;
This is getting close to &quot;HBase in a box&quot; - &lt;a href=&quot;http://search-hadoop.com/m/p68C12nb7Hn&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/p68C12nb7Hn&lt;/a&gt; (2010):&lt;br/&gt;
&quot;HBase in a box&quot; is like &quot;dynamic equilibrium&quot;, or &quot;virtual reality&quot;, or &quot;jumbo shrimp&quot;... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13648173" author="stack" created="Fri, 3 May 2013 04:07:21 +0000"  >&lt;p&gt;/me I love when fellows quote the mailing list and the mailing list was good&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt;  So, we have minihbase which has everything in the one jvm.  And then we have pseudo-distributed w/ all daemons on the one node... then we have full-blown cluster.  How you want to bridge between these stages?  How you think it would work?  We&apos;d always write dfs, never local fs?  To go from standalone hbase, we&apos;d allow a dn from another host join the cluster?  How would we pass off Namenode responsibilities to a real namenode?&lt;/p&gt;

&lt;p&gt;I like the idea of bundling the master and regionserver in one binary better; no more special master treatment... any one can be msster and or a regionserver?  That seems easier and would do a bunch of simplification?  Would even help your project here?&lt;/p&gt;

&lt;p&gt;Thanks boss.&lt;/p&gt;</comment>
                            <comment id="13648220" author="larsgeorge" created="Fri, 3 May 2013 06:31:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Yes, that makes sense, we need to define the various steps. I mean, I think for development it is good to have the local and pseudo modes as before. We would just add another choice, i.e. spinning up HDFS as well inside the nodes. Now, going from one to two and then three servers is the tricky part. By default, if you unpack a tarball and spin up HBase, I would stay in local mode as usual. Same for the pseudo distributed mode, i.e. the user will need to configure this as needed herself.&lt;/p&gt;

&lt;p&gt;But then if wanted we could have a little CLI config wizard, that preps the new fully autonomous mode of HBase, where everything is controlled by it, but has all the cluster components. Once you start this, you would either have one server that runs a Master+NameNode process plus a RegionServer+DataNode process. Or if we had the above Master-less option, we can run one single process with all inside - these are just semantics I&apos;d say. Though I personally would love to see the latter eventually to make HBase a single process system to boot with.&lt;/p&gt;

&lt;p&gt;Then as you add nodes, you will have to simply join a new RS+DN process on another node and the config should be amended - but also could stay the same and the dfs.replication factor set to &quot;automatic&quot;, which scales it from 1 to &quot;default&quot; (or a maximum we can specify). In other words, when you run two nodes, then you are setting the replication to 2, with three nodes to 3, with four nodes leave it at 3 and so on.&lt;/p&gt;

&lt;p&gt;That should also include a flag that says when ramping up or down the replication factor that it should apply this to all the files in HDFS. That way you can increase and decrease the nodes as needed.&lt;/p&gt;

&lt;p&gt;As for splitting out the HBM+NN to a separate machine, that is really meaning to shut down the RS+DN process or internal thread on that machine. Adding a SNN or HA NN is then a little beyond the automated scope. Well, the SNN we will need, so that should be handled since clusters are meant to be up forever/a long time. But reconfiguring to non-automatic mode is then done using the CLI wizard or editing the configs, followed by a rolling restart.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I like the idea of bundling the master and regionserver in one binary better; no more special master treatment... any one can be msster and or a regionserver?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I do believe that is only useful in automatic mode, because on a larger cluster with dedicated roles, you already have 2-3 master machines running NNs, ZKs and so on. Then adding Master&apos;s there is trivial (since it is all automatically deployed most of the time by admins). That, methinks, would not really have a tangible advantage. But yes, when things are small, this is certainly something that we should have. See above.&lt;/p&gt;</comment>
                            <comment id="13648231" author="larsgeorge" created="Fri, 3 May 2013 06:55:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=otis&quot; class=&quot;user-hover&quot; rel=&quot;otis&quot;&gt;Otis Gospodnetic&lt;/a&gt; I agree that this is something that needs to be carefully thought about. But on the other hand a lot of things have happened since then, HBase and HDFS have seen many optimizations that makes this more feasible today. Sure, I agree with what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=streamy&quot; class=&quot;user-hover&quot; rel=&quot;streamy&quot;&gt;Jonathan Gray&lt;/a&gt; commented in the thread, we will see users overdo it caused by additional overload of the same single or small cluster setup. But that was always the case.&lt;/p&gt;

&lt;p&gt;I believe we need to also compete with the smaller, easier to get going with NoSQL solutions.&lt;/p&gt;

&lt;p&gt;But then we also should have a Bootstrap backed website &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 May 2013 00:12:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k9en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>