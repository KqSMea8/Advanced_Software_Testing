<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:11:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3581/HBASE-3581.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3581] hbase rpc should send size of response</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3581</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The RPC reply from Server-&amp;gt;Client does not include the size of the payload, it is framed like so:&lt;br/&gt;
&amp;lt;i32&amp;gt; callId&lt;br/&gt;
&amp;lt;byte&amp;gt; errorFlag&lt;br/&gt;
&amp;lt;byte[]&amp;gt; data&lt;/p&gt;

&lt;p&gt;The data segment would contain enough info about how big the response is so that it could be decoded by a writable reader.&lt;/p&gt;

&lt;p&gt;This makes it difficult to write buffering clients, who might read the entire &apos;data&apos; then pass it to a decoder. While less memory efficient, if you want to easily write block read clients (eg: nio) it would be necessary to send the size along so that the client could snarf into a local buf.&lt;/p&gt;

&lt;p&gt;The new proposal is:&lt;br/&gt;
&amp;lt;i32&amp;gt; callId&lt;br/&gt;
&amp;lt;i32&amp;gt; size&lt;br/&gt;
&amp;lt;byte&amp;gt; errorFlag&lt;br/&gt;
&amp;lt;byte[]&amp;gt; data&lt;/p&gt;

&lt;p&gt;the size being sizeof(data) + sizeof(errorFlag).&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12499975">HBASE-3581</key>
            <summary>hbase rpc should send size of response</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="ryanobjc">ryan rawson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Feb 2011 21:08:37 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:54 +0000</updated>
                            <resolved>Tue, 18 Oct 2011 12:20:47 +0000</resolved>
                                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13002228" author="jdcryans" created="Thu, 3 Mar 2011 21:20:15 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13002281" author="tsuna" created="Thu, 3 Mar 2011 22:26:08 +0000"  >&lt;p&gt;-1: Can we &lt;b&gt;please&lt;/b&gt; find a way of making this change such that clients can still support the &quot;old&quot; protocol and the new one at the same time?&lt;/p&gt;

&lt;p&gt;For instance, after sending the &quot;hello&quot; header (&quot;hrpc3&quot; + creds) maybe the server could reply (right now it doesn&apos;t) and say &quot;hey, here&apos;s my version info&quot;.  Because you can&apos;t use the &lt;tt&gt;getProtocolVersion&lt;/tt&gt; RPC to find about this incompatibility.&lt;/p&gt;

&lt;p&gt;Other possibility: swap the errorFlag and the size, and use an extra bit in the error flag, not to indicate an error but to indicate that the size follows.  If we do this, we should refer to &quot;errorFlag&quot; as just &quot;flag&quot; since it&apos;s not going to be only about errors anymore.&lt;/p&gt;</comment>
                            <comment id="13002283" author="tsuna" created="Thu, 3 Mar 2011 22:28:03 +0000"  >&lt;p&gt;I just wanna say I&apos;m very strongly in favor of this change, but I just want it to be done in such a way that clients can determine what variation of the protocol the server speaks, so they can adjust themselves.  This way a single &lt;tt&gt;.jar&lt;/tt&gt; can talk to different HBase versions with no code change and no configuration setting.&lt;/p&gt;</comment>
                            <comment id="13002470" author="stack" created="Fri, 4 Mar 2011 06:43:28 +0000"  >&lt;p&gt;@Beno&#238;t I like your second idea, choosing a few bits in error as version for what follows (version 1 adds a size field).  You&apos;ll have to change your client to deal w/ this new &apos;flag&apos; field?  &lt;/p&gt;</comment>
                            <comment id="13002471" author="stack" created="Fri, 4 Mar 2011 06:43:51 +0000"  >&lt;p&gt;Hmmm... We should do your first suggestion too.&lt;/p&gt;</comment>
                            <comment id="13002480" author="ryanobjc" created="Fri, 4 Mar 2011 06:58:36 +0000"  >&lt;p&gt;Codewise it would be easiest to do the flag suggestion, the other&lt;br/&gt;
would require a little design probably to make sure we dont make any&lt;br/&gt;
bad choices and can be extendable for a long time.&lt;/p&gt;</comment>
                            <comment id="13003104" author="tsuna" created="Sun, 6 Mar 2011 06:01:11 +0000"  >&lt;p&gt;Yeah I also like the flag suggestion better.  It&apos;s easy to implement both in the server and in the client.&lt;/p&gt;</comment>
                            <comment id="13005818" author="apurtell" created="Fri, 11 Mar 2011 20:34:21 +0000"  >&lt;p&gt;Cancelling patch. Seems there is more work to do?&lt;/p&gt;</comment>
                            <comment id="13005994" author="stack" created="Sat, 12 Mar 2011 06:27:39 +0000"  >&lt;p&gt;Yes.  We should do Beno&#238;t&apos;s first suggestion.&lt;/p&gt;</comment>
                            <comment id="13047520" author="stack" created="Fri, 10 Jun 2011 22:45:37 +0000"  >&lt;p&gt;Moving out of 0.92.0. Pull it back in if you think different.&lt;/p&gt;</comment>
                            <comment id="13072887" author="yuzhihong@gmail.com" created="Fri, 29 Jul 2011 16:12:33 +0000"  >&lt;p&gt;Moving to 0.94 for now.&lt;/p&gt;</comment>
                            <comment id="13072916" author="stack" created="Fri, 29 Jul 2011 16:58:33 +0000"  >&lt;p&gt;ugh&lt;/p&gt;

&lt;p&gt;we should do this for tsdb and asynchbase  I&apos;m going to pull it in again (sorry Ted)... we can punt later if it don&apos;t make cut.&lt;/p&gt;</comment>
                            <comment id="13072951" author="ryanobjc" created="Fri, 29 Jul 2011 18:00:39 +0000"  >&lt;p&gt;Lets just commit the patch as is.  Optimizing the deployment complexities of users isn&apos;t our job, and at the same time it&apos;s preventing a extremely useful patch from going in. Take the flag day, and in the future everything else will be easier. (until there is another flag day, but you want a job dont you?)&lt;/p&gt;</comment>
                            <comment id="13104097" author="stack" created="Wed, 14 Sep 2011 00:22:23 +0000"  >&lt;p&gt;How is this Beno&#238;t?  It implements your second suggestion.&lt;/p&gt;

&lt;p&gt;You need more though don&apos;t you to make TRUNK work w/ opentsdb.  Is this enough for this issue and we&apos;ll open another for what else you need done?&lt;/p&gt;</comment>
                            <comment id="13105894" author="tsuna" created="Fri, 16 Sep 2011 06:29:17 +0000"  >&lt;p&gt;+1, thank you Stack.&lt;/p&gt;</comment>
                            <comment id="13106962" author="stack" created="Sat, 17 Sep 2011 00:32:59 +0000"  >&lt;p&gt;Hmmm... tests hang.  Need to figure whats up here.&lt;/p&gt;</comment>
                            <comment id="13107601" author="stack" created="Mon, 19 Sep 2011 03:08:14 +0000"  >&lt;p&gt;Update for trunk.  This seems to work.&lt;/p&gt;</comment>
                            <comment id="13107643" author="stack" created="Mon, 19 Sep 2011 06:15:04 +0000"  >&lt;p&gt;Patch was missing a file.&lt;/p&gt;</comment>
                            <comment id="13120689" author="stack" created="Wed, 5 Oct 2011 05:37:18 +0000"  >&lt;p&gt;Tried it on 0.92 branch head and got these failures.  Look into it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

Results :

Failed tests:   testLogRollOnDatanodeDeath(org.apache.hadoop.hbase.regionserver.wal.TestLogRolling): New log file should have the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; replication

Tests in error:
  testMultiSlaveReplication(org.apache.hadoop.hbase.replication.TestMultiSlaveReplication): test timed out after 300000 milliseconds
  testCyclicReplication(org.apache.hadoop.hbase.replication.TestMasterReplication): test timed out after 300000 milliseconds
  testSimplePutDelete(org.apache.hadoop.hbase.replication.TestMasterReplication): Cluster already running at /home/stack/0.92/target/test-data/18b3c603-4c68-434f-8701-7cfcf558129b
  testExceptionFromCoprocessorWhenCreatingTable(org.apache.hadoop.hbase.coprocessor.TestMasterCoprocessorExceptionWithRemove): test timed out after 30000 milliseconds
  testClusterRestart(org.apache.hadoop.hbase.master.TestRestartCluster): test timed out after 300000 milliseconds
  testBasicRollingRestart(org.apache.hadoop.hbase.master.TestRollingRestart): test timed out after 300000 milliseconds
  testUsingMetaAndBinary(org.apache.hadoop.hbase.regionserver.TestGetClosestAtOrBefore): Cannot lock storage /home/stack/0.92/build/hbase/test/dfs/name1. The directory is already locked.
  testGetClosestRowBefore3(org.apache.hadoop.hbase.regionserver.TestGetClosestAtOrBefore): Cannot lock storage /home/stack/0.92/build/hbase/test/dfs/name1. The directory is already locked.
  testGetClosestRowBefore2(org.apache.hadoop.hbase.regionserver.TestGetClosestAtOrBefore): Cannot lock storage /home/stack/0.92/build/hbase/test/dfs/name1. The directory is already locked.
  testWideScanBatching(org.apache.hadoop.hbase.regionserver.TestWideScanner): Cannot lock storage /home/stack/0.92/build/hbase/test/dfs/name1. The directory is already locked.
  testBasicHalfMapFile(org.apache.hadoop.hbase.regionserver.TestStoreFile): Call to localhost/127.0.0.1:0 failed on connection exception: java.net.ConnectException: Connection refused
  testReference(org.apache.hadoop.hbase.regionserver.TestStoreFile): Call to localhost/127.0.0.1:0 failed on connection exception: java.net.ConnectException: Connection refused
  testBloomFilter(org.apache.hadoop.hbase.regionserver.TestStoreFile): Call to localhost/127.0.0.1:0 failed on connection exception: java.net.ConnectException: Connection refused
  testBloomTypes(org.apache.hadoop.hbase.regionserver.TestStoreFile): Call to localhost/127.0.0.1:0 failed on connection exception: java.net.ConnectException: Connection refused
  testBloomEdgeCases(org.apache.hadoop.hbase.regionserver.TestStoreFile): Call to localhost/127.0.0.1:0 failed on connection exception: java.net.ConnectException: Connection refused
  testFlushTimeComparator(org.apache.hadoop.hbase.regionserver.TestStoreFile): Call to localhost/127.0.0.1:0 failed on connection exception: java.net.ConnectException: Connection refused
  testMROnTableWithCustomMapper(org.apache.hadoop.hbase.mapreduce.TestImportTsv): java.io.IOException: File /tmp/hadoop-stack/mapred/system/job_local_0002/libjars/zookeeper-3.3.3.jar could only be replicated to 0 nodes, instead of 1
  testSimpleLoad(org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles): No such file or directory
  testReconstruction(org.apache.hadoop.hbase.TestFullLogReconstruction): test timed out after 300000 milliseconds
  testFlushCommitsWithAbort(org.apache.hadoop.hbase.client.TestMultiParallel): test timed out after 300000 milliseconds
  testFlushCommitsNoAbort(org.apache.hadoop.hbase.client.TestMultiParallel): test timed out after 300000 milliseconds
  test2481(org.apache.hadoop.hbase.client.TestScannerTimeout): test timed out after 300000 milliseconds
  test2772(org.apache.hadoop.hbase.client.TestScannerTimeout): test timed out after 300000 milliseconds

Tests run: 897, Failures: 1, Errors: 20, Skipped: 18
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13129686" author="stack" created="Tue, 18 Oct 2011 12:16:54 +0000"  >&lt;p&gt;I ran tests again with this patch applied and all tests passed.  Let me apply.&lt;/p&gt;</comment>
                            <comment id="13129834" author="hudson" created="Tue, 18 Oct 2011 16:27:54 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2336 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2336/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2336/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3581&quot; title=&quot;hbase rpc should send size of response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3581&quot;&gt;&lt;del&gt;HBASE-3581&lt;/del&gt;&lt;/a&gt; hbase rpc should send size of response&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3581&quot; title=&quot;hbase rpc should send size of response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3581&quot;&gt;&lt;del&gt;HBASE-3581&lt;/del&gt;&lt;/a&gt; hbase rpc should send size of response&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/ResponseFlag.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13129922" author="yuzhihong@gmail.com" created="Tue, 18 Oct 2011 18:39:04 +0000"  >&lt;p&gt;TestMultiParallel#testFlushCommitsWithAbort hangs on MacBook.&lt;/p&gt;

&lt;p&gt;I see this in output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2011-10-18 10:55:39,063 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-333] client.TestMultiParallel(231): Aborted=10.246.204.195,60919,1318960526880
2011-10-18 10:55:39,081 WARN  [IPC Client (47) connection to /10.246.204.195:60919 from an unknown user] ipc.HBaseClient$Connection(493): Unexpected exception receiving call responses
java.lang.NullPointerException
        at org.apache.hadoop.hbase.io.HbaseObjectWritable.readObject(HbaseObjectWritable.java:522)
        at org.apache.hadoop.hbase.io.HbaseObjectWritable.readFields(HbaseObjectWritable.java:296)
        at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.receiveResponse(HBaseClient.java:575)
        at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.run(HBaseClient.java:490)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13129973" author="hudson" created="Tue, 18 Oct 2011 19:40:05 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #73 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/73/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/73/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3581&quot; title=&quot;hbase rpc should send size of response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3581&quot;&gt;&lt;del&gt;HBASE-3581&lt;/del&gt;&lt;/a&gt; hbase rpc should send size of response&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/ipc/ResponseFlag.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13130280" author="jdcryans" created="Wed, 19 Oct 2011 00:39:41 +0000"  >&lt;p&gt;I see the same stack trace trying to start a 0.92 master (I think my env is dirty tho):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2011-10-19 00:34:48,529 WARN org.apache.hadoop.ipc.HBaseClient: Unexpected exception receiving call responses&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hbase.io.HbaseObjectWritable.readObject(HbaseObjectWritable.java:519)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.HbaseObjectWritable.readFields(HbaseObjectWritable.java:293)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.receiveResponse(HBaseClient.java:575)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.run(HBaseClient.java:490)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;After that the master can&apos;t assign regions.&lt;/p&gt;</comment>
                            <comment id="13130413" author="sunnygao" created="Wed, 19 Oct 2011 06:58:54 +0000"  >&lt;p&gt;Ted&apos;s analysis makes sense. Our local test cases always fail, I will apply Ted&apos;s patch and run all testcases.&lt;/p&gt;</comment>
                            <comment id="13130416" author="streamy" created="Wed, 19 Oct 2011 07:01:47 +0000"  >&lt;p&gt;should rename method to getErrorOrLengthSet()?&lt;/p&gt;</comment>
                            <comment id="13130639" author="ram_krish" created="Wed, 19 Oct 2011 14:01:24 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; getErrorAndLengthSet() {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; LENGTH_BIT &amp;amp; ERROR_BIT;
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will always make the flag = 0.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isError(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; flag) {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (flag &amp;amp; ERROR_BIT) != 0;
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-comment&quot;&gt;// Read the flag &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;
&lt;/span&gt;+        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; flag = in.readByte();
+        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isError = ResponseFlag.isError(flag);
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ResponseFlag.isLength(flag)) {
+          &lt;span class=&quot;code-comment&quot;&gt;// Currently length &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; present is unused.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If the flag that we are reading here is the same flag that we have set while writing then &lt;br/&gt;
the isError() method will return true only because flag = 0&lt;br/&gt;
ERROR_BIT = 0x1&lt;br/&gt;
So even if we make it &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; LENGTH_BIT | ERROR_BIT;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; will we have any change?&lt;br/&gt;
If the flag that we try to read is not the one that we have set then the&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; LENGTH_BIT | ERROR_BIT;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is valid.  Correct me if am wrong&lt;/p&gt;</comment>
                            <comment id="13130761" author="stack" created="Wed, 19 Oct 2011 16:54:27 +0000"  >&lt;p&gt;Thanks lads for digging in on this.  Stuff seemed to pass for me (I might have messed up tests though).&lt;/p&gt;

&lt;p&gt;Ram, looks like I made a mistake in the above if thats the &amp;amp; test that I&apos;m doing.&lt;/p&gt;</comment>
                            <comment id="13130762" author="stack" created="Wed, 19 Oct 2011 16:54:41 +0000"  >&lt;p&gt;Should I open a new issue?&lt;/p&gt;</comment>
                            <comment id="13130765" author="yuzhihong@gmail.com" created="Wed, 19 Oct 2011 16:59:13 +0000"  >&lt;p&gt;New issue would be nice.&lt;/p&gt;</comment>
                            <comment id="13130887" author="hudson" created="Wed, 19 Oct 2011 19:05:05 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2340 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2340/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2340/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4620&quot; title=&quot;I broke the build when I submitted HBASE-3581 (Send length of the rpc response)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4620&quot;&gt;&lt;del&gt;HBASE-4620&lt;/del&gt;&lt;/a&gt; I broke the build when I submitted &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3581&quot; title=&quot;hbase rpc should send size of response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3581&quot;&gt;&lt;del&gt;HBASE-3581&lt;/del&gt;&lt;/a&gt; (Send length of the rpc response)&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/ResponseFlag.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13132567" author="hudson" created="Fri, 21 Oct 2011 10:04:44 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #75 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/75/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4620&quot; title=&quot;I broke the build when I submitted HBASE-3581 (Send length of the rpc response)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4620&quot;&gt;&lt;del&gt;HBASE-4620&lt;/del&gt;&lt;/a&gt; I broke the build when I submitted &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3581&quot; title=&quot;hbase rpc should send size of response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3581&quot;&gt;&lt;del&gt;HBASE-3581&lt;/del&gt;&lt;/a&gt; (Send length of the rpc response)&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/ipc/ResponseFlag.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15017105" author="lars_francke" created="Fri, 20 Nov 2015 12:41:54 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12494351" name="3581-v2.txt" size="6340" author="stack" created="Wed, 14 Sep 2011 00:22:23 +0000"/>
                            <attachment id="12495009" name="3581-v3.txt" size="4539" author="stack" created="Mon, 19 Sep 2011 03:08:11 +0000"/>
                            <attachment id="12495018" name="3581-v4.txt" size="6323" author="stack" created="Mon, 19 Sep 2011 06:15:04 +0000"/>
                            <attachment id="12472229" name="HBASE-rpc-response.txt" size="3036" author="ryanobjc" created="Mon, 28 Feb 2011 21:08:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2011 21:20:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hmvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Adds a length to the rpc reponse</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>