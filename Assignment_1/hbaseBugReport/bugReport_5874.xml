<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5874/HBASE-5874.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5874] When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throw IllegalArgumentException.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5874</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The HBase do not configure the &apos;fs.default.name&apos; attribute, the hbck tool and Merge tool throw IllegalArgumentException.&lt;br/&gt;
the hbck tool and Merge tool, we should add &apos;fs.default.name&apos; attriubte to the code.&lt;/p&gt;

&lt;p&gt;hbck exception:&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Wrong FS: hdfs://160.176.0.101:9000/hbase/.META./1028785192/.regioninfo, expected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:412)&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:59)&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:382)&lt;br/&gt;
	at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:285)&lt;br/&gt;
	at org.apache.hadoop.fs.ChecksumFileSystem$ChecksumFSInputChecker.&amp;lt;init&amp;gt;(ChecksumFileSystem.java:128)&lt;br/&gt;
	at org.apache.hadoop.fs.ChecksumFileSystem.open(ChecksumFileSystem.java:301)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:489)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.HBaseFsck.loadHdfsRegioninfo(HBaseFsck.java:565)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.HBaseFsck.loadHdfsRegionInfos(HBaseFsck.java:596)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.HBaseFsck.onlineConsistencyRepair(HBaseFsck.java:332)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.HBaseFsck.onlineHbck(HBaseFsck.java:360)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.HBaseFsck.main(HBaseFsck.java:2907)&lt;/p&gt;

&lt;p&gt;Merge exception:  &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2012-05-05 10:48:24,830&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hbase.util.Merge 381&amp;#93;&lt;/span&gt; exiting due to error&lt;br/&gt;
java.lang.IllegalArgumentException: Wrong FS: hdfs://160.176.0.101:9000/hbase/.META./1028785192/.regioninfo, expected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:412)&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:59)&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:382)&lt;br/&gt;
	at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:285)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:823)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.checkRegioninfoOnFilesystem(HRegion.java:415)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.initialize(HRegion.java:340)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:2679)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:2665)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:2634)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.MetaUtils.openMetaRegion(MetaUtils.java:276)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.MetaUtils.scanMetaRegion(MetaUtils.java:261)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.Merge.run(Merge.java:115)&lt;br/&gt;
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.Merge.main(Merge.java:379)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12552537">HBASE-5874</key>
            <summary>When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throw IllegalArgumentException.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fulin">fulin wang</assignee>
                                    <reporter username="fulin">fulin wang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Apr 2012 09:27:00 +0000</created>
                <updated>Thu, 28 Feb 2013 22:49:06 +0000</updated>
                            <resolved>Mon, 4 Jun 2012 10:08:23 +0000</resolved>
                                    <version>0.90.6</version>
                                    <fixVersion>0.92.2</fixVersion>
                    <fixVersion>0.94.1</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13261432" author="fulin" created="Wed, 25 Apr 2012 11:06:45 +0000"  >&lt;p&gt;Tests Errors  Failures Skipped Success Rate Time &lt;br/&gt;
16 0 0 0 100% 243.016 &lt;/p&gt;

&lt;p&gt;Running org.apache.hadoop.hbase.util.TestMergeTool&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 49.765 sec&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 1, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

</comment>
                            <comment id="13263317" author="fulin" created="Fri, 27 Apr 2012 03:03:25 +0000"  >&lt;p&gt;The TestHBaseFsck and TestMergeTool test case of trunk, I have tested.&lt;/p&gt;</comment>
                            <comment id="13263334" author="hadoopqa" created="Fri, 27 Apr 2012 04:29:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12524806/HBASE-5874-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12524806/HBASE-5874-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1665//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1665//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1665//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1665//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1665//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1665//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13263335" author="zhihyu@ebaysf.com" created="Fri, 27 Apr 2012 04:32:15 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13263681" author="jmhsieh" created="Fri, 27 Apr 2012 14:14:41 +0000"  >&lt;p&gt;Fulin:&lt;/p&gt;

&lt;p&gt;Have you tried using the tool after the patch?  &lt;/p&gt;

&lt;p&gt;Do you have a dir with hdfs-site.xml in it in your &apos;hbase classpath&apos;?&lt;/p&gt;

&lt;p&gt;Actually looking at it, I don&apos;t think the original hbck line that potentially sets fs.defaultFS to the HBASE root dir makes sense at all.  Setting the fs.default.name also seems incorrect.  I&apos;m actually more inclined to just remove the line.  Maybe it would be better to allow the user to override the value by converting hbck  into subclass of Tool?&lt;/p&gt;

&lt;p&gt;In the case of Merge, it is a Tool already so if you don&apos;t have your hdfs-site.xml files in the hbase classpath you could run it with an extra flag to override particular properties such as fs.default.name.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase org.apache.hadoop.hbase.util.Merge -Dfs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//nn:port &amp;lt;normal args&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13263689" author="jmhsieh" created="Fri, 27 Apr 2012 14:22:33 +0000"  >&lt;p&gt;Hey fulin, in the future you can set yourself as the assignee to an issue if you are working on it.&lt;/p&gt;</comment>
                            <comment id="13264207" author="fulin" created="Sat, 28 Apr 2012 03:59:20 +0000"  >&lt;p&gt;I have tested, It pass.&lt;br/&gt;
There is some reason for add &apos;fs.default.name&apos; attribute.&lt;br/&gt;
1) It make hbck tool and Merge tool easy to use.&lt;br/&gt;
2) We should supported old version, you can reference the MasterFileSystem class.&lt;br/&gt;
I suggested to add the attribute.&lt;/p&gt;</comment>
                            <comment id="13264882" author="jeason" created="Mon, 30 Apr 2012 11:49:20 +0000"  >&lt;p&gt;+1 on this patch.&lt;br/&gt;
I think the patches for other branches are also needed.&lt;/p&gt;</comment>
                            <comment id="13266292" author="fulin" created="Wed, 2 May 2012 02:02:13 +0000"  >&lt;p&gt;First the community version think this is issue, it need to make other branch patch.&lt;/p&gt;</comment>
                            <comment id="13270540" author="jmhsieh" created="Tue, 8 May 2012 15:30:51 +0000"  >&lt;p&gt;Hey fulin,  Sorry for the delay &amp;#8211; let me clarify:&lt;/p&gt;

&lt;p&gt;The patch (and the old version) would set the fs.default.name and fs.defaultFS to something like hdfs://nn:port/hbase while it should only set it to hdfs://nn:port (notice no path).  &lt;/p&gt;

&lt;p&gt;I&apos;m not convinced that merge the code is needed &amp;#8211; instead maybe you could change the help message to demonstrate the -Dfs.default.name syntax to pick arbitrary files/filesystems instead? &lt;/p&gt;</comment>
                            <comment id="13271229" author="fulin" created="Wed, 9 May 2012 09:13:34 +0000"  >&lt;p&gt;Thank you for attention.&lt;/p&gt;

&lt;p&gt;1. the hbck tool, I think it need to add &apos;fs.default.name&apos; attribute.&lt;br/&gt;
2. the merge tool, I will modify help, because it is error now.&lt;/p&gt;</comment>
                            <comment id="13271311" author="fulin" created="Wed, 9 May 2012 11:05:15 +0000"  >&lt;p&gt;The TestHBaseFsck and TestMergeTool have tesed.&lt;/p&gt;</comment>
                            <comment id="13271346" author="hadoopqa" created="Wed, 9 May 2012 11:56:07 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12526143/HBASE-5874-trunk-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12526143/HBASE-5874-trunk-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1815//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1815//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1815//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1815//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1815//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1815//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13271609" author="jmhsieh" created="Wed, 9 May 2012 17:13:07 +0000"  >&lt;p&gt;Fulin, &lt;/p&gt;

&lt;p&gt;The latest version still doesn&apos;t address the issue I brought up:&lt;/p&gt;

&lt;p&gt;Look at what should be fs.defaultFS here: &lt;a href=&quot;http://hadoop.apache.org/common/docs/current/core-default.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/common/docs/current/core-default.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think the code I&apos;m concerned about should be something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    Path hbasedir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(conf.get(HConstants.HBASE_DIR));
    URI defaultFs = hbasedir.getFileSystem(conf).getUri();
    conf.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;fs.defaultFS&quot;&lt;/span&gt;, defaultFs.toString());     &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hadoop 0.21+
&lt;/span&gt;    conf.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name&quot;&lt;/span&gt;, defaultFs.toString());  &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hadoop 0.20&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;for Merge, it might be good to make the -D option look optional or have a place holder for &amp;lt;-Doptions&amp;gt; where you put the example and add some lines further down with a quick mention of  -Dfs.defaultFs for hadoop 0.21+ or -Dfs.default.name for 0.20.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Jon.&lt;/p&gt;</comment>
                            <comment id="13272024" author="fulin" created="Thu, 10 May 2012 01:50:53 +0000"  >&lt;p&gt;Thank Jonathan Hsieh review.&lt;br/&gt;
By your suggest, I make a patch, Please review.&lt;br/&gt;
If you think the patch has problem, Please modify, Thanks.&lt;/p&gt;</comment>
                            <comment id="13272042" author="hadoopqa" created="Thu, 10 May 2012 02:50:38 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12526279/HBASE-5874-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12526279/HBASE-5874-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestDrainingServer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1825//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1825//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1825//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1825//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1825//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1825//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13288464" author="jmhsieh" created="Mon, 4 Jun 2012 10:08:23 +0000"  >&lt;p&gt;Sorry for the delay and thanks for the patch fulin!  &lt;/p&gt;

&lt;p&gt;I committed to 0.90/0.92/0.94/0.96 with a minor tweak (change the &amp;lt;&amp;gt; to [] to show that the -Dfs.* args are optional).  &lt;/p&gt;</comment>
                            <comment id="13288488" author="hudson" created="Mon, 4 Jun 2012 11:01:49 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #244 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/244/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/244/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5874&quot; title=&quot;When &amp;#39;fs.default.name&amp;#39; not configured, the hbck tool and Merge tool throw IllegalArgumentException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5874&quot;&gt;&lt;del&gt;HBASE-5874&lt;/del&gt;&lt;/a&gt; When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throws IllegalArgumentException (fulin wang) (Revision 1345903)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13288497" author="hudson" created="Mon, 4 Jun 2012 11:16:39 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #39 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/39/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/39/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5874&quot; title=&quot;When &amp;#39;fs.default.name&amp;#39; not configured, the hbck tool and Merge tool throw IllegalArgumentException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5874&quot;&gt;&lt;del&gt;HBASE-5874&lt;/del&gt;&lt;/a&gt; When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throws IllegalArgumentException (fulin wang) (Revision 1345902)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13288510" author="hudson" created="Mon, 4 Jun 2012 11:46:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2983 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2983/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2983/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5874&quot; title=&quot;When &amp;#39;fs.default.name&amp;#39; not configured, the hbck tool and Merge tool throw IllegalArgumentException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5874&quot;&gt;&lt;del&gt;HBASE-5874&lt;/del&gt;&lt;/a&gt; When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throws IllegalArgumentException (fulin wang) (Revision 1345902)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13288518" author="hudson" created="Mon, 4 Jun 2012 12:14:25 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #443 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/443/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/443/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5874&quot; title=&quot;When &amp;#39;fs.default.name&amp;#39; not configured, the hbck tool and Merge tool throw IllegalArgumentException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5874&quot;&gt;&lt;del&gt;HBASE-5874&lt;/del&gt;&lt;/a&gt; When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throws IllegalArgumentException (fulin wang) (Revision 1345905)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13288850" author="hudson" created="Mon, 4 Jun 2012 20:05:17 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #110 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/110/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5874&quot; title=&quot;When &amp;#39;fs.default.name&amp;#39; not configured, the hbck tool and Merge tool throw IllegalArgumentException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5874&quot;&gt;&lt;del&gt;HBASE-5874&lt;/del&gt;&lt;/a&gt; When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throws IllegalArgumentException (fulin wang) (Revision 1345905)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13289036" author="hudson" created="Tue, 5 Jun 2012 00:59:54 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #34 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/34/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/34/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5874&quot; title=&quot;When &amp;#39;fs.default.name&amp;#39; not configured, the hbck tool and Merge tool throw IllegalArgumentException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5874&quot;&gt;&lt;del&gt;HBASE-5874&lt;/del&gt;&lt;/a&gt; When &apos;fs.default.name&apos; not configured, the hbck tool and Merge tool throws IllegalArgumentException (fulin wang) (Revision 1345903)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13293235" author="fulin" created="Tue, 12 Jun 2012 00:55:15 +0000"  >&lt;p&gt;Thanks Hudson for your attention.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12526142" name="HBASE-5874-0.90-v2.patch" size="1349" author="fulin" created="Wed, 9 May 2012 11:05:15 +0000"/>
                            <attachment id="12524171" name="HBASE-5874-0.90.patch" size="1431" author="fulin" created="Wed, 25 Apr 2012 11:08:51 +0000"/>
                            <attachment id="12526143" name="HBASE-5874-trunk-v2.patch" size="1350" author="fulin" created="Wed, 9 May 2012 11:05:15 +0000"/>
                            <attachment id="12526279" name="HBASE-5874-trunk-v3.patch" size="1980" author="fulin" created="Thu, 10 May 2012 01:50:53 +0000"/>
                            <attachment id="12524806" name="HBASE-5874-trunk.patch" size="1431" author="fulin" created="Fri, 27 Apr 2012 03:03:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Apr 2012 04:29:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02h5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>