<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:07:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9831/HBASE-9831.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9831] &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9831</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We use generic option way to pass &lt;em&gt;&apos;hbasefsck.numthreads&apos;&lt;/em&gt; property to &lt;em&gt;&apos;hbase hbck&apos;&lt;/em&gt;, but it does not accept our new setting value&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase hbck -D hbasefsck.numthreads=5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can still find there are threads over than 5 we already set via generic opttion&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[2013-10-24 09:25:02,561][pool-2-thread-6][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,562][pool-2-thread-10][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,565][pool-2-thread-13][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,566][pool-2-thread-11][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,567][pool-2-thread-9][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,568][pool-2-thread-12][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,570][pool-2-thread-7][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
[2013-10-24 09:25:02,571][pool-2-thread-14][DEBUG][org.apache.hadoop.security.UserGroupInformation]: PrivilegedAction as:hbase/spn-d-hdn1.sjdc@ISPN.TRENDMICRO.COM (auth:KERBEROS) from:sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) (UserGroupInformation.java:1430)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12675449">HBASE-9831</key>
            <summary>&apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="takeshi.miao">takeshi.miao</assignee>
                                    <reporter username="takeshi.miao">takeshi.miao</reporter>
                        <labels>
                            <label>hbck</label>
                    </labels>
                <created>Thu, 24 Oct 2013 09:26:50 +0000</created>
                <updated>Tue, 26 Nov 2013 05:53:44 +0000</updated>
                            <resolved>Mon, 18 Nov 2013 20:22:16 +0000</resolved>
                                    <version>0.94.12</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.1</fixVersion>
                    <fixVersion>0.94.14</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13804018" author="takeshi.miao" created="Thu, 24 Oct 2013 09:32:59 +0000"  >&lt;p&gt;add patch&lt;/p&gt;</comment>
                            <comment id="13804202" author="jmspaggi" created="Thu, 24 Oct 2013 13:55:13 +0000"  >&lt;p&gt;Have you tried it? Does it works for you?&lt;/p&gt;

&lt;p&gt;Is this required? &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
executor = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Can you do a trunk version to run hadoopqa?&lt;/p&gt;

&lt;p&gt;Looks good to me!&lt;/p&gt;</comment>
                            <comment id="13804321" author="stack" created="Thu, 24 Oct 2013 15:32:02 +0000"  >&lt;p&gt;What JMS said (down to his +1).  When you set exec = 0, it makes me wonder if it would ever be non-null and if so, should it be shutdown before you make a new one?  But maybe this is an impossible state.&lt;/p&gt;</comment>
                            <comment id="13804403" author="takeshi.miao" created="Thu, 24 Oct 2013 17:01:37 +0000"  >&lt;p&gt;@JMS &amp;amp; @stack &lt;br/&gt;
Tks for your review and commtents, my reply as follows...&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Have you tried it? Does it works for you?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I&apos;ve tested it in our env. and works well&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Is this required?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
executor = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;My intention was to set &lt;em&gt;executor&lt;/em&gt; explicitly if the call path is &lt;em&gt;main -&amp;gt; HbaseFsck -&amp;gt; initialPoolNumThreads -&amp;gt; run -&amp;gt; initialPoolNumThreads&lt;/em&gt;, despite it should be no hurt if I remove this statement.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What JMS said (down to his +1). When you set exec = 0, it makes me wonder if it would ever be non-null and if so, should it be shutdown before you make a new one? But maybe this is an impossible state.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Tks for stack&apos;s suggestion !! this way is more safer if any unexpected call happens. So I changed the code snippet into following style. How do you think about this ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
288 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (executor != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
289      executor.shutdown();
290      executor = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
291 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;Can you do a trunk version to run hadoopqa?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No problem, I can do it later&lt;/p&gt;</comment>
                            <comment id="13804406" author="takeshi.miao" created="Thu, 24 Oct 2013 17:04:29 +0000"  >&lt;p&gt;Added 0.94-v02.patch&lt;/p&gt;</comment>
                            <comment id="13804410" author="takeshi.miao" created="Thu, 24 Oct 2013 17:07:11 +0000"  >&lt;p&gt;I changed the status to &apos;patch available&apos; for triggering the hadoopqa for 0.94, and apply the trunk version later&lt;/p&gt;</comment>
                            <comment id="13804420" author="hadoopqa" created="Thu, 24 Oct 2013 17:13:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610112/HBASE-9831-0.94-v02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610112/HBASE-9831-0.94-v02.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7617//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7617//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13804422" author="jmspaggi" created="Thu, 24 Oct 2013 17:14:59 +0000"  >&lt;p&gt;HadooQA doesn&apos;t work with 0.94 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (executor != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      executor.shutdown();
      executor = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m still not sure about the &quot;executor = null;&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; You set it to null then right after instantiate it. So might not be required?&lt;/p&gt;</comment>
                            <comment id="13804437" author="takeshi.miao" created="Thu, 24 Oct 2013 17:33:37 +0000"  >&lt;p&gt;@JMS, yes, it is not required. I afraid that it more tends to my personal coding habit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, I can remove it and apply both 0.94 and trunk patch later. tks&lt;/p&gt;</comment>
                            <comment id="13804504" author="jmspaggi" created="Thu, 24 Oct 2013 18:28:04 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So the right process now is:&lt;br/&gt;
1) Cancel patch.&lt;br/&gt;
2) Upload trunk version&lt;br/&gt;
3) Apply patch&lt;br/&gt;
4) Wait for hadoopQA to test it&lt;br/&gt;
5) Upload 0.94 version.&lt;/p&gt;

&lt;p&gt;JM&lt;/p&gt;</comment>
                            <comment id="13804514" author="takeshi.miao" created="Thu, 24 Oct 2013 18:37:25 +0000"  >&lt;p&gt;@JM Got it, do it now&lt;/p&gt;</comment>
                            <comment id="13804515" author="takeshi.miao" created="Thu, 24 Oct 2013 18:38:08 +0000"  >&lt;p&gt;Cancel patch for re-applying the patch for trunk&lt;/p&gt;</comment>
                            <comment id="13804516" author="takeshi.miao" created="Thu, 24 Oct 2013 18:39:02 +0000"  >&lt;p&gt;add trunk-v01.patch&lt;/p&gt;</comment>
                            <comment id="13804521" author="takeshi.miao" created="Thu, 24 Oct 2013 18:40:24 +0000"  >&lt;p&gt;submit patch again&lt;/p&gt;</comment>
                            <comment id="13804624" author="hadoopqa" created="Thu, 24 Oct 2013 20:07:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610128/HBASE-9831-trunk-v01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610128/HBASE-9831-trunk-v01.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7619//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13804631" author="jmspaggi" created="Thu, 24 Oct 2013 20:15:26 +0000"  >&lt;p&gt;Now you can post the 0.94 version.&lt;/p&gt;</comment>
                            <comment id="13804938" author="takeshi.miao" created="Fri, 25 Oct 2013 02:10:30 +0000"  >&lt;p&gt;add 0.94-v03.patch&lt;/p&gt;</comment>
                            <comment id="13804942" author="hadoopqa" created="Fri, 25 Oct 2013 02:13:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610222/HBASE-9831-0.94-v03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610222/HBASE-9831-0.94-v03.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7628//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7628//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13804944" author="takeshi.miao" created="Fri, 25 Oct 2013 02:20:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;, the 0.94-v03.patch added and I just woke up in the morning &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
So the next step is wait for stack&apos;s review while he is available, right ?&lt;/p&gt;</comment>
                            <comment id="13805015" author="jmspaggi" created="Fri, 25 Oct 2013 04:32:42 +0000"  >&lt;p&gt;Evening here, going to bed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Patch sound good to me: +1.&lt;/p&gt;

&lt;p&gt;Will need someone to commit it in trunk. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; good for you for 0.94?&lt;/p&gt;</comment>
                            <comment id="13805023" author="lhofhansl" created="Fri, 25 Oct 2013 04:43:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, mind having a look. Problem is that &lt;tt&gt;hbase hbck&lt;/tt&gt; run HBaseFsck via &lt;tt&gt;o.a.h.u.ToolRunner&lt;/tt&gt; where the command line args are parsed only when &lt;tt&gt;run&lt;/tt&gt; method is called.&lt;/p&gt;</comment>
                            <comment id="13805427" author="jmhsieh" created="Fri, 25 Oct 2013 16:27:55 +0000"  >&lt;p&gt;Ok.  I undertand the problem after looking here &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/ToolRunner.java#L46&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/ToolRunner.java#L46&lt;/a&gt;&lt;br/&gt;
and here:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configured.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hadoop-common/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/conf/Configured.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It looks like we should change HBaseFsck&apos;s constructor to not create the executor or error reporter, and have them be created at the start of the exec method.   That makes it so we always only create the executor once, and always use all of the -D variables that get added to the conf by the ToolRunner.  This will make it correct for all future -D settings we may add and not just this single setting.  Mind making the change?&lt;/p&gt;</comment>
                            <comment id="13805461" author="lhofhansl" created="Fri, 25 Oct 2013 17:01:15 +0000"  >&lt;p&gt;I agree. Mean we need to change the test code that constructs a HBaseFsck object directly.&lt;/p&gt;</comment>
                            <comment id="13805462" author="lhofhansl" created="Fri, 25 Oct 2013 17:01:34 +0000"  >&lt;p&gt;Moving to 0.94.14 for now.&lt;/p&gt;</comment>
                            <comment id="13806520" author="takeshi.miao" created="Mon, 28 Oct 2013 02:32:47 +0000"  >&lt;p&gt;@Lars &amp;amp; @Jonathan&lt;br/&gt;
Tks review and comments, I arrange your comments as following check items&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1. change HBaseFsck&apos;s constructor to not create the executor or error reporter&lt;br/&gt;
2. and have them be created at the start of the exec method.&lt;br/&gt;
3. That makes it so we always only create the executor once, &lt;br/&gt;
4. and always use all of the -D variables that get added to the conf by the ToolRunner.&lt;br/&gt;
5. we need to change the test code that constructs a HBaseFsck object directly&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think I still can help to submit a patch for these items in the couple days, for trunk firstly. &lt;br/&gt;
Any comment ?&lt;/p&gt;</comment>
                            <comment id="13806524" author="takeshi.miao" created="Mon, 28 Oct 2013 02:41:22 +0000"  >&lt;p&gt;cancel patch due to need a new version of patch&lt;/p&gt;</comment>
                            <comment id="13806665" author="takeshi.miao" created="Mon, 28 Oct 2013 10:00:01 +0000"  >&lt;p&gt;add new version of patch v2 for trunk&lt;/p&gt;</comment>
                            <comment id="13806693" author="hadoopqa" created="Mon, 28 Oct 2013 11:21:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610533/HBASE-9831-trunk-v02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610533/HBASE-9831-trunk-v02.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildOverlap&lt;br/&gt;
                  org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildBase&lt;br/&gt;
                  org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildHole&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7644//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13806701" author="takeshi.miao" created="Mon, 28 Oct 2013 12:01:31 +0000"  >&lt;p&gt;Seems I missed some testcases to fix, will upload new patch&lt;br/&gt;
2013-10-28 &#19979;&#21320;7:22 &#26044; &quot;Hadoop QA (JIRA)&quot; &amp;lt;jira@apache.org&amp;gt; &#23531;&#36947;&#65306;&lt;/p&gt;
</comment>
                            <comment id="13807423" author="takeshi.miao" created="Mon, 28 Oct 2013 22:38:39 +0000"  >&lt;p&gt;add trunk-v03.patch&lt;/p&gt;</comment>
                            <comment id="13807517" author="hadoopqa" created="Tue, 29 Oct 2013 00:20:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12610705/HBASE-9831-trunk-v03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12610705/HBASE-9831-trunk-v03.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7653//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13807533" author="takeshi.miao" created="Tue, 29 Oct 2013 00:37:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;&lt;br/&gt;
How do yo think about this patch ?&lt;/p&gt;</comment>
                            <comment id="13820672" author="lhofhansl" created="Tue, 12 Nov 2013 23:43:45 +0000"  >&lt;p&gt;Wouldn&apos;t it be much easier to just move the initialization of errors and executor to the run() method?&lt;/p&gt;</comment>
                            <comment id="13821505" author="jmhsieh" created="Wed, 13 Nov 2013 16:41:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; It has &amp;#8211; the initial() call is in the run method().&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt;  Thanks for doing this.  looking at it it seems to have affected a lot more than I expected.  I think the right thing to do in the end is to separate the HBaseFsckTool tool parts( which takes the command line args), put the initialization of config dependent stuff back into the HBaseFsck constructor, and push the HBaseFsck construction happen into the run method.  This way we don&apos;t affect all the tests and OfflineMetaRebuild and solve the -D problem once and for all.  &lt;/p&gt;

&lt;p&gt;In short, let&apos;s go with the simpler patch for now (the one from before I got involved) and file a new issue to clean up the -D problem.  I can take it on or you can &amp;#8211; this cleanup shouldn&apos;t block this particular fix.  Let me know if you agree.&lt;/p&gt;</comment>
                            <comment id="13823216" author="takeshi.miao" created="Fri, 15 Nov 2013 02:12:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt; &lt;br/&gt;
Yes, I agree with your opinion, let&apos;s create a new ticket to better deal with &apos;-D problem&apos; better;  otherwise, for this &apos;hbasefsck.numthreads&apos; issue, you can use the patch &apos;trunk-v01.patch&apos; and &apos;0.94-v03.patch&apos;.&lt;/p&gt;

&lt;p&gt;tks for all of your review &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13825735" author="jmhsieh" created="Mon, 18 Nov 2013 20:21:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=takeshi.miao&quot; class=&quot;user-hover&quot; rel=&quot;takeshi.miao&quot;&gt;takeshi.miao&lt;/a&gt; Thanks for the patch. committed to 0.94, 0.96 and trunk.&lt;/p&gt;</comment>
                            <comment id="13825748" author="jmhsieh" created="Mon, 18 Nov 2013 20:30:08 +0000"  >&lt;p&gt;Filed a follow on issue to fix this class of problem and for all at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9992&quot; title=&quot;[hbck] Refactor so that arbitrary -D cmdline options are included &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9992&quot;&gt;&lt;del&gt;HBASE-9992&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13826024" author="hudson" created="Tue, 19 Nov 2013 01:03:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #341 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/341/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/341/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9831&quot; title=&quot;&amp;#39;hbasefsck.numthreads&amp;#39; property isn&amp;#39;t passed to hbck via cmdline -D option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9831&quot;&gt;&lt;del&gt;HBASE-9831&lt;/del&gt;&lt;/a&gt; &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option (Takeshi Miao) (jmhsieh: rev 1543139)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13826048" author="hudson" created="Tue, 19 Nov 2013 01:25:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1207 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1207/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1207/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9831&quot; title=&quot;&amp;#39;hbasefsck.numthreads&amp;#39; property isn&amp;#39;t passed to hbck via cmdline -D option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9831&quot;&gt;&lt;del&gt;HBASE-9831&lt;/del&gt;&lt;/a&gt; &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option (Takeshi Miao) (jmhsieh: rev 1543139)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13826184" author="hudson" created="Tue, 19 Nov 2013 04:18:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #843 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/843/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/843/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9831&quot; title=&quot;&amp;#39;hbasefsck.numthreads&amp;#39; property isn&amp;#39;t passed to hbck via cmdline -D option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9831&quot;&gt;&lt;del&gt;HBASE-9831&lt;/del&gt;&lt;/a&gt; &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option (Takeshi Miao) (jmhsieh: rev 1543137)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13826254" author="hudson" created="Tue, 19 Nov 2013 06:50:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #124 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/124/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/124/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9831&quot; title=&quot;&amp;#39;hbasefsck.numthreads&amp;#39; property isn&amp;#39;t passed to hbck via cmdline -D option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9831&quot;&gt;&lt;del&gt;HBASE-9831&lt;/del&gt;&lt;/a&gt; &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option (Takeshi Miao) (jmhsieh: rev 1543138)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13826270" author="hudson" created="Tue, 19 Nov 2013 07:03:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #195 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/195/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9831&quot; title=&quot;&amp;#39;hbasefsck.numthreads&amp;#39; property isn&amp;#39;t passed to hbck via cmdline -D option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9831&quot;&gt;&lt;del&gt;HBASE-9831&lt;/del&gt;&lt;/a&gt; &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option (Takeshi Miao) (jmhsieh: rev 1543138)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13826325" author="hudson" created="Tue, 19 Nov 2013 08:58:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4687 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4687/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4687/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9831&quot; title=&quot;&amp;#39;hbasefsck.numthreads&amp;#39; property isn&amp;#39;t passed to hbck via cmdline -D option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9831&quot;&gt;&lt;del&gt;HBASE-9831&lt;/del&gt;&lt;/a&gt; &apos;hbasefsck.numthreads&apos; property isn&apos;t passed to hbck via cmdline -D option (Takeshi Miao) (jmhsieh: rev 1543137)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12679810">HBASE-9992</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12610112" name="HBASE-9831-0.94-v02.patch" size="1949" author="takeshi.miao" created="Thu, 24 Oct 2013 17:04:29 +0000"/>
                            <attachment id="12610222" name="HBASE-9831-0.94-v03.patch" size="1925" author="takeshi.miao" created="Fri, 25 Oct 2013 02:10:30 +0000"/>
                            <attachment id="12610128" name="HBASE-9831-trunk-v01.patch" size="1624" author="takeshi.miao" created="Thu, 24 Oct 2013 18:39:02 +0000"/>
                            <attachment id="12610533" name="HBASE-9831-trunk-v02.patch" size="11260" author="takeshi.miao" created="Mon, 28 Oct 2013 10:00:01 +0000"/>
                            <attachment id="12610705" name="HBASE-9831-trunk-v03.patch" size="16059" author="takeshi.miao" created="Mon, 28 Oct 2013 22:38:39 +0000"/>
                            <attachment id="12610073" name="HBASE-9831.v01.patch" size="1881" author="takeshi.miao" created="Thu, 24 Oct 2013 09:32:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Oct 2013 13:55:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p7fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>try run hadoopqa for trunk</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>