<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:56:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8523/HBASE-8523.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8523] Add support for double in Increment api of Hbase</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8523</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12646992">HBASE-8523</key>
            <summary>Add support for double in Increment api of Hbase</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vikramsi">vikram s</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 10 May 2013 09:57:21 +0000</created>
                <updated>Wed, 9 Apr 2014 14:36:47 +0000</updated>
                                            <version>0.94.19</version>
                                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13654416" author="anoop.hbase" created="Fri, 10 May 2013 12:23:16 +0000"  >&lt;p&gt;Do u have a clear scenario for this in ur dev?  Any possible patch?&lt;/p&gt;</comment>
                            <comment id="13654459" author="vikramsi" created="Fri, 10 May 2013 13:15:40 +0000"  >&lt;p&gt;Use case : We can update only long values not double for the column.&lt;br/&gt;
Initial review : &lt;br/&gt;
As We are using familymap(member var in Increment class) to get the Hbase cell information.we can update it to provide support for double values.If we are using double as key then we might have problem however we can use double as value.&lt;/p&gt;</comment>
                            <comment id="13654544" author="jmspaggi" created="Fri, 10 May 2013 15:20:20 +0000"  >&lt;p&gt;Are you really using 0.90.4? Any plan to move to a more recent version? I don&apos;t think such a new feature will be back-ported back to the 0.90.x branch...&lt;/p&gt;</comment>
                            <comment id="13698180" author="robertroland" created="Tue, 2 Jul 2013 20:24:55 +0000"  >&lt;p&gt;I have a use for this also. I&apos;ll work on creating a patch to do this. I&apos;m on 0.94.2 (CDH4.2.1)&lt;/p&gt;</comment>
                            <comment id="13698529" author="enis" created="Wed, 3 Jul 2013 02:59:58 +0000"  >&lt;p&gt;Vikram, what is the use case for incrementing in double? Just trying to understand since we are thinking of possibly redoing the Increment API. &lt;/p&gt;</comment>
                            <comment id="13699684" author="vikramsi" created="Thu, 4 Jul 2013 01:22:25 +0000"  >&lt;p&gt;I wanted to update row.And in row I have double value in column.As Increment api provides support for long and int to update column value So I am unable to update column with double values.&lt;/p&gt;</comment>
                            <comment id="13954444" author="kmalik" created="Sat, 29 Mar 2014 21:03:57 +0000"  >&lt;p&gt;Any updates on this issue ?&lt;br/&gt;
From pure client perspective, it seems a fairly reasonable requirement. If we can increment a column value by a long amount, why not by a double amount too ?&lt;br/&gt;
I also have a similar usecase, hence curious.&lt;/p&gt;</comment>
                            <comment id="13955558" author="kmalik" created="Mon, 31 Mar 2014 19:18:42 +0000"  >&lt;p&gt;Added and implemented 2 new APIs in HTableInterface -&lt;br/&gt;
double incrementColumnValue(byte[] row, byte[] family, byte[] qualifier,&lt;br/&gt;
      double amount) throws IOException;&lt;br/&gt;
and &lt;br/&gt;
double incrementColumnValue(byte[] row, byte[] family, byte[] qualifier,&lt;br/&gt;
      double amount, boolean writeToWAL) throws IOException;&lt;br/&gt;
Affects the following classes - &lt;br/&gt;
HTableInterface (and all implementations)&lt;br/&gt;
HRegionInterface (and HRegionServer implementation)&lt;br/&gt;
HRegion&lt;/p&gt;

&lt;p&gt;Semantics are exactly same as the &quot;long&quot; counter part.&lt;/p&gt;

&lt;p&gt;Please consider.&lt;/p&gt;

</comment>
                            <comment id="13964027" author="enis" created="Wed, 9 Apr 2014 11:18:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;Added and implemented 2 new APIs in HTableInterface&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Do you have a patch? Can you attach it? &lt;/p&gt;</comment>
                            <comment id="13964147" author="kmalik" created="Wed, 9 Apr 2014 13:40:04 +0000"  >&lt;p&gt;Added and implemented 2 new APIs in HTableInterface -&lt;br/&gt;
double incrementColumnValue(byte[] row, byte[] family, byte[] qualifier,&lt;br/&gt;
double amount) throws IOException;&lt;br/&gt;
and &lt;br/&gt;
double incrementColumnValue(byte[] row, byte[] family, byte[] qualifier,&lt;br/&gt;
double amount, boolean writeToWAL) throws IOException;&lt;/p&gt;</comment>
                            <comment id="13964151" author="hadoopqa" created="Wed, 9 Apr 2014 13:43:07 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12639394/incr_double.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12639394/incr_double.diff&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12639394&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9230//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9230//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13964175" author="yuzhihong@gmail.com" created="Wed, 9 Apr 2014 13:59:22 +0000"  >&lt;p&gt;Please generate patch for trunk.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt; preIncrementColumnValue(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] row, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] family,
+      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] qualifier, &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; amount, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; writeToWAL)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Return type should be double.&lt;/p&gt;</comment>
                            <comment id="13964182" author="kmalik" created="Wed, 9 Apr 2014 14:07:19 +0000"  >&lt;p&gt;Adding tests for new APIs.&lt;br/&gt;
Also, will generate patch for trunk.&lt;/p&gt;

&lt;p&gt;@ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; this is in-line with the existing API for long -&lt;br/&gt;
public Long preIncrementColumnValue(final byte [] row, final byte [] family,&lt;br/&gt;
      final byte [] qualifier, long amount, final boolean writeToWAL)&lt;br/&gt;
It returns null in case of bypass&lt;/p&gt;</comment>
                            <comment id="13964215" author="yuzhihong@gmail.com" created="Wed, 9 Apr 2014 14:36:47 +0000"  >&lt;p&gt;@Kapil:&lt;br/&gt;
Makes sense.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12639394" name="incr_double.diff" size="27013" author="kmalik" created="Wed, 9 Apr 2014 13:40:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 May 2013 12:23:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1khbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327693</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>