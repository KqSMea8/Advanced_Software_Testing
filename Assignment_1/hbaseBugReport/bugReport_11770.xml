<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:26:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11770/HBASE-11770.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11770] TestBlockCacheReporting.testBucketCache is not stable </title>
                <link>https://issues.apache.org/jira/browse/HBASE-11770</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Depending on the machine and OS TestBlockCacheReporting.testBucketCache may fail with NPE:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.bucket.BucketCache.getBlock(BucketCache.java:417)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.CombinedBlockCache.getBlock(CombinedBlockCache.java:80)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.TestBlockCacheReporting.addDataAndHits(TestBlockCacheReporting.java:67)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.TestBlockCacheReporting.testBucketCache(TestBlockCacheReporting.java:86)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;kvm box with Ubuntu 12.04 Desktop 64bit. &lt;br/&gt;
java version &quot;1.7.0_65&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_65-b17)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)&lt;/p&gt;</environment>
        <key id="12734779">HBASE-11770</key>
            <summary>TestBlockCacheReporting.testBucketCache is not stable </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sergey.soldatov">Sergey Soldatov</assignee>
                                    <reporter username="sergey.soldatov">Sergey Soldatov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Aug 2014 15:37:33 +0000</created>
                <updated>Sat, 21 Feb 2015 23:28:48 +0000</updated>
                            <resolved>Mon, 18 Aug 2014 22:36:04 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14101057" author="stack" created="Mon, 18 Aug 2014 18:46:26 +0000"  >&lt;p&gt;Want to assign to me &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey.soldatov&quot; class=&quot;user-hover&quot; rel=&quot;sergey.soldatov&quot;&gt;Sergey Soldatov&lt;/a&gt; Its a test of my writing.&lt;/p&gt;</comment>
                            <comment id="14101384" author="sergey.soldatov" created="Mon, 18 Aug 2014 21:55:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; I have checked the reason why it fails. The addDataAndHits method is getting data by getBlock. It&apos;s fine if block is still in RamCache and not added to backingMap. In other hands if WriterThread adds the block to backingMap and remove it from RamCache, on get operation it will try to get it from backingMap using deserializer. This test is using DataCacheEntry which has Deserializer, but doesn&apos;t init it in CacheableDeserializerIdManager, so on the attempt to receive the corresponding Deserializer we receive null and get NPE when use it. My fix register Deserializer in CacheableDeserializerIdManager. Feel free to fix it in another way if this way is not desirable. &lt;/p&gt;</comment>
                            <comment id="14101439" author="stack" created="Mon, 18 Aug 2014 22:36:04 +0000"  >&lt;p&gt;Looks great &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey.soldatov&quot; class=&quot;user-hover&quot; rel=&quot;sergey.soldatov&quot;&gt;Sergey Soldatov&lt;/a&gt; I pushed to branch-1 and to master.  Thank you.&lt;/p&gt;</comment>
                            <comment id="14101643" author="hudson" created="Tue, 19 Aug 2014 01:07:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11770&quot; title=&quot;TestBlockCacheReporting.testBucketCache is not stable &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11770&quot;&gt;&lt;del&gt;HBASE-11770&lt;/del&gt;&lt;/a&gt; TestBlockCacheReporting.testBucketCache is not stable (Sergey Soldatov) (stack: rev ac6b747370a5cecceea125a03440858c99eba9ea)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/hfile/TestCacheConfig.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14101743" author="hudson" created="Tue, 19 Aug 2014 02:23:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5408 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5408/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5408/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11770&quot; title=&quot;TestBlockCacheReporting.testBucketCache is not stable &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11770&quot;&gt;&lt;del&gt;HBASE-11770&lt;/del&gt;&lt;/a&gt; TestBlockCacheReporting.testBucketCache is not stable (Sergey Soldatov) (stack: rev f93e4d47d939d852b88717476447671cb90311e5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/io/hfile/TestCacheConfig.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330480" author="enis" created="Sat, 21 Feb 2015 23:28:48 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12662588" name="HBASE-11770-v1.patch" size="1199" author="sergey.soldatov" created="Mon, 18 Aug 2014 21:56:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Aug 2014 18:46:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yzzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>