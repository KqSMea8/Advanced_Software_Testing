<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5809/HBASE-5809.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5809] Avoid move api to take the destination server same as the source server.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5809</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In Move currently we take any destination specified and if the destination is same as the source we still do unassign and assign.  Here we can have problems due to RegionAlreadyInTransitionException and thus hanging the region in RIT for long time.  We can avoid this scenario by not allowing the move to happen in this scenario.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12551249">HBASE-5809</key>
            <summary>Avoid move api to take the destination server same as the source server.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh23">rajeshbabu</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                            <label>client</label>
                    </labels>
                <created>Tue, 17 Apr 2012 15:32:54 +0000</created>
                <updated>Mon, 23 Sep 2013 18:45:09 +0000</updated>
                            <resolved>Sat, 21 Apr 2012 13:56:33 +0000</resolved>
                                    <version>0.92.1</version>
                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13257633" author="rajesh23" created="Thu, 19 Apr 2012 17:51:01 +0000"  >&lt;p&gt;Attached patch.Please review and provide your comments/suggestions.&lt;/p&gt;</comment>
                            <comment id="13257638" author="zhihyu@ebaysf.com" created="Thu, 19 Apr 2012 17:58:24 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13257657" author="ram_krish" created="Thu, 19 Apr 2012 18:16:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13257661" author="ram_krish" created="Thu, 19 Apr 2012 18:18:24 +0000"  >&lt;p&gt;Will commit tomorrow unless no objection.&lt;/p&gt;</comment>
                            <comment id="13257677" author="zhihyu@ebaysf.com" created="Thu, 19 Apr 2012 18:42:12 +0000"  >&lt;p&gt;You meant &apos;unless objection&apos;, I assume &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13257687" author="hadoopqa" created="Thu, 19 Apr 2012 18:53:49 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12523374/HBASE-5809.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12523374/HBASE-5809.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13257688" author="umamaheswararao" created="Thu, 19 Apr 2012 18:54:47 +0000"  >&lt;p&gt;small nit:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+            + &lt;span class=&quot;code-quote&quot;&gt;&quot; beacuse region already assigned to the same server &quot;&lt;/span&gt; + dest + &apos;.&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;typo: beacuse -&amp;gt; because&lt;/p&gt;</comment>
                            <comment id="13258015" author="ram_krish" created="Fri, 20 Apr 2012 04:38:53 +0000"  >&lt;p&gt;@Uma&lt;br/&gt;
I will change this while commit.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13258021" author="umamaheswararao" created="Fri, 20 Apr 2012 05:09:45 +0000"  >&lt;p&gt;Thanks Ram.&lt;/p&gt;</comment>
                            <comment id="13258403" author="ram_krish" created="Fri, 20 Apr 2012 17:36:59 +0000"  >&lt;p&gt;Committed to trunk.  Made it as an improvement.&lt;br/&gt;
Thanks for the patch Rajesh.  &lt;br/&gt;
Thanks for the review Ted and Uma.&lt;/p&gt;</comment>
                            <comment id="13258407" author="ram_krish" created="Fri, 20 Apr 2012 17:42:15 +0000"  >&lt;p&gt;This is what i finally committed. Small formatting change and corrected typo error.&lt;/p&gt;</comment>
                            <comment id="13258464" author="hudson" created="Fri, 20 Apr 2012 18:50:36 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2791 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2791/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2791/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5809&quot; title=&quot;Avoid move api to take the destination server same as the source server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5809&quot;&gt;&lt;del&gt;HBASE-5809&lt;/del&gt;&lt;/a&gt; Avoid move api to take the destination server same as the source server. (Rajesh) (Revision 1328458)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13258474" author="zhihyu@ebaysf.com" created="Fri, 20 Apr 2012 19:04:42 +0000"  >&lt;p&gt;I looped the test using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
~/runtest.sh 4 TestMasterObserver#testRegionTransitionOperations
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and got the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testRegionTransitionOperations(org.apache.hadoop.hbase.coprocessor.TestMasterObserver): Coprocessor should have been called on region move
...
TestMasterObserver#testRegionTransitionOperations failed, iteration: 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13258494" author="zhihyu@ebaysf.com" created="Fri, 20 Apr 2012 19:24:33 +0000"  >&lt;p&gt;The test failure was visible on Hadoop QA as well:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1594//testReport/org.apache.hadoop.hbase.coprocessor/TestMasterObserver/testRegionTransitionOperations/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1594//testReport/org.apache.hadoop.hbase.coprocessor/TestMasterObserver/testRegionTransitionOperations/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13258521" author="zhihyu@ebaysf.com" created="Fri, 20 Apr 2012 19:41:05 +0000"  >&lt;p&gt;The addendum fixes the incorrect comparison between server names.&lt;/p&gt;</comment>
                            <comment id="13258778" author="hudson" created="Sat, 21 Apr 2012 05:55:53 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #177 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/177/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/177/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5809&quot; title=&quot;Avoid move api to take the destination server same as the source server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5809&quot;&gt;&lt;del&gt;HBASE-5809&lt;/del&gt;&lt;/a&gt; Avoid move api to take the destination server same as the source server. (Rajesh) (Revision 1328458)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13258780" author="ram_krish" created="Sat, 21 Apr 2012 06:13:19 +0000"  >&lt;p&gt;@Ted&lt;br/&gt;
Thanks for your follow up.  But the same had passed in &lt;br/&gt;
Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1578//testReport/&lt;/a&gt;.&lt;br/&gt;
The QA build that ran on this patch. I will check it up and commit the addendum.&lt;/p&gt;</comment>
                            <comment id="13258792" author="ram_krish" created="Sat, 21 Apr 2012 06:55:27 +0000"  >&lt;p&gt;+1 on addendum Ted.  Thanks for the patch. I will commit it.&lt;/p&gt;</comment>
                            <comment id="13258793" author="ram_krish" created="Sat, 21 Apr 2012 07:01:15 +0000"  >&lt;p&gt;Committed to trunk.  &lt;/p&gt;</comment>
                            <comment id="13258805" author="hudson" created="Sat, 21 Apr 2012 08:06:15 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2793 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2793/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2793/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5809&quot; title=&quot;Avoid move api to take the destination server same as the source server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5809&quot;&gt;&lt;del&gt;HBASE-5809&lt;/del&gt;&lt;/a&gt; Avoid move api to take the destination server same as the source server. Addendum to correct tet case. (Ted) (Revision 1328594)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13258860" author="hudson" created="Sat, 21 Apr 2012 14:22:43 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #178 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/178/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/178/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5809&quot; title=&quot;Avoid move api to take the destination server same as the source server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5809&quot;&gt;&lt;del&gt;HBASE-5809&lt;/del&gt;&lt;/a&gt; Avoid move api to take the destination server same as the source server. Addendum to correct tet case. (Ted) (Revision 1328594)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12523542" name="5809.addendum" size="1177" author="zhihyu@ebaysf.com" created="Fri, 20 Apr 2012 19:41:05 +0000"/>
                            <attachment id="12523525" name="HBASE-5809.patch" size="2596" author="ram_krish" created="Fri, 20 Apr 2012 17:42:15 +0000"/>
                            <attachment id="12523374" name="HBASE-5809.patch" size="2632" author="rajesh23" created="Thu, 19 Apr 2012 17:56:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Apr 2012 17:51:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236113</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hu47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>