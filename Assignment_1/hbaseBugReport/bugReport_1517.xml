<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:54:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1517/HBASE-1517.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1517] Implement inexpensive seek operations in HFile</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1517</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When we early-out of a row because of columns, versions, filters, etc... we seek to the end of that row one key at a time.  We should do the seek at the HFile level in cases where we would end up skipping blocks in the process.  This will be very common in cases with relatively large rows and regex row filters.&lt;/p&gt;

&lt;p&gt;If calls that end up doing nothing are constant time, we could also call this to seek to the next column (or even a specific column in ExplicitTracker case).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427822">HBASE-1517</key>
            <summary>Implement inexpensive seek operations in HFile</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pranavkhaitan">Pranav Khaitan</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Jun 2009 23:13:43 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:42 +0000</updated>
                            <resolved>Sat, 14 Aug 2010 07:59:42 +0000</resolved>
                                    <version>0.20.0</version>
                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12751307" author="stack" created="Fri, 4 Sep 2009 05:03:08 +0000"  >&lt;p&gt;I don&apos;t think this belongs in 0.20.1.  Move it out?&lt;/p&gt;</comment>
                            <comment id="12751310" author="streamy" created="Fri, 4 Sep 2009 05:32:12 +0000"  >&lt;p&gt;Let&apos;s leave it in for now.  This may not be that hard and there&apos;s a bunch of simple but useful optimizations that this will unlock.&lt;/p&gt;</comment>
                            <comment id="12753163" author="streamy" created="Wed, 9 Sep 2009 17:03:18 +0000"  >&lt;p&gt;I spent some time looking in to this... I can see a hack or two that could get us some efficiencies, but this should really be part of a larger set of optimizations which is seeking/skipping/earlying out whenever possible.&lt;/p&gt;

&lt;p&gt;Bumping to 0.21&lt;/p&gt;</comment>
                            <comment id="12861932" author="streamy" created="Wed, 28 Apr 2010 20:26:06 +0000"  >&lt;p&gt;@Ryan, anything doing on this?&lt;/p&gt;</comment>
                            <comment id="12886094" author="pranavkhaitan" created="Wed, 7 Jul 2010 21:33:42 +0000"  >&lt;p&gt;@Ryan, I was going through your code at &lt;a href=&quot;http://github.com/ryanobjc/hbase/commit/0277ad862dc03c6513b08a99221fc5b2b6e61d57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/ryanobjc/hbase/commit/0277ad862dc03c6513b08a99221fc5b2b6e61d57&lt;/a&gt; and had a question about the reseek functions you have added to StoreFileScanner. &lt;/p&gt;

&lt;p&gt;This reseek function is almost the same as the seek function except that it calls the reseek function of HFile instead of calling the seek function of HFile. This way we may need to add reseek functions to KeyValueHeap and StoreScanner also. I was thinking that an alternative to this would be to add a boolean argument to seek function which says if it is reseek or simply seek. Jonathan also suggested this since this would help us reduce duplicate code. What do you say?&lt;/p&gt;</comment>
                            <comment id="12886098" author="ryanobjc" created="Wed, 7 Jul 2010 21:38:21 +0000"  >&lt;p&gt;i guess i thought the API would be cleaner with a different method instead of a flag, but we could do the flag.&lt;/p&gt;

&lt;p&gt;The StoreScanner would not expose the reseek() method, since it would be the consumer of that feature, and the scanner stack above it wouldn&apos;t do such a feature.  &lt;/p&gt;

&lt;p&gt;Given that, would it be that much more code to add reseek() to the KeyValueScanner?  It would make the code substantially cleaner, and the boolean flag is a little opaque at first glance.  &lt;/p&gt;</comment>
                            <comment id="12886120" author="pranavkhaitan" created="Wed, 7 Jul 2010 22:25:47 +0000"  >&lt;p&gt;Yes, I think you are right that the API looks cleaner. Adding reseek() to&lt;br/&gt;
KeyValueScanner would require us to add it to seven classes which implement&lt;br/&gt;
KeyValueScanner. I am fine with it if you guys think it is the better way.&lt;/p&gt;

&lt;p&gt;The file StoreScanner already contains a reseek method. I guess that this&lt;br/&gt;
method does a different task than the reseek we are talking about now so I&lt;br/&gt;
guess we will have to change its name.&lt;/p&gt;

&lt;p&gt;I had another question related to this. Currently, StoreScanner contains&lt;br/&gt;
both a seek method and a reseek method (though I couldn&apos;t find its seek()&lt;br/&gt;
being used anywhere, we have to implement it because it is inherited). Also,&lt;br/&gt;
the implementation of StoreScanner.seek() seems considerably different from&lt;br/&gt;
StoreScanner.reseek() and the seeking done in its constructors. In reseek()&lt;br/&gt;
and in constructors, we create List&amp;lt;KeyValueScanner&amp;gt;, then call seek for&lt;br/&gt;
each of these scanners and then add them to a heap. However, in seek(), we&lt;br/&gt;
create List&amp;lt;KeyValueScanner&amp;gt;, add them all to a heap and then call seek on&lt;br/&gt;
the heap. Is this difference on purpose?&lt;/p&gt;






</comment>
                            <comment id="12886129" author="ryanobjc" created="Wed, 7 Jul 2010 22:30:43 +0000"  >&lt;p&gt;it would be really nice if Java let us have &apos;optional methods&apos; that didnt require adding to all implementors.  I think with a good refactoring IDE it should be able to auto-add all the implementations for you.  Lets go with the new method, it just looks cleaner in existing code, and will reduce errors by readers.  Tend towards readability, since code gets read more than written.&lt;/p&gt;

&lt;p&gt;So StoreScanner.reseek() exists to reset the scanner stack during certain regionserver events (flushes, compactions) when we have to re-read the store files, and then re-seek the scanner stack.  It should probably be renamed in the face of this new feature, perhaps to &apos;resetScannerStack&apos; or something like that.&lt;/p&gt;
</comment>
                            <comment id="12898419" author="pranavkhaitan" created="Fri, 13 Aug 2010 21:10:54 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1517&quot; title=&quot;Implement inexpensive seek operations in HFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1517&quot;&gt;&lt;del&gt;HBASE-1517&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2903&quot; title=&quot;ColumnPrefix filtering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2903&quot;&gt;&lt;del&gt;HBASE-2903&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2904&quot; title=&quot;Smart seeking using filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2904&quot;&gt;&lt;del&gt;HBASE-2904&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12898536" author="pranavkhaitan" created="Sat, 14 Aug 2010 07:59:41 +0000"  >&lt;p&gt;Code submitted.&lt;br/&gt;
Committed by Ryan. &lt;br/&gt;
Thanks to Ryan, Stack and Ted for their feedback on this!&lt;/p&gt;</comment>
                            <comment id="12899412" author="stack" created="Tue, 17 Aug 2010 14:06:09 +0000"  >&lt;p&gt;@Pranav Whats going on here?  You closed a bunch of issues.  Did the attached ReseekV10.patch fix more than just one issue?&lt;/p&gt;</comment>
                            <comment id="12899414" author="stack" created="Tue, 17 Aug 2010 14:11:05 +0000"  >&lt;p&gt;@Pranav Ignore above comment &amp;#8211; I see whats going on now.  In future, you don&apos;t have to attach patch to each issue.  Just close issue saying resolved by other-issue-number.  Thanks Pranav.&lt;/p&gt;</comment>
                            <comment id="15017873" author="lars_francke" created="Fri, 20 Nov 2015 13:01:42 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12471064">HBASE-2904</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12462095">HBASE-2450</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471583">HBASE-2916</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471584">HBASE-2917</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12452055" name="ReseekV10.patch" size="33636" author="pranavkhaitan" created="Fri, 13 Aug 2010 21:10:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Sep 2009 05:03:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32176</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hdpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>