<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:57:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8667/HBASE-8667.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8667] Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8667</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8640&quot; title=&quot;ServerName in master may not initialize with the configured ipc address of hbase.master.ipc.address&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8640&quot;&gt;&lt;del&gt;HBASE-8640&lt;/del&gt;&lt;/a&gt; fix found that master and regionserver running on different interfaces are not communicating properly.&lt;br/&gt;
I have two interfaces 1) lo 2) eth0 in my machine and default hostname interface is lo.&lt;br/&gt;
I have configured master ipc address to ip of eth0 interface.&lt;/p&gt;

&lt;p&gt;Started master and regionserver on the same machine.&lt;br/&gt;
1) master rpc server bound to eth0 and RS rpc server bound to lo&lt;br/&gt;
2) Since rpc client is not binding to any ip address, when RS is reporting RS startup its getting registered with eth0 ip address(but actually it should register localhost)&lt;/p&gt;

&lt;p&gt;Here are RS logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-05-31 06:05:28,608 WARN  [regionserver60020] org.apache.hadoop.hbase.regionserver.HRegionServer: reportForDuty failed; sleeping and then retrying.
2013-05-31 06:05:31,609 INFO  [regionserver60020] org.apache.hadoop.hbase.regionserver.HRegionServer: Attempting connect to Master server at 192.168.0.100,60000,1369960497008
2013-05-31 06:05:31,609 INFO  [regionserver60020] org.apache.hadoop.hbase.regionserver.HRegionServer: Telling master at 192.168.0.100,60000,1369960497008 that we are up with port=60020, startcode=1369960502544
2013-05-31 06:05:31,618 DEBUG [regionserver60020] org.apache.hadoop.hbase.regionserver.HRegionServer: Config from master: hbase.rootdir=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:2851/hbase
&lt;/span&gt;2013-05-31 06:05:31,618 DEBUG [regionserver60020] org.apache.hadoop.hbase.regionserver.HRegionServer: Config from master: fs.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.name=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:2851
&lt;/span&gt;2013-05-31 06:05:31,618 INFO  [regionserver60020] org.apache.hadoop.hbase.regionserver.HRegionServer: Master passed us a different hostname to use; was=localhost, but now=192.168.0.100
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here are master logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-05-31 06:05:31,615 INFO  [IPC Server handler 9 on 60000] org.apache.hadoop.hbase.master.ServerManager: Registering server=192.168.0.100,60020,1369960502544
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since master has wrong rpc server address of RS, META is not getting assigned.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-05-31 06:05:34,362 DEBUG [master-192.168.0.100,60000,1369960497008] org.apache.hadoop.hbase.master.AssignmentManager: No previous transition plan was found (or we are ignoring an existing plan) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; .META.,,1.1028785192 so generated a random one; hri=.META.,,1.1028785192, src=, dest=192.168.0.100,60020,1369960502544; 1 (online=1, available=1) available servers, forceNewPlan=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
-----
org.apache.hadoop.hbase.master.AssignmentManager: Failed assignment of .META.,,1.1028785192 to 192.168.0.100,60020,1369960502544, trying to assign elsewhere instead; &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;=1 of 10
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:592)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:511)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:481)
	at org.apache.hadoop.hbase.ipc.RpcClient$Connection.setupConnection(RpcClient.java:549)
	at org.apache.hadoop.hbase.ipc.RpcClient$Connection.setupIOstreams(RpcClient.java:813)
	at org.apache.hadoop.hbase.ipc.RpcClient.getConnection(RpcClient.java:1422)
	at org.apache.hadoop.hbase.ipc.RpcClient.call(RpcClient.java:1315)
	at org.apache.hadoop.hbase.ipc.RpcClient.callBlockingMethod(RpcClient.java:1532)
	at org.apache.hadoop.hbase.ipc.RpcClient$BlockingRpcChannelImplementation.callBlockingMethod(RpcClient.java:1587)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$BlockingStub.openRegion(AdminProtos.java:15039)
	at org.apache.hadoop.hbase.master.ServerManager.sendRegionOpen(ServerManager.java:627)
	at org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:1826)
	at org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:1453)
	at org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:1432)
	at org.apache.hadoop.hbase.master.handler.ClosedRegionHandler.process(ClosedRegionHandler.java:104)
	at org.apache.hadoop.hbase.master.AssignmentManager.addToRITandCallClose(AssignmentManager.java:699)
	at org.apache.hadoop.hbase.master.AssignmentManager.processRegionsInTransition(AssignmentManager.java:584)
	at org.apache.hadoop.hbase.master.AssignmentManager.processRegionInTransition(AssignmentManager.java:517)
	at org.apache.hadoop.hbase.master.AssignmentManager.processRegionInTransitionAndBlockUntilAssigned(AssignmentManager.java:473)
	at org.apache.hadoop.hbase.master.HMaster.assignMeta(HMaster.java:917)
	at org.apache.hadoop.hbase.master.HMaster.finishInitialization(HMaster.java:803)
	at org.apache.hadoop.hbase.master.HMaster.run(HMaster.java:547)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:636)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12650263">HBASE-8667</key>
            <summary>Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh23">rajeshbabu</assignee>
                                    <reporter username="rajesh23">rajeshbabu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 May 2013 01:37:57 +0000</created>
                <updated>Thu, 31 Oct 2013 21:49:21 +0000</updated>
                            <resolved>Thu, 15 Aug 2013 18:27:42 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                    <component>IPC/RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13671053" author="rajesh23" created="Fri, 31 May 2013 01:48:14 +0000"  >&lt;p&gt;Here is the netstat report&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
tcp        0      0 ::ffff:192.168.0.100:60000  :::*                        LISTEN      3745/java           
tcp        0      0 ::ffff:127.0.0.1:60020      :::*                        LISTEN      3837/java           
tcp        0      0 ::ffff:192.168.0.100:55248  ::ffff:192.168.0.100:60000  ESTABLISHED 3837/java           
tcp        0      0 ::ffff:192.168.0.100:60000  ::ffff:192.168.0.100:55248  ESTABLISHED 3745/java           
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;192.168.0.100:60000 - master rpc server&lt;br/&gt;
127.0.0.1:60020 - region server rpc server&lt;br/&gt;
But rs registered with 192.168.0.100 address.&lt;/p&gt;</comment>
                            <comment id="13671089" author="ram_krish" created="Fri, 31 May 2013 02:54:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt;&lt;br/&gt;
Is this is a bug? Or it should be dealt while setup?  &lt;/p&gt;</comment>
                            <comment id="13671147" author="rajesh23" created="Fri, 31 May 2013 04:38:32 +0000"  >&lt;p&gt;Its bug only Ram, we have option for configuring network interface or bind address for master as well as region server. If both master and regionserver interfaces(bind address) are different in the same machine then this problem is coming.&lt;/p&gt;</comment>
                            <comment id="13671639" author="anoop.hbase" created="Fri, 31 May 2013 16:52:40 +0000"  >&lt;p&gt;So here server @RS was bound to a different hostname/ip but the master sees RS identity as another. Master looks at connection&apos;s remote host name to decide what is the hostname of the RS.&lt;/p&gt;

&lt;p&gt;HRS&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key.equals(HConstants.KEY_FOR_HOSTNAME_SEEN_BY_MASTER)) {
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; hostnameFromMasterPOV = e.getValue();
  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverNameFromMasterPOV = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServerName(hostnameFromMasterPOV,
	&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getPort(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.startcode);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverNameFromMasterPOV.equals(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getHostName())) {
	LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Master passed us a different hostname to use; was=&quot;&lt;/span&gt; +
	  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getHostName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;, but now=&quot;&lt;/span&gt; +
	  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverNameFromMasterPOV.getHostname());
  }
  &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When master taken some other hostname for this RS we just log that in RS side and continue..&lt;/p&gt;

&lt;p&gt;So can we pass the hostname which is actually bound with the RS server to Master when it is reporting? And Master uses that to communicate with RS then on? &lt;br/&gt;
With this change I am able to start the cluster successfully in Rajesh&apos;s scenario.&lt;br/&gt;
If this change sounds fine, I can submit the patch.&lt;/p&gt;</comment>
                            <comment id="13671750" author="rajesh23" created="Fri, 31 May 2013 19:17:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;So here server @RS was bound to a different hostname/ip but the master sees RS identity as another. Master looks at connection&apos;s remote host name to decide what is the hostname of the RS.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes Anoop, exactly this is happening. &lt;br/&gt;
Presently no address bound to rpc client socket so connections remote hostname is deciding by the interface from which the communication is happening.&lt;br/&gt;
What about an idea of binding master and RS ipc addresses(port is 0) to the rpcclient sockets in master and RS to avoid problems like this issue?&lt;/p&gt;</comment>
                            <comment id="13672227" author="rajesh23" created="Sat, 1 Jun 2013 20:15:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;&lt;br/&gt;
Instead of restricting client by binding to specific ip address its better to pass rpcserver address of RS to master for registering.&lt;br/&gt;
Please submit your patch Anoop. Thanks.&lt;/p&gt;</comment>
                            <comment id="13679448" author="anoop.hbase" created="Mon, 10 Jun 2013 11:46:35 +0000"  >&lt;p&gt;Rajesh..  Try with this patch and let me know your comments&lt;/p&gt;</comment>
                            <comment id="13679484" author="hadoopqa" created="Mon, 10 Jun 2013 13:07:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12587054/HBASE-8667_Trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12587054/HBASE-8667_Trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestMasterNoCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5987//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13679559" author="yuzhihong@gmail.com" created="Mon, 10 Jun 2013 14:52:39 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        &lt;span class=&quot;code-comment&quot;&gt;// The hostname the master sees us as.
&lt;/span&gt;-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (key.equals(HConstants.KEY_FOR_HOSTNAME_SEEN_BY_MASTER)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We don&apos;t need the above anymore ? Even for single network interface setup ?&lt;/p&gt;</comment>
                            <comment id="13679605" author="anoop.hbase" created="Mon, 10 Jun 2013 16:26:01 +0000"  >&lt;p&gt;From Master not returning any hostname seen by Master. Infact this host name is passed by RS now. That is why I have removed this code from RS. One test failure is related to this. I will change the test.&lt;/p&gt;</comment>
                            <comment id="13679621" author="jdcryans" created="Mon, 10 Jun 2013 16:44:08 +0000"  >&lt;p&gt;How does this patch behave if the region servers are reporting in as &quot;localhost&quot;?&lt;/p&gt;</comment>
                            <comment id="13679669" author="hadoopqa" created="Mon, 10 Jun 2013 17:39:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12587092/HBASE-8667_Trunk-V2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12587092/HBASE-8667_Trunk-V2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5988//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13679670" author="stack" created="Mon, 10 Jun 2013 17:41:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;So can we pass the hostname which is actually bound with the RS server to Master when it is reporting? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No.  &amp;lt;background&amp;gt;Clusters rarely have DNS set up so reverse DNS matches forward lookup.  When DNS finds disagreement, it resorts back to lowest common denominator IP.  In the past, often a master showed twice the actual count of servers &amp;#8211; once by the regionservers reported in name, and then the same server showing with an IP.  Our workaround was having the regionserver take the name the master proffered after checkin.  This seemed to get rid of a an all-to-common problem seen in hbase deploys.&amp;lt;/background&amp;gt;&lt;/p&gt;

&lt;p&gt;This blog seems related. &lt;a href=&quot;http://blog.devving.com/why-does-hbase-care-about-etchosts/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://blog.devving.com/why-does-hbase-care-about-etchosts/&lt;/a&gt;&lt;/p&gt;




</comment>
                            <comment id="13680316" author="rajesh23" created="Tue, 11 Jun 2013 08:49:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Our workaround was having the regionserver take the name the master proffered after checkin. This seemed to get rid of a an all-to-common problem seen in hbase deploys&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Then we need to initialize rpc server in RS with the hostname recieved from master after checkin right? Otherwise we will have this issue.&lt;/p&gt;</comment>
                            <comment id="13680733" author="stack" created="Tue, 11 Jun 2013 21:52:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Then we need to initialize rpc server in RS with the hostname recieved from master after checkin right? Otherwise we will have this issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The regionserver just takes the name and uses it in subsequent communication w/ the master &amp;#8211; it does not change where it is bound based of the name the master gave it.&lt;/p&gt;

&lt;p&gt;Are you suggesting that regionserver only set up an rpcserver after it has gotten name from master?  What if this disagrees w/ what the operator told us use in the configuration?&lt;/p&gt;

&lt;p&gt;Isn&apos;t what we have here a setup problem; we have regionserver on localhost and master on an ip?  Can you have regionserver bind to same ip?&lt;/p&gt;</comment>
                            <comment id="13680921" author="anoop.hbase" created="Wed, 12 Jun 2013 03:25:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;Are you suggesting that regionserver only set up an rpcserver after it has gotten name from master? What if this disagrees w/ what the operator told us use in the configuration?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Correct. I dont think this is good..&lt;/p&gt;

&lt;p&gt;Here the issue was RS RPCServer bind with an ip. Now when the RS reports to Master the client socket was getting bound with another n/w interface and so master when it checks the hostname of the RS, it sees another name. Master now on will use that to communicate with RS but RS side there is no RPC server bound with this hostname/ip..  So this RS is like not in cluster at all..&lt;/p&gt;

&lt;p&gt;When Master and RS are in seperate nodes and RS node is having 2 n/w interfaces and operator want to bind RS with a specific n/w interface, then also this issue may come up? &lt;/p&gt;</comment>
                            <comment id="13680925" author="stack" created="Wed, 12 Jun 2013 03:45:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;....client socket was getting bound with another n/w interface....&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can we fix this so client has same home as the RS rpcserver?&lt;/p&gt;</comment>
                            <comment id="13680931" author="anoop.hbase" created="Wed, 12 Jun 2013 04:07:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we fix this so client has same home as the RS rpcserver?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sounds good Stack..  I was about to do this..  &lt;/p&gt;</comment>
                            <comment id="13683123" author="rajesh23" created="Fri, 14 Jun 2013 05:51:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we fix this so client has same home as the RS rpcserver?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Initially I have tried this approach only. Attaching the same patch. I have tested the patch in cluster by configuring different ip&apos;s for master and regionserver and also with localhost in some tests.&lt;/p&gt;</comment>
                            <comment id="13687143" author="stack" created="Tue, 18 Jun 2013 20:23:55 +0000"  >&lt;p&gt;This is interesting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt;  When we did NOT supply where to bind, what was client using?  Some default?  Tell us more about the kind of tests you did.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13688173" author="rajesh23" created="Wed, 19 Jun 2013 17:13:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;When we did NOT supply where to bind, what was client using? Some default? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If we dont configure bind address then primary hostname will be used as bind address.&lt;br/&gt;
Here are the test I have done,tried some permutations also.All cases master and rs communicating properly and cluster is fine. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Test 1:
=======
Master bind address:  10.18.40.29
RS bind address : 127.0.0.1
RS RPC client bind address : Taken same ip of RS bind address (127.0.0.1:49503)

tcp        0      0 10.18.40.29:60000       :::*                    LISTEN      19113/java
tcp        0      0 127.0.0.1:60020         :::*                    LISTEN      19558/java
tcp        0      0 10.18.40.29:60000       127.0.0.1:49503         ESTABLISHED 19113/java

Test 2:
=======
Master bind address:  192.168.1.111
RS bind address : 10.18.40.29
RS RPC client bind address : Taken same ip of RS bind address (10.18.40.29:61297)

tcp        0      0 10.18.40.29:60020       :::*                    LISTEN      22408/java
tcp        0      0 192.168.1.111:60000     :::*                    LISTEN      22277/java
tcp        0      0 192.168.1.111:60000     10.18.40.29:61297       ESTABLISHED 22277/java

Test 3:
=======
Master bind address:  Dint specify in configuration (it will take primary hostname - in my &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; ip of primary host name is 10.18.40.29)
RS bind address : Didnt specify (primary host name is 10.18.40.29)
RS RPC client bind address : Taken same ip of RS bind address(10.18.40.29:20302)

tcp        0      0 10.18.40.29:60020       :::*                    LISTEN      23952/java
tcp        0      0 10.18.40.29:60000       :::*                    LISTEN      23823/java
tcp        0      0 10.18.40.29:60000       10.18.40.29:20302       ESTABLISHED 23823/java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13688636" author="stack" created="Wed, 19 Jun 2013 23:27:02 +0000"  >&lt;p&gt;So, this &apos;fixes&apos; the original issue then?  What about this blog: &lt;a href=&quot;http://blog.devving.com/why-does-hbase-care-about-etchosts/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://blog.devving.com/why-does-hbase-care-about-etchosts/&lt;/a&gt;  Does it fix the scenario described therein w/ ubuntu&apos;s 127.0.1.1 mess?  It seems like it would.  Good one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13688857" author="rajesh23" created="Thu, 20 Jun 2013 04:34:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;What about this blog: &lt;a href=&quot;http://blog.devving.com/why-does-hbase-care-about-etchosts/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://blog.devving.com/why-does-hbase-care-about-etchosts/&lt;/a&gt; Does it fix the scenario described therein w/ ubuntu&apos;s 127.0.1.1 mess? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It will fix the scenario also.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
tcp        0      0 127.0.0.1:60020         :::*                    LISTEN      4636/java
tcp        0      0 127.0.1.1:60000         :::*                    LISTEN      4499/java
tcp        0      0 127.0.1.1:60000         127.0.0.1:16430         ESTABLISHED 4499/java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13688875" author="ram_krish" created="Thu, 20 Jun 2013 05:09:08 +0000"  >&lt;p&gt;So after this patch the RPC server and the rpc client on the RS connects using the same host?  But the port for the RPC client is different.&lt;br/&gt;
Any reason why the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
connect(Socket socket, SocketAddress endpoint, SocketAddress localAddr, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; timeout) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;was not used previously?  &lt;/p&gt;</comment>
                            <comment id="13688877" author="stack" created="Thu, 20 Jun 2013 05:12:19 +0000"  >&lt;p&gt;You remove this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      NameStringPair.Builder entry = NameStringPair.newBuilder()
-        .setName(HConstants.KEY_FOR_HOSTNAME_SEEN_BY_MASTER)
-        .setValue(rs.getHostname());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Implication is that the master and regionserver will never disagree on the RS name?  Is that so?  Master just takes the name the RS proffers?  I do not see any resolve going on in here (no InetAddress construction) so it maybe possible that there is no DNS in here to mess us up.&lt;/p&gt;

&lt;p&gt;This should be ok:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverNameFromMasterPOV = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ServerName(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getHostName(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getPort(),
+          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.startcode);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is over on the RS.  And it is telling the master what name to use, the one it found when it did a resolve.&lt;/p&gt;

&lt;p&gt;We should change the name of this variable then: serverNameFromMasterPOV&lt;/p&gt;

&lt;p&gt;This is a change in how we do server naming but it looks safe and solves a few issues we have had w/ a while.&lt;/p&gt;

&lt;p&gt;Anyone else want to take a look here?&lt;/p&gt;</comment>
                            <comment id="13688933" author="rajesh23" created="Thu, 20 Jun 2013 06:46:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12587780/HBASE-8667_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12587780/HBASE-8667_trunk.patch&lt;/a&gt;&lt;br/&gt;
 is the latest patch I have tested.I think you are reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12587092/HBASE-8667_Trunk-V2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12587092/HBASE-8667_Trunk-V2.patch&lt;/a&gt;.&lt;br/&gt;
Sorry for the patch name Stack, it should be something like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt;_trunk_v3.patch.&lt;/p&gt;</comment>
                            <comment id="13688953" author="stack" created="Thu, 20 Jun 2013 07:06:45 +0000"  >&lt;p&gt;Whoops.  My fault.&lt;/p&gt;

&lt;p&gt;Why not just pass this.isa rather than wrap it in a new InetSocketAddress (which will do a new resolve &amp;#8211; could do &lt;a href=&quot;http://download.java.net/jdk7/archive/b123/docs/api/java/net/InetSocketAddress.html#createUnresolved(java.lang.String&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.java.net/jdk7/archive/b123/docs/api/java/net/InetSocketAddress.html#createUnresolved(java.lang.String&lt;/a&gt;, int) I suppose)?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    rpcClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RpcClient(conf, clusterId, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InetSocketAddress(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getHostName(), 0));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13688964" author="rajesh23" created="Thu, 20 Jun 2013 07:13:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;So after this patch the RPC server and the rpc client on the RS connects using the same host?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes Ram. &lt;/p&gt;

&lt;p&gt;If we dont pass bind address in connect call,presently it will pass null internally. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          &lt;span class=&quot;code-comment&quot;&gt;// connection time out is 20s
&lt;/span&gt;          NetUtils.connect(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.socket, remoteId.getAddress(),
              getSocketTimeout(conf));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void connect(Socket socket,
      SocketAddress address,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; timeout) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    connect(socket, address, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, timeout);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13688967" author="rajesh23" created="Thu, 20 Jun 2013 07:17:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;could do &lt;a href=&quot;http://download.java.net/jdk7/archive/b123/docs/api/java/net/InetSocketAddress.html#createUnresolved(java.lang.String&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.java.net/jdk7/archive/b123/docs/api/java/net/InetSocketAddress.html#createUnresolved(java.lang.String&lt;/a&gt;, int) I suppose)?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is good. I will change and update the patch.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13689006" author="rajesh23" created="Thu, 20 Jun 2013 08:26:05 +0000"  >&lt;p&gt;Patch addressing Stack&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13689011" author="hadoopqa" created="Thu, 20 Jun 2013 08:32:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12588784/HBASE-8667_trunk_v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12588784/HBASE-8667_trunk_v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6083//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6083//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13689063" author="rajesh23" created="Thu, 20 Jun 2013 09:44:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;br/&gt;
InetSocketAddress.createUnresolved is creating unresolved socket address which can be used only in some circumstances like connecting through proxy. Any way avoided extra resolving by passing InetAddress instead of hostname.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    rpcClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RpcClient(conf, clusterId, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InetSocketAddress(
+        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.isa.getAddress(), 0));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13689306" author="stack" created="Thu, 20 Jun 2013 15:03:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt; v5 has this still:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;rpcClient = new RpcClient(conf, clusterId);&lt;br/&gt;
+    rpcClient = new RpcClient(conf, clusterId, new InetSocketAddress(&lt;br/&gt;
+        this.isa.getAddress(), 0));&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You cannot do?&lt;/p&gt;

&lt;p&gt;rpcClient = new RpcClient(conf, clusterId, this.isa);&lt;/p&gt;

&lt;p&gt;Thanks for doing this fixup.&lt;/p&gt;</comment>
                            <comment id="13689329" author="rajesh23" created="Thu, 20 Jun 2013 15:24:15 +0000"  >&lt;p&gt;If we use this.isa directly we will get BindException because rpc server already binding to the port(60010).&lt;/p&gt;</comment>
                            <comment id="13689418" author="stack" created="Thu, 20 Jun 2013 17:23:51 +0000"  >&lt;p&gt;Ok.  Makes sense.  I am up for trying it.  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt;.  Anyone else want to take a look?&lt;/p&gt;</comment>
                            <comment id="13690172" author="anoop.hbase" created="Fri, 21 Jun 2013 10:14:53 +0000"  >&lt;p&gt;Looks good&lt;/p&gt;</comment>
                            <comment id="13690381" author="stack" created="Fri, 21 Jun 2013 15:23:46 +0000"  >&lt;p&gt;So, to be clear here... the master will use the hostname the RS gives it.  It will not try to resolve the name the RS gives it and use the resolved name instead.  Let me try this patch on a cluster where reverse dns is broke to make sure we don&apos;t see the doubled-RS issue.&lt;/p&gt;</comment>
                            <comment id="13690753" author="viralbajaria" created="Fri, 21 Jun 2013 21:41:02 +0000"  >&lt;p&gt;+1 to the patch. I applied it on current HBase 0.95 branch and was able to get hbase to work in standalone mode on Ubuntu 12.04&lt;/p&gt;</comment>
                            <comment id="13691531" author="stack" created="Sun, 23 Jun 2013 17:38:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt; I was sitting w/ Viral and yeah, he had the classic ubuntu issue and the patch just fixed it.&lt;/p&gt;

&lt;p&gt;I see this when I tied it on hadoopqa precommit: &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/PreCommit-HBASE-Build/6110/artifact/trunk/patchprocess/trunk1.0JavacWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/PreCommit-HBASE-Build/6110/artifact/trunk/patchprocess/trunk1.0JavacWarnings.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Seems like a hadoop1 incompatibiity?&lt;/p&gt;</comment>
                            <comment id="13691700" author="anoop.hbase" created="Mon, 24 Jun 2013 04:51:16 +0000"  >&lt;p&gt;Seems NetUtils#connect(Socket socket, SocketAddress endpoint, SocketAddress localAddr, int timeout)  not available with hadoop1.&lt;/p&gt;</comment>
                            <comment id="13691719" author="rajesh23" created="Mon, 24 Jun 2013 06:04:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Seems like a hadoop1 incompatibiity?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sorry for this. I have built tar ball with default hadoop profile 1.1.2, so didnt observe this. In present patch directly binding address to client socket(No change in Netutils.connect),so there wont be compatibility issue. I have built with 1.0.4 as well, its working fine.&lt;br/&gt;
Thanks Stack.&lt;/p&gt;</comment>
                            <comment id="13691721" author="rajesh23" created="Mon, 24 Jun 2013 06:13:16 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viralbajaria&quot; class=&quot;user-hover&quot; rel=&quot;viralbajaria&quot;&gt;Viral Bajaria&lt;/a&gt; for testing the patch.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Seems NetUtils#connect(Socket socket, SocketAddress endpoint, SocketAddress localAddr, int timeout) not available with hadoop1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes Anoop.Its not present in hadoop 1.0.4, In latest patch avoided this.&lt;/p&gt;</comment>
                            <comment id="13691777" author="hadoopqa" created="Mon, 24 Jun 2013 08:14:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12589373/HBASE-8667_trunk_v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12589373/HBASE-8667_trunk_v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6115//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13691782" author="lhofhansl" created="Mon, 24 Jun 2013 08:24:52 +0000"  >&lt;p&gt;Pushing to 0.94.10&lt;/p&gt;</comment>
                            <comment id="13698655" author="stack" created="Wed, 3 Jul 2013 06:09:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh23&quot; class=&quot;user-hover&quot; rel=&quot;rajesh23&quot;&gt;rajeshbabu&lt;/a&gt; So you are just doing what NetUtils was doing internally?&lt;/p&gt;</comment>
                            <comment id="13698660" author="rajesh23" created="Wed, 3 Jul 2013 06:15:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;So you are just doing what NetUtils was doing internally?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes Stack.&lt;/p&gt;</comment>
                            <comment id="13698665" author="stack" created="Wed, 3 Jul 2013 06:24:20 +0000"  >&lt;p&gt;Patch looks great.  Let me try on a cluster w/ broken reverse dns to make sure we don&apos;t regress but I like that this patch looks already to have removed the special casing of ubuntu install.  Good on you Rajesh.&lt;/p&gt;</comment>
                            <comment id="13698683" author="viralbajaria" created="Wed, 3 Jul 2013 06:47:07 +0000"  >&lt;p&gt;I just tried this patch today on another Ubuntu VM (12.04) and it worked fine for me, I was using hadoop 1.0.4 if that helps.&lt;/p&gt;</comment>
                            <comment id="13711873" author="lhofhansl" created="Thu, 18 Jul 2013 00:52:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, did you get a chance to test this?&lt;br/&gt;
Patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="13712634" author="lhofhansl" created="Thu, 18 Jul 2013 18:40:26 +0000"  >&lt;p&gt;Lemme push this to 0.94.11.&lt;/p&gt;</comment>
                            <comment id="13721712" author="stack" created="Sat, 27 Jul 2013 18:43:53 +0000"  >&lt;p&gt;This just needs testing in a setup where reverse dns is broke to ensure we do not regress and have double-vision (regionserver by name and then by ip).&lt;/p&gt;</comment>
                            <comment id="13727205" author="lhofhansl" created="Fri, 2 Aug 2013 01:42:11 +0000"  >&lt;p&gt;Pushing again&lt;/p&gt;</comment>
                            <comment id="13741304" author="stack" created="Thu, 15 Aug 2013 18:27:42 +0000"  >&lt;p&gt;I tried this on a cluster.  Mangled the reverse lookup.   Stopped a running regionserver and restarted it.  It showed as its IP rather than name because reverse lookup was broke but there was only one server in the list as opposed to the two we used list.&lt;/p&gt;

&lt;p&gt;This patch should help our usability in general w/ its fix of the ubuntu exception.  Nice one Rajesh.&lt;/p&gt;

&lt;p&gt;Committed to 0.95 and trunk and not to 0.94.  Will open new issue for 0.94.&lt;/p&gt;</comment>
                            <comment id="13741590" author="hudson" created="Thu, 15 Aug 2013 22:30:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #244 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/244/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/244/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt; Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine (stack: rev 1514426)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13741652" author="hudson" created="Thu, 15 Aug 2013 23:18:55 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4398 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4398/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4398/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt; Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine (stack: rev 1514427)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13741731" author="hudson" created="Fri, 16 Aug 2013 00:39:54 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95 #455 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/455/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/455/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt; Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine (stack: rev 1514426)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13741760" author="hudson" created="Fri, 16 Aug 2013 00:55:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #678 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/678/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/678/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt; Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine (stack: rev 1514427)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13807775" author="hudson" created="Tue, 29 Oct 2013 08:22:59 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1188 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1188/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9842&quot; title=&quot;Backport HBASE-9593 and HBASE-8667 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9842&quot;&gt;&lt;del&gt;HBASE-9842&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9593&quot; title=&quot;Region server left in online servers list forever if it went down after registering to master and before creating ephemeral node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9593&quot;&gt;&lt;del&gt;HBASE-9593&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt; to 0.94 (rajeshbabu) (larsh: rev 1536592)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestRSKilledWhenInitializing.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13810755" author="hudson" created="Thu, 31 Oct 2013 21:49:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #326 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/326/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/326/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9842&quot; title=&quot;Backport HBASE-9593 and HBASE-8667 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9842&quot;&gt;&lt;del&gt;HBASE-9842&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9593&quot; title=&quot;Region server left in online servers list forever if it went down after registering to master and before creating ephemeral node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9593&quot;&gt;&lt;del&gt;HBASE-9593&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8667&quot; title=&quot;Master and Regionserver not able to communicate if both bound to different network interfaces on the same machine.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8667&quot;&gt;&lt;del&gt;HBASE-8667&lt;/del&gt;&lt;/a&gt; to 0.94 (rajeshbabu) (larsh: rev 1536592)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestRSKilledWhenInitializing.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12675848">HBASE-9842</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587092" name="HBASE-8667_Trunk-V2.patch" size="33978" author="anoop.hbase" created="Mon, 10 Jun 2013 16:28:33 +0000"/>
                            <attachment id="12587054" name="HBASE-8667_Trunk.patch" size="33292" author="anoop.hbase" created="Mon, 10 Jun 2013 11:46:35 +0000"/>
                            <attachment id="12587780" name="HBASE-8667_trunk.patch" size="4670" author="rajesh23" created="Fri, 14 Jun 2013 05:51:24 +0000"/>
                            <attachment id="12588784" name="HBASE-8667_trunk_v4.patch" size="4692" author="rajesh23" created="Thu, 20 Jun 2013 08:26:05 +0000"/>
                            <attachment id="12588805" name="HBASE-8667_trunk_v5.patch" size="4580" author="rajesh23" created="Thu, 20 Jun 2013 09:44:13 +0000"/>
                            <attachment id="12589373" name="HBASE-8667_trunk_v6.patch" size="4496" author="rajesh23" created="Mon, 24 Jun 2013 06:04:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 May 2013 02:54:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l18f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>