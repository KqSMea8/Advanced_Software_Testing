<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:37:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12911/HBASE-12911.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12911] Client-side metrics</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12911</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There&apos;s very little visibility into the hbase client. Folks who care to add some kind of metrics collection end up wrapping Table method invocations with &lt;tt&gt;System.currentTimeMillis()&lt;/tt&gt;. For a crude example of this, have a look at what I did in &lt;tt&gt;PerformanceEvaluation&lt;/tt&gt; for exposing requests latencies up to &lt;tt&gt;IntegrationTestRegionReplicaPerf&lt;/tt&gt;. The client is quite complex, there&apos;s a lot going on under the hood that is impossible to see right now without a profiler. Being a crucial part of the performance of this distributed system, we should have deeper visibility into the client&apos;s function.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure that wiring into the hadoop metrics system is the right choice because the client is often embedded as a library in a user&apos;s application. We should have integration with our metrics tools so that, i.e., a client embedded in a coprocessor can report metrics through the usual RS channels, or a client used in a MR job can do the same.&lt;/p&gt;

&lt;p&gt;I would propose an interface-based system with pluggable implementations. Out of the box we&apos;d include a hadoop-metrics implementation and one other, possibly &lt;a href=&quot;https://github.com/dropwizard/metrics&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;dropwizard/metrics&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12769727">HBASE-12911</key>
            <summary>Client-side metrics</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jan 2015 19:21:48 +0000</created>
                <updated>Sat, 24 Oct 2015 18:39:55 +0000</updated>
                            <resolved>Fri, 9 Oct 2015 17:15:34 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>0.98.16</fixVersion>
                                    <component>Client</component>
                    <component>Operability</component>
                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>18</watches>
                                                                <comments>
                            <comment id="14289790" author="ndimiduk" created="Fri, 23 Jan 2015 19:29:15 +0000"  >&lt;p&gt;Linking some issues I think could (have) benefit from something like this.&lt;/p&gt;</comment>
                            <comment id="14289836" author="apurtell" created="Fri, 23 Jan 2015 19:54:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;There&apos;s very little visibility into the hbase client. Folks who care to add some kind of metrics collection end up wrapping Table method invocations with System.currentTimeMillis(). &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As an example of this, see &lt;a href=&quot;https://github.com/urbanairship/statshtable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Urban Airship&apos;s statshtable&lt;/a&gt;. I adapted this for 0.98 for something called benchpress, but that work ended up going nowhere so I dropped my GH fork of that project. Oops. Anyway, refactoring isn&apos;t too difficult, but it&apos;s an open question how to account dynamic coprocessor endpoint calls. &lt;/p&gt;</comment>
                            <comment id="14680990" author="ndimiduk" created="Tue, 11 Aug 2015 00:14:21 +0000"  >&lt;p&gt;Git fat-fingered an unintended push. Reverted. Sorry for the noise.&lt;/p&gt;

&lt;p&gt;Will post a WIP patch shortly.&lt;/p&gt;</comment>
                            <comment id="14681193" author="hudson" created="Tue, 11 Aug 2015 03:51:36 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6712 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6712/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6712/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev 06989fd1f936f905a94e6e98e462ba72704d05c4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionImplementation.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionWrapper.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSource.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSourceFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionAdapter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSourceFactoryImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionWrapperImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSourceImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/main/resources/META-INF/services/org.apache.hadoop.hbase.client.MetricsConnectionSourceFactory&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics&quot; (ndimiduk: rev e4106b4c4a3b762e5c9c2b35adf3e048a3ab3b2d)&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/main/resources/META-INF/services/org.apache.hadoop.hbase.client.MetricsConnectionSourceFactory&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionAdapter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionImplementation.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionWrapperImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSource.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionWrapper.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSourceImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop2-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSourceFactoryImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-hadoop-compat/src/main/java/org/apache/hadoop/hbase/client/MetricsConnectionSourceFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14682090" author="eclark" created="Tue, 11 Aug 2015 17:08:55 +0000"  >&lt;p&gt;Can we please make them pluggable and not drag all of the hadoop metrics in by default.  My experience with the hadoop metrics system has been less than pleasurable and while I really really want the client side metrics, I don&apos;t want to have to have any more hadoop metrics in my life. So it would be good to be able to replace it with a different implementation.&lt;/p&gt;

&lt;p&gt;So maybe a new maven module that the client can load if configured?&lt;/p&gt;</comment>
                            <comment id="14682200" author="ndimiduk" created="Tue, 11 Aug 2015 18:10:37 +0000"  >&lt;p&gt;Here&apos;s a simple patch that does the obvious &amp;#8211; wires into the existing metrics infra already used by the servers. Also attached jconsole screen caps from stand-alone mode of both client and RS JMX. Let&apos;s start talking about how to organize the hierarchy and what metrics we want emitted.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; I&apos;m there with you, but we&apos;re not replacing Hadoop&apos;s Metrics2, so it&apos;ll need to be implemented regardless. I&apos;d like to look at options for recording/emitting via codahale/yammer/dropwizard as well.&lt;/p&gt;</comment>
                            <comment id="14682350" author="eclark" created="Tue, 11 Aug 2015 19:35:45 +0000"  >&lt;p&gt;Things that have come in handy so far in our env:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Total call time for Put, Get, Scan.next&lt;/li&gt;
	&lt;li&gt;Request size&lt;/li&gt;
	&lt;li&gt;Response size&lt;/li&gt;
	&lt;li&gt;Total number of retries&lt;/li&gt;
	&lt;li&gt;Errors per regionserver&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14726449" author="ndimiduk" created="Wed, 2 Sep 2015 00:02:15 +0000"  >&lt;p&gt;Patch for master. Here I&apos;m creating a separate bean for each remote host. Metrics are registered dynamically, which means they probably accumulate over time, I have a todo for that. The plumbing is in place to collect basic statistics about the connection itself (meta cache hits/misses, batch pool &amp;#8211; see &quot;connection attributes.jpg&quot;), and individual RPC calls (call method, destination host, call time, request/response sizes &amp;#8211; &quot;ltt.jpg&quot; or &quot;standalone.jpg&quot;). I&apos;m using this CallStats pojo to hang interesting metrics on, let me know if you love or hate that.&lt;/p&gt;

&lt;p&gt;No new tests yet, but existing IPC tests all pass locally. Also noticed in my RS/Master log that the metrics system is being initialized and torn down a number of times during startup. I&apos;m not sure if that&apos;s my fault or not, will investigate.&lt;/p&gt;</comment>
                            <comment id="14726459" author="eclark" created="Wed, 2 Sep 2015 00:10:31 +0000"  >&lt;p&gt;Metrics systems gets torn down to keep the cache from getting stale. Hadoop &quot;helpfully&quot; remembers what metrics are there and will hold onto those metrics unless you stop and re-start the system :-/&lt;br/&gt;
Not your fault and just something I have been un-able to make any less ugly.&lt;/p&gt;</comment>
                            <comment id="14728213" author="hadoopqa" created="Wed, 2 Sep 2015 23:12:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753629/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753629/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a5261b6f44f338e3f4bd46fb29bed2c30e223bd4.&lt;br/&gt;
  ATTACHMENT ID: 12753629&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 23 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1855 checkstyle errors (more than the master&apos;s current 1847 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAsyncProcess&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestClientNoCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.TestInterfaceAudienceAnnotations&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15397//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14728395" author="enis" created="Thu, 3 Sep 2015 02:10:49 +0000"  >&lt;p&gt;The stats looks pretty good. Can you put the patch in RB, will be easier to review. &lt;/p&gt;</comment>
                            <comment id="14729332" author="ndimiduk" created="Thu, 3 Sep 2015 16:13:29 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/38104/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/38104/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14730048" author="stack" created="Thu, 3 Sep 2015 23:42:02 +0000"  >&lt;p&gt;I love this effort. &lt;/p&gt;

&lt;p&gt;Looking at the PNG, what is the &quot;tag.&quot; prefix in client-side metrics.&lt;/p&gt;

&lt;p&gt;What is batchPool*? If I hover over the metiric, there is a description.&lt;/p&gt;

&lt;p&gt;Can we count threads in client metrics?&lt;/p&gt;

&lt;p&gt;So, having trouble following the client side jmx bean hierarchy. When do the rpc metrics show up? Clients will list each remote server they connect too?&lt;/p&gt;


</comment>
                            <comment id="14730129" author="ndimiduk" created="Fri, 4 Sep 2015 01:06:52 +0000"  >&lt;p&gt;Thanks a lot for taking a peek &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Looking at the PNG, what is the &quot;tag.&quot; prefix in client-side metrics.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m curious about that myself. Far as I can tell, that comes from some default in the MBean translation, they were there when I implemented a bean that didn&apos;t report anything at all. I guess it&apos;s helpful to know what host produced the metric in question?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What is batchPool*? If I hover over the metiric, there is a description.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See ConnectionImplementation#getCurrentBatchPool(). Far as I can tell, it&apos;s the thread pool used by the connection to service DML work on behalf of all Connection consumers. For instance, it&apos;s the thread pool that&apos;s passed down into AsyncProcess unless the user specifies their own pool at Table creation.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Can we count threads in client metrics?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We can inspect the batch pool, as I&apos;ve started here. Pools passed into a Table instance (as I mention above) wouldn&apos;t be a part of that. Maybe we can query the JVM for all threads that call themselves &quot;HBase&quot; and expose that? I&apos;m not sure what you have in mind with this one.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So, having trouble following the client side jmx bean hierarchy. When do the rpc metrics show up? Clients will list each remote server they connect too?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, i&apos;m not exactly sure how this plays out on a real cluster. This is from a simple standalone run. The goal is to have a bean for each host the client is sending an RPC to. From the ltt snap, &quot;192.168.1.10-60917&quot; is the single RS endpoint (that would be &amp;lt;hostname&amp;gt;-&amp;lt;RPCPort&amp;gt; if I had real DNS) and &quot;192.168.1.10-60915&quot; is the master RPC endpoint.&lt;/p&gt;

&lt;p&gt;My open questions are around expiring old hosts when they go away, and about aggregating this host-level information at the connection level (or if that&apos;s even useful, given the drastic difference between our various RPC call durations and sizes). We could also explore other aggregations, like per region or per table, but that requires a bit more unpacking of the IPC layer than I&apos;ve tackled just yet.&lt;/p&gt;</comment>
                            <comment id="14730235" author="stack" created="Fri, 4 Sep 2015 02:55:57 +0000"  >&lt;p&gt;Lets figure &apos;tag.&apos; prefix. I don&apos;t think it in any other hbase bean.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;m not sure what you have in mind with this one.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;(Our client has way too many threads) NVM. Its probalbly info available in the jvm bean that is adjacent to &apos;hadoop&apos;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The goal is to have a bean for each host the client is sending an RPC to.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are they aggregated?&lt;/p&gt;

&lt;p&gt;Can we stamp the remote server beans with their ServerName? (What happens currently when a server restarts?)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;My open questions are around expiring old hosts when they go away, and about aggregating this host-level information at the connection level (or if that&apos;s even useful, given the drastic difference between our various RPC call durations and sizes). We could also explore other aggregations, like per region or per table, but that requires a bit more unpacking of the IPC layer than I&apos;ve tackled just yet.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds like you can&apos;t remove beans without restarting metrics (per Elliott&apos;s previous, recent experience). Do it on a period?&lt;/p&gt;

&lt;p&gt;The per server stuff is cool but what happens when hundreds of remote servers? Some basic aggregation is needed I&apos;d say.&lt;/p&gt;

&lt;p&gt;Would suggest pick small subset of most useful metrics and lets get that in. Its great.&lt;/p&gt;
</comment>
                            <comment id="14731375" author="ndimiduk" created="Fri, 4 Sep 2015 20:35:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;Lets figure &apos;tag.&apos; prefix. I don&apos;t think it in any other hbase bean.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Looks like it&apos;s on all our mbeans, at least when I&apos;m looking in jconsole. Here&apos;s a snap of the AM bean. Maybe it&apos;s my box?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ java -version
java version &quot;1.7.0_67&quot;
Java(TM) SE Runtime Environment (build 1.7.0_67-b01)
Java HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14731379" author="ndimiduk" created="Fri, 4 Sep 2015 20:38:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;The per server stuff is cool but what happens when hundreds of remote servers? Some basic aggregation is needed I&apos;d say.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So you thinking I should scrap the host-level data and just show aggregation for the connection? Or just add aggregation to what I have? My thinking is that when you want to diagnose slow queries, it helps to see individual host details broken out.&lt;/p&gt;</comment>
                            <comment id="14731537" author="ndimiduk" created="Fri, 4 Sep 2015 22:34:10 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Lets figure &apos;tag.&apos; prefix. I don&apos;t think it in any other hbase bean.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Looks like it&apos;s on all our mbeans, at least when I&apos;m looking in jconsole.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;99% sure this is an artifact of hadoop metrics. All these &quot;tag.&quot; attributes are the non-changing attributes added via MetricsRecordBuilder#tag().&lt;/p&gt;</comment>
                            <comment id="14731656" author="ndimiduk" created="Sat, 5 Sep 2015 00:32:32 +0000"  >&lt;p&gt;Updated patch adds connection level aggregation for RPC metrics, see attached &quot;conn_agg.jpg&quot;. Also adds a basic test and rebased onto master. Updated RB too.&lt;/p&gt;</comment>
                            <comment id="14731659" author="ndimiduk" created="Sat, 5 Sep 2015 00:36:38 +0000"  >&lt;p&gt;Adding a link to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarthjain&quot; class=&quot;user-hover&quot; rel=&quot;samarthjain&quot;&gt;Samarth Jain&lt;/a&gt;&apos;s nice work on &lt;a href=&quot;https://issues.apache.org/jira/browse/PHOENIX-1819&quot; title=&quot;Build a framework to capture and report phoenix client side request level metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PHOENIX-1819&quot;&gt;&lt;del&gt;PHOENIX-1819&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14731790" author="hadoopqa" created="Sat, 5 Sep 2015 04:22:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12754302/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12754302/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 2969093b5b39cb950d8710cfffa7e55484d40259.&lt;br/&gt;
  ATTACHMENT ID: 12754302&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1843 checkstyle errors (more than the master&apos;s current 1834 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn post-site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestClientTimeouts&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestWALLockup&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 8 zombie test(s): 	at org.apache.hadoop.hbase.client.TestMobSnapshotCloneIndependence.testOnlineSnapshotMetadataChangesIndependent(TestMobSnapshotCloneIndependence.java:147)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestMobSnapshotCloneIndependence.testOnlineSnapshotMetadataChangesIndependent(TestMobSnapshotCloneIndependence.java:147)&lt;br/&gt;
	at org.apache.hadoop.hbase.replication.TestPerTableCFReplication.testPerTableCFReplication(TestPerTableCFReplication.java:291)&lt;br/&gt;
	at org.apache.hadoop.hbase.replication.TestPerTableCFReplication.testPerTableCFReplication(TestPerTableCFReplication.java:291)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInMetaHole(TestHBaseFsck.java:1356)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testMissingRegionInfoQualifier(TestHBaseFsck.java:2472)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHBaseFsck(TestHBaseFsck.java:207)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInHdfsWithReplicas(TestHBaseFsck.java:1440)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testDupeStartKey(TestHBaseFsck.java:705)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testContainedRegionOverlap(TestHBaseFsck.java:979)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckFixOrphanTable(TestHBaseFsck.java:563)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testDupeRegion(TestHBaseFsck.java:877)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNoHdfsTable(TestHBaseFsck.java:1508)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testCheckTableLocks(TestHBaseFsck.java:2620)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testQuarantineCorruptMobFile(TestHBaseFsck.java:2288)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNoVersionFile(TestHBaseFsck.java:1544)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testCleanUpDaughtersNotInMetaAfterFailedSplit(TestHBaseFsck.java:1315)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHDFSRegioninfoMissing(TestHBaseFsck.java:1227)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testFixMetaNotWorkingWithNoHdfsChecking(TestHBaseFsck.java:2058)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckWithFewerReplica(TestHBaseFsck.java:759)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testRegionDeployedNotInHdfs(TestHBaseFsck.java:1949)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testRegionBoundariesCheck(TestHBaseFsck.java:2824)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testLingeringSplitParent(TestHBaseFsck.java:1726)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckWithExcessReplica(TestHBaseFsck.java:783)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testReadOnlyProperty(TestHBaseFsck.java:2843)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testQuarantineCorruptHFile(TestHBaseFsck.java:2248)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testQuarantineMissingHFile(TestHBaseFsck.java:2373)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testFixHdfsHolesNotWorkingWithNoHdfsChecking(TestHBaseFsck.java:2123)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testCoveredStartKey(TestHBaseFsck.java:1157)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHBaseFsckClean(TestHBaseFsck.java:516)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInMetaHole(TestHBaseFsck.java:1356)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHBaseFsckClean(TestHBaseFsck.java:516)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationWhenSlaveClusterDoesntHaveTable(TestReplicationAdminWithClusters.java:65)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testDisableAndEnableReplication(TestReplicationAdminWithClusters.java:123)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationForNonExistingTable(TestReplicationAdminWithClusters.java:148)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationWhenTableNameAsNull(TestReplicationAdminWithClusters.java:160)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationWhenTableDescriptorIsNotSameInClusters(TestReplicationAdminWithClusters.java:97)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationWhenReplicationNotEnabled(TestReplicationAdminWithClusters.java:83)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationWhenSlaveClusterDoesntHaveTable(TestReplicationAdminWithClusters.java:65)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.replication.TestReplicationAdminWithClusters.testEnableReplicationWhenReplicationNotEnabled(TestReplicationAdminWithClusters.java:83)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15424//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14731812" author="stack" created="Sat, 5 Sep 2015 05:29:02 +0000"  >&lt;p&gt;Tried the patch local. I see the &apos;tag.&apos; prefix on Context and Hostname too on Client and our old beans. Weird. Whats that mess about?  Can&apos;t change it at this stage. And yeah, what are all those extra connections about (in standalone I see four w/ just one of them carrying the extra localhost-port bean).&lt;/p&gt;

&lt;p&gt;So in standalone I see a Master, a RegionServer, and a Client under Hadoop.  Under client are connection beans. I&apos;d imagine I&apos;m seeing the client hosted by the master and one hosted by regionserver.... Hard to tell what connection is hosted where and where it is connected. Is that fixable?&lt;/p&gt;

&lt;p&gt;I like your picture of aggregation.&lt;/p&gt;

&lt;p&gt;bg. So you thinking I should scrap the host-level data and just show aggregation for the connection? Or just add aggregation to what I have? My thinking is that when you want to diagnose slow queries, it helps to see individual host details broken out.&lt;/p&gt;

&lt;p&gt;I was thinking that you&apos;d want aggregation first on the connection. If slow, yeah, would be nice to dig down to figure if a particular connection slower than others. If slow query though, how you find it? You have to dig through each of these sub beans (though I suppose you would not be using jconsole... you&apos;d be grepping a json dump or text dump of the bean content...or some such).&lt;/p&gt;


</comment>
                            <comment id="14735145" author="ndimiduk" created="Tue, 8 Sep 2015 16:54:14 +0000"  >&lt;p&gt;Reattaching for build bot.&lt;/p&gt;</comment>
                            <comment id="14735178" author="ndimiduk" created="Tue, 8 Sep 2015 17:09:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hard to tell what connection is hosted where and where it is connected. Is that fixable?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was considering logging the connection creation stack trace as a tag on the bean, similar to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;&apos;s investigation on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14361&quot; title=&quot;ReplicationSink should create Connection instances lazily&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14361&quot;&gt;&lt;del&gt;HBASE-14361&lt;/del&gt;&lt;/a&gt;. Dunno if that&apos;s helpful to commit though.&lt;/p&gt;

&lt;p&gt;Okay, we&apos;ll keep connection-level aggregation.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If slow query though, how you find it? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was imagining one could set alerting based on the aggregate 95pct latency. Ie, if the 95pct of RPC&apos;s to any individual server trend drastically higher than the aggregate, I&apos;d want to know about it. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phobos182&quot; class=&quot;user-hover&quot; rel=&quot;phobos182&quot;&gt;Jeremy Carroll&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=clayb&quot; class=&quot;user-hover&quot; rel=&quot;clayb&quot;&gt;Clay B.&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; is this crazy thinking?&lt;/p&gt;

&lt;p&gt;Do we like the individual connection objects exposed separately? I was thinking of applications like the (I think it was &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=malaskat&quot; class=&quot;user-hover&quot; rel=&quot;malaskat&quot;&gt;Ted Malaska&lt;/a&gt;&apos;s) multi-cluster client-side failover patch, where you&apos;d be embedding multiple connection instances in an application and want to see their behaviors separately. Hence Connection objects reported by their objectId (I assume this is stable in Java?). Maybe this is an uncommon case and supporting it makes this feature harder to consume for everyone else? Those objectIds change all the time, so parsing them, for instance, for an OpenTSDB tcollector maybe be annoying.&lt;/p&gt;

&lt;p&gt;Then again, we don&apos;t provide a /jmx over http from the clients, so there&apos;s not an easy way for tcollector to grab these as they are, unless it supports raw jmx too.&lt;/p&gt;</comment>
                            <comment id="14735189" author="ndimiduk" created="Tue, 8 Sep 2015 17:13:34 +0000"  >&lt;p&gt;Opened follow-on ticket for exposing metrics data through the client API, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14381&quot; title=&quot;Expose client-side metrics via Connection API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14381&quot;&gt;HBASE-14381&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14735198" author="stack" created="Tue, 8 Sep 2015 17:19:03 +0000"  >&lt;p&gt;My suggestion is that having client-side metrics at all is a huge win. Suggest go easy on first cut; no fancy-dancing.&lt;/p&gt;

&lt;p&gt;But I do your like scenario though where exposing per connection metrics allows you set alerts to find slow server (yeah, see what the real-fellas think).&lt;/p&gt;</comment>
                            <comment id="14735269" author="hadoopqa" created="Tue, 8 Sep 2015 17:51:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12754670/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12754670/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e95358a7fc3f554dcbb351c8b7295cafc01e8c23.&lt;br/&gt;
  ATTACHMENT ID: 12754670&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1843 checkstyle errors (more than the master&apos;s current 1834 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestInterfaceAudienceAnnotations&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15467//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14735427" author="ndimiduk" created="Tue, 8 Sep 2015 19:10:24 +0000"  >&lt;p&gt;Failure of TestInterfaceAudienceAnnotations is legitimate, though larger than my patch. Will fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14382&quot; title=&quot;TestInterfaceAudienceAnnotations should hadoop-compt module resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14382&quot;&gt;&lt;del&gt;HBASE-14382&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14735540" author="ndimiduk" created="Tue, 8 Sep 2015 20:20:39 +0000"  >&lt;p&gt;Failure of TestInterfaceAudienceAnnotations is actually introduced by my patch. It&apos;s easy enough to reproduce by applying the hbase-client/pom.xml changes to master. This makes sense &amp;#8211; I&apos;m adding hbase-hadoop-compat modules to the dependency list. Are we okay with this?&lt;/p&gt;</comment>
                            <comment id="14735612" author="samarthjain" created="Tue, 8 Sep 2015 21:07:31 +0000"  >&lt;p&gt;Thanks for pointing to the Phoenix jira, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Summary of what we discussed via email:&lt;br/&gt;
As part of its metrics collection, Phoenix provides some metrics around the scans/puts it executes. For example - number of bytes read/sent over to hbase. If we could surface these additional metrics that reflect the work done by client initiated scans and puts, then it would be a really nice addition to the metrics that Phoenix reports at a statement and global client level. ScanMetrics class looks like a perfect fit for this. But it doesn&apos;t look like that ScanMetrics are exposed via a client API currently.&lt;/p&gt;

&lt;p&gt;Maybe this work fits &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14381&quot; title=&quot;Expose client-side metrics via Connection API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14381&quot;&gt;HBASE-14381&lt;/a&gt; better?&lt;/p&gt;</comment>
                            <comment id="14735619" author="apurtell" created="Tue, 8 Sep 2015 21:09:24 +0000"  >&lt;p&gt;You might get some validation from what the urban airship guys put together a couple years ago for 0.94. I mentioned it above. Their stuff tracks op latencies by op, region, and server using a wrapper around HTable. I&apos;m working on a revamped version for us for 0.98. We&apos;d be most interested in identifying slow servers. &lt;/p&gt;</comment>
                            <comment id="14736051" author="stack" created="Wed, 9 Sep 2015 03:00:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarth.jain%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;samarth.jain@gmail.com&quot;&gt;Samarth Jain&lt;/a&gt; Which version you looking in? Have you looked at scanmetrics in Master? In later HBase you can dump out the scanmetrics in shell. I haven&apos;t checked, but my guess is that they&apos;ve been opened some.&lt;/p&gt;</comment>
                            <comment id="14737481" author="ndimiduk" created="Wed, 9 Sep 2015 20:01:32 +0000"  >&lt;p&gt;Reattaching patch after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14382&quot; title=&quot;TestInterfaceAudienceAnnotations should hadoop-compt module resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14382&quot;&gt;&lt;del&gt;HBASE-14382&lt;/del&gt;&lt;/a&gt;. Assuming a clean buildbot and not further comments on the set of functionality, I&apos;ll commit what&apos;s here. We can explore enhancements through follow-on tickets.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; are you okay with this going for 1.2, or has that ship sailed?&lt;/p&gt;</comment>
                            <comment id="14737504" author="ndimiduk" created="Wed, 9 Sep 2015 20:13:22 +0000"  >&lt;p&gt;Corrected patch, addresses all of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&apos;s comments. Also on RB.&lt;/p&gt;</comment>
                            <comment id="14737898" author="hadoopqa" created="Thu, 10 Sep 2015 00:43:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12754990/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12754990/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a11bb2a933ad799546e7179fdf6ce75e3e22d44b.&lt;br/&gt;
  ATTACHMENT ID: 12754990&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1835 checkstyle errors (more than the master&apos;s current 1834 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientTimeouts&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 7 zombie test(s): 	at org.apache.reef.tests.taskcounting.TaskCountingTest.testTaskCounting(TaskCountingTest.java:65)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testDegenerateRegions(TestHBaseFsck.java:926)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInMetaOrDeployedHole(TestHBaseFsck.java:1277)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInHdfs(TestHBaseFsck.java:1405)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testTableWithNoRegions(TestHBaseFsck.java:2769)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testRegionHole(TestHBaseFsck.java:1206)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testOverlapAndOrphan(TestHBaseFsck.java:1131)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testSplitDaughtersNotInMeta(TestHBaseFsck.java:1900)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testLingeringReferenceFile(TestHBaseFsck.java:2456)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNoTableState(TestHBaseFsck.java:1569)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testMetaOffline(TestHBaseFsck.java:2691)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testFixAssignmentsAndNoHdfsChecking(TestHBaseFsck.java:2005)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckAfterRegionMerge(TestHBaseFsck.java:2811)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testSidelineOverlapRegion(TestHBaseFsck.java:1023)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testFixByTable(TestHBaseFsck.java:1666)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testErrorReporter(TestHBaseFsck.java:2524)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testMissingLastRegion(TestHBaseFsck.java:1978)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testRegionShouldNotBeDeployed(TestHBaseFsck.java:1628)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckWithRegionReplica(TestHBaseFsck.java:746)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInMetaHole(TestHBaseFsck.java:1356)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testMissingRegionInfoQualifier(TestHBaseFsck.java:2472)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHBaseFsck(TestHBaseFsck.java:207)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNotInHdfsWithReplicas(TestHBaseFsck.java:1440)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testDupeStartKey(TestHBaseFsck.java:705)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testContainedRegionOverlap(TestHBaseFsck.java:979)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckFixOrphanTable(TestHBaseFsck.java:563)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testDupeRegion(TestHBaseFsck.java:877)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNoHdfsTable(TestHBaseFsck.java:1508)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testCheckTableLocks(TestHBaseFsck.java:2620)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testQuarantineCorruptMobFile(TestHBaseFsck.java:2288)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testNoVersionFile(TestHBaseFsck.java:1544)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testCleanUpDaughtersNotInMetaAfterFailedSplit(TestHBaseFsck.java:1315)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHDFSRegioninfoMissing(TestHBaseFsck.java:1227)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testFixMetaNotWorkingWithNoHdfsChecking(TestHBaseFsck.java:2058)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testHbckWithFewerReplica(TestHBaseFsck.java:759)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testRegionDeployedNotInHdfs(TestHBaseFsck.java:1949)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testRegionBoundariesCheck(TestHBaseFsck.java:2824)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testLingeringSplitParent(TestHBaseFsck.java:1726)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testLingeringReferenceFile(TestHBaseFsck.java:2456)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testLingeringSplitParent(TestHBaseFsck.java:1726)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestMobSnapshotCloneIndependence.testOnlineSnapshotMetadataChangesIndependent(TestMobSnapshotCloneIndependence.java:147)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestMobSnapshotCloneIndependence.testOnlineSnapshotMetadataChangesIndependent(TestMobSnapshotCloneIndependence.java:147)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15510//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14738126" author="busbey" created="Thu, 10 Sep 2015 04:14:33 +0000"  >&lt;p&gt;1.2 ship can&apos;t sail until I get some nightly runs that aren&apos;t red. (last was Aug 11th &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;

&lt;p&gt;So as long as you&apos;re not increasing the number of failing test cases, have at it.&lt;/p&gt;</comment>
                            <comment id="14739779" author="ndimiduk" created="Thu, 10 Sep 2015 22:47:50 +0000"  >&lt;p&gt;Rebased onto master, cleaned up another checkstyle warning. Trying again for buildbot.&lt;/p&gt;</comment>
                            <comment id="14740067" author="hadoopqa" created="Fri, 11 Sep 2015 03:01:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755258/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755258/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit bf26088d7be4386864148516b151dfb0a858c416.&lt;br/&gt;
  ATTACHMENT ID: 12755258&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn post-site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.ipc.TestRpcClientLeaks&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15543//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14744576" author="ndimiduk" created="Tue, 15 Sep 2015 00:36:29 +0000"  >&lt;p&gt;Test failure was my doing. Here&apos;s a fix, and rebase onto master.&lt;/p&gt;</comment>
                            <comment id="14744755" author="hadoopqa" created="Tue, 15 Sep 2015 03:12:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755872/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755872/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 63a2fb5143ab41d84b6b44001b63806534b26bdd.&lt;br/&gt;
  ATTACHMENT ID: 12755872&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.ipc.TestRpcClientLeaks&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.yarn.server.resourcemanager.rmcontainer.TestRMContainerImpl.testStoreAllContainerMetrics(TestRMContainerImpl.java:288)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15592//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14745794" author="ndimiduk" created="Tue, 15 Sep 2015 17:37:04 +0000"  >&lt;p&gt;Reattaching patch.&lt;/p&gt;</comment>
                            <comment id="14745902" author="hadoopqa" created="Tue, 15 Sep 2015 18:38:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756042/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756042/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f51c79076d2d4c87443dc04bc154c57093dade68.&lt;br/&gt;
  ATTACHMENT ID: 12756042&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15605//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14745932" author="ndimiduk" created="Tue, 15 Sep 2015 18:55:12 +0000"  >&lt;p&gt;Reattaching patch.&lt;/p&gt;

&lt;p&gt;Not sure what this is telling me.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;======================================================================
======================================================================
    Running tests.
======================================================================
======================================================================


WARNING: 2 rogue build processes detected, terminating.
/bin/kill -9 25189 
/bin/kill -9 25943 
/home/jenkins/jenkins-slave/tools/hudson.tasks.Maven_MavenInstallation/Maven_3.0.5/bin/mvn clean test -Dsurefire.rerunFailingTestsCount=2 -P runAllTests -DHBasePatchProcess
core file size          (blocks, -c) 0
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 386178
max locked memory       (kbytes, -l) 64
max memory size         (kbytes, -m) unlimited
open files                      (-n) 60000
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 819200
real-time priority              (-r) 0
stack size              (kbytes, -s) 8192
cpu time               (seconds, -t) unlimited
max user processes              (-u) 10240
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited
/home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build@2/test-framework/dev-support/test-patch.sh: line 838: 25948 Killed                  $MVN clean test -Dsurefire.rerunFailingTestsCount=2 -P runAllTests -D${PROJECT_NAME}PatchProcess
We&apos;re ok: there is no zombie test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14746066" author="hadoopqa" created="Tue, 15 Sep 2015 20:10:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756054/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756054/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 938d2a0c9cfa4c033ccc72de490672f151bb0351.&lt;br/&gt;
  ATTACHMENT ID: 12756054&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15606//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14746105" author="ndimiduk" created="Tue, 15 Sep 2015 20:30:28 +0000"  >&lt;p&gt;and now&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project hbase-procedure: ExecutionException: java.lang.RuntimeException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?
[ERROR] Command was /bin/sh -c cd /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-procedure &amp;amp;&amp;amp; /home/jenkins/jenkins-slave/tools/hudson.model.JDK/jdk-1.7u51/jre/bin/java -enableassertions -XX:MaxDirectMemorySize=1G -Xmx2800m -XX:MaxPermSize=256m -Djava.security.egd=file:/dev/./urandom -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -jar /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-procedure/target/surefire/surefirebooter7064787613875065397.jar /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-procedure/target/surefire/surefire3775325841670238150tmp /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-procedure/target/surefire/surefire_513932047223846889483tmp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14746135" author="ndimiduk" created="Tue, 15 Sep 2015 20:41:49 +0000"  >&lt;p&gt;For what it&apos;s worth, &lt;tt&gt;mvn clean test -Dtest=org.apache.hadoop.hbase.ipc.*&lt;/tt&gt; passes locally.&lt;/p&gt;</comment>
                            <comment id="14746213" author="ndimiduk" created="Tue, 15 Sep 2015 21:13:17 +0000"  >&lt;p&gt;Meanwhile, a backport to branch-1. This patch also applies cleanly to branch-1.2.&lt;/p&gt;</comment>
                            <comment id="14746238" author="ndimiduk" created="Tue, 15 Sep 2015 21:20:56 +0000"  >&lt;p&gt;Backporting this to 0.98 looks non-trivial. Let me dig in a bit.&lt;/p&gt;</comment>
                            <comment id="14746306" author="hadoopqa" created="Tue, 15 Sep 2015 21:44:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756082/12911-branch-1.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756082/12911-branch-1.00.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.0 branch at commit 938d2a0c9cfa4c033ccc72de490672f151bb0351.&lt;br/&gt;
  ATTACHMENT ID: 12756082&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 41 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15609//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15609//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14746339" author="hadoopqa" created="Tue, 15 Sep 2015 21:57:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756071/0001-HBASE-12911-Client-side-metrics.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756071/0001-HBASE-12911-Client-side-metrics.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 938d2a0c9cfa4c033ccc72de490672f151bb0351.&lt;br/&gt;
  ATTACHMENT ID: 12756071&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.ipc.TestRpcClientLeaks&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15607//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14746341" author="eclark" created="Tue, 15 Sep 2015 21:57:57 +0000"  >&lt;p&gt;This is going to pull in a BOAT load of new dependencies to the client. Are we sure that we can/should do this on a point release?&lt;/p&gt;</comment>
                            <comment id="14746585" author="ndimiduk" created="Wed, 16 Sep 2015 00:40:07 +0000"  >&lt;p&gt;Here&apos;s a WIP backport for 0.98. IPC and TestMetricsConnection both pass with hadoop2. I haven&apos;t implemented hadoop1 compat module yet. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; Is this something you&apos;re interested in?&lt;/p&gt;</comment>
                            <comment id="14746612" author="ndimiduk" created="Wed, 16 Sep 2015 01:02:23 +0000"  >&lt;p&gt;That&apos;s true, we are looking at &quot;quite a few&quot;. On master:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;--- deps.master.txt	2015-09-15 17:47:43.000000000 -0700
+++ deps.12911.txt	2015-09-15 17:47:54.000000000 -0700
@@ -7,13 +7,24 @@
 [INFO] --- maven-dependency-plugin:2.8:list (default-cli) @ hbase-client ---
 [INFO] 
 [INFO] The following files have been resolved:
+[INFO]    aopalliance:aopalliance:jar:1.0:compile
+[INFO]    asm:asm:jar:3.1:compile
 [INFO]    com.github.stephenc.findbugs:findbugs-annotations:jar:1.3.9-1:compile
 [INFO]    com.google.code.findbugs:jsr305:jar:1.3.9:compile
 [INFO]    com.google.code.gson:gson:jar:2.2.4:compile
 [INFO]    com.google.guava:guava:jar:12.0.1:compile
+[INFO]    com.google.inject.extensions:guice-servlet:jar:3.0:compile
+[INFO]    com.google.inject:guice:jar:3.0:compile
 [INFO]    com.google.protobuf:protobuf-java:jar:2.5.0:compile
 [INFO]    com.jcraft:jsch:jar:0.1.42:compile
+[INFO]    com.sun.jersey.contribs:jersey-guice:jar:1.9:compile
+[INFO]    com.sun.jersey:jersey-client:jar:1.9:compile
+[INFO]    com.sun.jersey:jersey-core:jar:1.9:compile
+[INFO]    com.sun.jersey:jersey-json:jar:1.9:compile
+[INFO]    com.sun.jersey:jersey-server:jar:1.9:compile
+[INFO]    com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:compile
 [INFO]    com.thoughtworks.paranamer:paranamer:jar:2.3:compile
+[INFO]    com.yammer.metrics:metrics-core:jar:2.2.0:compile
 [INFO]    commons-beanutils:commons-beanutils-core:jar:1.8.0:compile
 [INFO]    commons-beanutils:commons-beanutils:jar:1.7.0:compile
 [INFO]    commons-cli:commons-cli:jar:1.2:compile
@@ -27,12 +38,17 @@
 [INFO]    commons-logging:commons-logging:jar:1.2:compile
 [INFO]    commons-net:commons-net:jar:3.1:compile
 [INFO]    io.netty:netty-all:jar:4.0.30.Final:compile
+[INFO]    javax.activation:activation:jar:1.1:compile
+[INFO]    javax.inject:javax.inject:jar:1:compile
+[INFO]    javax.servlet:servlet-api:jar:2.5:compile
+[INFO]    javax.xml.bind:jaxb-api:jar:2.2.2:compile
 [INFO]    jdk.tools:jdk.tools:jar:1.7:system
 [INFO]    junit:junit:jar:4.12:compile
 [INFO]    log4j:log4j:jar:1.2.17:test
 [INFO]    org.apache.avro:avro:jar:1.7.4:compile
 [INFO]    org.apache.commons:commons-compress:jar:1.4.1:compile
 [INFO]    org.apache.commons:commons-math3:jar:3.1.1:compile
+[INFO]    org.apache.commons:commons-math:jar:2.2:compile
 [INFO]    org.apache.curator:curator-client:jar:2.7.1:compile
 [INFO]    org.apache.curator:curator-framework:jar:2.7.1:compile
 [INFO]    org.apache.curator:curator-recipes:jar:2.7.1:compile
@@ -43,17 +59,27 @@
 [INFO]    org.apache.hadoop:hadoop-annotations:jar:2.7.1:compile
 [INFO]    org.apache.hadoop:hadoop-auth:jar:2.7.1:compile
 [INFO]    org.apache.hadoop:hadoop-common:jar:2.7.1:compile
+[INFO]    org.apache.hadoop:hadoop-mapreduce-client-core:jar:2.7.1:compile
+[INFO]    org.apache.hadoop:hadoop-yarn-api:jar:2.7.1:compile
+[INFO]    org.apache.hadoop:hadoop-yarn-common:jar:2.7.1:compile
 [INFO]    org.apache.hbase:hbase-annotations:jar:2.0.0-SNAPSHOT:compile
 [INFO]    org.apache.hbase:hbase-annotations:test-jar:tests:2.0.0-SNAPSHOT:test
 [INFO]    org.apache.hbase:hbase-common:jar:2.0.0-SNAPSHOT:compile
 [INFO]    org.apache.hbase:hbase-common:test-jar:tests:2.0.0-SNAPSHOT:test
+[INFO]    org.apache.hbase:hbase-hadoop-compat:jar:2.0.0-SNAPSHOT:compile
+[INFO]    org.apache.hbase:hbase-hadoop-compat:test-jar:tests:2.0.0-SNAPSHOT:test
+[INFO]    org.apache.hbase:hbase-hadoop2-compat:jar:2.0.0-SNAPSHOT:compile
+[INFO]    org.apache.hbase:hbase-hadoop2-compat:test-jar:tests:2.0.0-SNAPSHOT:test
 [INFO]    org.apache.hbase:hbase-protocol:jar:2.0.0-SNAPSHOT:compile
 [INFO]    org.apache.htrace:htrace-core:jar:3.1.0-incubating:compile
 [INFO]    org.apache.httpcomponents:httpclient:jar:4.2.5:compile
 [INFO]    org.apache.httpcomponents:httpcore:jar:4.2.4:compile
 [INFO]    org.apache.zookeeper:zookeeper:jar:3.4.6:compile
 [INFO]    org.codehaus.jackson:jackson-core-asl:jar:1.9.13:compile
+[INFO]    org.codehaus.jackson:jackson-jaxrs:jar:1.9.13:compile
 [INFO]    org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:compile
+[INFO]    org.codehaus.jackson:jackson-xc:jar:1.9.13:compile
+[INFO]    org.codehaus.jettison:jettison:jar:1.3.3:compile
 [INFO]    org.hamcrest:hamcrest-core:jar:1.3:test
 [INFO]    org.hamcrest:hamcrest-library:jar:1.1:test
 [INFO]    org.jmock:jmock-junit4:jar:2.6.0:test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and on branch-1 backport:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@@ -13,6 +13,7 @@
 [INFO]    com.google.protobuf:protobuf-java:jar:2.5.0:compile
 [INFO]    com.jcraft:jsch:jar:0.1.42:compile
 [INFO]    com.thoughtworks.paranamer:paranamer:jar:2.3:compile
+[INFO]    com.yammer.metrics:metrics-core:jar:2.2.0:compile
 [INFO]    commons-beanutils:commons-beanutils-core:jar:1.8.0:compile
 [INFO]    commons-beanutils:commons-beanutils:jar:1.7.0:compile
 [INFO]    commons-cli:commons-cli:jar:1.2:compile
@@ -35,6 +36,7 @@
 [INFO]    org.apache.avro:avro:jar:1.7.4:compile
 [INFO]    org.apache.commons:commons-compress:jar:1.4.1:compile
 [INFO]    org.apache.commons:commons-math3:jar:3.1.1:compile
+[INFO]    org.apache.commons:commons-math:jar:2.2:compile
 [INFO]    org.apache.directory.api:api-asn1-api:jar:1.0.0-M20:compile
 [INFO]    org.apache.directory.api:api-util:jar:1.0.0-M20:compile
 [INFO]    org.apache.directory.server:apacheds-i18n:jar:2.0.0-M15:compile
@@ -49,6 +51,10 @@
 [INFO]    org.apache.hbase:hbase-annotations:test-jar:tests:1.3.0-SNAPSHOT:test
 [INFO]    org.apache.hbase:hbase-common:jar:1.3.0-SNAPSHOT:compile
 [INFO]    org.apache.hbase:hbase-common:test-jar:tests:1.3.0-SNAPSHOT:test
+[INFO]    org.apache.hbase:hbase-hadoop-compat:jar:1.3.0-SNAPSHOT:compile
+[INFO]    org.apache.hbase:hbase-hadoop-compat:test-jar:tests:1.3.0-SNAPSHOT:test
+[INFO]    org.apache.hbase:hbase-hadoop2-compat:jar:1.3.0-SNAPSHOT:compile
+[INFO]    org.apache.hbase:hbase-hadoop2-compat:test-jar:tests:1.3.0-SNAPSHOT:test
 [INFO]    org.apache.hbase:hbase-protocol:jar:1.3.0-SNAPSHOT:compile
 [INFO]    org.apache.htrace:htrace-core:jar:3.1.0-incubating:compile
 [INFO]    org.apache.httpcomponents:httpclient:jar:4.2.5:compile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hmm, maybe I missed something in the backport? Or did someone do a deps purge on master?&lt;/p&gt;</comment>
                            <comment id="14746785" author="hadoopqa" created="Wed, 16 Sep 2015 03:49:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12756130/12911-0.98.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12756130/12911-0.98.00.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit 903d876f29aeb11a290d0daed6e0778c8f4ac961.&lt;br/&gt;
  ATTACHMENT ID: 12756130&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 29 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 23 warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3874 checkstyle errors (more than the master&apos;s current 3869 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15612//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14876140" author="ndimiduk" created="Fri, 18 Sep 2015 18:52:56 +0000"  >&lt;p&gt;Thoughts on the above increase in client dependencies? Is the extra weight worth the weight? Better to scrap hadoop metrics entirely and go with dropwizard alone?&lt;/p&gt;</comment>
                            <comment id="14900996" author="ndimiduk" created="Mon, 21 Sep 2015 17:07:09 +0000"  >&lt;p&gt;I&apos;m keen to get something committed here this week folks. Please provide any actionable feedback you have, wether nits or request a rework based on dependency reduction. &lt;/p&gt;</comment>
                            <comment id="14901134" author="stack" created="Mon, 21 Sep 2015 18:23:55 +0000"  >&lt;p&gt;IMO, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; already filed the undo our dependence on hadoop metrics issue. The freight of client-side dependencies this brings in is OTT.. just to get a few numbers. How hard to do dropwizard only?&lt;/p&gt;</comment>
                            <comment id="14902872" author="ndimiduk" created="Tue, 22 Sep 2015 16:07:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;How hard to do dropwizard only?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should be easy in theory; all the plumbing for collecting the metrics is done. The reason I didn&apos;t pursue this in the beginning is because having two different metrics systems to configure for our project sounds like an operational PITA. Let me give it a spin.&lt;/p&gt;</comment>
                            <comment id="14909647" author="ndimiduk" created="Sun, 27 Sep 2015 07:31:55 +0000"  >&lt;p&gt;Here&apos;s a rough patch using yammer metrics (our current dependency) instead of hadoop metrics. Also, a screen shot of the result. Everything is self-contained in the MetricsConnection class this time, so it&apos;s a little easier to see what&apos;s happening. I&apos;m not sure how to add the host-based groups like I did before, so that&apos;s not there.&lt;/p&gt;

&lt;p&gt;The reporter is hard-coded right now to be JMX, I can look into writing a logger-reporter, I didn&apos;t see one in the library. Also, these metrics will not be exposed over http like our hadoop metrics currently are. If we want them included in the /jmx endpoint, we&apos;ll need to hack that into our servlet.&lt;/p&gt;

&lt;p&gt;As for dependency bloat, this diff is much better.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;--- hbase-client/dependencies.master.txt        2015-09-27 09:25:39.000000000 +0200
+++ hbase-client/dependencies.yammer.txt        2015-09-27 09:24:59.000000000 +0200
@@ -14,6 +14,7 @@
 [INFO]    com.google.protobuf:protobuf-java:jar:2.5.0:compile
 [INFO]    com.jcraft:jsch:jar:0.1.42:compile
 [INFO]    com.thoughtworks.paranamer:paranamer:jar:2.3:compile
+[INFO]    com.yammer.metrics:metrics-core:jar:2.2.0:compile
 [INFO]    commons-beanutils:commons-beanutils-core:jar:1.8.0:compile
 [INFO]    commons-beanutils:commons-beanutils:jar:1.7.0:compile
 [INFO]    commons-cli:commons-cli:jar:1.2:compile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14909649" author="ndimiduk" created="Sun, 27 Sep 2015 07:35:50 +0000"  >&lt;p&gt;And here&apos;s an RB for the Yammer Metrics patch. &lt;a href=&quot;https://reviews.apache.org/r/38795/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/38795/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14909682" author="hadoopqa" created="Sun, 27 Sep 2015 10:35:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762584/12911.yammer.v00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762584/12911.yammer.v00.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 526520de0a9d7a29fcf1b4c521f017ca75a46cbc.&lt;br/&gt;
  ATTACHMENT ID: 12762584&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 21 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1789 checkstyle errors (more than the master&apos;s current 1787 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientTimeouts&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 4 zombie test(s): 	at org.apache.hadoop.hbase.namespace.TestNamespaceAuditor.testCloneSnapshotQuotaExceed(TestNamespaceAuditor.java:690)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.MultiTableInputFormatTestBase.testScan(MultiTableInputFormatTestBase.java:255)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.MultiTableInputFormatTestBase.testScanEmptyToAPP(MultiTableInputFormatTestBase.java:202)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestHRegion.testWritesWhileScanning(TestHRegion.java:3890)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15772//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14933951" author="eclark" created="Mon, 28 Sep 2015 20:47:26 +0000"  >&lt;p&gt;Thanks for this. That version looks much better. Review on RB.&lt;/p&gt;</comment>
                            <comment id="14939945" author="ndimiduk" created="Thu, 1 Oct 2015 15:10:25 +0000"  >&lt;p&gt;I did some basic profiling of the client, with and without this patch, running &lt;tt&gt;ltt -data_block_encoding FAST_DIFF -bloom ROWCOL -num_keys 100000 -read 50 -write 10:1000&lt;/tt&gt;. The impact of the patch is pretty bad.&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;without patch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;with patch&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;delta&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;overall run time&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;148s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;267s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;font color=&quot;red&quot;&gt;+1.8x&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;total collections&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1616&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4335&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;font color=&quot;red&quot;&gt;+2.68x&lt;/font&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Looks like it&apos;s the dynamic method registration that&apos;s running hot. Let me see if I can get that sorted.&lt;/p&gt;</comment>
                            <comment id="14940069" author="ndimiduk" created="Thu, 1 Oct 2015 16:59:09 +0000"  >&lt;p&gt;Updated the patch to cache the metrics objects after they&apos;re created. This time the runtime was down to 132s, or basically flat with the run of master, and total collections was 1640, a 1.4% increase. Yammer classes no longer show up in the hot methods list either. I think this is an acceptable penalty for metrics.&lt;/p&gt;

&lt;p&gt;Let&apos;s see what buildbot says. You good with this one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14940124" author="eclark" created="Thu, 1 Oct 2015 17:42:56 +0000"  >&lt;p&gt;We tried the same map stuff in metrics pre 0.96 it always wound up being pretty expensive. Can we just drop the per method stuff completely ? or hard code the method -&amp;gt; metric stuff so that no string compares are needed ?&lt;/p&gt;</comment>
                            <comment id="14940311" author="hadoopqa" created="Thu, 1 Oct 2015 19:56:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764641/12911.yammer.v01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764641/12911.yammer.v01.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 76463a36f5648f42cdcf64019a825c1e3f0c4fe1.&lt;br/&gt;
  ATTACHMENT ID: 12764641&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 27 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1782 checkstyle errors (more than the master&apos;s current 1781 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientTimeouts&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestHeapMemoryManager.testWhenClusterIsWriteHeavy(TestHeapMemoryManager.java:208)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestFromClientSide.testUnmanagedHConnectionReconnect(TestFromClientSide.java:4081)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15846//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14941328" author="ndimiduk" created="Fri, 2 Oct 2015 16:20:02 +0000"  >&lt;p&gt;This one unpacks the &lt;tt&gt;Method&lt;/tt&gt; and &lt;tt&gt;Message&lt;/tt&gt; objects, instead of using dynamic registries, on the DML critical path. It&apos;s too tightly coupled to protobuf internal representation for my liking, but it was the only way I could find to determine the calling context without string comparisons. Let me know if you protobuf experts have better ideas. The performance of running with this patch was on par with the run from master (actually, 19s faster and 14 fewer allocations, but I think that&apos;s within the noise). RB is updated.&lt;/p&gt;</comment>
                            <comment id="14941358" author="hadoopqa" created="Fri, 2 Oct 2015 16:39:04 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764781/12911.yammer.v02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764781/12911.yammer.v02.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 030ae5f0415b97e5da688c1432ed53fd56990194.&lt;br/&gt;
  ATTACHMENT ID: 12764781&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15859//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15859//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14942182" author="ndimiduk" created="Sat, 3 Oct 2015 08:23:11 +0000"  >&lt;p&gt;Rebased onto master.&lt;/p&gt;</comment>
                            <comment id="14942231" author="hadoopqa" created="Sat, 3 Oct 2015 11:13:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764903/12911.yammer.v02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764903/12911.yammer.v02.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a545d71295e582398b2689ed09d2167d7f118cec.&lt;br/&gt;
  ATTACHMENT ID: 12764903&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientTimeouts&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15868//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14943511" author="ndimiduk" created="Mon, 5 Oct 2015 15:23:30 +0000"  >&lt;p&gt;Failure is related.&lt;/p&gt;</comment>
                            <comment id="14943614" author="ndimiduk" created="Mon, 5 Oct 2015 16:32:01 +0000"  >&lt;p&gt;Fix broken test.&lt;/p&gt;</comment>
                            <comment id="14943635" author="hadoopqa" created="Mon, 5 Oct 2015 16:49:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765019/12911.yammer.v03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765019/12911.yammer.v03.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ceafa09d3cf6102d21c66745ca80e132021890c9.&lt;br/&gt;
  ATTACHMENT ID: 12765019&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15874//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15874//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14943690" author="ndimiduk" created="Mon, 5 Oct 2015 17:21:56 +0000"  >&lt;p&gt;rebase.&lt;/p&gt;</comment>
                            <comment id="14943995" author="hadoopqa" created="Mon, 5 Oct 2015 20:45:08 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765027/12911.yammer.v03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765027/12911.yammer.v03.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ceafa09d3cf6102d21c66745ca80e132021890c9.&lt;br/&gt;
  ATTACHMENT ID: 12765027&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15876//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14944004" author="ndimiduk" created="Mon, 5 Oct 2015 20:49:27 +0000"  >&lt;p&gt;Woo, green build. What are your thoughts on the latest patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;? You guys okay with the approach to pb unpacking as a perf optimization? The asserts should allow us to notice changes in protobuf internals at test time at least.&lt;/p&gt;</comment>
                            <comment id="14945951" author="ndimiduk" created="Tue, 6 Oct 2015 22:45:26 +0000"  >&lt;p&gt;Here&apos;s a backport of yammer.v03 to branch-1.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; I think we&apos;re close here. Are you interested in this for 1.2?&lt;/p&gt;</comment>
                            <comment id="14946029" author="stack" created="Tue, 6 Oct 2015 23:54:21 +0000"  >&lt;p&gt;I&apos;m good w/ use of pb (there is no unpacking that I saw...) +1&apos;d the patch.&lt;/p&gt;

&lt;p&gt;How does an operator use this stuff? They&apos;d have to look for client jmx footprint on a machine? Needs a bit of doc in the release note. Nice addition.&lt;/p&gt;</comment>
                            <comment id="14946058" author="ndimiduk" created="Wed, 7 Oct 2015 00:23:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;there is no unpacking that I saw...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unpacking in that I&apos;m reading into the PB Method and switching on the index of the entry; it&apos;s based on the generated code so I assume it&apos;s an implementation detail that could change in the future. See &lt;tt&gt;MetricsConnection#updateRpc&lt;/tt&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How does an operator use this stuff?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let me add a release note. Right now they have to look at the JMX of the machine running the client. After &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14381&quot; title=&quot;Expose client-side metrics via Connection API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14381&quot;&gt;HBASE-14381&lt;/a&gt; we&apos;ll be exposing the metrics programatically. Do we want another follow-on to allow changing the reporter? This version of yammer also ships with a &lt;tt&gt;ConsoleReporter&lt;/tt&gt; that allows reporting to System.out. What about disabling client-side metrics collection entirely?&lt;/p&gt;</comment>
                            <comment id="14946147" author="hadoopqa" created="Wed, 7 Oct 2015 02:23:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765277/12911.yammer.v03.branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765277/12911.yammer.v03.branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 0ea1f8122709302ee19279aaa438b37dac30c25b.&lt;br/&gt;
  ATTACHMENT ID: 12765277&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3779 checkstyle errors (more than the master&apos;s current 3762 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15889//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14946461" author="busbey" created="Wed, 7 Oct 2015 07:51:07 +0000"  >&lt;p&gt;+1 for 1.2 given the ability to disable entirely. maybe disabled by default?&lt;/p&gt;</comment>
                            <comment id="14947452" author="ndimiduk" created="Wed, 7 Oct 2015 19:39:25 +0000"  >&lt;p&gt;Patch v04 for master and branch-1, puts this feature behind a config and disabled by default. This is what I plan to commit.&lt;/p&gt;</comment>
                            <comment id="14947472" author="eclark" created="Wed, 7 Oct 2015 19:52:55 +0000"  >&lt;p&gt;Looks great to me.&lt;br/&gt;
 +1&lt;/p&gt;</comment>
                            <comment id="14947545" author="ndimiduk" created="Wed, 7 Oct 2015 20:45:07 +0000"  >&lt;p&gt;For branch-1.2.&lt;/p&gt;

&lt;p&gt;What&apos;s the deal with branch-2. Is that a phantom, or should I be committing there as well?&lt;/p&gt;</comment>
                            <comment id="14947553" author="busbey" created="Wed, 7 Oct 2015 20:49:53 +0000"  >&lt;p&gt;branch-2 was a mis-push by someone a few weeks ago. it was supposed to have been pruned.&lt;/p&gt;</comment>
                            <comment id="14947653" author="hadoopqa" created="Wed, 7 Oct 2015 21:43:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765441/12911.yammer.v04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765441/12911.yammer.v04.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 4e876c59f4137da6f229dec4ba8c4370da3dfd9f.&lt;br/&gt;
  ATTACHMENT ID: 12765441&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.master.TestRestartCluster.testClusterRestart(TestRestartCluster.java:71)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15903//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14947654" author="hadoopqa" created="Wed, 7 Oct 2015 21:44:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765454/12911.yammer.v04.branch-1.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765454/12911.yammer.v04.branch-1.2.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.2 branch at commit e1fd3526b130d669ad02e2c55a91299f0bd4c15d.&lt;br/&gt;
  ATTACHMENT ID: 12765454&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3798 checkstyle errors (more than the master&apos;s current 3781 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15904//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14947843" author="ndimiduk" created="Thu, 8 Oct 2015 00:08:37 +0000"  >&lt;p&gt;Pushed to master, branch-1, and branch-1.2. Thanks for all the rounds of review.&lt;/p&gt;</comment>
                            <comment id="14947931" author="hudson" created="Thu, 8 Oct 2015 01:41:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #196 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/196/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/196/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev 18015e0fd3e0ad974704ecec1a99f823e0d9db3a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncServerResponseHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/AbstractTestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcHandlerException.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcChannel.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionAdapter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/Call.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcClientLeaks.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestAsyncIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestGlobalEventLoopGroup.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AbstractRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClusterConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncCall.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14947943" author="hadoopqa" created="Thu, 8 Oct 2015 01:57:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765472/12911.yammer.v04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765472/12911.yammer.v04.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e1fd3526b130d669ad02e2c55a91299f0bd4c15d.&lt;br/&gt;
  ATTACHMENT ID: 12765472&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15907//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14947967" author="hudson" created="Thu, 8 Oct 2015 02:14:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #218 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/218/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/218/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev a048c32a996d6110aae116d9c231ec53c81dbf8d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionAdapter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/AbstractTestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestAsyncIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/Call.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcHandlerException.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AbstractRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncServerResponseHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcClientLeaks.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClusterConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncCall.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestGlobalEventLoopGroup.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcChannel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14947992" author="ndimiduk" created="Thu, 8 Oct 2015 02:53:30 +0000"  >&lt;p&gt;Reopening for 0.98 backport.&lt;/p&gt;</comment>
                            <comment id="14947993" author="ndimiduk" created="Thu, 8 Oct 2015 02:54:01 +0000"  >&lt;p&gt;Here&apos;s a patch for 0.98. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; interested?&lt;/p&gt;</comment>
                            <comment id="14948028" author="hudson" created="Thu, 8 Oct 2015 03:58:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6886 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6886/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6886/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev 7e30436e3fa84525b85b05b9e23cb01b2ada7c12)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestAsyncIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncServerResponseHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AbstractRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestGlobalEventLoopGroup.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcChannel.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcHandlerException.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClusterConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcClientLeaks.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionImplementation.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncCall.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/AbstractTestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/Call.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14948035" author="hudson" created="Thu, 8 Oct 2015 04:05:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #244 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/244/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/244/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev a048c32a996d6110aae116d9c231ec53c81dbf8d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcHandlerException.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionAdapter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AbstractRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncCall.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClusterConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/AbstractTestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncServerResponseHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/Call.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestAsyncIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcClientLeaks.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestGlobalEventLoopGroup.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcChannel.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14948038" author="hudson" created="Thu, 8 Oct 2015 04:05:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #234 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/234/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/234/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev 18015e0fd3e0ad974704ecec1a99f823e0d9db3a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcClientLeaks.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestGlobalEventLoopGroup.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncServerResponseHandler.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestRpcHandlerException.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AbstractRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClusterConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetaCache.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestAsyncIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionAdapter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/Call.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/AbstractTestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncRpcChannel.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Connection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/AsyncCall.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14949207" author="ndimiduk" created="Thu, 8 Oct 2015 19:21:41 +0000"  >&lt;p&gt;Failure in &lt;tt&gt;org.apache.hadoop.hbase.rest.model.TestNamespacesInstanceModel&lt;/tt&gt; with Java 8 reproduces locally with master. Investigating.&lt;/p&gt;</comment>
                            <comment id="14949226" author="stack" created="Thu, 8 Oct 2015 19:31:04 +0000"  >&lt;p&gt;Can it be on by default in 1.3 and 2.0? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14950699" author="ndimiduk" created="Fri, 9 Oct 2015 16:57:51 +0000"  >&lt;p&gt;I&apos;m all the way back at &lt;tt&gt;6534583&lt;/tt&gt;, building and running the test with jdk1.8.0_20 on this mac, and still seeing &lt;tt&gt;TestNamespacesInstanceModel&lt;/tt&gt; failures. I&apos;m not sure what 1.8-latest means on jenkins. Maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; knows?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Can it be on by default in 1.3 and 2.0?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, let me flip that bit too.&lt;/p&gt;</comment>
                            <comment id="14950798" author="ndimiduk" created="Fri, 9 Oct 2015 17:15:19 +0000"  >&lt;p&gt;Pushed to 0.98 after manual verification. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; let me know if I got that wrong.&lt;/p&gt;</comment>
                            <comment id="14950809" author="busbey" created="Fri, 9 Oct 2015 17:22:23 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I&apos;m all the way back at 6534583, building and running the test with jdk1.8.0_20 on this mac, and still seeing TestNamespacesInstanceModel failures. I&apos;m not sure what 1.8-latest means on jenkins. Maybe Sean Busbey knows?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;AFAIK it&apos;s just whatever hte last update from infra was. I hope we output one of &lt;tt&gt;java -version&lt;/tt&gt; or &lt;tt&gt;mvn -version&lt;/tt&gt; at the start of our test run?&lt;/p&gt;</comment>
                            <comment id="14950819" author="ndimiduk" created="Fri, 9 Oct 2015 17:27:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;I hope we output one of java -version or mvn -version at the start of our test run?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I didn&apos;t see it in the &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/jdk=latest1.8,label=Hadoop/234/consoleFull&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;console output&lt;/a&gt;, but I might be blind. Let me look more closely; if not, it&apos;s an edit to the build configs, not a commit to dev-support, right? I can at least add it to test-patch.sh.&lt;/p&gt;</comment>
                            <comment id="14950836" author="busbey" created="Fri, 9 Oct 2015 17:36:33 +0000"  >&lt;p&gt;yeah, edit to the build config on jenkins.&lt;/p&gt;</comment>
                            <comment id="14951326" author="hudson" created="Fri, 9 Oct 2015 22:41:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #1148 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1148/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1148/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev f4ef48f6489c938d343214761deef02c00ed52c8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14951365" author="hudson" created="Fri, 9 Oct 2015 23:13:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12911&quot; title=&quot;Client-side metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12911&quot;&gt;&lt;del&gt;HBASE-12911&lt;/del&gt;&lt;/a&gt; Client-side metrics (ndimiduk: rev f4ef48f6489c938d343214761deef02c00ed52c8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/MetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestIPC.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MetricsRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestMetricsConnection.java&lt;/li&gt;
	&lt;li&gt;hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14951612" author="apurtell" created="Sat, 10 Oct 2015 05:21:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;Pushed to 0.98 after manual verification. Andrew Purtell let me know if I got that wrong.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Commit looks good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;. I&apos;ll give this a try when preparing 0.98.16 for release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12702428">HBASE-10791</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12710175">HBASE-11062</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12537840">HBASE-5162</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12755135">PHOENIX-1452</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12818728">PHOENIX-1819</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12838928">ACCUMULO-3908</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12778144">HBASE-13124</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12506640">HBASE-3869</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12907673">HBASE-14692</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12907674">HBASE-14693</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12616302">HBASE-7169</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12515690">HBASE-4145</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411416">HBASE-1095</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12901904">HBASE-14534</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12862481">HBASE-14381</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12756071" name="0001-HBASE-12911-Client-side-metrics.patch" size="98210" author="ndimiduk" created="Tue, 15 Sep 2015 20:30:28 +0000"/>
                            <attachment id="12756054" name="0001-HBASE-12911-Client-side-metrics.patch" size="98210" author="ndimiduk" created="Tue, 15 Sep 2015 18:55:12 +0000"/>
                            <attachment id="12756042" name="0001-HBASE-12911-Client-side-metrics.patch" size="98210" author="ndimiduk" created="Tue, 15 Sep 2015 17:37:04 +0000"/>
                            <attachment id="12755872" name="0001-HBASE-12911-Client-side-metrics.patch" size="98210" author="ndimiduk" created="Tue, 15 Sep 2015 00:36:29 +0000"/>
                            <attachment id="12755258" name="0001-HBASE-12911-Client-side-metrics.patch" size="98210" author="ndimiduk" created="Thu, 10 Sep 2015 22:47:50 +0000"/>
                            <attachment id="12754990" name="0001-HBASE-12911-Client-side-metrics.patch" size="98266" author="ndimiduk" created="Wed, 9 Sep 2015 20:13:22 +0000"/>
                            <attachment id="12754985" name="0001-HBASE-12911-Client-side-metrics.patch" size="99172" author="ndimiduk" created="Wed, 9 Sep 2015 20:01:32 +0000"/>
                            <attachment id="12754670" name="0001-HBASE-12911-Client-side-metrics.patch" size="98433" author="ndimiduk" created="Tue, 8 Sep 2015 16:54:14 +0000"/>
                            <attachment id="12754302" name="0001-HBASE-12911-Client-side-metrics.patch" size="98433" author="ndimiduk" created="Sat, 5 Sep 2015 00:32:32 +0000"/>
                            <attachment id="12753629" name="0001-HBASE-12911-Client-side-metrics.patch" size="83942" author="ndimiduk" created="Wed, 2 Sep 2015 00:02:15 +0000"/>
                            <attachment id="12749894" name="0001-HBASE-12911-Client-side-metrics.patch" size="28338" author="ndimiduk" created="Tue, 11 Aug 2015 18:10:37 +0000"/>
                            <attachment id="12756130" name="12911-0.98.00.patch" size="65937" author="ndimiduk" created="Wed, 16 Sep 2015 00:40:45 +0000"/>
                            <attachment id="12756082" name="12911-branch-1.00.patch" size="100471" author="ndimiduk" created="Tue, 15 Sep 2015 21:13:17 +0000"/>
                            <attachment id="12762585" name="12911.yammer.jpg" size="520206" author="ndimiduk" created="Sun, 27 Sep 2015 07:31:55 +0000"/>
                            <attachment id="12762584" name="12911.yammer.v00.patch" size="58081" author="ndimiduk" created="Sun, 27 Sep 2015 07:31:55 +0000"/>
                            <attachment id="12764641" name="12911.yammer.v01.patch" size="58985" author="ndimiduk" created="Thu, 1 Oct 2015 16:59:09 +0000"/>
                            <attachment id="12764903" name="12911.yammer.v02.patch" size="70288" author="ndimiduk" created="Sat, 3 Oct 2015 08:23:11 +0000"/>
                            <attachment id="12764781" name="12911.yammer.v02.patch" size="70187" author="ndimiduk" created="Fri, 2 Oct 2015 16:20:02 +0000"/>
                            <attachment id="12765277" name="12911.yammer.v03.branch-1.patch" size="70096" author="ndimiduk" created="Tue, 6 Oct 2015 22:45:25 +0000"/>
                            <attachment id="12765027" name="12911.yammer.v03.patch" size="70003" author="ndimiduk" created="Mon, 5 Oct 2015 17:21:56 +0000"/>
                            <attachment id="12765019" name="12911.yammer.v03.patch" size="70610" author="ndimiduk" created="Mon, 5 Oct 2015 16:32:01 +0000"/>
                            <attachment id="12765506" name="12911.yammer.v04.0.98.patch" size="38071" author="ndimiduk" created="Thu, 8 Oct 2015 02:54:01 +0000"/>
                            <attachment id="12765470" name="12911.yammer.v04.branch-1.2.patch" size="70754" author="ndimiduk" created="Wed, 7 Oct 2015 22:11:50 +0000"/>
                            <attachment id="12765454" name="12911.yammer.v04.branch-1.2.patch" size="70754" author="ndimiduk" created="Wed, 7 Oct 2015 20:45:07 +0000"/>
                            <attachment id="12765471" name="12911.yammer.v04.branch-1.patch" size="70778" author="ndimiduk" created="Wed, 7 Oct 2015 22:11:50 +0000"/>
                            <attachment id="12765440" name="12911.yammer.v04.branch-1.patch" size="70778" author="ndimiduk" created="Wed, 7 Oct 2015 19:39:25 +0000"/>
                            <attachment id="12765472" name="12911.yammer.v04.patch" size="70743" author="ndimiduk" created="Wed, 7 Oct 2015 22:11:50 +0000"/>
                            <attachment id="12765441" name="12911.yammer.v04.patch" size="70743" author="ndimiduk" created="Wed, 7 Oct 2015 19:39:25 +0000"/>
                            <attachment id="12754264" name="am.jpg" size="364221" author="ndimiduk" created="Fri, 4 Sep 2015 20:35:04 +0000"/>
                            <attachment id="12749896" name="client metrics RS-Master.jpg" size="398157" author="ndimiduk" created="Tue, 11 Aug 2015 18:10:37 +0000"/>
                            <attachment id="12749895" name="client metrics client.jpg" size="383949" author="ndimiduk" created="Tue, 11 Aug 2015 18:10:37 +0000"/>
                            <attachment id="12754301" name="conn_agg.jpg" size="742747" author="ndimiduk" created="Sat, 5 Sep 2015 00:32:32 +0000"/>
                            <attachment id="12753630" name="connection attributes.jpg" size="430519" author="ndimiduk" created="Wed, 2 Sep 2015 00:02:15 +0000"/>
                            <attachment id="12753631" name="ltt.jpg" size="637361" author="ndimiduk" created="Wed, 2 Sep 2015 00:02:15 +0000"/>
                            <attachment id="12753632" name="standalone.jpg" size="883742" author="ndimiduk" created="Wed, 2 Sep 2015 00:02:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Jan 2015 19:54:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24qlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Introduces collection and reporting of various client-perceived metrics. Metrics are exposed via JMX under &amp;quot;org.apache.hadoop.hbase.client.MetricsConnection&amp;quot;. Metrics are scoped according to connection instance, so multiple connection objects (ie, to different clusters) will report their metrics separately. Metrics are disabled by default, must be enabled by configuring &amp;quot;hbase.client.metrics.enable=true&amp;quot;.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>