<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3290/HBASE-3290.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3290] Max Compaction Size</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3290</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add ability to specify a maximum storefile size for compaction.  After this limit, we will not include this file in compactions.  This is useful for large object stores and clusters that pre-split regions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491714">HBASE-3290</key>
            <summary>Max Compaction Size</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nspiegelberg">Nicolas Spiegelberg</assignee>
                                    <reporter username="nspiegelberg">Nicolas Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Nov 2010 23:59:02 +0000</created>
                <updated>Fri, 20 Nov 2015 12:43:59 +0000</updated>
                            <resolved>Thu, 2 Dec 2010 04:42:46 +0000</resolved>
                                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12965494" author="nspiegelberg" created="Tue, 30 Nov 2010 23:59:31 +0000"  >&lt;p&gt;I&apos;m also going to use this opportunity to write unit tests for the existing compaction algorithm&lt;/p&gt;</comment>
                            <comment id="12965587" author="hbasereviewboard" created="Wed, 1 Dec 2010 07:22:10 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1263/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-11-30 23:21:26.259598)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Add ability to specify a maximum storefile size for compaction. After this limit, we will not include this file in compactions. This is useful for large object stores and clusters that pre-split regions.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3290&quot; title=&quot;Max Compaction Size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3290&quot;&gt;&lt;del&gt;HBASE-3290&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HBASE-3290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HBASE-3290&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java 1040878 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java 1040878 &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1263/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;mvn test -Dtest=TestCompactSelection&lt;br/&gt;
mvn test -Dtest=TestCompaction&lt;br/&gt;
mvn test -Dtest=TestFromClientSide&lt;br/&gt;
mvn test&lt;/p&gt;

&lt;p&gt;cluster testing&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Nicolas&lt;/p&gt;

</comment>
                            <comment id="12965795" author="hbasereviewboard" created="Wed, 1 Dec 2010 18:52:13 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1263/#review2018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#review2018&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;This looks great.  I love the test.  There are some comments below.  See what you think.  I did not dig in deep on the algo but looks good.&lt;/p&gt;


&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6361&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6361&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Good.  I like the way you keep around old name.&lt;/p&gt;

&lt;p&gt;    FYI, there&apos;s white space on end of some of these lines of yours.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6364&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6364&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Is this right? We check all storefiles for references where before we only checked the subset of candidate compaction files for references?&lt;/p&gt;


&lt;p&gt;    (Hmm.. maybe the old stuff was wrong?)&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6362&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6362&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    White space&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6365&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6365&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Good&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6366&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6366&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t grok this comment&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6367&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6367&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    So, its ok to mess w/ file order?  We won&apos;t get ourselves into trouble if we don&apos;t respect the order in which files were written?  We do a merge sort when we read all compaction candidates in so should be fine I suppose &amp;#8211; since its same as how scanner merges them...... &lt;/p&gt;

&lt;p&gt;    Just asking because in old days order was important but I suppose we let go of that a while back?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6368&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6368&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Is this a good name for this method?  We&apos;re compacting a Store, not Stores, right?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6369&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6369&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Nice&lt;/p&gt;



&lt;p&gt;trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/#comment6370&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#comment6370&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Excellent!  I love you mocking up StoreFiles rather than fire up minicluster&lt;/p&gt;

&lt;p&gt;    FYI... loads of white space in here.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;stack&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12965983" author="hbasereviewboard" created="Thu, 2 Dec 2010 04:05:13 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-12-01 10:49:59, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java, line 639&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line639&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line639&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Is this right? We check all storefiles for references where before we only checked the subset of candidate compaction files for references?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     (Hmm.. maybe the old stuff was wrong?)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;references == split files.  we currently don&apos;t support splitting split files (into quarter pieces?), so we need to ensure no files are split.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-12-01 10:49:59, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java, line 926&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line926&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line926&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I don&apos;t grok this comment&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;references == split files.  The current algorithm is to split a StoreFile, then immediately use compaction after splitting to break them into 2 StoreFiles.  If you don&apos;t compact reference files that are past the max threshold:&lt;/p&gt;

&lt;p&gt;1) you won&apos;t be able to split the region again&lt;br/&gt;
2) you don&apos;t actually even know that the StoreFile is too large.  HalfStoreFileReader.length() returns the whole StoreFile&apos;s length, not the length of the StoreFile related to your region&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-12-01 10:49:59, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java, line 954&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line954&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line954&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     So, its ok to mess w/ file order?  We won&apos;t get ourselves into trouble if we don&apos;t respect the order in which files were written?  We do a merge sort when we read all compaction candidates in so should be fine I suppose &amp;#8211; since its same as how scanner merges them...... &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Just asking because in old days order was important but I suppose we let go of that a while back?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;so, technically, order is important for optimizations like the TimeStamp filter.  However, realistically this isn&apos;t a problem because our normal skew always decreases in filesize over time.  The only place where our skew doesn&apos;t decrease is for files that have been recently flushed.  However, all those will be unconditionally compacted because they will be lower than &quot;hbase.hstore.compaction.min.size&quot;.  &lt;/p&gt;

&lt;p&gt;The sorting is to handle an interesting issue that popped up for us during migration: we&apos;re bulk loading StoreFiles of extremely variable size (are we migrating 1k users or 10M?) and they will all appear at the end of the StoreFile list.  How do we determine when it is efficient to compact them?  The easiest option was to sort the compact list and handle bulk files by relative size instead of making some custom compaction selection algorithm just for bulk inclusion.  It seems like any other companies that will incrementally migrate data into HBase would hit the same issue.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-12-01 10:49:59, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java, line 1024&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line1024&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/diff/1/?file=17923#file17923line1024&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Is this a good name for this method?  We&apos;re compacting a Store, not Stores, right?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;true.  I mainly wanted to change the name from the public compact() api.  I kept annoyingly clicking on the wrong function in Eclipse.  Do you want to refactor it to compactFiles() right before commit?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Nicolas&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1263/#review2018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1263/#review2018&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12965988" author="stack" created="Thu, 2 Dec 2010 04:40:14 +0000"  >&lt;p&gt;Heres what I applied.&lt;/p&gt;</comment>
                            <comment id="12965989" author="stack" created="Thu, 2 Dec 2010 04:42:45 +0000"  >&lt;p&gt;Committed to TRUNK.  Thanks Nicolas.&lt;/p&gt;</comment>
                            <comment id="12966296" author="kannanm" created="Thu, 2 Dec 2010 21:53:16 +0000"  >&lt;p&gt;Two comments:&lt;/p&gt;

&lt;p&gt;#1. We should still retain ability to major compact all files when invoked from shell/admin API. (Already spoke with Nicolas on this, and he is in agreement).&lt;/p&gt;

&lt;p&gt;#2. The comment that Stack raised: &amp;lt;&amp;lt;So, its ok to mess w/ file order? We won&apos;t get ourselves into trouble if we don&apos;t respect the order in which files were written? We do a merge sort when we read all compaction candidates in so should be fine I suppose - since its same as how scanner merges them...... &amp;gt;&amp;gt; is actually a concern.&lt;/p&gt;

&lt;p&gt;It is currently important that we compact a continguous (when sorted by maxSeqId) sub-set of files. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1485&quot; title=&quot;Wrong or indeterminate behavior when there are duplicate versions of a column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1485&quot;&gt;&lt;del&gt;HBASE-1485&lt;/del&gt;&lt;/a&gt; fix relies on this to resolve conflicts between cells that have the same version. &lt;span class=&quot;error&quot;&gt;&amp;#91;Once we have the proposed fix for HBASE-2856, this will not be necessary. But until then, the &amp;quot;sort by size&amp;quot; would be an unsafe change.&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12966303" author="stack" created="Thu, 2 Dec 2010 22:15:19 +0000"  >&lt;p&gt;So, I should back this change out then until we have the extra ts in hfile?&lt;/p&gt;</comment>
                            <comment id="12966312" author="nspiegelberg" created="Thu, 2 Dec 2010 22:25:53 +0000"  >&lt;p&gt;I&apos;ll add an addendum sometime today.  none of these are critical, n00bs-will-crash their cluster changes.&lt;/p&gt;</comment>
                            <comment id="12966689" author="nspiegelberg" created="Fri, 3 Dec 2010 21:57:42 +0000"  >&lt;p&gt;Fixes &amp;amp; new unit tests per Kannan&apos;s peer review:&lt;/p&gt;

&lt;p&gt;1) Only skip max filesize threshold compaction on contiguous oldest files.  Prevents case where bulk files wouldn&apos;t be compacted, although they are new in the list.&lt;br/&gt;
2) Don&apos;t sort anymore until &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2856&quot; title=&quot;TestAcidGuarantee broken on trunk &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2856&quot;&gt;&lt;del&gt;HBASE-2856&lt;/del&gt;&lt;/a&gt; is fixed&lt;br/&gt;
3) Ignore max filesize threshold on user-forced major compactions.&lt;/p&gt;</comment>
                            <comment id="12966901" author="stack" created="Sun, 5 Dec 2010 05:31:51 +0000"  >&lt;p&gt;+1 on patch.  You want to commit yourself N?&lt;/p&gt;</comment>
                            <comment id="12966904" author="nspiegelberg" created="Sun, 5 Dec 2010 06:11:57 +0000"  >&lt;p&gt;sure.  I wasn&apos;t sure if it was kosher to apply my own patch without an external +1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12968372" author="stack" created="Mon, 6 Dec 2010 19:18:44 +0000"  >&lt;p&gt;The &apos;convention&apos; seems to be taht that if patch is small or a doc or site change, go ahead and commit otherwise, its good to get someone else to +1 your patch &amp;#8211; its someone to share the blame with should your patch break the world.&lt;/p&gt;</comment>
                            <comment id="12969497" author="streamy" created="Wed, 8 Dec 2010 21:23:00 +0000"  >&lt;p&gt;FYI patch files do not seem to match what was committed (at least v2 patch is missing files).  Also I can&apos;t seem to apply the fix on top of the v2 patch not sure why.  (Trying to backport this into internal 90 based branch)&lt;/p&gt;</comment>
                            <comment id="12969505" author="nspiegelberg" created="Wed, 8 Dec 2010 21:43:15 +0000"  >&lt;p&gt;It looks like TestCompactSelection.java wasn&apos;t included in the v2 patch.  probably because you need to do &apos;svn add &amp;lt;newfile&amp;gt;&apos; before &apos;svn diff &amp;gt; patch&apos;.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3290&quot; title=&quot;Max Compaction Size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3290&quot;&gt;&lt;del&gt;HBASE-3290&lt;/del&gt;&lt;/a&gt; is the only jira (so far) to touch that file, so you should be able to grab it directly from the tip without compatibility problems.&lt;/p&gt;</comment>
                            <comment id="12972690" author="nspiegelberg" created="Fri, 17 Dec 2010 23:44:29 +0000"  >&lt;p&gt;We pushed this change to production and found a bug where a major compaction would be triggered due to aging, but the aged file was &amp;gt; max filesize threshold, so it wouldn&apos;t be included in the compaction and all subsequent compactions would continue to hit the aging limit and be upgraded.  While fixing this, we also found some bugs where compaction jitter was reset by the HRegionServer.MajorCompactionChecker thread.  fix2 includs all these minor fixes&lt;/p&gt;</comment>
                            <comment id="12973254" author="stack" created="Mon, 20 Dec 2010 17:02:15 +0000"  >&lt;p&gt;Should we backport these fixes to hbase 0.90?&lt;/p&gt;</comment>
                            <comment id="12974508" author="hudson" created="Thu, 23 Dec 2010 04:31:47 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1697 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/HBase-TRUNK/1697/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/HBase-TRUNK/1697/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="15017677" author="lars_francke" created="Fri, 20 Nov 2015 12:43:59 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12492764">HBASE-3320</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12469746">HBASE-2856</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12465101" name="3290-v2.txt" size="21129" author="stack" created="Thu, 2 Dec 2010 04:40:14 +0000"/>
                            <attachment id="12465280" name="HBASE-3290-fix.patch" size="8736" author="nspiegelberg" created="Fri, 3 Dec 2010 21:57:42 +0000"/>
                            <attachment id="12466512" name="HBASE-3290-fix2.patch" size="5951" author="nspiegelberg" created="Fri, 17 Dec 2010 23:44:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Dec 2010 07:22:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hllb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>