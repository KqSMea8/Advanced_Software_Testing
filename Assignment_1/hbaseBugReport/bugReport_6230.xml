<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:34:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6230/HBASE-6230.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6230] [brainstorm] &quot;Restore&quot; snapshots for HBase 0.96</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6230</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Discussion ticket around the definitions/expectations of different parts of snapshot restoration.  This is complementary, but separate from the &lt;em&gt;how&lt;/em&gt; of taking a snapshot of a table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12594958">HBASE-6230</key>
            <summary>[brainstorm] &quot;Restore&quot; snapshots for HBase 0.96</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12556488">HBASE-6055</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jun 2012 16:06:35 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:39 +0000</updated>
                            <resolved>Tue, 20 Nov 2012 20:38:36 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13395998" author="jesse_yates" created="Mon, 18 Jun 2012 16:17:58 +0000"  >&lt;p&gt;Restore.&lt;/p&gt;

&lt;p&gt;There seems to be five different things people want to do after taking a snapshot.&lt;/p&gt;

&lt;p&gt;1) &quot;Oh crap&quot; recovery of a table. &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this is generally going to be enabled by just having the file references, table info and respective region infos to rebuild the table state. Currently, this is enabled by just having the snapshot on the fs.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2) Restore to read-only table&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Take the existing snapshot and make it into a read only table&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;3) Restore to read/write table&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;take an existing snapshot and make it into a full-fledged table&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4) Swap an existing table for the underlying snapshot&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this should snapshot the existing table and then replace that table with the desired snapshot&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;5) Export snapshot to separate cluster and enable as read/write&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;do (3), after first copying over files onto another cluster.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The other major issue here is going to be how we name these operations such that it makes sense with existing semantics in other databases, either that we pick new words to separate the action from existing connotations or match the existing semantics with our implementation.&lt;/p&gt;

&lt;p&gt;Lets talk high-level, user/admin interface before getting down into the the implementation. The latter should fall out once we have the former.&lt;/p&gt;</comment>
                            <comment id="13396125" author="jmhsieh" created="Mon, 18 Jun 2012 18:39:05 +0000"  >&lt;p&gt;A quick survey of how snapshots are taken and restored in other systems.&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Database &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Taking DB snapshot &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;	Restoring a DB snapshot	&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; mechanism / requirements &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;	read-only snapshot mount? &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;	read-write snapshot mount? &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;	what happens to previous after a restore? &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;	Links		&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; mysql	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Take FS snapshot	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Take FS snapshot + log recovery	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; FS Snapshot &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	No &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	No &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	gone	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://www.mysqlperformanceblog.com/2006/08/21/using-lvm-for-mysql-backup-and-replication-setup/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mysqlperformanceblog.com/2006/08/21/using-lvm-for-mysql-backup-and-replication-setup/&lt;/a&gt; 	&lt;a href=&quot;http://forge.mysql.com/w/images/c/c1/MySQL_Backups_using_File_System_Snapshots-2009-02-26.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forge.mysql.com/w/images/c/c1/MySQL_Backups_using_File_System_Snapshots-2009-02-26.pdf&lt;/a&gt;	&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; postgres &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	Take FS snapshot &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	Take FS snapshot + point in time log recovery &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	FS Snapshot &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	No &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	No &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	gone	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://blogs.oracle.com/jkshah/entry/snapshots_with_postgresql_and_amber&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://blogs.oracle.com/jkshah/entry/snapshots_with_postgresql_and_amber&lt;/a&gt;	&lt;a href=&quot;http://www.postgresql.org/docs/9.0/static/backup-file.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.postgresql.org/docs/9.0/static/backup-file.html&lt;/a&gt;	&lt;a href=&quot;http://www.postgresql.org/docs/8.3/static/continuous-archiving.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.postgresql.org/docs/8.3/static/continuous-archiving.html&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;oracle	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; More like a consistent copytable to another database, different snapshot concept, requires secondary db &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	It seems like a consistent copy table &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	... &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	yes &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	Need to copy	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; nothing	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://www.dba-oracle.com/data_warehouse/table_replication.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.dba-oracle.com/data_warehouse/table_replication.htm&lt;/a&gt;	&lt;a href=&quot;http://www.csee.umbc.edu/portal/help/oracle8/server.815/a67791/mview.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.csee.umbc.edu/portal/help/oracle8/server.815/a67791/mview.htm&lt;/a&gt;	&lt;a href=&quot;http://www.careerride.com/Oracle-what-is-snapshot.aspx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.careerride.com/Oracle-what-is-snapshot.aspx&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ms sqlserver &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	Take, then originals saved to COW files as active is modified &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	Take new snapshot, then convert COW to active db	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Sparse files &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	yes &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	yes &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	snapshot &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	&lt;a href=&quot;http://www.simple-talk.com/sql/database-administration/sql-server-2005-snapshots/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.simple-talk.com/sql/database-administration/sql-server-2005-snapshots/&lt;/a&gt;	&lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ms187054(SQL.90).aspx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://msdn.microsoft.com/en-us/library/ms187054(SQL.90).aspx&lt;/a&gt;	&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; accumulo &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	clone metadata &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	No need &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Metadata clone &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	no need &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	yes &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	no need	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;https://github.com/apache/accumulo/blob/trunk/server/src/main/java/org/apache/accumulo/server/master/tableOps/CloneTable.java		&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
</comment>
                            <comment id="13396173" author="mcorgan" created="Mon, 18 Jun 2012 19:23:18 +0000"  >&lt;p&gt;Amazon just released a hosted HBase service (based on 0.92).  Here&apos;s their backup documentation as an additional reference: &lt;a href=&quot;http://docs.amazonwebservices.com/ElasticMapReduce/latest/DeveloperGuide/emr-hbase-backup-restore.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.amazonwebservices.com/ElasticMapReduce/latest/DeveloperGuide/emr-hbase-backup-restore.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13396179" author="mbertozzi" created="Mon, 18 Jun 2012 19:34:37 +0000"  >&lt;p&gt;Another question is: Do we need to disable the table during a restore?&lt;br/&gt;
Can we disable just some region servers? only the one that have changes?&lt;/p&gt;

&lt;p&gt;Probably you&apos;re restoring due to a &quot;corruption&quot; (I&apos;ve accidentaly deleted from row X to row Y)&lt;br/&gt;
Some applications can tolerate that data is missing or &quot;bad&quot;, some other can not.&lt;/p&gt;</comment>
                            <comment id="13400545" author="jmhsieh" created="Mon, 25 Jun 2012 15:40:49 +0000"  >&lt;p&gt;It&apos;s been pointed out to me that oracle has a feature called &quot;flashback&quot; (more specifically a &quot;flashback archive&quot;) which is seems functionally closer to we&apos;ve for the use cases I think we&apos;ve been talking about.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.oracle.com/cd/B28359_01/appdev.111/b28424/adfns_flashback.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/cd/B28359_01/appdev.111/b28424/adfns_flashback.htm&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.oracle.com/technetwork/database/features/availability/flashback-overview-082751.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.oracle.com/technetwork/database/features/availability/flashback-overview-082751.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.orafaq.com/node/50&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.orafaq.com/node/50&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13407357" author="mbertozzi" created="Thu, 5 Jul 2012 18:26:50 +0000"  >&lt;p&gt;I think that the 3 foundamental blocks for restore are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Restore Table - restore &amp;lt;snapshot name&amp;gt;&lt;/li&gt;
	&lt;li&gt;Clone Table - clone &amp;lt;snapshot name&amp;gt; &amp;lt;table name&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;readonly&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Export snapshot - hbase o.a.h.h.mapreduce.ExportSnapshot &amp;lt;snapshot name&amp;gt; &amp;lt;address&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;On top of these operation you can create all the tools that you want to allow to allow the user to restore just a piece of data, show the difference between snapshot A, snapshot B and the original table, and so on...&lt;/p&gt;

&lt;h5&gt;&lt;a name=&quot;RestoreTable&quot;&gt;&lt;/a&gt;Restore Table&lt;/h5&gt;
&lt;p&gt;Given a &quot;snapshot name&quot; restore override the original table with the snapshot content.&lt;br/&gt;
Before restoring a new snapshot of the table is taken, just to avoid bad situations.&lt;br/&gt;
(If the table is not disabled we can keep serving reads)&lt;/p&gt;

&lt;p&gt;This allows a full and quick rollback to a previous snapshot.&lt;/p&gt;

&lt;h5&gt;&lt;a name=&quot;CloneTable&quot;&gt;&lt;/a&gt;Clone Table&lt;/h5&gt;
&lt;p&gt;Given a &quot;snapshot name&quot; a new table is created with the content of the specified snapshot. &lt;/p&gt;

&lt;p&gt;This operation allows:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;To have an old version of the table in parallel with the current one.
	&lt;ul&gt;
		&lt;li&gt;Look at snapshot side-by-side with the &quot;current&quot; before making the decision whether to roll back or not&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;To Restore only &quot;individual items&quot; (only some small range of data was lost from &quot;current&quot;)
	&lt;ul&gt;
		&lt;li&gt;MR job that scan the cloned table and update the data in the original one. (Partial restore of the data)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;if the table is not marked as read-only
	&lt;ul&gt;
		&lt;li&gt;To Add/Remove data from this table without affecting the original one or the snapshot.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;h5&gt;&lt;a name=&quot;ExportSnapshot&quot;&gt;&lt;/a&gt;Export Snapshot&lt;/h5&gt;
&lt;p&gt;Copy the &quot;snapshot name&quot; to the specified cluster. This will be more or less a distcp of the snapshot folder. And allows you to copy a snapshotted table without going through CopyTable. After this operation the snapshot will be visible with &quot;list_snapshot&quot; and can be restored or cloned.&lt;/p&gt;</comment>
                            <comment id="13410682" author="jesse_yates" created="Tue, 10 Jul 2012 18:37:36 +0000"  >&lt;blockquote&gt;
&lt;p&gt; Restore Table&lt;/p&gt;

&lt;p&gt;Given a &quot;snapshot name&quot; restore override the original table with the snapshot content.&lt;br/&gt;
Before restoring a new snapshot of the table is taken, just to avoid bad situations.&lt;br/&gt;
(If the table is not disabled we can keep serving reads)&lt;/p&gt;

&lt;p&gt;This allows a full and quick rollback to a previous snapshot.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 on the general design.&lt;/p&gt;

&lt;p&gt;How does this correspond to restoring a table from a snapshot when the table doesn&apos;t exist? I feel like this should be a semantically different use case, though the underlying implementation will probably only differ in terms of not taking a snapshot of the existing table because no existing table can exist. I&apos;d propose that Restore -&amp;gt; Rollback and Restore then means just taking a snapshot and creating a table from it. This means on the external cluster, the exported snapshot is then &apos;restored&apos; on the remote cluster.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Clone Snapshot&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This could be very, very tricky in terms of multiple tables reading the same files. You would have to make sure that no other tables are using the current HFiles when a compaction comes around. Otherwise, when you archive the files, you will break the other table using those files. Maybe there is some niceness in HDFS that will blowup on you when trying to move a file someone else is currently reading, but that would take some investigation. I have a feeling there is also a bunch of code that assumes a certain layout for the files that will make this hard. I&apos;m not saying its not doable, but its not going to be trivial.&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;To Restore only &quot;individual items&quot; (only some small range of data was lost from &quot;current&quot;)
	&lt;ul&gt;
		&lt;li&gt;MR job that scan the cloned table and update the data in the original one. (Partial restore of the data)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;This seems like  slightly more difficult proposal. I&apos;m not adverse to doing this, but it isn&apos;t a trivial operation and probably should be taken care of by a Map/Reduce job that exports to a &apos;small&apos; (depending on data-size), temporary table so we can easily filter out the right ranges without having to stand up a special region or do a ton of compactions. This means it becomes an inherently slower operation, but should be performant enough for recovering data and makes lots of sense to recovering a very large chunk in terms of overall throughput (though you probably want to just restore a clone at that point).&lt;/p&gt;

&lt;p&gt;This brings up another potential nicety  - a snapshot and clone operation. Takes a snapshot of the existing table and then stands up a clone of that data. Small addition to the interface and to me what a real &apos;clone&apos; operation should do.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Export Snapshot&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1 Let the remote cluster restore the snapshot if they want to do it - don&apos;t force a table to be stood up immediately.&lt;/p&gt;</comment>
                            <comment id="13414615" author="mbertozzi" created="Sun, 15 Jul 2012 11:52:51 +0000"  >&lt;p&gt;Attached a document on how the Restore/Rollback work and an initial draft of the restore code &lt;a href=&quot;https://reviews.apache.org/r/5963/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5963/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13415705" author="jmhsieh" created="Mon, 16 Jul 2012 22:11:23 +0000"  >&lt;p&gt;We need to agree on these definitions.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How does this correspond to restoring a table from a snapshot when the table doesn&apos;t exist?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Do you mean &quot;restoring&quot; to a different table name in this case (which matteo&apos;s named &quot;clone&quot;)  or a situation where a user deleted his table and you want to restore?&lt;/p&gt;

&lt;p&gt;Restoring to the same name seems to be straight forwards to me.&lt;/p&gt;

&lt;p&gt;There is a bunch of work that would need to be done if you are restoring a snapshot of a table to a different name that the original while maintaining all of the invariants in regions and the their encoded names.  Ex: the region dir corresponds to a hash of the tablename, startkey, and region ts.  Changing the table name means potentially regenerating and moving a bunch of metadata stuff.&lt;/p&gt;

&lt;p&gt;Clonign and Exporting are follow on features that we&apos;d like to have possible but doesn&apos;t need to be in the first cut that makes it into trunk.  From my point of view we do need to have snapshot and restore (and some system tests) before we could consider committing to trunk.  &lt;/p&gt;</comment>
                            <comment id="13497425" author="mbertozzi" created="Wed, 14 Nov 2012 20:50:40 +0000"  >&lt;p&gt;attached the latest patch available on review board. &lt;/p&gt;</comment>
                            <comment id="13497522" author="jesse_yates" created="Wed, 14 Nov 2012 22:11:56 +0000"  >&lt;p&gt;this needs the restore interface patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6777&quot; title=&quot;Snapshot Restore interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6777&quot;&gt;&lt;del&gt;HBASE-6777&lt;/del&gt;&lt;/a&gt;) first, right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13497523" author="mbertozzi" created="Wed, 14 Nov 2012 22:13:51 +0000"  >&lt;p&gt;Yes, the restore depends on restore interface &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6777&quot; title=&quot;Snapshot Restore interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6777&quot;&gt;&lt;del&gt;HBASE-6777&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13500695" author="jesse_yates" created="Mon, 19 Nov 2012 22:30:05 +0000"  >&lt;p&gt;We&apos;ve got 2 +1s on RB. Looking to commit tomorrow, unless there are any objections. This is the last patch needed for offline snapshot + restore!&lt;/p&gt;</comment>
                            <comment id="13501450" author="jesse_yates" created="Tue, 20 Nov 2012 20:38:36 +0000"  >&lt;p&gt;Committed to &lt;a href=&quot;https://github.com/jyates/hbase/tree/snapshots&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jyates/hbase/tree/snapshots&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13658741" author="jinghe" created="Wed, 15 May 2013 20:17:49 +0000"  >&lt;p&gt;Do we support restore snapshot from the remote cluster DFS?&lt;br/&gt;
For example, snapshot_name on HBase A has been exported to a second cluster DFS. It serves as a backup image.&lt;br/&gt;
I want to restore snapshot_name back to HBase A from the second cluster DFS.&lt;/p&gt;</comment>
                            <comment id="13658756" author="mbertozzi" created="Wed, 15 May 2013 20:31:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt; you should move the discussion to the list..&lt;br/&gt;
anyway, no we don&apos;t support the remote restore, because you specify a name and not a url.&lt;br/&gt;
and that&apos;s why the export snapshot exists... &lt;br/&gt;
you export back the snapshot from B to A and restore/clone&lt;/p&gt;</comment>
                            <comment id="13659053" author="jinghe" created="Wed, 15 May 2013 23:56:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;, thanks for your response. I will use the mailing list in the future.&lt;br/&gt;
This export out and export in seems to be a little odd.&lt;br/&gt;
Is there any particular consideration why restore snapshot don&apos;t want to support remote cluster DFS with a url option?&lt;br/&gt;
Other HBase tools, like bulk load, wal player do support it.&lt;/p&gt;</comment>
                            <comment id="13659060" author="mbertozzi" created="Thu, 16 May 2013 00:04:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt;again, better move the discussion to the list...&lt;br/&gt;
To been able to restore you must have the files on the cluster...&lt;br/&gt;
otherwise you&apos;re introducing the ability to run hbase with files everywhere on different filesystems.&lt;/p&gt;

&lt;p&gt;so, you&apos;ve to copy the files from your backup cluster and do the restore.&lt;br/&gt;
...and that&apos;s exactly what I&apos;ve described above ExportSnapshot + restore&lt;/p&gt;

&lt;p&gt;If you want to add a tool or extend the shell command do to this two operations feel free to do that. I agree that for the user it will look simpler have a single command than two.&lt;/p&gt;</comment>
                            <comment id="13775061" author="stack" created="Mon, 23 Sep 2013 18:30:39 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12556488">HBASE-6055</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12597899">HBASE-6353</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12594981">HBASE-6233</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12607526">HBASE-6777</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553545" name="HBASE-6230-v1.patch" size="106065" author="mbertozzi" created="Wed, 14 Nov 2012 20:50:40 +0000"/>
                            <attachment id="12554233" name="HBASE-6230-v2.patch" size="123616" author="mbertozzi" created="Mon, 19 Nov 2012 20:36:59 +0000"/>
                            <attachment id="12554400" name="HBASE-6230-v3.patch" size="116952" author="mbertozzi" created="Tue, 20 Nov 2012 20:08:23 +0000"/>
                            <attachment id="12536541" name="SnapshotRestore-v0.pdf" size="55015" author="mbertozzi" created="Sun, 15 Jul 2012 11:52:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Jun 2012 18:39:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02baf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>