<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6362/HBASE-6362.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6362] Enhance test-patch.sh script to recognize images / non-trunk patches</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6362</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When user uploads logs / images / non-trunk patches, Hadoop QA would complain that the file couldn&apos;t be applied as a patch (for trunk).&lt;/p&gt;

&lt;p&gt;We should make this script smarter by recognizing image files and non-trunk patches.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598118">HBASE-6362</key>
            <summary>Enhance test-patch.sh script to recognize images / non-trunk patches</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zhihyu@ebaysf.com">Ted Yu</reporter>
                        <labels>
                            <label>delete</label>
                    </labels>
                <created>Tue, 10 Jul 2012 01:12:41 +0000</created>
                <updated>Sat, 10 Jan 2015 06:07:42 +0000</updated>
                            <resolved>Sat, 10 Jan 2015 02:03:33 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13410021" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 02:54:42 +0000"  >&lt;p&gt;The filenames of attached patches can vary widely. My first attempt is to use simple heuristic for determining patches for trunk.&lt;/p&gt;

&lt;p&gt;Patch for trunk should end in .txt or .patch in the filename.&lt;br/&gt;
The filename can include delimiter &apos;-&apos; between components.&lt;br/&gt;
It should include &apos;trunk&apos; or &apos;TRUNK&apos; as the last or second last component (if versioning is involved).&lt;/p&gt;

&lt;p&gt;The following are examples of accepted filenames:&lt;/p&gt;

&lt;p&gt;hbase-6311-trunk.patch&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6311&quot; title=&quot;Data error after majorCompaction caused by keeping MVCC for opened scanners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6311&quot;&gt;&lt;del&gt;HBASE-6311&lt;/del&gt;&lt;/a&gt;-trunk-v1.txt&lt;br/&gt;
6311-trunk.txt&lt;br/&gt;
6311-trunk-v9.patch&lt;/p&gt;

&lt;p&gt;Please comment.&lt;/p&gt;</comment>
                            <comment id="13410425" author="dsw" created="Tue, 10 Jul 2012 15:18:01 +0000"  >&lt;p&gt;What will be the behavior if trunk or TRUNK is not specified?&lt;/p&gt;</comment>
                            <comment id="13410430" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 15:26:56 +0000"  >&lt;p&gt;If we don&apos;t require &lt;span class=&quot;error&quot;&gt;&amp;#91;trunk|TRUNK&amp;#93;&lt;/span&gt; to be part of the patch filename, we need to figure out the branch name.&lt;br/&gt;
Following are few examples of patches for branches (again, I placed branch and patch version as the last two components):&lt;/p&gt;

&lt;p&gt;6311-0.94-v1.patch&lt;br/&gt;
hbase-6311-94.txt&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6311&quot; title=&quot;Data error after majorCompaction caused by keeping MVCC for opened scanners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6311&quot;&gt;&lt;del&gt;HBASE-6311&lt;/del&gt;&lt;/a&gt;-0.92.patch&lt;/p&gt;

&lt;p&gt;There&apos;re four branches at the moment: 0.90, 0.92, 0.94 and 0.89-fb&lt;br/&gt;
More branches to come in the future.&lt;/p&gt;

&lt;p&gt;I am open to using either method for determining the branch patch is for.&lt;/p&gt;</comment>
                            <comment id="13410445" author="dsw" created="Tue, 10 Jul 2012 15:38:33 +0000"  >&lt;p&gt;My thoughts:&lt;/p&gt;

&lt;p&gt;I like making the branch name the exact name of the branch as it exists in the repository.&lt;/p&gt;

&lt;p&gt;It would be great to have some sort of guidance message when attaching a file to the JIRA, stating &quot;if this is a patch, follow these naming guidelines&quot;.  Otherwise we will get lots of questions from new folks about what to do.&lt;/p&gt;

&lt;p&gt;If we have such a message, then we can probably be a bit more strict on what format the name will be in (e.g. only .patch instead of .txt, etc.) if you&apos;d like.&lt;/p&gt;</comment>
                            <comment id="13410572" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 17:23:43 +0000"  >&lt;p&gt;I don&apos;t have control over the dialog that pops up for uploading patches.&lt;/p&gt;

&lt;p&gt;Currently Hadoop QA only runs trunk test suite. Even if we&apos;re able to distinguish patches for branches, we still need to filter out image files, log files and tar balls.&lt;/p&gt;

&lt;p&gt;What if someone attaches the following ?&lt;br/&gt;
6311-94-ver1.txt&lt;br/&gt;
6311-0.92-version2.patch&lt;/p&gt;

&lt;p&gt;If we want to inform contributors of new guideline, the guideline should be as simple as possible.&lt;/p&gt;

&lt;p&gt;I prefer the first approach I outlined.&lt;/p&gt;</comment>
                            <comment id="13410974" author="dsw" created="Tue, 10 Jul 2012 21:55:50 +0000"  >&lt;p&gt;OK, if we are only filtering for trunk patches vs. everything else, then your approach is fine with me.&lt;/p&gt;</comment>
                            <comment id="13411184" author="apurtell" created="Wed, 11 Jul 2012 02:44:14 +0000"  >&lt;p&gt;Since Hadoop QA only supports patches against trunk, then the fact the patch is for trunk is implicit. The simplest convention is best IMHO:  &lt;/p&gt;

&lt;p&gt;\d+\.(patch|txt)&lt;/p&gt;

&lt;p&gt;or &lt;/p&gt;

&lt;p&gt;HBASE-\d+\.(patch|txt)&lt;/p&gt;

&lt;p&gt;Anything else, ignore.&lt;/p&gt;
</comment>
                            <comment id="13411190" author="zhihyu@ebaysf.com" created="Wed, 11 Jul 2012 02:51:50 +0000"  >&lt;p&gt;Quite often patches need to be attached for multiple branches.&lt;br/&gt;
In this case should we include &apos;trunk|TRUNK&apos; in the name for the trunk patch ?&lt;/p&gt;</comment>
                            <comment id="13411202" author="apurtell" created="Wed, 11 Jul 2012 03:24:14 +0000"  >&lt;p&gt;Please Reread above comment. That&apos;s not necessary. Patches matching those regex would be tested as trunk patches. All others, with some sort of suffix, no matter what, would not.&lt;/p&gt;</comment>
                            <comment id="13412057" author="zhihyu@ebaysf.com" created="Wed, 11 Jul 2012 22:07:09 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5151?focusedCommentId=13412056&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13412056&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5151?focusedCommentId=13412056&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13412056&lt;/a&gt; for one reason we need versioning in patch filenames.&lt;/p&gt;

&lt;p&gt;When versioning is in play, the above regex wouldn&apos;t pick up all the patches.&lt;/p&gt;</comment>
                            <comment id="13412063" author="stack" created="Wed, 11 Jul 2012 22:15:41 +0000"  >&lt;p&gt;I&apos;m with Andrew.  The barrier to contribution should be as low as possible.  The argument above for requiring versioning doesn&apos;t fly given hadoopqa picks up the latest whatever the name (Regards hadoopqa not posting back if no compile, lets fix that)&lt;/p&gt;</comment>
                            <comment id="14268421" author="clehene" created="Wed, 7 Jan 2015 22:39:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; is this still under debate? Can we close?&lt;/p&gt;</comment>
                            <comment id="14272249" author="apurtell" created="Sat, 10 Jan 2015 02:03:33 +0000"  >&lt;p&gt;Changing resolution from Later to Not A Problem&lt;/p&gt;</comment>
                            <comment id="14272360" author="rahimkanjiyani@hotmail.com" created="Sat, 10 Jan 2015 06:07:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jul 2012 15:18:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02d3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>