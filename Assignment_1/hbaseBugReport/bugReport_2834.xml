<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:05:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2834/HBASE-2834.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2834] Deferred deletes</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2834</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Tangentally mentioned in a blog post, James Hamilton talks about deferred deletes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you have an application error, administrative error, or database implementation bug that losses data, then it is simply gone unless you have an offline copy. This, by the way, is why I&apos;m a big fan of deferred delete.  This is a technique where deleted items are marked as deleted but not garbage collected until some days or preferably weeks later.  Deferred delete is not full protection but it has saved my butt more than once and I&apos;m a believer. See On Designing and Deploying Internet-Scale Services (&lt;a href=&quot;http://mvdirona.com/jrh/talksAndPapers/JamesRH_Lisa.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mvdirona.com/jrh/talksAndPapers/JamesRH_Lisa.pdf&lt;/a&gt;) for more detail.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;(See &lt;a href=&quot;http://perspectives.mvdirona.com/2010/04/07/StonebrakerOnCAPTheoremAndDatabases.aspx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://perspectives.mvdirona.com/2010/04/07/StonebrakerOnCAPTheoremAndDatabases.aspx&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Because deletes &amp;#8211; at least, after the initial write has been flushed from memstore &amp;#8211; are tombstones, deferred delete in HBase could be supported if somehow tombstones could be invalidated, an undelete operation in effect. This could be accomplished by adding support for tombstones for deletes. Would complicate major compaction but otherwise not touch much. A typical use case might be &quot;resurrect any data deleted from &lt;em&gt;ts1&lt;/em&gt; to &lt;em&gt;ts2&lt;/em&gt; &quot;, a period of 4 hours when an application error was operative. In this case a new write would be issued to the table that is a tombstone covering any deletes over that period of time. Users would defer major compactions until safe checkpoint periods. &lt;/p&gt;

&lt;p&gt;Such guarantees could optionally be extended to the memstoe by using tombstones there as well. But it would probably be sufficient to provide guidance that forcing a flush is  necessary to insure edits are persisted in a way that allows for undeletion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469238">HBASE-2834</key>
            <summary>Deferred deletes</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jul 2010 08:49:33 +0000</created>
                <updated>Mon, 12 May 2014 00:49:20 +0000</updated>
                            <resolved>Mon, 12 May 2014 00:49:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12888429" author="streamy" created="Wed, 14 Jul 2010 16:46:05 +0000"  >&lt;p&gt;Seems like this would be part of the SnapshotScanner in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2376&quot; title=&quot;Add special SnapshotScanner which presents view of all data at some time in the past&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2376&quot;&gt;&lt;del&gt;HBASE-2376&lt;/del&gt;&lt;/a&gt;?  You use TTKAV (TimeToKeepAllVersions) to prevent compactions from wiping any data.&lt;/p&gt;</comment>
                            <comment id="13178292" author="lhofhansl" created="Mon, 2 Jan 2012 05:48:48 +0000"  >&lt;p&gt;Seems this is duplicated by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4536&quot; title=&quot;Allow CF to retain deleted rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4536&quot;&gt;&lt;del&gt;HBASE-4536&lt;/del&gt;&lt;/a&gt;... With that it is possible to do time-range queries past delete markers (if store was enabled for KEEP_DELETED_CELLS). So quite the same, but targets a similar usecase.&lt;/p&gt;</comment>
                            <comment id="13179849" author="stack" created="Wed, 4 Jan 2012 20:43:34 +0000"  >&lt;p&gt;We can close this issue then?  (After adding a bit of &apos;how to do deferred deletes&apos; to the manual?)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Jul 2010 16:46:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hjfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100411</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>