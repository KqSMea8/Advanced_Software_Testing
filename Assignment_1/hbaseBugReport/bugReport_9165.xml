<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:01:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9165/HBASE-9165.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9165] Improvements to addDependencyJars</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9165</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The way we support adding HBase dependencies to a MapReduce job in &lt;tt&gt;TableMapReduceUtils#addDependencyJars(job)&lt;/tt&gt; is a bit monolithic. Advanced users need a way to add HBase and its dependencies to their job without us snooping around for ouput formats and the like (see &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;). We can also benefit from a little more code reuse between our &lt;tt&gt;mapred&lt;/tt&gt; and &lt;tt&gt;mapreduce&lt;/tt&gt; namespaces.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662737">HBASE-9165</key>
            <summary>Improvements to addDependencyJars</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12636666">HBASE-8084</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Aug 2013 23:31:22 +0000</created>
                <updated>Tue, 26 Nov 2013 05:53:43 +0000</updated>
                            <resolved>Fri, 15 Nov 2013 21:57:41 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.1</fixVersion>
                    <fixVersion>0.94.14</fixVersion>
                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13734256" author="ndimiduk" created="Fri, 9 Aug 2013 00:36:38 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Separate adding HBase and dependencies from adding other job dependencies, and expose it as a separate method that other projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Explicitly add hbase-server to the list of dependencies we ship with the job, for users who extend the classes we provide (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9112&quot; title=&quot;Custom TableInputFormat in initTableMapperJob throws ClassNoFoundException on TableMapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9112&quot;&gt;&lt;del&gt;HBASE-9112&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Add integration test for addDependencyJars.&lt;/li&gt;
	&lt;li&gt;Code reuse for TestTableMapReduce.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13734389" author="hadoopqa" created="Fri, 9 Aug 2013 04:36:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596999/0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596999/0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 20 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.client.TestAdmin.testTableExist(TestAdmin.java:835)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6671//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13755134" author="daijy" created="Fri, 30 Aug 2013 20:57:21 +0000"  >&lt;p&gt;+1. Pig need this feature to ship HBase dependent jars correctly. Currently Pig user have to register HBase dependent jars (such as protobuf.jar) to use HBaseStorage.&lt;/p&gt;</comment>
                            <comment id="13760693" author="ndimiduk" created="Fri, 6 Sep 2013 22:22:20 +0000"  >&lt;p&gt;The patch has gone stale.&lt;/p&gt;</comment>
                            <comment id="13820817" author="ndimiduk" created="Wed, 13 Nov 2013 01:57:35 +0000"  >&lt;p&gt;Rebased onto trunk. Let&apos;s see what buildbot says.&lt;/p&gt;</comment>
                            <comment id="13820976" author="hadoopqa" created="Wed, 13 Nov 2013 06:04:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12613499/0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12613499/0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7831//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13821987" author="yuzhihong@gmail.com" created="Wed, 13 Nov 2013 23:36:37 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;// when making changes here, consider also mapreduce.TableMapReduceUtils&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You meant TableMapReduceUtil, right ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; class ProcessContentsMapper &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MapReduceBase &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above class can be package-private, right ?&lt;/p&gt;</comment>
                            <comment id="13822168" author="stack" created="Thu, 14 Nov 2013 05:09:20 +0000"  >&lt;p&gt;Skimmed.  lgtm&lt;/p&gt;</comment>
                            <comment id="13822966" author="ndimiduk" created="Thu, 14 Nov 2013 21:51:00 +0000"  >&lt;p&gt;Updated patch to address Ted&apos;s review comments. Both mapred and mapreduce.TestTableMapReduce pass locally on hadoop-1 and hadoop-2. Will let a buildbot run and commit if there&apos;s clean tests and no objections.&lt;/p&gt;</comment>
                            <comment id="13822994" author="ndimiduk" created="Thu, 14 Nov 2013 22:06:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; do you want at least a partial backport to 0.94? I think we can leave out the test refactor if you&apos;d prefer, keep only the new method. This should be helpful for downstream projects (Pig, Hive). I&apos;d like to include the new method so I can also backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8438&quot; title=&quot;Extend bin/hbase to print a &amp;quot;mapreduce classpath&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8438&quot;&gt;&lt;del&gt;HBASE-8438&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13823104" author="ndimiduk" created="Thu, 14 Nov 2013 23:27:22 +0000"  >&lt;p&gt;Here&apos;s a patch for 0.94. Just adds the new method and fixes the unit test on addDependencyJars. Both mapred, mapreduce.TestTableMapReduce pass locally on hadoop-1 and hadoop-2 profiles.&lt;/p&gt;</comment>
                            <comment id="13823108" author="hadoopqa" created="Thu, 14 Nov 2013 23:31:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12613968/HBASE-9165-0.94.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12613968/HBASE-9165-0.94.00.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7867//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7867//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13823113" author="lhofhansl" created="Thu, 14 Nov 2013 23:35:45 +0000"  >&lt;p&gt;So with mapred we are removing:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      org.apache.zookeeper.ZooKeeper.class,
-      com.google.common.base.Function.class,
-      com.google.protobuf.Message.class,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And adding:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      org.apache.zookeeper.ZooKeeper.class,
+      com.google.protobuf.Message.class,
+      com.google.common.collect.ImmutableSet.class,
+      org.apache.hadoop.hbase.util.Bytes.class
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that correct?&lt;/p&gt;</comment>
                            <comment id="13823125" author="ndimiduk" created="Thu, 14 Nov 2013 23:46:45 +0000"  >&lt;p&gt;Yikes, I didn&apos;t realize the list of classes are different between the two. This is a bug, right? Mapred is just a pass-through to the mapreduce implementations.&lt;/p&gt;

&lt;p&gt;Zookeeper and protobuf jars are drawn by the same class in both cases. The same Guava jar is brought in by Function.class and ImmutableSet.class respectively. Not including the hbase.jar is a bug as reported by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9112&quot; title=&quot;Custom TableInputFormat in initTableMapperJob throws ClassNoFoundException on TableMapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9112&quot;&gt;&lt;del&gt;HBASE-9112&lt;/del&gt;&lt;/a&gt;, and fixed inadvertently by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8146&quot; title=&quot;IntegrationTestBigLinkedList does not work on distributed setup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8146&quot;&gt;&lt;del&gt;HBASE-8146&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So yes, this is correct. Thanks for double-checking.&lt;/p&gt;</comment>
                            <comment id="13823132" author="hadoopqa" created="Thu, 14 Nov 2013 23:50:49 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12613968/HBASE-9165-0.94.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12613968/HBASE-9165-0.94.00.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7869//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7869//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13823165" author="ndimiduk" created="Fri, 15 Nov 2013 00:37:04 +0000"  >&lt;p&gt;Reattaching most recent trunk patch for the benefit of the buildbot.&lt;/p&gt;</comment>
                            <comment id="13823235" author="hadoopqa" created="Fri, 15 Nov 2013 02:46:35 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12613983/HBASE-9165.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12613983/HBASE-9165.02.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 19 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7871//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13823848" author="ndimiduk" created="Fri, 15 Nov 2013 17:46:16 +0000"  >&lt;p&gt;Attaching the patch committed to 0.96. From the commit message:&lt;/p&gt;

&lt;p&gt;Note this patch differs from the one applied to TRUNK/0.98 in that it omits changes to TestTableMapReduceUtil which have not yet been backported from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8534&quot; title=&quot;Fix coverage for org.apache.hadoop.hbase.mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8534&quot;&gt;&lt;del&gt;HBASE-8534&lt;/del&gt;&lt;/a&gt;. This can be addressed when that patch is backported (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9484&quot; title=&quot;Backport 8534 &amp;quot;Fix coverage for org.apache.hadoop.hbase.mapreduce&amp;quot; to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9484&quot;&gt;&lt;del&gt;HBASE-9484&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13823850" author="ndimiduk" created="Fri, 15 Nov 2013 17:47:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; are you okay with the 0.94 backport?&lt;/p&gt;</comment>
                            <comment id="13823857" author="hadoopqa" created="Fri, 15 Nov 2013 17:53:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12614091/HBASE-9165-0.96.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12614091/HBASE-9165-0.96.00.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 15 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7883//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7883//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13823904" author="lhofhansl" created="Fri, 15 Nov 2013 18:22:22 +0000"  >&lt;p&gt;+1&lt;br/&gt;
You sure we won&apos;t need com.google.common.base.Function.&lt;/p&gt;</comment>
                            <comment id="13823983" author="ndimiduk" created="Fri, 15 Nov 2013 19:22:56 +0000"  >&lt;p&gt;Yes. This change is an effective noop; the same jar contains both classes. It&apos;s value is to bring the implementations across branches back into sync.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;soleil:hbase-94 ndimiduk$ grep \&amp;lt;guava\.version\&amp;gt; pom.xml
    &amp;lt;guava.version&amp;gt;11.0.2&amp;lt;/guava.version&amp;gt;
soleil:hbase-94 ndimiduk$ jar tf ~/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar | grep base\.Function\.class
com/google/common/base/Function.class
soleil:hbase-94 ndimiduk$ jar tf ~/.m2/repository/com/google/guava/guava/11.0.2/guava-11.0.2.jar | grep collect\.ImmutableSet\.class                                                                      
com/google/common/collect/ImmutableSet.class
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13824002" author="ndimiduk" created="Fri, 15 Nov 2013 19:40:29 +0000"  >&lt;p&gt;I stood up a pseudo-distributed hadoop on my laptop, built the tarball from 0.94.14-SNAPSHOT, and launched PerformanceEvaluation sequentialWrite 2. In the job launch logs I see&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13/11/15 11:36:46 DEBUG mapreduce.TableMapReduceUtil: For class com.google.common.collect.ImmutableSet, using jar /private/tmp/hbase-0.94.14-SNAPSHOT/lib/guava-11.0.2.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The submitted job.xml file contains the following value for &quot;tmpjars&quot;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;file:/private/tmp/hbase-0.94.14-SNAPSHOT/hbase-0.94.14-SNAPSHOT.jar,file:/private/tmp/hbase-0.94.14-SNAPSHOT/lib/protobuf-java-2.4.0a.jar,file:/private/tmp/hbase-0.94.14-SNAPSHOT/lib/zookeeper-3.4.5.jar,file:/private/tmp/hbase-0.94.14-SNAPSHOT/lib/guava-11.0.2.jar,file:/private/tmp/hbase-0.94.14-SNAPSHOT/lib/hadoop-core-1.0.4.jar,file:/private/tmp/hbase-0.94.14-SNAPSHOT/hbase-0.94.14-SNAPSHOT-tests.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think we&apos;re good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13824033" author="lhofhansl" created="Fri, 15 Nov 2013 20:00:03 +0000"  >&lt;p&gt;If they are in the same jar, let&apos;s just add them both. Seems safer and it also calls out the actual dependencies.&lt;br/&gt;
+1 otherwise.&lt;/p&gt;</comment>
                            <comment id="13824074" author="hudson" created="Fri, 15 Nov 2013 20:45:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #838 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/838/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/838/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Separate adding HBase and dependencies from adding other job&lt;br/&gt;
   dependencies, and expose it as a separate method that other&lt;br/&gt;
   projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Explicitly add hbase-server to the list of dependencies we ship&lt;br/&gt;
   with the job, for users who extend the classes we provide (see&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9112&quot; title=&quot;Custom TableInputFormat in initTableMapperJob throws ClassNoFoundException on TableMapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9112&quot;&gt;&lt;del&gt;HBASE-9112&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Add integration test for addDependencyJars.&lt;/li&gt;
	&lt;li&gt;Code reuse for TestTableMapReduce. (ndimiduk: rev 1542341)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/mapreduce/IntegrationTestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/IdentityTableMapper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapred/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824078" author="ndimiduk" created="Fri, 15 Nov 2013 20:49:56 +0000"  >&lt;p&gt;As you prefer. Attached the updated patch. If there&apos;s no further objection, I&apos;ll commit this afternoon.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13824091" author="hadoopqa" created="Fri, 15 Nov 2013 21:06:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12614123/HBASE-9165-0.94.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12614123/HBASE-9165-0.94.01.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7888//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7888//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13824115" author="lhofhansl" created="Fri, 15 Nov 2013 21:29:31 +0000"  >&lt;p&gt;+1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks Nick.&lt;/p&gt;</comment>
                            <comment id="13824145" author="ndimiduk" created="Fri, 15 Nov 2013 21:57:41 +0000"  >&lt;p&gt;Committed across all 3 branches. Thanks for the reviews everyone.&lt;/p&gt;</comment>
                            <comment id="13824381" author="hudson" created="Sat, 16 Nov 2013 04:05:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4681 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4681/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4681/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Separate adding HBase and dependencies from adding other job&lt;br/&gt;
   dependencies, and expose it as a separate method that other&lt;br/&gt;
   projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Explicitly add hbase-server to the list of dependencies we ship&lt;br/&gt;
   with the job, for users who extend the classes we provide (see&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9112&quot; title=&quot;Custom TableInputFormat in initTableMapperJob throws ClassNoFoundException on TableMapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9112&quot;&gt;&lt;del&gt;HBASE-9112&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Add integration test for addDependencyJars.&lt;/li&gt;
	&lt;li&gt;Code reuse for TestTableMapReduce. (ndimiduk: rev 1542341)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/src/test/java/org/apache/hadoop/hbase/mapreduce/IntegrationTestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/IdentityTableMapper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapred/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceBase.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824516" author="hudson" created="Sat, 16 Nov 2013 15:49:21 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #190 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/190/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/190/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Separate adding HBase and dependencies from adding other job&lt;br/&gt;
   dependencies, and expose it as a separate method that other&lt;br/&gt;
   projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Explicitly add hbase-server to the list of dependencies we ship&lt;br/&gt;
   with the job, for users who extend the classes we provide (see&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9112&quot; title=&quot;Custom TableInputFormat in initTableMapperJob throws ClassNoFoundException on TableMapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9112&quot;&gt;&lt;del&gt;HBASE-9112&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Add integration test for addDependencyJars.&lt;/li&gt;
	&lt;li&gt;Code reuse for TestTableMapReduce.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note this patch differs from the one applied to TRUNK/0.98 in that it omits&lt;br/&gt;
changes to TestTableMapReduceUtil which have not yet been backported from&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8534&quot; title=&quot;Fix coverage for org.apache.hadoop.hbase.mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8534&quot;&gt;&lt;del&gt;HBASE-8534&lt;/del&gt;&lt;/a&gt;. This can be addressed when that patch is backported (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9484&quot; title=&quot;Backport 8534 &amp;quot;Fix coverage for org.apache.hadoop.hbase.mapreduce&amp;quot; to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9484&quot;&gt;&lt;del&gt;HBASE-9484&lt;/del&gt;&lt;/a&gt;). (ndimiduk: rev 1542342)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-it/src/test/java/org/apache/hadoop/hbase/mapreduce/IntegrationTestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/IdentityTableMapper.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/mapred/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824559" author="hudson" created="Sat, 16 Nov 2013 18:22:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1203 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1203/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1203/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;p&gt;Separate adding HBase and dependencies from adding other job dependencies, and&lt;br/&gt;
expose it as a separate method that other projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2055&quot; title=&quot;Hive should add HBase classpath dependencies when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2055&quot;&gt;&lt;del&gt;HIVE-2055&lt;/del&gt;&lt;/a&gt;). (ndimiduk: rev 1542414)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824587" author="hudson" created="Sat, 16 Nov 2013 19:08:48 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #337 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/337/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/337/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;p&gt;Separate adding HBase and dependencies from adding other job dependencies, and&lt;br/&gt;
expose it as a separate method that other projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2055&quot; title=&quot;Hive should add HBase classpath dependencies when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2055&quot;&gt;&lt;del&gt;HIVE-2055&lt;/del&gt;&lt;/a&gt;). (ndimiduk: rev 1542414)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824608" author="hudson" created="Sat, 16 Nov 2013 19:57:08 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #120 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/120/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/120/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;mapreduce&amp;#93;&lt;/span&gt; Modularize building dependency jars&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Separate adding HBase and dependencies from adding other job&lt;br/&gt;
   dependencies, and expose it as a separate method that other&lt;br/&gt;
   projects can use (for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;del&gt;PIG-3285&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Explicitly add hbase-server to the list of dependencies we ship&lt;br/&gt;
   with the job, for users who extend the classes we provide (see&lt;br/&gt;
   &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9112&quot; title=&quot;Custom TableInputFormat in initTableMapperJob throws ClassNoFoundException on TableMapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9112&quot;&gt;&lt;del&gt;HBASE-9112&lt;/del&gt;&lt;/a&gt;).&lt;/li&gt;
	&lt;li&gt;Add integration test for addDependencyJars.&lt;/li&gt;
	&lt;li&gt;Code reuse for TestTableMapReduce.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note this patch differs from the one applied to TRUNK/0.98 in that it omits&lt;br/&gt;
changes to TestTableMapReduceUtil which have not yet been backported from&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8534&quot; title=&quot;Fix coverage for org.apache.hadoop.hbase.mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8534&quot;&gt;&lt;del&gt;HBASE-8534&lt;/del&gt;&lt;/a&gt;. This can be addressed when that patch is backported (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9484&quot; title=&quot;Backport 8534 &amp;quot;Fix coverage for org.apache.hadoop.hbase.mapreduce&amp;quot; to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9484&quot;&gt;&lt;del&gt;HBASE-9484&lt;/del&gt;&lt;/a&gt;). (ndimiduk: rev 1542342)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-it/src/test/java/org/apache/hadoop/hbase/mapreduce/IntegrationTestTableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/IdentityTableMapper.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/mapred/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduceBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824649" author="lhofhansl" created="Sat, 16 Nov 2013 22:02:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:92)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.junit.Assert.assertTrue(Assert.java:54)
	at org.apache.hadoop.hbase.mapreduce.TestTableMapReduce.testAddDependencyJars(TestTableMapReduce.java:272)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can you take a look &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13824727" author="lhofhansl" created="Sun, 17 Nov 2013 04:08:01 +0000"  >&lt;p&gt;The reason is probably this from the logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-11-16 17:57:00,896 DEBUG [pool-1-thread-1] mapreduce.TableMapReduceUtil(665): For class org.apache.hadoop.hbase.util.Bytes, using jar /x1/jenkins/jenkins-slave/workspace/HBase-0.94/trunk/target/test-dir/hadoop-1223249546787952422.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This does not happen on my local box.&lt;/p&gt;</comment>
                            <comment id="13824728" author="lhofhansl" created="Sun, 17 Nov 2013 04:11:02 +0000"  >&lt;p&gt;This only passes on my local box, because the directory I have my build in is called hbase-0.94 (on jenkins it is HBase-0.94). So even on my box it only passes by pure accident.&lt;/p&gt;</comment>
                            <comment id="13824729" author="lhofhansl" created="Sun, 17 Nov 2013 04:14:44 +0000"  >&lt;p&gt;Fixed in 0.94 for now, but removing the newly added test for &quot;hbase&quot; in the dependency jars.&lt;/p&gt;</comment>
                            <comment id="13824730" author="lhofhansl" created="Sun, 17 Nov 2013 04:17:28 +0000"  >&lt;p&gt;0.96 and trunk do not have this change TestTableMapreduce. Should be good now.&lt;/p&gt;</comment>
                            <comment id="13824775" author="hudson" created="Sun, 17 Nov 2013 08:05:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #338 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/338/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/338/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; Addendum, fix TestTableMapreduce (larsh: rev 1542642)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824780" author="hudson" created="Sun, 17 Nov 2013 09:01:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1204 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1204/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9165&quot; title=&quot;Improvements to addDependencyJars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9165&quot;&gt;&lt;del&gt;HBASE-9165&lt;/del&gt;&lt;/a&gt; Addendum, fix TestTableMapreduce (larsh: rev 1542642)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestTableMapReduce.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13824952" author="ndimiduk" created="Sun, 17 Nov 2013 20:57:05 +0000"  >&lt;p&gt;This test is on 0.96 and trunk, but as an integration test. Sorry for the mistake.&lt;/p&gt;</comment>
                            <comment id="13824959" author="lhofhansl" created="Sun, 17 Nov 2013 21:17:35 +0000"  >&lt;p&gt;NP &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Are you OK with my &quot;fix&quot;? Just removed the test for HBase in tmpjars.&lt;/p&gt;</comment>
                            <comment id="13824962" author="ndimiduk" created="Sun, 17 Nov 2013 21:25:43 +0000"  >&lt;p&gt;Yeah, it&apos;s fine. Wish there was a way to include the check, but without an integration test I don&apos;t think we can.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12661176">HBASE-9112</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12667721">HBASE-9484</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12613943" name="0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch" size="40800" author="ndimiduk" created="Thu, 14 Nov 2013 21:51:00 +0000"/>
                            <attachment id="12613499" name="0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch" size="40551" author="ndimiduk" created="Wed, 13 Nov 2013 01:57:35 +0000"/>
                            <attachment id="12596999" name="0001-HBASE-9165-mapreduce-Modularize-building-dependency-.patch" size="42508" author="ndimiduk" created="Fri, 9 Aug 2013 00:36:38 +0000"/>
                            <attachment id="12613968" name="HBASE-9165-0.94.00.patch" size="6140" author="ndimiduk" created="Thu, 14 Nov 2013 23:27:22 +0000"/>
                            <attachment id="12614123" name="HBASE-9165-0.94.01.patch" size="6186" author="ndimiduk" created="Fri, 15 Nov 2013 20:49:56 +0000"/>
                            <attachment id="12614091" name="HBASE-9165-0.96.00.patch" size="36931" author="ndimiduk" created="Fri, 15 Nov 2013 17:46:16 +0000"/>
                            <attachment id="12613983" name="HBASE-9165.02.patch" size="40800" author="ndimiduk" created="Fri, 15 Nov 2013 00:37:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Aug 2013 04:36:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n3vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Introduces the method TableMapReduceUtil#addHBaseDependencyJars for adding HBase and its direct dependencies (only) to the job configuration.&lt;br/&gt;
&lt;br/&gt;
This is intended as a low-level API, facilitating code reuse between this class and its mapred counterpart. It is also of use to external tools that need to build a MapReduce job that interacts with HBase but want fine-grained control over the jars shipped to the cluster. See also &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3285&quot; title=&quot;Jobs using HBaseStorage fail to ship dependency jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3285&quot;&gt;&lt;strike&gt;PIG-3285&lt;/strike&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2055&quot; title=&quot;Hive should add HBase classpath dependencies when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2055&quot;&gt;&lt;strike&gt;HIVE-2055&lt;/strike&gt;&lt;/a&gt;.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>