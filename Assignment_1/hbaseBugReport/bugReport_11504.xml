<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:23:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11504/HBASE-11504.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11504] Don&apos;t flush the socket buffer for each response</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11504</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;today we flush the socket buffer after each response.&lt;/p&gt;

&lt;p&gt;The server maintains a queue of the calls to write. If this queue is not empty, we should not flush. We should do that only when the queue is empty. This will save some packets when nagle is disabled and we have a list of small responses to send (for example responses to puts, or small gets). This is linked to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11492&quot; title=&quot;Hadoop configuration overrides some ipc parameters including tcpNoDelay&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11492&quot;&gt;&lt;del&gt;HBASE-11492&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The client has a queue as well, so we could do the same thing there.&lt;/p&gt;

&lt;p&gt;There could be some drawbacks (if the server is overloaded between multiple channel for example writing the next response may take time), but it seems a good thing to do. For example, if the server if overloaded saving on buffer flush seems to be a nice thing to do.&lt;/p&gt;

&lt;p&gt;Any opinion?&lt;br/&gt;
It&apos;s something I plan to do if I don&apos;t find a major drawback.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12726771">HBASE-11504</key>
            <summary>Don&apos;t flush the socket buffer for each response</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jul 2014 10:35:12 +0000</created>
                <updated>Mon, 4 Aug 2014 09:12:05 +0000</updated>
                            <resolved>Mon, 4 Aug 2014 09:11:55 +0000</resolved>
                                    <version>0.99.0</version>
                                                    <component>Client</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14059514" author="apurtell" created="Fri, 11 Jul 2014 23:47:24 +0000"  >&lt;p&gt;This sounds reasonable. Also something that could be checked for perf regressions with YCSB&lt;/p&gt;</comment>
                            <comment id="14081750" author="apurtell" created="Fri, 1 Aug 2014 00:41:42 +0000"  >&lt;p&gt;No patch yet, moving to 0.98.6&lt;/p&gt;</comment>
                            <comment id="14084456" author="nkeywal" created="Mon, 4 Aug 2014 09:11:43 +0000"  >&lt;p&gt;Actually:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;server side, as we use nio, there is no flush. The writes go directly to the socket buffer. We may send too much packet because of this, but it&apos;s not sure, and it&apos;s another question&lt;/li&gt;
	&lt;li&gt;client side it would make sense, ats we&apos;re still on oio, but it leads so some race conditions if the delay the flush while we cancel a message. It&apos;s not that difficult to solve, but it adds some extra complexity on something complex enough already.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;=&amp;gt; Solving as won&apos;t fix for now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Jul 2014 23:47:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xohb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>