<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5853/HBASE-5853.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5853] java.lang.RuntimeException: readObject can&apos;t find class org.apache.hadoop.hdfs.protocol.HdfsFileStatus</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5853</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;2012-04-23 12:51:07,474 WARN org.apache.hadoop.ipc.Client: Unexpected error reading responses on connection Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Client (1260987126) connection to server121/172.16.40.121:9000 from smp,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.RuntimeException: readObject can&apos;t find class org.apache.hadoop.hdfs.protocol.HdfsFileStatus&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.loadClass(ObjectWritable.java:372)&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.readObject(ObjectWritable.java:223)&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.readFields(ObjectWritable.java:75)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:832)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:756)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.hdfs.protocol.HdfsFileStatus not found&lt;br/&gt;
	at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1151)&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.loadClass(ObjectWritable.java:368)&lt;br/&gt;
	... 4 more&lt;br/&gt;
2012-04-23 12:51:07,797 FATAL org.apache.hadoop.hbase.regionserver.HRegionServer: ABORTING region server server124,60020,1335152900476: Replay of HLog required. Forcing server shutdown&lt;br/&gt;
org.apache.hadoop.hbase.DroppedSnapshotException: region: hbase_cdr,e0072b2b-5e19-431f-bb69-a6427765eac4,1334902272934.8365a7cbf90dd558f297d70224113c8a.&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1278)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1162)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.flushcache(HRegion.java:1104)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:400)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushOneForGlobalPressure(MemStoreFlusher.java:202)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.run(MemStoreFlusher.java:223)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.io.IOException: Failed on local exception: java.io.IOException: Error reading responses; Host Details : local host is: &quot;server124/172.16.40.124&quot;; destination host is: &quot;&quot;server121&quot;:9000; &lt;br/&gt;
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:724)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client.call(Client.java:1094)&lt;br/&gt;
	at org.apache.hadoop.ipc.WritableRpcEngine$Invoker.invoke(WritableRpcEngine.java:193)&lt;br/&gt;
	at $Proxy10.getFileInfo(Unknown Source)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:100)&lt;br/&gt;
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:65)&lt;br/&gt;
	at $Proxy10.getFileInfo(Unknown Source)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DFSClient.getFileInfo(DFSClient.java:1172)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:725)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.StoreFile.computeHDFSBlockDistribution(StoreFile.java:449)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.StoreFile.open(StoreFile.java:473)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.StoreFile.createReader(StoreFile.java:548)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.Store.internalFlushCache(Store.java:595)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.Store.flushCache(Store.java:506)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.Store.access$100(Store.java:89)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.Store$StoreFlusherImpl.flushCache(Store.java:1905)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1254)&lt;br/&gt;
	... 6 more&lt;br/&gt;
Caused by: java.io.IOException: Error reading responses&lt;br/&gt;
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:763)&lt;br/&gt;
Caused by: java.lang.RuntimeException: readObject can&apos;t find class org.apache.hadoop.hdfs.protocol.HdfsFileStatus&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.loadClass(ObjectWritable.java:372)&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.readObject(ObjectWritable.java:223)&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.readFields(ObjectWritable.java:75)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:832)&lt;br/&gt;
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:756)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: Class org.apache.hadoop.hdfs.protocol.HdfsFileStatus not found&lt;br/&gt;
	at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:1151)&lt;br/&gt;
	at org.apache.hadoop.io.ObjectWritable.loadClass(ObjectWritable.java:368)&lt;br/&gt;
	... 4 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;hadoop-0.23.1 hbase-0.92.1 &lt;/p&gt;</environment>
        <key id="12552099">HBASE-5853</key>
            <summary>java.lang.RuntimeException: readObject can&apos;t find class org.apache.hadoop.hdfs.protocol.HdfsFileStatus</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zhangjf1@gmail.com">jiafeng.zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Apr 2012 08:32:59 +0000</created>
                <updated>Fri, 12 Oct 2012 05:36:25 +0000</updated>
                            <resolved>Thu, 17 May 2012 16:55:13 +0000</resolved>
                                    <version>0.92.1</version>
                                    <fixVersion>0.92.1</fixVersion>
                    <fixVersion>0.94.1</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13260220" author="lhofhansl" created="Tue, 24 Apr 2012 04:56:58 +0000"  >&lt;p&gt;Did you recompile your version of 0.92.1 against Hadoop 0.23?&lt;/p&gt;</comment>
                            <comment id="13260283" author="zhangjf1@gmail.com" created="Tue, 24 Apr 2012 06:31:37 +0000"  >&lt;p&gt;Recompiled &lt;br/&gt;
mvn clean site install assembly:single -Dmaven.test.skip &#8211;Prelease  -Dhadoop.profile=23&lt;/p&gt;</comment>
                            <comment id="13260594" author="jmhsieh" created="Tue, 24 Apr 2012 14:15:33 +0000"  >&lt;p&gt;Are you running this (your client) as processes or as part of unit tests?  &lt;/p&gt;

&lt;p&gt;When you run &apos;hbase classpath&apos; is hadoop-hdfs-&amp;#42;.jar part of your path or hadoop-core-&amp;#42;.jar part of your path?&lt;/p&gt;</comment>
                            <comment id="13261181" author="lhofhansl" created="Wed, 25 Apr 2012 00:39:17 +0000"  >&lt;p&gt;I agree that looks like a setup problem, rather than an HBase problem.&lt;/p&gt;</comment>
                            <comment id="13261310" author="lhofhansl" created="Wed, 25 Apr 2012 05:30:06 +0000"  >&lt;p&gt;Had anybody else seen this?&lt;br/&gt;
Seem any HBase flushCache on top of Hadoop 0.23 should cause this.&lt;/p&gt;</comment>
                            <comment id="13261758" author="lhofhansl" created="Wed, 25 Apr 2012 16:06:18 +0000"  >&lt;p&gt;@jiafeng: Can you tell us what exactly you did when this happened?&lt;/p&gt;</comment>
                            <comment id="13261915" author="lhofhansl" created="Wed, 25 Apr 2012 18:36:54 +0000"  >&lt;p&gt;Moving this out until somebody confirms that it is serious problem.&lt;/p&gt;</comment>
                            <comment id="13264179" author="zhangjf1@gmail.com" created="Sat, 28 Apr 2012 01:07:54 +0000"  >&lt;p&gt;@Lars Hofhansl &#65306; import the data into hbase&lt;/p&gt;</comment>
                            <comment id="13264180" author="zhangjf1@gmail.com" created="Sat, 28 Apr 2012 01:09:36 +0000"  >&lt;p&gt;During operation exception&lt;/p&gt;</comment>
                            <comment id="13277967" author="lhofhansl" created="Thu, 17 May 2012 16:55:13 +0000"  >&lt;p&gt;I verified that org.apache.hadoop.hdfs.protocol.HdfsFileStatus still exists in Hadoop trunk.&lt;br/&gt;
So I am pretty sure this is a setup issue.&lt;br/&gt;
Please re-open if this is not correct (in which case I apologize in advance).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Apr 2012 04:56:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i068qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>