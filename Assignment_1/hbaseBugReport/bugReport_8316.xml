<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:54:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8316/HBASE-8316.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8316] JoinedHeap for non essential column families should reseek instead of seek</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8316</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This was raised by the Phoenix team. During a profiling session we noticed that catching the joinedHeap up to the current rows via seek causes a performance regression, which makes the joinedHeap only efficient when either a high or low percentage is matched by the filter.&lt;br/&gt;
(High is fine, because the joinedHeap will not get behind as often and does not need to be caught up, low is fine, because the seek isn&apos;t happening frequently).&lt;/p&gt;

&lt;p&gt;In our tests we found that the solution is quite simple: Replace seek with reseek. Patch coming soon.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641769">HBASE-8316</key>
            <summary>JoinedHeap for non essential column families should reseek instead of seek</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12542919">HBASE-5416</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Apr 2013 04:42:02 +0000</created>
                <updated>Sat, 27 Apr 2013 15:55:16 +0000</updated>
                            <resolved>Wed, 10 Apr 2013 22:16:59 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.7</fixVersion>
                    <fixVersion>0.95.1</fixVersion>
                                    <component>Filters</component>
                    <component>Performance</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13627480" author="lhofhansl" created="Wed, 10 Apr 2013 05:10:00 +0000"  >&lt;p&gt;I ran TestJoinedScanners that Ted attached to parent in 0.94. In every case was reseek equivalent or faster than a seek.&lt;br/&gt;
The reseek case will be better if the joinedHeap gets behind but the current heap row is still in the same block. TestJoinedScanners tests with quite large (128k) values, so it is very unlikely that current heap row is in the same block as the joinedHeap row, so there&apos;s hardly any improvement. The key is that there was no slow down either.&lt;br/&gt;
In the Phoenix case we smaller column families so it is more likely that the next row of the heap is still in the same block, hence we see a dramatic improvement.&lt;/p&gt;

&lt;p&gt;The Phoenix will probably have concrete numbers tomorrow.&lt;/p&gt;</comment>
                            <comment id="13627482" author="lhofhansl" created="Wed, 10 Apr 2013 05:10:42 +0000"  >&lt;p&gt;Here&apos;s the trivial patch.&lt;/p&gt;</comment>
                            <comment id="13627486" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 05:15:37 +0000"  >&lt;p&gt;How about this one ?&lt;/p&gt;

&lt;p&gt;It aligns with RegionScannerImpl#reseek()&lt;/p&gt;</comment>
                            <comment id="13627487" author="lhofhansl" created="Wed, 10 Apr 2013 05:16:26 +0000"  >&lt;p&gt;Trunk patch.&lt;br/&gt;
I can&apos;t see how this can break anything (if we do we have bigger problem, as that means that the joinedHeap got ahead of the regular heap, which would be a disaster), but let&apos;s have a HadoopQA run.&lt;/p&gt;</comment>
                            <comment id="13627488" author="lhofhansl" created="Wed, 10 Apr 2013 05:18:21 +0000"  >&lt;p&gt;But in this case we already have a KeyValueHelp, which has reseek. The initial seek could have also been expressed by requestSeek. I prefer reseek, as it is easier to see what happens.&lt;/p&gt;</comment>
                            <comment id="13627491" author="lhofhansl" created="Wed, 10 Apr 2013 05:20:50 +0000"  >&lt;p&gt;Also I think we do not want to use bloom filters, as we are positioning a scanner (reseek makes that clear, and also does not use bloom filters).&lt;/p&gt;</comment>
                            <comment id="13627494" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 05:24:12 +0000"  >&lt;p&gt;Here is the javadoc for requestSeek():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   * Similar to {@link #seek} (or {@link #reseek} &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; forward is &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) but only
   * does a seek operation after checking that it is really necessary &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the
   * row/column combination specified by the kv parameter. This function was
   * added to avoid unnecessary disk seeks by checking row-column Bloom filters
   * before a seek on multi-column get/scan queries, and to optimize by looking
   * up more recent files first.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like requestSeek() should perform better.&lt;/p&gt;</comment>
                            <comment id="13627504" author="lhofhansl" created="Wed, 10 Apr 2013 05:36:23 +0000"  >&lt;p&gt;Hmm... OK. Looked at the code. I buy that. Let&apos;s do that instead.&lt;/p&gt;</comment>
                            <comment id="13627507" author="lhofhansl" created="Wed, 10 Apr 2013 05:37:07 +0000"  >&lt;p&gt;Even the bloom filter is fine, it&apos;ll help with file selection, it seems.&lt;/p&gt;</comment>
                            <comment id="13627510" author="lhofhansl" created="Wed, 10 Apr 2013 05:39:34 +0000"  >&lt;p&gt;precommit picked up my change &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13627511" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 05:41:11 +0000"  >&lt;p&gt;That&apos;s Okay.&lt;/p&gt;

&lt;p&gt;Attaching my patch, again.&lt;/p&gt;</comment>
                            <comment id="13627528" author="hadoopqa" created="Wed, 10 Apr 2013 06:28:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12577958/8316-0.96.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12577958/8316-0.96.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5239//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13627539" author="lhofhansl" created="Wed, 10 Apr 2013 06:42:43 +0000"  >&lt;p&gt;Looking good. Will await the perf numbers from Phoenix (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=giacomotaylor&quot; class=&quot;user-hover&quot; rel=&quot;giacomotaylor&quot;&gt;James Taylor&lt;/a&gt;), and then commit if all looks right.&lt;br/&gt;
(Don&apos;t think the tests have to be redone with requestSeek specifically, as it will only be better than reseek)&lt;/p&gt;</comment>
                            <comment id="13627547" author="hadoopqa" created="Wed, 10 Apr 2013 06:56:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12577962/8316-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12577962/8316-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5240//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13627622" author="anoop.hbase" created="Wed, 10 Apr 2013 09:04:24 +0000"  >&lt;p&gt;Ya. requestSeek() in this case will help with HFile&apos;s max timestamp based lazy seeks. There won&apos;t be any bloom usage here in this case.&lt;br/&gt;
+1 &lt;/p&gt;</comment>
                            <comment id="13627974" author="lhofhansl" created="Wed, 10 Apr 2013 16:53:40 +0000"  >&lt;p&gt;Seems like this should be assigned to me.&lt;/p&gt;</comment>
                            <comment id="13627980" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 16:55:20 +0000"  >&lt;p&gt;I am fine either way.&lt;/p&gt;</comment>
                            <comment id="13628278" author="lhofhansl" created="Wed, 10 Apr 2013 21:29:15 +0000"  >&lt;p&gt;Benchmark results (replacing seek with reseek, not requestSeek, but that will only make it better).&lt;br/&gt;
The dotted line were the result before the change.&lt;/p&gt;</comment>
                            <comment id="13628283" author="hadoopqa" created="Wed, 10 Apr 2013 21:33:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12578084/noencode.png&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12578084/noencode.png&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5251//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5251//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13628289" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 21:38:06 +0000"  >&lt;p&gt;Nice charts.&lt;/p&gt;

&lt;p&gt;Serial means normal scan while parallel means issuing scan requests against multiple regions, I guess.&lt;/p&gt;</comment>
                            <comment id="13628300" author="lhofhansl" created="Wed, 10 Apr 2013 21:42:24 +0000"  >&lt;p&gt;Yeah sorry. Should have explained more. Serial is single threaded, parallel means use Phoenix&apos; logic to parallelize a query across Regions.&lt;br/&gt;
The main take-away from the graph is that with this change there is no scenario where enabling Essential CFs causes a slowdown.&lt;/p&gt;

&lt;p&gt;Going to commit (with Ted&apos;s enhancements) in a few, unless I hear objections.&lt;/p&gt;</comment>
                            <comment id="13628355" author="lhofhansl" created="Wed, 10 Apr 2013 22:16:59 +0000"  >&lt;p&gt;Committed to 0.94, 0.95, and 0.98.&lt;br/&gt;
Thanks for looking and improving, Ted!&lt;/p&gt;</comment>
                            <comment id="13628414" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 23:13:53 +0000"  >&lt;p&gt;@Lars:&lt;br/&gt;
Can you illustrate the ratio between the sizes of the narrow and wide column families ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13628429" author="hudson" created="Wed, 10 Apr 2013 23:25:56 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #954 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/954/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/954/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8316&quot; title=&quot;JoinedHeap for non essential column families should reseek instead of seek&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8316&quot;&gt;&lt;del&gt;HBASE-8316&lt;/del&gt;&lt;/a&gt; JoinedHeap for non essential column families should reseek instead of seek (Revision 1466708)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13628441" author="lhofhansl" created="Wed, 10 Apr 2013 23:36:50 +0000"  >&lt;p&gt;In TestJoinedScanner I tried with 1k and 128k large CFs.&lt;/p&gt;

&lt;p&gt;For the Phoenix test:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The small CF has one column of 8 bytes&lt;/li&gt;
	&lt;li&gt;the large CF has three columns (200 bytes, 200 bytes, 8 bytes - 408 bytes in total)&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13628497" author="hudson" created="Thu, 11 Apr 2013 00:32:19 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #139 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/139/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/139/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8316&quot; title=&quot;JoinedHeap for non essential column families should reseek instead of seek&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8316&quot;&gt;&lt;del&gt;HBASE-8316&lt;/del&gt;&lt;/a&gt; JoinedHeap for non essential column families should reseek instead of seek (Revision 1466712)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13628561" author="hudson" created="Thu, 11 Apr 2013 01:46:19 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #4051 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4051/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4051/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8316&quot; title=&quot;JoinedHeap for non essential column families should reseek instead of seek&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8316&quot;&gt;&lt;del&gt;HBASE-8316&lt;/del&gt;&lt;/a&gt; JoinedHeap for non essential column families should reseek instead of seek (Revision 1466711)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13628571" author="hudson" created="Thu, 11 Apr 2013 01:51:57 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #492 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/492/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/492/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8316&quot; title=&quot;JoinedHeap for non essential column families should reseek instead of seek&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8316&quot;&gt;&lt;del&gt;HBASE-8316&lt;/del&gt;&lt;/a&gt; JoinedHeap for non essential column families should reseek instead of seek (Revision 1466711)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13628690" author="hudson" created="Thu, 11 Apr 2013 05:44:29 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #65 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/65/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/65/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8316&quot; title=&quot;JoinedHeap for non essential column families should reseek instead of seek&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8316&quot;&gt;&lt;del&gt;HBASE-8316&lt;/del&gt;&lt;/a&gt; JoinedHeap for non essential column families should reseek instead of seek (Revision 1466712)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13629771" author="hudson" created="Fri, 12 Apr 2013 04:15:22 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #134 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/134/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/134/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8316&quot; title=&quot;JoinedHeap for non essential column families should reseek instead of seek&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8316&quot;&gt;&lt;del&gt;HBASE-8316&lt;/del&gt;&lt;/a&gt; JoinedHeap for non essential column families should reseek instead of seek (Revision 1466708)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12577956" name="8316-0.94.txt" size="905" author="lhofhansl" created="Wed, 10 Apr 2013 05:10:42 +0000"/>
                            <attachment id="12577962" name="8316-trunk.txt" size="1217" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 05:41:11 +0000"/>
                            <attachment id="12577957" name="8316-trunk.txt" size="1217" author="yuzhihong@gmail.com" created="Wed, 10 Apr 2013 05:15:37 +0000"/>
                            <attachment id="12578083" name="FDencode.png" size="92300" author="lhofhansl" created="Wed, 10 Apr 2013 21:29:15 +0000"/>
                            <attachment id="12578084" name="noencode.png" size="92328" author="lhofhansl" created="Wed, 10 Apr 2013 21:29:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Apr 2013 05:15:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jl73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>