<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:45:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7462/HBASE-7462.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7462] TestDrainingServer is an integration test. It should be a unit test instead</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7462</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestDrainingServer tests the function that allows to say that a regionserver should not get new regions.&lt;/p&gt;

&lt;p&gt;As it is written today, it&apos;s an integration test: it starts &amp;amp; stops a cluster.&lt;/p&gt;

&lt;p&gt;The test would be more efficient if it would just check that the AssignmentManager does not use the drained region server; whatever the circumstances (bulk assign or not for example).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625528">HBASE-7462</key>
            <summary>TestDrainingServer is an integration test. It should be a unit test instead</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gustavoanatoly">Gustavo Anatoly</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Sun, 30 Dec 2012 15:38:48 +0000</created>
                <updated>Fri, 20 Nov 2015 11:54:12 +0000</updated>
                            <resolved>Fri, 20 Sep 2013 13:23:47 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13564294" author="gustavoanatoly" created="Mon, 28 Jan 2013 14:10:35 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;Could you please, check if the test is correct?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/4655579&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/4655579&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13564297" author="nkeywal" created="Mon, 28 Jan 2013 14:17:20 +0000"  >&lt;p&gt;The idea of the JIRA is to not create a cluster; but mocking it: this saves the burden of starting / stopping a server. So you can&apos;t use stuff like HMaster master = TEST_UTIL.getHBaseCluster().getMaster();&lt;/p&gt;</comment>
                            <comment id="13564316" author="gustavoanatoly" created="Mon, 28 Jan 2013 14:57:03 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;Ok understood. I should use MockServer class? To do this? &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; Server server = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MockServer(hut); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was thinking in this steps:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Start mocking server;&lt;/li&gt;
	&lt;li&gt;Save Region Servers on start;&lt;/li&gt;
	&lt;li&gt;Add RS to drained server list;&lt;/li&gt;
	&lt;li&gt;Save Region Servers on stop;&lt;/li&gt;
	&lt;li&gt;Test if AssignmentManager it&apos;s using some drained server;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13565030" author="gustavoanatoly" created="Tue, 29 Jan 2013 03:12:09 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;I was searching on test source, and I found this way to mocking server:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; MasterServices ms = Mockito.mock(MasterService.class); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was thinking to use MasterServices, because it has the methods to get instance of AssignmentManager and ServerManager, that is everything what the tests need. That is correct?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13565178" author="nkeywal" created="Tue, 29 Jan 2013 08:12:14 +0000"  >&lt;p&gt;Hi Gustavo,&lt;/p&gt;

&lt;p&gt;Yes. IIRC, TestAssignment is a good example. Then, the issue is tagged &quot;noob&quot;, but it&apos;s not that easy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13565287" author="gustavoanatoly" created="Tue, 29 Jan 2013 11:33:37 +0000"  >&lt;p&gt;Hi Nicolas,&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Great, I was studying the TestAssignmentManager, to try rewrite the test. About the issue tag, I&apos;m noob here, but was feeling worse than the noob &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, for don&apos;t understand completely this issue. &lt;br/&gt;
I have to study more the HBase source.&lt;/p&gt;

&lt;p&gt;Thanks for help me. &lt;/p&gt;</comment>
                            <comment id="13573007" author="gustavoanatoly" created="Wed, 6 Feb 2013 23:48:24 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;I tried mock a cluster, but my knowledge is limited yet I had some exceptions, so studying the TestAssigmentManager class I found this code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  @BeforeClass
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void beforeClass() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    HTU.startMiniZKCluster();
  }

  @AfterClass
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void afterClass() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    HTU.shutdownMiniZKCluster();
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can I use this stuff? Or I should mock ZooKeeper?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13573321" author="nkeywal" created="Thu, 7 Feb 2013 09:01:12 +0000"  >&lt;p&gt;It&apos;s likely better not to mock zookeeper. The best solution would be not to&lt;br/&gt;
to depend on ZK at all, if it&apos;s possible.&lt;/p&gt;


</comment>
                            <comment id="13573404" author="gustavoanatoly" created="Thu, 7 Feb 2013 11:38:16 +0000"  >&lt;p&gt;Ok Nicolas,I will follow your suggestion. But the reasons do not use all ZK mocked, it&apos;s  because test focus is the AssignmentManager, call only especific pieces of codes of ZK? Therefore only mock ZK needed by AssignmentManager. Is correct?&lt;/p&gt;

&lt;p&gt;Thanks for help.&lt;/p&gt;</comment>
                            <comment id="13575694" author="nkeywal" created="Mon, 11 Feb 2013 09:21:51 +0000"  >&lt;p&gt;We should not mock up the ZK itself, just the calls to ZK for this scenario. Ideally again, as it easier said than done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13581902" author="gustavoanatoly" created="Wed, 20 Feb 2013 02:50:01 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;The task didn&apos;t finished yet, because I&apos;m trying fix interrupted exception when call AssignmentManager#assign(Map&amp;lt;HRegionInfo, ServerName&amp;gt;) and the other point is my delay to submit a patch, caused by learning curve to understand AM and ZK interaction.&lt;/p&gt;</comment>
                            <comment id="13590921" author="gustavoanatoly" created="Fri, 1 Mar 2013 20:43:41 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;Could you help me with a doubt? Why AM#RegionStates#regionOnline doesn&apos;t verify destination server list on serverManager? My question is because, after put SERVERNAME_A on drained server list and call AM#RegionStates#regionOnLine(SERVERNAME_A, REGION_INFO), this region become onlined.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13590954" author="stack" created="Fri, 1 Mar 2013 21:27:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gustavoanatoly&quot; class=&quot;user-hover&quot; rel=&quot;gustavoanatoly&quot;&gt;Gustavo Anatoly&lt;/a&gt; When you say this, &quot;Could you help me with a doubt? Why AM#RegionStates#regionOnline doesn&apos;t verify destination server list on serverManager?&quot;, what are you thinking regionOnline should be doing?  I am not clear.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13591197" author="gustavoanatoly" created="Sat, 2 Mar 2013 01:43:03 +0000"  >&lt;p&gt;Hi, Stack.&lt;/p&gt;

&lt;p&gt;Let me try explain better, when serverManager.addServerToDrainList(SERVERNAME_A) is called this server cannot be used to compose a region plan, my doubt is: When called AM#RegionStates#regionOnline(SERVERNAME_A, REGION_INFO), I was thinking that SERVERNAME_A should not be allowed, in this process to put this region online. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
serverManager.addServerToDrainList(SERVERNAME_A);
am.assign(REGION_INFO, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
am.getRegionStates().regionOnline(REGION_INFO);
am.getRegionStates().isRegionAssigned(REGION_INFO); &lt;span class=&quot;code-comment&quot;&gt;// Should be &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; here?&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sorry, if my previous question did not have sense, I have a lot to learn, and correct me if I wrong.&lt;/p&gt;

&lt;p&gt;Thanks, for help.&lt;/p&gt;

</comment>
                            <comment id="13591201" author="gustavoanatoly" created="Sat, 2 Mar 2013 01:48:41 +0000"  >&lt;p&gt;Please, consider &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;am.getRegionStates().regionOnline(REGION_INFO);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; as     &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;am.getRegionStates().regionOnline(REGION_INFO, SERVERNAME_A)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13618555" author="gustavoanatoly" created="Mon, 1 Apr 2013 01:56:01 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;After a long time... I was able to get back. Could you please verify this unit test: &lt;a href=&quot;https://gist.github.com/gustavoanatoly/5282776&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/gustavoanatoly/5282776&lt;/a&gt; this approach it works, but mocking I&apos;m facing some problems to finalize: &lt;a href=&quot;https://gist.github.com/gustavoanatoly/5282781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/gustavoanatoly/5282781&lt;/a&gt; if you have a tip with this mocking test, I would be greatful.&lt;/p&gt;</comment>
                            <comment id="13619603" author="nkeywal" created="Tue, 2 Apr 2013 07:44:57 +0000"  >&lt;p&gt;It&apos;s difficult to help without knowing the problem/error, the github comment just says &quot;This test doesn&apos;t work yet&quot;.&lt;/p&gt;</comment>
                            <comment id="13619985" author="gustavoanatoly" created="Tue, 2 Apr 2013 16:48:45 +0000"  >&lt;p&gt;Sorry... :/&lt;/p&gt;

&lt;p&gt;The gist has been updated with the stack trace:&lt;a href=&quot;https://gist.github.com/gustavoanatoly/5282781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/gustavoanatoly/5282781&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And first method without mocked class (&lt;a href=&quot;https://gist.github.com/gustavoanatoly/5282776&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/gustavoanatoly/5282776&lt;/a&gt;) it&apos;s ok?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13620718" author="nkeywal" created="Wed, 3 Apr 2013 08:21:29 +0000"  >&lt;p&gt;The stask seems to say that ZK is not started?&lt;/p&gt;

&lt;p&gt;I would expect this to be an error, as it&apos;s likely to need a starter mini cluster to work&lt;br/&gt;
HMaster hMaster = TEST_UTIL.getMiniHBaseCluster().getMaster();&lt;br/&gt;
Collection&amp;lt;ServerName&amp;gt; servers = TEST_UTIL.getMiniHBaseCluster().getInitialClusterStatus().getServers();&lt;br/&gt;
Long sizeServedRegions = TEST_UTIL.getMiniHBaseCluster().countServedRegions();&lt;/p&gt;
</comment>
                            <comment id="13621667" author="gustavoanatoly" created="Thu, 4 Apr 2013 02:24:38 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;I was thinking on the same way to use this, but I thought this stuff cannot be used, I did try mocking all HMaster and ZK, but the ZK constructor is inside HMaster, becoming hard to mocking and throwing connection loss.&lt;/p&gt;

&lt;p&gt;Ok, I will continue implementing adding this fragment of code to the test.&lt;/p&gt;

&lt;p&gt;Grateful for your pacience.&lt;/p&gt;</comment>
                            <comment id="13621893" author="nkeywal" created="Thu, 4 Apr 2013 07:36:42 +0000"  >&lt;p&gt;Yep, in many cases we do a mock for the master &amp;amp; the regionservers, but not for ZooKeeper. As ZooKeeper starts/stops quickly it&apos;s not a big issue.&lt;/p&gt;</comment>
                            <comment id="13672484" author="gustavoanatoly" created="Sun, 2 Jun 2013 12:18:16 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;After long time, I have some code. Could you please review the test?&lt;br/&gt;
&lt;a href=&quot;http://goo.gl/1WVj3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://goo.gl/1WVj3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thankful.&lt;/p&gt;</comment>
                            <comment id="13682067" author="hadoopqa" created="Thu, 13 Jun 2013 09:40:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12587514/HBASE-7462-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12587514/HBASE-7462-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6025//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6025//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13683658" author="gustavoanatoly" created="Fri, 14 Jun 2013 18:51:54 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;Could you please review the patch?&lt;/p&gt;

&lt;p&gt;Thankful.&lt;/p&gt;</comment>
                            <comment id="13684059" author="stack" created="Sat, 15 Jun 2013 04:17:37 +0000"  >&lt;p&gt;This looks good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gustavoanatoly&quot; class=&quot;user-hover&quot; rel=&quot;gustavoanatoly&quot;&gt;Gustavo Anatoly&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Is this ok?&lt;/p&gt;

&lt;p&gt;+    Mockito.when(master.getAssignmentManager()).thenReturn(am);&lt;br/&gt;
+    &lt;br/&gt;
+    am = new AssignmentManager(server, serverManager, catalogTracker,&lt;br/&gt;
+        balancer, startupMasterExecutor(&quot;mockExecutorService&quot;), null, null);&lt;/p&gt;

&lt;p&gt;In other words adding the am to the mock but only in the line after actually creating the AssignmentManager?  Should the order be swapped?&lt;/p&gt;

&lt;p&gt;Do you have to remove the old TestDrainingServer tests?  The ones that spin up a cluster?&lt;/p&gt;</comment>
                            <comment id="13684071" author="nkeywal" created="Sat, 15 Jun 2013 04:44:10 +0000"  >&lt;p&gt;Thanks Stack for the review. Sorry Gustavo for the delay, but your patch is in good hands now.&lt;/p&gt;

&lt;p&gt;I think we should remove the test that depends on the cluster if we have the right coverage: this will make our tests suite better.&lt;/p&gt;</comment>
                            <comment id="13684722" author="gustavoanatoly" created="Sun, 16 Jun 2013 18:22:59 +0000"  >&lt;p&gt;Thanks Stack and Thanks Nicolas, I understand that both are busy, don&apos;t worry about the delay to review. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Stack, I will fix it putting the Mockito declaration after instantiate the AM, but I don&apos;t understand the reason to remove old tests (forgive if my doubts is much primary) and about the cluster I tried mock it, but without success.&lt;/p&gt;

&lt;p&gt;Nicolas, unfortunately the test depends the something on the boot :/ . I will work to run tests without the cluster.&lt;/p&gt;

&lt;p&gt;Thankful for the patience.&lt;/p&gt;</comment>
                            <comment id="13684928" author="nkeywal" created="Mon, 17 Jun 2013 02:42:57 +0000"  >&lt;p&gt;For removing the cluster, it&apos;s the whole point. There are two reasons why it&apos;s better not to have the cluster:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;it makes the tests faster, and as HBase grows the tests takes longer, so anything that lower the test time is great.&lt;/li&gt;
	&lt;li&gt;it makes the tests simpler. For example, when you debug a test with the cluster you have to manage zookeeper timeouts, find your way around 200 threads, etc.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks for spending time on this, if you make it work it will help up.&lt;/p&gt;</comment>
                            <comment id="13685468" author="gustavoanatoly" created="Mon, 17 Jun 2013 11:36:32 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;I understand the reasons, you are right.&lt;/p&gt;

&lt;p&gt;Yesterday after read the commentaries, I tried to use only startMiniZKCluster() instead cluster, but when assigned the region the path (NoNodeException) &quot;/hbase/region-in-trasition/&amp;lt;encoded_region&amp;gt;&quot; not founded error is throwed, with this error I found some example to create a node using RecoverableZooKeeper#create but without success, I&apos;m yet working to fix it. &lt;/p&gt;

&lt;p&gt;This task it&apos;s interesting, cause I&apos;m learning a lot.&lt;/p&gt;</comment>
                            <comment id="13737613" author="gustavoanatoly" created="Tue, 13 Aug 2013 00:25:07 +0000"  >&lt;p&gt;Hi, Nicolas and Stack.&lt;/p&gt;

&lt;p&gt;Firstly sorry for delay, to submit a solution. My proposal is: &lt;a href=&quot;http://goo.gl/CK4dLY&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://goo.gl/CK4dLY&lt;/a&gt; and I could substitute the old tests on TestDrainingServer for the test above?&lt;/p&gt;</comment>
                            <comment id="13738741" author="nkeywal" created="Tue, 13 Aug 2013 19:56:01 +0000"  >&lt;p&gt;I haven&apos;t run it, but it seems ok. Here are some comments:&lt;/p&gt;

&lt;p&gt;import with starts&lt;br/&gt;
=&amp;gt; should be replaced by all imports (simplifie backports)&lt;/p&gt;

&lt;p&gt; public void testAssignmentManagerDoesntUseDrainedServerWithBulkAssign() throws ServiceException,&lt;br/&gt;
InterruptedException, IOException, KeeperException, NoSuchFieldException, IllegalAccessException {&lt;/p&gt;

&lt;p&gt;=&amp;gt; Can be simplified by throwing Exception only&lt;/p&gt;


&lt;p&gt; /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Put region opened on ZooKeeper&lt;br/&gt;
*&lt;/li&gt;
	&lt;li&gt;@param zkWatcher&lt;/li&gt;
	&lt;li&gt;@param serverName&lt;/li&gt;
	&lt;li&gt;@param hregionInfo&lt;/li&gt;
	&lt;li&gt;@throws KeeperException&lt;/li&gt;
	&lt;li&gt;@throws InterruptedException&lt;br/&gt;
*/&lt;br/&gt;
=&amp;gt; you can remove the @params here, as there is no documentation&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As well, line length should be less than 100 chars. I&apos;m not sure it&apos;s always the case.&lt;/p&gt;</comment>
                            <comment id="13743197" author="gustavoanatoly" created="Sun, 18 Aug 2013 13:06:10 +0000"  >&lt;p&gt;Hi, Nicolas.&lt;/p&gt;

&lt;p&gt;Thanks for your comments, I fixed the code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Therefore could you please review the patch?&lt;/p&gt;

&lt;p&gt;Thankful.&lt;/p&gt;</comment>
                            <comment id="13748458" author="hadoopqa" created="Fri, 23 Aug 2013 11:06:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12598658/HBASE-7462-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12598658/HBASE-7462-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.migration.TestNamespaceUpgrade&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6857//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13749705" author="hadoopqa" created="Sun, 25 Aug 2013 17:44:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12598658/HBASE-7462-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12598658/HBASE-7462-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 2 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6885//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13750513" author="nkeywal" created="Mon, 26 Aug 2013 20:35:57 +0000"  >&lt;p&gt;Still in my todo list. Sorry for the delay.&lt;/p&gt;</comment>
                            <comment id="13750686" author="gustavoanatoly" created="Mon, 26 Aug 2013 22:54:01 +0000"  >&lt;p&gt;Ok Nicolas &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; don&apos;t worry.&lt;/p&gt;</comment>
                            <comment id="13769592" author="nkeywal" created="Tue, 17 Sep 2013 15:12:30 +0000"  >&lt;p&gt;The patch is ok. I&apos;ve done some changes, all minor except one. See v3. I plan to commit it tomorrow.&lt;/p&gt;

&lt;p&gt;The test now takes 2 seconds instead of 38 seconds to run. Nice. Thanks Gustavo. &lt;/p&gt;</comment>
                            <comment id="13769724" author="gustavoanatoly" created="Tue, 17 Sep 2013 17:41:27 +0000"  >&lt;p&gt;Thanks (Nicolas and Stack) for review the patch, for the patience and changes that you did. I hope has helped a little bit.&lt;/p&gt;</comment>
                            <comment id="13772987" author="nkeywal" created="Fri, 20 Sep 2013 13:23:47 +0000"  >&lt;p&gt;Committed, thanks for the patch Gustavo, improving the tests helps.&lt;/p&gt;</comment>
                            <comment id="13773081" author="hudson" created="Fri, 20 Sep 2013 15:32:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4539 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4539/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4539/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7462&quot; title=&quot;TestDrainingServer is an integration test. It should be a unit test instead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7462&quot;&gt;&lt;del&gt;HBASE-7462&lt;/del&gt;&lt;/a&gt;  TestDrainingServer is an integration test. It should be a unit test instead (Gustavo Anatoly) (nkeywal: rev 1524995)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestDrainingServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773089" author="hudson" created="Fri, 20 Sep 2013 15:34:31 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #75 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/75/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7462&quot; title=&quot;TestDrainingServer is an integration test. It should be a unit test instead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7462&quot;&gt;&lt;del&gt;HBASE-7462&lt;/del&gt;&lt;/a&gt;  TestDrainingServer is an integration test. It should be a unit test instead (Gustavo Anatoly) (nkeywal: rev 1524996)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/TestDrainingServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773136" author="hudson" created="Fri, 20 Sep 2013 16:16:37 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #42 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/42/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/42/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7462&quot; title=&quot;TestDrainingServer is an integration test. It should be a unit test instead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7462&quot;&gt;&lt;del&gt;HBASE-7462&lt;/del&gt;&lt;/a&gt;  TestDrainingServer is an integration test. It should be a unit test instead (Gustavo Anatoly) (nkeywal: rev 1524996)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/TestDrainingServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773188" author="hudson" created="Fri, 20 Sep 2013 17:06:42 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #746 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/746/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/746/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7462&quot; title=&quot;TestDrainingServer is an integration test. It should be a unit test instead&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7462&quot;&gt;&lt;del&gt;HBASE-7462&lt;/del&gt;&lt;/a&gt;  TestDrainingServer is an integration test. It should be a unit test instead (Gustavo Anatoly) (nkeywal: rev 1524995)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestDrainingServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15016168" author="lars_francke" created="Fri, 20 Nov 2015 11:54:12 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12603603" name="7462.v3.patch" size="23940" author="nkeywal" created="Tue, 17 Sep 2013 15:10:03 +0000"/>
                            <attachment id="12598658" name="HBASE-7462-v2.patch" size="24279" author="gustavoanatoly" created="Sun, 18 Aug 2013 13:03:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jan 2013 14:10:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16yfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>