<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:34:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12573/HBASE-12573.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12573] Backport HBASE-10591 Sanity check table configuration in createTable</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12573</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In parent jira, it seems that we will be better off backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10591&quot; title=&quot;Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10591&quot;&gt;&lt;del&gt;HBASE-10591&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12757761">HBASE-12573</key>
            <summary>Backport HBASE-10591 Sanity check table configuration in createTable</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12757596">HBASE-12570</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Nov 2014 18:23:47 +0000</created>
                <updated>Fri, 11 Nov 2016 18:04:51 +0000</updated>
                            <resolved>Tue, 2 Dec 2014 04:12:01 +0000</resolved>
                                                    <fixVersion>0.98.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14225044" author="enis" created="Tue, 25 Nov 2014 19:14:04 +0000"  >&lt;p&gt;Here is 0.98 patch that applies cleanly. &lt;/p&gt;

&lt;p&gt;I&apos;ve ran&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HW10676:hbase-0.98$ mvn test -Dtest=TestZooKeeper,TestFromClientSide*,TestAdmin*
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but not the rest of the tests. &lt;/p&gt;</comment>
                            <comment id="14225469" author="apurtell" created="Wed, 26 Nov 2014 00:23:55 +0000"  >&lt;p&gt;Can we put this up on RB for line-by-line discussion (if any)?&lt;/p&gt;</comment>
                            <comment id="14225587" author="enis" created="Wed, 26 Nov 2014 01:52:14 +0000"  >&lt;p&gt;Here is the RB: &lt;a href=&quot;https://reviews.apache.org/r/28462/diff/#&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/28462/diff/#&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14225598" author="enis" created="Wed, 26 Nov 2014 02:08:18 +0000"  >&lt;p&gt;Let me know what checks we want to keep, and what to remove. &lt;/p&gt;</comment>
                            <comment id="14226759" author="apurtell" created="Wed, 26 Nov 2014 20:17:01 +0000"  >&lt;p&gt;Thanks for putting this up on RB.&lt;/p&gt;

&lt;p&gt;I think all of the checks are fine. &lt;em&gt;Maybe&lt;/em&gt; we might want to drop the HFile blocksize check for HCDs, but seems reasonable to keep it to me.&lt;/p&gt;

&lt;p&gt;We don&apos;t check that classes for store flusher, compactor, and compaction policy plugins are loadable. These could be brought in by table configuration overrides, right? I don&apos;t believe we check for those in trunk either so could be a new JIRA, unless I&apos;m mistaken.&lt;/p&gt;</comment>
                            <comment id="14230517" author="apurtell" created="Mon, 1 Dec 2014 21:47:19 +0000"  >&lt;p&gt;I&apos;m going to commit this shortly unless objection. &lt;/p&gt;</comment>
                            <comment id="14230656" author="enis" created="Mon, 1 Dec 2014 23:14:29 +0000"  >&lt;p&gt;Sounds good. For the other class checks, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12575&quot; title=&quot;Sanity check table coprocessor classes are loadable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12575&quot;&gt;&lt;del&gt;HBASE-12575&lt;/del&gt;&lt;/a&gt; should cover those. &lt;/p&gt;</comment>
                            <comment id="14230885" author="apurtell" created="Tue, 2 Dec 2014 02:50:21 +0000"  >&lt;p&gt;Pushed to 0.98&lt;/p&gt;</comment>
                            <comment id="14230933" author="apurtell" created="Tue, 2 Dec 2014 03:57:05 +0000"  >&lt;p&gt;I need to make an addendum here. I actually noticed the problem when working on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12383&quot; title=&quot;Move 0.98 build to surefire 2.18&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12383&quot;&gt;&lt;del&gt;HBASE-12383&lt;/del&gt;&lt;/a&gt;, but after this change some of the hbase-thrift module tests can fail. &lt;/p&gt;</comment>
                            <comment id="14230936" author="enis" created="Tue, 2 Dec 2014 04:00:54 +0000"  >&lt;p&gt;We did &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11391&quot; title=&quot;Thrift table creation will fail with default TTL with sanity checks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11391&quot;&gt;&lt;del&gt;HBASE-11391&lt;/del&gt;&lt;/a&gt; which went into 0.98.4 as well. Is this another issue?  &lt;/p&gt;</comment>
                            <comment id="14230939" author="apurtell" created="Tue, 2 Dec 2014 04:05:32 +0000"  >&lt;p&gt;A dumb one line change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift/TestThrif
index 43cf37f..b59e967 100644
--- a/hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift/TestThriftServer
+++ b/hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift/TestThriftServer
@@ -227,7 +227,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestThriftServer {
     assertEquals(handler.getTableNames().size(), 1);
     assertEquals(handler.getColumnDescriptors(tableAname).size(), 2);
     assertTrue(handler.isTableEnabled(tableAname));
-    handler.createTable(tableBname, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;ColumnDescriptor&amp;gt;());
+    handler.createTable(tableBname, getColumnDescriptors());
     assertEquals(handler.getTableNames().size(), 2);
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14230945" author="apurtell" created="Tue, 2 Dec 2014 04:12:01 +0000"  >&lt;p&gt;Pushed test fix to 0.98. I think it&apos;s the only one needed, mvn test -rf :hbase-thrift completed&lt;/p&gt;</comment>
                            <comment id="14230992" author="hudson" created="Tue, 2 Dec 2014 05:03:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #708 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/708/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/708/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12573&quot; title=&quot;Backport HBASE-10591 Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12573&quot;&gt;&lt;del&gt;HBASE-12573&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10591&quot; title=&quot;Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10591&quot;&gt;&lt;del&gt;HBASE-10591&lt;/del&gt;&lt;/a&gt; Sanity check table configuration in createTable (Enis Soztutar) (apurtell: rev b04d1e9507ea52676c1303739426956af192914e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSideWithCoprocessor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/resources/hbase-site.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionSplitPolicy.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14231025" author="hudson" created="Tue, 2 Dec 2014 05:33:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #675 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/675/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/675/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12573&quot; title=&quot;Backport HBASE-10591 Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12573&quot;&gt;&lt;del&gt;HBASE-12573&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10591&quot; title=&quot;Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10591&quot;&gt;&lt;del&gt;HBASE-10591&lt;/del&gt;&lt;/a&gt; Sanity check table configuration in createTable (Enis Soztutar) (apurtell: rev b04d1e9507ea52676c1303739426956af192914e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/resources/hbase-site.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionSplitPolicy.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSideWithCoprocessor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14231083" author="hudson" created="Tue, 2 Dec 2014 06:56:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #709 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/709/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/709/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12573&quot; title=&quot;Backport HBASE-10591 Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12573&quot;&gt;&lt;del&gt;HBASE-12573&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10591&quot; title=&quot;Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10591&quot;&gt;&lt;del&gt;HBASE-10591&lt;/del&gt;&lt;/a&gt; Sanity check table configuration in createTable (apurtell: rev 0d7ddab0dac718c2c14a3d15680410c001f19a41)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift/TestThriftServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14231140" author="hudson" created="Tue, 2 Dec 2014 08:03:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #676 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/676/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/676/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12573&quot; title=&quot;Backport HBASE-10591 Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12573&quot;&gt;&lt;del&gt;HBASE-12573&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10591&quot; title=&quot;Sanity check table configuration in createTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10591&quot;&gt;&lt;del&gt;HBASE-10591&lt;/del&gt;&lt;/a&gt; Sanity check table configuration in createTable (apurtell: rev 0d7ddab0dac718c2c14a3d15680410c001f19a41)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift/TestThriftServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15016425" author="lars_francke" created="Fri, 20 Nov 2015 11:55:12 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12757596">HBASE-12570</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12684548" name="HBASE-12573-0.98-addendum.patch" size="1287" author="apurtell" created="Tue, 2 Dec 2014 04:13:33 +0000"/>
                            <attachment id="12683629" name="hbase-10591_v5-0.98.patch" size="19393" author="enis" created="Tue, 25 Nov 2014 19:14:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Nov 2014 00:23:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22rw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This change backports table schema sanity checks from branch-1. The checks disallow only illegal or highly unusual settings, and can be disabled by setting &amp;quot;hbase.table.sanity.checks&amp;quot; to &amp;quot;false&amp;quot; in site configuration.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>