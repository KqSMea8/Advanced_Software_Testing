<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:19:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11058/HBASE-11058.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11058] call_id seems never present in response</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11058</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;version used: 0.98.1&lt;/p&gt;

&lt;p&gt;call_id seems never present in response, could someone take a look and help?&lt;/p&gt;



&lt;p&gt;message ResponseHeader {&lt;br/&gt;
  optional uint32 call_id = 1;&lt;/p&gt;

&lt;p&gt;message RequestHeader {&lt;br/&gt;
  // Monotonically increasing call_id to keep track of RPC requests and their response&lt;br/&gt;
  optional uint32 call_id = 1;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12710131">HBASE-11058</key>
            <summary>call_id seems never present in response</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="charlenehelios">Charlene Sun</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Apr 2014 20:03:23 +0000</created>
                <updated>Wed, 30 Apr 2014 05:13:48 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13981399" author="jmspaggi" created="Fri, 25 Apr 2014 18:21:22 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=charlenehelios&quot; class=&quot;user-hover&quot; rel=&quot;charlenehelios&quot;&gt;Charlene Sun&lt;/a&gt;, can you please provide more details on the context? What are you trying to do, what do you retrieve, etc.?&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13981977" author="charlenehelios" created="Sat, 26 Apr 2014 13:23:00 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;

&lt;p&gt;I am writing a protocol analyzer to analyze application data.&lt;/p&gt;

&lt;p&gt;Correlating request and response is a part of it, which I could use the call_id if it presents.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;

&lt;p&gt;Charlene Sun&lt;/p&gt;</comment>
                            <comment id="13983464" author="stack" created="Mon, 28 Apr 2014 19:50:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=charlenehelios&quot; class=&quot;user-hover&quot; rel=&quot;charlenehelios&quot;&gt;Charlene Sun&lt;/a&gt; We seem to set the call id on the response here: &lt;a href=&quot;http://hbase.apache.org/xref/org/apache/hadoop/hbase/ipc/RpcServer.html#360&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/xref/org/apache/hadoop/hbase/ipc/RpcServer.html#360&lt;/a&gt;  If I set DEBUG level on the package org.apache.hadoop.hbase on the client side and run a client, I see stuff like this:&lt;/p&gt;

&lt;p&gt;2014-04-28 12:49:03,753 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Client (632537781) connection to c2021.halxg.cloudera.com/10.20.84.27:16020 from stack&amp;#93;&lt;/span&gt; ipc.RpcClient: IPC Client (632537781) connection to c2021.halxg.cloudera.com/10.20.84.27:16020 from stack: got response header call_id: 48292, totalSize: 1065 bytes&lt;/p&gt;

&lt;p&gt;... which would seem to indicate the server is setting the call_id (I&apos;ve not looked w/ wireshark).&lt;/p&gt;
</comment>
                            <comment id="13983903" author="charlenehelios" created="Tue, 29 Apr 2014 02:32:06 +0000"  >&lt;p&gt;Yes. I see the code is setting the call_id. It is strange why I am not getting the call_id in the response packet.&lt;/p&gt;

&lt;p&gt;For example, &lt;br/&gt;
test case&lt;br/&gt;
hbase(main):060:0&amp;gt; scan &apos;t2&apos;,&lt;/p&gt;
{COLUMNS=&amp;gt;[&apos;c1&apos;,&apos;c2&apos;],STARTROW=&amp;gt;&apos;This&apos;}

&lt;p&gt;00000000 : 0b 08 f7 01 1a 04 53 63 61 6e 20 01 61 0a 37 08 ......Scan .a.7.&lt;br/&gt;
00000010 : 01 12 33 74 32 2c 2c 31 33 39 38 30 30 37 39 30 ..3t2,,139800790&lt;br/&gt;
00000020 : 33 39 33 38 2e 30 31 30 33 65 61 33 65 31 65 61 3938.0103ea3e1ea&lt;br/&gt;
00000030 : 34 30 63 31 66 63 30 61 65 37 63 65 34 34 33 65 40c1fc0ae7ce443e&lt;br/&gt;
00000040 : 32 38 35 64 30 2e 12 22 0a 04 0a 02 63 31 0a 04 285d0..&quot;....c1..&lt;br/&gt;
00000050 : 0a 02 63 32 12 0a 0a 05 5f 72 61 77 5f 12 01 00 ..c2....&lt;em&gt;raw&lt;/em&gt;...&lt;br/&gt;
00000060 : 1a 04 54 68 69 73 38 01 40 01 20 00 28 00       ..This8.@. .(.&lt;/p&gt;

&lt;p&gt;following is its response packet&lt;br/&gt;
00000000 : 00 00 00 15 b0 8b be c1 a3 98 72 18 00 18 01 20 ..........r....&lt;br/&gt;
00000010 : e0 d4 03 10 e4 b2 b0 8b 89                      .........&lt;/p&gt;

&lt;p&gt;I should be getting 0x f701 call_id in response packet.&lt;/p&gt;

&lt;p&gt;Please advise.&lt;/p&gt;

&lt;p&gt;Charlene Sun&lt;/p&gt;</comment>
                            <comment id="13983911" author="charlenehelios" created="Tue, 29 Apr 2014 02:43:01 +0000"  >
&lt;p&gt;Another example:&lt;br/&gt;
request packet:&lt;br/&gt;
00000000 : 14 08 86 01 1a 0d 47 65 74 54 61 62 6c 65 4e 61 ......GetTableNa&lt;br/&gt;
00000010 : 6d 65 73 20 01 00                               mes ..&lt;br/&gt;
response packet:&lt;br/&gt;
00000000 : 00 00 00 e0 a7 7f 00 00 98 00 00 50 a7 7f 00 00 ...........P....&lt;br/&gt;
00000010 : 72 6b 73 2e 63 6f 6d 00 40 52 a4 50 a7 7f 00 00 rks.com.@R.P....&lt;br/&gt;
00000020 : 30 00 00 00 00 00 00 00 45 01 00 00 00 00 00 00 0.......E.......&lt;br/&gt;
00000030 : 38 a6 fa f0 00 00 00 00 80 00 ac f0 00 00 00 00 8...............&lt;br/&gt;
00000040 : c8 e0 24 50 a7 7f 00 00 d0 e0 24 50 a7 7f 00 00 ..$P......$P....&lt;br/&gt;
00000050 : d8 e0 24 50 a7 7f 00 00 e0 e0 24 50 a7 7f 00 00 ..$P......$P....&lt;br/&gt;
00000060 : e8 e0 24 50 a7 7f 00 00 f0 e0 24 50 a7 7f 00 00 ..$P......$P....&lt;br/&gt;
00000070 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
00000080 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
00000090 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
000000a0 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
000000b0 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
000000c0 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
000000d0 : d0 28 ea fa 00 00 00 00 d0 28 ea fa 00 00 00 00 .(.......(......&lt;br/&gt;
000000e0 : d0 28 ea fa                                     .(..&lt;/p&gt;

&lt;p&gt;It seems the response packets are not hbase wire protocol.&lt;br/&gt;
Please advise.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;br/&gt;
Charlene sun&lt;/p&gt;</comment>
                            <comment id="13983968" author="stack" created="Tue, 29 Apr 2014 04:07:55 +0000"  >&lt;p&gt;I took a quick look w/ wire shark and seem to be able to match up a few requests and responses via their call_id.&lt;/p&gt;

&lt;p&gt;Below is an isMasterRunning&lt;/p&gt;

&lt;p&gt;00:00:00:17:15:08:02:1a:0f:49:73:4d:61:73:74:65:72:52:75:6e:6e:69:6e:67:20:01:00&lt;br/&gt;
00:00:00:06:02:08:02:02:08:01&lt;/p&gt;

&lt;p&gt;See how the id matches request/response 08:02.&lt;/p&gt;

&lt;p&gt;This is the next call... getTableNames:&lt;/p&gt;

&lt;p&gt;00:00:00:15:13:08:03:1a:0d:47:65:74:54:61:62:6c:65:4e:61:6d:65:73:20:01:00&lt;br/&gt;
00:00:00:1a:02:08:03:16:0a:14:0a:07:64:65:66:61:75:6c:74:12:09:54:65:73:74:54:61:62:6c:65&lt;/p&gt;

&lt;p&gt;08:03&lt;/p&gt;

&lt;p&gt;Here is a scan meta:&lt;/p&gt;

&lt;p&gt;00:00:00:12:0a:08:0c:1a:04:53:63:61:6e:20:01:06:18:1c:20:00:28:01&lt;br/&gt;
00:00:00:08:02:08:0c:04:10:1c:18:00&lt;/p&gt;

&lt;p&gt;08:0c&lt;/p&gt;

&lt;p&gt;08 is the field number #1 right shifted by 3 and the type is 0 (uint3).  The value is 0xc, a varint: &lt;a href=&quot;https://developers.google.com/protocol-buffers/docs/encoding&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://developers.google.com/protocol-buffers/docs/encoding&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you be matching the wrong response?&lt;/p&gt;

</comment>
                            <comment id="13985163" author="charlenehelios" created="Wed, 30 Apr 2014 04:48:00 +0000"  >&lt;p&gt;I also see the matching call_id.&lt;/p&gt;

&lt;p&gt;It appears the problem only exists in our newest installation which we downloaded from &lt;a href=&quot;http://hortonworks.com/hdp/downloads/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hortonworks.com/hdp/downloads/&lt;/a&gt;  (HDP2.1) earlier this month. &lt;/p&gt;

&lt;p&gt;Following packets produced with Cloudera installation and call_id are fine:&lt;br/&gt;
request:&lt;/p&gt;

&lt;p&gt;00000000 : 17 08 88 c3 05 1a 0f 49 73 4d 61 73 74 65 72 52 .......IsMasterR&lt;br/&gt;
00000010 : 75 6e 6e 69 6e 67 20 01 00                      unning ..&lt;/p&gt;

&lt;p&gt;response:&lt;/p&gt;

&lt;p&gt;00000000 : 00 00 00 08 04 08 88 c3 05 02 08 01             ............&lt;/p&gt;

&lt;p&gt;Thank you.&lt;br/&gt;
charlene&lt;/p&gt;</comment>
                            <comment id="13985174" author="stack" created="Wed, 30 Apr 2014 05:13:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=charlenehelios&quot; class=&quot;user-hover&quot; rel=&quot;charlenehelios&quot;&gt;Charlene Sun&lt;/a&gt; You might want to let the HDP folks know...  I was playing w/ apache trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Apr 2014 18:21:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uwy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>