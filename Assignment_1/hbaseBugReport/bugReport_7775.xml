<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:48:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7775/HBASE-7775.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7775] Regionservers continue to read/parse XML config files after startup.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7775</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It appears that the region servers continue to parse the xml config files as a part of their normal operation (and not just on startup).  I realize this might be coming from hadoop config parsing etc, but it is still a major problem should you happen to push out a bad xml config.&lt;/p&gt;

&lt;p&gt;Here is the stack trace from the problem in our environment.&lt;/p&gt;

&lt;p&gt;13/02/05 13:46:12 INFO regionserver.HRegion: Starting compaction on region tsdb,\x00\x00\x0FP\xFEU\x10\x00\x00\x01\x00 \xEF\x00\x00\x0B\x00\x00\x0F\x00\x00\x0C\x00\x00\x19,1359827642230.aadcc5a9ef4d4f16fb8937c9e93763a1.&lt;br/&gt;
13/02/05 13:46:12 INFO regionserver.Store: Started compaction of 3 file(s) in cf=t  into hdfs://nn-blah:8020/hbase/tsdb/aadcc5a9ef4d4f16fb8937c9e93763a1/.tmp, seqid=1704265883, totalSize=141.6m&lt;br/&gt;
13/02/05 13:47:57 INFO regionserver.StoreFile: Bloom added to HFile (hdfs://nn-blah:8020/hbase/tsdb/aadcc5a9ef4d4f16fb8937c9e93763a1/.tmp/7838002095040213865): 793.2k, 656192/677964 (97%)&lt;br/&gt;
13/02/05 13:47:57 INFO regionserver.StoreFile$Reader: Loaded row bloom filter metadata for hdfs://nn-blah:8020/hbase/tsdb/aadcc5a9ef4d4f16fb8937c9e93763a1/t/8826149174883990976&lt;br/&gt;
13/02/05 13:47:57 INFO regionserver.Store: Completed compaction of 3 file(s), new file=hdfs://nn-blah:8020/hbase/tsdb/aadcc5a9ef4d4f16fb8937c9e93763a1/t/8826149174883990976, size=141.5m; total size for store is 2.4g&lt;br/&gt;
13/02/05 13:47:57 INFO regionserver.HRegion: completed compaction on region tsdb,\x00\x00\x0FP\xFEU\x10\x00\x00\x01\x00 \xEF\x00\x00\x0B\x00\x00\x0F\x00\x00\x0C\x00\x00\x19,1359827642230.aadcc5a9ef4d4f16fb8937c9e93763a1. after 1mins, 44sec&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Fatal Error&amp;#93;&lt;/span&gt; mapred-site.xml:173:13: The string &quot;--&quot; is not permitted within comments.&lt;br/&gt;
13/02/05 13:55:33 FATAL conf.Configuration: error parsing conf file: org.xml.sax.SAXParseException: The string &quot;--&quot; is not permitted within comments.&lt;br/&gt;
13/02/05 13:55:33 INFO regionserver.StoreFile: Bloom added to HFile (hdfs://nn-blah:8020/hbase/tsdb/74a4a785bc317da7282c331f577918a0/.tmp/4658027967280663602): 5.3k, 1/4519 (0%)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Fatal Error&amp;#93;&lt;/span&gt; mapred-site.xml:173:13: The string &quot;--&quot; is not permitted within comments.&lt;br/&gt;
13/02/05 13:55:33 FATAL conf.Configuration: error parsing conf file: org.xml.sax.SAXParseException: The string &quot;--&quot; is not permitted within comments.&lt;br/&gt;
13/02/05 13:55:33 FATAL regionserver.HRegionServer: ABORTING region server serverName=hbrs-blah,60020,1360021443595, load=(requests=5434, regions=73, usedHeap=4085, maxHeap=15979): Replay of HLog required. Forcing server shutdown&lt;br/&gt;
org.apache.hadoop.hbase.DroppedSnapshotException: region: tsdb,\x00\x060P\xF4\x1Dp\x00\x00\x01\x00\x07\xDB\x00\x00\x02\x00\x02\x02\x00\x00\x87\x00\xB0Y,1359421493144.74a4a785bc317da7282c331f577918a0.&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1054)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:954)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegion.flushcache(HRegion.java:902)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:394)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:368)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.run(MemStoreFlusher.java:242)&lt;br/&gt;
Caused by: java.lang.RuntimeException: org.xml.sax.SAXParseException: The string &quot;--&quot; is not permitted within comments.&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1393)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.loadResources(Configuration.java:1251)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.getProps(Configuration.java:1192)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.get(Configuration.java:493)&lt;br/&gt;
        at com.hadoop.compression.lzo.LzoCodec.getCompressionStrategy(LzoCodec.java:205)&lt;br/&gt;
        at com.hadoop.compression.lzo.LzoCompressor.reinit(LzoCompressor.java:204)&lt;br/&gt;
        at org.apache.hadoop.io.compress.CodecPool.getCompressor(CodecPool.java:105)&lt;br/&gt;
        at org.apache.hadoop.io.compress.CodecPool.getCompressor(CodecPool.java:112)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.Compression$Algorithm.getCompressor(Compression.java:236)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.HFile$Writer.getCompressingStream(HFile.java:397)&lt;br/&gt;
        at org.apache.hadoop.hbase.io.hfile.HFile$Writer.close(HFile.java:621)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.StoreFile$Writer.close(StoreFile.java:877)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.Store.internalFlushCache(Store.java:495)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.Store.flushCache(Store.java:450)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.Store.access$100(Store.java:82)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.Store$StoreFlusherImpl.flushCache(Store.java:1529)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegion.internalFlushcache(HRegion.java:1032)&lt;br/&gt;
        ... 5 more&lt;br/&gt;
Caused by: org.xml.sax.SAXParseException: The string &quot;--&quot; is not permitted within comments.&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:249)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:284)&lt;br/&gt;
        at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:180)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1300)&lt;br/&gt;
        ... 21 more&lt;br/&gt;
13/02/05 13:55:33 INFO regionserver.HRegionServer: Dump of metrics: requests=1736, regions=73, stores=73, storefiles=113, storefileIndexSize=584, memstoreSize=3707, compactionQueueSize=0, flushQueueSize=0, usedHeap=4096, maxHeap=15979, blockCacheSize=1109279496, blockCacheFree=2241812216, blockCacheCount=13037, blockCacheHitCount=518453, blockCacheMissCount=1899789, blockCacheEvictedCount=0, blockCacheHitRatio=21, blockCacheHitCachingRatio=97&lt;br/&gt;
13/02/05 13:55:33 INFO regionserver.HRegionServer: STOPPED: Replay of HLog required. Forcing server shutdown&lt;br/&gt;
13/02/05 13:55:33 INFO regionserver.MemStoreFlusher: regionserver60020.cacheFlusher exiting&lt;br/&gt;
13/02/05 13:55:34 INFO ipc.HBaseServer: Stopping server on 60020&lt;br/&gt;
13/02/05 13:55:34 INFO ipc.HBaseServer: IPC Server handler 2 on 60020: exiting&lt;br/&gt;
13/02/05 13:55:34 INFO ipc.HBaseServer: IPC Server handler 0 on 60020: exiting&lt;br/&gt;
13/02/05 13:55:34 INFO ipc.HBaseServer: IPC Server handler 9 on 60020: exiting&lt;/p&gt;</description>
                <environment>&lt;p&gt;linux x86_64&lt;/p&gt;</environment>
        <key id="12630947">HBASE-7775</key>
            <summary>Regionservers continue to read/parse XML config files after startup.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aravindg">Aravind Gottipati</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Feb 2013 20:43:39 +0000</created>
                <updated>Tue, 5 Feb 2013 20:43:39 +0000</updated>
                                            <version>0.90.6</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hqxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>