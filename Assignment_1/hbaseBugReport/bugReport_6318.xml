<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:35:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6318/HBASE-6318.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6318] SplitLogWorker exited due to ConcurrentModificationException</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6318</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In playing with 0.96 code on a live cluster, found this issue:&lt;/p&gt;

&lt;p&gt;2012-07-03 12:13:32,572 ERROR org.apache.hadoop.hbase.regionserver.SplitLogWorker: unexpected error&lt;br/&gt;
java.util.ConcurrentModificationException&lt;br/&gt;
        at java.util.TreeMap$PrivateEntryIterator.nextEntry(TreeMap.java:1100)&lt;br/&gt;
        at java.util.TreeMap$ValueIterator.next(TreeMap.java:1145)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter$OutputSink.closeLogWriters(HLogSplitter.java:1330)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter$OutputSink.finishWritingAndClose(HLogSplitter.java:1221)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.splitLogFileToTemp(HLogSplitter.java:441)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.splitLogFileToTemp(HLogSplitter.java:369)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker$1.exec(SplitLogWorker.java:113)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker.grabTask(SplitLogWorker.java:276)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker.taskLoop(SplitLogWorker.java:197)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker.run(SplitLogWorker.java:164)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
2012-07-03 12:13:32,575 INFO org.apache.hadoop.hbase.regionserver.SplitLogWorker: SplitLogWorker ****.cloudera.com,57020,1341335300238 exiting&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597337">HBASE-6318</key>
            <summary>SplitLogWorker exited due to ConcurrentModificationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jul 2012 20:42:55 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:51 +0000</updated>
                            <resolved>Fri, 6 Jul 2012 18:21:53 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13406076" author="zhihyu@ebaysf.com" created="Tue, 3 Jul 2012 21:38:50 +0000"  >&lt;p&gt;Looks like the CME shows conflict between getWriterAndPath() and closeLogWriters().&lt;br/&gt;
See the following in getWriterAndPath():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      logWriters.put(region, ret);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13406094" author="zhihyu@ebaysf.com" created="Tue, 3 Jul 2012 21:56:34 +0000"  >&lt;p&gt;How about this change ?&lt;/p&gt;</comment>
                            <comment id="13406138" author="jxiang" created="Tue, 3 Jul 2012 22:45:52 +0000"  >&lt;p&gt;@Ted, I prefer to synchronized HLogSplitter.java:1330. Because we don&apos;t want some other thread to put more logWriter to the map&lt;br/&gt;
while we are closing it down.  With ConcurrentHashMap, we won&apos;t get that exception any more.  But there could be some leakage&lt;br/&gt;
since other threads are still adding more logWriter.&lt;/p&gt;

&lt;p&gt;I looked into the problem and figured out what&apos;s going on.  The worker got a task and started to work on it.  However, the task&lt;br/&gt;
was taken by someone else.  So the task was preempted, and SplitLogWorker.stopTask() was called.  So HLogSplitter was interrupted.&lt;br/&gt;
In clean up the writers, some writer threads are still there, so the CME.&lt;/p&gt;

&lt;p&gt;Another thought is how should we handle if t.join is interrupted?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            t.join();
          } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException ie) {
            IOException iie = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InterruptedIOException();
            iie.initCause(ie);
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; iie;
          }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think this part should be fine if we synchronize the loop of HLogSplitter.java:1330.&lt;/p&gt;
</comment>
                            <comment id="13406141" author="zhihyu@ebaysf.com" created="Tue, 3 Jul 2012 22:54:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;some writer threads are still there&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If the above is allowed, using ConcurrentSkipListMap is fine, right ?&lt;/p&gt;

&lt;p&gt;It would be nice if you can attach log snippet showing thread interruption.&lt;/p&gt;</comment>
                            <comment id="13406154" author="jxiang" created="Tue, 3 Jul 2012 23:07:53 +0000"  >&lt;p&gt;I attached the log. ConcurrentSkipListMap is similar to ConcurrentHashMap. The .values() is a &quot;weakly consistent&quot; iterator.&lt;/p&gt;

&lt;p&gt;As a last step to close all writers, it should be better to use a strong consistent iterator to avoid possible leakage.&lt;/p&gt;
</comment>
                            <comment id="13406163" author="zhihyu@ebaysf.com" created="Tue, 3 Jul 2012 23:23:53 +0000"  >&lt;p&gt;The JIRA number is not 6138 w.r.t. naming the patch.&lt;/p&gt;

&lt;p&gt;Are you trying to protect race against getOutputCounts() ? That&apos;s where I saw the other &apos;synchronized (logWriters)&apos; block.&lt;/p&gt;</comment>
                            <comment id="13406167" author="jxiang" created="Tue, 3 Jul 2012 23:30:11 +0000"  >&lt;p&gt;Wrong patch name.&lt;/p&gt;

&lt;p&gt;The map is a Collections.synchronzedMap.  So it protects race against getOutputCounts(), and all other methods like put() and get() on this map.&lt;/p&gt;

&lt;p&gt;The attached patch uses synchronizd on a strong consistent iterator.  There are not many threads here.&lt;br/&gt;
So performance wise, it should be fine.&lt;/p&gt;

&lt;p&gt;However, there is still possible leakage.  For example, some thread created a writer, right before putting it to the map, it is blocked&lt;br/&gt;
because closeLogWriters() has the lock.  This writer will not be closed.&lt;/p&gt;

&lt;p&gt;Probably it is better to fix the t.join() interruption, or the leakage is rare, and not a big deal?&lt;/p&gt;</comment>
                            <comment id="13407289" author="jxiang" created="Thu, 5 Jul 2012 17:19:22 +0000"  >&lt;p&gt;In the new patch, all writer threads are terminated before the writer.close is called so there won&apos;t be concurrent modification issue, no leakage either.&lt;/p&gt;

&lt;p&gt;Unit tests are passed:&lt;/p&gt;

&lt;p&gt;mvn -PlocalTests -Dtest=TestHLogSplit,TestSplitLog* clean test&lt;/p&gt;
</comment>
                            <comment id="13407312" author="zhihyu@ebaysf.com" created="Thu, 5 Jul 2012 17:34:06 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+              t.join(10);
+            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException ie) {
+              &lt;span class=&quot;code-comment&quot;&gt;// it is ok, ignore it.
&lt;/span&gt;+            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should we log the InterruptedException ?&lt;br/&gt;
I think we should restore interrupted status of the current thread.&lt;/p&gt;</comment>
                            <comment id="13407318" author="jxiang" created="Thu, 5 Jul 2012 17:46:13 +0000"  >&lt;p&gt;Sure, we can log the InterruptedException.  I don&apos;t see the interrupted status is restored in other places.&lt;br/&gt;
If we do restore the interrupted status, the SplitLogWorker thread will die?&lt;/p&gt;</comment>
                            <comment id="13407334" author="zhihyu@ebaysf.com" created="Thu, 5 Jul 2012 17:57:06 +0000"  >&lt;p&gt;This should be added:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().interrupt();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Take a look at Listing 3 in:&lt;br/&gt;
&lt;a href=&quot;http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13407344" author="jxiang" created="Thu, 5 Jul 2012 18:08:35 +0000"  >&lt;p&gt;If we add that, the split log worker daemon thread will die, and this&lt;br/&gt;
region server will not help on distributed log splitting any more.&lt;/p&gt;

&lt;p&gt;Here, it is normal to terminate a log writer thread since the task is taken by&lt;br/&gt;
a different region server.  It is not a failure case so we don&apos;t want to&lt;br/&gt;
kill the worker thread. What do you think?&lt;/p&gt;</comment>
                            <comment id="13407345" author="hadoopqa" created="Thu, 5 Jul 2012 18:10:48 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535225/6318-hbase.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535225/6318-hbase.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestMultithreadedTableMapper&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALPlayer&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2330//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13407359" author="jxiang" created="Thu, 5 Jul 2012 18:30:36 +0000"  >&lt;p&gt;@Ted, I looked it again.  The split log worker is ok.  How about this?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;              LOG.info(&quot;Interrupted while waiting for split log &quot;
                + &quot; writer thread to terminate, ignored&quot;, ie);
              Thread.currentThread().interrupt();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13407370" author="zhihyu@ebaysf.com" created="Thu, 5 Jul 2012 18:38:16 +0000"  >&lt;p&gt;The above should be fine.&lt;/p&gt;

&lt;p&gt;Right now, trunk build is broken.&lt;br/&gt;
I can reproduce the following failure locally:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testWALPlayer(org.apache.hadoop.hbase.mapreduce.TestWALPlayer): expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13407388" author="jxiang" created="Thu, 5 Jul 2012 18:51:03 +0000"  >&lt;p&gt;@Ted, I was still worried about the leakage.  So here is the version 2.&lt;br/&gt;
Could you please review?&lt;/p&gt;</comment>
                            <comment id="13407432" author="hadoopqa" created="Thu, 5 Jul 2012 19:50:14 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535243/6318-hbase_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535243/6318-hbase_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestMultithreadedTableMapper&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALPlayer&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2332//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13407443" author="zhihyu@ebaysf.com" created="Thu, 5 Jul 2012 20:06:24 +0000"  >&lt;p&gt;Please resubmit to Hadoop QA.&lt;/p&gt;

&lt;p&gt;Testing in real cluster is appreciated.&lt;/p&gt;</comment>
                            <comment id="13407502" author="stack" created="Thu, 5 Jul 2012 21:33:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;Testing in real cluster is appreciated.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;... but not necessary for commit I&apos;d say.&lt;/p&gt;</comment>
                            <comment id="13407506" author="jxiang" created="Thu, 5 Jul 2012 21:37:29 +0000"  >&lt;p&gt;try hadoopqa again.&lt;/p&gt;</comment>
                            <comment id="13407855" author="hadoopqa" created="Fri, 6 Jul 2012 09:23:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535309/6318-hbase_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535309/6318-hbase_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2336//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13408174" author="jxiang" created="Fri, 6 Jul 2012 17:39:18 +0000"  >&lt;p&gt;@Ted, this test passes locally.  Is version 2 ok with you?&lt;/p&gt;</comment>
                            <comment id="13408190" author="zhihyu@ebaysf.com" created="Fri, 6 Jul 2012 18:05:01 +0000"  >&lt;p&gt;Yes.&lt;/p&gt;</comment>
                            <comment id="13408196" author="jxiang" created="Fri, 6 Jul 2012 18:21:53 +0000"  >&lt;p&gt;Pushed to trunk.  Thanks Ted a lot for the discussion and review.&lt;/p&gt;</comment>
                            <comment id="13622793" author="hudson" created="Thu, 4 Apr 2013 21:16:27 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #130 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/130/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/130/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8246&quot; title=&quot;Backport HBASE-6318 to 0.94 where SplitLogWorker exits due to ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8246&quot;&gt;&lt;del&gt;HBASE-8246&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6318&quot; title=&quot;SplitLogWorker exited due to ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6318&quot;&gt;&lt;del&gt;HBASE-6318&lt;/del&gt;&lt;/a&gt; to 0.94 where SplitLogWorker exits due to ConcurrentModificationException (Revision 1463821)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623143" author="hudson" created="Fri, 5 Apr 2013 01:00:47 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #13 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/13/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/13/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8246&quot; title=&quot;Backport HBASE-6318 to 0.94 where SplitLogWorker exits due to ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8246&quot;&gt;&lt;del&gt;HBASE-8246&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6318&quot; title=&quot;SplitLogWorker exited due to ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6318&quot;&gt;&lt;del&gt;HBASE-6318&lt;/del&gt;&lt;/a&gt; to 0.94 where SplitLogWorker exits due to ConcurrentModificationException (Revision 1463821)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775152" author="stack" created="Mon, 23 Sep 2013 18:30:51 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12558546">HBASE-6134</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12535008" name="6138.patch" size="1865" author="jxiang" created="Tue, 3 Jul 2012 23:15:57 +0000"/>
                            <attachment id="12535225" name="6318-hbase.patch" size="1335" author="jxiang" created="Thu, 5 Jul 2012 17:16:55 +0000"/>
                            <attachment id="12535309" name="6318-hbase_v2.patch" size="2785" author="jxiang" created="Fri, 6 Jul 2012 02:48:48 +0000"/>
                            <attachment id="12535267" name="6318-hbase_v2.patch" size="2785" author="jxiang" created="Thu, 5 Jul 2012 21:37:29 +0000"/>
                            <attachment id="12535243" name="6318-hbase_v2.patch" size="2785" author="jxiang" created="Thu, 5 Jul 2012 18:47:36 +0000"/>
                            <attachment id="12534993" name="6318-suggest.txt" size="1579" author="zhihyu@ebaysf.com" created="Tue, 3 Jul 2012 21:56:33 +0000"/>
                            <attachment id="12535007" name="6318.log" size="362679" author="jxiang" created="Tue, 3 Jul 2012 23:03:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Jul 2012 21:38:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34220</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>