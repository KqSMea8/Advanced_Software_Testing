<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:55:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14648/HBASE-14648.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14648] Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14648</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12906000">HBASE-14648</key>
            <summary>Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12861697">HBASE-14362</parent>
                                    <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chenheng">Heng Chen</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Oct 2015 17:46:52 +0000</created>
                <updated>Sun, 25 Oct 2015 08:51:58 +0000</updated>
                            <resolved>Sun, 25 Oct 2015 03:57:40 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14963682" author="stack" created="Mon, 19 Oct 2015 17:48:04 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14647&quot; title=&quot;Disable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14647&quot;&gt;&lt;del&gt;HBASE-14647&lt;/del&gt;&lt;/a&gt; for some observations on recent fails. This is a critical test. Needs to work.&lt;/p&gt;</comment>
                            <comment id="14964501" author="chenheng" created="Tue, 20 Oct 2015 04:33:57 +0000"  >&lt;p&gt;As current hdfs logic, if we connect dn failed 3 times,  this dn will be added into excluded list.&lt;br/&gt;
Relates code like below in &lt;tt&gt;DFSOutputStream.nextBlockOutputStream&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
....
      &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; {
        hasError = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        lastException.set(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
        errorIndex = -1;
        success = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;

        DatanodeInfo[] excluded =
            excludedNodes.getAllPresent(excludedNodes.asMap().keySet())
            .keySet()
            .toArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DatanodeInfo[0]);
        block = oldBlock;
        lb = locateFollowingBlock(excluded.length &amp;gt; 0 ? excluded : &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
        block = lb.getBlock();
        block.setNumBytes(0);
        bytesSent = 0;
        accessToken = lb.getBlockToken();
        nodes = lb.getLocations();
        storageTypes = lb.getStorageTypes();

        &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// Connect to first DataNode in the list.
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;        success = createBlockOutputStream(nodes, storageTypes, 0L, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!success) {
          DFSClient.LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Abandoning &quot;&lt;/span&gt; + block);
          dfsClient.namenode.abandonBlock(block, fileId, src,
              dfsClient.clientName);
          block = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
          DFSClient.LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Excluding datanode &quot;&lt;/span&gt; + nodes[errorIndex]);
          excludedNodes.put(nodes[errorIndex], nodes[errorIndex]);
        }
      } &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!success &amp;amp;&amp;amp; --count &amp;gt;= 0);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the dn restart slowly,  but store insert fast enough,  all dn will be connected failed, and added into excluded list.&lt;/p&gt;

&lt;p&gt;So we have two approaches,  one is to increase the retry number of connect dn and another is to increase the dn number.&lt;/p&gt;


</comment>
                            <comment id="14964503" author="chenheng" created="Tue, 20 Oct 2015 04:36:00 +0000"  >&lt;p&gt;Or when we catch the sync abort exception,  we can wait at least one dn started fully.&lt;/p&gt;</comment>
                            <comment id="14964559" author="stack" created="Tue, 20 Oct 2015 05:36:26 +0000"  >&lt;p&gt;Could up the DN count AND wait on DN restart. It is artificial, contrived but should make test robust. In a cluster, if DN does not come back fast enough.. we&apos;d abort... &lt;/p&gt;</comment>
                            <comment id="14964676" author="chenheng" created="Tue, 20 Oct 2015 07:05:06 +0000"  >&lt;p&gt;I have a question about this testcase.&lt;/p&gt;

&lt;p&gt;The testcase is to do test about Roll under low replication.  But why we set dfs.namenode.replication.min to be 3.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;dfs.namenode.replication.min&lt;/tt&gt; means when we write to hdfs if replica under this value, write will be failed. &lt;/p&gt;

&lt;p&gt;And our dn number is 3 too.  So when we restart, if the dn come back slowly, all insert action will be failed. &lt;/p&gt;

&lt;p&gt;But what we want to test is low replication( &amp;lt; 3) . It means under this situation, &lt;tt&gt;dfs.namenode.replication.min&lt;/tt&gt; will never be satisfied. &lt;/p&gt;

&lt;p&gt;Do you think we should set &lt;tt&gt;dfs.namenode.replication.min&lt;/tt&gt; to be 1? &lt;/p&gt;</comment>
                            <comment id="14964784" author="chenheng" created="Tue, 20 Oct 2015 08:23:19 +0000"  >&lt;p&gt;Set &lt;tt&gt;dfs.namenode.replication.min&lt;/tt&gt; to be 1.&lt;/p&gt;

&lt;p&gt;Inorder to do it, i move the whole MiniDFSCluster into each function. &lt;/p&gt;

&lt;p&gt;I have a feeling this time we can finish this flaky testcase. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14965083" author="hadoopqa" created="Tue, 20 Oct 2015 13:18:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12767564/HBASE-14648.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12767564/HBASE-14648.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 60465964039acd05f43f268cdb4f909a150a0f41.&lt;br/&gt;
  ATTACHMENT ID: 12767564&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16117//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14965317" author="chenheng" created="Tue, 20 Oct 2015 16:10:37 +0000"  >&lt;p&gt;Printing hanging tests&lt;br/&gt;
Hanging test : org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
Printing Failing tests&lt;br/&gt;
Failing test : org.apache.hadoop.hbase.client.TestSnapshotCloneIndependence&lt;/p&gt;</comment>
                            <comment id="14965326" author="chenheng" created="Tue, 20 Oct 2015 16:18:38 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14634&quot; title=&quot;Disable flakey TestSnapshotCloneIndependence.testOnlineSnapshotDeleteIndependent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14634&quot;&gt;&lt;del&gt;HBASE-14634&lt;/del&gt;&lt;/a&gt;,  we should ignore testOnlineSnapshotDeleteIndependent,  but it seems testOfflineSnapshotDeleteIndependent was ignored....  Is it right? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14965944" author="stack" created="Tue, 20 Oct 2015 23:07:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt; You noticed too....!  Thanks. Yeah, I just saw this myself and addressed it with an addendum. Let me retry your patch.&lt;/p&gt;</comment>
                            <comment id="14966146" author="hadoopqa" created="Wed, 21 Oct 2015 02:39:28 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12767689/HBASE-14648.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12767689/HBASE-14648.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a532ed73d808f543909c5563999405c82fa9b1d5.&lt;br/&gt;
  ATTACHMENT ID: 12767689&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16126//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14970761" author="chenheng" created="Fri, 23 Oct 2015 10:08:21 +0000"  >&lt;p&gt;Any suggestions?&lt;/p&gt;</comment>
                            <comment id="14971487" author="stack" created="Fri, 23 Oct 2015 18:06:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;If the dn restart slowly, but store insert fast enough, all dn will be connected failed....&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We&apos;ve seen this in test failures.&lt;/p&gt;

&lt;p&gt;To me, the test is about procedure keeping on working across a restart of a DN so I think it fine setting min down in the test to 1 as you suggest (patch does not seem to do this). As you point out, the write will fail if min requires 3 DNs across a restart.&lt;/p&gt;</comment>
                            <comment id="14971488" author="stack" created="Fri, 23 Oct 2015 18:06:48 +0000"  >&lt;p&gt;Retry&lt;/p&gt;</comment>
                            <comment id="14971888" author="hadoopqa" created="Fri, 23 Oct 2015 21:30:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12768354/HBASE-14648.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12768354/HBASE-14648.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f34011860e04fd1261b3b30cab0265016a22faa2.&lt;br/&gt;
  ATTACHMENT ID: 12768354&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.snapshot.TestMobExportSnapshot&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16198//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14972096" author="chenheng" created="Fri, 23 Oct 2015 23:25:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;(patch does not seem to do this)&lt;/p&gt;&lt;/blockquote&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    UTIL.getConfiguration().setInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;dfs.namenode.replication.min&quot;&lt;/span&gt;, 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Excuse me &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, what is the difference between your patch and mine?&lt;/p&gt;</comment>
                            <comment id="14972327" author="hadoopqa" created="Sat, 24 Oct 2015 03:09:17 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12768430/HBASE-14648%20%282%29.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12768430/HBASE-14648%20%282%29.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 8b7796b0b661ca960463c9e16034ee8f64494dbd.&lt;br/&gt;
  ATTACHMENT ID: 12768430&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16202//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14972396" author="stack" created="Sat, 24 Oct 2015 05:09:38 +0000"  >&lt;p&gt;There is no difference &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt; I was just reattaching your patch to poke the patch build to rerun to make sure it good... which it seems to be.&lt;/p&gt;

&lt;p&gt;I see this in the patch:     conf.setInt(&quot;dfs.namenode.replication.min&quot;, 3);  Will that override your cited change above?&lt;/p&gt;
</comment>
                            <comment id="14972403" author="chenheng" created="Sat, 24 Oct 2015 05:18:19 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I see this in the patch: conf.setInt(&quot;dfs.namenode.replication.min&quot;, 3); Will that override your cited change above?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;this is for the others.  &lt;br/&gt;
Only &lt;tt&gt;TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&lt;/tt&gt; need to set it to be 1.&lt;br/&gt;
&lt;tt&gt;conf.setInt(&quot;dfs.namenode.replication.min&quot;, 1)&lt;/tt&gt; will override  &lt;tt&gt;conf.setInt(&quot;dfs.namenode.replication.min&quot;, 3)&lt;/tt&gt; in  &lt;tt&gt;TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&lt;/tt&gt; &lt;/p&gt;</comment>
                            <comment id="14972989" author="stack" created="Sun, 25 Oct 2015 03:57:40 +0000"  >&lt;p&gt;Pushed to branch-1.2+ (it wouldn&apos;t go in on branch-1.1 as is). Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14973017" author="hudson" created="Sun, 25 Oct 2015 04:40:01 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #242 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/242/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/242/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14648&quot; title=&quot;Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14648&quot;&gt;&lt;del&gt;HBASE-14648&lt;/del&gt;&lt;/a&gt; Reenable (stack: rev 9ad77becf4fb2d3e768c916900d0792c0287a56f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestWALProcedureStoreOnHDFS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14973098" author="hudson" created="Sun, 25 Oct 2015 06:49:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #306 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/306/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/306/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14648&quot; title=&quot;Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14648&quot;&gt;&lt;del&gt;HBASE-14648&lt;/del&gt;&lt;/a&gt; Reenable (stack: rev d76dbb4f84d8e606ab8d319aab7337ad030c85e8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestWALProcedureStoreOnHDFS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14973104" author="hudson" created="Sun, 25 Oct 2015 06:59:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #305 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/305/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/305/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14648&quot; title=&quot;Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14648&quot;&gt;&lt;del&gt;HBASE-14648&lt;/del&gt;&lt;/a&gt; Reenable (stack: rev 9ad77becf4fb2d3e768c916900d0792c0287a56f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestWALProcedureStoreOnHDFS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14973135" author="hudson" created="Sun, 25 Oct 2015 08:30:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6958 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6958/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6958/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14648&quot; title=&quot;Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14648&quot;&gt;&lt;del&gt;HBASE-14648&lt;/del&gt;&lt;/a&gt; Reenable (stack: rev 46c646d6154d6a5291c308e065802248f4e4e7b9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestWALProcedureStoreOnHDFS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14973142" author="hudson" created="Sun, 25 Oct 2015 08:51:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #271 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/271/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/271/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14648&quot; title=&quot;Reenable TestWALProcedureStoreOnHDFS#testWalRollOnLowReplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14648&quot;&gt;&lt;del&gt;HBASE-14648&lt;/del&gt;&lt;/a&gt; Reenable (stack: rev d76dbb4f84d8e606ab8d319aab7337ad030c85e8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/master/procedure/TestWALProcedureStoreOnHDFS.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12768430" name="HBASE-14648 (2).patch" size="8596" author="stack" created="Fri, 23 Oct 2015 22:39:40 +0000"/>
                            <attachment id="12768354" name="HBASE-14648.patch" size="8596" author="stack" created="Fri, 23 Oct 2015 18:06:48 +0000"/>
                            <attachment id="12767689" name="HBASE-14648.patch" size="8596" author="stack" created="Tue, 20 Oct 2015 23:07:45 +0000"/>
                            <attachment id="12767564" name="HBASE-14648.patch" size="8596" author="chenheng" created="Tue, 20 Oct 2015 08:23:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Oct 2015 04:33:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n76n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>