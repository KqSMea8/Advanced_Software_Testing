<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8926/HBASE-8926.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8926] Do not set default GC options in hbase-env.sh</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8926</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Exporting default GC options in HBASE_OPTS from hbase-env.sh by default can interfere with some deployment scenarios. We probably shouldn&apos;t be doing that.&lt;/p&gt;

&lt;p&gt;Noticed this when using scripts to set up EC2 test clusters for G1 GC. Having &quot;-XX:+UseConcMarkSweepGC&quot; on the command line in that case will cause the JVMs to fail to launch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657185">HBASE-8926</key>
            <summary>Do not set default GC options in hbase-env.sh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jul 2013 01:02:46 +0000</created>
                <updated>Mon, 12 May 2014 03:46:44 +0000</updated>
                            <resolved>Mon, 12 May 2014 03:46:44 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.95.2</version>
                    <version>0.94.10</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13705366" author="enis" created="Thu, 11 Jul 2013 01:27:44 +0000"  >&lt;p&gt;How are we going to default to CMS then? If G1 is used, shouldn&apos;t that setting override HBASE_OPTS anyway? &lt;/p&gt;</comment>
                            <comment id="13705374" author="apurtell" created="Thu, 11 Jul 2013 01:37:34 +0000"  >&lt;p&gt;Not a big deal. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How are we going to default to CMS then&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that is what I am arguing, we don&apos;t set up any GC in hbase-env.sh, or HBASE_OPTS. Everybody is going to change this. Every other &apos;export ...&apos; line in hbase-env.sh is commented out except for HBASE_OPTS. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If G1 is used, shouldn&apos;t that setting override HBASE_OPTS anyway?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;One common method for incrementally updating configuration is to do something effectively like:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;echo &quot;HBASE_OPTS=\&quot;\$HBASE_OPTS foo\&quot;&quot; &amp;gt;&amp;gt; /etc/hbase/conf/hbase-env.sh
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s also trivial to edit hbase-env.sh with sed but since every other setting in the default hbase-env.sh seems to serve a documentary purpose...&lt;/p&gt;</comment>
                            <comment id="13705397" author="enis" created="Thu, 11 Jul 2013 02:14:50 +0000"  >&lt;p&gt;It almost seems like we need -default and -site kind of thing in hbase-env.sh. Maybe we should do hbase-env-default.sh which will define HBASE_OPTS, and you can edit/echo to hbase-env.sh to override the setting. &lt;/p&gt;</comment>
                            <comment id="13705934" author="apurtell" created="Thu, 11 Jul 2013 15:51:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;It almost seems like we need -default and -site kind of thing in hbase-env.sh. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I have no opinion on that. &lt;/p&gt;

&lt;p&gt;It would not help the situation here where there are no &apos;defaults&apos; except HBASE_OPTS, which hardcodes a GC strategy that not everyone is going to want (increasingly). &lt;/p&gt;

&lt;p&gt;In addition to the points mentioned above, the assignment of HBASE_OPTS in hbase-env.sh replaces any existing value of HBASE_OPTS which might be in the environment, so it&apos;s unhelpful on that account too.&lt;/p&gt;</comment>
                            <comment id="13705965" author="eclark" created="Thu, 11 Jul 2013 16:38:13 +0000"  >&lt;p&gt;Can&apos;t we just set HBASE_OPTS something like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DEFAULT_HBASE_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;-XX:+UseConcMarkSweepGC&quot;&lt;/span&gt;
HBASE_OPTS=${HBASE_OPTS:-$DEFAULT_HBASE_OPTS}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13705983" author="apurtell" created="Thu, 11 Jul 2013 17:05:48 +0000"  >&lt;blockquote&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;DEFAULT_HBASE_OPTS=&quot;-XX:+UseConcMarkSweepGC&quot;
HBASE_OPTS=${HBASE_OPTS:-$DEFAULT_HBASE_OPTS}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;That doesn&apos;t address:&lt;/p&gt;

&lt;p&gt;1. Every other setting in the default hbase-env.sh seems to serve a documentary purpose only.&lt;/p&gt;

&lt;p&gt;2. One common method for incrementally updating configuration is to do something effectively like:&lt;br/&gt;
&lt;tt&gt;echo &quot;HBASE_OPTS=\&quot;\$HBASE_OPTS foo\&quot;&quot; &amp;gt;&amp;gt; /etc/hbase/conf/hbase-env.sh&lt;/tt&gt; &lt;/p&gt;

&lt;p&gt;but it is better than what we have now.&lt;/p&gt;</comment>
                            <comment id="13706124" author="enis" created="Thu, 11 Jul 2013 19:09:14 +0000"  >&lt;p&gt;I think it is rather important to supply a decent out-of-the-box experience. If we do not default to CMS (or G1 later), it will be one more step that the user has to perform. I would rather have a default, which is easily overridable. &lt;/p&gt;

&lt;p&gt;The default substitution does not have to be in hbase-env. We can do that in hbase-config, which is the logical place. &lt;/p&gt;</comment>
                            <comment id="13707534" author="apurtell" created="Fri, 12 Jul 2013 23:23:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;The default substitution does not have to be in hbase-env. We can do that in hbase-config, which is the logical place.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds like a good idea. Let me work something up.&lt;/p&gt;</comment>
                            <comment id="13994778" author="apurtell" created="Mon, 12 May 2014 03:46:44 +0000"  >&lt;p&gt;Resolving as not a problem as there isn&apos;t a strong motivation to change the defaults&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591771" name="8926.patch" size="827" author="apurtell" created="Thu, 11 Jul 2013 01:03:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Jul 2013 01:27:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m75b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>