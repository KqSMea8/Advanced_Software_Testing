<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:58:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2024/HBASE-2024.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2024] [stargate] deletes not working as expected</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2024</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From private communication, an example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hbase(main):051:0&amp;gt; get &apos;books&apos;, &apos;fe80a1eb-2b3c-4995-8630-4131ef4b4eb7&apos;

COLUMN                       CELL                                                                             

&#160;attribute:author            timestamp=5410348784985219840, value=\001Richard Matheson                        

&#160;attribute:description       timestamp=5410348784985219840, value=\001The most clever and riveting vampire nov

&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;el since Dracula.                                                                

&#160;attribute:links             timestamp=5410348784985219840, value=--- []\n\n                                  

&#160;attribute:title             timestamp=5410348784985219840, value=\001I Am Legend                             

&#160;log:change                  timestamp=5410348784985219840, value=--- []\n\n                                  

5 row(s) in 0.0070 seconds

&#160;

==========

&#160;

&amp;gt; curl http://localhost:8080/books/fe80a1eb-2b3c-4995-8630-4131ef4b4eb7

&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&amp;gt;&amp;lt;CellSet&amp;gt;&amp;lt;Row key=&quot;ZmU4MGExZWItMmIzYy00OTk1LTg2MzAtNDEzMWVmNGI0ZWI3&quot;&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOmF1dGhvcg==&quot;&amp;gt;AVJpY2hhcmQgTWF0aGVzb24=&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOmRlc2NyaXB0aW9u&quot;&amp;gt;AVRoZSBtb3N0IGNsZXZlciBhbmQgcml2ZXRpbmcgdmFtcGlyZSBub3ZlbCBzaW5jZSBEcmFjdWxhLg==&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOmxpbmtz&quot;&amp;gt;LS0tIFtdCgo=&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOnRpdGxl&quot;&amp;gt;AUkgQW0gTGVnZW5k&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;bG9nOmNoYW5nZQ==&quot;&amp;gt;LS0tIFtdCgo=&amp;lt;/Cell&amp;gt;&amp;lt;/Row&amp;gt;&amp;lt;/CellSet&amp;gt;

&#160;

&amp;gt; curl -X DELETE -v http://localhost:8080/books/fe80a1eb-2b3c-4995-8630-4131ef4b4eb7

* About to connect() to localhost port 8080 (#0)

*   Trying ::1... connected

* Connected to localhost (::1) port 8080 (#0)

&amp;gt; DELETE /books/fe80a1eb-2b3c-4995-8630-4131ef4b4eb7 HTTP/1.1

&amp;gt; User-Agent: curl/7.18.2 (i486-pc-linux-gnu) libcurl/7.18.2 OpenSSL/0.9.8g zlib/1.2.3.3 libidn/1.10

&amp;gt; Host: localhost:8080

&amp;gt; Accept: */*

&amp;gt; 

&amp;lt; HTTP/1.1 200 OK

&amp;lt; Content-Length: 0

&amp;lt; 

* Connection #0 to host localhost left intact

* Closing connection #0

&#160;

&amp;gt; curl http://localhost:8080/books/fe80a1eb-2b3c-4995-8630-4131ef4b4eb7             

&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&amp;gt;&amp;lt;CellSet&amp;gt;&amp;lt;Row key=&quot;ZmU4MGExZWItMmIzYy00OTk1LTg2MzAtNDEzMWVmNGI0ZWI3&quot;&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOmF1dGhvcg==&quot;&amp;gt;AVJpY2hhcmQgTWF0aGVzb24=&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOmRlc2NyaXB0aW9u&quot;&amp;gt;AVRoZSBtb3N0IGNsZXZlciBhbmQgcml2ZXRpbmcgdmFtcGlyZSBub3ZlbCBzaW5jZSBEcmFjdWxhLg==&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOmxpbmtz&quot;&amp;gt;LS0tIFtdCgo=&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;YXR0cmlidXRlOnRpdGxl&quot;&amp;gt;AUkgQW0gTGVnZW5k&amp;lt;/Cell&amp;gt;&amp;lt;Cell timestamp=&quot;5410348784985219840&quot; column=&quot;bG9nOmNoYW5nZQ==&quot;&amp;gt;LS0tIFtdCgo=&amp;lt;/Cell&amp;gt;&amp;lt;/Row&amp;gt;&amp;lt;/CellSet&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12442228">HBASE-2024</key>
            <summary>[stargate] deletes not working as expected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="greglu">Greg Lu</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Dec 2009 16:00:16 +0000</created>
                <updated>Fri, 12 Oct 2012 06:14:16 +0000</updated>
                            <resolved>Thu, 14 Jan 2010 10:42:32 +0000</resolved>
                                                    <fixVersion>0.20.3</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12785184" author="apurtell" created="Thu, 3 Dec 2009 05:04:59 +0000"  >&lt;p&gt;This scenario is covered by the Stargate test suite, which passes in the release and on trunk. Investigate further.&lt;/p&gt;</comment>
                            <comment id="12788898" author="apurtell" created="Thu, 10 Dec 2009 20:27:23 +0000"  >&lt;p&gt;Lowering priority as I am currently not able to reproduce this.&lt;/p&gt;</comment>
                            <comment id="12788983" author="jdcryans" created="Thu, 10 Dec 2009 22:41:26 +0000"  >&lt;p&gt;I just had a discussion with Greg (he&apos;s an ex-coworker of mine) because I remembered a similar problem I had there. In the pasted request, the delete is done without specifying a timestamp but they use ts in microseconds (as the get shows in their shell). That means that the delete is actually putting a marker in their definition of the &quot;past&quot;. The resolution is that if you want to use custom timestamps, you should always provide your own ts instead of letting HBase doing it. This way you don&apos;t get time reference weirdness.&lt;/p&gt;</comment>
                            <comment id="12800096" author="greglu" created="Thu, 14 Jan 2010 03:34:43 +0000"  >&lt;p&gt;After resolving &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2120&quot; title=&quot;[Stargate] Unable to delete column families&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2120&quot;&gt;&lt;del&gt;HBASE-2120&lt;/del&gt;&lt;/a&gt;, I realized what&apos;s causing this problem.&lt;/p&gt;

&lt;p&gt;In RowResource.java (line 274), the Delete object is instantiated without the timestamp argument, even if one was specified. This will prevent any whole row deletes to occur if your database uses a custom timestamp format.&lt;/p&gt;

&lt;p&gt;I&apos;ve created a patch for both trunk and the 0.20 branch.&lt;/p&gt;</comment>
                            <comment id="12800161" author="apurtell" created="Thu, 14 Jan 2010 10:42:32 +0000"  >&lt;p&gt;Applied to trunk and 0.20 branch. Thanks for the fixes Greg!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430217" name="HBASE-2024_0.20.3.patch" size="861" author="greglu" created="Thu, 14 Jan 2010 03:35:21 +0000"/>
                            <attachment id="12430216" name="HBASE-2024_trunk.patch" size="869" author="greglu" created="Thu, 14 Jan 2010 03:35:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Dec 2009 22:41:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08t5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>