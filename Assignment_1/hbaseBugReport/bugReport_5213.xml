<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:25:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5213/HBASE-5213.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5213] &quot;hbase master stop&quot; does not bring down backup masters</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5213</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Typing &quot;hbase master stop&quot; produces the following message:&lt;/p&gt;

&lt;p&gt;&quot;stop   Start cluster shutdown; Master signals RegionServer shutdown&quot;&lt;br/&gt;
It seems like backup masters should be considered part of the cluster, but they are not brought down by &quot;hbase master stop&quot;.&lt;br/&gt;
&quot;stop-hbase.sh&quot; does correctly bring down the backup masters.&lt;/p&gt;

&lt;p&gt;The same behavior is observed when a client app makes use of the client API HBaseAdmin.shutdown() &lt;a href=&quot;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HBaseAdmin.html#shutdown(&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HBaseAdmin.html#shutdown(&lt;/a&gt;) &amp;#8211; this isn&apos;t too surprising since I think &quot;hbase master stop&quot; just calls this API.&lt;/p&gt;

&lt;p&gt;It seems like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1448&quot; title=&quot;Add a node in ZK to tell all masters to shutdown.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1448&quot;&gt;&lt;del&gt;HBASE-1448&lt;/del&gt;&lt;/a&gt; address this; perhaps there was a regression?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538595">HBASE-5213</key>
            <summary>&quot;hbase master stop&quot; does not bring down backup masters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gchanan">Gregory Chanan</assignee>
                                    <reporter username="gchanan">Gregory Chanan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2012 02:38:53 +0000</created>
                <updated>Thu, 9 May 2013 22:40:18 +0000</updated>
                            <resolved>Mon, 9 Apr 2012 18:45:10 +0000</resolved>
                                    <version>0.90.5</version>
                    <version>0.92.0</version>
                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="13221354" author="zhihyu@ebaysf.com" created="Fri, 2 Mar 2012 23:44:44 +0000"  >&lt;p&gt;In stop-hbase.sh, I see:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  # TODO: store backup masters in ZooKeeper and have the primary send them a shutdown message
  # stop any backup masters
  &lt;span class=&quot;code-quote&quot;&gt;&quot;$bin&quot;&lt;/span&gt;/hbase-daemons.sh --config &lt;span class=&quot;code-quote&quot;&gt;&quot;${HBASE_CONF_DIR}&quot;&lt;/span&gt; \
    --hosts &lt;span class=&quot;code-quote&quot;&gt;&quot;${HBASE_BACKUP_MASTERS}&quot;&lt;/span&gt; stop master-backup
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We have several options:&lt;br/&gt;
1. adding a &quot;shutdown node&quot; in ZK on which all masters should listen&lt;br/&gt;
2. introducing &quot;backup masters&quot; node in ZK so that we know where shutdown message should be sent&lt;/p&gt;</comment>
                            <comment id="13224884" author="gchanan" created="Thu, 8 Mar 2012 00:53:26 +0000"  >&lt;ul&gt;
	&lt;li&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt;-v0-trunk.patch *&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This fixes the issue and includes a new unit test.  I also tested on a cluster using &quot;hbase master stop&quot; and the backup masters properly shutdown.&lt;/p&gt;

&lt;p&gt;If this is acceptable I&apos;ll provide patches for previous versions.&lt;/p&gt;</comment>
                            <comment id="13224899" author="zhihyu@ebaysf.com" created="Thu, 8 Mar 2012 01:09:47 +0000"  >&lt;p&gt;The approach is good.&lt;br/&gt;
Formatting needs to improve in several places. Such as:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!clusterStatusTracker.isClusterUp()) {
+     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.master.stop(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cluster went down before &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; master became active&quot;&lt;/span&gt;);
+      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;A space should be added between if and (&lt;br/&gt;
Indentation is a little off.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+ * Copyright 2012 The Apache Software Foundation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;No year is needed above.&lt;/p&gt;</comment>
                            <comment id="13224944" author="hadoopqa" created="Thu, 8 Mar 2012 02:16:53 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12517498/HBASE-5213-v0-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12517498/HBASE-5213-v0-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -129 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 154 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1130//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1130//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1130//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1130//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1130//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1130//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13224998" author="gchanan" created="Thu, 8 Mar 2012 05:06:12 +0000"  >&lt;ul&gt;
	&lt;li&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt;-v1-trunk.patch *&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Address formatting issues with prior patch.&lt;/p&gt;</comment>
                            <comment id="13225020" author="hadoopqa" created="Thu, 8 Mar 2012 05:58:14 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12517524/HBASE-5213-v1-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12517524/HBASE-5213-v1-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -129 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 154 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1132//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1132//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1132//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1132//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1132//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1132//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13225695" author="gchanan" created="Fri, 9 Mar 2012 00:04:19 +0000"  >&lt;ul&gt;
	&lt;li&gt;Attached v2 for trunk,92, and 90 *&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For trunk, only small differences from previous version (comments and spacing).&lt;/p&gt;

&lt;p&gt;Tested that trunk patch works with 94 as well.&lt;/p&gt;

&lt;p&gt;Created patches for 92 and 90.&lt;/p&gt;</comment>
                            <comment id="13225712" author="zhihyu@ebaysf.com" created="Fri, 9 Mar 2012 00:27:04 +0000"  >&lt;p&gt;I ran TestAdmin three times based on patch v2.&lt;br/&gt;
They passed.&lt;/p&gt;</comment>
                            <comment id="13225731" author="zhihyu@ebaysf.com" created="Fri, 9 Mar 2012 00:42:28 +0000"  >&lt;p&gt;Will integrated TRUNK patch to 0.94 and TRUNK if there is no objection.&lt;/p&gt;</comment>
                            <comment id="13225748" author="hadoopqa" created="Fri, 9 Mar 2012 00:56:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12517644/HBASE-5213-v2-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12517644/HBASE-5213-v2-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -123 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 159 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestMasterObserver&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1140//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1140//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1140//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1140//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1140//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1140//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13226116" author="zhihyu@ebaysf.com" created="Fri, 9 Mar 2012 14:50:13 +0000"  >&lt;p&gt;Integrated to TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Gregory.&lt;/p&gt;</comment>
                            <comment id="13226136" author="hudson" created="Fri, 9 Mar 2012 15:27:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2675 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2675/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2675/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt; &quot;hbase master stop&quot; does not bring down backup masters (Gregory) (Revision 1298859)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestMasterShutdown.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13226143" author="zhihyu@ebaysf.com" created="Fri, 9 Mar 2012 15:35:45 +0000"  >&lt;p&gt;Integrated to 0.94 as well.&lt;/p&gt;</comment>
                            <comment id="13226184" author="hudson" created="Fri, 9 Mar 2012 16:41:51 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #23 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/23/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/23/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt; &quot;hbase master stop&quot; does not bring down backup masters (Gregory) (Revision 1298877)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMasterShutdown.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13226353" author="gchanan" created="Fri, 9 Mar 2012 19:25:14 +0000"  >&lt;p&gt;Any thoughts regarding 92 or 90?&lt;/p&gt;

&lt;p&gt;Thanks for the reviews/commit.&lt;/p&gt;</comment>
                            <comment id="13226361" author="stack" created="Fri, 9 Mar 2012 19:32:02 +0000"  >&lt;p&gt;Marking as for 0.92.2 (of if a new 0.92.1 RC, will include it in that)&lt;/p&gt;</comment>
                            <comment id="13226380" author="gchanan" created="Fri, 9 Mar 2012 19:54:08 +0000"  >&lt;p&gt;@stack:&lt;/p&gt;

&lt;p&gt;You wrote 0.92.2 but marked as 0.90.2.  Changed to 0.92.2&lt;/p&gt;</comment>
                            <comment id="13226385" author="stack" created="Fri, 9 Mar 2012 19:57:06 +0000"  >&lt;p&gt;Thanks G.&lt;/p&gt;</comment>
                            <comment id="13226768" author="hudson" created="Sat, 10 Mar 2012 05:55:49 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #133 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt; &quot;hbase master stop&quot; does not bring down backup masters (Gregory) (Revision 1298859)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/master/TestMasterShutdown.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13242849" author="jmhsieh" created="Fri, 30 Mar 2012 23:36:32 +0000"  >&lt;p&gt;Noticed that this was committed to 0.94 and 0.96/trunk but not to 0.92 or 0.90.  running some tests on thos verions and if clean will commit.&lt;/p&gt;</comment>
                            <comment id="13243638" author="jmhsieh" created="Sun, 1 Apr 2012 03:34:36 +0000"  >&lt;p&gt;Committed to 0.92 and 0.90.  Thanks Greg.&lt;/p&gt;</comment>
                            <comment id="13243639" author="jmhsieh" created="Sun, 1 Apr 2012 03:34:46 +0000"  >&lt;p&gt;Committed to 0.92 and 0.90.  Thanks Greg.&lt;/p&gt;</comment>
                            <comment id="13243673" author="hudson" created="Sun, 1 Apr 2012 07:16:04 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #348 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/348/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/348/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt; &quot;hbase master stop&quot; does not bring down backup masters (Gregory) (Revision 1308012)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/master/TestMasterShutdown.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13246962" author="hudson" created="Thu, 5 Apr 2012 02:52:07 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #104 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/104/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/104/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5213&quot; title=&quot;&amp;quot;hbase master stop&amp;quot; does not bring down backup masters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5213&quot;&gt;&lt;del&gt;HBASE-5213&lt;/del&gt;&lt;/a&gt; &quot;hbase master stop&quot; does not bring down backup masters (Gregory) (Revision 1308012)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/master/TestMasterShutdown.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13248407" author="stack" created="Fri, 6 Apr 2012 15:03:21 +0000"  >&lt;p&gt;This seems to have broken 0.90 builds.  Can we revert from 0.90 trunk till fixed.  See here: &lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/hbase-0.90/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/hbase-0.90/&lt;/a&gt;  Build #458 is where it got committed and thereafter the build fails rolling the wal test.&lt;/p&gt;</comment>
                            <comment id="13248416" author="dsw" created="Fri, 6 Apr 2012 15:18:11 +0000"  >&lt;p&gt;Greg is out of town for the next week or so ... IMHO if it&apos;s breaking 0.90, we should revert for now and Greg can look at it when he gets back.&lt;/p&gt;</comment>
                            <comment id="13248454" author="zhihyu@ebaysf.com" created="Fri, 6 Apr 2012 16:11:40 +0000"  >&lt;p&gt;TestLogRolling hangs in 0.90&lt;/p&gt;</comment>
                            <comment id="13248460" author="zhihyu@ebaysf.com" created="Fri, 6 Apr 2012 16:12:59 +0000"  >&lt;p&gt;jstack for the hanging test.&lt;/p&gt;</comment>
                            <comment id="13248467" author="jmhsieh" created="Fri, 6 Apr 2012 16:21:40 +0000"  >&lt;p&gt;I&apos;ll revert the 0.90 version.  Sorry about this fellas.&lt;/p&gt;</comment>
                            <comment id="13249658" author="lhofhansl" created="Mon, 9 Apr 2012 03:31:07 +0000"  >&lt;p&gt;So from the discussion the test is only a problem in 0.90? Do we know why this is?&lt;br/&gt;
Asking because we&apos;re close to another RC attempt for 0.94.0.&lt;/p&gt;</comment>
                            <comment id="13249661" author="jmhsieh" created="Mon, 9 Apr 2012 03:37:56 +0000"  >&lt;p&gt;The issue is apparently only in 0.90.  How about we close this issue for 0.92/0.94/trunk and create a follow on issue for 0.90?  This will unblock this for 0.94 and Greg can address this when he gets back.&lt;/p&gt;</comment>
                            <comment id="13250053" author="lhofhansl" created="Mon, 9 Apr 2012 18:45:10 +0000"  >&lt;p&gt;Marking this one as fixed. Created sub-issue for 0.90 discussion.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12646906">HBASE-8519</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12521690" name="5213.jstack" size="138402" author="zhihyu@ebaysf.com" created="Fri, 6 Apr 2012 16:12:59 +0000"/>
                            <attachment id="12517498" name="HBASE-5213-v0-trunk.patch" size="13712" author="gchanan" created="Thu, 8 Mar 2012 00:53:26 +0000"/>
                            <attachment id="12517524" name="HBASE-5213-v1-trunk.patch" size="13712" author="gchanan" created="Thu, 8 Mar 2012 05:06:12 +0000"/>
                            <attachment id="12517642" name="HBASE-5213-v2-90.patch" size="13139" author="gchanan" created="Fri, 9 Mar 2012 00:04:18 +0000"/>
                            <attachment id="12517643" name="HBASE-5213-v2-92.patch" size="13358" author="gchanan" created="Fri, 9 Mar 2012 00:04:19 +0000"/>
                            <attachment id="12517644" name="HBASE-5213-v2-trunk.patch" size="13547" author="gchanan" created="Fri, 9 Mar 2012 00:04:19 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12550253">HBASE-5751</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Mar 2012 23:44:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02hcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12411</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>