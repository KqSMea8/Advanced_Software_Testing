<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:54:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8337/HBASE-8337.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8337] Investigate why disabling hadoop short circuit read is required to make recovery tests pass consistently under hadoop2</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8337</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7636&quot; title=&quot;TestDistributedLogSplitting#testThreeRSAbort fails against hadoop 2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7636&quot;&gt;&lt;del&gt;HBASE-7636&lt;/del&gt;&lt;/a&gt; makes some TestDistributedLogSplitting pass consistently by disabling hdfs short circuit reads.  &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8349&quot; title=&quot;TestLogRolling#TestLogRollOnDatanodeDeath hangs under hadoop2 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8349&quot;&gt;&lt;del&gt;HBASE-8349&lt;/del&gt;&lt;/a&gt; makes datanode node death recovery pass consistently by disabling hdfs short circuit reads.&lt;/p&gt;

&lt;p&gt;This will likely require configuration modifications to fix and may have different fixes for hadoop1, hadoop2 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2246&quot; title=&quot;Shortcut a local client reads to a Datanodes files directly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2246&quot;&gt;&lt;del&gt;HDFS-2246&lt;/del&gt;&lt;/a&gt;), and hadoop3 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt;)...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12642304">HBASE-8337</key>
            <summary>Investigate why disabling hadoop short circuit read is required to make recovery tests pass consistently under hadoop2</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12609485">HBASE-6891</parent>
                                    <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Apr 2013 19:28:59 +0000</created>
                <updated>Mon, 6 May 2013 22:49:20 +0000</updated>
                            <resolved>Mon, 6 May 2013 22:49:16 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.95.1</version>
                                                    <component>hadoop2</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13630850" author="apurtell" created="Sat, 13 Apr 2013 01:18:00 +0000"  >&lt;p&gt;Looks like the minicluster adds some users for each datanode? e.g. $user.hfs.1 $user.hfs.2 and $user.hfs.3 ? And if not one of these, getBlockLocalPathInfo throws an AccessControlException.&lt;/p&gt;</comment>
                            <comment id="13632408" author="jmhsieh" created="Tue, 16 Apr 2013 00:16:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;Colin P. McCabe&lt;/a&gt; says that after he gets &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt; committed he&apos;ll come help us set things up properly.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt; specifcally deals with improving the short circuit read feature.&lt;/p&gt;</comment>
                            <comment id="13632463" author="apurtell" created="Tue, 16 Apr 2013 01:17:57 +0000"  >&lt;p&gt;Any sense on when &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt; might be in Hadoop 2 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;Colin P. McCabe&lt;/a&gt;? Merely reading that JIRA is frustrating. Maybe I have answered my own question.&lt;/p&gt;</comment>
                            <comment id="13632467" author="cmccabe" created="Tue, 16 Apr 2013 01:25:47 +0000"  >&lt;p&gt;It&apos;s good to have &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt; merged into trunk.  I hope that the merge into branch-2 will not take too long.  Regardless, I think the bottom line is that HBase needs to have support for both new-style and old-style short-circuit local reads, at least for a while.  Even if we had &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt; in branch-2 now, you&apos;d still need this support to test against branch-1, or test against a Windows-based HDFS cluster.&lt;/p&gt;</comment>
                            <comment id="13636997" author="jmhsieh" created="Fri, 19 Apr 2013 23:11:36 +0000"  >&lt;p&gt;Chatted with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;Colin P. McCabe&lt;/a&gt;.  There are essentially three options.  1) disable scr. 2) enable old-style insecure scr. 3) enable new-style (hadoop3 / CDH4.0) scr.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;check for native code enabled and classloader knows about BlockReaderLocalLegacy =&amp;gt; new style SCR&lt;/li&gt;
	&lt;li&gt;else =&amp;gt; old style SCR&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;configuring new-style SCR
	&lt;ul&gt;
		&lt;li&gt;dfs.client.read.shortcircuit = true&lt;/li&gt;
		&lt;li&gt;dfs.client.read.shortcircuit.skip.checksum = false&lt;/li&gt;
		&lt;li&gt;call DomainSocket.disableBindPathValidation();&lt;/li&gt;
		&lt;li&gt;new TemporarySocketDirectory()
		&lt;ul&gt;
			&lt;li&gt;dfs.domain.socket.path = tempSockDir.getPath();&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;configuring old-style (insecure) SCR
	&lt;ul&gt;
		&lt;li&gt;dfs.client.read.shortcircuit = true&lt;/li&gt;
		&lt;li&gt;dfs.client.read.shortcircuit.skip.checksum = false&lt;/li&gt;
		&lt;li&gt;dfs.block.local-path-access.user = &amp;lt;comma-separated list of usernames that will be used to access&amp;gt;&lt;/li&gt;
		&lt;li&gt;dfs.datanode.data.dir.perm = 755&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13637007" author="jmhsieh" created="Fri, 19 Apr 2013 23:25:06 +0000"  >&lt;p&gt;We defaulted to having &quot;old-style&quot; insecure scr on.  The error occurs because we create separate users in HBaseMiniCluster (originally added from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3194&quot; title=&quot;HBase should run on both secure and vanilla versions of Hadoop 0.20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3194&quot;&gt;&lt;del&gt;HBASE-3194&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java#L279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java#L279&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java#L353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java#L353&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13639941" author="devaraj" created="Wed, 24 Apr 2013 01:23:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, not sure I fully got the conclusion here. Is the conclusion here that we wait until a Hadoop release with &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-347&quot; title=&quot;DFS read performance suboptimal when client co-located on nodes with data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-347&quot;&gt;&lt;del&gt;HDFS-347&lt;/del&gt;&lt;/a&gt; happens and then fix this issue; disable SCR for the unit tests until then? Looking at your last comment, it seems the problem won&apos;t happen in real deployments where all RegionServers run as the same user and HDFS is configured to allow that user for SCR (which is the most typical deployment scenario).&lt;/p&gt;

&lt;p&gt;I am trying to see if we can move this out of the 0.95.x list.&lt;/p&gt;</comment>
                            <comment id="13639945" author="jmhsieh" created="Wed, 24 Apr 2013 01:27:50 +0000"  >&lt;p&gt;I need some feedback from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; about why we need the use of the different users in MiniHBaseCluster.  For the sake of getting unit tests to pass, I think turning SCR off is our current goto option (a few recovery tests have been &quot;fixed&quot; by disabling SCR in them).  The next option is to use the insecure version and fix our configuration/users in our MiniHBaseCluster.  Colin advocate for using new style, but apache 2.0 series won&apos;t have it.&lt;/p&gt;</comment>
                            <comment id="13639970" author="cmccabe" created="Wed, 24 Apr 2013 01:44:19 +0000"  >&lt;p&gt;Actually, the 2.0 series will have SCR; it&apos;s just not there now.&lt;/p&gt;</comment>
                            <comment id="13640651" author="apurtell" created="Wed, 24 Apr 2013 16:58:56 +0000"  >&lt;p&gt;I am no longer getting &quot;foo mentioned you&quot; notices from JIRA.&lt;/p&gt;

&lt;p&gt;I don&apos;t know why the different users in MiniHBaseCluster. We have this in init():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// manually add the regionservers as other users
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;nRegionNodes; i++) {
        Configuration rsConf = HBaseConfiguration.create(conf);
        User user = HBaseTestingUtility.getDifferentUser(rsConf,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;.hfs.&quot;&lt;/span&gt;+index++);
        hbaseCluster.addRegionServer(rsConf, i, user);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;added in r1342856 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3194&quot; title=&quot;HBase should run on both secure and vanilla versions of Hadoop 0.20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3194&quot;&gt;&lt;del&gt;HBASE-3194&lt;/del&gt;&lt;/a&gt; HBase should run on both secure and vanilla versions of Hadoop 0.20)&lt;/p&gt;</comment>
                            <comment id="13640654" author="apurtell" created="Wed, 24 Apr 2013 17:02:15 +0000"  >&lt;p&gt;Maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt; could say why the regionservers are run under different users. I don&apos;t see the need for that. Let me try removing that code right now.&lt;/p&gt;</comment>
                            <comment id="13640658" author="jmhsieh" created="Wed, 24 Apr 2013 17:09:08 +0000"  >&lt;p&gt;Thanks Andrew. I think I mis-remembered the git blame that I did.&lt;/p&gt;</comment>
                            <comment id="13640696" author="devaraj" created="Wed, 24 Apr 2013 17:37:09 +0000"  >&lt;p&gt;Am wondering why the same tests (that were failing with hadoop-2 profile) passed with the hadoop-1 profile (with SCR on). I bumped into &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7636?focusedCommentId=13630468&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13630468&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-7636?focusedCommentId=13630468&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13630468&lt;/a&gt; where Jon asked whether the SCR implementation was different in hadoop1/hadoop2, but it wasn&apos;t clear from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cmccabe&quot; class=&quot;user-hover&quot; rel=&quot;cmccabe&quot;&gt;Colin P. McCabe&lt;/a&gt; response whether the difference matters at all. Any insights?&lt;/p&gt;</comment>
                            <comment id="13640903" author="apurtell" created="Wed, 24 Apr 2013 20:29:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t see the need for that. Let me try removing that code right now.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Looks like this has allowed us to get away with things we shouldn&apos;t. Tested using the same User for master and all regionservers in the minicluster, with 0.94 branch and the default Hadoop 1. TestMasterZKSessionRecovery OOMEs after surefire tries to parse a 180 MB logfile full of IOExceptions. As soon as one regionserver aborts, its filesystem is cached and/or closed by user, the master file system&apos;s DFS client is closed, and all hell breaks loose.&lt;/p&gt;</comment>
                            <comment id="13640911" author="stack" created="Wed, 24 Apr 2013 20:31:34 +0000"  >&lt;p&gt;I thought being a different user was necessary doing stuff like lease recovery and for security testing?&lt;/p&gt;</comment>
                            <comment id="13640918" author="apurtell" created="Wed, 24 Apr 2013 20:38:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;I thought being a different user was necessary doing stuff like lease recovery and for security testing?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We do allocate additional users for testing with various privilege grants in the security tests.&lt;/p&gt;</comment>
                            <comment id="13640928" author="apurtell" created="Wed, 24 Apr 2013 20:43:02 +0000"  >&lt;p&gt;This may be naive, because I don&apos;t have a deep understanding of the minicluster in particular, but regionservers running under separate user accounts is unlike the typical deployment, right? in which all regionservers are likely to be running under the same service account, probably named &quot;hbase&quot;.&lt;/p&gt;</comment>
                            <comment id="13640976" author="cmccabe" created="Wed, 24 Apr 2013 21:25:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks like this has allowed us to get away with things we shouldn&apos;t. Tested using the same User for master and all regionservers in the minicluster, with 0.94 branch and the default Hadoop 1. TestMasterZKSessionRecovery OOMEs after surefire tries to parse a 180 MB logfile full of IOExceptions. As soon as one regionserver aborts, its filesystem is cached and/or closed by user, the master file system&apos;s DFS client is closed, and all hell breaks loose.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You can use &lt;tt&gt;Filesystem#newInstance&lt;/tt&gt; to prevent this problem.&lt;/p&gt;</comment>
                            <comment id="13641031" author="ghelmling" created="Wed, 24 Apr 2013 22:05:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; Yes the separate user per regionserver stuff in MiniHBaseCluster is a bit wonky, but I believe that pre-dates my changes.  I would have to look back through the history again, but I think I just adapted the mini cluster code to correctly handle this using User.runAs() when integrating security.&lt;/p&gt;

&lt;p&gt;I agree that each RS running as a different user is not going to be a typical setup.  Sounds like we might have been using that to work around FileSystem instance caching?  There may also be issues with HConnection sharing with a single user, due to the HCM connection caching.  There&apos;s another config property we can set to work around that though.  In general, running multiple RS&apos;s within a single process is not a typical setup either.&lt;/p&gt;

&lt;p&gt;Maybe I&apos;m missing it in the discussion above, but why is this only a problem with hadoop2 and not hadoop1?  Is SCR not enabled by default in hadoop1?&lt;/p&gt;</comment>
                            <comment id="13641040" author="apurtell" created="Wed, 24 Apr 2013 22:11:32 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt;. I pinged because you were the reporter on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3194&quot; title=&quot;HBase should run on both secure and vanilla versions of Hadoop 0.20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3194&quot;&gt;&lt;del&gt;HBASE-3194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In general, running multiple RS&apos;s within a single process is not a typical setup either.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is true. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; To clarify, I mean from the perspective of HDFS.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Maybe I&apos;m missing it in the discussion above, but why is this only a problem with hadoop2 and not hadoop1?  Is SCR not enabled by default in hadoop1?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This was what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; was asking about above too.&lt;/p&gt;</comment>
                            <comment id="13641069" author="cmccabe" created="Wed, 24 Apr 2013 22:25:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe I&apos;m missing it in the discussion above, but why is this only a problem with hadoop2 and not hadoop1? Is SCR not enabled by default in hadoop1?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Probably because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4595&quot; title=&quot;When short circuit read is fails, DFSClient does not fallback to regular reads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4595&quot;&gt;&lt;del&gt;HDFS-4595&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13641076" author="ghelmling" created="Wed, 24 Apr 2013 22:28:25 +0000"  >&lt;p&gt;I just looked through the commit history and confirmed that a version of running each RS as a different user was present prior to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3194&quot; title=&quot;HBase should run on both secure and vanilla versions of Hadoop 0.20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3194&quot;&gt;&lt;del&gt;HBASE-3194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It looks like the &quot;run as different user&quot; stuff goes back to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2587&quot; title=&quot;Corral where tests write data when running and make sure clean target removes all written&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2587&quot;&gt;&lt;del&gt;HBASE-2587&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13641088" author="devaraj" created="Wed, 24 Apr 2013 22:35:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;Probably because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-4595&quot; title=&quot;When short circuit read is fails, DFSClient does not fallback to regular reads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-4595&quot;&gt;&lt;del&gt;HDFS-4595&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Seems like a possibility. Thanks for the pointer Colin.&lt;/p&gt;</comment>
                            <comment id="13650197" author="jmhsieh" created="Mon, 6 May 2013 22:49:16 +0000"  >&lt;p&gt;Using Colin&apos;s explaination to close the issue &amp;#8211; hadoop2&apos;s SCR doesn&apos;t fall back to normal access after a failure like hadoop1&apos;s.  Should be fixed when we move to hadoop-2.0.5.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12410156">HDFS-347</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12628582">HBASE-7636</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12642634">HBASE-8349</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12636659">HDFS-4595</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Apr 2013 01:18:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1johr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>