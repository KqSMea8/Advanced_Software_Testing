<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:42:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7104/HBASE-7104.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7104] HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7104</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We&apos;ve got 3 of them on trunk.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.hbase:hbase-server:jar:0.95-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- io.netty:netty:jar:3.5.0.Final:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- org.apache.zookeeper:zookeeper:jar:3.4.3:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; |  &amp;#45; org.jboss.netty:netty:jar:3.2.2.Final:compile&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.hbase:hbase-hadoop2-compat:jar:0.95-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- org.apache.hadoop:hadoop-client:jar:2.0.2-alpha:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; |  +- org.apache.hadoop:hadoop-mapreduce-client-app:jar:2.0.2-alpha:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; |  |  &amp;#45; org.jboss.netty:netty:jar:3.2.4.Final:compile&lt;/p&gt;


&lt;p&gt;The patch attached:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixes this for hadoop 1 profile&lt;/li&gt;
	&lt;li&gt;bump the netty version to 3.5.9&lt;/li&gt;
	&lt;li&gt;does not fix it for hadoop 2. I don&apos;t know why, but I haven&apos;t investigate: as it&apos;s still alpha may be they will change the version on hadoop side anyway.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests are ok.&lt;/p&gt;

&lt;p&gt;I haven&apos;t really investigated the differences between netty 3.2 and 3.5. A quick search seems to say it&apos;s ok, but don&apos;t hesitate to raise a warning...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614939">HBASE-7104</key>
            <summary>HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Nov 2012 11:33:22 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:16 +0000</updated>
                            <resolved>Wed, 14 Nov 2012 11:17:56 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13491402" author="hadoopqa" created="Tue, 6 Nov 2012 11:55:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12552262/7104.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12552262/7104.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 77 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransaction&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3232//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3232//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3232//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3232//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13492243" author="nkeywal" created="Wed, 7 Nov 2012 10:13:28 +0000"  >&lt;p&gt;Error is from one of the usual suspects. Not reproduced locally. Will commit tomorrow if nobody raises a hand.&lt;/p&gt;</comment>
                            <comment id="13492588" author="stack" created="Wed, 7 Nov 2012 18:58:15 +0000"  >&lt;p&gt;+1 on patch.  The exclusion works for h1.  We need to figure how to do exclusion for h2 too.  Its harder because there are multiple jars included and maven doesn&apos;t let you do xinclude or the like so you&apos;d have to repeat the (large) exclusion set for each of the hadoop2 jars listed (least that is how it seems to me currently).&lt;/p&gt;</comment>
                            <comment id="13495259" author="nkeywal" created="Mon, 12 Nov 2012 13:44:33 +0000"  >&lt;p&gt;Committed to trunk. I had multiple errors when I tested before commit, but not on the same tests. So...&lt;br/&gt;
For 2.0.2 alpha, I would expect that it can be changed on the hadoop side? After all, the netty 3.5 is now at subversion 3.5.9, so could be considered as reliable now... &lt;/p&gt;</comment>
                            <comment id="13495299" author="hudson" created="Mon, 12 Nov 2012 14:42:40 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3531 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3531/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3531/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7104&quot; title=&quot;HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7104&quot;&gt;&lt;del&gt;HBASE-7104&lt;/del&gt;&lt;/a&gt;  HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2 (Revision 1408274)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
nkeywal : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13495712" author="lhofhansl" created="Mon, 12 Nov 2012 22:46:08 +0000"  >&lt;p&gt;I am getting this failure locally after this change:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal on project hbase-hadoop2-compat: Could not resolve dependencies for project org.apache.hbase:hbase-hadoop2-compat:jar:0.95-SNAPSHOT: Could not find artifact org.apache.hadoop:hadoop-mapreduce-client-app:jar:1.1.0 in cloudbees netty (&lt;a href=&quot;http://repository-netty.forge.cloudbees.com/snapshot/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repository-netty.forge.cloudbees.com/snapshot/&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I tried to pass -U to maven, but that did not resolve the problem.&lt;/p&gt;</comment>
                            <comment id="13495749" author="hudson" created="Mon, 12 Nov 2012 23:26:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #257 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/257/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/257/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7104&quot; title=&quot;HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7104&quot;&gt;&lt;del&gt;HBASE-7104&lt;/del&gt;&lt;/a&gt;  HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2 (Revision 1408274)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
nkeywal : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13495922" author="stack" created="Tue, 13 Nov 2012 04:10:44 +0000"  >&lt;p&gt;It fails for Lars but works for you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13495923" author="lhofhansl" created="Tue, 13 Nov 2012 04:12:49 +0000"  >&lt;p&gt;Precommit fails with the same error, but the trunk build does not. Strange.&lt;/p&gt;</comment>
                            <comment id="13495941" author="lhofhansl" created="Tue, 13 Nov 2012 04:35:43 +0000"  >&lt;p&gt;If I remove part of the patch, like so:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      &amp;lt;dependency&amp;gt;
-        &amp;lt;groupId&amp;gt;org.apache.hadoop&amp;lt;/groupId&amp;gt;
-        &amp;lt;artifactId&amp;gt;hadoop-mapreduce-client-app&amp;lt;/artifactId&amp;gt;
-        &amp;lt;version&amp;gt;${hadoop.version}&amp;lt;/version&amp;gt;
-       &amp;lt;exclusions&amp;gt;
-         &amp;lt;exclusion&amp;gt;
-           &amp;lt;groupId&amp;gt;org.jboss.netty&amp;lt;/groupId&amp;gt;
-            &amp;lt;artifactId&amp;gt;netty&amp;lt;/artifactId&amp;gt;
-         &amp;lt;/exclusion&amp;gt;
-       &amp;lt;/exclusions&amp;gt;
-      &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The compile is happy again.&lt;/p&gt;</comment>
                            <comment id="13495944" author="stack" created="Tue, 13 Nov 2012 04:39:07 +0000"  >&lt;p&gt;Back it out for now I&apos;d say &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13495948" author="lhofhansl" created="Tue, 13 Nov 2012 04:41:26 +0000"  >&lt;p&gt;Yeah, lemme do that. Then we can regroup.&lt;/p&gt;</comment>
                            <comment id="13495949" author="lhofhansl" created="Tue, 13 Nov 2012 04:42:28 +0000"  >&lt;p&gt;Done.&lt;/p&gt;</comment>
                            <comment id="13496040" author="nkeywal" created="Tue, 13 Nov 2012 08:43:20 +0000"  >&lt;p&gt;I suppose it works when you previously built hadoop 1.1 locally. I have the same error if I delete my repository.&lt;br/&gt;
I don&apos;t why it happens this way. &lt;/p&gt;

&lt;p&gt;With this, I have:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- org.apache.hbase:hbase-hadoop1-compat:test-jar:tests:0.95-SNAPSHOT:test&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- io.netty:netty:jar:3.5.9.Final:compile&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- org.apache.hadoop:hadoop-client:jar:2.0.2-alpha:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; |  +- org.apache.hadoop:hadoop-mapreduce-client-app:jar:2.0.2-alpha:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; |  |  &amp;#45; org.jboss.netty:netty:jar:3.2.4.Final:compile&lt;/p&gt;

&lt;p&gt;So we still have the 3.2.4 when we build HBase, but as it comes only from the compat hadoop 2 module, let&apos;s say it&apos;s acceptable for now (I hope it will be changed in hadoop itself)...&lt;/p&gt;

&lt;p&gt;Sorry for the mess...&lt;/p&gt;</comment>
                            <comment id="13496050" author="hudson" created="Tue, 13 Nov 2012 09:07:56 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3534 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3534/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3534/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7104&quot; title=&quot;HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7104&quot;&gt;&lt;del&gt;HBASE-7104&lt;/del&gt;&lt;/a&gt; Partial revert, due to build issues. (Revision 1408575)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13496194" author="hudson" created="Tue, 13 Nov 2012 13:37:56 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #258 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/258/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/258/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7104&quot; title=&quot;HBase includes multiple versions of netty: 3.5.0; 3.2.4; 3.2.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7104&quot;&gt;&lt;del&gt;HBASE-7104&lt;/del&gt;&lt;/a&gt; Partial revert, due to build issues. (Revision 1408575)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13496260" author="lhofhansl" created="Tue, 13 Nov 2012 15:36:44 +0000"  >&lt;p&gt;Thanks N. This is a mess, but not because of your changes, but because of the Maven dependency hell &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13775328" author="stack" created="Mon, 23 Sep 2013 18:31:16 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552262" name="7104.v1.patch" size="1398" author="nkeywal" created="Tue, 6 Nov 2012 11:39:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Nov 2012 11:55:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0es1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>