<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:05:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9534/HBASE-9534.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9534] Short-Circuit Coprocessor HTable access when on the same server</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9534</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Coprocessors currently create a full HTable when they want to write. However, we know that coprocessors must run from within an HBase server (either master or RS). For the master, its rare that we are going to be doing performance sensitive operations, but RS calls could be very time-intensive. &lt;/p&gt;

&lt;p&gt;Therefore, we should be able to tell when a call from a CP attempts to talk to the RS on which it lives and just short-circuit to calling that RS, rather than going the long way around (which does the full marshalling/unmarshalling of data, as well as going over the loopback interface).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668611">HBASE-9534</key>
            <summary>Short-Circuit Coprocessor HTable access when on the same server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                            <label>coprocessors</label>
                            <label>performance</label>
                            <label>regionserver</label>
                    </labels>
                <created>Sat, 14 Sep 2013 02:53:27 +0000</created>
                <updated>Sun, 8 Dec 2013 04:41:14 +0000</updated>
                            <resolved>Wed, 18 Sep 2013 18:49:47 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.12</fixVersion>
                    <fixVersion>0.96.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                                                            <comments>
                            <comment id="13767330" author="jesse_yates" created="Sat, 14 Sep 2013 02:55:26 +0000"  >&lt;p&gt;First cut for trunk. Surprisingly, not all the much code, but does get down into the guts a little bit.&lt;/p&gt;

&lt;p&gt;Could use a glance over to make sure I&apos;m not messing up the RPC stuff (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;?).&lt;/p&gt;</comment>
                            <comment id="13767352" author="stack" created="Sat, 14 Sep 2013 03:45:21 +0000"  >&lt;p&gt;Ugly&lt;/p&gt;

&lt;p&gt;-interface MasterAdminKeepAliveConnection&lt;br/&gt;
+public interface MasterAdminKeepAliveConnection&lt;/p&gt;

&lt;p&gt;This is smelly internals and here you are giving everyone a whiff.&lt;/p&gt;

&lt;p&gt;In general, its funky... but in a good way.  Can look closer later but seems good to me Jesse.&lt;/p&gt;</comment>
                            <comment id="13767360" author="lhofhansl" created="Sat, 14 Sep 2013 04:08:22 +0000"  >&lt;p&gt;The rest of the patch is nice, though. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Should tag the interfaces with InterfaceAudience.Private. Coprocessor are internal, so it&apos;s fine (IMHO) to give them access to internals.&lt;/p&gt;</comment>
                            <comment id="13768958" author="jesse_yates" created="Mon, 16 Sep 2013 23:38:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; yeah, I wasn&apos;t a big fan of making those interfaces public. Alternative was throw an UnspportedOperationException if you try to hit the master with that connection. Keeps the interfaces how they are, but given that we will have this connection, we could just as easily use it to talk locally to the master (though, as I mention in the description, its not really worth it).&lt;/p&gt;

&lt;p&gt;I&apos;m ok rolling those back and going with the exception or marking them InterfaceAudience.Private - former seems cleaner for the moment.&lt;/p&gt;</comment>
                            <comment id="13768998" author="jesse_yates" created="Tue, 17 Sep 2013 00:17:23 +0000"  >&lt;p&gt;Patch for 0.94 - even simpler!&lt;/p&gt;

&lt;p&gt;Kept the Master connection stuff just passing onto the delegate since it doesn&apos;t require any interface changes (and still goes the serialization route).&lt;/p&gt;</comment>
                            <comment id="13769028" author="lhofhansl" created="Tue, 17 Sep 2013 00:35:23 +0000"  >&lt;p&gt;Nice.&lt;br/&gt;
Wouldn&apos;t we do this a lot:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!Addressing.createHostAndPortStr(hostname, port).equals(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverName.getHostAndPort()))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Makes 2 new String objects each time.&lt;br/&gt;
Might be better to compare host/port directly.&lt;/p&gt;</comment>
                            <comment id="13769029" author="jesse_yates" created="Tue, 17 Sep 2013 00:35:29 +0000"  >&lt;p&gt;Hmmm, upon manual inspection, looks like I completely hosed the above... delegate is just gonna keep on doing its delegate thing and not call the #getClient (for 0.96 case) or #getHRegionConnection (0.94). &lt;/p&gt;

&lt;p&gt;Updated patches coming soon.&lt;/p&gt;</comment>
                            <comment id="13769031" author="lhofhansl" created="Tue, 17 Sep 2013 00:35:58 +0000"  >&lt;p&gt;OK... Maybe not so nice &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13769033" author="jesse_yates" created="Tue, 17 Sep 2013 00:41:04 +0000"  >&lt;p&gt;Looks like trunk is OK - MultiServerCallable just gets the server location from the HConnection, which is the custom CoprocessorHConnection. Probably need to something a little more ugly with 0.94, maybe doing an inheritance-based solution instead.&lt;/p&gt;</comment>
                            <comment id="13769051" author="jesse_yates" created="Tue, 17 Sep 2013 01:05:25 +0000"  >&lt;p&gt;Updated patch for 0.94. Does the direct comparison Lars&apos; asked for + now correctly works by subclassing HConnectionImplementation to override #getHRegionConnection (but at the cost of having to move it into the client package w/ a big ol&apos; warning about not for actual client use).&lt;/p&gt;</comment>
                            <comment id="13769764" author="lhofhansl" created="Tue, 17 Sep 2013 18:17:30 +0000"  >&lt;p&gt;+1 from me. Moving this to client package is not ideal, but it is also not wrong (it is the client as used from the coprocessor).&lt;br/&gt;
Good stuff.&lt;/p&gt;</comment>
                            <comment id="13770135" author="jesse_yates" created="Tue, 17 Sep 2013 23:10:02 +0000"  >&lt;p&gt;Attaching updated trunk patch. Mostly just cleanup - able to drop the interface changes for MasterAdmin/Monitor by moving into the o.a.h.h.client package, just like the 0.94 patch. Also, marked CoprocessorHConnection as InterfaceAudience.Private and javadoc discouraging outside use.&lt;/p&gt;</comment>
                            <comment id="13770319" author="hadoopqa" created="Wed, 18 Sep 2013 02:16:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603706/hbase-9534-trunk-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603706/hbase-9534-trunk-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestScannerTimeout&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSide&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7282//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13770432" author="lhofhansl" created="Wed, 18 Sep 2013 04:58:31 +0000"  >&lt;p&gt;I can reproduce the failure locally with the patch. It&apos;s related.&lt;/p&gt;</comment>
                            <comment id="13770452" author="lhofhansl" created="Wed, 18 Sep 2013 05:29:23 +0000"  >&lt;p&gt;I have an updated patch that passes the tests.&lt;/p&gt;</comment>
                            <comment id="13770458" author="jesse_yates" created="Wed, 18 Sep 2013 05:43:48 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, me too! Attaching...&lt;/p&gt;</comment>
                            <comment id="13770468" author="lhofhansl" created="Wed, 18 Sep 2013 06:00:23 +0000"  >&lt;p&gt;Let&apos;s keep those members final. There&apos;s a slight bit more code duplication, but it&apos;s cleaner.&lt;/p&gt;</comment>
                            <comment id="13770473" author="lhofhansl" created="Wed, 18 Sep 2013 06:04:12 +0000"  >&lt;p&gt;Let me know what you think about these.&lt;/p&gt;</comment>
                            <comment id="13770526" author="hadoopqa" created="Wed, 18 Sep 2013 07:19:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603757/hbase-9534-trunk-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603757/hbase-9534-trunk-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7287//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13770573" author="lhofhansl" created="Wed, 18 Sep 2013 08:41:00 +0000"  >&lt;p&gt;Should also add a test to TestHCM.testClusterConnection, to make sure the internal pool is closed correctly.&lt;/p&gt;</comment>
                            <comment id="13770577" author="hadoopqa" created="Wed, 18 Sep 2013 08:48:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603762/9534-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603762/9534-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7288//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13770925" author="jesse_yates" created="Wed, 18 Sep 2013 16:18:52 +0000"  >&lt;p&gt;Smaller patch, but HTable is a little bit less clean with another round of duplicated code. Meh, I&apos;m fine with either.&lt;/p&gt;</comment>
                            <comment id="13770962" author="lhofhansl" created="Wed, 18 Sep 2013 16:56:28 +0000"  >&lt;p&gt;If it&apos;s the same to you, let&apos;s do the slightly larger one.&lt;/p&gt;</comment>
                            <comment id="13771061" author="jesse_yates" created="Wed, 18 Sep 2013 18:31:27 +0000"  >&lt;p&gt;Hmmm, looks like you have a little cruft in your 0.94 patch there Lars. I&apos;ll post a new version (that I&apos;m committing) minus the pom changes.&lt;/p&gt;</comment>
                            <comment id="13771069" author="jesse_yates" created="Wed, 18 Sep 2013 18:38:19 +0000"  >&lt;p&gt;Attaching updated 0.94-Lars patch which was got committed. &lt;/p&gt;</comment>
                            <comment id="13771078" author="hadoopqa" created="Wed, 18 Sep 2013 18:42:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603881/hbase-9534-0.94-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603881/hbase-9534-0.94-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7294//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7294//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13771125" author="lhofhansl" created="Wed, 18 Sep 2013 19:12:09 +0000"  >&lt;p&gt;Whoops. Removed in order not to confuse anybody.&lt;/p&gt;</comment>
                            <comment id="13771206" author="hudson" created="Wed, 18 Sep 2013 20:33:07 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #295 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/295/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/295/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (jyates: rev 1524522)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771222" author="hudson" created="Wed, 18 Sep 2013 20:49:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #513 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/513/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/513/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (jyates: rev 1524523)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771292" author="hudson" created="Wed, 18 Sep 2013 21:59:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1152 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1152/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1152/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (jyates: rev 1524522)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771301" author="eclark" created="Wed, 18 Sep 2013 22:03:14 +0000"  >&lt;p&gt;Pretty sure you should have checked this into 0.96 branch and not 0.95 (assuming that stack wanted this in 96.0).  The 0.95 branch is dead and defunct.&lt;/p&gt;</comment>
                            <comment id="13771305" author="enis" created="Wed, 18 Sep 2013 22:04:53 +0000"  >&lt;p&gt;And change fix version from 0.96.1 to 0.96.0 if the RC is not cut yet. &lt;/p&gt;</comment>
                            <comment id="13771312" author="hudson" created="Wed, 18 Sep 2013 22:19:39 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4529 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4529/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (jyates: rev 1524514)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771364" author="hudson" created="Wed, 18 Sep 2013 23:00:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #739 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/739/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/739/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (jyates: rev 1524514)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771424" author="hudson" created="Thu, 19 Sep 2013 00:04:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #285 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/285/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/285/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (jyates: rev 1524523)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771558" author="lhofhansl" created="Thu, 19 Sep 2013 03:26:06 +0000"  >&lt;p&gt;Committed to 0.96 as well.&lt;br/&gt;
(I guess we need to have a general discussion about whether we can have a feature in 0.94 but not in 0.96. Seems weird if we did.)&lt;/p&gt;</comment>
                            <comment id="13771603" author="hudson" created="Thu, 19 Sep 2013 05:35:37 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #70 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/70/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/70/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (Jesse) (larsh: rev 1524620)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771632" author="hudson" created="Thu, 19 Sep 2013 06:36:14 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #38 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/38/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/38/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt;: Short-Circuit Coprocessor HTable access when on the same server (Jesse) (larsh: rev 1524620)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/client/CoprocessorHConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13777735" author="v.himanshu" created="Wed, 25 Sep 2013 16:51:14 +0000"  >&lt;p&gt;Guys, I see two &quot;different&quot; commits for this jira in trunk and 96. &lt;br/&gt;
trunk: &lt;a href=&quot;https://github.com/apache/hbase/commit/af66c6b28edebdf3beb23628419d5c40cf3ea449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/commit/af66c6b28edebdf3beb23628419d5c40cf3ea449&lt;/a&gt;&lt;br/&gt;
96: &lt;a href=&quot;https://github.com/apache/hbase/commit/30d685ce750bc7361159d32933e08ac834adec7c&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/commit/30d685ce750bc7361159d32933e08ac834adec7c&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13777791" author="jesse_yates" created="Wed, 25 Sep 2013 17:37:54 +0000"  >&lt;p&gt;I forgot to do 0.96 (did 0.95 by accident instead) - Lars committed to 0.96 for me.&lt;/p&gt;</comment>
                            <comment id="13777800" author="v.himanshu" created="Wed, 25 Sep 2013 17:47:35 +0000"  >&lt;p&gt;The point is the code is different in 96 and trunk now. Looks like different patches were committed? See ctr chaining in HTable, for example. &lt;/p&gt;</comment>
                            <comment id="13778042" author="v.himanshu" created="Wed, 25 Sep 2013 20:34:13 +0000"  >&lt;p&gt;Also, another nit is we are missing a null check on conf in 96 in HTable ctr now. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (conf == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
-      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
-      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
-    } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13778152" author="jesse_yates" created="Wed, 25 Sep 2013 22:08:27 +0000"  >&lt;p&gt;Good catch Himanshu. Looks like the wrong version got committed to 0.96. I&apos;ll post an addendum shortly.&lt;/p&gt;</comment>
                            <comment id="13778408" author="hudson" created="Thu, 26 Sep 2013 03:07:46 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #95 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/95/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/95/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9658&quot; title=&quot;Addendum to HBASE-9534 to fix 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9658&quot;&gt;&lt;del&gt;HBASE-9658&lt;/del&gt;&lt;/a&gt;: Addendum to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt; to fix 0.96 (jyates: rev 1526334)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13778429" author="lhofhansl" created="Thu, 26 Sep 2013 03:53:45 +0000"  >&lt;p&gt;Hmm... Sorry about this. I took the latest trunk patch here and committed it to 0.96. Thanks for checking Himanshu.&lt;/p&gt;</comment>
                            <comment id="13778708" author="hudson" created="Thu, 26 Sep 2013 12:27:48 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #59 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/59/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/59/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9658&quot; title=&quot;Addendum to HBASE-9534 to fix 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9658&quot;&gt;&lt;del&gt;HBASE-9658&lt;/del&gt;&lt;/a&gt;: Addendum to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9534&quot; title=&quot;Short-Circuit Coprocessor HTable access when on the same server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9534&quot;&gt;&lt;del&gt;HBASE-9534&lt;/del&gt;&lt;/a&gt; to fix 0.96 (jyates: rev 1526334)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12537849">HBASE-5164</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12603762" name="9534-trunk.txt" size="20963" author="lhofhansl" created="Wed, 18 Sep 2013 06:04:31 +0000"/>
                            <attachment id="12603494" name="hbase-9534-0.94-v0.patch" size="17935" author="jesse_yates" created="Tue, 17 Sep 2013 00:17:23 +0000"/>
                            <attachment id="12603499" name="hbase-9534-0.94-v1.patch" size="13112" author="jesse_yates" created="Tue, 17 Sep 2013 01:05:25 +0000"/>
                            <attachment id="12603881" name="hbase-9534-0.94-v2.patch" size="10982" author="jesse_yates" created="Wed, 18 Sep 2013 18:38:19 +0000"/>
                            <attachment id="12603179" name="hbase-9534-trunk-v0.patch" size="22730" author="jesse_yates" created="Sat, 14 Sep 2013 02:55:26 +0000"/>
                            <attachment id="12603706" name="hbase-9534-trunk-v1.patch" size="21992" author="jesse_yates" created="Tue, 17 Sep 2013 23:10:02 +0000"/>
                            <attachment id="12603757" name="hbase-9534-trunk-v2.patch" size="24201" author="jesse_yates" created="Wed, 18 Sep 2013 05:43:48 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12670594">HBASE-9658</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 14 Sep 2013 03:45:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o3lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Allow coprocessors accessing an HTable to short-circuit access to the local HRegionServer, rather than requiring the usual RPC path.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>phoenix</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>