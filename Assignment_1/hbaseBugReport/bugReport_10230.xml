<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:11:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10230/HBASE-10230.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10230] TestTableSnapshotScanner#testWithOfflineHBaseMultiRegion fails intermittently</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10230</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4746/testReport/org.apache.hadoop.hbase.client/TestTableSnapshotScanner/testWithOfflineHBaseMultiRegion/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4746/testReport/org.apache.hadoop.hbase.client/TestTableSnapshotScanner/testWithOfflineHBaseMultiRegion/&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.hbase.snapshot.SnapshotCreationException: Snapshot &apos;testWithMultiRegion&apos; wasn&apos;t completed in expectedTime:60000 ms
	at org.apache.hadoop.hbase.client.HBaseAdmin.snapshot(HBaseAdmin.java:2714)
	at org.apache.hadoop.hbase.client.HBaseAdmin.snapshot(HBaseAdmin.java:2639)
	at org.apache.hadoop.hbase.client.HBaseAdmin.snapshot(HBaseAdmin.java:2574)
	at org.apache.hadoop.hbase.snapshot.SnapshotTestingUtils.createSnapshotAndValidate(SnapshotTestingUtils.java:390)
	at org.apache.hadoop.hbase.client.TestTableSnapshotScanner.createTableAndSnapshot(TestTableSnapshotScanner.java:100)
	at org.apache.hadoop.hbase.client.TestTableSnapshotScanner.testScanner(TestTableSnapshotScanner.java:132)
	at org.apache.hadoop.hbase.client.TestTableSnapshotScanner.testWithOfflineHBaseMultiRegion(TestTableSnapshotScanner.java:124)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12686155">HBASE-10230</key>
            <summary>TestTableSnapshotScanner#testWithOfflineHBaseMultiRegion fails intermittently</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Dec 2013 14:47:36 +0000</created>
                <updated>Tue, 24 Dec 2013 21:02:04 +0000</updated>
                            <resolved>Tue, 24 Dec 2013 20:17:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13856017" author="apurtell" created="Mon, 23 Dec 2013 23:30:55 +0000"  >&lt;p&gt;This issue is not actionable. It simply copies information from a build report we can see elsewhere, has no patch, and is not assigned. Please assign it, provide a patch, or close. &lt;/p&gt;</comment>
                            <comment id="13856132" author="yuzhihong@gmail.com" created="Tue, 24 Dec 2013 04:37:54 +0000"  >&lt;p&gt;The snapshot didn&apos;t finish within 1 minute:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-12-23 09:36:58,285 DEBUG [FifoRpcScheduler.handler13-thread-3] snapshot.SnapshotManager(375): Snapshoting &apos;{ ss=testWithMultiRegion table=testScanner type=FLUSH }&apos; is still in progress!
...
2013-12-23 09:37:58,629 DEBUG [FifoRpcScheduler.handler13-thread-4] snapshot.SnapshotManager(375): Snapshoting &apos;{ ss=testWithMultiRegion table=testScanner type=FLUSH }&apos; is still in progress!
2013-12-23 09:37:58,658 INFO  [pool-1-thread-1] hbase.ResourceChecker(171): after: client.TestTableSnapshotScanner#testWithOfflineHBaseMultiRegion &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=280 (was 30)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the stack trace following TestTableSnapshotScanner#testWithOfflineHBaseMultiRegion, I saw this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	org.apache.hadoop.hbase.regionserver.HRegion.addRegionToSnapshot(HRegion.java:2715)
	org.apache.hadoop.hbase.regionserver.snapshot.FlushSnapshotSubprocedure$RegionSnapshotTask.call(FlushSnapshotSubprocedure.java:83)
	org.apache.hadoop.hbase.regionserver.snapshot.FlushSnapshotSubprocedure$RegionSnapshotTask.call(FlushSnapshotSubprocedure.java:65)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13856444" author="apurtell" created="Tue, 24 Dec 2013 20:09:06 +0000"  >&lt;p&gt;So how do we proceed here Ted?&lt;/p&gt;</comment>
                            <comment id="13856448" author="yuzhihong@gmail.com" created="Tue, 24 Dec 2013 20:17:40 +0000"  >&lt;p&gt;How about making the timeout longer?&lt;/p&gt;</comment>
                            <comment id="13856449" author="stack" created="Tue, 24 Dec 2013 20:17:49 +0000"  >&lt;p&gt;Resolving as INVALID.&lt;/p&gt;

&lt;p&gt;We&apos;ve been here loads of times before; i.e. asking &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; to stop filing issues for test failures unless there is an intent to follow up and fix the problem.&lt;/p&gt;

&lt;p&gt;Our JIRA is littered w/ rubbish issues like this that have gone unaddressed and with time likely stale but someone (else) has to go through and clean them up.&lt;/p&gt;

&lt;p&gt;That said, fixing build failures is the best work; our tests have started to go flakey again and need attention.  Feel free to reopen if working on this.&lt;/p&gt;</comment>
                            <comment id="13856455" author="stack" created="Tue, 24 Dec 2013 21:02:04 +0000"  >&lt;p&gt;bq, How about making the timeout longer?&lt;/p&gt;

&lt;p&gt;Its taking longer is a new phenomenon?  Or this just a random fail?  Above has no context saying whether or which.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12620198" name="10230.html" size="637931" author="yuzhihong@gmail.com" created="Mon, 23 Dec 2013 14:48:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Dec 2013 23:30:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qxnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>