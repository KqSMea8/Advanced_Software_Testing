<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:02:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9254/HBASE-9254.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9254] TestHBaseFsck occasionally hung</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9254</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/247/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/247/console&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;pool-1-thread-1&quot;&lt;/span&gt; prio=10 tid=0x73a2a400 nid=0x2f4d in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0x73bdd000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	at org.apache.hadoop.hbase.ipc.RpcClient.call(RpcClient.java:1412)
	- locked &amp;lt;0xccdd8898&amp;gt; (a org.apache.hadoop.hbase.ipc.RpcClient$Call)
	at org.apache.hadoop.hbase.ipc.RpcClient.callBlockingMethod(RpcClient.java:1630)
	at org.apache.hadoop.hbase.ipc.RpcClient$BlockingRpcChannelImplementation.callBlockingMethod(RpcClient.java:1687)
	at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$BlockingStub.createTable(MasterAdminProtos.java:29365)
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation$5.createTable(HConnectionManager.java:1996)
	at org.apache.hadoop.hbase.client.HBaseAdmin$2.call(HBaseAdmin.java:590)
	at org.apache.hadoop.hbase.client.HBaseAdmin$2.call(HBaseAdmin.java:586)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:120)
	- locked &amp;lt;0x81c8abb0&amp;gt; (a org.apache.hadoop.hbase.client.RpcRetryingCaller)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:98)
	- locked &amp;lt;0x81c8abb0&amp;gt; (a org.apache.hadoop.hbase.client.RpcRetryingCaller)
	at org.apache.hadoop.hbase.client.HBaseAdmin.executeCallable(HBaseAdmin.java:3087)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTableAsync(HBaseAdmin.java:586)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTable(HBaseAdmin.java:477)
	at org.apache.hadoop.hbase.util.TestHBaseFsck.setupTable(TestHBaseFsck.java:338)
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testSplitDaughtersNotInMeta(TestHBaseFsck.java:1362)
...
     {color:red}-1 core zombie tests{color}.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.util.TestHBaseFsck.testSplitDaughtersNotInMeta(TestHBaseFsck.java:1362)&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I looked at &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/247/artifact/0.95-on-hadoop2/hbase-server/target/surefire-reports/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/247/artifact/0.95-on-hadoop2/hbase-server/target/surefire-reports/&lt;/a&gt;,&lt;br/&gt;
there was no test output.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664160">HBASE-9254</key>
            <summary>TestHBaseFsck occasionally hung</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 22:31:08 +0000</created>
                <updated>Tue, 24 Sep 2013 21:50:05 +0000</updated>
                            <resolved>Tue, 24 Sep 2013 21:50:05 +0000</resolved>
                                    <version>0.95.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="13744838" author="yuzhihong@gmail.com" created="Tue, 20 Aug 2013 10:33:26 +0000"  >&lt;p&gt;Without test output, I don&apos;t have complete picture of that was going on during testSplitDaughtersNotInMeta().&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=1,port=37014&quot;&lt;/span&gt; daemon prio=10 tid=0x746a9c00 nid=0x31f1 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x70559000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
  at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
  - waiting to lock &amp;lt;0x7fb83a10&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
  at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3116)
  at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
  at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
  at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:27720)
  at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2156)
  at org.apache.hadoop.hbase.ipc.RpcServer$Handler.run(RpcServer.java:1861)

&lt;span class=&quot;code-quote&quot;&gt;&quot;RpcServer.handler=0,port=37014&quot;&lt;/span&gt; daemon prio=10 tid=0x7464d400 nid=0x31f0 waiting on condition [0x705aa000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
  at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
  at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:150)
  - locked &amp;lt;0x81c8bc90&amp;gt; (a org.apache.hadoop.hbase.client.RpcRetryingCaller)
  at org.apache.hadoop.hbase.client.HTable.get(HTable.java:732)
  at org.apache.hadoop.hbase.master.TableNamespaceManager.get(TableNamespaceManager.java:111)
  - locked &amp;lt;0x7fb83a10&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
  at org.apache.hadoop.hbase.master.HMaster.getNamespaceDescriptor(HMaster.java:3116)
  at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1779)
  at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1820)
  at org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos$MasterAdminService$2.callBlockingMethod(MasterAdminProtos.java:27720)
  at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2156)
  at org.apache.hadoop.hbase.ipc.RpcServer$Handler.run(RpcServer.java:1861)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here is related code in TableNamespaceManager:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; NamespaceDescriptor get(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    Result res = table.get(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Get(Bytes.toBytes(name)));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like the retrieval of NamespaceDescriptor took longer than expected.&lt;/p&gt;</comment>
                            <comment id="13745661" author="yuzhihong@gmail.com" created="Wed, 21 Aug 2013 00:23:11 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6827/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6827/console&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	at hudson.remoting.SynchronousCommandTransport$ReaderThread.run(SynchronousCommandTransport.java:48)
FATAL: hudson.remoting.RequestAbortedException: java.io.IOException: Unexpected termination of the channel
hudson.remoting.RequestAbortedException: hudson.remoting.RequestAbortedException: java.io.IOException: Unexpected termination of the channel
	at hudson.remoting.RequestAbortedException.wrapForRethrow(RequestAbortedException.java:41)
	at hudson.remoting.RequestAbortedException.wrapForRethrow(RequestAbortedException.java:34)
	at hudson.remoting.Request.call(Request.java:174)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13748252" author="jmhsieh" created="Fri, 23 Aug 2013 03:35:02 +0000"  >&lt;p&gt;Can you update the affects version for this jira?&lt;/p&gt;

&lt;p&gt;Is this actually due to a combination of a hung process and hudson/jenkins losing its connection?&lt;/p&gt;

&lt;p&gt;Are you going to figure out what cuases the operation to hang?  (sound like some sort of deadlock behind the scenes).  &lt;/p&gt;

&lt;p&gt;The current patch is just a timeout extension &amp;#8211; can you make that a sub-issue/workaround and keep this open until you find the root cause?&lt;/p&gt;</comment>
                            <comment id="13748258" author="yuzhihong@gmail.com" created="Fri, 23 Aug 2013 03:47:07 +0000"  >&lt;p&gt;Thanks for taking a look, Jon.&lt;/p&gt;

&lt;p&gt;The following snippet of stack trace might be related:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;NamespaceJanitor-juno:37014&quot;&lt;/span&gt; daemon prio=10 tid=0x75085800 nid=0x3471 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x6d1ad000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
  at org.apache.hadoop.hbase.master.TableNamespaceManager.list(TableNamespaceManager.java:183)
  - waiting to lock &amp;lt;0x7fb83a10&amp;gt; (a org.apache.hadoop.hbase.master.TableNamespaceManager)
  at org.apache.hadoop.hbase.master.HMaster.listNamespaceDescriptors(HMaster.java:3120)
  at org.apache.hadoop.hbase.master.NamespaceJanitor.removeOrphans(NamespaceJanitor.java:103)
  at org.apache.hadoop.hbase.master.NamespaceJanitor.chore(NamespaceJanitor.java:87)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since list() and TableNamespaceManager.get() are synchronized methods, their interaction might have made the test run longer than expected.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;can you make that a sub-issue/workaround&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Will do.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;keep this open until you find the root cause?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure.&lt;/p&gt;</comment>
                            <comment id="13765859" author="yuzhihong@gmail.com" created="Thu, 12 Sep 2013 20:20:34 +0000"  >&lt;p&gt;Jimmy put in fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9447&quot; title=&quot;TestHBaseFsck could hang sometime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9447&quot;&gt;&lt;del&gt;HBASE-9447&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Shall we resolve this JIRA ?&lt;/p&gt;</comment>
                            <comment id="13776803" author="yuzhihong@gmail.com" created="Tue, 24 Sep 2013 21:50:05 +0000"  >&lt;p&gt;TestHBaseFsck hasn&apos;t hung for a while.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12598953" name="9254-v1.txt" size="684" author="yuzhihong@gmail.com" created="Tue, 20 Aug 2013 13:47:26 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12665174">HBASE-9317</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Aug 2013 03:35:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ncnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>