<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:10:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10054/HBASE-10054.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10054] Add the default column compression option</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10054</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Add the default column compression option for cluster level.&lt;br/&gt;
If users don&apos;t set column compression for a column family, we should use the default column compression.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681746">HBASE-10054</key>
            <summary>Add the default column compression option</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="liushaohui">Liu Shaohui</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Nov 2013 12:02:00 +0000</created>
                <updated>Tue, 3 Dec 2013 10:12:40 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13834766" author="liushaohui" created="Thu, 28 Nov 2013 12:18:07 +0000"  >&lt;p&gt;Patch for 0.94&lt;/p&gt;</comment>
                            <comment id="13834805" author="jmspaggi" created="Thu, 28 Nov 2013 13:21:34 +0000"  >&lt;p&gt;I don&apos;t see any real issue with that. But you should also update the documentation too. &lt;/p&gt;

&lt;p&gt;Can you do a trunk patch to trigger Hadoop QA?&lt;/p&gt;</comment>
                            <comment id="13834950" author="ram_krish" created="Thu, 28 Nov 2013 16:10:26 +0000"  >&lt;p&gt;This code won&apos;t do anything as there is no real default value for the compression.&lt;/p&gt;</comment>
                            <comment id="13835006" author="jmspaggi" created="Thu, 28 Nov 2013 17:47:52 +0000"  >&lt;p&gt;I guess that&apos;s the goal.&lt;/p&gt;

&lt;p&gt;If you don&apos;t configure any default value for the compression, then you keep the existing behavior.&lt;/p&gt;

&lt;p&gt;If you want to have a default value, then you add it in your configuration file.&lt;/p&gt;</comment>
                            <comment id="13835143" author="zjushch" created="Fri, 29 Nov 2013 02:11:39 +0000"  >&lt;p&gt;IMPO, other similar configs could be added like this if we do so.  It seems not a good start&lt;br/&gt;
e.g. &apos;DataBlockEncoding&apos;, &apos;CACHE_DATA_ON_WRITE&apos; and other common options in HTableDescriptor or HColumnDescriptor.&lt;/p&gt;

&lt;p&gt;We could do such a action on application code/script.&lt;/p&gt;

&lt;p&gt;Thus, +0 to add this option for me.&lt;/p&gt;


&lt;p&gt;About the patch,&lt;br/&gt;
Nit comments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;User donot set the compression &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column fammily:&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;donot =&amp;gt; don&apos;t&lt;/p&gt;

&lt;p&gt;Using desc#setCompressionType instead of desc#setValue because the former will skip the invalid compression type.&lt;/p&gt;

&lt;p&gt;Before set the compression to hcolumndescriptor, check whether the compression is available on the server, just like we do in HMaster#checkCompression&lt;/p&gt;
</comment>
                            <comment id="13835150" author="jmspaggi" created="Fri, 29 Nov 2013 02:19:11 +0000"  >&lt;blockquote&gt;
&lt;p&gt;IMPO, other similar configs could be added like this if we do so&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree. I was thing the same thing. I don&apos;t think it&apos;s bad to have default values. Having none is already like having a default value that we can not configure... IMHO &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13835299" author="liushaohui" created="Fri, 29 Nov 2013 10:36:08 +0000"  >&lt;p&gt;Patch for trunk.&lt;br/&gt;
(a) add codec test at rs startup for hbase.column.compression.codec&lt;br/&gt;
(b) update for the doc&lt;/p&gt;</comment>
                            <comment id="13835306" author="liushaohui" created="Fri, 29 Nov 2013 10:43:03 +0000"  >&lt;p&gt;Update for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;&apos;s review&lt;/p&gt;</comment>
                            <comment id="13835308" author="liushaohui" created="Fri, 29 Nov 2013 10:46:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;IMPO, other similar configs could be added like this if we do so&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Compress is an important config, so it should have a default value to reduce the disk used for tables.&lt;/p&gt;

</comment>
                            <comment id="13836187" author="zjushch" created="Mon, 2 Dec 2013 02:48:10 +0000"  >&lt;p&gt;In the above comment, I mean test the compression in CreateTable if add the default comression.&lt;/p&gt;

&lt;p&gt;In modifyTable addColumnFamily events, should also add the default compression ?&lt;/p&gt;

&lt;p&gt;From the patch, I see the config &quot;hbase.regionserver.codecs&quot;, what&apos;s the difference with the new config?&lt;/p&gt;</comment>
                            <comment id="13837525" author="liushaohui" created="Tue, 3 Dec 2013 10:12:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;&lt;br/&gt;
&quot;hbase.regionserver.codecs&quot; is all codecs you want to check at the startup of regionservers&lt;br/&gt;
If any check fails,  regionserver will shutdown itself. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616236" name="HBASE-10054-0.94-v1.diff" size="2582" author="liushaohui" created="Thu, 28 Nov 2013 12:18:07 +0000"/>
                            <attachment id="12616359" name="HBASE-10054-trunk-v1.diff" size="5870" author="liushaohui" created="Fri, 29 Nov 2013 10:43:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Nov 2013 13:21:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q8cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>