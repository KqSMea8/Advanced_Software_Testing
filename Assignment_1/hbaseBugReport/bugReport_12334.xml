<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:32:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12334/HBASE-12334.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12334] Handling of DeserializationException causes needless retry on failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12334</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;If an unexpected exception occurs when deserialization occurs for a custom filter, the exception gets wrapped in a DeserializationException. Since this exception is in turn wrapped in an IOException, the many loop retry logic kicks in. The net effect is that this same deserialization error occurs again and again as the retries occur, just causing the client to wait needlessly.&lt;/p&gt;

&lt;p&gt;IMO, either the parseFrom methods should be allowed to throw whatever type of IOException they&apos;d like, in which case they could throw a DoNotRetryIOException, or a DeserializationException should be wrapped in a DoNotRetryIOException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12750251">HBASE-12334</key>
            <summary>Handling of DeserializationException causes needless retry on failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="jamestaylor">James Taylor</reporter>
                        <labels>
                            <label>Phoenix</label>
                    </labels>
                <created>Fri, 24 Oct 2014 01:31:12 +0000</created>
                <updated>Sat, 21 Feb 2015 23:46:08 +0000</updated>
                            <resolved>Fri, 24 Oct 2014 23:23:53 +0000</resolved>
                                    <version>0.98.7</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.8</fixVersion>
                    <fixVersion>0.99.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14182321" author="lhofhansl" created="Fri, 24 Oct 2014 02:18:04 +0000"  >&lt;p&gt;I agree. Do you have a stack trace? I find it a bit hard to find the exact place where the DeserializationException is wrapped.&lt;/p&gt;</comment>
                            <comment id="14182371" author="jamestaylor" created="Fri, 24 Oct 2014 03:20:44 +0000"  >&lt;p&gt;Not sure which one you want - I&apos;m tracing it in a debugger. There&apos;s enough throwing and catching there to make the Giants proud! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Here&apos;s a few of them:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Daemon &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; [defaultRpcServer.handler=4,queue=0,port=50594] (Suspended)	
	ProtobufUtil.toFilter(FilterProtos$Filter) line: 1362	
	FilterList.parseFrom(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]) line: 403	
	NativeMethodAccessorImpl.invoke0(Method, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]) line: not available [&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; method]	
	NativeMethodAccessorImpl.invoke(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]) line: 39	
	DelegatingMethodAccessorImpl.invoke(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]) line: 25	
	Method.invoke(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;...) line: 597	
	ProtobufUtil.toFilter(FilterProtos$Filter) line: 1360	
	ProtobufUtil.toScan(ClientProtos$Scan) line: 917	
	MiniHBaseCluster$MiniHBaseClusterRegionServer(HRegionServer).scan(RpcController, ClientProtos$ScanRequest) line: 3078	
	ClientProtos$ClientService$2.callBlockingMethod(Descriptors$MethodDescriptor, RpcController, Message) line: 29497	
	RpcServer.call(BlockingService, MethodDescriptor, Message, CellScanner, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;, MonitoredRPCHandler) line: 2027	
	CallRunner.run() line: 98	
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Daemon &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; [defaultRpcServer.handler=4,queue=0,port=50594] (Suspended)	
	FilterList.parseFrom(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]) line: 406	
	NativeMethodAccessorImpl.invoke0(Method, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]) line: not available [&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; method]	
	NativeMethodAccessorImpl.invoke(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]) line: 39	
	DelegatingMethodAccessorImpl.invoke(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[]) line: 25	
	Method.invoke(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;...) line: 597	
	ProtobufUtil.toFilter(FilterProtos$Filter) line: 1360	
	ProtobufUtil.toScan(ClientProtos$Scan) line: 917	
	MiniHBaseCluster$MiniHBaseClusterRegionServer(HRegionServer).scan(RpcController, ClientProtos$ScanRequest) line: 3078	
	ClientProtos$ClientService$2.callBlockingMethod(Descriptors$MethodDescriptor, RpcController, Message) line: 29497	
	RpcServer.call(BlockingService, MethodDescriptor, Message, CellScanner, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;, MonitoredRPCHandler) line: 2027	
	CallRunner.run() line: 98	
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and finally this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Daemon &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; [defaultRpcServer.handler=4,queue=0,port=50594] (Suspended)	
	MiniHBaseCluster$MiniHBaseClusterRegionServer(HRegionServer).scan(RpcController, ClientProtos$ScanRequest) line: 3239	
	ClientProtos$ClientService$2.callBlockingMethod(Descriptors$MethodDescriptor, RpcController, Message) line: 29497	
	RpcServer.call(BlockingService, MethodDescriptor, Message, CellScanner, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;, MonitoredRPCHandler) line: 2027	
	CallRunner.run() line: 98	
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14182408" author="lhofhansl" created="Fri, 24 Oct 2014 04:05:22 +0000"  >&lt;p&gt;Ah, that&apos;s why I didn&apos;t see it. The invoke throws an InvocationTargetException.&lt;/p&gt;</comment>
                            <comment id="14182415" author="lhofhansl" created="Fri, 24 Oct 2014 04:15:14 +0000"  >&lt;p&gt;Maybe just this.&lt;br/&gt;
The last exception is probably just downstream from a toFilter call.&lt;/p&gt;</comment>
                            <comment id="14182427" author="stack" created="Fri, 24 Oct 2014 04:42:23 +0000"  >&lt;p&gt;+1 That&apos;ll fix James&apos; issue.  Could do w/ a more general soln doing this for all parseFroms but.. how about getting this in for now?&lt;/p&gt;</comment>
                            <comment id="14182447" author="anoop.hbase" created="Fri, 24 Oct 2014 05:09:58 +0000"  >&lt;p&gt;+1.  &lt;/p&gt;</comment>
                            <comment id="14183487" author="apurtell" created="Fri, 24 Oct 2014 21:05:47 +0000"  >&lt;p&gt;lgtm, as long it&apos;s committed to master and branch-1 too. &lt;/p&gt;</comment>
                            <comment id="14183718" author="lhofhansl" created="Fri, 24 Oct 2014 23:23:53 +0000"  >&lt;p&gt;Pushed to 0.98+&lt;/p&gt;</comment>
                            <comment id="14183829" author="hudson" created="Sat, 25 Oct 2014 01:06:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #630 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/630/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/630/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12334&quot; title=&quot;Handling of DeserializationException causes needless retry on failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12334&quot;&gt;&lt;del&gt;HBASE-12334&lt;/del&gt;&lt;/a&gt; Handling of DeserializationException causes needless retry on failure. (larsh: rev 714e8368c33aab14dcc461180cff14fe65d9cdd3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14183836" author="hudson" created="Sat, 25 Oct 2014 01:16:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #357 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/357/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/357/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12334&quot; title=&quot;Handling of DeserializationException causes needless retry on failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12334&quot;&gt;&lt;del&gt;HBASE-12334&lt;/del&gt;&lt;/a&gt; Handling of DeserializationException causes needless retry on failure. (larsh: rev 7ec441ca4fbcb89ef2fbe955ed19eca60cc7c860)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14183842" author="hudson" created="Sat, 25 Oct 2014 01:24:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5698 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5698/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5698/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12334&quot; title=&quot;Handling of DeserializationException causes needless retry on failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12334&quot;&gt;&lt;del&gt;HBASE-12334&lt;/del&gt;&lt;/a&gt; Handling of DeserializationException causes needless retry on failure. (larsh: rev 6c7543c9c7d88b6d77e8d0d52ddad260fb487ae4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14183885" author="hudson" created="Sat, 25 Oct 2014 03:00:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #600 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/600/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/600/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12334&quot; title=&quot;Handling of DeserializationException causes needless retry on failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12334&quot;&gt;&lt;del&gt;HBASE-12334&lt;/del&gt;&lt;/a&gt; Handling of DeserializationException causes needless retry on failure. (larsh: rev 714e8368c33aab14dcc461180cff14fe65d9cdd3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331722" author="enis" created="Sat, 21 Feb 2015 23:46:08 +0000"  >&lt;p&gt;Closing this issue after 0.99.2 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12676831" name="12334-0.98.txt" size="729" author="lhofhansl" created="Fri, 24 Oct 2014 04:15:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Oct 2014 02:18:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21izz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>