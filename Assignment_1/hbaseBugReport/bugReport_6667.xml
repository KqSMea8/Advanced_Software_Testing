<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:38:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6667/HBASE-6667.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6667] TestCatalogJanitor occasionally fails</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6667</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Here is the OS:&lt;br/&gt;
Linux sea0 2.6.38-11-generic #48-Ubuntu SMP Fri Jul 29 19:02:55 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testArchiveOldRegion(org.apache.hadoop.hbase.master.TestCatalogJanitor)  Time elapsed: 0.007 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Not the same number of current files
Expected (2):      Gotten (0):
Not Found:
_store0
_store1

Extra:

  at org.junit.Assert.fail(Assert.java:93)
  at org.junit.Assert.assertTrue(Assert.java:43)
  at org.junit.Assert.assertNull(Assert.java:551)
  at org.apache.hadoop.hbase.util.HFileArchiveTestingUtil.assertArchiveEqualToOriginal(HFileArchiveTestingUtil.java:132)
  at org.apache.hadoop.hbase.util.HFileArchiveTestingUtil.assertArchiveEqualToOriginal(HFileArchiveTestingUtil.java:95)
  at org.apache.hadoop.hbase.master.TestCatalogJanitor.testArchiveOldRegion(TestCatalogJanitor.java:623)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12605034">HBASE-6667</key>
            <summary>TestCatalogJanitor occasionally fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Aug 2012 23:01:09 +0000</created>
                <updated>Mon, 23 Sep 2013 18:23:58 +0000</updated>
                            <resolved>Wed, 3 Oct 2012 20:53:21 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13442217" author="yuzhihong@gmail.com" created="Sun, 26 Aug 2012 23:02:38 +0000"  >&lt;p&gt;Here is test output&lt;/p&gt;</comment>
                            <comment id="13446501" author="jesse_yates" created="Fri, 31 Aug 2012 23:44:51 +0000"  >&lt;p&gt;Attaching small patch to help with debugging for the next time this test breaks. I ran the test 20x locally and couldn&apos;t get it to reproduce, so hopefully this should help.&lt;/p&gt;</comment>
                            <comment id="13446529" author="stack" created="Sat, 1 Sep 2012 00:36:45 +0000"  >&lt;p&gt;I committed Jesse&apos;s debug patch to trunk.&lt;/p&gt;</comment>
                            <comment id="13446575" author="hudson" created="Sat, 1 Sep 2012 01:58:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3297 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3297/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3297/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6667&quot; title=&quot;TestCatalogJanitor occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6667&quot;&gt;&lt;del&gt;HBASE-6667&lt;/del&gt;&lt;/a&gt; TestCatalogJanitor occasionally fails; PATCH THAT ADDS DEBUG AROUND FAILING TEST (Revision 1379682)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/HFileArchiveTestingUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13446651" author="hudson" created="Sat, 1 Sep 2012 11:39:58 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #158 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/158/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/158/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6667&quot; title=&quot;TestCatalogJanitor occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6667&quot;&gt;&lt;del&gt;HBASE-6667&lt;/del&gt;&lt;/a&gt; TestCatalogJanitor occasionally fails; PATCH THAT ADDS DEBUG AROUND FAILING TEST (Revision 1379682)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/HFileArchiveTestingUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13468820" author="jesse_yates" created="Wed, 3 Oct 2012 20:49:57 +0000"  >&lt;p&gt;This test hasn&apos;t been failing on trunk for the last 100+ builds and has been running under a second in every build (generally under 100ms, with some variance).  See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3414/testReport/junit/org.apache.hadoop.hbase.master/TestCatalogJanitor/testArchiveOldRegion/history/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3414/testReport/junit/org.apache.hadoop.hbase.master/TestCatalogJanitor/testArchiveOldRegion/history/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;d like to move to close this as won&apos;t fix. I have no idea what went wrong with the original test - its all single threaded and a fairly simple test. It might have been some weird GC issue where the cleanup ran early or bled over from another test running cleanup. However, ran the test again 20x on trunk locally without issue.&lt;/p&gt;</comment>
                            <comment id="13468824" author="yuzhihong@gmail.com" created="Wed, 3 Oct 2012 20:53:08 +0000"  >&lt;p&gt;We can resolve this and tackle more recent test failures.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12543374" name="java_6667-v0.txt" size="8649" author="jesse_yates" created="Fri, 31 Aug 2012 23:45:44 +0000"/>
                            <attachment id="12542562" name="testCatalogJanitor-output.txt" size="108030" author="yuzhihong@gmail.com" created="Sun, 26 Aug 2012 23:02:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Aug 2012 23:44:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02v7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>