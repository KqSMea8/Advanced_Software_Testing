<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:35:57 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6346/HBASE-6346.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6346] Observed excessive CPU on &quot;quiescent&quot; cluster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6346</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;ve only started looking at this but became concerned when a completely quiescent cluster loads up 20% CPU (system+user) once HBase comes up.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Sun JRE 6u33, Hadoop 2.0.1-alpha, HBase 0.94.1-SNAPSHOT&lt;/p&gt;</environment>
        <key id="12597854">HBASE-6346</key>
            <summary>Observed excessive CPU on &quot;quiescent&quot; cluster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jul 2012 23:53:37 +0000</created>
                <updated>Tue, 10 Jul 2012 20:01:21 +0000</updated>
                            <resolved>Sat, 7 Jul 2012 00:11:07 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13408463" author="apurtell" created="Fri, 6 Jul 2012 23:54:46 +0000"  >&lt;p&gt;See attached graph.gif what CPU use on the cluster looks like. Nothing should be running, this is a Hadoop+HBase cluster started up and left alone. &apos;top&apos; on the hosts shows all CPU time used by the JVM running the regionserver.&lt;/p&gt;

&lt;p&gt;Attached as runnable_cpu_profile.png is a snapshot of what jprofiler sees of a 2.0.1+0.94.1 HBase process started in-tree as &apos;./bin/hbase master start&apos;. I&apos;ve also attached a stack dump so you can see it is doing &quot;nothing&quot;.&lt;/p&gt;

&lt;p&gt;Edit: I haven&apos;t missed that most of that time is system time. Wonder what is up with that.&lt;/p&gt;</comment>
                            <comment id="13408466" author="apurtell" created="Sat, 7 Jul 2012 00:01:54 +0000"  >&lt;p&gt;This is repeatable, any cluster I start shows this behavior. I started seeing this last week, but took various steps first like switching from JRE 7u4 back to 6u33.&lt;/p&gt;</comment>
                            <comment id="13408468" author="zhihyu@ebaysf.com" created="Sat, 7 Jul 2012 00:10:58 +0000"  >&lt;p&gt;Looking at RegionServerMetrics, the metrics are collected (pushed) unconditionally.&lt;br/&gt;
Can we group them and make the push configurable for individual groups ?&lt;/p&gt;</comment>
                            <comment id="13408469" author="apurtell" created="Sat, 7 Jul 2012 00:11:07 +0000"  >&lt;p&gt;Aha, got it, sorry for the noise, this is a configuration problem. &lt;/p&gt;</comment>
                            <comment id="13408472" author="zhihyu@ebaysf.com" created="Sat, 7 Jul 2012 00:12:54 +0000"  >&lt;p&gt;Can you highlight the configuration change that made high CPU go away ?&lt;/p&gt;</comment>
                            <comment id="13409820" author="tlipcon" created="Mon, 9 Jul 2012 20:35:09 +0000"  >&lt;p&gt;RH6.1+ THP defragmentation perhaps?&lt;/p&gt;</comment>
                            <comment id="13409946" author="jdcryans" created="Mon, 9 Jul 2012 23:30:36 +0000"  >&lt;p&gt;Yeah what&apos;s that config Andy? I may have encountered the same problem.&lt;/p&gt;</comment>
                            <comment id="13410654" author="apurtell" created="Tue, 10 Jul 2012 18:21:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yeah what&apos;s that config Andy? I may have encountered the same problem.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think so. It was a misconfiguration of secure ZooKeeper. Not a problem under local profiling, but chewing CPU up on the cluster.&lt;/p&gt;</comment>
                            <comment id="13410757" author="jdcryans" created="Tue, 10 Jul 2012 20:01:21 +0000"  >&lt;p&gt;That&apos;s sad then, means I need to dig into that other issue for 0.94&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12535476" name="graph.gif" size="38470" author="apurtell" created="Fri, 6 Jul 2012 23:54:46 +0000"/>
                            <attachment id="12535478" name="jstack.txt" size="77878" author="apurtell" created="Fri, 6 Jul 2012 23:54:46 +0000"/>
                            <attachment id="12535477" name="runnable_cpu_profile.png" size="278978" author="apurtell" created="Fri, 6 Jul 2012 23:54:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Jul 2012 00:10:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>