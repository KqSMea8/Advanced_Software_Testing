<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:50:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1111/HBASE-1111.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1111] [performance] Crash recovery takes way too long</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1111</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Watching hbase recover from crashes, its taking way too long:&lt;/p&gt;

&lt;p&gt;1. Must wait first on lease to expire (if server is rebooted, it should cancel the old servers&apos; lease but make sure the lease expiration code runs)&lt;br/&gt;
2. Master splits logs.  This is single-threaded.  At least a maximum of 64 logs but seems to run slow anyways.&lt;br/&gt;
3. Assign out the regions that were on dead-server (minutes or even tens of minutes could have elapsed at this stage)&lt;br/&gt;
4. Wait on the regionservers to open.  If small cluster, because regionservers open regions in series, could take a long time opening a bunch of issues.  Meantime the regions are not available, clients will likely timeout.&lt;br/&gt;
5. To make things worse, I&apos;ve seen load-balancer cut in to &apos;help out&apos; telling regionserver close some of its regions though its busy opening a bunch.&lt;/p&gt;

&lt;p&gt;Andrew Purtell notes that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1110&quot; title=&quot;Distribute the master role to HRS after ZK integration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1110&quot;&gt;&lt;del&gt;HBASE-1110&lt;/del&gt;&lt;/a&gt; will change a bunch of the above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411985">HBASE-1111</key>
            <summary>[performance] Crash recovery takes way too long</summary>
                <type id="14" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Umbrella</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jan 2009 23:45:06 +0000</created>
                <updated>Wed, 7 Aug 2013 08:47:05 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 08:47:05 +0000</resolved>
                                                                    <component>Performance</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12662191" author="stack" created="Fri, 9 Jan 2009 00:27:04 +0000"  >&lt;p&gt;Yeah, just tried killing server that was carrying &lt;del&gt;ROOT&lt;/del&gt;.  Took 20 minutes just processing 41 log files.  All clients were  dead by time cluster was again useable.&lt;/p&gt;</comment>
                            <comment id="12875184" author="stack" created="Thu, 3 Jun 2010 16:24:21 +0000"  >&lt;p&gt;We do 1. in the above now (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2413&quot; title=&quot;Master does not respect generation stamps, may result in meta getting permanently offlined&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2413&quot;&gt;&lt;del&gt;HBASE-2413&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Log splitting is also now multithreaded with distributed splits coming down the pike.&lt;/p&gt;
</comment>
                            <comment id="12875656" author="stack" created="Fri, 4 Jun 2010 16:41:20 +0000"  >&lt;p&gt;Small ideas:&lt;/p&gt;

&lt;p&gt;+ We could index the WAL so that recovering, we could skip old edits the faster (could skip reading the file altogether if we also had metadata with last seqno in it and it was &amp;lt; than current regions maximum)&lt;br/&gt;
+ Read recovery log once, instead of once per family as we do now.  Seems like we always replayed at Store level even though there is a noop play reconstruction log in HRegion (It was added by hbase-677; transactional hbase needed it).&lt;/p&gt;</comment>
                            <comment id="12918263" author="stack" created="Tue, 5 Oct 2010 22:20:27 +0000"  >&lt;p&gt;Moving out this nebulous umbrella issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12434794">HBASE-1816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12551766">HBASE-5843</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12411923">HBASE-1110</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12551766">HBASE-5843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hbe7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>