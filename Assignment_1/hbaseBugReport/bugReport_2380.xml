<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:01:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2380/HBASE-2380.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2380] Update to zookeeper 3.3.0</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2380</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It has:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  ZOOKEEPER-593.  java client api does not allow client to access negotiated
  session timeout (phunt via mahadev)


  ZOOKEEPER-587.  client should log timeout negotiated with server
  (phunt via mahadev)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;among a bunch of other fixes, as well some cleaned up logging and it&apos;ll be published to a maven repo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12460282">HBASE-2380</key>
            <summary>Update to zookeeper 3.3.0</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Mar 2010 20:42:18 +0000</created>
                <updated>Tue, 30 Mar 2010 22:51:37 +0000</updated>
                            <resolved>Tue, 30 Mar 2010 07:29:15 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12849893" author="stack" created="Thu, 25 Mar 2010 20:43:12 +0000"  >&lt;p&gt;Small changes in a couple of tests needed integrating new ZK.&lt;/p&gt;</comment>
                            <comment id="12849919" author="stack" created="Thu, 25 Mar 2010 21:52:46 +0000"  >&lt;p&gt;Of note, new clients are not supported working with older ensemble members (Thanks to Patrick Hunt for clarification on this one):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
14:35 &amp;lt; phunt&amp;gt; stack: I compared the jute files and a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; api method (&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; marshalling object) was added to 3.3, so &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you don&apos;t use that in general it will work.
14:36 &amp;lt; phunt&amp;gt; stack: but we don&apos;t test &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, and some changes at the semantic/timing/etc... level of the protocol may cause issues.
14:36 &amp;lt; stack&amp;gt; phunt: &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; I have to call &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; api to use &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; marshaller?
14:36 &amp;lt; phunt&amp;gt; stack: so &lt;span class=&quot;code-quote&quot;&gt;&quot;officially&quot;&lt;/span&gt; we don&apos;t support, but &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you did your own testing....
14:36 &amp;lt; phunt&amp;gt; stack: &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; object type, same marshaller
14:37 &amp;lt; stack&amp;gt; phunt: I was just reporting an observation made eval&apos;ing 3.3.0
14:37 &amp;lt; stack&amp;gt; Didn&apos;t realize it wasn&apos;t supported
14:37 &amp;lt; phunt&amp;gt; stack: &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; api call I&apos;m saying (getchildren2)
14:37 &amp;lt; stack&amp;gt; Thanks &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; update
14:37 &amp;lt; phunt&amp;gt; stack: understood. Just wanted to make sure you were aware.
14:37 &amp;lt; stack&amp;gt; thanks.
14:37 &amp;lt; stack&amp;gt; let me respond to your prompting over on zk-dev
14:37 &amp;lt; phunt&amp;gt; stack: you could always test it and verify &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; your use cases....
14:38 &amp;lt; phunt&amp;gt; stack: but officially we always support b/w compat on the servers, but not necess the clients.
14:38 &amp;lt; phunt&amp;gt; stack: &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; example in 3.1-&amp;gt;3.2 I believe that the clients will not work... we added some fields to the Stat object
14:39 &amp;lt; phunt&amp;gt; stack: but in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; we addeed a whole &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; api method, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you tried to use &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; specific method it would fail, but otw might be fine.
14:39 &amp;lt; jdcryans&amp;gt; civascu: hard to tell, fsck?
14:39 &amp;lt; phunt&amp;gt; stack: but then the issue just falls to the fact that we don&apos;t specifically test &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;.
14:40 &amp;lt; civascu&amp;gt; jdcryans: yeah, moving the edits to the cluster now, and will run diag first thing
14:40 &amp;lt; civascu&amp;gt; jdcryans: it will take a &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;
14:41 &amp;lt; stack&amp;gt; phunt: my cluster uses extant zk ensemble... it was just odd to me that it &apos;worked&apos;.. but it did
14:41 -!- mivert [~mivert@208.78.39.48] has joined #hbase
14:41 &amp;lt; stack&amp;gt; thanks &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; heads-up phunt 
14:41 &amp;lt; phunt&amp;gt; stack: &lt;span class=&quot;code-quote&quot;&gt;&quot;unofficially&quot;&lt;/span&gt; it might be fine. ;-)
14:42 &amp;lt; phunt&amp;gt; stack: any issue other than the obv? ie you need to upgrade the server then the client?
14:42 &amp;lt; phunt&amp;gt; stack: re hbase use I mean.
14:42 &amp;lt; phunt&amp;gt; stack: good to get out there on the zk dev list &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; there is. to help shape &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; changes.
14:45 &amp;lt; stack&amp;gt; phunt: let me add &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; fact to the hbase issue &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; upgrading... see &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; a reaction.   we might want to wait &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it requires ensembleis updated
14:46  * jdcryans reacts
14:46 &amp;lt; phunt&amp;gt; stack: upgrading the ensemble means rolling upgrade (servers are b/w compat at the quourm level as well) - so really just shutdown, upgrade code, bringup. that&apos;s it.
14:47 &amp;lt; jdcryans&amp;gt; I think it won&apos;t be a problem &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; those that let hbase manage ZK
14:47 &amp;lt; phunt&amp;gt; stack: once that&apos;s done clients can similarly be upgraded (incrementally I mean)
14:47 &amp;lt; jdcryans&amp;gt; phunt: 0.20.4 is breaking compat, so that won&apos;t be a problem
14:48 &amp;lt; jdcryans&amp;gt; the only issue I see is ppl putting ZK on a separate cluster and who forgot about it
14:48 &amp;lt; jdcryans&amp;gt; (maybe that reminds you of a certain crew :P )
14:48 &amp;lt; phunt&amp;gt; jdcryans: any user could upgrade ZK ensemble today. w/o upgrading hbase
14:49 &amp;lt; phunt&amp;gt; jdcryans: and it should work
14:49 &amp;lt; phunt&amp;gt; jdcryans: so there&apos;s def an upgrade path, but not &lt;span class=&quot;code-quote&quot;&gt;&quot;any client works with any server&quot;&lt;/span&gt;. unfort to keep things sane we need to limit some variables.
14:50  * stack jdcryans yes it reminds me of a certain cowboy outfit
14:50 &amp;lt; phunt&amp;gt; jdcryans: at the same time we want to encourage ppl to upgrade (fixes in particular) so hopefully we are doing enough in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; area. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is why I suggest stack messaging our dev list.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12850217" author="jdcryans" created="Fri, 26 Mar 2010 17:08:23 +0000"  >&lt;p&gt;Patrick Hunt just told us on IRC that 3.3.0 has a server-side config for max session timeout, so we don&apos;t need to play with the tick time anymore. In fact, he was saying we should never play with it anymore. This needs to be managed in the scope of this jira.&lt;/p&gt;</comment>
                            <comment id="12850238" author="stack" created="Fri, 26 Mar 2010 17:37:18 +0000"  >&lt;p&gt;Agreed J-D.  In fact, let this issue look at all zk config over in hbase-default.xml (Seems like 3.3.0 adds new stuff that TRUNK should take on.  We can exploit it after this commit).&lt;/p&gt;</comment>
                            <comment id="12851297" author="stack" created="Tue, 30 Mar 2010 07:29:15 +0000"  >&lt;p&gt;Duplicate of hbase-2392&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12460672">HBASE-2392</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12439825" name="zk330.patch" size="1525" author="stack" created="Thu, 25 Mar 2010 20:43:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Mar 2010 17:08:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hhhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>