<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:07:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3113/HBASE-3113.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3113] Don&apos;t reassign regions if cluster is being shutdown</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3113</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;On stop of a cluster, handling a close message, we&apos;ll go ahead and reassign regions as per normal though the cluster up flag is false.  This is what cause the TestRegionRebalancing test to fail up on hudson just now, #1546.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477400">HBASE-3113</key>
            <summary>Don&apos;t reassign regions if cluster is being shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Oct 2010 21:18:27 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:13 +0000</updated>
                            <resolved>Fri, 15 Oct 2010 20:47:26 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12921161" author="stack" created="Thu, 14 Oct 2010 23:10:23 +0000"  >&lt;p&gt;Check clusterup flag before going ahead with an assignment.&lt;/p&gt;</comment>
                            <comment id="12921164" author="stack" created="Thu, 14 Oct 2010 23:11:12 +0000"  >&lt;p&gt;I applied to TRUNK.  Lets see how it does up on hudson.&lt;/p&gt;</comment>
                            <comment id="12921472" author="stack" created="Fri, 15 Oct 2010 17:58:18 +0000"  >&lt;p&gt;This patch needs a part two.  While we don&apos;t assign any more if cluster is going down, I saw that #1552 build up on hudson failed because load balancer gave a region to a server that we&apos;d asked to shutdown.  The RS proceeded to open the region and since it had come in under the wire, the RS stayed up holding up test completion.&lt;/p&gt;

&lt;p&gt;A RS that has been asked to stop &amp;#8211; by user via HBaseAdmin or in a unit test testing balancing &amp;#8211; should reject requests to open regions.  Master should then catch the rejection exception and reassign the region elsewhere.&lt;/p&gt;</comment>
                            <comment id="12921538" author="stack" created="Fri, 15 Oct 2010 20:41:15 +0000"  >&lt;p&gt;Here is a part 2. RS will throw new RegionServerClosedException and assign will catch and reassign bypassing the going-down server.&lt;/p&gt;

&lt;p&gt;No unit test.  I thought about it a while and its a hard scenario to manufacture in unit test (an held-up regionserver shutdown with a pointed request to open delivered while its midst shutdown).&lt;/p&gt;</comment>
                            <comment id="12921541" author="stack" created="Fri, 15 Oct 2010 20:47:26 +0000"  >&lt;p&gt;Committed.  Resolving.  Will open new issue if problems w/ this implementation.&lt;/p&gt;</comment>
                            <comment id="12921635" author="stack" created="Sat, 16 Oct 2010 05:06:23 +0000"  >&lt;p&gt;I missed an important bit of 3113, actual invocation of the functionality part 2 added.  Heres a bit of a commit message to go with the part3 commit:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
M src/main/java/org/apache/hadoop/hbase/master/ServerManager.java
  Bit of javadoc.
M src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java
  If bad server, pass in name of bad server when remaking assignment
  plan -- i missed &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; important part on commit of part 2 of 3113.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15016916" author="lars_francke" created="Fri, 20 Nov 2015 12:41:13 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457293" name="3113-part2.txt" size="5473" author="stack" created="Fri, 15 Oct 2010 20:41:15 +0000"/>
                            <attachment id="12457322" name="3113-part3.txt" size="1342" author="stack" created="Sat, 16 Oct 2010 05:06:23 +0000"/>
                            <attachment id="12457206" name="3113.txt" size="695" author="stack" created="Thu, 14 Oct 2010 23:10:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Nov 2015 12:41:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hksv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>