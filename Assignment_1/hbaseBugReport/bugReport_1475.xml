<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:53:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1475/HBASE-1475.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1475] Unit testing from Eclipse, occasional delay on cluster tests from datanode webapps errors</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1475</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This does not happen every time I run a cluster test, but probably 75% of the time.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2009-06-02 09:58:32.365::INFO:  Logging to STDERR via org.mortbay.log.StdErrLog
2009-06-02 09:58:32.425::INFO:  jetty-6.1.14
2009-06-02 09:58:32.454::WARN:  Web application not found file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/hdfs
2009-06-02 09:58:32.454::WARN:  Failed startup of context org.mortbay.jetty.webapp.WebAppContext@7ed75415{/,file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/hdfs}
java.io.FileNotFoundException: file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/hdfs
	at org.mortbay.jetty.webapp.WebAppContext.resolveWebApp(WebAppContext.java:959)
	at org.mortbay.jetty.webapp.WebAppContext.getWebInf(WebAppContext.java:793)
	at org.mortbay.jetty.webapp.WebInfConfiguration.configureClassLoader(WebInfConfiguration.java:62)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:456)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:222)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.hadoop.http.HttpServer.start(HttpServer.java:453)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.startHttpServer(NameNode.java:246)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:202)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.&amp;lt;init&amp;gt;(NameNode.java:279)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:955)
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:275)
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:119)
	at org.apache.hadoop.hbase.HBaseClusterTestCase.setUp(HBaseClusterTestCase.java:122)
	at junit.framework.TestCase.runBare(TestCase.java:125)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)
2009-06-02 09:58:32.497::INFO:  Started SelectChannelConnector@localhost:34719
Starting DataNode 0 with dfs.data.dir: /home/jgray/src/hbase-0.20.0-1304/hbase/build/hbase/test/dfs/data/data1,/home/jgray/src/hbase-0.20.0-1304/hbase/build/hbase/test/dfs/data/data2
2009-06-02 09:58:32.678::INFO:  jetty-6.1.14
2009-06-02 09:58:32.683::WARN:  Web application not found file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/datanode
2009-06-02 09:58:32.683::WARN:  Failed startup of context org.mortbay.jetty.webapp.WebAppContext@6f7cf6b6{/,file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/datanode}
java.io.FileNotFoundException: file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/datanode
	at org.mortbay.jetty.webapp.WebAppContext.resolveWebApp(WebAppContext.java:959)
	at org.mortbay.jetty.webapp.WebAppContext.getWebInf(WebAppContext.java:793)
	at org.mortbay.jetty.webapp.WebInfConfiguration.configureClassLoader(WebInfConfiguration.java:62)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:456)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:222)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.hadoop.http.HttpServer.start(HttpServer.java:453)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:375)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.&amp;lt;init&amp;gt;(DataNode.java:216)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1283)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1238)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:414)
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:278)
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:119)
	at org.apache.hadoop.hbase.HBaseClusterTestCase.setUp(HBaseClusterTestCase.java:122)
	at junit.framework.TestCase.runBare(TestCase.java:125)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at junit.framework.TestSuite.runTest(TestSuite.java:208)
	at junit.framework.TestSuite.run(TestSuite.java:203)
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)
2009-06-02 09:58:32.688::INFO:  Started SelectChannelConnector@localhost:47838
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It holds there for about 30 seconds.  If I rerun the test, the delay usually goes away.  Even when there is no delay, I still get this error at the beginning of the cluster spin up.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426951">HBASE-1475</key>
            <summary>Unit testing from Eclipse, occasional delay on cluster tests from datanode webapps errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Jun 2009 18:01:44 +0000</created>
                <updated>Thu, 15 Oct 2009 02:55:25 +0000</updated>
                            <resolved>Thu, 15 Oct 2009 02:55:25 +0000</resolved>
                                    <version>0.20.0</version>
                                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12715609" author="streamy" created="Tue, 2 Jun 2009 18:12:31 +0000"  >&lt;p&gt;After it unblocks, the log continues as:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Starting DataNode 1 with dfs.data.dir: /home/jgray/src/hbase-0.20.0-1304/hbase/build/hbase/test/dfs/data/data3,/home/jgray/src/hbase-0.20.0-1304/hbase/build/hbase/test/dfs/data/data4
2009-06-02 10:11:14.138::INFO:  jetty-6.1.14
2009-06-02 10:11:14.144::WARN:  Web application not found file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/datanode
2009-06-02 10:11:14.144::WARN:  Failed startup of context org.mortbay.jetty.webapp.WebAppContext@7f2e7c6a{/,file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/datanode}
java.io.FileNotFoundException: file:/home/jgray/src/hbase-0.20.0-1304/hbase/bin/webapps/datanode
	at org.mortbay.jetty.webapp.WebAppContext.resolveWebApp(WebAppContext.java:959)
	at org.mortbay.jetty.webapp.WebAppContext.getWebInf(WebAppContext.java:793)
	at org.mortbay.jetty.webapp.WebInfConfiguration.configureClassLoader(WebInfConfiguration.java:62)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:456)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:222)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.apache.hadoop.http.HttpServer.start(HttpServer.java:453)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:375)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.&amp;lt;init&amp;gt;(DataNode.java:216)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1283)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1238)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:414)
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:278)
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:119)
	at org.apache.hadoop.hbase.HBaseClusterTestCase.setUp(HBaseClusterTestCase.java:122)
	at junit.framework.TestCase.runBare(TestCase.java:125)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:118)
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)
2009-06-02 10:11:14.148::INFO:  Started SelectChannelConnector@localhost:40282
2009-06-02 10:11:14,491 DEBUG [main] util.FSUtils(198): Created version file to: hdfs://localhost:60582/user/jgray
2009-06-02 10:11:14,592 ERROR [main] zookeeper.ZooKeeperWrapper(155): fail to read properties from zoo.cfg
2009-06-02 10:11:14,607 INFO  [main] master.HMaster(179): My address is xx:60000
2009-06-02 10:11:14,645 INFO  [main] master.HMaster(274): BOOTSTRAP: creating ROOT and first META regions
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12715610" author="streamy" created="Tue, 2 Jun 2009 18:13:41 +0000"  >&lt;p&gt;I have verified that there is no difference in log output between times when it blocks for ~25 seconds and times it does not.&lt;/p&gt;</comment>
                            <comment id="12715769" author="streamy" created="Wed, 3 Jun 2009 00:50:50 +0000"  >&lt;p&gt;I fixed the webapps datanode/hdfs issues by copying them over from hadoop 0.20 release.&lt;/p&gt;

&lt;p&gt;However, the delay still happens, but now earlier on immediately following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2009-06-02 16:49:36.651::INFO:  Logging to STDERR via org.mortbay.log.StdErrLog
2009-06-02 16:49:36.705::INFO:  jetty-6.1.14
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hdh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>