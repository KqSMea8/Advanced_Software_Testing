<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5806/HBASE-5806.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5806] Handle split region related failures on master restart and RS restart</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5806</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This issue is raised to solve issues that comes out of partial region split happened and the region node in the ZK which is in RS_ZK_REGION_SPLITTING and RS_ZK_REGION_SPLIT is not yet processed.&lt;br/&gt;
This also tries to address &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12551203">HBASE-5806</key>
            <summary>Handle split region related failures on master restart and RS restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Apr 2012 11:40:02 +0000</created>
                <updated>Tue, 26 Feb 2013 08:16:02 +0000</updated>
                            <resolved>Mon, 14 May 2012 18:35:15 +0000</resolved>
                                    <version>0.92.1</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13255487" author="ram_krish" created="Tue, 17 Apr 2012 11:40:26 +0000"  >&lt;p&gt;We will come up with a patch sooner. &lt;/p&gt;</comment>
                            <comment id="13261730" author="chinnalalam" created="Wed, 25 Apr 2012 15:44:52 +0000"  >&lt;p&gt;Here considered following scenarios:&lt;/p&gt;

&lt;p&gt;1.If the regionserver is restarted after removing the parent region from the online regions.&lt;br/&gt;
2.If Master is restarted while doing the region split in RS and it is in the flow of tickling from SPLIT-SPLIT or SPLITTING-SPLIT.&lt;br/&gt;
3.If Master is restarted after splitting is completely done and before deleting the region from META using catalogjanitor.&lt;/p&gt;

&lt;p&gt;In the first scenario the problem is, in ServerShutdownHandler while constructing hris it will check whether it is in RIT and is !isClosing and !isPendingClose and it will remove from hris. Remaining hris it will try to assign and no one will attempt to assign that region.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// Skip regions that were in transition unless CLOSING or PENDING_CLOSE
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (RegionState rit : regionsInTransition) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!rit.isClosing() &amp;amp;&amp;amp; !rit.isPendingClose() &amp;amp;&amp;amp; !rit.isSplitting()) {
          LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Removed &quot;&lt;/span&gt; + rit.getRegion().getRegionNameAsString() +
          &lt;span class=&quot;code-quote&quot;&gt;&quot; from list of regions to assign because in RIT; region state: &quot;&lt;/span&gt; +
          rit.getState());
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (hris != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) hris.remove(rit.getRegion());
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;In the second scenario the problem is, in AssignmentManager while rebuildUserRegions() it should not consider the region which will have the znode with Split or Splitting state because region split might be completed or partially done.&lt;/p&gt;

&lt;p&gt;In the third scenario the problem is, region split is completely done and it is not yet deleted from META using catalogjanitor so in &lt;br/&gt;
AssignmentManager while rebuildUserRegions() it should not consider this region.&lt;/p&gt;</comment>
                            <comment id="13261732" author="chinnalalam" created="Wed, 25 Apr 2012 15:46:41 +0000"  >&lt;p&gt;I uploaded initial patch not yet tested. I am analyzing more on this.&lt;/p&gt;</comment>
                            <comment id="13264432" author="stack" created="Sat, 28 Apr 2012 22:58:31 +0000"  >&lt;p&gt;Chinna This is good work.  Can you provide more detail on the scenarios you are fixing?  I&apos;m trying to make sure I understand.  For example, for #1 above, we are talking about the regionserver crashing somewhere here (from SplitTransaction):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!testing) {
      services.removeFromOnlineRegions(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.parent.getRegionInfo().getEncodedName());
    }
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.journal.add(JournalEntry.OFFLINED_PARENT);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that right?&lt;/p&gt;

&lt;p&gt;The patch seems reasonable.  Could we make a test at all?  There are some tests around splitting already w/ Mocks.  Could we add to these?&lt;/p&gt;

&lt;p&gt;Good stuff.&lt;/p&gt;</comment>
                            <comment id="13264950" author="chinnalalam" created="Mon, 30 Apr 2012 14:16:50 +0000"  >
&lt;p&gt;for #1 above, &lt;br/&gt;
RegionServer is crashed at SplitTransaction.createDaughters(Server, RegionServerServices) in  while removing from online regions()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!testing) {
      services.removeFromOnlineRegions(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.parent.getRegionInfo().getEncodedName());
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here where ever the regionserver is crashed the ephemeral node will be deleted and master will get the notification of nodeDeleted() where it will be cleared from RIT&lt;/p&gt;

&lt;p&gt;But the ServerShutdownHandler executed first than the nodeDeleted() event for the region node.&lt;br/&gt;
You can see that from the below logs&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-04-06 14:35:08,841 DEBUG org.apache.hadoop.hbase.master.handler.ServerShutdownHandler: Removed test,,1333702991530.cdfa837563e75ac5f4dc128680cc8da8. from list of regions to assign because in RIT; region state: SPLITTING

2012-04-06 14:35:12,981 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Ephemeral node deleted, regionserver crashed?, clearing from RIT; rs=test,,1333702991530.cdfa837563e75ac5f4dc128680cc8da8. state=SPLITTING, ts=1333703059260, server=HOST-10-18-40-25,60020,1333695183392
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this situation the below code populated that region&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  List&amp;lt;RegionState&amp;gt; regionsInTransition =
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.services.getAssignmentManager().
          processServerShutdown(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.serverName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and it is in !rit.isClosing() &amp;amp;&amp;amp; !rit.isPendingClose() so the region is deleted from the hris&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (RegionState rit : regionsInTransition) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!rit.isClosing() &amp;amp;&amp;amp; !rit.isPendingClose()) {
          LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Removed &quot;&lt;/span&gt; + rit.getRegion().getRegionNameAsString() +
          &lt;span class=&quot;code-quote&quot;&gt;&quot; from list of regions to assign because in RIT; region state: &quot;&lt;/span&gt; +
          rit.getState());
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (hris != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) hris.remove(rit.getRegion());
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The fix in SSH addresses #1.&lt;br/&gt;
#2 came because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt;.  However &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5615&quot; title=&quot;the master never does balance because of balancing the parent region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5615&quot;&gt;&lt;del&gt;HBASE-5615&lt;/del&gt;&lt;/a&gt; was reverted.&lt;br/&gt;
#3 comes when master restarts after sp1itting is done and before CJ has cleared the region from META. So while rebuilding the user region we ensure that the offlined parent region is not again taken into account.&lt;/p&gt;

&lt;p&gt;#2 and #3 are together taken care in this patch such that the fix does solve both the problems.&lt;/p&gt;</comment>
                            <comment id="13269707" author="chinnalalam" created="Mon, 7 May 2012 15:43:14 +0000"  >&lt;p&gt;Updated the patch with testcases. In trunk patch added this change in AssignmentManager.java to address the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5654&quot; title=&quot;[findbugs] Address dodgy bugs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5654&quot;&gt;&lt;del&gt;HBASE-5654&lt;/del&gt;&lt;/a&gt; issue&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
-        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received event is not valid.&quot;&lt;/span&gt;);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13269709" author="chinnalalam" created="Mon, 7 May 2012 15:45:20 +0000"  >&lt;p&gt;Updated patch for 0.94 &amp;amp; trunk.&lt;/p&gt;</comment>
                            <comment id="13269742" author="zhihyu@ebaysf.com" created="Mon, 7 May 2012 16:16:39 +0000"  >&lt;p&gt;Overall, patch looks good.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
-        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received event is not valid.&quot;&lt;/span&gt;);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should the event be logged in the default case ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-comment&quot;&gt;// If Znode not exists dont consider &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; region
&lt;/span&gt;+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (data == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;not exists&apos; -&amp;gt; &apos;does not exist&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; class MockedMaster &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HMaster {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think the class should be private. A better name would be MockMasterWithoutCatalogJanitor.&lt;/p&gt;</comment>
                            <comment id="13269746" author="ram_krish" created="Mon, 7 May 2012 16:24:33 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
-        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received event is not valid.&quot;&lt;/span&gt;);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Good that this testcase brought it out. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; class MockedMaster &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HMaster {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It has to be public otherwise the LocalHBaseCluster does not allow us to update the HMaster class.&lt;/p&gt;</comment>
                            <comment id="13269759" author="hadoopqa" created="Mon, 7 May 2012 16:42:20 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525862/HBASE-5806_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525862/HBASE-5806_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1787//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1787//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1787//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1787//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1787//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1787//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13269812" author="chinnalalam" created="Mon, 7 May 2012 17:43:46 +0000"  >&lt;p&gt;Thanks for the review Ted. Updated the patch with the review comments.&lt;/p&gt;</comment>
                            <comment id="13269850" author="hadoopqa" created="Mon, 7 May 2012 18:28:36 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525884/HBASE-5806_trunk_1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525884/HBASE-5806_trunk_1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1790//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1790//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1790//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1790//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1790//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1790//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13269986" author="zhihyu@ebaysf.com" created="Mon, 7 May 2012 20:48:09 +0000"  >&lt;p&gt;+1 on patch v2.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MockMasterWithoutCatalogJanitor abortAndWaitForMaster() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, InterruptedException {
+    cluster.abortMaster(0);
+    cluster.waitOnMaster(0);
+    cluster.getConfiguration().setClass(HConstants.MASTER_IMPL, MockMasterWithoutCatalogJanitor.class, HMaster.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please wrap the two lines whose length exceeds 100 chars at time of integration.&lt;/p&gt;</comment>
                            <comment id="13270020" author="stack" created="Mon, 7 May 2012 21:21:37 +0000"  >&lt;p&gt;@Chinna Very nice work.  Thanks.  I can wrap the long lines on commit.  Here&apos;s some questions on the patch just out of interest:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    JVMClusterUtil.MasterThread mt =
-      JVMClusterUtil.createMasterThread(c,
-        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.masterClass, index);
+    JVMClusterUtil.MasterThread mt = JVMClusterUtil.createMasterThread(c,
+        (&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HMaster&amp;gt;) c.getClass(HConstants.MASTER_IMPL, HMaster.class), index);
     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.masterThreads.add(mt);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What brought on the above change?  Was this needed so you could add your mocking tests or is it that you fellas are doing a master subclass?&lt;/p&gt;

&lt;p&gt;I don&apos;t understand why we need this change (because of hbase-5654 ?):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
-        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received event is not valid.&quot;&lt;/span&gt;);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Log that we are going to pass on a region here?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-comment&quot;&gt;// If znode does not exist dont consider &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; region
&lt;/span&gt;+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (data == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At debug level?&lt;/p&gt;</comment>
                            <comment id="13270242" author="chinnalalam" created="Tue, 8 May 2012 06:14:15 +0000"  >&lt;p&gt;Thanks for the review Stack. Patch updated with the debug message.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    JVMClusterUtil.MasterThread mt =
-      JVMClusterUtil.createMasterThread(c,
-        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.masterClass, index);
+    JVMClusterUtil.MasterThread mt = JVMClusterUtil.createMasterThread(c,
+        (&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; HMaster&amp;gt;) c.getClass(HConstants.MASTER_IMPL, HMaster.class), index);
     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.masterThreads.add(mt);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Added the above change for setting the MockMaster class while restarting the master  without this change master class is set through the property HConstants.MASTER_IMPL is not reflecting because masterClass is already loaded.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
-        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received event is not valid.&quot;&lt;/span&gt;);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While restarting the master regions in RS_ZK_REGION_SPLIT or RS_ZK_REGION_SPLITTING state should not be handled in processRIT but here it is throwing the exception because of this it failed. Here it should not throw any exception.&lt;/p&gt;</comment>
                            <comment id="13270277" author="hadoopqa" created="Tue, 8 May 2012 07:12:22 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525962/HBASE-5806_trunk_2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525962/HBASE-5806_trunk_2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1794//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1794//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1794//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1794//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1794//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1794//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13270542" author="stack" created="Tue, 8 May 2012 15:32:02 +0000"  >&lt;p&gt;On the IllegalStateException, should we make a case that catches the RS_ZK_SPLIT* conditions instead of changing the default so that ANY unexpected condition results in a warn log rather than an IllegalStateException?&lt;/p&gt;

&lt;p&gt;I like your change to make it so master can be mocked.&lt;/p&gt;</comment>
                            <comment id="13270630" author="ram_krish" created="Tue, 8 May 2012 17:27:00 +0000"  >&lt;p&gt;@Stack&lt;br/&gt;
So can we add cases for RS_ZK_SPLIT* conditions with a log message with debug level. Because this is expected. If we have WARN, it may attract unnecessary attention.&lt;br/&gt;
And have one default case again with a log message with WARN level?&lt;/p&gt;</comment>
                            <comment id="13270682" author="stack" created="Tue, 8 May 2012 18:26:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;So can we add cases for RS_ZK_SPLIT* conditions with a log message with debug level. Because this is expected. If we have WARN, it may attract unnecessary attention. And have one default case again with a log message with WARN level?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  Add cases for RS_ZK_SPLIT* and log at DEBUG level that these callbacks are just passing through (or do not log if this is &apos;normal&apos; operation).  Yes, I agree, logging at WARN level will make users think this an abnormal state which is not what we want them to think.&lt;/p&gt;

&lt;p&gt;I would then restore the default case throwing IllegalStateException rather than log a WARN.  Now your change is more focused on addressing the issue found by Chinna.  Previous, the patch could catch illegal states that were other than RS_ZK_SPLIT*&lt;/p&gt;</comment>
                            <comment id="13270703" author="chinnalalam" created="Tue, 8 May 2012 18:48:30 +0000"  >&lt;p&gt;@Stack&lt;br/&gt;
I feel adding cases for RS_ZK_SPLIT* and log with DEBUG level is ok.&lt;/p&gt;

&lt;p&gt;But for other states throwing the IllegalStateException will change the behaviour from the previous. Need to check whether it is ok with the other states other than RS_ZK_SPLIT*. Previous because of throwing exception regions in state RS_ZK_SPLIT* was broken so i need to check thoroughly other states.&lt;/p&gt;</comment>
                            <comment id="13270750" author="stack" created="Tue, 8 May 2012 19:30:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;But for other states throwing the IllegalStateException will change the behaviour from the previous.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How is that?  Isn&apos;t it this patch that changes the IllegalStateException to instead do LOG.warn when we get to the &apos;default&apos; case so I&apos;d say all you are changing is the handling of RS_ZK_SPLIT* &amp;#8211; which is good since that is all this issue is concerned with?&lt;/p&gt;

&lt;p&gt;Good stuff&lt;/p&gt;</comment>
                            <comment id="13271613" author="chinnalalam" created="Wed, 9 May 2012 17:25:57 +0000"  >&lt;p&gt;Updated the patch with log message(DEBUG level) for RS_ZK_SPLIT* cases and thrown exception for the default case.&lt;/p&gt;</comment>
                            <comment id="13271654" author="hadoopqa" created="Wed, 9 May 2012 18:17:01 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12526183/HBASE-5806_trunk_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12526183/HBASE-5806_trunk_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestStore&lt;br/&gt;
                  org.apache.hadoop.hbase.TestDrainingServer&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1818//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1818//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1818//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1818//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1818//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1818//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13272519" author="ram_krish" created="Thu, 10 May 2012 17:27:06 +0000"  >&lt;p&gt;Pls provide your comments on the latest patch.&lt;/p&gt;</comment>
                            <comment id="13272546" author="zhihyu@ebaysf.com" created="Thu, 10 May 2012 17:51:33 +0000"  >&lt;p&gt;The 3 tests reported by Hadoop QA passed locally with latest patch.&lt;/p&gt;

&lt;p&gt;+1 from me.&lt;/p&gt;</comment>
                            <comment id="13272556" author="ram_krish" created="Thu, 10 May 2012 17:57:47 +0000"  >&lt;p&gt;Thanks Ted.&lt;br/&gt;
@Stack &lt;br/&gt;
Your comments on the patch?&lt;/p&gt;</comment>
                            <comment id="13274082" author="stack" created="Sat, 12 May 2012 22:06:28 +0000"  >&lt;p&gt;+1 on on v3.&lt;/p&gt;

&lt;p&gt;For the next time, not meant for this patch, Chinna, you could write the below...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; RS_ZK_REGION_SPLITTING:
+        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Processed region in state : &quot;&lt;/span&gt; + et);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
+      &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; RS_ZK_REGION_SPLIT:
+        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Processed region in state : &quot;&lt;/span&gt; + et);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; RS_ZK_REGION_SPLITTING:
+      &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; RS_ZK_REGION_SPLIT:
+        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Processed region in state : &quot;&lt;/span&gt; + et);
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;..but lets get v3 in.  Good stuff.&lt;/p&gt;</comment>
                            <comment id="13274439" author="ram_krish" created="Mon, 14 May 2012 04:39:11 +0000"  >&lt;p&gt;Thanks Stack.  I will commit it tonight. (India time).&lt;/p&gt;</comment>
                            <comment id="13274836" author="ram_krish" created="Mon, 14 May 2012 18:34:54 +0000"  >&lt;p&gt;Committed to trunk, 09.94 and 0.92.&lt;br/&gt;
Thanks for the patch Chinna.&lt;br/&gt;
Thanks for the review Stack and Ted.&lt;/p&gt;</comment>
                            <comment id="13275080" author="hudson" created="Tue, 15 May 2012 00:17:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #4 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/4/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt; Handle split region related failures on master restart and RS restart (Chinna Rao) (Revision 1338325)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13278526" author="hudson" created="Fri, 18 May 2012 02:34:23 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/107/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt; Handle split region related failures on master restart and RS restart(Chinna rao) (Revision 1338335)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13279416" author="hudson" created="Sat, 19 May 2012 02:42:11 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #27 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/27/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/27/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5806&quot; title=&quot;Handle split region related failures on master restart and RS restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5806&quot;&gt;&lt;del&gt;HBASE-5806&lt;/del&gt;&lt;/a&gt; Handle split region related failures on master restart and RS restart(Chinna rao) (Revision 1338331)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12524293" name="HBASE-5806.patch" size="1961" author="chinnalalam" created="Wed, 25 Apr 2012 15:43:06 +0000"/>
                            <attachment id="12525960" name="HBASE-5806_0.92.patch" size="14140" author="chinnalalam" created="Tue, 8 May 2012 06:12:01 +0000"/>
                            <attachment id="12525861" name="HBASE-5806_0.94.patch" size="13033" author="chinnalalam" created="Mon, 7 May 2012 15:35:21 +0000"/>
                            <attachment id="12525883" name="HBASE-5806_0.94_1.patch" size="13189" author="chinnalalam" created="Mon, 7 May 2012 17:40:15 +0000"/>
                            <attachment id="12525961" name="HBASE-5806_0.94_2.patch" size="13979" author="chinnalalam" created="Tue, 8 May 2012 06:12:02 +0000"/>
                            <attachment id="12525862" name="HBASE-5806_trunk.patch" size="12493" author="chinnalalam" created="Mon, 7 May 2012 15:35:21 +0000"/>
                            <attachment id="12525884" name="HBASE-5806_trunk_1.patch" size="13537" author="chinnalalam" created="Mon, 7 May 2012 17:40:15 +0000"/>
                            <attachment id="12525962" name="HBASE-5806_trunk_2.patch" size="14305" author="chinnalalam" created="Tue, 8 May 2012 06:12:02 +0000"/>
                            <attachment id="12526183" name="HBASE-5806_trunk_3.patch" size="14547" author="chinnalalam" created="Wed, 9 May 2012 17:27:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Apr 2012 15:44:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236067</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02gtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>