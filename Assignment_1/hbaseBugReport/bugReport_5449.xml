<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:27:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5449/HBASE-5449.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5449] Support for wire-compatible security functionality</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5449</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12543627">HBASE-5449</key>
            <summary>Support for wire-compatible security functionality</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12540505">HBASE-5305</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2012 06:49:11 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:42 +0000</updated>
                            <resolved>Fri, 24 Aug 2012 22:54:43 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                    <component>IPC/RPC</component>
                    <component>master</component>
                    <component>migration</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="13415784" author="devaraj" created="Mon, 16 Jul 2012 23:41:16 +0000"  >&lt;p&gt;Am trying to understand what is needed to be done here.. Any thoughts?&lt;/p&gt;</comment>
                            <comment id="13416416" author="ghelmling" created="Tue, 17 Jul 2012 18:10:16 +0000"  >&lt;p&gt;I see two parts of the current security controls that would need better cross version support:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;AccessControllerProtocol implementation for handling grant(), revoke(), etc. calls as a coprocessor endpoint&lt;/li&gt;
	&lt;li&gt;ACL serialization into ZooKeeper znodes for synchronization across the cluster &amp;#8211; I think these are still serialized just as Writables&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;m tackling the AccessControllerProtocol conversion as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5448&quot; title=&quot;Support for dynamic coprocessor endpoints with PB-based RPC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5448&quot;&gt;&lt;del&gt;HBASE-5448&lt;/del&gt;&lt;/a&gt; (convert coprocessor endpoints to PB-based RPC).  It&apos;s making a handy proof-of-concept/test case.  I believe the znode serialization still needs to be handled, unless that&apos;s been picked up elsewhere.&lt;/p&gt;</comment>
                            <comment id="13416418" author="jesse_yates" created="Tue, 17 Jul 2012 18:14:14 +0000"  >&lt;p&gt;Don&apos;t have time to work on this at the moment - someone else can pick it up.&lt;/p&gt;</comment>
                            <comment id="13437070" author="mbertozzi" created="Fri, 17 Aug 2012 21:01:46 +0000"  >&lt;p&gt;I can do that.&lt;br/&gt;
I&apos;ll start with the znode ACL serialization, that are still using Writables.&lt;/p&gt;</comment>
                            <comment id="13437385" author="mbertozzi" created="Sat, 18 Aug 2012 19:17:44 +0000"  >&lt;p&gt;First draft of protobuf conversion, &lt;br/&gt;
patch without compiled protobuf available at &lt;a href=&quot;https://reviews.apache.org/r/6689/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6689/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This patch just switch the current serialization code to protobuf.&lt;/p&gt;

&lt;p&gt;but I think that we can remove, or change, some stuff during this conversion.&lt;br/&gt;
Currently there&apos;re 3 classes&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Permission&lt;/li&gt;
	&lt;li&gt;TablePermission : Permission&lt;/li&gt;
	&lt;li&gt;UserPermission : TablePermission&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;UserPermission is the &quot;public&quot; class used by the shell to describe a user permission...&lt;br/&gt;
Can be a global permission that means just username + actions (RWXCA) or a table permission username + actions + table + cf + qualifier..&lt;/p&gt;

&lt;p&gt;Permission is never used directly (there&apos;s just one ref in the shell, but just for printing)&lt;/p&gt;

&lt;p&gt;TablePermission is the main class used, and The znode contains a ListMultimap (user: &lt;span class=&quot;error&quot;&gt;&amp;#91;table permission&amp;#93;&lt;/span&gt;)&lt;/p&gt;

&lt;p&gt;Maybe we can remove the inheritance UserPermission -&amp;gt; TablePermission -&amp;gt; Permission, change the Permission in an Abstract class and maybe something else...&lt;/p&gt;

&lt;p&gt;any thoughts?&lt;/p&gt;</comment>
                            <comment id="13437390" author="stack" created="Sat, 18 Aug 2012 19:42:29 +0000"  >&lt;p&gt;Matteo I like your suggestion we make Permission mechanics less public. +1.&lt;/p&gt;</comment>
                            <comment id="13437393" author="stack" created="Sat, 18 Aug 2012 19:51:30 +0000"  >&lt;p&gt;I put review up in RB.&lt;/p&gt;</comment>
                            <comment id="13437415" author="apurtell" created="Sat, 18 Aug 2012 21:27:50 +0000"  >&lt;p&gt;+1 on improving Permission hierarchy. Could have a permission object that encapsulates actions allowed anD a subclass that adds scope (table, CF, etc.) and that&apos;s it. &lt;/p&gt;</comment>
                            <comment id="13437421" author="ghelmling" created="Sat, 18 Aug 2012 22:04:00 +0000"  >&lt;p&gt;Attaching the AccessControl.proto and ProtobufUtil helpers from the patch I&apos;ve been working on for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5448&quot; title=&quot;Support for dynamic coprocessor endpoints with PB-based RPC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5448&quot;&gt;&lt;del&gt;HBASE-5448&lt;/del&gt;&lt;/a&gt;.  Hopefully they will be of use.  Make whatever modifications you need to, I can always rebase 5448 off of whatever changes.&lt;/p&gt;</comment>
                            <comment id="13437467" author="mbertozzi" created="Sun, 19 Aug 2012 06:56:02 +0000"  >&lt;p&gt;Added v1 patch using Gary&apos;s protobuf, that removes the TablePermission (merged with Permission).&lt;/p&gt;

&lt;p&gt;Thanks Gary!&lt;/p&gt;</comment>
                            <comment id="13437593" author="stack" created="Sun, 19 Aug 2012 21:59:30 +0000"  >&lt;p&gt;Is UserTablePermission from Gary?&lt;/p&gt;

&lt;p&gt;You think it worth adding a bit of commentary to the .proto file or you think it basically self-explanatory (I could buy that... Permission in a .proto file named AccessControl is pretty hard to misinterpret).&lt;/p&gt;

&lt;p&gt;I see a TablePermission under access.  When you say above you remove TablePermission, you mean from pb file?&lt;/p&gt;

&lt;p&gt;I think this committable.  Gary or Andrew want to take a looksee?  I&apos;ll commit in a few days unless they intercede.  Good on you Matteo.&lt;/p&gt;</comment>
                            <comment id="13437998" author="apurtell" created="Mon, 20 Aug 2012 16:52:01 +0000"  >&lt;p&gt;I wonder if we should use an integer instead of protobuf enum for Action. IIRC, it&apos;s not possible to extend those with new cases, and enum values are encoded as a 32-bit varint anyway.&lt;/p&gt;</comment>
                            <comment id="13438204" author="mbertozzi" created="Mon, 20 Aug 2012 21:02:39 +0000"  >&lt;p&gt;@Andrew from a quick look at the generated code doesn&apos;t seems that enum has some limitation for extensions, if for extension you mean adding more fields. Also, enums are already used in other protos...&lt;/p&gt;

&lt;p&gt;@Stack UserTablePermission is not from Gary proto, is the serialized version of the ListMultimap that stores all the permissions for one table (user: &lt;span class=&quot;error&quot;&gt;&amp;#91;permission&amp;#93;&lt;/span&gt;), used by the acl ZooKeeper serialization.&lt;br/&gt;
Also there&apos;s still a toTablePermission() under ProtobufUtil since all the code uses TablePermission class and the toPermission() return a Permission object, maybe this stuff can be cleaned up by flattening the permission hierarchy.&lt;/p&gt;</comment>
                            <comment id="13438212" author="apurtell" created="Mon, 20 Aug 2012 21:11:17 +0000"  >&lt;p&gt;No I don&apos;t mean adding a new field, I mean using a new integer value for the enum.&lt;/p&gt;</comment>
                            <comment id="13438214" author="apurtell" created="Mon, 20 Aug 2012 21:12:59 +0000"  >&lt;p&gt;Otherwise wouldn&apos;t we find ourselves having an Action field plus something like ExtendedAction or the MS-ism ActionEx? &lt;/p&gt;

&lt;p&gt;Maybe enums should be considered harmful?&lt;/p&gt;</comment>
                            <comment id="13438220" author="mbertozzi" created="Mon, 20 Aug 2012 21:19:01 +0000"  >&lt;p&gt;@Andrew sorry, maybe I still don&apos;t get what you mean but the proto enum doesn&apos;t match with the &quot;real&quot; enum. basically you convert the proto enum in the real one with something like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (proto.getMyEnumValue()) {
  &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; Proto.MY_ENUM_FIELD_1: &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Real.MY_ENUM_FIELD_1;
  &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; Proto.MY_ENUM_FIELD_1: &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Real.MY_ENUM_FIELD_2;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;this means that you can change the value of the &quot;real&quot; enum whenever you want, while keeping the protobuf enum the same.&lt;/p&gt;</comment>
                            <comment id="13438224" author="apurtell" created="Mon, 20 Aug 2012 21:22:56 +0000"  >&lt;p&gt;So how do you update the Action message for a new action item? Will Action&apos;s with the new enum case be backwards compatible with earlier clients? Or will they throw some kind of exception? If old clients can ignore new enum values then I don&apos;t care.&lt;/p&gt;

&lt;p&gt;Edit: Fix typo.&lt;/p&gt;</comment>
                            <comment id="13438235" author="mbertozzi" created="Mon, 20 Aug 2012 21:30:54 +0000"  >&lt;p&gt;The current implementation throws an exception if the enum doesn&apos;t match... but I think that we can skip the exception and the permission.&lt;br/&gt;
e.g.&lt;br/&gt;
 0.96 has READ, WRITE, CREATE, ADMIN&lt;br/&gt;
 0.98 has READ, WRITE, CREATE, ADMIN, SUPER_POWER&lt;br/&gt;
The 0.96 can just skip the SUPER_POWER permission since doesn&apos;t make sense in 0.96.&lt;/p&gt;</comment>
                            <comment id="13438236" author="apurtell" created="Mon, 20 Aug 2012 21:35:49 +0000"  >&lt;p&gt;I&apos;m not clear what happens inside protobuf deserialization if a message with action = SUPER_POWER is received by a 0.96 client or server. Will it blow up? I don&apos;t think we should assume that a PB enum is going to enumerate everything we&apos;ll ever think of from one major release cycle to the next.&lt;/p&gt;</comment>
                            <comment id="13438586" author="mbertozzi" created="Tue, 21 Aug 2012 10:32:57 +0000"  >&lt;p&gt;the generated protobuf mergeFrom() code that parse the enum looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (message contains &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt;) {
    get the value of the &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (the value of the &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; is not in the current proto definition)
        mark the field as missing and add to the unknown fields
    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
        set the &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; value
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so basically, if you&apos;ve an enum:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
message MyMessage {
    &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; MyEnum {
        ENUM_VALUE_1 = 1;
        ENUM_VALUE_2 = 2;
        ENUM_VALUE_3 = 3;
    }
    required MyEnum myEnum;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then you switch to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
    &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; MyEnum {
        ENUM_VALUE_1 = 1;
        &lt;span class=&quot;code-comment&quot;&gt;//ENUM_VALUE_2 = 2;
&lt;/span&gt;        ENUM_VALUE_3 = 3;
        ENUM_VALUE_4 = 4;
    }
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The old client can check for message.hasMyEnum(). &lt;br/&gt;
if it is false, field is &quot;missing&quot; that in this case means I&apos;m not able to find the enum value in my current proto.&lt;br/&gt;
so protobuf is able to handle the case without problems. &lt;br/&gt;
The conversion code from protobuf to the real object is responsible to preserve the compatibiliy...&lt;/p&gt;

&lt;p&gt;I&apos;ll fix the patch to avoid throwing the exception in case of permission action enum mismatch!&lt;/p&gt;</comment>
                            <comment id="13438899" author="mbertozzi" created="Tue, 21 Aug 2012 17:41:45 +0000"  >&lt;p&gt;Attached a new patch.&lt;/p&gt;

&lt;p&gt;The throw if the if the Action doesn&apos;t match the enum during the conversion is still there, since I&apos;ve verified that by calling the  getActionList(), protobuf does already the work of filtering the &quot;unknown&quot; enum values.&lt;/p&gt;</comment>
                            <comment id="13438965" author="hadoopqa" created="Tue, 21 Aug 2012 19:21:44 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541785/HBASE-5449-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541785/HBASE-5449-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.backup.example.TestZooKeeperTableArchiveClient&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2642//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13439140" author="apurtell" created="Tue, 21 Aug 2012 23:25:18 +0000"  >&lt;p&gt;Thanks Matteo, +1&lt;/p&gt;</comment>
                            <comment id="13441574" author="stack" created="Fri, 24 Aug 2012 22:54:43 +0000"  >&lt;p&gt;I committed to trunk after trying the test that failed.  It runs for EVER but passed w/ the patch applied.&lt;/p&gt;

&lt;p&gt;Thanks Matteo for the persistence.&lt;/p&gt;</comment>
                            <comment id="13441581" author="hudson" created="Fri, 24 Aug 2012 23:00:28 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3272 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3272/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5449&quot; title=&quot;Support for wire-compatible security functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5449&quot;&gt;&lt;del&gt;HBASE-5449&lt;/del&gt;&lt;/a&gt; Support for wire-compatible security functionality; REVERT OVERCOMMIT (Revision 1377142)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5449&quot; title=&quot;Support for wire-compatible security functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5449&quot;&gt;&lt;del&gt;HBASE-5449&lt;/del&gt;&lt;/a&gt; Support for wire-compatible security functionality (Revision 1377141)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13441651" author="hudson" created="Sat, 25 Aug 2012 00:07:47 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #146 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/146/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/146/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5449&quot; title=&quot;Support for wire-compatible security functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5449&quot;&gt;&lt;del&gt;HBASE-5449&lt;/del&gt;&lt;/a&gt; Support for wire-compatible security functionality; ADD MISSING FILES (Revision 1377145)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5449&quot; title=&quot;Support for wire-compatible security functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5449&quot;&gt;&lt;del&gt;HBASE-5449&lt;/del&gt;&lt;/a&gt; Support for wire-compatible security functionality; REVERT OVERCOMMIT (Revision 1377142)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5449&quot; title=&quot;Support for wire-compatible security functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5449&quot;&gt;&lt;del&gt;HBASE-5449&lt;/del&gt;&lt;/a&gt; Support for wire-compatible security functionality (Revision 1377141)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AccessControlProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/protobuf/AccessControl.proto&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessControlLists.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TableAuthManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/TablePermission.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestTablePermissions.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13441708" author="hudson" created="Sat, 25 Aug 2012 01:12:31 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3273 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3273/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3273/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5449&quot; title=&quot;Support for wire-compatible security functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5449&quot;&gt;&lt;del&gt;HBASE-5449&lt;/del&gt;&lt;/a&gt; Support for wire-compatible security functionality; ADD MISSING FILES (Revision 1377145)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/generated/AccessControlProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/protobuf/AccessControl.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442106" author="zhihyu@ebaysf.com" created="Sun, 26 Aug 2012 14:12:40 +0000"  >&lt;p&gt;Since trunk build 3272, I could no longer find TestAggregateProtocol in build console output.&lt;br/&gt;
I tried to identify the hanging test and found the following in org.apache.hadoop.hbase.coprocessor.TestAggregateProtocol-output.txt:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Sat Aug 25 19:27:36 PDT 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@382ce255, java.io.IOException: Can&apos;t write: {&lt;span class=&quot;code-quote&quot;&gt;&quot;timeRange&quot;&lt;/span&gt;:[0,9223372036854775807],&lt;span class=&quot;code-quote&quot;&gt;&quot;batch&quot;&lt;/span&gt;:-1,&lt;span class=&quot;code-quote&quot;&gt;&quot;startRow&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;testRow\\x00\\x00\\x00\\x05&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;stopRow&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;testRow\\x00\\x00\\x00\\x0F&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;totalColumns&quot;&lt;/span&gt;:1,&lt;span class=&quot;code-quote&quot;&gt;&quot;cacheBlocks&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;families&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;TestFamily&quot;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&quot;TestQualifier&quot;&lt;/span&gt;]},&lt;span class=&quot;code-quote&quot;&gt;&quot;maxResultSize&quot;&lt;/span&gt;:-1,&lt;span class=&quot;code-quote&quot;&gt;&quot;maxVersions&quot;&lt;/span&gt;:1,&lt;span class=&quot;code-quote&quot;&gt;&quot;caching&quot;&lt;/span&gt;:-1} as class org.apache.hadoop.hbase.client.Scan
Sat Aug 25 19:27:44 PDT 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@382ce255, java.io.IOException: Can&apos;t write: {&lt;span class=&quot;code-quote&quot;&gt;&quot;timeRange&quot;&lt;/span&gt;:[0,9223372036854775807],&lt;span class=&quot;code-quote&quot;&gt;&quot;batch&quot;&lt;/span&gt;:-1,&lt;span class=&quot;code-quote&quot;&gt;&quot;startRow&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;testRow\\x00\\x00\\x00\\x05&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;stopRow&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;testRow\\x00\\x00\\x00\\x0F&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;totalColumns&quot;&lt;/span&gt;:1,&lt;span class=&quot;code-quote&quot;&gt;&quot;cacheBlocks&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;families&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;TestFamily&quot;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&quot;TestQualifier&quot;&lt;/span&gt;]},&lt;span class=&quot;code-quote&quot;&gt;&quot;maxResultSize&quot;&lt;/span&gt;:-1,&lt;span class=&quot;code-quote&quot;&gt;&quot;maxVersions&quot;&lt;/span&gt;:1,&lt;span class=&quot;code-quote&quot;&gt;&quot;caching&quot;&lt;/span&gt;:-1} as class org.apache.hadoop.hbase.client.Scan
Sat Aug 25 19:28:00 PDT 2012, org.apache.hadoop.hbase.ipc.ExecRPCInvoker$1@382ce255, java.io.IOException: Can&apos;t write: {&lt;span class=&quot;code-quote&quot;&gt;&quot;timeRange&quot;&lt;/span&gt;:[0,9223372036854775807],&lt;span class=&quot;code-quote&quot;&gt;&quot;batch&quot;&lt;/span&gt;:-1,&lt;span class=&quot;code-quote&quot;&gt;&quot;startRow&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;testRow\\x00\\x00\\x00\\x05&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;stopRow&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;testRow\\x00\\x00\\x00\\x0F&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;totalColumns&quot;&lt;/span&gt;:1,&lt;span class=&quot;code-quote&quot;&gt;&quot;cacheBlocks&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;families&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;TestFamily&quot;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&quot;TestQualifier&quot;&lt;/span&gt;]},&lt;span class=&quot;code-quote&quot;&gt;&quot;maxResultSize&quot;&lt;/span&gt;:-1,&lt;span class=&quot;code-quote&quot;&gt;&quot;maxVersions&quot;&lt;/span&gt;:1,&lt;span class=&quot;code-quote&quot;&gt;&quot;caching&quot;&lt;/span&gt;:-1} as class org.apache.hadoop.hbase.client.Scan

  at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)
  at java.util.concurrent.FutureTask.get(FutureTask.java:83)
  at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.processExecs(HConnectionManager.java:2206)
  at org.apache.hadoop.hbase.client.HTable.coprocessorExec(HTable.java:1351)
  at org.apache.hadoop.hbase.client.coprocessor.AggregationClient.getAvgArgs(AggregationClient.java:307)
  at org.apache.hadoop.hbase.client.coprocessor.AggregationClient.avg(AggregationClient.java:338)
  at org.apache.hadoop.hbase.coprocessor.TestAggregateProtocol.testAvgWithValidRange2(TestAggregateProtocol.java:636)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13442200" author="yuzhihong@gmail.com" created="Sun, 26 Aug 2012 21:28:11 +0000"  >&lt;p&gt;The above finding actually should go to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6477&quot; title=&quot;Use PB filter definitions in RPC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6477&quot;&gt;&lt;del&gt;HBASE-6477&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13775079" author="stack" created="Mon, 23 Sep 2013 18:30:42 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12541506" name="AccessControl_protos.patch" size="62211" author="ghelmling" created="Sat, 18 Aug 2012 22:04:00 +0000"/>
                            <attachment id="12541498" name="HBASE-5449-v0.patch" size="164258" author="mbertozzi" created="Sat, 18 Aug 2012 19:17:44 +0000"/>
                            <attachment id="12541516" name="HBASE-5449-v1.patch" size="142850" author="mbertozzi" created="Sun, 19 Aug 2012 06:56:02 +0000"/>
                            <attachment id="12541785" name="HBASE-5449-v2.patch" size="142905" author="mbertozzi" created="Tue, 21 Aug 2012 17:41:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jul 2012 23:41:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d2e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>