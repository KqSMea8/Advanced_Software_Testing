<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:49:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-974/HBASE-974.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-974] New Backup Export/Import MR for 0.18/0.19</title>
                <link>https://issues.apache.org/jira/browse/HBASE-974</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Erik has built a new backup tool that&apos;s compatible with newer versions of HBase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407609">HBASE-974</key>
            <summary>New Backup Export/Import MR for 0.18/0.19</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="erikholstad@gmail.com">Erik Holstad</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Oct 2008 16:45:09 +0000</created>
                <updated>Wed, 22 Jul 2009 22:06:14 +0000</updated>
                            <resolved>Wed, 22 Jul 2009 22:06:14 +0000</resolved>
                                    <version>0.18.0</version>
                    <version>0.18.1</version>
                    <version>0.19.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12644670" author="yedingding@gmail.com" created="Mon, 3 Nov 2008 09:24:59 +0000"  >&lt;p&gt;I have patched Dan&apos;s previous work on this tool to work with 0.18/0.19.&lt;/p&gt;

&lt;p&gt;However, looking forward to see this effort.&lt;/p&gt;</comment>
                            <comment id="12666821" author="erikholstad@gmail.com" created="Sat, 24 Jan 2009 01:25:46 +0000"  >&lt;p&gt;MapReduce files for importing and exporting data from HBase tables.&lt;br/&gt;
Extra scripts used to create the jars and execute the jobs are attached for reference.&lt;/p&gt;</comment>
                            <comment id="12671217" author="erikholstad@gmail.com" created="Fri, 6 Feb 2009 17:48:35 +0000"  >&lt;p&gt;Removed the dependency to HBaseRef since it is not needed.&lt;/p&gt;</comment>
                            <comment id="12671525" author="stack" created="Sat, 7 Feb 2009 20:50:12 +0000"  >&lt;p&gt;Erik:&lt;/p&gt;

&lt;p&gt;Would suggest that when you are successful with Yair, that you get him to +1 one this issue.  On the ExportMR job, I wonder if its possible to set maps == 0 so you don&apos;t have to supply a map task?  Should we commit these classes to hbase?  Into a contrib or under examples?  I like the way they serialize RR.  Good idea.  If we&apos;re going to commit, they need apache licenses and the style fixed up (don&apos;t ask jgray &amp;#8211; he&apos;ll only tell you wrong thing.... smile).  For the below, check Writables in hbase util.  I think there are methods there to help you do the below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
		ByteArrayInputStream bis = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream( ((BytesWritable)val).get() );&lt;span class=&quot;code-comment&quot;&gt;// baos.toByteArray());
&lt;/span&gt;		DataInputStream dis = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DataInputStream(bis);
		RowResult rowRes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RowResult();
		rowRes.readFields(dis);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If you use HbaseMapWritable instead of MW, you could do without Text and toString&apos;ing table name (I think).  In 880, I believe RowResult and BatchUpdate have same ancestor.  Would be sweet if they could be used interchangeably so you wouldn&apos;t need to do the conversion in rowResultToBatchUpdate.  You think it makes sense creating the new HTable in the reduce each time its invoked and not in its configure step?&lt;/p&gt;
</comment>
                            <comment id="12671532" author="erikholstad@gmail.com" created="Sat, 7 Feb 2009 22:17:15 +0000"  >&lt;p&gt;Hey Stack!&lt;br/&gt;
I did some changes to the files so that they are looking better according to the standards and are using the&lt;br/&gt;
util.Writables instead.&lt;br/&gt;
Haven&apos;t tested the functionality yet, so will post the new code when I have, so you can comment on it again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Not really sure where it fits best, but would say examples for now. &lt;br/&gt;
Don&apos;t want to spend too much time fixing the code though, since I think that we will have more efficient ways&lt;br/&gt;
of doing the backup in a little, when we start messing with Cascading for example, but will see what Yair says&lt;br/&gt;
and after that post the updated code.&lt;/p&gt;</comment>
                            <comment id="12672899" author="erikholstad@gmail.com" created="Thu, 12 Feb 2009 06:55:13 +0000"  >&lt;p&gt;First I didn&apos;t really understand why I created I new HTable in every reducer, but today it &lt;br/&gt;
struck me, that we had it setup in another way. We have kinds like a pool of tables that&lt;br/&gt;
you check in and out, but it has dependencies so that is why I removed it. Of course it&lt;br/&gt;
doesn&apos;t make any sense to have it the way it is now, it just slows things down a lot.&lt;/p&gt;</comment>
                            <comment id="12733118" author="atppp" created="Mon, 20 Jul 2009 04:19:36 +0000"  >&lt;p&gt;very interesting idea of directly serializing RR. However, in importer reducer, as you said, you could create new HTable in configure(), but you don&apos;t even have to do that. You can just directly let output collect (key, batchUpdate) and TableReduce would take care of committing. Plus TableReduce sets autoflush off which &lt;em&gt;significantly&lt;/em&gt; boosts importing performance.&lt;/p&gt;

&lt;p&gt;see original example in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-897&quot; title=&quot;Backup/Export/Import Tool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-897&quot;&gt;&lt;del&gt;HBASE-897&lt;/del&gt;&lt;/a&gt; and my recent changes. (should mark 897 duplicate or close it?)&lt;/p&gt;</comment>
                            <comment id="12733259" author="streamy" created="Mon, 20 Jul 2009 16:13:22 +0000"  >&lt;p&gt;TableReduce has had some performance issues in the past.  I think it&apos;s pretty good now though.&lt;/p&gt;

&lt;p&gt;Yes, you&apos;ll definitely want to turn off autoflush.  Honestly I don&apos;t think that option existed when these jobs were written &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I will close these issues once I open an 0.20 issue.&lt;/p&gt;</comment>
                            <comment id="12734352" author="streamy" created="Wed, 22 Jul 2009 22:06:14 +0000"  >&lt;p&gt;Issue contains tools to perform this on 0.18 and 0.19.  No plans to commit any of this into branches.&lt;/p&gt;

&lt;p&gt;Closing issue as Won&apos;t Fix.  0.20 backup now being worked on in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1684&quot; title=&quot;Backup (Export/Import) contrib tool for 0.20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1684&quot;&gt;&lt;del&gt;HBASE-1684&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12398624" name="ExportMR.java" size="5037" author="erikholstad@gmail.com" created="Sat, 24 Jan 2009 01:25:46 +0000"/>
                            <attachment id="12398628" name="ExportMR.sh" size="1300" author="erikholstad@gmail.com" created="Sat, 24 Jan 2009 01:26:25 +0000"/>
                            <attachment id="12398623" name="ImportMR.java" size="5705" author="erikholstad@gmail.com" created="Sat, 24 Jan 2009 01:25:46 +0000"/>
                            <attachment id="12398627" name="ImportMR.sh" size="1410" author="erikholstad@gmail.com" created="Sat, 24 Jan 2009 01:26:25 +0000"/>
                            <attachment id="12398626" name="makeExportJar.sh" size="173" author="erikholstad@gmail.com" created="Sat, 24 Jan 2009 01:26:25 +0000"/>
                            <attachment id="12399663" name="makeImportJar.sh" size="161" author="erikholstad@gmail.com" created="Fri, 6 Feb 2009 17:48:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Nov 2008 09:24:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hal3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>