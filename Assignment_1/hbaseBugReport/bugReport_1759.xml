<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:56:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1759/HBASE-1759.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1759] Ability to specify scanner caching on a per-scan basis</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1759</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I think that clients should have the ability to configure the scanner caching setting on a per-scan basis via the org.apache.hadoop.hbase.client.Scan object.  I propose adding a new caching property to the Scan class which would override the HTable.scannerCaching property if set.  This would turn the HTable.scannerCaching property into more of a default setting.&lt;/p&gt;

&lt;p&gt;The code inside ClientScanner (an inner-class implementation of ResultScanner) would look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// Use the caching from the Scan.  If not set, use the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; cache setting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; table.
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.scan.getCaching() &amp;gt; 0) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.caching = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.scan.getCaching();
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.caching = HTable.&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.scannerCaching;
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that currently the only option for per-scan scanner caching configuration is to modify the state of HTable for each Scan.  This could lead to confusion when HTables are pooled since the pool would potentially end up with many HTables all configured differently.&lt;/p&gt;

&lt;p&gt;I will attach a patch.  I&apos;m looking forward to hearing your comments.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432810">HBASE-1759</key>
            <summary>Ability to specify scanner caching on a per-scan basis</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kweiner">Ken Weiner</assignee>
                                    <reporter username="kweiner">Ken Weiner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Aug 2009 18:08:56 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:54 +0000</updated>
                            <resolved>Wed, 12 Aug 2009 22:25:58 +0000</resolved>
                                    <version>0.20.0</version>
                                    <fixVersion>0.20.0</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12741996" author="kweiner" created="Tue, 11 Aug 2009 18:14:10 +0000"  >&lt;p&gt;Patch against trunk (at approx. 2009-08-11 11:12 AM PST).&lt;/p&gt;</comment>
                            <comment id="12742133" author="streamy" created="Wed, 12 Aug 2009 00:15:50 +0000"  >&lt;p&gt;HTable change looks good.&lt;/p&gt;

&lt;p&gt;Scan class comment seems like too much detail... Maybe just a tiny blurb and link to the method... then put detailed explanation in the method javadoc.  Also, wording is a little confusing &quot;To set the number of rows that will be fetched when calling next on a scanner if it is not served from memory, execute...&quot;, not sure what you mean if it is not served from memory... Can guess but I think it&apos;s confusing for a new user to see this information in the top of the Scan javadoc.&lt;/p&gt;

&lt;p&gt;How about just, to modify scanner caching for just this scan, use this method... in the method javadoc, put the detailed stuff, and be a little more explicit about what you mean by serving from memory (I guess, you would explain what scanner caching is briefly).&lt;/p&gt;

&lt;p&gt;(nitpick, there is unnecessary re-ordering of imports... you can leave it, things should be properly ordered, but as you know, we like our patches as short as possible)&lt;/p&gt;

&lt;p&gt;Actual code all looks quite good.  I&apos;m +1 on this for reasons you outlined, with doc changes I described.&lt;/p&gt;

&lt;p&gt;Thanks Ken!  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12742180" author="kweiner" created="Wed, 12 Aug 2009 01:58:47 +0000"  >&lt;p&gt;Jon, I copied the comments from the &amp;lt;description&amp;gt; element for the hbase.client.scanner.caching property in hbase-default.xml &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I&apos;ll submit another patch with the doc changes you are suggesting.&lt;/p&gt;</comment>
                            <comment id="12742465" author="kweiner" created="Wed, 12 Aug 2009 17:24:48 +0000"  >&lt;p&gt;New patch submitted with less wordy javadoc comments for Scan and a little more wordy javadocs comments for setCaching method as suggested by Jonathan.&lt;/p&gt;</comment>
                            <comment id="12742575" author="streamy" created="Wed, 12 Aug 2009 21:11:45 +0000"  >&lt;p&gt;+1 Patch looks good.  Any other committers want to weigh in before commit?&lt;/p&gt;</comment>
                            <comment id="12742597" author="apurtell" created="Wed, 12 Aug 2009 21:49:23 +0000"  >&lt;p&gt;Yes, I was just looking at this. +1. Potentially very useful.&lt;/p&gt;</comment>
                            <comment id="12742613" author="stack" created="Wed, 12 Aug 2009 22:22:31 +0000"  >&lt;p&gt;+1 Patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="12742617" author="streamy" created="Wed, 12 Aug 2009 22:25:57 +0000"  >&lt;p&gt;Committed.  Thanks Ken.&lt;/p&gt;</comment>
                            <comment id="12742623" author="streamy" created="Wed, 12 Aug 2009 22:34:42 +0000"  >&lt;p&gt;Committed to 0.21 trunk and 0.20 branch.&lt;/p&gt;</comment>
                            <comment id="12742624" author="streamy" created="Wed, 12 Aug 2009 22:34:54 +0000"  >&lt;p&gt;Commited to 0.21 trunk and 0.20 branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416340" name="HBASE-1759-v2.patch" size="5076" author="kweiner" created="Wed, 12 Aug 2009 17:24:48 +0000"/>
                            <attachment id="12416229" name="HBASE-1759.patch" size="5239" author="kweiner" created="Tue, 11 Aug 2009 18:14:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Aug 2009 00:15:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hf3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>