<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:39:57 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13126/HBASE-13126.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13126] Move HBaseTestingUtility and associated support classes into hbase-testing-utility module</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13126</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Over in the review for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12972&quot; title=&quot;Region, a supportable public/evolving subset of HRegion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12972&quot;&gt;&lt;del&gt;HBASE-12972&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; mentioned that one of the HBTU methods wasn&apos;t intended for public consumption.&lt;/p&gt;

&lt;p&gt;Can we build a list of such methods across the API, appropriately annotate them for 2.0, and deprecate them in earlier versions with a warning that they&apos;re going to be restricted?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12778260">HBASE-13126</key>
            <summary>Move HBaseTestingUtility and associated support classes into hbase-testing-utility module</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Feb 2015 17:49:11 +0000</created>
                <updated>Fri, 30 Sep 2016 18:23:54 +0000</updated>
                                            <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14340443" author="busbey" created="Fri, 27 Feb 2015 17:49:41 +0000"  >&lt;ul&gt;
	&lt;li&gt;HBTU#createAndForceNodeToOpenedState&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14340464" author="apurtell" created="Fri, 27 Feb 2015 18:00:29 +0000"  >&lt;p&gt;Hmm... Previously we&apos;ve discussed (or maybe it&apos;s only my opinion that I remember, and you know I tend to be a bit aggressive in this area) that anything in &amp;lt;module&amp;gt;/src/test/... is for the use of HBase developers to test their code and is not a user facing API, not subject to any compatibility expectations of same. Maybe this is what Enis meant? If we want to support something in .../src/test/..., let&apos;s begin by moving it to ../src/main/... &lt;/p&gt;</comment>
                            <comment id="14340470" author="apurtell" created="Fri, 27 Feb 2015 18:02:10 +0000"  >&lt;p&gt;And follows, if there are interface annotations on code in .../src/test/... then IMHO they are misleading and should be removed.&lt;/p&gt;</comment>
                            <comment id="14340489" author="busbey" created="Fri, 27 Feb 2015 18:12:48 +0000"  >&lt;p&gt;We reference HBaseTestingUtiltiy in our docs, most notably in the section where we explain how downstream folks should test their HBase applications (ref &lt;a href=&quot;http://hbase.apache.org/book.html#_integration_testing_with_a_hbase_mini_cluster&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Integration Testing with a HBase Mini-Cluster &lt;/a&gt;). So we should def not stop supporting it.&lt;/p&gt;

&lt;p&gt;I agree we should change around where things live. the hbase-testing-util module currently is just an aggregator. we could restructure to move these things out of the src/test in hbase-server to there. What version could that be in? Folks &lt;em&gt;should&lt;/em&gt; be using the hbase-testing-util as a dep, but might be relying on the hbase-server test-jar instead. I guess 2.0.0?&lt;/p&gt;</comment>
                            <comment id="14340520" author="apurtell" created="Fri, 27 Feb 2015 18:32:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;the hbase-testing-util module currently is just an aggregator. we could restructure to move these things out of the src/test in hbase-server to there&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Curious what would be the practical impact of moving a class from hbase-server-test to hbase-server. Both have to be on the classpath already in order for tests to work, or as you mention, hbase-testing-util does the aggregation. Strictly speaking moving a class from one jar to another is a binary change incompatible on some level though.&lt;/p&gt;</comment>
                            <comment id="14340689" author="enis" created="Fri, 27 Feb 2015 19:38:07 +0000"  >&lt;p&gt;I think we should do the hadoop&apos;s model of exposing mini cluster to our downstreamers. Hive/Phoenix, etc already have to depend on it for their own testing, and we cannot just blindly ignore this. The reason we did not do this before 1.0 is simply due to lack of time.  &lt;/p&gt;

&lt;p&gt;For 1.x we can at least annotate what is public, what is not public in HTU. HTU itself is Public. I am expecting most of the &lt;tt&gt;start|stopMiniXXX()&lt;/tt&gt; methods to be Public as well, but things like &lt;tt&gt;createAndForceNodeToOpenedState()&lt;/tt&gt; should be Private. &lt;/p&gt;</comment>
                            <comment id="14364070" author="mantonov" created="Mon, 16 Mar 2015 22:14:16 +0000"  >&lt;p&gt;So looking at the label, this isn&apos;t scoped for 1.1 as of now, or is it? Is it being worked on by someone? Thinking if it makes sense to split in 2 - one for 1.1 annotations, one for 2.0 - move?&lt;/p&gt;</comment>
                            <comment id="14364090" author="busbey" created="Mon, 16 Mar 2015 22:23:21 +0000"  >&lt;p&gt;I&apos;d prefer to do it in 2.0, but in theory it should be doable for 1.1. It will involve some classes changing which jar they live in, but that should only result in an operational compatibility breakage (because people may have to change how they launch their tests).&lt;/p&gt;</comment>
                            <comment id="14364253" author="mantonov" created="Tue, 17 Mar 2015 00:06:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;+1. Curious what would be the practical impact of moving a class from hbase-server-test to hbase-server. Both have to be on the classpath already in order for tests to work, or as you mention, hbase-testing-util does the aggregation. Strictly speaking moving a class from one jar to another is a binary change incompatible on some level though.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I guess majority of folks directly using HBase minicluster are Phoenix/Hive (opentsdb?) and other similar downstream projects, so maybe we could look at some of them we can think of, and see if they would be hurt?&lt;/p&gt;</comment>
                            <comment id="14365684" author="apurtell" created="Tue, 17 Mar 2015 18:04:20 +0000"  >&lt;p&gt;I don&apos;t think there is a practical difference because both server and server-test jars need to be on the classpath in order for the minicluster to work, but sure we can ask.&lt;/p&gt;</comment>
                            <comment id="14365718" author="busbey" created="Tue, 17 Mar 2015 18:26:27 +0000"  >&lt;p&gt;This would be changing so that a not-yet-extant hbase-testing-utility jar is needed, since right now that module is just an aggregator.&lt;/p&gt;

&lt;p&gt;I haven&apos;t looked at implementing this yet, but I&apos;d guess that hbase-server-test would go away.&lt;/p&gt;</comment>
                            <comment id="15536642" author="busbey" created="Fri, 30 Sep 2016 18:23:54 +0000"  >&lt;p&gt;updated description to better reflect the discussion of approach that happened.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Feb 2015 18:00:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i265pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>