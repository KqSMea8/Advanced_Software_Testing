<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:44:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7290/HBASE-7290.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7290] Online snapshots </title>
                <link>https://issues.apache.org/jira/browse/HBASE-7290</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; will be closed when the offline snapshots pieces get merged with trunk.  This umbrella issue has all the online snapshot specific patches.  This will get merged once one of the implementations makes it into trunk.  Other flavors of online snapshots can then be done as normal patches instead of on a development branch.  (was: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; will be closed when the online snapshots pieces get merged with trunk.  This umbrella issue has all the online snapshot specific patches.  This will get merged once one of the implementations makes it into trunk.  Other flavors of online snapshots can then be done as normal patches instead of on a development branch.)&lt;/p&gt;

&lt;p&gt;(not a fan of the quick edit descirption jira feature)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12619005">HBASE-7290</key>
            <summary>Online snapshots </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Dec 2012 08:31:39 +0000</created>
                <updated>Tue, 15 Oct 2013 04:46:46 +0000</updated>
                            <resolved>Thu, 21 Feb 2013 04:37:32 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                                                            <comments>
                            <comment id="13511249" author="yuzhihong@gmail.com" created="Thu, 6 Dec 2012 08:57:41 +0000"  >&lt;p&gt;Were you referring to offline snapshot in the first sentence of the description ?&lt;/p&gt;</comment>
                            <comment id="13511493" author="jmhsieh" created="Thu, 6 Dec 2012 16:19:26 +0000"  >&lt;p&gt;Ted, thanks, I&apos;ve updated the description.&lt;/p&gt;</comment>
                            <comment id="13528780" author="jmhsieh" created="Tue, 11 Dec 2012 07:59:01 +0000"  >&lt;p&gt;I&apos;ve rebased on top of trunk 12/11/12&apos;s 4c9e80bacadf8e8fe0e0eee5b6477d6889e58456.&lt;/p&gt;

&lt;p&gt;Ongoing work lives here: (this gets force pushed freqently).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jmhsieh/hbase/tree/snapshots-work&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jmhsieh/hbase/tree/snapshots-work&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are also many branches with snapshot-work-MMDD (ex: snapshot-work-1210) with incremental progress.&lt;/p&gt;</comment>
                            <comment id="13528783" author="jmhsieh" created="Tue, 11 Dec 2012 08:01:28 +0000"  >&lt;p&gt;For now I&apos;m going to focus on the simple flush hfile only snapshot.  Log-based snapshots (simple log, and global consistent) actually has non-trivial problems when: 1) a snapshot is taken, 2) edits occur, 3) a restore happens and 4) a crash causes recovery to be triggered.  This seems to allow writes from the period after the snapshot and before the restore to be recovered in a crash scenario.&lt;/p&gt;</comment>
                            <comment id="13529144" author="yuzhihong@gmail.com" created="Tue, 11 Dec 2012 17:28:47 +0000"  >&lt;p&gt;@Jon:&lt;br/&gt;
In the scenario you described above, do snapshot and restore happen on the same table in the same cluster ?&lt;br/&gt;
If so, would you be able to utilize the following to control concurrency ?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt; ZK based Read/Write locks for table operations&lt;/p&gt;</comment>
                            <comment id="13529155" author="jmhsieh" created="Tue, 11 Dec 2012 17:39:13 +0000"  >&lt;p&gt;It is not a concurrency problem at that granularity. &lt;/p&gt;

&lt;p&gt;The situation is a coarse-grained problem.  The key problem is that writes that shouldn&apos;t be replayed (since they don&apos;t belong to the restored image), would not normally get replayed, but would potentially get replayed if recovery was triggered.&lt;/p&gt;

&lt;p&gt;Previously, without restore, we could depend on the timestamps &amp;#8211; if something was replayed but there was newer data, the newer data would win.  In a restore situation, the &quot;newer&quot; data is has the old time stamps from before recovery, and new data that shouldn&apos;t get replayed could be.&lt;/p&gt;

&lt;p&gt;ex: &lt;br/&gt;
1) write 100 rows&lt;br/&gt;
2) ss1 (with logs)&lt;br/&gt;
3) write 50 rows&lt;br/&gt;
4) restore ss1&lt;br/&gt;
5) crash&lt;br/&gt;
6) writes from 1 and 3 both get replayed in log splitting recovery.   Oops.&lt;/p&gt;</comment>
                            <comment id="13529168" author="yuzhihong@gmail.com" created="Tue, 11 Dec 2012 17:56:24 +0000"  >&lt;p&gt;Thanks for clarification, Jon.&lt;br/&gt;
To my understanding, the restore action normally happens after a crash. Meaning, if customer really wants data as of ss1, they can restore ss1 again, right ?&lt;/p&gt;</comment>
                            <comment id="13531133" author="jmhsieh" created="Thu, 13 Dec 2012 16:09:02 +0000"  >&lt;p&gt;When I say &apos;restore&apos; in step 4, I am specifically referring to a &apos;snapshot restore&apos; operation.  It doesn&apos;t necessarily have to happen after a crash.  Suppose a user creates data, snapshots it, then puts bad data in.  The use wants the old data back so he restores the snapshot (there is no crash anywhere here). &lt;/p&gt;

&lt;p&gt;While what you suggest is true, (they could restore again), this is unexpected, even in our weaker consistency model.  If we have a table, have a crash and come back we essentially expect the table to be essentially the same as before. (without potentially tons of new data appear.  &lt;/p&gt;
</comment>
                            <comment id="13531135" author="jmhsieh" created="Thu, 13 Dec 2012 16:09:40 +0000"  >&lt;p&gt;Let&apos;s call this problem the &apos;snapshot replay problem&apos;, and move discussion to a new issue.&lt;/p&gt;</comment>
                            <comment id="13531137" author="jmhsieh" created="Thu, 13 Dec 2012 16:12:32 +0000"  >&lt;p&gt;Restored snapshot replay problem: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7346&quot; title=&quot;Restored snapshot replay problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7346&quot;&gt;HBASE-7346&lt;/a&gt;.  I&apos;ve filed it as part of offline snapshots since it affects that case as well.&lt;/p&gt;</comment>
                            <comment id="13568841" author="jmhsieh" created="Fri, 1 Feb 2013 16:15:25 +0000"  >&lt;p&gt;Online snapshots has been fairly stable for the past day or two on a 20 node test cluster.  I believe we are close to a trunk merge now.  &lt;/p&gt;

&lt;p&gt;I am currently syncing this &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7290&quot; title=&quot;Online snapshots &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7290&quot;&gt;&lt;del&gt;HBASE-7290&lt;/del&gt;&lt;/a&gt; branch to the current trunk.  Most fixups are trivial but fixups to these classes will probably warrant some review.  &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
#	both modified:      hbase-server/src/main/java/org/apache/hadoop/hbase/MasterAdminProtocol.java
#	both modified:      hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java
#	both modified:      hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll post a git branch to inspect.  &lt;/p&gt;

&lt;p&gt;After some testing of this I&apos;ll post a mega review and branch to review and start the merge process.&lt;/p&gt;</comment>
                            <comment id="13569071" author="jmhsieh" created="Fri, 1 Feb 2013 20:54:50 +0000"  >&lt;p&gt;Here&apos;s a link to where the merged branch is &lt;a href=&quot;https://github.com/jmhsieh/hbase/tree/snapshots-merge-0201&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jmhsieh/hbase/tree/snapshots-merge-0201&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Currently, there are several tests failing, which I will file as follow-ons if they take longer than an hour to resolve.&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hbase.regionserver.TestStoreFile.testHFileLink&lt;br/&gt;
org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
org.apache.hadoop.hbase.backup.TestHFileArchiving&lt;br/&gt;
org.apache.hadoop.hbase.master.cleaner.TestSnapshotFromMaster&lt;br/&gt;
.... (still running, more coming).&lt;/p&gt;</comment>
                            <comment id="13569174" author="yuzhihong@gmail.com" created="Fri, 1 Feb 2013 22:30:40 +0000"  >&lt;p&gt;Looking at test output from TestSnapshotFromMaster:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-02-01 14:10:49,234 INFO  [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.SplitTransaction(215): Starting split of region test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.
2013-02-01 14:10:49,235 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.SplitTransaction(886): regionserver:53794-0x13c97cfa9760002 Creating ephemeral node &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; e9c665350a0d6d059cad8ae03f8dadae in SPLITTING state
2013-02-01 14:10:49,236 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(265): master:53791-0x13c97cfa9760000 Received ZooKeeper Event, type=NodeChildrenChanged, state=SyncConnected, path=/hbase/region-in-transition
2013-02-01 14:10:49,236 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(720): regionserver:53794-0x13c97cfa9760002 Attempting to transition node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,238 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKUtil(1643): regionserver:53794-0x13c97cfa9760002 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae; data=region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649235, payload.length=0
2013-02-01 14:10:49,238 DEBUG [hbase-am-zkevent-worker-pool-2-thread-16] zookeeper.ZKUtil(1643): master:53791-0x13c97cfa9760000 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae and set watcher; region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649235, payload.length=0
2013-02-01 14:10:49,239 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(265): master:53791-0x13c97cfa9760000 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae
2013-02-01 14:10:49,240 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(782): regionserver:53794-0x13c97cfa9760002 Successfully transitioned node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,240 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(720): regionserver:53794-0x13c97cfa9760002 Attempting to transition node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,240 DEBUG [hbase-am-zkevent-worker-pool-2-thread-17] zookeeper.ZKUtil(1643): master:53791-0x13c97cfa9760000 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae and set watcher; region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649238, payload.length=0
2013-02-01 14:10:49,241 DEBUG [hbase-am-zkevent-worker-pool-2-thread-17] master.AssignmentManager(641): Handling transition=RS_ZK_REGION_SPLITTING, server=10.11.3.105,53794,1359756635266, region=e9c665350a0d6d059cad8ae03f8dadae, current state from region state map =&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2013-02-01 14:10:49,241 INFO  [hbase-am-zkevent-worker-pool-2-thread-17] master.RegionStates(242): Region {NAME =&amp;amp;gt; &amp;amp;apos;test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.&amp;amp;apos;, STARTKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENDKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENCODED =&amp;amp;gt; e9c665350a0d6d059cad8ae03f8dadae,} transitioned from {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=OPEN, ts=1359756647443, server=10.11.3.105,53794,1359756635266} to {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=SPLITTING, ts=1359756649241, server=10.11.3.105,53794,1359756635266}
2013-02-01 14:10:49,241 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKUtil(1643): regionserver:53794-0x13c97cfa9760002 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae; data=region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649238, payload.length=0
2013-02-01 14:10:49,243 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(265): master:53791-0x13c97cfa9760000 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae
2013-02-01 14:10:49,243 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(782): regionserver:53794-0x13c97cfa9760002 Successfully transitioned node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,244 DEBUG [hbase-am-zkevent-worker-pool-2-thread-18] zookeeper.ZKUtil(1643): master:53791-0x13c97cfa9760000 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae and set watcher; region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649242, payload.length=0
2013-02-01 14:10:49,245 DEBUG [hbase-am-zkevent-worker-pool-2-thread-18] master.AssignmentManager(641): Handling transition=RS_ZK_REGION_SPLITTING, server=10.11.3.105,53794,1359756635266, region=e9c665350a0d6d059cad8ae03f8dadae, current state from region state map =&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2013-02-01 14:10:49,245 INFO  [hbase-am-zkevent-worker-pool-2-thread-18] master.RegionStates(242): Region {NAME =&amp;amp;gt; &amp;amp;apos;test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.&amp;amp;apos;, STARTKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENDKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENCODED =&amp;amp;gt; e9c665350a0d6d059cad8ae03f8dadae,} transitioned from {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=SPLITTING, ts=1359756649241, server=10.11.3.105,53794,1359756635266} to {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=SPLITTING, ts=1359756649245, server=10.11.3.105,53794,1359756635266}
2013-02-01 14:10:49,246 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.HRegion(1005): Closing test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.: disabling compactions &amp;amp;amp; flushes
2013-02-01 14:10:49,246 WARN  [IPC Server handler 1 on 53794] regionserver.HRegion(2133): Failed getting lock in batch put, row=hox
org.apache.hadoop.hbase.NotServingRegionException: test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. is closing
  at org.apache.hadoop.hbase.regionserver.HRegion.startRegionOperation(HRegion.java:5319)
  at org.apache.hadoop.hbase.regionserver.HRegion.internalObtainRowLock(HRegion.java:3181)
  at org.apache.hadoop.hbase.regionserver.HRegion.getLock(HRegion.java:3269)
  at org.apache.hadoop.hbase.regionserver.HRegion.doMiniBatchMutation(HRegion.java:2130)
  at org.apache.hadoop.hbase.regionserver.HRegion.batchMutate(HRegion.java:2004)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.doBatchOp(HRegionServer.java:3862)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.multi(HRegionServer.java:3307)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
  at java.lang.reflect.Method.invoke(Method.java:597)
  at org.apache.hadoop.hbase.ipc.ProtobufRpcServerEngine$Server.call(ProtobufRpcServerEngine.java:197)
  at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1786)
2013-02-01 14:10:49,257 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.HRegion(1027): Updates disabled &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think we should replace IncreasingToUpperBoundRegionSplitPolicy in TestSnapshotFromMaster.&lt;/p&gt;</comment>
                            <comment id="13569231" author="yuzhihong@gmail.com" created="Fri, 1 Feb 2013 23:17:22 +0000"  >&lt;p&gt;The following change allows the test to pass:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestSnapshotFromMaster.java b/hbase-server/src/test/java/org/apache/hadoop/hbase/master/clean
index c9f6949..4c1e535 100644
--- a/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestSnapshotFromMaster.java
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestSnapshotFromMaster.java
@@ -48,13 +48,13 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos.IsSnapshotDo
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos.IsSnapshotDoneResponse;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos.ListSnapshotRequest;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.generated.MasterAdminProtos.ListSnapshotResponse;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.regionserver.HRegion;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.snapshot.SnapshotDescriptionUtils;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.snapshot.SnapshotTestingUtils;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.snapshot.UnknownSnapshotException;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.util.Bytes;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.util.FSUtils;
-&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.util.HFileArchiveUtil;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.After;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.AfterClass;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Before;
@@ -121,6 +121,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestSnapshotFromMaster {
     &lt;span class=&quot;code-comment&quot;&gt;// Enable snapshot
&lt;/span&gt;     conf.setBoolean(SnapshotManager.HBASE_SNAPSHOT_ENABLED, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
     conf.setLong(SnapshotHFileCleaner.HFILE_CACHE_REFRESH_PERIOD_CONF_KEY, cacheRefreshPeriod);
+    conf.set(HConstants.HBASE_REGION_SPLIT_POLICY_KEY,
+      ConstantSizeRegionSplitPolicy.class.getName());
+
   }
 
   @Before
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13569232" author="jmhsieh" created="Fri, 1 Feb 2013 23:20:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt;, ok how about I commit the current merge commit as the new snapshot head and then you file a sub jira with this fix?&lt;/p&gt;</comment>
                            <comment id="13569233" author="jmhsieh" created="Fri, 1 Feb 2013 23:21:41 +0000"  >&lt;p&gt;I have a fix for TestStoreFile, and initial look at TestMultiParallel indicates the fix may be subtle.&lt;/p&gt;
</comment>
                            <comment id="13569242" author="yuzhihong@gmail.com" created="Fri, 1 Feb 2013 23:26:49 +0000"  >&lt;p&gt;Jon:&lt;br/&gt;
Your suggestion above is good.&lt;/p&gt;

&lt;p&gt;TestMultiParallel failed in trunk too:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3841/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3841/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13569248" author="jmhsieh" created="Fri, 1 Feb 2013 23:34:59 +0000"  >&lt;p&gt;I&apos;ve merged the snapshots branch with apache/trunk @&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3890&quot; title=&quot;Scheduled tasks in distributed log splitting not in sync with ZK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3890&quot;&gt;&lt;del&gt;HBASE-3890&lt;/del&gt;&lt;/a&gt; (hash 3d8721b) which is dated 1/31/12 10:59:14pm. &lt;/p&gt;

&lt;p&gt;Working on unit test fixes now. We will file post merge fixes as sub-issues.&lt;/p&gt;</comment>
                            <comment id="13569547" author="jmhsieh" created="Sat, 2 Feb 2013 13:49:26 +0000"  >&lt;p&gt;More failures from -PrunLargeTests&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
15:23:28  Running org.apache.hadoop.hbase.client.TestSnapshotFromClient
15:23:28  Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 122.156 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
...
15:41:35  Running org.apache.hadoop.hbase.client.TestRestoreSnapshotFromClient
15:41:49  Tests run: 6, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 777.882 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
...
15:48:26  Running org.apache.hadoop.hbase.client.TestSnapshotCloneIndependence
15:48:26  Tests run: 6, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 89.216 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
15:50:26  Running org.apache.hadoop.hbase.snapshot.TestFlushSnapshotFromClient
15:50:30  Tests run: 5, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 119.637 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
...
16:10:03  Running org.apache.hadoop.hbase.master.TestRestartCluster
16:10:03  Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 57.298 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
..
16:44:35  Running org.apache.hadoop.hbase.catalog.TestCatalogTrackerOnCluster
16:44:35  Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 26.825 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
...
17:12:13  Running org.apache.hadoop.hbase.replication.TestReplicationDisableInactivePeer
17:12:13  Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 36.894 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13569551" author="mbertozzi" created="Sat, 2 Feb 2013 13:53:41 +0000"  >&lt;p&gt;I still haven&apos;t look at the merge, but some changes to the HFileArchiver seems to got lost, maybe is the main problem of the test failures&lt;/p&gt;</comment>
                            <comment id="13569580" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 16:20:48 +0000"  >&lt;p&gt;I think we should go over the manual merges in the following files:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        hbase-protocol/src/main/protobuf/hbase.proto
        hbase-server/src/main/jamon/org/apache/hadoop/hbase/tmpl/master/MasterStatusTmpl.jamon
        hbase-server/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/MasterAdminProtocol.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/backup/HFileArchiver.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java
        hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java
        hbase-server/src/main/resources/hbase-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.xml
        hbase-server/src/main/ruby/hbase/admin.rb
        hbase-server/src/test/java/org/apache/hadoop/hbase/TestHTableDescriptor.java
        hbase-server/src/test/java/org/apache/hadoop/hbase/backup/TestHFileArchiving.java
        hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13569591" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 17:05:59 +0000"  >&lt;p&gt;Found the following in HRegionServer.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result to &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; to client &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; operation should be
   * bypassed as indicated by RegionObserver, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; otherwise
=======
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the Result
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; apache/trunk
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In ProtobufUtil.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; protocol buffer DeleteType
=======
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; a DeleteType
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; apache/trunk
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And in HRegion.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEAD
=======
   * @see HRegion#batchMutate(Pair[])
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; apache/trunk
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; OperationStatus[] put(Put[] puts) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since the above is in javadoc, it doesn&apos;t affect compilation.&lt;/p&gt;
</comment>
                            <comment id="13569593" author="jmhsieh" created="Sat, 2 Feb 2013 17:15:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt;  file and fix it?  &lt;/p&gt;

&lt;p&gt;I actually prefer this style (someone merges then we fix in subsequent patches) &amp;#8211; we quickly get to a place where more people can find and work on problems, and each problem we fix is in a patch that we can understand in isolation.&lt;/p&gt;</comment>
                            <comment id="13569619" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 18:45:37 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7753&quot; title=&quot;[snapshot 130201 merge] Fix unresolved merge conflicts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7753&quot;&gt;&lt;del&gt;HBASE-7753&lt;/del&gt;&lt;/a&gt; and attached a patch there.&lt;/p&gt;</comment>
                            <comment id="13569915" author="jmhsieh" created="Sun, 3 Feb 2013 22:18:38 +0000"  >&lt;p&gt;To reduce confusion, I&apos;ve added the &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; prefix to issues related to the snapshot branch trunk branch merge on feb 1 2013.&lt;/p&gt;</comment>
                            <comment id="13570695" author="yuzhihong@gmail.com" created="Mon, 4 Feb 2013 22:25:29 +0000"  >&lt;p&gt;TestRestoreSnapshotFromClient passed in my local workspace.&lt;/p&gt;

&lt;p&gt;I am looking at the 3 test failures in TestSnapshotCloneIndependence.&lt;/p&gt;</comment>
                            <comment id="13570709" author="jmhsieh" created="Mon, 4 Feb 2013 22:42:27 +0000"  >&lt;p&gt;Here&apos;s a branch I&apos;m working on currently.&lt;br/&gt;
&lt;a href=&quot;https://github.com/jmhsieh/hbase/commits/snapshot-work-0204&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jmhsieh/hbase/commits/snapshot-work-0204&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m down to this one on the small/medium &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.client.TestMultiParallel
09:25:53  Tests run: 11, Failures: 2, Errors: 1, Skipped: 0, Time elapsed: 63.74 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the larges, I think I got all the snapshot related ones except for 1 to pass, but am also encountering what seems to be  unrelated unit tests fails.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
10:39:15  Running org.apache.hadoop.hbase.master.TestRestartCluster
10:39:15  Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 58.153 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
...
11:25:01  Running org.apache.hadoop.hbase.catalog.TestCatalogTrackerOnCluster
11:25:01  Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 26.298 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!

14:20:06  Running org.apache.hadoop.hbase.replication.TestReplicationDisableInactivePeer
14:20:06  Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 33.31 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13570808" author="jmhsieh" created="Tue, 5 Feb 2013 00:51:55 +0000"  >&lt;p&gt;Some of these tests seem to be failing with a table delete/create race.  &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &amp;lt;testcase time=&lt;span class=&quot;code-quote&quot;&gt;&quot;27.398&quot;&lt;/span&gt; classname=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.client.TestRestoreSnapshotFromClient&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;testCloneSnapshot&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;error message=&lt;span class=&quot;code-quote&quot;&gt;&quot;clonedtb-1360017431921&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.TableNotFoundException&quot;&lt;/span&gt;&amp;gt;org.apache.hadoop.hbase.TableNotFoundException: clonedtb-1360017431921
        at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(HConnectionManager.java:1098)
        at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:974)
        at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:923)
        at org.apache.hadoop.hbase.client.HTable.finishSetup(HTable.java:246)
        at org.apache.hadoop.hbase.client.HTable.&amp;amp;lt;init&amp;amp;gt;(HTable.java:187)
        at org.apache.hadoop.hbase.client.TestRestoreSnapshotFromClient.verifyRowCount(TestRestoreSnapshotFromClient.java:380)
        at org.apache.hadoop.hbase.client.TestRestoreSnapshotFromClient.testCloneSnapshot(TestRestoreSnapshotFromClient.java:252)
        at org.apache.hadoop.hbase.client.TestRestoreSnapshotFromClient.testCloneSnapshot(TestRestoreSnapshotFromClient.java:245)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since the snapshot branch contains a commit of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7365&quot; title=&quot;Safer table creation and deletion using .tmp dir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7365&quot;&gt;&lt;del&gt;HBASE-7365&lt;/del&gt;&lt;/a&gt; which &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&apos;s been fighting with on a newer version trunk, my guess is that some of the remaining failures have to do with this. &lt;/p&gt;</comment>
                            <comment id="13571079" author="yuzhihong@gmail.com" created="Tue, 5 Feb 2013 06:17:30 +0000"  >&lt;p&gt;I ran TestRestoreSnapshotFromClient 5 times on MacBook and they passed.&lt;/p&gt;</comment>
                            <comment id="13572508" author="jmhsieh" created="Wed, 6 Feb 2013 15:40:35 +0000"  >&lt;p&gt;The large tests fail because a interrupt status flag is set in the thread that the hbaseminicluster is shutdown from.  any Thread.sleep called after this throws an InterruptedException. I&apos;ve got a hack patches that clears the state in unit tests.  The right thing to do is to hunt down the root cause of new interrupt state to preserve previous behavior.  I suspect something in the merge introduces &amp;#8211; probably the something in the shutdown of the snapshot related managers.&lt;/p&gt;</comment>
                            <comment id="13572608" author="jmhsieh" created="Wed, 6 Feb 2013 17:46:18 +0000"  >&lt;p&gt;Problem describe is filed as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7778&quot; title=&quot;[snapshot 130201 merge] Tests with sleep after minicluster shutdown fail due to interrupt flag.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7778&quot;&gt;&lt;del&gt;HBASE-7778&lt;/del&gt;&lt;/a&gt; and more details described there.&lt;/p&gt;</comment>
                            <comment id="13572610" author="yuzhihong@gmail.com" created="Wed, 6 Feb 2013 17:46:30 +0000"  >&lt;p&gt;In RegionServerSnapshotManager#cancelTasks():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!futures.isEmpty()) {
        &lt;span class=&quot;code-comment&quot;&gt;// block to remove cancelled futures;
&lt;/span&gt;        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Removing cancelled elements from taskPool&quot;&lt;/span&gt;);
        futures.remove(taskPool.take());
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think the log should be outside while loop.&lt;br/&gt;
taskPool.take() may throw InterruptedException. I think the futures.remove() call should be wrapped in try block.&lt;/p&gt;</comment>
                            <comment id="13573014" author="jmhsieh" created="Wed, 6 Feb 2013 23:58:31 +0000"  >&lt;p&gt;The Ted&apos;s comment above was copied to and discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7778&quot; title=&quot;[snapshot 130201 merge] Tests with sleep after minicluster shutdown fail due to interrupt flag.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7778&quot;&gt;&lt;del&gt;HBASE-7778&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13573720" author="yuzhihong@gmail.com" created="Thu, 7 Feb 2013 17:58:49 +0000"  >&lt;p&gt;ZKProcedureUtil has a reference to ZooKeeperWatcher.&lt;br/&gt;
This reference is obtained in two places.&lt;br/&gt;
1. SnapshotManager ctor:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    ProcedureCoordinatorRpcs comms = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ZKProcedureCoordinatorRpcs(
        master.getZooKeeper(), SnapshotManager.ONLINE_SNAPSHOT_CONTROLLER_DESCRIPTION, name);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. RegionServerSnapshotManager ctor:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    ZooKeeperWatcher zkw = rss.getZooKeeper();
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; nodeName = rss.getServerName().toString();
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.memberRpcs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ZKProcedureMemberRpcs(zkw,
        SnapshotManager.ONLINE_SNAPSHOT_CONTROLLER_DESCRIPTION, nodeName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This means the watcher would be closed when master / region server goes down. Looks like ZKProcedureUtil.close() doesn&apos;t have to call watcher.close()&lt;/p&gt;

&lt;p&gt;Here is the call chain when stopping RegionServerSnapshotManager:&lt;br/&gt;
RegionServerSnapshotManager#stop =&amp;gt; ZKProcedureMemberRpcs#close =&amp;gt; ZKProcedureUtil#close =&amp;gt; watcher.close();&lt;/p&gt;</comment>
                            <comment id="13574128" author="jmhsieh" created="Fri, 8 Feb 2013 01:09:40 +0000"  >&lt;p&gt;Sounds like this explains some of the extra zk exiting delays mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7778&quot; title=&quot;[snapshot 130201 merge] Tests with sleep after minicluster shutdown fail due to interrupt flag.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7778&quot;&gt;&lt;del&gt;HBASE-7778&lt;/del&gt;&lt;/a&gt;.   Please file subtask and fix?&lt;/p&gt;</comment>
                            <comment id="13577017" author="jmhsieh" created="Tue, 12 Feb 2013 21:12:33 +0000"  >&lt;p&gt;Attached megapatch after 2/12/13 merge for initial merge reviews.&lt;/p&gt;</comment>
                            <comment id="13577018" author="jmhsieh" created="Tue, 12 Feb 2013 21:12:57 +0000"  >&lt;p&gt;Submitting megapatch to get apache jenkins build machines to give it a try.&lt;/p&gt;</comment>
                            <comment id="13577104" author="hadoopqa" created="Tue, 12 Feb 2013 22:18:53 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12569057/hbase-7290.mega.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12569057/hbase-7290.mega.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 91 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4425//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13577112" author="jmhsieh" created="Tue, 12 Feb 2013 22:27:34 +0000"  >&lt;p&gt;We can fix these qabot issues before the merge.&lt;/p&gt;</comment>
                            <comment id="13577157" author="yuzhihong@gmail.com" created="Tue, 12 Feb 2013 23:21:16 +0000"  >&lt;p&gt;In patch v2, I tried to fix the javadoc warnings.&lt;/p&gt;

&lt;p&gt;There&apos;re a few which I don&apos;t know how to fix. e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[WARNING] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TakeSnapshotUtils.java:84: warning - Tag @link: can&apos;t find getRegionSnapshotDirectory(SnapshotDescription, Path, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) in org.apache.hadoop.hbase.snapshot.TakeSnapshotUtils
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13577164" author="yuzhihong@gmail.com" created="Tue, 12 Feb 2013 23:29:01 +0000"  >&lt;p&gt;I have created &lt;a href=&quot;https://reviews.apache.org/r/9416/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9416/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will go over the whole patch once more.&lt;/p&gt;

&lt;p&gt;Will also get the diff for new findbugs warnings.&lt;/p&gt;</comment>
                            <comment id="13577186" author="jmhsieh" created="Tue, 12 Feb 2013 23:50:16 +0000"  >&lt;p&gt;Hey Ted,&lt;/p&gt;

&lt;p&gt;Let&apos;s these javadoc/findbugs/etc fixes as separate subtasks instead of burying them in the mega patch.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13577219" author="hadoopqa" created="Wed, 13 Feb 2013 00:32:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12569099/7290-mega-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12569099/7290-mega-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 91 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.constraint.TestConstraint&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4427//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13577312" author="yuzhihong@gmail.com" created="Wed, 13 Feb 2013 03:50:55 +0000"  >&lt;p&gt;TestConstraint failed in QA run for both v2 and v3.&lt;br/&gt;
I ran it locally and it passed.&lt;/p&gt;</comment>
                            <comment id="13577313" author="hadoopqa" created="Wed, 13 Feb 2013 03:55:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12569144/7290-mega-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12569144/7290-mega-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 91 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.constraint.TestConstraint&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4432//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13577366" author="stack" created="Wed, 13 Feb 2013 06:36:22 +0000"  >&lt;p&gt;Quick review of patch.  All below are total nits  not to get in the way of commit (anything can be done about above findbugs and javadoc warnings &amp;#8211; they have been showing green of later ... would be pity to go red again).&lt;/p&gt;

&lt;p&gt;On the patch, the ErrorHandling.proto looks generally applicable...&lt;/p&gt;

&lt;p&gt;Fix tab spacing in protos on commit?&lt;/p&gt;

&lt;p&gt;Nice... they show in UI!&lt;/p&gt;

&lt;p&gt;Is the change in MasterAdminProtocol right?  It removes a critical looking line.&lt;/p&gt;

&lt;p&gt;Where is the doc?  At least add fat release note on commit (The stuff in SnapshotDescriptionUtils looks great in the javadoc class comment)&lt;/p&gt;

&lt;p&gt;FSVisitor looks generally useful too...&lt;/p&gt;

&lt;p&gt;ModifyRegionUtils probably belongs under regionserver package?&lt;/p&gt;

&lt;p&gt;And support in shell!&lt;/p&gt;

&lt;p&gt;+1 on commit even you would like to address findbugs/javadoc in follow on issue.&lt;/p&gt;</comment>
                            <comment id="13578436" author="jmhsieh" created="Thu, 14 Feb 2013 15:49:35 +0000"  >&lt;p&gt;From the mailing list:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I&apos;ve successfully ported the git repo to an svn branch.  The branch is&lt;br/&gt;
called hbase-7290v2 (I made some mistakes on v1). Here&apos;s a link to&lt;br/&gt;
what the svn snapshots repo looks like:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/hbase/branches/hbase-7290v2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/branches/hbase-7290v2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is the official branch now &amp;#8211;  we&apos;ll now commit fixes from the&lt;br/&gt;
pre-trunk-merge mega-patch reviews to that branch. &lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13578858" author="yuzhihong@gmail.com" created="Fri, 15 Feb 2013 01:02:12 +0000"  >&lt;p&gt;I am more than half-way through code review.&lt;/p&gt;

&lt;p&gt;Ruby script references non-existent method:&lt;br/&gt;
  @admin.renameSnapshot()&lt;br/&gt;
which we can defer to future JIRA.&lt;/p&gt;

&lt;p&gt;I think we should give 3 (out of 4) pairs of coprocessor hooks better names to reflect the fact that the underlying calls are asynchronous.&lt;/p&gt;

&lt;p&gt;More reviews to follow.&lt;/p&gt;

&lt;p&gt;I can provide patches addressing review comments in sub-tasks next week.&lt;/p&gt;</comment>
                            <comment id="13582378" author="jmhsieh" created="Wed, 20 Feb 2013 18:02:32 +0000"  >&lt;p&gt;I&apos;ve just committed a clean sync up merge with trunk into the hbase-7290v2 svn branch.&lt;/p&gt;

&lt;p&gt;After some in person discussions from yesterday (summarized in the mailing list notes), we&apos;ll be wrapping up the outstanding reviews of the megapatch, posting one more version that will hopefully be the last pre merge versions of the megapatch.  We should put the +1 votes on that and then merge with trunk afterwards (and before the 0.95/0.96 branch is made). &lt;/p&gt;</comment>
                            <comment id="13582428" author="yuzhihong@gmail.com" created="Wed, 20 Feb 2013 19:12:09 +0000"  >&lt;p&gt;I got a green build for hbase-7290v2 svn branch.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] HBase ............................................. SUCCESS [1.780s]
[INFO] HBase - Common .................................... SUCCESS [10.211s]
[INFO] HBase - Protocol .................................. SUCCESS [0.292s]
[INFO] HBase - Client .................................... SUCCESS [0.505s]
[INFO] HBase - Prefix Tree ............................... SUCCESS [2.493s]
[INFO] HBase - Hadoop Compatibility ...................... SUCCESS [0.370s]
[INFO] HBase - Hadoop One Compatibility .................. SUCCESS [0.783s]
[INFO] HBase - Server .................................... SUCCESS [53:37.531s]
[INFO] HBase - Integration Tests ......................... SUCCESS [1.313s]
[INFO] HBase - Examples .................................. SUCCESS [39.355s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13582452" author="jmhsieh" created="Wed, 20 Feb 2013 19:33:47 +0000"  >&lt;p&gt;Attached megapatch v4 that has the differ from apache trunk and the 2/20/13 snapshot branch sync up merge.&lt;/p&gt;</comment>
                            <comment id="13582454" author="jmhsieh" created="Wed, 20 Feb 2013 19:35:44 +0000"  >&lt;p&gt;I believe ted&apos;s run was against commit.  I&apos;ve run the unit test suite successfully against hadoop 1 and with 11 known failures against hadoop2 (TestImportExport/TestImportTsv has problems with hadoop2 mr/hdfs minicluster setup).&lt;/p&gt;

&lt;p&gt;I&apos;m +1 to merge to trunk now.&lt;/p&gt;</comment>
                            <comment id="13582458" author="mbertozzi" created="Wed, 20 Feb 2013 19:38:17 +0000"  >&lt;p&gt;I&apos;m also +1 on the merge &lt;/p&gt;</comment>
                            <comment id="13582462" author="yuzhihong@gmail.com" created="Wed, 20 Feb 2013 19:39:18 +0000"  >&lt;p&gt;+1 on merging to trunk.&lt;/p&gt;

&lt;p&gt;We can tackle remaining sub-tasks post-merge.&lt;/p&gt;</comment>
                            <comment id="13582507" author="hadoopqa" created="Wed, 20 Feb 2013 20:39:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12570172/hbase-7290.mega-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12570172/hbase-7290.mega-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 91 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4470//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13582593" author="jesse_yates" created="Wed, 20 Feb 2013 22:23:10 +0000"  >&lt;p&gt;+1 on merging trunk (a little late to the party &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13582911" author="jmhsieh" created="Thu, 21 Feb 2013 04:37:32 +0000"  >&lt;p&gt;This has been merged into trunk.  Hooray!&lt;/p&gt;

&lt;p&gt;Sadly some fidelity of merge was lost.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The odd news is that the github view of the updated repo seems to be missing some info in the commit log.  While all the code got merged in, the individual commits logs after 2/13/13 did not and essentially got merged into the final merge commit  (looking at the git blame, all the subsequent fixes are attributed to the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7290&quot; title=&quot;Online snapshots &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7290&quot;&gt;&lt;del&gt;HBASE-7290&lt;/del&gt;&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; merge commit).  This corresponds with where I created an svn-copy of the original hbase-7290 svn branch called hbase-7290v2.  (I ran into some problems in the  hbase-7290 svn branch and couldn&apos;t revert properly or do the equivalent of a force push.  Instead I created an svn-copy from the last good point in the hbase-7290 branch).  My guess is that some combination of the extra svn copy and the &quot;svn merge --reintegrate&quot; voodoo lost this information. &lt;/p&gt;

&lt;p&gt;Here&apos;s a summary of the commits and authors that didn&apos;t make it into the commit history during the merge.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7889&quot; title=&quot;Fix javadoc warnings in snapshot classes, part 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7889&quot;&gt;&lt;del&gt;HBASE-7889&lt;/del&gt;&lt;/a&gt; ADDENDUM (convert @code to simplified @links)  (jmhsieh)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7889&quot; title=&quot;Fix javadoc warnings in snapshot classes, part 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7889&quot;&gt;&lt;del&gt;HBASE-7889&lt;/del&gt;&lt;/a&gt; Fix javadoc warnings in snapshot classes, part 2 (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7864&quot; title=&quot;Rename HMaster#listSnapshots as getCompletedSnapshots()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7864&quot;&gt;&lt;del&gt;HBASE-7864&lt;/del&gt;&lt;/a&gt; Rename HMaster#listSnapshots as getCompletedSnapshots() (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7858&quot; title=&quot;cleanup before merging snapshots branch to trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7858&quot;&gt;&lt;del&gt;HBASE-7858&lt;/del&gt;&lt;/a&gt; cleanup before merging snapshots branch to trunk (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7779&quot; title=&quot;[snapshot 130201 merge] Fix TestMultiParallel&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7779&quot;&gt;&lt;del&gt;HBASE-7779&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Fix TestMultiParallel (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7796&quot; title=&quot;[snapshot 130201 merge] Fix TestSnapshotFromClient and TestFlushSnapshotFromClient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7796&quot;&gt;&lt;del&gt;HBASE-7796&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Fix TestSnapshotFromClient and TestFlushSnapshotFromClient (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7764&quot; title=&quot;[snapshot 130201 merge] Fix TestSnapshotCloneIndependence failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7764&quot;&gt;&lt;del&gt;HBASE-7764&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Fix TestSnapshotCloneIndependence failure (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7795&quot; title=&quot;Race in the Restore Archiving&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7795&quot;&gt;&lt;del&gt;HBASE-7795&lt;/del&gt;&lt;/a&gt; Race in the Restore Archiving (Matteo Bertozzi)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7752&quot; title=&quot;[snapshot 130201 merge] Fix TestStoreFile failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7752&quot;&gt;&lt;del&gt;HBASE-7752&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt;  Fix TestStoreFile failure (jmhsieh)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7778&quot; title=&quot;[snapshot 130201 merge] Tests with sleep after minicluster shutdown fail due to interrupt flag.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7778&quot;&gt;&lt;del&gt;HBASE-7778&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Tests with sleep after minicluster shutdown fail due to interrupt flag. (jmhsieh)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7788&quot; title=&quot;[snapshot 130201 merge] Fix flakey TestRestore*SnapshotFromClient#testCloneSnapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7788&quot;&gt;&lt;del&gt;HBASE-7788&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Fix flakey TestRestore*SnapshotFromClient#testCloneSnapshot (jmhsieh)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7753&quot; title=&quot;[snapshot 130201 merge] Fix unresolved merge conflicts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7753&quot;&gt;&lt;del&gt;HBASE-7753&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Fix unresolved merge conflicts (Ted Yu)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7742&quot; title=&quot;[snapshot 130201 merge] Fix TestHFileArchving#testArchiveOnTableDelete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7742&quot;&gt;&lt;del&gt;HBASE-7742&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;snapshot 130201 merge&amp;#93;&lt;/span&gt; Fix TestHFileArchiving#testArchiveOnTableDelete (jmhsieh)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7739&quot; title=&quot;[snapshot 130201 merge] Fix TestSnapshotFromMaster failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7739&quot;&gt;&lt;del&gt;HBASE-7739&lt;/del&gt;&lt;/a&gt; Fix TestSnapshotFromMaster failure (Ted Yu)&lt;br/&gt;
Remove empty directories (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7209&quot; title=&quot;Enhance dev-support/test-patch.sh with running test suite using &amp;#39;mvn package&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7209&quot;&gt;&lt;del&gt;HBASE-7209&lt;/del&gt;&lt;/a&gt; followup) (jmhsieh)&lt;/p&gt;

&lt;p&gt;Sorry about those who lost some credit in the repo.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13582913" author="jmhsieh" created="Thu, 21 Feb 2013 04:39:33 +0000"  >&lt;p&gt;in the preivous message, the remove empty directories should be a &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7290&quot; title=&quot;Online snapshots &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7290&quot;&gt;&lt;del&gt;HBASE-7290&lt;/del&gt;&lt;/a&gt; merge followup. &lt;/p&gt;</comment>
                            <comment id="13582914" author="jmhsieh" created="Thu, 21 Feb 2013 04:41:30 +0000"  >&lt;p&gt;I&apos;ve attached the effect mega patch from the snpashot branch /  trunk merge step.&lt;/p&gt;</comment>
                            <comment id="13582919" author="jmhsieh" created="Thu, 21 Feb 2013 04:54:31 +0000"  >&lt;p&gt;I think I&apos;m going to leave the sub issues in here for the time being &amp;#8211; as we knock these off please promote them to be full issues and make sure the jira name mentions table snapshots.&lt;/p&gt;</comment>
                            <comment id="13582978" author="hudson" created="Thu, 21 Feb 2013 07:18:34 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3888 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3888/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3888/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7290&quot; title=&quot;Online snapshots &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7290&quot;&gt;&lt;del&gt;HBASE-7290&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; Online and Offline table snapshots.  Merged to trunk. (Jesse Yates, Matteo Bertozzi, Jonathan Hsieh, Ted Yu) (Revision 1448506)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ErrorHandlingProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/HBaseProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterAdminProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/ErrorHandling.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/MasterAdmin.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/hbase.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/avro&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/jamon/org/apache/hadoop/hbase/tmpl/master/MasterStatusTmpl.jamon&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/Chore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/MasterAdminProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/backup/HFileArchiver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignExceptionListener.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignExceptionSnare.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/TimeoutException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/TimeoutExceptionInjector.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HFileLink.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HLogLink.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterServices.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/SnapshotSentinel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/CreateTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/DisableTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/TableEventHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/CloneSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/DisabledTableSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/EnabledTableSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/RestoreSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotHFileCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotLogCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/TakeSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/migration&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/Procedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureCoordinator.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureCoordinatorRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureMember.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureMemberRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/Subprocedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/SubprocedureFactory.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureCoordinatorRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureMemberRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot/FlushSnapshotSubprocedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot/RegionServerSnapshotManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/CopyRecoveredEditsTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/CorruptedSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ExportSnapshot.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ExportSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/HBaseSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ReferenceRegionHFilesTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ReferenceServerWALsTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/RestoreSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/RestoreSnapshotHelper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotCreationException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotDoesNotExistException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotExistsException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotReferenceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TableInfoCopyTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TablePartiallyOpenException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TakeSnapshotUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/UnknownSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSTableDescriptors.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSVisitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HFileArchiveUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/ModifyRegionUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-webapps/master/snapshot.jsp&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/table.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/clone_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/delete_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/list.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/list_snapshots.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/rename_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/restore_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestHTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/backup/TestHFileArchiving.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestRestoreSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotCloneIndependence.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotFromAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotMetadata.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling/TestForeignExceptionDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling/TestForeignExceptionSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling/TestTimeoutExceptionInjector.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestHFileLinkCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestSnapshotFromMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotFileCache.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotHFileCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotLogCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/migration&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestProcedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestProcedureCoordinator.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestProcedureMember.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestZKProcedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestZKProcedureControllers.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/SnapshotTestingUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestCopyRecoveredEditsTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestExportSnapshot.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestFlushSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestReferenceRegionHFilesTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestRestoreFlushSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestRestoreSnapshotHelper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestSnapshotDescriptionUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestSnapshotLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestSnapshotTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestWALReferenceTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestFSVisitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHFileArchiveUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583169" author="hudson" created="Thu, 21 Feb 2013 13:16:01 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #414 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/414/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/414/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7290&quot; title=&quot;Online snapshots &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7290&quot;&gt;&lt;del&gt;HBASE-7290&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; Online and Offline table snapshots.  Merged to trunk. (Jesse Yates, Matteo Bertozzi, Jonathan Hsieh, Ted Yu) (Revision 1448506)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ErrorHandlingProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/HBaseProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterAdminProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/ErrorHandling.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/MasterAdmin.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/hbase.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/avro&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/jamon/org/apache/hadoop/hbase/tmpl/master/MasterStatusTmpl.jamon&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/Chore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/MasterAdminProtocol.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/backup/HFileArchiver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignExceptionDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignExceptionListener.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/ForeignExceptionSnare.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/TimeoutException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/errorhandling/TimeoutExceptionInjector.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HFileLink.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HLogLink.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterServices.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/SnapshotSentinel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/CreateTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/DisableTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/TableEventHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/CloneSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/DisabledTableSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/EnabledTableSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/MasterSnapshotVerifier.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/RestoreSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotHFileCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotLogCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/TakeSnapshotHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/migration&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/Procedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureCoordinator.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureCoordinatorRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureMember.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ProcedureMemberRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/Subprocedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/SubprocedureFactory.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureCoordinatorRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureMemberRpcs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/procedure/ZKProcedureUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot/FlushSnapshotSubprocedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/snapshot/RegionServerSnapshotManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/CopyRecoveredEditsTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/CorruptedSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ExportSnapshot.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ExportSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/HBaseSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ReferenceRegionHFilesTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/ReferenceServerWALsTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/RestoreSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/RestoreSnapshotHelper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotCreationException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotDescriptionUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotDoesNotExistException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotExistsException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotReferenceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/SnapshotTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TableInfoCopyTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TablePartiallyOpenException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/TakeSnapshotUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/snapshot/UnknownSnapshotException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSTableDescriptors.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/FSVisitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HFileArchiveUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/ModifyRegionUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-webapps/master/snapshot.jsp&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/table.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/clone_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/delete_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/list.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/list_snapshots.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/rename_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/restore_snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/snapshot.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestHTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/backup/TestHFileArchiving.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestRestoreSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotCloneIndependence.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotFromAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestSnapshotMetadata.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling/TestForeignExceptionDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling/TestForeignExceptionSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/errorhandling/TestTimeoutExceptionInjector.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestHFileLinkCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/cleaner/TestSnapshotFromMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotFileCache.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotHFileCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotLogCleaner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/snapshot/TestSnapshotManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/migration&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestProcedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestProcedureCoordinator.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestProcedureMember.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestZKProcedure.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/procedure/TestZKProcedureControllers.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStoreFile.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/metrics&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/SnapshotTestingUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestCopyRecoveredEditsTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestExportSnapshot.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestFlushSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestReferenceRegionHFilesTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestRestoreFlushSnapshotFromClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestRestoreSnapshotHelper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestSnapshotDescriptionUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestSnapshotLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestSnapshotTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/snapshot/TestWALReferenceTask.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestFSVisitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHFileArchiveUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13583346" author="jmhsieh" created="Thu, 21 Feb 2013 16:51:44 +0000"  >&lt;p&gt;According to the svn manual, normally you svn delete a branch after it has been merged in.  Since this didn&apos;t completely work out, I&apos;ll keep the branch alive with the patch-by-patch commit record and is browseable in these places:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/hbase/branches/hbase-7290v2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/branches/hbase-7290v2/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hbase/tree/hbase-7290v2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/tree/hbase-7290v2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13775214" author="stack" created="Mon, 23 Sep 2013 18:30:59 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12632485">HBASE-7848</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12556488">HBASE-6055</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12608718">HBASE-6866</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12608719">HBASE-6867</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12569099" name="7290-mega-v2.txt" size="1330600" author="yuzhihong@gmail.com" created="Tue, 12 Feb 2013 23:21:16 +0000"/>
                            <attachment id="12569144" name="7290-mega-v3.txt" size="1330686" author="yuzhihong@gmail.com" created="Wed, 13 Feb 2013 02:50:44 +0000"/>
                            <attachment id="12570172" name="hbase-7290.mega-v4.patch" size="1325653" author="jmhsieh" created="Wed, 20 Feb 2013 19:33:47 +0000"/>
                            <attachment id="12570263" name="hbase-7290.mega-v5.patch" size="1324922" author="jmhsieh" created="Thu, 21 Feb 2013 04:41:30 +0000"/>
                            <attachment id="12569057" name="hbase-7290.mega.patch" size="1331209" author="jmhsieh" created="Tue, 12 Feb 2013 21:12:33 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12608716">HBASE-6864</subtask>
                            <subtask id="12617370">HBASE-7212</subtask>
                            <subtask id="12619011">HBASE-7291</subtask>
                            <subtask id="12623343">HBASE-7321</subtask>
                            <subtask id="12623766">HBASE-7344</subtask>
                            <subtask id="12623344">HBASE-7322</subtask>
                            <subtask id="12623772">HBASE-7345</subtask>
                            <subtask id="12624403">HBASE-7378</subtask>
                            <subtask id="12624896">HBASE-7409</subtask>
                            <subtask id="12625508">HBASE-7461</subtask>
                            <subtask id="12625568">HBASE-7470</subtask>
                            <subtask id="12625972">HBASE-7492</subtask>
                            <subtask id="12625974">HBASE-7493</subtask>
                            <subtask id="12626082">HBASE-7496</subtask>
                            <subtask id="12626717">HBASE-7523</subtask>
                            <subtask id="12627083">HBASE-7536</subtask>
                            <subtask id="12627088">HBASE-7538</subtask>
                            <subtask id="12627219">HBASE-7543</subtask>
                            <subtask id="12627320">HBASE-7548</subtask>
                            <subtask id="12627506">HBASE-7559</subtask>
                            <subtask id="12628098">HBASE-7615</subtask>
                            <subtask id="12628100">HBASE-7616</subtask>
                            <subtask id="12628970">HBASE-7651</subtask>
                            <subtask id="12629181">HBASE-7666</subtask>
                            <subtask id="12629627">HBASE-7703</subtask>
                            <subtask id="12630221">HBASE-7733</subtask>
                            <subtask id="12629936">HBASE-7720</subtask>
                            <subtask id="12630266">HBASE-7735</subtask>
                            <subtask id="12630480">HBASE-7739</subtask>
                            <subtask id="12630484">HBASE-7742</subtask>
                            <subtask id="12630534">HBASE-7752</subtask>
                            <subtask id="12630539">HBASE-7753</subtask>
                            <subtask id="12630783">HBASE-7764</subtask>
                            <subtask id="12631104">HBASE-7778</subtask>
                            <subtask id="12631105">HBASE-7779</subtask>
                            <subtask id="12631181">HBASE-7783</subtask>
                            <subtask id="12631263">HBASE-7788</subtask>
                            <subtask id="12631541">HBASE-7796</subtask>
                            <subtask id="12632275">HBASE-7841</subtask>
                            <subtask id="12632480">HBASE-7847</subtask>
                            <subtask id="12632510">HBASE-7853</subtask>
                            <subtask id="12632625">HBASE-7858</subtask>
                            <subtask id="12632661">HBASE-7862</subtask>
                            <subtask id="12632692">HBASE-7864</subtask>
                            <subtask id="12632923">HBASE-7873</subtask>
                            <subtask id="12633027">HBASE-7881</subtask>
                            <subtask id="12633274">HBASE-7889</subtask>
                            <subtask id="12633249">HBASE-7888</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 6 Dec 2012 08:57:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1489z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.96notable</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>