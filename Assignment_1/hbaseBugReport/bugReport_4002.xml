<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:14:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4002/HBASE-4002.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4002] Int array based skip list</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4002</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We can implement an AtomicIntegerArray based skip list, where the int values point to locations in a byte block structure.  This can be useful for testing against ConcurrentSkipListMap.  It can also be used in Lucene for the realtime terms dictionary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510715">HBASE-4002</key>
            <summary>Int array based skip list</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jasonrutherglen">Jason Rutherglen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jun 2011 19:31:08 +0000</created>
                <updated>Tue, 28 Aug 2012 23:02:22 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13051279" author="jasonrutherglen" created="Fri, 17 Jun 2011 19:36:56 +0000"  >&lt;p&gt;This is an implementation of a sorted linked list in an atomic integer array.  Currently it assumes a single threaded writer, and multiple threads reading.  &lt;/p&gt;

&lt;p&gt;Concurrent reading threads needs to be tested.&lt;/p&gt;

&lt;p&gt;Each element consists of 2 ints.  The first int is the value, the second is the pointer to the next element.&lt;/p&gt;

&lt;p&gt;Each add locates the position between which the new element should be linked.  &lt;/p&gt;

&lt;p&gt;An append to the end of the array is performed, then the linked list pointers are changed.&lt;/p&gt;

&lt;p&gt;Dynamic resizing needs to be implemented.&lt;/p&gt;</comment>
                            <comment id="13051280" author="jasonrutherglen" created="Fri, 17 Jun 2011 19:39:42 +0000"  >&lt;p&gt;Once this seems to work, then a 3 int version of this linked list will be created.  The third int is the down skip level pointer.  &lt;/p&gt;

&lt;p&gt;The next step is the logic that assembles the skip lists effectively, which will be based what&apos;s in ConcurrentSkipListMap.&lt;/p&gt;</comment>
                            <comment id="13051306" author="jasonrutherglen" created="Fri, 17 Jun 2011 20:16:27 +0000"  >&lt;p&gt;Added dynamic resizing of the internal int array.&lt;/p&gt;

&lt;p&gt;Added the ability to subclass and add a custom comparator, eg, for use when comparing byte arrays.&lt;/p&gt;</comment>
                            <comment id="13054940" author="jasonrutherglen" created="Sat, 25 Jun 2011 18:03:54 +0000"  >&lt;p&gt;Here&apos;s the skip list.&lt;/p&gt;

&lt;p&gt;Need to:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Add reusable &apos;starts&apos; int array&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Runs tests randomly, and perhaps improve them somehow&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Execute a benchmark vs. ConcurrentSkipListMap for single threaded writes and multithreaded reads&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13054957" author="yuzhihong@gmail.com" created="Sat, 25 Jun 2011 19:34:39 +0000"  >&lt;p&gt;In IntLinkedList3.copyOf():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; size = source.length();
+    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x = 0; x &amp;lt; size; x++) {
+      newone.set(x, source.get(x));
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should we check size against newSize and use the smaller one ?&lt;/p&gt;

&lt;p&gt;I guess the method names below can be made more intuitive ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void setNex(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pos, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; next, AtomicIntegerArray linkedList) {
+    linkedList.set( (pos * CONST) + 1, next);
+  }
+
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void setDow(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pos, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; down, AtomicIntegerArray linkedList) {
+    linkedList.set( (pos * CONST) + 2, down);
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13055007" author="jasonrutherglen" created="Sun, 26 Jun 2011 03:15:44 +0000"  >&lt;p&gt;Here&apos;s an updated patch where in IntSkipList, the 2 value linked list isn&apos;t used anymore to keep array symmetry.&lt;/p&gt;

&lt;p&gt;I need to abstract out the linked lists so that they implement the same interface.&lt;/p&gt;

&lt;p&gt;When adding a value, start wasn&apos;t being used correctly in some cases, it now always is.&lt;/p&gt;</comment>
                            <comment id="13055626" author="jasonrutherglen" created="Mon, 27 Jun 2011 16:16:47 +0000"  >&lt;p&gt;I&apos;m iterating on this in Lucene land because I need the bytes hash and block pool classes.  Also to test using Wiki-EN for the unique terms.&lt;/p&gt;</comment>
                            <comment id="13443625" author="lhofhansl" created="Tue, 28 Aug 2012 23:02:22 +0000"  >&lt;p&gt;Is there anything to do here for HBase? Jason, are you still around?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12510490">HBASE-3993</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12511598">LUCENE-3245</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12483835" name="HBASE-4002.patch" size="30658" author="jasonrutherglen" created="Sun, 26 Jun 2011 03:15:44 +0000"/>
                            <attachment id="12483822" name="HBASE-4002.patch" size="30893" author="jasonrutherglen" created="Sat, 25 Jun 2011 18:03:54 +0000"/>
                            <attachment id="12482982" name="HBASE-4002.patch" size="10180" author="jasonrutherglen" created="Fri, 17 Jun 2011 20:16:26 +0000"/>
                            <attachment id="12482977" name="HBASE-4002.patch" size="9179" author="jasonrutherglen" created="Fri, 17 Jun 2011 19:36:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Jun 2011 19:34:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hoxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>