<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3280/HBASE-3280.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3280] YouAreDeadException being swallowed in HRS getMaster()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3280</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In the HRS, when we lose our connection to the master, we enter into a loop where we keep trying to get the new master location in ZK and attempt to send our heartbeat.  Within tryRegionServerReport() we could get a YouAreDeadException, but we won&apos;t let it out.  This leads to the RS continuously heartbeating in to the master although the master keeps telling it to kill itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491551">HBASE-3280</key>
            <summary>YouAreDeadException being swallowed in HRS getMaster()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="streamy">Jonathan Gray</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Nov 2010 15:54:44 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:07 +0000</updated>
                            <resolved>Mon, 29 Nov 2010 18:42:08 +0000</resolved>
                                    <version>0.90.0</version>
                                    <fixVersion>0.90.0</fixVersion>
                    <fixVersion>0.92.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12964799" author="streamy" created="Mon, 29 Nov 2010 16:19:59 +0000"  >&lt;p&gt;Somewhat related to this, what happened on a cluster here is that the HRS got stuck in this loop trying to reconnect to master and ignoring the YouAreDeadExceptions.  But then once the master finished shutdown handling, it removes this server from the dead server list.  Then the RS actually successfully heartbeated in to the master and the master thought it was a legit RS (even though it just finished doing a shutdown of it).&lt;/p&gt;

&lt;p&gt;Is there a reason we should ever clear things out of the dead server list?  If this RS is in a network partition it may not check back with the master for a long time so we should always remember the dead serverNames (which include start codes)?&lt;/p&gt;</comment>
                            <comment id="12964853" author="streamy" created="Mon, 29 Nov 2010 17:43:27 +0000"  >&lt;p&gt;Properly catch and rethrow if we are given a YouAreDeadException doing heartbeat to master.&lt;/p&gt;</comment>
                            <comment id="12964858" author="stack" created="Mon, 29 Nov 2010 18:02:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12964860" author="stack" created="Mon, 29 Nov 2010 18:07:43 +0000"  >&lt;p&gt;On remembering forever dead servers (with startcode), yeah, that sounds about right.  Could keep the server in a soft references Map.  Want to make new issue?&lt;/p&gt;</comment>
                            <comment id="12964871" author="streamy" created="Mon, 29 Nov 2010 18:42:08 +0000"  >&lt;p&gt;Committed to trunk and branch.  Will be doing cluster testing with this patch soon.&lt;/p&gt;

&lt;p&gt;Thanks for review stack.  Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3282&quot; title=&quot;Need to retain DeadServers to ensure we don&amp;#39;t allow previously expired RS instances to rejoin cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3282&quot;&gt;&lt;del&gt;HBASE-3282&lt;/del&gt;&lt;/a&gt; for dead server stuff.&lt;/p&gt;</comment>
                            <comment id="15016888" author="lars_francke" created="Fri, 20 Nov 2015 12:41:07 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12464885" name="HBASE-3280-v1.patch" size="885" author="streamy" created="Mon, 29 Nov 2010 17:43:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Nov 2010 18:02:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hlk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>