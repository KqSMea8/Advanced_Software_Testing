<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:29 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13358/HBASE-13358.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13358] Upgrade VisibilityClient API to accept Connection object.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13358</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From VisibilityClient class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-comment&quot;&gt;// TODO: Make it so caller passes in a Connection rather than have us &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; expensive
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// setup each time.  This class only used in test and shell at moment though.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Basically, this is the VC&apos;s counterpart of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13171&quot; title=&quot;Change AccessControlClient methods to accept connection object to reduce setup time.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13171&quot;&gt;&lt;del&gt;HBASE-13171&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12786504">HBASE-13358</key>
            <summary>Upgrade VisibilityClient API to accept Connection object.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mwarhaftig">Matt Warhaftig</assignee>
                                    <reporter username="srikanth235">Srikanth Srungarapu</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Mar 2015 06:50:18 +0000</created>
                <updated>Tue, 22 Dec 2015 07:14:25 +0000</updated>
                            <resolved>Fri, 1 May 2015 04:34:14 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                                    <component>API</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                            <comments>
                            <comment id="14385652" author="srikanth235" created="Sun, 29 Mar 2015 06:51:15 +0000"  >&lt;p&gt;Leaving this open just in case if we&apos;ve volunteers. Else, I&apos;ll pick this up once I get time.&lt;/p&gt;</comment>
                            <comment id="14513105" author="mwarhaftig" created="Sun, 26 Apr 2015 15:59:07 +0000"  >&lt;p&gt;Attached patch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt;.patch&apos; adds VisibilityClient methods that allow connection to be passed and deprecates existing configuration parameter methods.  Associated JUnit tests are updated to use new methods.  Please double-check changes as HBase security logic was modified.&lt;/p&gt;</comment>
                            <comment id="14513175" author="hadoopqa" created="Sun, 26 Apr 2015 18:30:09 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728241/HBASE-13358.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728241/HBASE-13358.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit cd83d39fb4f50db901b699ba5470b5f709c95c69.&lt;br/&gt;
  ATTACHMENT ID: 12728241&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 73 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1906 checkstyle errors (more than the master&apos;s current 1900 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13819//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14513296" author="mwarhaftig" created="Sun, 26 Apr 2015 22:11:24 +0000"  >&lt;p&gt;Attached updated patch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt;_v2.patch&apos; corrects one VisibilityClient Javadoc parameter name value and adds @Deprecated annotation tags where needed.&lt;/p&gt;</comment>
                            <comment id="14513363" author="hadoopqa" created="Mon, 27 Apr 2015 00:45:49 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728273/HBASE-13358_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728273/HBASE-13358_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ba6ba16bc008e3b9bb8dc4b1674891e9e2313fc0.&lt;br/&gt;
  ATTACHMENT ID: 12728273&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 60 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestHBaseFsck&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13821//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14513491" author="anoop.hbase" created="Mon, 27 Apr 2015 04:04:01 +0000"  >&lt;p&gt;New APIs introduction looks good to me.  Just skimmed the test changes. Looks ok.  Have not verified whether replacement of conf with SUPER_USER-CON/ NORMAL_USER_CON is correct.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt; want to review and commit it?&lt;/p&gt;</comment>
                            <comment id="14516190" author="srikanth235" created="Tue, 28 Apr 2015 02:08:29 +0000"  >&lt;p&gt;Patch looks good to me. A few thoughts.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Without patch, we&apos;re using connection with system user as default. But this changes is making use of &lt;tt&gt;SUPERUSER_CONN&lt;/tt&gt; by default. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Do you think this is acceptable? Or should we fall back to system user?&lt;/li&gt;
	&lt;li&gt;How about staying away from using user object in action, as this makes extensibility untenable. In future, we might want to use same object with different users like we do with &lt;tt&gt;verifyAllowed&lt;/tt&gt; in AC.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    action1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedExceptionAction&amp;lt;GetAuthsResponse&amp;gt;() {
+      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; GetAuthsResponse run() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
+        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; VisibilityClient.getAuths(NORMAL_USER1_CONN, &lt;span class=&quot;code-quote&quot;&gt;&quot;user1&quot;&lt;/span&gt;);
+        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable e) {
+        }
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
+      }
+    };
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This should be like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    action1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedExceptionAction&amp;lt;GetAuthsResponse&amp;gt;() {
+      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; GetAuthsResponse run() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
+        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (Connection conn = ConnectionFactory.createConnection(conf)) {
+          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; VisibilityClient.getAuths(conn, &lt;span class=&quot;code-quote&quot;&gt;&quot;user1&quot;&lt;/span&gt;);
+        } 
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
+      }
+    };
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But the nice thing with the approach in the patch is it reuses connections! Which tradeoff (extensibility vs perf) should we make? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Again your inputs please &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="14516339" author="anoop.hbase" created="Tue, 28 Apr 2015 04:40:01 +0000"  >&lt;p&gt;Thanks for detail look Srikanth.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Without patch, we&apos;re using connection with system user as default. But this changes is making use of&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Any specific reason?  I think it was just to make sure to use some existing connection and for that just created a super connection at first. If it is just for this purpose I am ok with any.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;But the nice thing with the approach in the patch is it reuses connections! Which tradeoff (extensibility vs perf) should we make?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is test and we wont take much time running them. Am also tend towards your thinking Srikanth. We better make connection there and pass them.&lt;br/&gt;
Similar way for the above also.&lt;/p&gt;</comment>
                            <comment id="14516922" author="mwarhaftig" created="Tue, 28 Apr 2015 11:57:33 +0000"  >&lt;p&gt;Thanks for the fast feedback &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;.  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Without patch, we&apos;re using connection with system user as default. But this changes is making use of SUPERUSER_CONN by default. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;When we are in SUPERUSER&apos;s context a VisibilityClient call of ConnectionFactory.createConnection(conf) results in an Admin user.  My belief was that pre-patch, the user was whoever&apos;s context VisibilityClient was called from and outside of runAs() it was the system user.&lt;/p&gt;

&lt;p&gt;However, this question is unnecessary as I like your idea of creating the connection before each VisibilityClient method call.  Will resubmit patch with changes tonight.&lt;/p&gt;</comment>
                            <comment id="14519265" author="mwarhaftig" created="Wed, 29 Apr 2015 12:30:36 +0000"  >&lt;p&gt;Attached patch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt;_v3.patch&apos; switches test cases to use try with resource to create connections.  Note: Patch was made with git diff as make_patch.sh was pulling in unrelated codebase changes.&lt;/p&gt;</comment>
                            <comment id="14519273" author="anoop.hbase" created="Wed, 29 Apr 2015 12:38:28 +0000"  >&lt;p&gt;nit on Javadoc&lt;br/&gt;
Instead of adding like &lt;br/&gt;
Use &lt;/p&gt;
{@code VisibilityClient.addLabel(Connection,String)}
&lt;p&gt; instead. in javadoc, &lt;br/&gt;
go with&lt;/p&gt;
{@link #addLabel(Connection,String)}
&lt;p&gt;  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Similar way in other methods as well.&lt;/p&gt;</comment>
                            <comment id="14519539" author="hadoopqa" created="Wed, 29 Apr 2015 15:20:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12729152/HBASE-13358_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12729152/HBASE-13358_v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 85ac00ba9f90e570d59ec83c31e0b526be0155dd.&lt;br/&gt;
  ATTACHMENT ID: 12729152&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 54 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13879//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14520678" author="mwarhaftig" created="Thu, 30 Apr 2015 01:31:32 +0000"  >&lt;p&gt;Ok, attached patch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt;_v4.patch&apos; now also includes Javadoc deprecation links using @link.&lt;/p&gt;</comment>
                            <comment id="14520779" author="srikanth235" created="Thu, 30 Apr 2015 03:16:53 +0000"  >&lt;p&gt;Patch is looking good to me. Let&apos;s see what QA bot says. I&apos;m planning to get this in for 1.2 and 2.0. In 2.0, we can get rid of methods entirely. Do you mind preparing the patch accordingly? &lt;/p&gt;</comment>
                            <comment id="14520796" author="hadoopqa" created="Thu, 30 Apr 2015 03:42:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12729370/HBASE-13358_v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12729370/HBASE-13358_v4.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 558cac91d05aef811a61b9bcd86078a0cb13c879.&lt;br/&gt;
  ATTACHMENT ID: 12729370&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13890//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14520807" author="anoop.hbase" created="Thu, 30 Apr 2015 03:54:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;-1 javadoc. The javadoc tool appears to have generated 2 warning messages&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Not from this patch.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="14522648" author="mwarhaftig" created="Fri, 1 May 2015 01:57:34 +0000"  >&lt;p&gt;Ok, attached &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt;-master_v5.patch&apos; patch for HBase 2.0 changes VisibilityClient methods parameters from Configuration to Connection.  Attached &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt;-1.2_v5.patch&apos; patch for HBase 1.2 (guessing repo branch &apos;branch-1&apos; is HBase 1.2) deprecates VisibilityClient&apos;s Configuration parameter methods and adds Connection parameter methods.&lt;/p&gt;</comment>
                            <comment id="14522731" author="anoop.hbase" created="Fri, 1 May 2015 03:55:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;  Can you pls commit to required branches? Thanks.&lt;/p&gt;</comment>
                            <comment id="14522752" author="srikanth235" created="Fri, 1 May 2015 04:34:14 +0000"  >&lt;p&gt;Pushed v5 to 1.2 and master branches.&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mwarhaftig&quot; class=&quot;user-hover&quot; rel=&quot;mwarhaftig&quot;&gt;Matt Warhaftig&lt;/a&gt; for the patch and Anoop for reviewing it.&lt;/p&gt;</comment>
                            <comment id="14522780" author="hadoopqa" created="Fri, 1 May 2015 05:11:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12729697/HBASE-13358-master_v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12729697/HBASE-13358-master_v5.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 235dc9734f032945331c5a4a03ff2d69d170669d.&lt;br/&gt;
  ATTACHMENT ID: 12729697&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1900 checkstyle errors (more than the master&apos;s current 1898 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13906//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14522796" author="srikanth235" created="Fri, 1 May 2015 05:43:12 +0000"  >&lt;p&gt;Checkstyle errors looks related.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Error	imports	UnusedImports	Unused &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; - org.apache.hadoop.conf.Configuration.	26
 Error	imports	UnusedImports	Unused &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; - org.apache.hadoop.hbase.client.ConnectionFactory.	31
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pushed the addendum.&lt;/p&gt;</comment>
                            <comment id="14522836" author="hudson" created="Fri, 1 May 2015 06:41:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #50 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/50/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/50/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt; - Update VisibilityClient to accept Connection objects. (ssrungarapu: rev 5a87c3910e59762ce7d65d3062aa9309c2af2eb3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDeletes.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestWithDisabledAuthorization.java&lt;/li&gt;
	&lt;li&gt;hbase-rest/src/test/java/org/apache/hadoop/hbase/rest/TestScannersWithLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftHBaseServiceHandlerWithLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLablesWithGroups.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/test/IntegrationTestBigLinkedListWithVisibility.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestIngestWithVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsOpWithDifferentUsersNoACL.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/test/IntegrationTestWithCellVisibilityLoadAndVerify.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestEnforcingScanLabelGenerator.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportTSVWithVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestDefaultScanLabelGeneratorStack.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityWithCheckAuths.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithSLGStack.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14522871" author="hudson" created="Fri, 1 May 2015 07:19:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6444 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6444/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6444/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt; - Update VisibilityClient to accept Connection objects. (ssrungarapu: rev d50d6d967d470d9e7800a6f90dd0a40f713566db)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportTSVWithVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestWithDisabledAuthorization.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/test/IntegrationTestBigLinkedListWithVisibility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsOpWithDifferentUsersNoACL.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestDefaultScanLabelGeneratorStack.java&lt;/li&gt;
	&lt;li&gt;hbase-thrift/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftHBaseServiceHandlerWithLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/test/IntegrationTestWithCellVisibilityLoadAndVerify.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityWithCheckAuths.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithSLGStack.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestEnforcingScanLabelGenerator.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDeletes.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLablesWithGroups.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
	&lt;li&gt;hbase-rest/src/test/java/org/apache/hadoop/hbase/rest/TestScannersWithLabels.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestIngestWithVisibilityLabels.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14522909" author="hudson" created="Fri, 1 May 2015 08:01:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6445 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6445/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6445/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt; - Update VisibilityClient to accept Connection objects; ADDENDUM &amp;#8211; remove unused imports (ssrungarapu: rev 6399cd2c450c6d7db387283fe45e2c1622927cfc)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14524072" author="yuzhihong@gmail.com" created="Fri, 1 May 2015 22:02:07 +0000"  >&lt;p&gt;Proposed addendum to fix broken Shell tests:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-shell/src/main/ruby/hbase/visibility_labels.rb b/hbase-shell/src/main/ruby/hbase/visibility_labels.rb
index a3f8b1a..b715521 100644
--- a/hbase-shell/src/main/ruby/hbase/visibility_labels.rb
+++ b/hbase-shell/src/main/ruby/hbase/visibility_labels.rb
@@ -45,7 +45,8 @@ module Hbase
       end

       begin
-        response = VisibilityClient.addLabels(@config, labels.to_java(:string))
+        connection = @admin.getConnection()
+        response = VisibilityClient.addLabels(connection, labels.to_java(:string))
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; response.nil?
           raise(ArgumentError, &lt;span class=&quot;code-quote&quot;&gt;&quot;DISABLED: Visibility labels feature is not available&quot;&lt;/span&gt;)
         end
@@ -70,7 +71,8 @@ module Hbase
       end

       begin
-        response = VisibilityClient.setAuths(@config, auths.to_java(:string), user)
+        connection = @admin.getConnection()
+        response = VisibilityClient.setAuths(connection, auths.to_java(:string), user)
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; response.nil?
           raise(ArgumentError, &lt;span class=&quot;code-quote&quot;&gt;&quot;DISABLED: Visibility labels feature is not available&quot;&lt;/span&gt;)
         end
@@ -90,7 +92,8 @@ module Hbase
     def get_auths(user)
       lables_table_available?
       begin
-        response = VisibilityClient.getAuths(@config, user)
+        connection = @admin.getConnection()
+        response = VisibilityClient.getAuths(connection, user)
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; response.nil?
           raise(ArgumentError, &lt;span class=&quot;code-quote&quot;&gt;&quot;DISABLED: Visibility labels feature is not available&quot;&lt;/span&gt;)
         end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14524090" author="srikanth235" created="Fri, 1 May 2015 22:06:41 +0000"  >&lt;p&gt;Looks like TestShell didn&apos;t get exectued at all because of the unrelated test failures:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-1 core tests. The patch failed these unit tests:&lt;br/&gt;
org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;br/&gt;
org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry for this. +1 on addendum. Ted, do you me to push the addendum?&lt;/p&gt;</comment>
                            <comment id="14524098" author="yuzhihong@gmail.com" created="Fri, 1 May 2015 22:08:42 +0000"  >&lt;p&gt;Please&lt;/p&gt;</comment>
                            <comment id="14524227" author="srikanth235" created="Fri, 1 May 2015 22:55:50 +0000"  >&lt;p&gt;Changed couple more methods to use connection instead of conf. Tested the patch on local box. Pushed to master branch. Thanks Ted for noticing this.&lt;/p&gt;</comment>
                            <comment id="14524477" author="hudson" created="Sat, 2 May 2015 02:21:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6448 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6448/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6448/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13358&quot; title=&quot;Upgrade VisibilityClient API to accept Connection object.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13358&quot;&gt;&lt;del&gt;HBASE-13358&lt;/del&gt;&lt;/a&gt; Upgrade VisibilityClient API to accept Connection object. ANOTHER ADDENDUM - fix visibility label shell admin (ssrungarapu: rev 58689b4a0093a64873a400b4b3e355a7a730e73a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/visibility_labels.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14524505" author="anoop.hbase" created="Sat, 2 May 2015 03:04:26 +0000"  >&lt;p&gt;Actually a public API, when removing or changing, we have to deprecate it for a full major version.. Here we deprecate it in btw 1.x release lines..  It will be correct to deprecate in 2.0 also and remove in 3.0&lt;/p&gt;

&lt;p&gt;Sorry I missed that part in the last attachments.  I was thinking that the earlier versions were master versions.  But we made it such that those were 1.2 version and new one came in for master.&lt;br/&gt;
IMO , better we stick with our deprecation rule&lt;/p&gt;</comment>
                            <comment id="14524509" author="srikanth235" created="Sat, 2 May 2015 03:17:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Actually a public API, when removing or changing, we have to deprecate it for a full major version.. Here we deprecate it in btw 1.x release lines.. It will be correct to deprecate in 2.0 also and remove in 3.0&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Is this policy is ref guide? I missed this. Sorry for that.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;IMO , better we stick with our deprecation rule &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure. I pushed two addendums here. So reverting all of them would look a bit awkward. Instead, I would prefer opening a sub-task to bring them back. Would that be okay?&lt;/p&gt;</comment>
                            <comment id="14524610" author="anoop.hbase" created="Sat, 2 May 2015 04:25:33 +0000"  >&lt;p&gt;Perfect..&lt;/p&gt;

&lt;p&gt;Yes what I am considering is users who use 1.0.0 or 1.1.0 or so and when upgrade to 2.0.0 they don&apos;t have any notice of deprecation.  Instead if this was deprecated in 1.0.0 itself then with no fear we can remove from 2.x&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12729890" name="13358-addendum.txt" size="2301" author="srikanth235" created="Fri, 1 May 2015 22:55:50 +0000"/>
                            <attachment id="12729868" name="13358-addendum.txt" size="1460" author="yuzhihong@gmail.com" created="Fri, 1 May 2015 22:04:45 +0000"/>
                            <attachment id="12729696" name="HBASE-13358-1.2_v5.patch" size="60330" author="mwarhaftig" created="Fri, 1 May 2015 01:57:34 +0000"/>
                            <attachment id="12729697" name="HBASE-13358-master_v5.patch" size="58079" author="mwarhaftig" created="Fri, 1 May 2015 01:57:34 +0000"/>
                            <attachment id="12728241" name="HBASE-13358.patch" size="71295" author="mwarhaftig" created="Sun, 26 Apr 2015 15:59:46 +0000"/>
                            <attachment id="12728273" name="HBASE-13358_v2.patch" size="69753" author="mwarhaftig" created="Sun, 26 Apr 2015 22:11:24 +0000"/>
                            <attachment id="12729152" name="HBASE-13358_v3.patch" size="58814" author="mwarhaftig" created="Wed, 29 Apr 2015 12:30:36 +0000"/>
                            <attachment id="12729370" name="HBASE-13358_v4.patch" size="60234" author="mwarhaftig" created="Thu, 30 Apr 2015 01:31:32 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12827155">HBASE-13620</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 26 Apr 2015 15:59:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27i4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>