<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:24:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11617/HBASE-11617.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11617] incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP </title>
                <link>https://issues.apache.org/jira/browse/HBASE-11617</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;AgeOfLastAppliedOp in MetricsSink.java is to indicate the time an edit sat in the &apos;replication queue&apos; before it got replicated(aka applied)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

  /**
   * Set the age of the last applied operation
   *
   * @param timestamp The timestamp of the last operation applied.
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the age that was set
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; setAgeOfLastAppliedOp(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timestamp) {
    lastTimestampForAge = timestamp;
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; age = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() - lastTimestampForAge;
    rms.setGauge(SINK_AGE_OF_LAST_APPLIED_OP, age);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; age;
  } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the following scenario:&lt;br/&gt;
1) at 7:00am a sink op is applied, and the SINK_AGE_OF_LAST_APPLIED_OP is&lt;br/&gt;
set for example 100ms;&lt;br/&gt;
2) and then NO new Sink op occur.&lt;br/&gt;
3) when a refreshAgeOfLastAppliedOp() is invoked at 8:00am. Instead of&lt;br/&gt;
return the 100ms, the AgeOfLastAppliedOp become 1hour + 100ms, &lt;/p&gt;

&lt;p&gt;It was because that refreshAgeOfLastAppliedOp() get invoked periodically by getStats(). &lt;/p&gt;

&lt;p&gt;proposed fix: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--- hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSink.java
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSink.java
@@ -35,6 +35,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class MetricsSink {
 
   &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MetricsReplicationSource rms;
   &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; lastTimestampForAge = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis();
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; age = 0;
 
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MetricsSink() {
     rms = CompatibilitySingletonFactory.getInstance(MetricsReplicationSource.class);
@@ -47,8 +48,12 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class MetricsSink {
    * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the age that was set
    */
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; setAgeOfLastAppliedOp(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timestamp) {
-    lastTimestampForAge = timestamp;
-    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; age = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() - lastTimestampForAge;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (lastTimestampForAge != timestamp) {
+      lastTimestampForAge = timestamp;
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.age = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis() - lastTimestampForAge;
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.age = 0;
+    }
     rms.setGauge(SINK_AGE_OF_LAST_APPLIED_OP, age);
     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; age;
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;detail discussion in &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-dev/201407.mbox/%3CCAOEq2C5BKMXAM2Fv4LGVb_Ktek-Pm%3DhjOi33gSHX-2qHqAou6w%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;dev@hbase  &lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730854">HBASE-11617</key>
            <summary>incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nidmhbase">Demai Ni</assignee>
                                    <reporter username="nidmhbase">Demai Ni</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jul 2014 18:11:30 +0000</created>
                <updated>Sat, 21 Feb 2015 23:32:18 +0000</updated>
                            <resolved>Sat, 23 Aug 2014 16:47:54 +0000</resolved>
                                    <version>0.98.2</version>
                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.6</fixVersion>
                                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14079747" author="lhofhansl" created="Wed, 30 Jul 2014 18:44:53 +0000"  >&lt;p&gt;Can we just not refresh from getStats? That way the metric retains the value it was last set to by ReplicationSink.&lt;/p&gt;</comment>
                            <comment id="14079748" author="lhofhansl" created="Wed, 30 Jul 2014 18:45:22 +0000"  >&lt;p&gt;Also note &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11143&quot; title=&quot;Improve replication metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11143&quot;&gt;&lt;del&gt;HBASE-11143&lt;/del&gt;&lt;/a&gt; (my last comment), there&apos;s also a quick fix for agoOfLastShippedEdit that we should do.&lt;/p&gt;</comment>
                            <comment id="14079784" author="nidmhbase" created="Wed, 30 Jul 2014 19:05:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, thanks for confirming the problem.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Can we just not refresh from getStats? That way the metric retains the value it was last set to by ReplicationSink.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am not sure how to stop refresh getStats(), it is a public method, which can be invoke by other application. And it is also invoked by ReplicationStatisticsThread. Also the invocation won&apos;t pass in a parm to check whether a refresh is needed.  Suggestions? &lt;/p&gt;

&lt;p&gt; Demai&lt;/p&gt;</comment>
                            <comment id="14079818" author="nidmhbase" created="Wed, 30 Jul 2014 19:24:50 +0000"  >&lt;p&gt;actually, putting the checking in MetricsSink.refreshAgeOfLastAppliedOp() may be better? &lt;/p&gt;</comment>
                            <comment id="14079867" author="lhofhansl" created="Wed, 30 Jul 2014 20:00:34 +0000"  >&lt;p&gt;The problem is that getStats(), is called periodically to dump the replication metrics to the logs and it calls refreshAgeOfLastAppliedOp() (because there is not other way to get the metric&apos;s value).&lt;/p&gt;

&lt;p&gt;Your solution will work and is maybe the easiest to do. (you do not need to turn age into a member, though)&lt;/p&gt;</comment>
                            <comment id="14080012" author="nidmhbase" created="Wed, 30 Jul 2014 21:34:20 +0000"  >&lt;p&gt;upload the patch for both AgeOfLastAppliedOp and AgeOfLatShippedOp(from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBase-11143 &lt;/a&gt; )&lt;/p&gt;</comment>
                            <comment id="14080019" author="nidmhbase" created="Wed, 30 Jul 2014 21:37:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, would you please take a look at the patch, whether it matches your take? thanks  &lt;/p&gt;</comment>
                            <comment id="14080026" author="nidmhbase" created="Wed, 30 Jul 2014 21:40:44 +0000"  >&lt;p&gt;btw, with this patch, I am not sure what the purpose of  MetricsSink.refreshAgeOfLastAppliedOp() ? As it will be ignored and always return age = 0; &lt;/p&gt;</comment>
                            <comment id="14080161" author="hadoopqa" created="Wed, 30 Jul 2014 23:14:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12658745/HBASE-11617-master-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12658745/HBASE-11617-master-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12658745&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestIOFencing&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestRestartCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestEndToEndSplitTransaction&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestRegionReplicas&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestReplicasClient&lt;br/&gt;
                  org.apache.hadoop.hbase.migration.TestNamespaceUpgrade&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10233//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14080269" author="nidmhbase" created="Thu, 31 Jul 2014 00:11:36 +0000"  >&lt;p&gt;don&apos;t think the failed testcases are related with this patch. the same failures also show up in other jiras from recent testing&lt;/p&gt;</comment>
                            <comment id="14081151" author="lhofhansl" created="Thu, 31 Jul 2014 17:24:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;I am not sure what the purpose of MetricsSink.refreshAgeOfLastAppliedOp() &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Was just thinking that too... Lemme have a look again and double check. Otherwise looks good.&lt;/p&gt;</comment>
                            <comment id="14084901" author="apurtell" created="Mon, 4 Aug 2014 17:08:30 +0000"  >&lt;p&gt;You want to look at this today &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;? Otherwise moving out of .5.&lt;/p&gt;</comment>
                            <comment id="14085758" author="apurtell" created="Tue, 5 Aug 2014 04:06:01 +0000"  >&lt;p&gt;Moved to .6&lt;/p&gt;</comment>
                            <comment id="14085856" author="lhofhansl" created="Tue, 5 Aug 2014 06:11:26 +0000"  >&lt;p&gt;Sorry... Was occupied with another issue.&lt;/p&gt;</comment>
                            <comment id="14093561" author="apurtell" created="Tue, 12 Aug 2014 00:32:38 +0000"  >&lt;p&gt;Any chance for a look &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14104220" author="apurtell" created="Wed, 20 Aug 2014 17:55:09 +0000"  >&lt;p&gt;Planning to roll 0.98.6 RC0 on 8/31&lt;/p&gt;</comment>
                            <comment id="14107741" author="nidmhbase" created="Sat, 23 Aug 2014 00:09:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;, thanks for the ping&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, what&apos;s your take on this? maybe we can commit the current fix, and consider to remove .refreshAgeOfLastAppliedOp in a later refactoring effort? &lt;/p&gt;</comment>
                            <comment id="14107861" author="lhofhansl" created="Sat, 23 Aug 2014 04:57:42 +0000"  >&lt;p&gt;+1... Sorry it took me so long.&lt;/p&gt;</comment>
                            <comment id="14108051" author="apurtell" created="Sat, 23 Aug 2014 16:47:54 +0000"  >&lt;p&gt;Committed to 0.98+&lt;/p&gt;</comment>
                            <comment id="14108078" author="hudson" created="Sat, 23 Aug 2014 18:14:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5423 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5423/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11617&quot; title=&quot;incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11617&quot;&gt;&lt;del&gt;HBASE-11617&lt;/del&gt;&lt;/a&gt; incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP (Demai Ni) (apurtell: rev d281ffb1399c4172ada285fd8ff4ba7751084b6a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSink.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14108098" author="hudson" created="Sat, 23 Aug 2014 19:15:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #466 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/466/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/466/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11617&quot; title=&quot;incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11617&quot;&gt;&lt;del&gt;HBASE-11617&lt;/del&gt;&lt;/a&gt; incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP (Demai Ni) (apurtell: rev e390a2fc0a71442d7208f771b832a279cf6cee0f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14108108" author="hudson" created="Sat, 23 Aug 2014 19:38:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #439 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/439/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/439/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11617&quot; title=&quot;incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11617&quot;&gt;&lt;del&gt;HBASE-11617&lt;/del&gt;&lt;/a&gt; incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP (Demai Ni) (apurtell: rev e390a2fc0a71442d7208f771b832a279cf6cee0f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSink.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14108113" author="hudson" created="Sat, 23 Aug 2014 19:47:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #119 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/119/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11617&quot; title=&quot;incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11617&quot;&gt;&lt;del&gt;HBASE-11617&lt;/del&gt;&lt;/a&gt; incorrect AgeOfLastAppliedOp and AgeOfLastShippedOp in replication Metrics when no new replication OP (Demai Ni) (apurtell: rev 4ba7f67f8038345a1a3c78bf66f8fc81f76084f1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14108278" author="nidmhbase" created="Sun, 24 Aug 2014 05:53:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, many thanks for the review and committing the patch&lt;/p&gt;</comment>
                            <comment id="14330941" author="enis" created="Sat, 21 Feb 2015 23:32:18 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12713228">HBASE-11143</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12658745" name="HBASE-11617-master-v1.patch" size="1892" author="nidmhbase" created="Wed, 30 Jul 2014 21:34:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Jul 2014 18:44:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yczj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>