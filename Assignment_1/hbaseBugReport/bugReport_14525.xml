<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:53:57 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14525/HBASE-14525.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14525] Append and increment operation throws NullPointerException on non-existing column families.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14525</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When performing append operation on non-existing column families, NullPointerException is thrown in hbase shell as shown below:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hbase(main):007:0&amp;gt; append &apos;t1&apos;, &apos;r1&apos;, &apos;none:c1&apos;, &apos;123&apos;

ERROR: java.io.IOException
at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2175)
at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:106)
at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)
at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)
at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
at org.apache.hadoop.hbase.regionserver.HRegion.doGet(HRegion.java:6987)
at org.apache.hadoop.hbase.regionserver.HRegion.append(HRegion.java:7048)
at org.apache.hadoop.hbase.regionserver.RSRpcServices.append(RSRpcServices.java:580)
at org.apache.hadoop.hbase.regionserver.RSRpcServices.mutate(RSRpcServices.java:2206)
at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:32452)
at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2133)
... 4 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This seems to be caused by absence of check for valid family names as done in other operations like &apos;Put&apos; in HRegion.java&lt;/p&gt;</description>
                <environment></environment>
        <key id="12901591">HBASE-14525</key>
            <summary>Append and increment operation throws NullPointerException on non-existing column families.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="a72877">Abhishek Kumar</assignee>
                                    <reporter username="a72877">Abhishek Kumar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Sep 2015 13:15:14 +0000</created>
                <updated>Fri, 9 Oct 2015 19:33:11 +0000</updated>
                            <resolved>Fri, 9 Oct 2015 15:27:35 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14942947" author="anoop.hbase" created="Mon, 5 Oct 2015 05:33:30 +0000"  >&lt;p&gt;You have a patch?&lt;/p&gt;</comment>
                            <comment id="14943226" author="a72877" created="Mon, 5 Oct 2015 11:02:23 +0000"  >&lt;p&gt;patch attached for review, thanks.&lt;/p&gt;</comment>
                            <comment id="14944505" author="anoop.hbase" created="Tue, 6 Oct 2015 04:53:54 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
7022	              checkFamily(family.getKey());
7023	            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NoSuchColumnFamilyException e) {
7024	              LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unknown column family in append operation&quot;&lt;/span&gt;, e);
7025	              &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
7026	            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So we will just log the invalid cf and continue with others?  IMO we can do same was as put(Put).. Pls see that. When any invalid CF is part of the Mutation, it will throw Exception and fail the op.&lt;/p&gt;</comment>
                            <comment id="14944586" author="a72877" created="Tue, 6 Oct 2015 06:49:28 +0000"  >&lt;p&gt;yes, put ops fails for invalid column family, thanks for pointing this out, updated patch attached for review. &lt;/p&gt;</comment>
                            <comment id="14944852" author="anoop.hbase" created="Tue, 6 Oct 2015 10:26:40 +0000"  >&lt;p&gt;Patch LGTM&lt;/p&gt;</comment>
                            <comment id="14945049" author="hadoopqa" created="Tue, 6 Oct 2015 13:50:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12765143/HBASE-14525-V1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12765143/HBASE-14525-V1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ed4c734b15c83b7f6b8ec1d170abccae9de1b193.&lt;br/&gt;
  ATTACHMENT ID: 12765143&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.ambari.server.upgrade.UpgradeCatalog211Test.testExecuteDDLUpdates(UpgradeCatalog211Test.java:73)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15883//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14950558" author="anoop.hbase" created="Fri, 9 Oct 2015 15:27:35 +0000"  >&lt;p&gt;Pushed to branch-1 and master.  Not committing to patch branches as it is a minor one. Let me know if u think otherwise.&lt;br/&gt;
Thanks for the patch Abhishek.&lt;/p&gt;</comment>
                            <comment id="14950903" author="hudson" created="Fri, 9 Oct 2015 18:12:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #221 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/221/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/221/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14525&quot; title=&quot;Append and increment operation throws NullPointerException on non-existing column families.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14525&quot;&gt;&lt;del&gt;HBASE-14525&lt;/del&gt;&lt;/a&gt; Append and increment operation throws NullPointerException (anoopsamjohn: rev ced679423084c208fa1e09723d5f61c5cab52408)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestAtomicOperation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14951065" author="hudson" created="Fri, 9 Oct 2015 19:29:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6890 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6890/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6890/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14525&quot; title=&quot;Append and increment operation throws NullPointerException on non-existing column families.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14525&quot;&gt;&lt;del&gt;HBASE-14525&lt;/del&gt;&lt;/a&gt; Append and increment operation throws NullPointerException (anoopsamjohn: rev 79607bd9f821618e25baea53a625aec1d7985bd8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestAtomicOperation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14951071" author="hudson" created="Fri, 9 Oct 2015 19:33:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #247 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/247/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/247/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14525&quot; title=&quot;Append and increment operation throws NullPointerException on non-existing column families.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14525&quot;&gt;&lt;del&gt;HBASE-14525&lt;/del&gt;&lt;/a&gt; Append and increment operation throws NullPointerException (anoopsamjohn: rev ced679423084c208fa1e09723d5f61c5cab52408)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestAtomicOperation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12765143" name="HBASE-14525-V1.patch" size="3819" author="a72877" created="Tue, 6 Oct 2015 06:49:28 +0000"/>
                            <attachment id="12764992" name="HBASE-14525.patch" size="4004" author="a72877" created="Mon, 5 Oct 2015 11:02:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Oct 2015 05:33:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mgf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>