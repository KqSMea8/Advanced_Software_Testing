<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:41:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7009/HBASE-7009.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7009] Port HBaseCluster interface/tests to 0.94</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7009</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Need to port. I am porting V5 patch from the original JIRA; I have a partially ported (V3) patch from Enis with protocol buffers being reverted to HRegionInterface/HMasterInterface&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612451">HBASE-7009</key>
            <summary>Port HBaseCluster interface/tests to 0.94</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12560281">HBASE-6201</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 16:57:16 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                            <resolved>Wed, 21 Nov 2012 07:36:51 +0000</resolved>
                                    <version>0.94.3</version>
                                    <fixVersion>0.94.4</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13479252" author="sershe" created="Thu, 18 Oct 2012 19:02:50 +0000"  >&lt;p&gt;V1. Haven&apos;t run actual integration tests yet.&lt;/p&gt;</comment>
                            <comment id="13479299" author="hadoopqa" created="Thu, 18 Oct 2012 19:44:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12549733/HBASE-7009.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12549733/HBASE-7009.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 70 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3079//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3079//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13479327" author="sershe" created="Thu, 18 Oct 2012 20:26:22 +0000"  >&lt;p&gt;For some reason git won&apos;t apply --no-prefix patch w/-p0 for me, but applies prefixed patch with -p1 just right. &lt;/p&gt;</comment>
                            <comment id="13479331" author="hadoopqa" created="Thu, 18 Oct 2012 20:32:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12549747/HBASE-7009-p1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12549747/HBASE-7009-p1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 70 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3081//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3081//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13479497" author="stack" created="Thu, 18 Oct 2012 23:50:45 +0000"  >&lt;p&gt;This is probably not a good change for the third point release on 0.94:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-  exec &lt;span class=&quot;code-quote&quot;&gt;&quot;$JAVA&quot;&lt;/span&gt; -XX:OnOutOfMemoryError=&lt;span class=&quot;code-quote&quot;&gt;&quot;kill -9 %p&quot;&lt;/span&gt; $JAVA_HEAP_MAX $HBASE_OPTS -classpath &lt;span class=&quot;code-quote&quot;&gt;&quot;$CLASSPATH&quot;&lt;/span&gt; $CLASS &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
+  exec &lt;span class=&quot;code-quote&quot;&gt;&quot;$JAVA&quot;&lt;/span&gt; -Dproc_$COMMAND -XX:OnOutOfMemoryError=&lt;span class=&quot;code-quote&quot;&gt;&quot;kill -9 %p&quot;&lt;/span&gt; $JAVA_HEAP_MAX $HBASE_OPTS -classpath &lt;span class=&quot;code-quote&quot;&gt;&quot;$CLASSPATH&quot;&lt;/span&gt; $CLASS &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do you need the above getting the tests into 0.94?  It could be a little disturbing to folks having their process listing different across a point release.&lt;/p&gt;

&lt;p&gt;You fellas using this stuff now?  It is kind of a new feature.   Is it really needed back in 0.94?  (It is also a large patch which would usually be a mark against our backporting it but its nearly all test code so to my mind it gets a free pass)&lt;/p&gt;

&lt;p&gt;Otherwise, on quick review, patch looks good... I don&apos;t see conflict other than that noted above.&lt;/p&gt;
</comment>
                            <comment id="13479610" author="enis" created="Fri, 19 Oct 2012 04:55:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you need the above getting the tests into 0.94? It could be a little disturbing to folks having their process listing different across a point release.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. We can live without the changes to command line.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;You fellas using this stuff now? It is kind of a new feature. Is it really needed back in 0.94&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The reason I want this backport is because it will help stabilize 0.94 further. As this is test only, and mostly new stuff, there is little risk. At the meetup, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; also suggested we backport. &lt;br/&gt;
We are planning on converting a couple more tests, and add some more. We are planning on deploying these tests.&lt;/p&gt;</comment>
                            <comment id="13479616" author="stack" created="Fri, 19 Oct 2012 05:08:53 +0000"  >&lt;p&gt;I would be +1 on backporting to 0.94 if you can remove the process renaming (This was the only &apos;incompatible&apos; change I saw in the patch).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; Ol&apos; Iron Hand, what you think of this one?  You good w/ it going in Mr. RM?&lt;/p&gt;</comment>
                            <comment id="13479623" author="lhofhansl" created="Fri, 19 Oct 2012 05:22:32 +0000"  >&lt;p&gt;This is a massive patch, but mostly new code, and almost all test code.&lt;br/&gt;
I didn&apos;t look at the new code (I&apos;ll trust you guys that it works), and only browsed the changed code, looks all reasonable.&lt;/p&gt;

&lt;p&gt;So let&apos;s backport this, and make 0.94 rock solid.&lt;/p&gt;

&lt;p&gt;(And Enis, one of these days you have to show how you deploy/run your nightlies against a real cluster.)&lt;/p&gt;</comment>
                            <comment id="13480164" author="sershe" created="Fri, 19 Oct 2012 17:41:09 +0000"  >&lt;p&gt;Fixing as per comment, also moving some pom.xml changes. Uninitialized variable used in test excludes causes failsafe to fail.&lt;/p&gt;</comment>
                            <comment id="13480166" author="hadoopqa" created="Fri, 19 Oct 2012 17:42:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12550013/HBASE-7009-v2-squashed.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12550013/HBASE-7009-v2-squashed.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 71 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3090//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3090//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13481684" author="apurtell" created="Mon, 22 Oct 2012 19:21:22 +0000"  >&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; points out I did +1 this at the meetup. While it is a fat patch, it is all test code, not functional changes, and we sorely need such test code. &lt;/p&gt;

&lt;p&gt;Also +1 on an addition to the book that explains how to run nightlies with this framework with 0.94. I want to start doing this. &lt;/p&gt;</comment>
                            <comment id="13481707" author="stack" created="Mon, 22 Oct 2012 19:37:37 +0000"  >&lt;p&gt;The doc issue is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6302&quot; title=&quot;Document how to run integration tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6302&quot;&gt;&lt;del&gt;HBASE-6302&lt;/del&gt;&lt;/a&gt;	&lt;/p&gt;</comment>
                            <comment id="13482990" author="lhofhansl" created="Wed, 24 Oct 2012 05:30:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Feel free to commit to 0.94 if you&apos;re satisfied with the patch. +1&lt;/p&gt;</comment>
                            <comment id="13489941" author="lhofhansl" created="Sat, 3 Nov 2012 06:20:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Wanna commit to 0.94.3? If not, that&apos;s fine and I&apos;ll move it to 0.94.4 for next month.&lt;/p&gt;</comment>
                            <comment id="13490788" author="lhofhansl" created="Mon, 5 Nov 2012 18:18:08 +0000"  >&lt;p&gt;Moving to 0.94.4 so I get a clean slate for the RC, please pull back if you commit this in time for 0.94.3.&lt;/p&gt;</comment>
                            <comment id="13490922" author="enis" created="Mon, 5 Nov 2012 21:00:37 +0000"  >&lt;p&gt;Let me commit this one for 0.94.3. I am testing it on an actual cluster now. &lt;/p&gt;</comment>
                            <comment id="13490942" author="jxiang" created="Mon, 5 Nov 2012 21:28:09 +0000"  >&lt;p&gt;Is the patch backward compatible?  Function getClientProtocol seems to be new.&lt;/p&gt;</comment>
                            <comment id="13491055" author="sershe" created="Mon, 5 Nov 2012 23:57:58 +0000"  >&lt;p&gt;I checked, it looks like it can be removed&lt;/p&gt;</comment>
                            <comment id="13491099" author="enis" created="Tue, 6 Nov 2012 00:51:04 +0000"  >&lt;p&gt;@Jimmy, are you referring to MiniHBaseCluster.getClientProtocol(). Is there any reason, why adding this would break BC? &lt;/p&gt;

&lt;p&gt;Tested the patch: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[root@ip-10-191-190-58 hbase]# bin/hbase org.apache.hadoop.hbase.util.ChaosMonkey 
12/11/05 19:13:37 INFO util.ChaosMonkey: Sleeping &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 17573 to add jitter
12/11/05 19:13:55 INFO util.ChaosMonkey: Performing action: Restart random region server
12/11/05 19:13:55 INFO util.ChaosMonkey: Killing region server:ip-10-72-242-62.ec2.internal,60020,1352160397949
12/11/05 19:13:55 INFO hbase.HBaseCluster: Aborting RS: ip-10-72-242-62.ec2.internal,60020,1352160397949
12/11/05 19:13:55 INFO hbase.ClusterManager: Executing remote command: ps aux | grep regionserver | grep -v grep | tr -s &apos; &apos; | cut -d &apos; &apos; -f2 | xargs kill -s SIGKILL , hostname:ip-10-72-242-62.ec2.internal
12/11/05 19:13:55 INFO hbase.ClusterManager: Executed remote command, exit code:0 , output:
12/11/05 19:13:55 INFO hbase.HBaseCluster: Waiting service:regionserver to stop: ip-10-72-242-62.ec2.internal,60020,1352160397949
12/11/05 19:13:55 INFO hbase.ClusterManager: Executing remote command: ps aux | grep regionserver | grep -v grep | tr -s &apos; &apos; | cut -d &apos; &apos; -f2 , hostname:ip-10-72-242-62.ec2.internal
12/11/05 19:13:55 INFO hbase.ClusterManager: Executed remote command, exit code:0 , output:
12/11/05 19:13:55 INFO util.ChaosMonkey: Killed region server:ip-10-72-242-62.ec2.internal,60020,1352160397949. Reported num of rs:2
12/11/05 19:13:55 INFO util.ChaosMonkey: Sleeping &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;:5000
12/11/05 19:14:00 INFO util.ChaosMonkey: Starting region server:ip-10-72-242-62.ec2.internal
12/11/05 19:14:00 INFO hbase.HBaseCluster: Starting RS on: ip-10-72-242-62.ec2.internal
12/11/05 19:14:00 INFO hbase.ClusterManager: Executing remote command: /root/hbase/bin/../bin/hbase-daemon.sh --config /root/hbase/bin/../conf start regionserver , hostname:ip-10-72-242-62.ec2.internal
12/11/05 19:14:02 INFO hbase.ClusterManager: Executed remote command, exit code:0 , output:starting regionserver, logging to /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/log/hbase/hbase-root-regionserver-ip-10-72-242-62.out

12/11/05 19:14:02 INFO util.ChaosMonkey: Started region server:ip-10-72-242-62.ec2.internal,60020,1352160397949. Reported num of rs:2
....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only problem is when master is restarted, HConnection does not seem to pick up the new master:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
12/11/05 19:26:00 INFO util.ChaosMonkey: Killed master server:ip-10-191-190-58.ec2.internal,60000,1352160574752
12/11/05 19:26:00 INFO util.ChaosMonkey: Sleeping &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;:5000
12/11/05 19:26:05 INFO util.ChaosMonkey: Starting master:ip-10-191-190-58.ec2.internal
12/11/05 19:26:05 INFO hbase.HBaseCluster: Starting Master on: ip-10-191-190-58.ec2.internal
12/11/05 19:26:05 INFO hbase.ClusterManager: Executing remote command: /root/hbase/bin/../bin/hbase-daemon.sh --config /root/hbase/bin/../conf start master , hostname:ip-10-191-190-58.ec2.internal
12/11/05 19:26:06 INFO hbase.ClusterManager: Executed remote command, exit code:0 , output:starting master, logging to /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/log/hbase/hbase-root-master-ip-10-191-190-58.out

12/11/05 19:26:06 INFO client.HConnectionManager$HConnectionImplementation: Exception contacting master. Retrying...
java.io.IOException: Call to ip-10-191-190-58.ec2.internal/10.191.190.58:60000 failed on local exception: java.io.EOFException
12/11/05 19:27:06 WARN hbase.HBaseCluster: Master not started yet org.apache.hadoop.hbase.MasterNotRunningException
12/11/05 19:27:07 INFO util.ChaosMonkey: Started master: ip-10-191-190-58.ec2.internal,60000,1352160574752
12/11/05 19:27:07 INFO util.ChaosMonkey: Performing action: Batch restarting 50% of region servers
12/11/05 19:27:07 WARN util.ChaosMonkey: Exception occured during performing action: org.apache.hadoop.hbase.MasterNotRunningException
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:713)
	at org.apache.hadoop.hbase.client.HBaseAdmin.getMaster(HBaseAdmin.java:213)
	at org.apache.hadoop.hbase.client.HBaseAdmin.getClusterStatus(HBaseAdmin.java:1632)
	at org.apache.hadoop.hbase.DistributedHBaseCluster.getClusterStatus(DistributedHBaseCluster.java:68)
	at org.apache.hadoop.hbase.util.ChaosMonkey$Action.getCurrentServers(ChaosMonkey.java:141)
	at org.apache.hadoop.hbase.util.ChaosMonkey$BatchRestartRs.perform(ChaosMonkey.java:277)
	at org.apache.hadoop.hbase.util.ChaosMonkey$PeriodicRandomActionPolicy.run(ChaosMonkey.java:393)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not sure whether there is a problem in the backported patch, or in 0.94.3 itself. Investigating now. &lt;/p&gt;</comment>
                            <comment id="13491100" author="enis" created="Tue, 6 Nov 2012 00:59:22 +0000"  >&lt;p&gt;@Sergey, can you please make HBaseClusterManager.getExecString() public. We have to backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6834&quot; title=&quot;HBaseClusterManager shell code breaks hadoop-2.0 build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6834&quot;&gt;&lt;del&gt;HBASE-6834&lt;/del&gt;&lt;/a&gt; as well. &lt;/p&gt;
</comment>
                            <comment id="13491103" author="jxiang" created="Tue, 6 Nov 2012 01:08:08 +0000"  >&lt;p&gt;@Enis, I was just wondering if it breaks the backward compatibility. I have not read the patch in detail.  It sounds to me to be some new feature.  Function DistributedHBaseCluster#getClientProtocol and getMasterAdmin are used for testing only, seems to be fine?&lt;/p&gt;

&lt;p&gt;If you are sure it&apos;s compatible with previous 0.94 release (for example 0.94.2), old client new server, new client old server, old server and new server, it is fine with me.&lt;/p&gt;</comment>
                            <comment id="13491110" author="enis" created="Tue, 6 Nov 2012 01:30:56 +0000"  >&lt;p&gt;There seems to be a real issue here after master restart. It seems that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt; changed to not refresh the master if it is a managed HConnectionImplementation (see #getMaster()). It seems to be the case that is this is a managed connection, this.masterChecked will be true, and the master address will not be updated for the same connection instance even after the master is restarted. After the new master comes up, you would still get MasterNotRunningException()&apos;s. &lt;/p&gt;

&lt;p&gt;I am not fully familiar with the code path, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, can you please verify? &lt;/p&gt;</comment>
                            <comment id="13491130" author="enis" created="Tue, 6 Nov 2012 02:23:08 +0000"  >&lt;p&gt;In HBaseAdmin:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(Configuration c)
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ( &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; ){
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection.getMaster();
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (MasterNotRunningException mnre) {
        HConnectionManager.deleteStaleConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection);
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection = HConnectionManager.getConnection(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;HBaseAdmin deletes the stale connection by catching MNRE. We can definitely do the same in DistHBaseCluster, but it seems that even for HBaseAdmin, you have to recreate the object in master failover. I guess this is not something we want. &lt;/p&gt;</comment>
                            <comment id="13491163" author="lhofhansl" created="Tue, 6 Nov 2012 03:00:33 +0000"  >&lt;p&gt;This should be fixed with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; in 0.94.2.&lt;/p&gt;</comment>
                            <comment id="13491167" author="sershe" created="Tue, 6 Nov 2012 03:02:52 +0000"  >&lt;p&gt;the integration test runner doesn&apos;t actually work out of the box on a cluster because the test class finder relies on there being .class files in the physical path. I will update the patch when I fix this&lt;/p&gt;</comment>
                            <comment id="13491175" author="enis" created="Tue, 6 Nov 2012 03:25:29 +0000"  >&lt;p&gt;Thanks Lars, did not see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt;. However, I have run this with the tip of 0.94, so it should include that patch.&lt;br/&gt;
I think there is still a problem in this case: &lt;br/&gt;
master is stopped, first call to getMaster() reports &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
12/11/05 19:26:06 INFO client.HConnectionManager$HConnectionImplementation: Exception contacting master. Retrying...
java.io.IOException: Call to ip-10-191-190-58.ec2.internal/10.191.190.58:60000 failed on local exception: java.io.EOFException
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and it will fall through and throw MNRE in line #713. However, in this first call, we already set this.masterChecked to true, so all the subsequent calls will not enter the for loop, thus master is not refreshed.&lt;/p&gt;</comment>
                            <comment id="13491196" author="lhofhansl" created="Tue, 6 Nov 2012 04:06:13 +0000"  >&lt;p&gt;I do not think that ever worked correctly. Note that before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt; masterChecked was always set to true. That patch there just maintained that behavior.&lt;br/&gt;
Looking at the code I actually do not quite understand what masterChecked is supposed to prevent against... Repeatedly checking the master if the master is actually down?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt; fixes that for unmanaged connections (those created directly and not indirectly through an HTable).&lt;/p&gt;

&lt;p&gt;I think we can just remove that masterChecked logic. But, I do not want to touch that code on short notice (not for 0.94.3). In the past this code has proven to be extremely fragile.&lt;/p&gt;</comment>
                            <comment id="13491198" author="lhofhansl" created="Tue, 6 Nov 2012 04:12:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Let&apos;s give this until 0.94.4 to stabilize, unless you &lt;b&gt;really&lt;/b&gt; want this in 0.94.3. I promise there will be a 0.94.4.&lt;/p&gt;

&lt;p&gt;Edit: Oops, wrong Sergey.&lt;/p&gt;</comment>
                            <comment id="13491216" author="enis" created="Tue, 6 Nov 2012 05:18:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looking at the code I actually do not quite understand what masterChecked is supposed to prevent against... Repeatedly checking the master if the master is actually down?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Same here. From the comment, it seems to keep a BC behavior, but it is not clear why we might not want to update from MasterAddressTracker. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Let&apos;s give this until 0.94.4 to stabilize, unless you really want this in 0.94.3. I promise there will be a 0.94.4.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. &lt;/p&gt;</comment>
                            <comment id="13491916" author="sershe" created="Tue, 6 Nov 2012 22:48:33 +0000"  >&lt;p&gt;added proper class finder that seems to work with jars, refactor code out of a test class into separate classes&lt;/p&gt;</comment>
                            <comment id="13491985" author="hadoopqa" created="Wed, 7 Nov 2012 00:33:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12552357/HBASE-7009-v3-squashed.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12552357/HBASE-7009-v3-squashed.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 75 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3240//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3240//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13499251" author="enis" created="Fri, 16 Nov 2012 23:46:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7170&quot; title=&quot;[0.94 branch] Allow HConnectionImplementation to reconnect to master multiple times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7170&quot;&gt;&lt;del&gt;HBASE-7170&lt;/del&gt;&lt;/a&gt; fixes the master reconnection issue.&lt;/p&gt;</comment>
                            <comment id="13500525" author="stack" created="Mon, 19 Nov 2012 19:26:12 +0000"  >&lt;p&gt;So, is this good to go then lads?&lt;/p&gt;</comment>
                            <comment id="13500744" author="enis" created="Tue, 20 Nov 2012 00:13:38 +0000"  >&lt;p&gt;This patch backports both &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6241&quot; title=&quot;HBaseCluster interface for interacting with the cluster from system tests &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6241&quot;&gt;&lt;del&gt;HBASE-6241&lt;/del&gt;&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7109&quot; title=&quot;integration tests on cluster are not getting picked up from distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7109&quot;&gt;&lt;del&gt;HBASE-7109&lt;/del&gt;&lt;/a&gt;. Thus have to commit &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7109&quot; title=&quot;integration tests on cluster are not getting picked up from distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7109&quot;&gt;&lt;del&gt;HBASE-7109&lt;/del&gt;&lt;/a&gt; before this. &lt;/p&gt;</comment>
                            <comment id="13501373" author="sershe" created="Tue, 20 Nov 2012 18:47:56 +0000"  >&lt;p&gt;I am going to remove the backport of 7109 from the patch (it was started here but review in 7109 resulted in changes, so it&apos;s easier to commit them separately, 7109 in 7109 and 6241 here).&lt;/p&gt;</comment>
                            <comment id="13501429" author="hadoopqa" created="Tue, 20 Nov 2012 20:03:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12554396/HBASE-7009-v3-wo-classfinder.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12554396/HBASE-7009-v3-wo-classfinder.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 71 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3376//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3376//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13501437" author="hadoopqa" created="Tue, 20 Nov 2012 20:14:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12554396/HBASE-7009-v3-wo-classfinder.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12554396/HBASE-7009-v3-wo-classfinder.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 71 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3377//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3377//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13501738" author="enis" created="Wed, 21 Nov 2012 07:36:51 +0000"  >&lt;p&gt;Committed this (v3-wo-classfinder patch). Thanks Sergey for the backport. &lt;/p&gt;</comment>
                            <comment id="13501795" author="hudson" created="Wed, 21 Nov 2012 09:16:22 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #600 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/600/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/600/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7009&quot; title=&quot;Port HBaseCluster interface/tests to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7009&quot;&gt;&lt;del&gt;HBASE-7009&lt;/del&gt;&lt;/a&gt; Port HBaseCluster interface/tests to 0.94 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6241&quot; title=&quot;HBaseCluster interface for interacting with the cluster from system tests &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6241&quot;&gt;&lt;del&gt;HBASE-6241&lt;/del&gt;&lt;/a&gt;) (Revision 1411998)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestDataIngestWithChaosMonkey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/LargeTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/MediumTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/SmallTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestCheckTestClasses.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestExactCounterMetric.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestExponentiallyDecayingSample.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestMetricsHistogram.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestRSKilledWhenMasterInitializing.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/ChaosMonkey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/RestartMetaTest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/StoppableImplementation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13502296" author="lhofhansl" created="Wed, 21 Nov 2012 20:39:22 +0000"  >&lt;p&gt;Hurrah &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13529448" author="hudson" created="Tue, 11 Dec 2012 23:08:27 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #86 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/86/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/86/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7009&quot; title=&quot;Port HBaseCluster interface/tests to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7009&quot;&gt;&lt;del&gt;HBASE-7009&lt;/del&gt;&lt;/a&gt; Port HBaseCluster interface/tests to 0.94 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6241&quot; title=&quot;HBaseCluster interface for interacting with the cluster from system tests &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6241&quot;&gt;&lt;del&gt;HBASE-6241&lt;/del&gt;&lt;/a&gt;) (Revision 1411998)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestDataIngestWithChaosMonkey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/LargeTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/MediumTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/SmallTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestCheckTestClasses.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestExactCounterMetric.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestExponentiallyDecayingSample.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestMetricsHistogram.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestRSKilledWhenMasterInitializing.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/ChaosMonkey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/RestartMetaTest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/StoppableImplementation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13544411" author="hudson" created="Sat, 5 Jan 2013 00:42:25 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #10 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7009&quot; title=&quot;Port HBaseCluster interface/tests to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7009&quot;&gt;&lt;del&gt;HBASE-7009&lt;/del&gt;&lt;/a&gt; Port HBaseCluster interface/tests to 0.94 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6241&quot; title=&quot;HBaseCluster interface for interacting with the cluster from system tests &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6241&quot;&gt;&lt;del&gt;HBASE-6241&lt;/del&gt;&lt;/a&gt;) (Revision 1411998)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ClusterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/DistributedHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestDataIngestWithChaosMonkey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/IntegrationTestsDriver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/LargeTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/MediumTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/SmallTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestCheckTestClasses.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestExactCounterMetric.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestExponentiallyDecayingSample.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/metrics/TestMetricsHistogram.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestMXBean.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestRSKilledWhenMasterInitializing.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/ChaosMonkey.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/RestartMetaTest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/util/StoppableImplementation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12595189">HBASE-6241</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12615047">HBASE-7109</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12616329">HBASE-7170</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12615047">HBASE-7109</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12625321">HBASE-7441</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549747" name="HBASE-7009-p1.patch" size="109147" author="sershe" created="Thu, 18 Oct 2012 20:26:22 +0000"/>
                            <attachment id="12550013" name="HBASE-7009-v2-squashed.patch" size="109290" author="sershe" created="Fri, 19 Oct 2012 17:41:09 +0000"/>
                            <attachment id="12552357" name="HBASE-7009-v3-squashed.patch" size="116955" author="sershe" created="Tue, 6 Nov 2012 22:48:33 +0000"/>
                            <attachment id="12554396" name="HBASE-7009-v3-wo-classfinder.patch" size="108749" author="sershe" created="Tue, 20 Nov 2012 19:57:46 +0000"/>
                            <attachment id="12549733" name="HBASE-7009.patch" size="108924" author="sershe" created="Thu, 18 Oct 2012 19:02:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Oct 2012 19:44:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aftj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Adds an Integration Test facilty that is run by invoking &amp;#39;mvn verify&amp;#39;.  It can run the same test on a minihbasecluster and also on an already distributed cluster.  Adds a ChaosMonkey too.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>