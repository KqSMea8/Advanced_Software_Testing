<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:39:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13065/HBASE-13065.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13065] Increasing -Xmx when running TestDistributedLogSplitting</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13065</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Found this in PreCommit Build reports&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12885/artifact/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.master.TestDistributedLogSplitting-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12885/artifact/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.master.TestDistributedLogSplitting-output.txt&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-02-18 03:45:42,141 WARN  [RS:4;asf901:41265] util.Sleeper(97): We slept 59018ms instead of 1000ms, this is likely due to a long garbage collecting pause and it&apos;s usually bad, see http://hbase.apache.org/book.html#trouble.rs.runtime.zkexpired
2015-02-18 03:45:26,750 WARN  [JvmPauseMonitor] util.JvmPauseMonitor$Monitor(167): Detected pause in JVM or host machine (eg GC): pause of approximately 39767ms
GC pool &apos;PS MarkSweep&apos; had collection(s): count=65 time=47720ms
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe we should increase the max heap size since this test starts 6 regionservers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12775898">HBASE-13065</key>
            <summary>Increasing -Xmx when running TestDistributedLogSplitting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Apache9">Duo Zhang</assignee>
                                    <reporter username="Apache9">Duo Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Feb 2015 16:08:32 +0000</created>
                <updated>Tue, 28 Apr 2015 19:18:56 +0000</updated>
                            <resolved>Wed, 18 Feb 2015 17:50:21 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                    <fixVersion>0.98.11</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14326110" author="stack" created="Wed, 18 Feb 2015 16:12:07 +0000"  >&lt;p&gt;Lets try. I changed it from 3100 to 6100 &apos;export MAVEN_OPTS=&quot;-Xmx6100M -XX:-UsePerfData&quot;&apos;&lt;/p&gt;</comment>
                            <comment id="14326135" author="apache9" created="Wed, 18 Feb 2015 16:26:22 +0000"  >&lt;blockquote&gt;
&lt;p&gt;export MAVEN_OPTS=&quot;-Xmx6100M -XX:-UsePerfData&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Oh, is this a jenkins config? In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12953&quot; title=&quot;RegionServer is not functionally working with AysncRpcClient in secure mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12953&quot;&gt;&lt;del&gt;HBASE-12953&lt;/del&gt;&lt;/a&gt; I modified pom.xml in patch v4 and seems TestDistributedLogSplitting passed.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;surefire.Xmx&amp;gt;1900m&amp;lt;/surefire.Xmx&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I changed it to 2500m.&lt;/p&gt;</comment>
                            <comment id="14326257" author="stack" created="Wed, 18 Feb 2015 17:50:22 +0000"  >&lt;p&gt;Lets do that too &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Apache9&quot; class=&quot;user-hover&quot; rel=&quot;Apache9&quot;&gt;Duo Zhang&lt;/a&gt; I pushed a pom change setting mx to 2800 in 0.98+&lt;/p&gt;

&lt;p&gt;Resolving. Lets open new issue if still failing.&lt;/p&gt;

&lt;p&gt;Thanks for digging in here &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Apache9&quot; class=&quot;user-hover&quot; rel=&quot;Apache9&quot;&gt;Duo Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14326281" author="hudson" created="Wed, 18 Feb 2015 18:06:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6146 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6146/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6146/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt; Increasing -Xmx when running TestDistributedLogSplitting (Zhang Duo) (stack: rev 1b84101fe36bbe71d9c0e9833dd40a8460aef28d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326301" author="hudson" created="Wed, 18 Feb 2015 18:19:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #818 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/818/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/818/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt; Increasing -Xmx when running TestDistributedLogSplitting (Zhang Duo) (stack: rev aa7f7c53d4c9a4758665532dd069cf1c76f28926)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326319" author="hudson" created="Wed, 18 Feb 2015 18:28:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #860 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/860/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/860/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt; Increasing -Xmx when running TestDistributedLogSplitting (Zhang Duo) (stack: rev aa7f7c53d4c9a4758665532dd069cf1c76f28926)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326341" author="devaraj" created="Wed, 18 Feb 2015 18:39:30 +0000"  >&lt;p&gt;This broke branch-1 build. &lt;/p&gt;</comment>
                            <comment id="14326359" author="hudson" created="Wed, 18 Feb 2015 18:45:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #195 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/195/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt; Increasing -Xmx when running TestDistributedLogSplitting (Zhang Duo) (stack: rev 8afb80bc0bcbd04678728a1de8add891e44bf072)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326372" author="stack" created="Wed, 18 Feb 2015 18:49:52 +0000"  >&lt;p&gt;Thanks for cleaning up my mess &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; You getting all branches (You are ahead of me when I try to fix it)&lt;/p&gt;</comment>
                            <comment id="14326373" author="devaraj" created="Wed, 18 Feb 2015 18:51:56 +0000"  >&lt;p&gt;Pushed this trivial patch to all branches... &lt;/p&gt;</comment>
                            <comment id="14326375" author="devaraj" created="Wed, 18 Feb 2015 18:53:19 +0000"  >&lt;p&gt;Yes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, I think I covered all branches.&lt;/p&gt;</comment>
                            <comment id="14326376" author="stack" created="Wed, 18 Feb 2015 18:54:28 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14326482" author="hudson" created="Wed, 18 Feb 2015 20:09:39 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #758 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/758/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/758/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt; Increasing -Xmx when running TestDistributedLogSplitting (Zhang Duo) (stack: rev a58ff8c6f815a841a857e1d567ce2d7831d85bdd)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt;. Addendum. Fixes the heapsize used to run the unit tests (ddas: rev 53a1154c4ea2fb2878f7dcf83061b285bc95d341)&lt;/li&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326522" author="hudson" created="Wed, 18 Feb 2015 20:42:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #196 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/196/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/196/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt;. Addendum. Fixes the heapsize used to run the unit tests (ddas: rev eb1f46f2b88812222526a236d455c3bb90b0ebeb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326529" author="hudson" created="Wed, 18 Feb 2015 20:44:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6147 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6147/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6147/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt;. Addendum. Fixes the heapsize used to run the unit tests (ddas: rev 0740ec655705c9381a0b8483cb8c5331272dcdd9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326612" author="hudson" created="Wed, 18 Feb 2015 21:51:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #861 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/861/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/861/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt;. Addendum. Fixes the heapsize used to run the unit tests (ddas: rev f83c67c6d1ff0c1c15586b538e5c1e7a80f32b27)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14326751" author="hudson" created="Wed, 18 Feb 2015 23:44:27 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #819 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/819/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/819/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13065&quot; title=&quot;Increasing -Xmx when running TestDistributedLogSplitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13065&quot;&gt;&lt;del&gt;HBASE-13065&lt;/del&gt;&lt;/a&gt;. Addendum. Fixes the heapsize used to run the unit tests (ddas: rev f83c67c6d1ff0c1c15586b538e5c1e7a80f32b27)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330016" author="apache9" created="Sat, 21 Feb 2015 05:55:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Seems HBase-TRUNK jenkins is running on a 32bit machine? So there are only 4GB address space. We increase heap from 1900m to 2800m, then there is much less address space for native memory.&lt;br/&gt;
In TestAcidGuarantees, we create connection per read write thread but do not close it, so we create lots of AsyncRpcClient instance. Each instance has its own netty thread pool, so there are too many threads and will easily exceed the 4GB address space(VIRT, not RES) limit and then make the test fail.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.OutOfMemoryError: unable to create new native thread
	at java.lang.Thread.start0(Native Method)
	at java.lang.Thread.start(Thread.java:693)
	at io.netty.util.concurrent.SingleThreadEventExecutor.shutdownGracefully(SingleThreadEventExecutor.java:557)
	at io.netty.util.concurrent.MultithreadEventExecutorGroup.shutdownGracefully(MultithreadEventExecutorGroup.java:146)
	at io.netty.util.concurrent.AbstractEventExecutorGroup.shutdownGracefully(AbstractEventExecutorGroup.java:69)
	at org.apache.hadoop.hbase.ipc.AsyncRpcClient.close(AsyncRpcClient.java:253)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.internalClose(ConnectionManager.java:2373)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.close(ConnectionManager.java:2386)
	at org.apache.hadoop.hbase.HBaseTestingUtility.shutdownMiniCluster(HBaseTestingUtility.java:1055)
	at org.apache.hadoop.hbase.TestAcidGuarantees.testGetAtomicity(TestAcidGuarantees.java:346)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I wonder why we run jenkins job on 32bit machines? Seems PreCommit-Build is run on 64bit machines.&lt;/p&gt;</comment>
                            <comment id="14330025" author="stack" created="Sat, 21 Feb 2015 06:14:23 +0000"  >&lt;p&gt;Configuration for machines on trunk is (ubuntu||Hadoop) &amp;amp;&amp;amp; !jenkins-cloud-4GB &amp;amp;&amp;amp; !H11  Some one of those must be the 32bitter. I do not have direct access.  Let me ask a fellow who I know has access.  Thanks for digging in &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Apache9&quot; class=&quot;user-hover&quot; rel=&quot;Apache9&quot;&gt;Duo Zhang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14330029" author="stack" created="Sat, 21 Feb 2015 06:18:21 +0000"  >&lt;p&gt;Looks like it was H3: &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-TRUNK/6155/consoleFull&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-TRUNK/6155/consoleFull&lt;/a&gt;  Asking.... will be back.&lt;/p&gt;</comment>
                            <comment id="14330108" author="apache9" created="Sat, 21 Feb 2015 09:45:06 +0000"  >&lt;p&gt;Run &apos;java -version&apos; on my machine&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;zhangduo@ubuntu:~/hbase/code$ java -version
java version &quot;1.7.0_55&quot;
Java(TM) SE Runtime Environment (build 1.7.0_55-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.55-b03, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-TRUNK/6155/consoleFull&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-TRUNK/6155/consoleFull&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+ which java
/home/jenkins/tools/java/latest1.7/bin/java
+ java -version
java version &quot;1.7.0_25&quot;
Java(TM) SE Runtime Environment (build 1.7.0_25-b15)
Java HotSpot(TM) Server VM (build 23.25-b01, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems we use a 32bit jvm?&lt;/p&gt;

&lt;p&gt;H3 is amd64&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/computer/H3/systemInfo&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/computer/H3/systemInfo&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14331995" author="stack" created="Sun, 22 Feb 2015 02:20:16 +0000"  >&lt;p&gt;@zhangduo How you think we end up on 32 bit jvm?  We don&apos;t do -d32 in args we pass... I checked the config we pass.  We select &apos;JDK 1.7 (latest)&apos; though there are a bunch of options. That &apos;latest&apos; is 1.7.0.25 might indicate that this box has lagged its update.  I could just remove the &apos;H?&apos; machines from the list of options which is currently: (ubuntu||Hadoop) &amp;amp;&amp;amp; !jenkins-cloud-4GB &amp;amp;&amp;amp; !H11&lt;/p&gt;

&lt;p&gt;I just changed it to (ubuntu||Hadoop) &amp;amp;&amp;amp; !jenkins-cloud-4GB &amp;amp;&amp;amp; !H11 &amp;amp;&amp;amp; !H3 to remove H3 though wonder where the 32-bit comes from. No response from my insider just yet. Hopefully he&apos;ll come back with something soon.&lt;/p&gt;

&lt;p&gt;Thanks for digging in here.&lt;/p&gt;
</comment>
                            <comment id="14331996" author="apache9" created="Sun, 22 Feb 2015 02:46:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; There is an explicit bit info if the jvm is 64 bit I think.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Java HotSpot(TM) *64-Bit* Server VM (build 24.55-b03, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Our java -version&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Java HotSpot(TM) Server VM (build 23.25-b01, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I found this when debugging TestHeapSize. It only failed on jenkins, and the heap size info in assertion message is much less than the heap size on my 64bit machine so it must be a less pointer size.&lt;/p&gt;</comment>
                            <comment id="14332022" author="apache9" created="Sun, 22 Feb 2015 04:50:11 +0000"  >&lt;p&gt;See PreCommit build, an explicit bit info.&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12936/consoleFull&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12936/consoleFull&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/home/jenkins/jenkins-slave/tools/hudson.model.JDK/jdk-1.7u51/bin/java
java version &quot;1.7.0_51&quot;
Java(TM) SE Runtime Environment (build 1.7.0_51-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)
Resetting java_home -- FIX jenkinsEnv.sh!!! /home/jenkins/jenkins-slave/tools/hudson.model.JDK/jdk-1.7u51
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14333303" author="apache9" created="Mon, 23 Feb 2015 13:21:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; Maybe we could try to find the difference between HBase-TRUNK and PreCommit-HBASE-Build? I can not login in to builds.apache.org so I can not see the config of jenkins jobs...&lt;/p&gt;</comment>
                            <comment id="14334410" author="stack" created="Tue, 24 Feb 2015 05:10:37 +0000"  >&lt;p&gt;I compared precommit and trunk configs.  precommit was jdk7u51.  trunk was &apos;latest jdk7&apos;. I set it to &apos;jdk7u51&apos;.  Precommit had this for args to pass: export MAVEN_OPTS=&quot;-Xmx6100M -XX:-UsePerfData&quot;  and trunk had MAVEN_OPTS=&quot;-Xmx3g&quot;.  I made trunk have what precommit has.  I think made the build-1 the same as trunk and precommit too.  Lets see how that does (I removed the !H3 too).&lt;/p&gt;</comment>
                            <comment id="14334584" author="apache9" created="Tue, 24 Feb 2015 08:24:40 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I compared precommit and trunk configs. precommit was jdk7u51. trunk was &apos;latest jdk7&apos;. I set it to &apos;jdk7u51&apos;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This seems work.&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6163/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6163/&lt;/a&gt;&lt;br/&gt;
Back to normal &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Found this in console output, so we use 64bit jvm now.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+ which java
/home/jenkins/jenkins-slave/tools/hudson.model.JDK/jdk-1.7u51/bin/java
+ java -version
java version &quot;1.7.0_51&quot;
Java(TM) SE Runtime Environment (build 1.7.0_51-b13)
Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;BTW, do we still need to care about running HBase on 32bit jvm?&lt;/p&gt;</comment>
                            <comment id="14335119" author="stack" created="Tue, 24 Feb 2015 17:26:52 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Apache9&quot; class=&quot;user-hover&quot; rel=&quot;Apache9&quot;&gt;Duo Zhang&lt;/a&gt; for digging in here and getting us a blue trunk build for first time in ages.&lt;/p&gt;

&lt;p&gt;On 32bit JVM, I&apos;d say no; let someone ask for it then lets discuss... but in absence of that, no.&lt;/p&gt;</comment>
                            <comment id="14517805" author="enis" created="Tue, 28 Apr 2015 19:18:56 +0000"  >&lt;p&gt;Closing this issue after 1.0.1 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12699515" name="13065-fix.txt" size="923" author="devaraj" created="Wed, 18 Feb 2015 18:51:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Feb 2015 16:12:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25ro7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>