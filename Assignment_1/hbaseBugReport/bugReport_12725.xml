<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:35:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12725/HBASE-12725.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12725] Insufficient wait in TestMultiParallel#testFlushCommitsWithAbort might lead to failed assertion on server count</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12725</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/hbase-0.98/750/testReport/org.apache.hadoop.hbase.client/TestMultiParallel/testFlushCommitsWithAbort/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.98/750/testReport/org.apache.hadoop.hbase.client/TestMultiParallel/testFlushCommitsWithAbort/&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-12-19 01:49:57,877 FATAL [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] regionserver.HRegionServer(1886): ABORTING region server priapus.apache.org,50706,1418953791906: Aborting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tests
java.lang.Exception: doTestFlushCommits
  at org.apache.hadoop.hbase.client.TestMultiParallel.doTestFlushCommits(TestMultiParallel.java:268)
  at org.apache.hadoop.hbase.client.TestMultiParallel.testFlushCommitsWithAbort(TestMultiParallel.java:240)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
  at java.lang.reflect.Method.invoke(Method.java:597)
  at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
  at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
  at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
  at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
  at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
2014-12-19 01:49:57,877 FATAL [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] regionserver.HRegionServer(1894): RegionServer abort: loaded coprocessors are: [org.apache.hadoop.hbase.coprocessor.                   MultiRowMutationEndpoint]
2014-12-19 01:49:57,917 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(287): validating loaded data
2014-12-19 01:49:58,275 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(295): Count=1, Alive=priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,275 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(295): Count=2, Alive=priapus.apache.org,41103,1418953791972
2014-12-19 01:49:58,275 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(295): Count=3, Alive=priapus.apache.org,33781,1418953792016
2014-12-19 01:49:58,275 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(295): Count=4, Alive=priapus.apache.org,43381,1418953792058
2014-12-19 01:49:58,276 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(295): Count=5, Alive=priapus.apache.org,54398,1418953792103
2014-12-19 01:49:58,276 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-677] client.TestMultiParallel(297): Count=5
2014-12-19 01:49:58,289 INFO  [RS:0;priapus:50706.periodicFlusher] hbase.Chore(93): RS:0;priapus:50706.periodicFlusher exiting
2014-12-19 01:49:58,290 INFO  [RS:0;priapus:50706.leaseChecker] regionserver.Leases(147): RS:0;priapus:50706.leaseChecker closing leases
2014-12-19 01:49:58,290 INFO  [RS:0;priapus:50706.leaseChecker] regionserver.Leases(150): RS:0;priapus:50706.leaseChecker closed leases
2014-12-19 01:49:58,291 INFO  [RS:0;priapus:50706] regionserver.CompactSplitThread(360): Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Split &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-12-19 01:49:58,291 INFO  [RS:0;priapus:50706] regionserver.CompactSplitThread(360): Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Merge &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-12-19 01:49:58,291 INFO  [RS:0;priapus:50706] regionserver.CompactSplitThread(360): Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Large Compaction &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-12-19 01:49:58,291 INFO  [RS:0;priapus:50706] regionserver.CompactSplitThread(360): Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Small Compaction &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-12-19 01:49:58,295 DEBUG [RS:0;priapus:50706-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:50706-0x14a603c969c0001, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/replication/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,295 INFO  [RS:0;priapus:50706] client.HConnectionManager$HConnectionImplementation(1893): Closing zookeeper sessionid=0x14a603c969c0010
2014-12-19 01:49:58,302 DEBUG [RS:4;priapus:54398-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:54398-0x14a603c969c0004, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,302 DEBUG [RS:2;priapus:33781-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:33781-0x14a603c969c0002, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,302 DEBUG [RS:0;priapus:50706-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:50706-0x14a603c969c0001, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,302 DEBUG [RS:3;priapus:43381-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:43381-0x14a603c969c0005, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,302 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(312): master:48016-0x14a603c969c0000, quorum=localhost:53936, baseZNode=/hbase Received ZooKeeper     Event, type=NodeDeleted, state=SyncConnected, path=/hbase/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,302 DEBUG [RS:1;priapus:41103-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:41103-0x14a603c969c0003, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeDeleted, state=SyncConnected, path=/hbase/rs/priapus.apache.org,50706,1418953791906
2014-12-19 01:49:58,303 INFO  [main-EventThread] zookeeper.RegionServerTracker(118): RegionServer ephemeral node deleted, processing expiration [priapus.apache.org,50706,        1418953791906]
2014-12-19 01:49:58,302 DEBUG [RS:0;priapus:50706-EventThread] zookeeper.ZooKeeperWatcher(312): regionserver:50706-0x14a603c969c0001, quorum=localhost:53936, baseZNode=/hbase    Received ZooKeeper Event, type=NodeChildrenChanged, state=SyncConnected, path=/hbase/rs
2014-12-19 01:49:58,309 INFO  [RS:0;priapus:50706] regionserver.HRegionServer(1065): stopping server priapus.apache.org,50706,1418953791906; zookeeper connection closed.
2014-12-19 01:49:58,309 INFO  [RS:0;priapus:50706] regionserver.HRegionServer(1068): RS:0;priapus:50706 exiting
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;region server priapus.apache.org,50706,1418953791906 abort was initiated @ 01:49:57,877&lt;br/&gt;
Check for live region server count was performed @ 01:49:58,275&lt;br/&gt;
However, region server exited @ 01:49:58,309&lt;/p&gt;

&lt;p&gt;Here is the code in doTestFlushCommits() of 0.98:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (liveRS.getRegionServer().getNumberOfOnlineRegions() != 0) {
        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(10);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In master branch, the sleep duration is 100&lt;/p&gt;</description>
                <environment></environment>
        <key id="12762762">HBASE-12725</key>
            <summary>Insufficient wait in TestMultiParallel#testFlushCommitsWithAbort might lead to failed assertion on server count</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Dec 2014 04:23:44 +0000</created>
                <updated>Fri, 26 Jun 2015 19:46:38 +0000</updated>
                            <resolved>Fri, 26 Jun 2015 19:46:38 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14252913" author="hadoopqa" created="Fri, 19 Dec 2014 04:32:18 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12688241/12725-0.98.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12688241/12725-0.98.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit d4365593783586201584d84bf536f6c7382cc5ac.&lt;br/&gt;
  ATTACHMENT ID: 12688241&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12155//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12155//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12688241" name="12725-0.98.txt" size="795" author="yuzhihong@gmail.com" created="Fri, 19 Dec 2014 04:26:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Dec 2014 04:32:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23lv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>