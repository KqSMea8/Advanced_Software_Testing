<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8930/HBASE-8930.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8930] Filter evaluates KVs outside requested columns</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8930</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;1- Fill row with some columns&lt;br/&gt;
2- Get row with some columns less than universe - Use filter to print kvs&lt;br/&gt;
3- Filter prints not requested columns&lt;/p&gt;

&lt;p&gt;Filter (AllwaysNextColFilter) always return ReturnCode.INCLUDE_AND_NEXT_COL and prints KV&apos;s qualifier&lt;/p&gt;

&lt;p&gt;SUFFIX_0 = 0&lt;br/&gt;
SUFFIX_1 = 1&lt;br/&gt;
SUFFIX_4 = 4&lt;br/&gt;
SUFFIX_6 = 6&lt;/p&gt;

&lt;p&gt;P= Persisted&lt;br/&gt;
R= Requested&lt;br/&gt;
E= Evaluated&lt;br/&gt;
X= Returned&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5580 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5581 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5584 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5586 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5590 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5591 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5594 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5596 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5600 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5601 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5604 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5606 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  P   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   P  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  P   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   P  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  P   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   P  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  R   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   R  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   R  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  R   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   R  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   R  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  E   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   E  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  E   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   E  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;font color=&quot;red&quot;&gt;E&lt;/font&gt;   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  X   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   X  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  X   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   X  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;ExtraColumnTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFilter() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

        Configuration config = HBaseConfiguration.create();
        config.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.zookeeper.quorum&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;myZK&quot;&lt;/span&gt;);

        HTable hTable = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HTable(config, &lt;span class=&quot;code-quote&quot;&gt;&quot;testTable&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] cf = Bytes.toBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;cf&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] row = Bytes.toBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;row&quot;&lt;/span&gt;);


        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 558, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_1));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 559, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_1));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col3 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 560, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_1));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col4 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 561, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_1));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col5 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 562, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_1));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col6 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 563, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_1));


        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col1g = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 558, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_6));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col2g = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 559, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_6));

        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col1v = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 558, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_4));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col2v = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 559, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_4));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col3v = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 560, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_4));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col4v = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 561, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_4));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col5v = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 562, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_4));
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] col6v = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().objectToByteArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Qualifier((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 563, (&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;) SUFFIX_4));

        &lt;span class=&quot;code-comment&quot;&gt;// =========== INSERTION =============//
&lt;/span&gt;        Put put = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Put(row);
        put.add(cf, col1, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 1));
        put.add(cf, col2, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 1));
        put.add(cf, col3, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 3));
        put.add(cf, col4, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 3));
        put.add(cf, col5, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 3));
        put.add(cf, col6, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 3));
        hTable.put(put);

        put = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Put(row);
        put.add(cf, col1v, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 10));
        put.add(cf, col2v, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 10));
        put.add(cf, col3v, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 10));
        put.add(cf, col4v, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 10));
        put.add(cf, col5v, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 10));
        put.add(cf, col6v, Bytes.toBytes((&lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;) 10));

        hTable.put(put);
        hTable.flushCommits();

        &lt;span class=&quot;code-comment&quot;&gt;//==============READING=================//
&lt;/span&gt;        Filter allwaysNextColFilter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AllwaysNextColFilter();

        Get get = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Get(row);
        get.addColumn(cf, col1); &lt;span class=&quot;code-comment&quot;&gt;//5581
&lt;/span&gt;        get.addColumn(cf, col1v); &lt;span class=&quot;code-comment&quot;&gt;//5584
&lt;/span&gt;        get.addColumn(cf, col1g); &lt;span class=&quot;code-comment&quot;&gt;//5586
&lt;/span&gt;        get.addColumn(cf, col2); &lt;span class=&quot;code-comment&quot;&gt;//5591
&lt;/span&gt;        get.addColumn(cf, col2v); &lt;span class=&quot;code-comment&quot;&gt;//5594        
&lt;/span&gt;        get.addColumn(cf, col2g); &lt;span class=&quot;code-comment&quot;&gt;//5596
&lt;/span&gt;        
        get.setFilter(allwaysNextColFilter);
        get.setMaxVersions(1);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(get);

        Scan scan = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Scan(get);

        ResultScanner scanner = hTable.getScanner(scan);
        Iterator&amp;lt;Result&amp;gt; iterator = scanner.iterator();

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;SCAN&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (iterator.hasNext()) {
            Result next = iterator.next();
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (KeyValue kv : next.list()) {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; QualifierConverter().byteArrayToObject(kv.getQualifier()));
            }
        }
    }

}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Requested 5581 5584 5586 5591 5594 5596&lt;br/&gt;
NOT REQUESTED: 5561&lt;/p&gt;

&lt;p&gt;Sysout Filter&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
\x00\x00\x1A\xBE\x00\x05^:\x00\x00\xA0X\x00\x00=\x1A/H0:\x02.\x01/1373577819267/Put/vlen=2/ts=2
Qualifier{date=558, type=SUFFIX_1}
\x00\x00\x1A\xBE\x00\x05^:\x00\x00\xA0X\x00\x00=\x1A/H0:\x02.\x02/1373577819272/Put/vlen=2/ts=3
Qualifier{date=558, type=SUFFIX_4}
\x00\x00\x1A\xBE\x00\x05^:\x00\x00\xA0X\x00\x00=\x1A/H0:\x02/\x01/1373577819267/Put/vlen=2/ts=2
ualifier{date=559, type=SUFFIX_1}
\x00\x00\x1A\xBE\x00\x05^:\x00\x00\xA0X\x00\x00=\x1A/H0:\x02/\x02/1373577819272/Put/vlen=2/ts=3
Qualifier{date=559, type=SUFFIX_4}
&#160;
\x00\x00\x1A\xBE\x00\x05^:\x00\x00\xA0X\x00\x00=\x1A/H0:\x020\x01/1373577819267/Put/vlen=2/ts=2
Qualifier{date=560, type=SUFFIX_1} (DATE 5601 NOT REQUESTED BUT EVALUATED)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sysout ExtraColumnTest&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{&quot;timeRange&quot;:[0,9223372036854775807],&quot;totalColumns&quot;:6,&quot;cacheBlocks&quot;:true,&quot;families&quot;:{&quot;H0&quot;:[&quot;\\x02.\\x01&quot;,&quot;\\x02.\\x02&quot;,&quot;\\x02.\\x06&quot;,&quot;\\x02/\\x01&quot;]},&quot;maxVersions&quot;:1,&quot;filter&quot;:&quot;AllwaysNextColFilter&quot;,&quot;row&quot;:&quot;\\x00\\x00\\x1A\\xBE\\x00\\x05^:\\x00\\x00\\xA0X\\x00\\x00=\\x1A&quot;}
SCAN
Qualifier{date=558, type=SUFFIX_1}
Qualifier{date=558, type=SUFFIX_4}
Qualifier{date=559, type=SUFFIX_1}
Qualifier{date=559, type=SUFFIX_4}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12657351">HBASE-8930</key>
            <summary>Filter evaluates KVs outside requested columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vmariyala">Vasu Mariyala</assignee>
                                    <reporter username="fgaule">Federico Gaule</reporter>
                        <labels>
                            <label>filters</label>
                            <label>hbase</label>
                            <label>keyvalue</label>
                    </labels>
                <created>Thu, 11 Jul 2013 21:26:34 +0000</created>
                <updated>Fri, 4 Oct 2013 20:34:35 +0000</updated>
                            <resolved>Tue, 10 Sep 2013 04:59:19 +0000</resolved>
                                    <version>0.94.7</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.12</fixVersion>
                    <fixVersion>0.96.0</fixVersion>
                                    <component>Filters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13707920" author="lhofhansl" created="Sun, 14 Jul 2013 02:02:05 +0000"  >&lt;p&gt;This is (somewhat) by design. Filters are evaluated before the column trackers. The column trackers are responsible for the version counting and TTL processing (that part is by design - it used to be the other way round, but was changed because that caused more problems).&lt;br/&gt;
As a side-effect the columns are also processed after the filters have been evaluated.&lt;/p&gt;

&lt;p&gt;Disentangling that is tedious and would lead to perf issues in other cases.&lt;br/&gt;
The place to change this is ExplicitColumnTracker.java. There would need to be a method that can check a column ahead of the filtering, but the tracker still needs to do versions/TTL after the filters ran.&lt;br/&gt;
Whatever the refactoring... if columns need to be compare twice that would be an unacceptable performance hit.&lt;/p&gt;

&lt;p&gt;At some point I had experimented with letting a filter decide whether it is evaluated before or after the column trackers. Maybe I should restart that. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5257&quot; title=&quot;Allow INCLUDE_AND_NEXT_COL in filters and use it in ColumnPaginationFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5257&quot;&gt;&lt;del&gt;HBASE-5257&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This seems at odds with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4364&quot; title=&quot;Filters applied to columns not in the selected column list are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4364&quot;&gt;HBASE-4364&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the interim, the filters should do their own column filtering.&lt;/p&gt;</comment>
                            <comment id="13741284" author="fgaule" created="Thu, 15 Aug 2013 18:04:53 +0000"  >&lt;p&gt;Thanks @Lars, &lt;/p&gt;

&lt;p&gt;I have a question in mind about how does HBase decide what KVs to pickup, what is the strategy to get KVs that are passed to Filters? Does it pass all Store KVs matching rowkey or do some previous filtering? Cause i have lot of cases where filters only receive requested columns(qualifiers) and other (like the case) that receive more than requested. &lt;/p&gt;

&lt;p&gt;Thanks. &lt;/p&gt;</comment>
                            <comment id="13745784" author="vmariyala" created="Wed, 21 Aug 2013 05:04:21 +0000"  >&lt;p&gt;I am working on creating a write up explaining the previous behavior of the filters and the behavior of the filters after the fix.&lt;/p&gt;

&lt;p&gt;Meanwhile, attaching the patch to let the hadoop qa run the tests&lt;/p&gt;</comment>
                            <comment id="13746167" author="vmariyala" created="Wed, 21 Aug 2013 15:38:18 +0000"  >&lt;p&gt;Reattaching the same patch to try to get the Hadoop QA run&lt;/p&gt;</comment>
                            <comment id="13746983" author="vasu.mariyala@gmail.com" created="Wed, 21 Aug 2013 23:10:00 +0000"  >&lt;p&gt;Scanning for the results in a region is done in the following way (Note: I may have missed some of the conditions)&lt;/p&gt;

&lt;p&gt;a) RegionScannerImpl has a store heap which contains key value scanner objects for a region like the storescanner (opens scanners across memstore, snapshot and all store files)&lt;/p&gt;

&lt;p&gt;b) Based on few configurations, the scanner is seeked to the start key of the request.&lt;/p&gt;

&lt;p&gt;c) For each row until end is reached or the batch size is reached, it does the following&lt;/p&gt;

&lt;p&gt;   c.a) calls the filterRowKey on the filter object. If it returns true, it will go to the next row.&lt;/p&gt;

&lt;p&gt;   c.b) If the above call returns false, it does the following.&lt;/p&gt;

&lt;p&gt;       c.b.a) Set the row read in (c) as the current row&lt;/p&gt;

&lt;p&gt;       c.b.b) While the next key value is not null&lt;/p&gt;

&lt;p&gt;          c.b.b.a) Reads the next key value and ensures that is greater than the previous key value&lt;/p&gt;

&lt;p&gt;          c.b.b.b) Calls the ScanQueryMatcher match method. It checks if the current key value belongs to the same row as the one read in step (c). It calls the filter logic and then checks if the keyValue corresponds to the column of interest and if the number of versions returned matches the ones specified using min and max versions.&lt;/p&gt;

&lt;p&gt;          c.b.b.c) Based on the return type, it does the appropriate action. For include, it includes and goes to the next key value. If it is include and seek next column, the result is included and the scanner is asked to seek to the next column of interest. If it is include and seek next row, the result is included and the scanner is asked to seek to the next row.  If it is done, it returns. If it is seek next row, the scanner is asked to seek to the next row. If it is seek next column, the scanner is asked to seek to the next column of interest.&lt;/p&gt;


&lt;p&gt;To illustrate the failing scenario mentioned in example &lt;/p&gt;

&lt;p&gt;a) Once key value in (c.b.b.b) is for the column 5594 and the appropriate number of versions for the column are read, it returns include and seek next column.&lt;/p&gt;

&lt;p&gt;b) in c.b.b.c, the scanner is asked to the next column of interest which is 5596. But since there is no value for that column, the scanner seeks to the column 5601 (the one after 5596)&lt;/p&gt;

&lt;p&gt;c) The loop of c.b.b repeats itself and since the filtering is done before the actual check of what columns are requested for, the filterKeyValue method is invoked.&lt;/p&gt;</comment>
                            <comment id="13747002" author="fgaule" created="Wed, 21 Aug 2013 23:20:07 +0000"  >&lt;p&gt;@Vasu, this is what i was looking for since a long time ago. Summarizing, without the fix being applied, if you don&#180;t narrow columns using a filter (i.e. ColumnRangeFilter), filters can go till the last column in case they match the Filters. Am i Right?&lt;/p&gt;</comment>
                            <comment id="13747004" author="vasu.mariyala@gmail.com" created="Wed, 21 Aug 2013 23:20:30 +0000"  >&lt;p&gt;The patch attached changes the operations in the ScanQueryMatcher to the following&lt;/p&gt;

&lt;p&gt;a) Check if the current key value is present in our requested columns. This returns &apos;include&apos; if column is of interest, &apos;seek to next column&apos; if the column is not present and there are more columns of interest after the current column, &apos;seek to next row&apos; if the column is not present and there are no more columns of interest. It does not do any version checks.&lt;/p&gt;

&lt;p&gt;b) If the return value of a is include, it does the following&lt;/p&gt;

&lt;p&gt;  b.a) Calls the filterKeyValue method of the filter. If the return code asks not to include the keyvalue, the return code is just returned.&lt;/p&gt;

&lt;p&gt;  b.b) If the return value of b.a is &apos;include&apos; or &apos;include and seek next column&apos;, it calls the Checkversions to check against the number of versions. The return value of b.a and the check versions is taken into consideration while retuning the return code.&lt;/p&gt;

&lt;p&gt;c) Return the return value of a&lt;/p&gt;</comment>
                            <comment id="13747033" author="vasu.mariyala@gmail.com" created="Wed, 21 Aug 2013 23:44:49 +0000"  >&lt;p&gt;To simplify:&lt;/p&gt;

&lt;p&gt;With out the fix, whenever a row doesn&apos;t contain value for the next column of our interest (say column1), the filter gets invoked for a column which has a value and is after our next column of interest (column1).&lt;/p&gt;

&lt;p&gt;Consider the scenario where a row contains values for columns a, c, d, e and f and scan is requested for columns a, b, e and f. The filter is invoked for a, c (as value for b is not found and c is the column after b), e and f. Note that the filter is not invoked for d because the invocation of column matcher for the value of c would result in the scanner being asked to seek to the next column of interest which is e.&lt;/p&gt;</comment>
                            <comment id="13747041" author="vasu.mariyala@gmail.com" created="Wed, 21 Aug 2013 23:47:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fgaule&quot; class=&quot;user-hover&quot; rel=&quot;fgaule&quot;&gt;Federico Gaule&lt;/a&gt; Sorry, I didn&apos;t understand the question. Let me know if you found the answer already.&lt;/p&gt;</comment>
                            <comment id="13747042" author="fgaule" created="Wed, 21 Aug 2013 23:48:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vasu.pulipati%40yellowshirt.com&quot; class=&quot;user-hover&quot; rel=&quot;vasu.pulipati@yellowshirt.com&quot;&gt;vasu pulipati&lt;/a&gt; You made my day. Hope to have the patch applied for next release.&lt;/p&gt;
</comment>
                            <comment id="13747047" author="fgaule" created="Wed, 21 Aug 2013 23:50:46 +0000"  >&lt;p&gt;Got my answers. Thanks&lt;/p&gt;</comment>
                            <comment id="13747068" author="yuzhihong@gmail.com" created="Thu, 22 Aug 2013 00:05:51 +0000"  >&lt;p&gt;I like the matrix following STEP 4 explaining combinations of FilterResponse and ColumnChecker values.&lt;/p&gt;

&lt;p&gt;For ScanWildcardColumnTracker.java, the license header formatting is off.&lt;/p&gt;

&lt;p&gt;For TestInvocationRecordFilter, license header is missing.&lt;/p&gt;</comment>
                            <comment id="13747080" author="lhofhansl" created="Thu, 22 Aug 2013 00:16:06 +0000"  >&lt;p&gt;Vasu and I had discussed this offline.&lt;/p&gt;

&lt;p&gt;+1 on the approach. Would need to think through the implications for 0.94, but the current behavior is &quot;surprising&quot;, so this would be a good fix.&lt;/p&gt;</comment>
                            <comment id="13747083" author="lhofhansl" created="Thu, 22 Aug 2013 00:20:30 +0000"  >&lt;p&gt;At the least it would mean that you cannot filter on columns that are not in the Scan object, but that is already partially broken anyway (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4364&quot; title=&quot;Filters applied to columns not in the selected column list are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4364&quot;&gt;HBASE-4364&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13747101" author="hadoopqa" created="Thu, 22 Aug 2013 00:46:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12599208/HBASE-8930.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12599208/HBASE-8930.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.snapshot.TestFlushSnapshotFromClient&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6836//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13747217" author="vmariyala" created="Thu, 22 Aug 2013 04:27:11 +0000"  >&lt;p&gt;Attaching the patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev1.patch which has the fixes for the javadoc and the release audit. The test was locally successful. Letting the hadoop qa retry with this patch&lt;/p&gt;</comment>
                            <comment id="13747653" author="hadoopqa" created="Thu, 22 Aug 2013 16:53:29 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12599354/HBASE-8930-rev1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12599354/HBASE-8930-rev1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.replication.regionserver.TestReplicationHLogReaderManager.test(TestReplicationHLogReaderManager.java:192)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6841//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13748066" author="hadoopqa" created="Thu, 22 Aug 2013 23:40:46 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12599354/HBASE-8930-rev1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12599354/HBASE-8930-rev1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6847//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13748073" author="yuzhihong@gmail.com" created="Fri, 23 Aug 2013 00:01:10 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;

&lt;p&gt;nit: the explanation for parameters can be placed on the same line as the parameter:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+   * @param type
+   *          the type of the key value (Put/Delete)
+   * @param ttl
+   *          The timeToLive to enforce.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ScanQueryMatcher.MatchCode.INCLUDE_AND_SEEK_NEXT_ROW;
+      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the &apos;else&apos; keyword is not needed above.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; MatchCode checkColumn(ColumnTracker columnTracker, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] bytes, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; offset,
+      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; ttl, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; type, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; ignoreCount) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like the above method in ScanQueryMatcher can be package private.&lt;/p&gt;</comment>
                            <comment id="13748107" author="vmariyala" created="Fri, 23 Aug 2013 00:19:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; for the review. Attached the patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev2.patch which addresses the comments made by you.&lt;/p&gt;</comment>
                            <comment id="13748141" author="yuzhihong@gmail.com" created="Fri, 23 Aug 2013 00:40:31 +0000"  >&lt;p&gt;+1, if tests pass.&lt;/p&gt;</comment>
                            <comment id="13748278" author="vasu.mariyala@gmail.com" created="Fri, 23 Aug 2013 04:39:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; Can you please start a PreCommit-HBase build for the patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev2.patch?&lt;/p&gt;</comment>
                            <comment id="13748322" author="hadoopqa" created="Fri, 23 Aug 2013 06:01:31 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12599546/HBASE-8930-rev2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12599546/HBASE-8930-rev2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6852//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13748348" author="hadoopqa" created="Fri, 23 Aug 2013 06:47:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12599546/HBASE-8930-rev2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12599546/HBASE-8930-rev2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6853//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13748349" author="vasu.mariyala@gmail.com" created="Fri, 23 Aug 2013 06:56:15 +0000"  >&lt;p&gt;The test failure in the build 6853 is unrelated to the patch and it failed due to the time out of the operation. However, the build 6852 was successful for the same patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev2.patch).&lt;/p&gt;</comment>
                            <comment id="13748692" author="yuzhihong@gmail.com" created="Fri, 23 Aug 2013 16:40:37 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13748851" author="vasu.mariyala@gmail.com" created="Fri, 23 Aug 2013 18:49:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; for the review. Yes, I feel clusterIds may be better than just clusters. Attached the patches &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7709&quot; title=&quot;Infinite loop possible in Master/Master replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7709&quot;&gt;&lt;del&gt;HBASE-7709&lt;/del&gt;&lt;/a&gt;-rev4.patch (0.94) and 0.95-trunk-rev3.patch (0.95 &amp;amp; trunk) which contain the method name changes.&lt;/p&gt;</comment>
                            <comment id="13748855" author="vasu.mariyala@gmail.com" created="Fri, 23 Aug 2013 18:51:46 +0000"  >&lt;p&gt;Ignore the last comment as it was supposed to be in a different jira. Sorry about that.&lt;/p&gt;</comment>
                            <comment id="13749491" author="lhofhansl" created="Sat, 24 Aug 2013 22:45:26 +0000"  >&lt;p&gt;It turns out there &lt;b&gt;is&lt;/b&gt; a desire to evaluate Filters on columns are not &quot;selected&quot; in the Scan object.&lt;br/&gt;
See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4364&quot; title=&quot;Filters applied to columns not in the selected column list are ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4364&quot;&gt;HBASE-4364&lt;/a&gt;, the problem there seems to stem from the fact that column families are filters before the scanner process. Thus, columns of column families that do not contain any of the selected columns will not be passed to the filters.&lt;br/&gt;
Vasu&apos;s patch would make this behavior predictable.&lt;/p&gt;

&lt;p&gt;I think we should have this in 0.94 and 0.95+. Comments? Do we need to raise this on the DEV list?&lt;/p&gt;</comment>
                            <comment id="13749495" author="yuzhihong@gmail.com" created="Sat, 24 Aug 2013 23:10:36 +0000"  >&lt;p&gt;Raising awareness on dev@ list would be good.&lt;/p&gt;</comment>
                            <comment id="13755170" author="lhofhansl" created="Fri, 30 Aug 2013 21:37:09 +0000"  >&lt;p&gt;After checking back. This &lt;b&gt;is&lt;/b&gt; just a bug fix after all.&lt;br/&gt;
This happens only to columns just after those that the scan actually selects.&lt;/p&gt;

&lt;p&gt;+1 on committing, including 0.94.&lt;/p&gt;</comment>
                            <comment id="13757037" author="lhofhansl" created="Tue, 3 Sep 2013 20:36:07 +0000"  >&lt;p&gt;0.94 patch I got from Vasu.&lt;/p&gt;</comment>
                            <comment id="13757055" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 20:53:08 +0000"  >&lt;p&gt;Attached 0.94-&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;.patch, 0.95-&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev3.patch (top of trunk). There is another version of the patch for trunk due to the recent changes to expand the usage of Cell interface instead of KeyValue. A different patch for 0.95 has been attached as the patch from trunk adds ColumnTracker to the rejection list due to the presence of a line in the checkColumn method signature in trunk while the same is missing in 0.95. These patches are completely similar.&lt;/p&gt;</comment>
                            <comment id="13757085" author="lhofhansl" created="Tue, 3 Sep 2013 21:13:03 +0000"  >&lt;p&gt;I ran the 0.94 patch through my little tight loop scan test, and it is a little slower:&lt;br/&gt;
With patch: runtimes were between 10.1s and 10.2s. Average 10.18s&lt;br/&gt;
Without patch: runtime between 9.7s and 9.8s. Average: 9.74s&lt;/p&gt;

&lt;p&gt;So that&apos;s a 4.5% slowdown.&lt;/p&gt;

&lt;p&gt;The test is the worst case scenario: 20m rows, 1col each, 4 byte keys, 10 byte values, no columns selected in the scan (i.e. all columns used so it&apos;s using the ScanWildcardColumnTracker), and everything filtered by a ValueFilter.&lt;/p&gt;</comment>
                            <comment id="13757163" author="lhofhansl" created="Tue, 3 Sep 2013 22:25:17 +0000"  >&lt;p&gt;Just looking at this with Vasu. In this case the result makes sense: We&apos;re filtering &lt;b&gt;everything&lt;/b&gt; at the server, so previously checkColumn was never called. Now we&apos;re calling the first part before we run the filters, so even if the filters pass everything, we&apos;re still checking the column.&lt;/p&gt;</comment>
                            <comment id="13757181" author="lhofhansl" created="Tue, 3 Sep 2013 22:42:44 +0000"  >&lt;p&gt;The same test with actually selecting the column (i.e. now using ExplicitColumnTracker), things are fast &lt;b&gt;with&lt;/b&gt; the patch (7.6s vs 10.0s).&lt;/p&gt;</comment>
                            <comment id="13757201" author="lhofhansl" created="Tue, 3 Sep 2013 22:57:04 +0000"  >&lt;p&gt;Vasu and I were brainstorming. In the wildcard case we never actually filter any columns, so for that tracker it is better to do all the work in checkVersions.&lt;br/&gt;
Vasu will upload a patch soon that does that. With that change we should better or equal performance in all cases.&lt;/p&gt;</comment>
                            <comment id="13757243" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 23:39:25 +0000"  >&lt;p&gt;Attached 0.94-&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;&lt;del&gt;rev1.patch, 0.95&lt;/del&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev1.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev4.patch (top of trunk) after discussion with Lars. The change is to do a lazy comparison in the ScanWildcardColumnTracker (always return MatchCode.INCLUDE in the checkColumn method of ScanWildcardColumnTracker and do all the processing in checkVersions method).&lt;/p&gt;</comment>
                            <comment id="13757288" author="lhofhansl" created="Wed, 4 Sep 2013 00:17:58 +0000"  >&lt;p&gt;Let&apos;s run it through HadoopQA again.&lt;br/&gt;
If successful I&apos;ll commit.&lt;/p&gt;</comment>
                            <comment id="13757410" author="vasu.mariyala@gmail.com" created="Wed, 4 Sep 2013 02:54:24 +0000"  >&lt;p&gt;Reattaching the patch to let the hadoop qa run.&lt;/p&gt;</comment>
                            <comment id="13757451" author="hadoopqa" created="Wed, 4 Sep 2013 04:12:36 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12601313/HBASE-8930-rev4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12601313/HBASE-8930-rev4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7021//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13758342" author="vasu.mariyala@gmail.com" created="Wed, 4 Sep 2013 21:03:45 +0000"  >&lt;p&gt;Attached the newer versions &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;&lt;del&gt;rev5.patch (top of trunk) and 0.96&lt;/del&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev2.patch (top of 0.96) which contain the changes described in the previous comments.&lt;/p&gt;</comment>
                            <comment id="13758456" author="hadoopqa" created="Wed, 4 Sep 2013 22:40:33 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12601468/HBASE-8930-rev5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12601468/HBASE-8930-rev5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7035//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13758512" author="lhofhansl" created="Wed, 4 Sep 2013 23:24:13 +0000"  >&lt;p&gt;Committed to 0.94, 0.96, and trunk. Thanks, Vasu.&lt;/p&gt;</comment>
                            <comment id="13758525" author="hudson" created="Wed, 4 Sep 2013 23:43:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #281 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/281/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/281/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Filter evaluates KVs outside requested columns (Vasu Mariyala) (larsh: rev 1520171)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758601" author="hudson" created="Thu, 5 Sep 2013 00:54:11 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #5 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/5/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Filter evaluates KVs outside requested columns (Vasu Mariyala) (larsh: rev 1520170)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758607" author="hudson" created="Thu, 5 Sep 2013 00:57:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1135 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1135/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Filter evaluates KVs outside requested columns (Vasu Mariyala) (larsh: rev 1520171)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758609" author="hudson" created="Thu, 5 Sep 2013 00:57:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4467 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4467/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4467/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Add missing file (larsh: rev 1520169)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Filter evaluates KVs outside requested columns (Vasu Mariyala) (larsh: rev 1520168)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758676" author="hudson" created="Thu, 5 Sep 2013 02:03:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #710 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/710/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/710/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Filter evaluates KVs outside requested columns (Vasu Mariyala) (larsh: rev 1520168)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758699" author="hudson" created="Thu, 5 Sep 2013 02:20:18 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #11 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/11/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/11/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Filter evaluates KVs outside requested columns (Vasu Mariyala) (larsh: rev 1520170)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13758785" author="hudson" created="Thu, 5 Sep 2013 04:48:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #711 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/711/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/711/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; Add missing file (larsh: rev 1520169)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13761613" author="lhofhansl" created="Mon, 9 Sep 2013 04:43:40 +0000"  >&lt;p&gt;It turns out that this is likely cause for frequently failing tests in jenkins.&lt;br/&gt;
I will roll this back for now.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vasu.mariyala%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;vasu.mariyala@gmail.com&quot;&gt;Vasu Mariyala&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13761616" author="lhofhansl" created="Mon, 9 Sep 2013 04:56:40 +0000"  >&lt;p&gt;For the record, the errors we&apos;ve seen:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Stacktrace

java.lang.AssertionError: Column family prefix used twice: cf.cf.bt.Data.fsReadnumops
	at org.apache.hadoop.hbase.regionserver.metrics.SchemaMetrics.validateMetricChanges(SchemaMetrics.java:885)
	at org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingTTL.testScannerSelection(TestScannerSelectionUsingTTL.java:159)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error Message

Column family prefix used twice: cf.cf.bt.Data.fsReadnumops

Stacktrace

java.lang.AssertionError: Column family prefix used twice: cf.cf.bt.Data.fsReadnumops
	at org.apache.hadoop.hbase.regionserver.metrics.SchemaMetrics.validateMetricChanges(SchemaMetrics.java:885)
	at org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingKeyRange.testScannerSelection(TestScannerSelectionUsingKeyRange.java:125)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I do not immediately see how this change could have caused this, though.&lt;/p&gt;</comment>
                            <comment id="13762061" author="lhofhansl" created="Mon, 9 Sep 2013 17:26:27 +0000"  >&lt;p&gt;A&apos;right. Reverting from all branches in the next 10 mins unless I hear objections. Better to keep the codelines releasable and then regroup.&lt;/p&gt;</comment>
                            <comment id="13762078" author="lhofhansl" created="Mon, 9 Sep 2013 17:40:23 +0000"  >&lt;p&gt;Reverted from all branches. Sigh.&lt;/p&gt;</comment>
                            <comment id="13762152" author="lhofhansl" created="Mon, 9 Sep 2013 18:55:51 +0000"  >&lt;p&gt;Had a conversation with Vasu. I&apos;ll let Vasu provide the details, but this has to do with the static useTableNameGlobally that some tests set and never unset. Even if they did unset, two tests in the same JVM can still clash.&lt;/p&gt;

&lt;p&gt;It remains strange that it did start with this commit (and I do not remember having seen this ever before).&lt;/p&gt;</comment>
                            <comment id="13762168" author="hudson" created="Mon, 9 Sep 2013 19:07:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #287 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/287/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REVERT due to test issues (larsh: rev 1521219)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762192" author="hudson" created="Mon, 9 Sep 2013 19:34:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1142 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1142/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1142/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REVERT due to test issues (larsh: rev 1521219)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762409" author="hudson" created="Mon, 9 Sep 2013 22:40:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4481 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4481/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REVERT due to test issues (larsh: rev 1521217)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762419" author="vmariyala" created="Mon, 9 Sep 2013 22:49:28 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (SchemaMetrics cfm : tableAndFamilyToMetrics.values()) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (metricName.startsWith(CF_PREFIX + CF_PREFIX)) {
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AssertionError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Column family prefix used twice: &quot;&lt;/span&gt; +
              metricName);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above code throws an error when the metric name starts with &quot;cf.cf.&quot;. It would be helpful if any one sheds some light on the reason behind checking for &quot;cf.cf.&quot;&lt;/p&gt;

&lt;p&gt;The scenarios in which we would have a metric name start with &quot;cf.cf.&quot; are as follows (See generateSchemaMetricsPrefix method of SchemaMetrics)&lt;/p&gt;

&lt;p&gt;   a) The column family name should be &quot;cf&quot;&lt;/p&gt;

&lt;p&gt;   AND&lt;/p&gt;

&lt;p&gt;   b) The table name is either &quot;&quot; or use table name globally should be false (useTableNameGlobally variable of SchemaMetrics).&lt;br/&gt;
      Table name is empty only in the case of ALL_SCHEMA_METRICS which has the column family as &quot;&quot;. So we could rule out the&lt;br/&gt;
      possibility of the table name being empty.&lt;/p&gt;

&lt;p&gt;Also to note, the variables &quot;useTableNameGlobally&quot; and &quot;tableAndFamilyToMetrics&quot; of SchemaMetrics are static and are shared across all the tests that run in a single jvm. In our case, the profile runAllTests has the below configuration &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &amp;lt;surefire.firstPartForkMode&amp;gt;once&amp;lt;/surefire.firstPartForkMode&amp;gt;
        &amp;lt;surefire.firstPartParallel&amp;gt;none&amp;lt;/surefire.firstPartParallel&amp;gt;
        &amp;lt;surefire.firstPartThreadCount&amp;gt;1&amp;lt;/surefire.firstPartThreadCount&amp;gt;
        &amp;lt;surefire.firstPartGroups&amp;gt;org.apache.hadoop.hbase.SmallTests&amp;lt;/surefire.firstPartGroups&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hence all of our small tests run in a single jvm and share the above variables &quot;useTableNameGlobally&quot; and &quot;tableAndFamilyToMetrics&quot;. &lt;/p&gt;

&lt;p&gt;The reasons why the order of execution of the tests caused this failure are as follows&lt;/p&gt;

&lt;p&gt;a) A bunch of small tests like TestMemStore, TestSchemaConfiguredset set the useTableNameGlobally to false. But these tests don&apos;t create tables that have the column family name as &quot;cf&quot;.&lt;/p&gt;

&lt;p&gt;b) If the tests in step (a) run before the tests which create table/regions with column family &apos;cf&apos;, metric names would start with &quot;cf.cf.&quot;&lt;/p&gt;

&lt;p&gt;c) If any of other tests, like the failed tests(TestScannerSelectionUsingTTL, TestHFileReaderV1, TestScannerSelectionUsingKeyRange), validate schema metrics, they would fail as the metric names start with &quot;cf.cf.&quot;&lt;/p&gt;

&lt;p&gt;On my local machine, I have tried to re-create the failure scenario by changing the sure fire test configuration and creating a simple (TestSimple) which just creates a region for the table &apos;testtable&apos; and column family &apos;cf&apos;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

TestSimple.java
------------------------------------------------------------------
  @Before
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    HTableDescriptor htd = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HTableDescriptor(TABLE_NAME_BYTES);
    htd.addFamily(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HColumnDescriptor(FAMILY_NAME_BYTES));
    HRegionInfo info = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HRegionInfo(TABLE_NAME_BYTES, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.region = HRegion.createHRegion(info, TEST_UTIL.getDataTestDir(),
        TEST_UTIL.getConfiguration(), htd);

    Put put = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Put(ROW_BYTES);
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; i += 2) {
      &lt;span class=&quot;code-comment&quot;&gt;// puts 0, 2, 4, 6 and 8
&lt;/span&gt;      put.add(FAMILY_NAME_BYTES, Bytes.toBytes(QUALIFIER_PREFIX + i), i,
          Bytes.toBytes(VALUE_PREFIX + i));
    }
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.region.put(put);
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.region.flushcache();
  }

  @Test
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testFilterInvocation() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;testing&quot;&lt;/span&gt;);
  }

  @After
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void tearDown() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    HLog hlog = region.getLog();
    region.close();
    hlog.closeAndDelete();
  }

Successful run:

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2013-09-09 15:38:03.478 java[46562:db03] Unable to load realm mapping info from SCDynamicStore
Running org.apache.hadoop.hbase.filter.TestSimple
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.342 sec
Running org.apache.hadoop.hbase.io.hfile.TestHFileReaderV1
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.085 sec
Running org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingKeyRange
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.217 sec
Running org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingTTL
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.618 sec
Running org.apache.hadoop.hbase.regionserver.TestMemStore
Tests run: 24, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 26.542 sec

Results :

Tests run: 35, Failures: 0, Errors: 0, Skipped: 0
------------------------------------------------------------------

Failed run order:

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2013-09-09 15:43:21.466 java[46890:db03] Unable to load realm mapping info from SCDynamicStore
Running org.apache.hadoop.hbase.regionserver.TestMemStore
Tests run: 24, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.967 sec
Running org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingTTL
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.659 sec
Running org.apache.hadoop.hbase.io.hfile.TestScannerSelectionUsingKeyRange
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.15 sec
Running org.apache.hadoop.hbase.filter.TestSimple
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec
Running org.apache.hadoop.hbase.io.hfile.TestHFileReaderV1
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 24.883 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!

Results :

Failed tests:   testReadingExistingVersion1HFile(org.apache.hadoop.hbase.io.hfile.TestHFileReaderV1): Column family prefix used twice: cf.cf.bt.Data.fsReadnumops

Tests run: 35, Failures: 1, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the failed scenario, the below has happened&lt;/p&gt;

&lt;p&gt;a) TestMemStore sets the useTableNameGlobally to false&lt;/p&gt;

&lt;p&gt;b) TestScannerSelectionUsingKeyRange, TestScannerSelectionUsingKeyRange are successful as they don&apos;t create table with column family name &quot;cf&quot;&lt;/p&gt;

&lt;p&gt;c) TestSimple creates a region for table &apos;testtable&apos; and column family &apos;cf&apos;. Since useTableNameGlobally is set to false, it would create metric names that start with &quot;cf.cf.&quot;&lt;/p&gt;

&lt;p&gt;d) TestHFileReaderV1 while validating metrics would fail as the metric names start with &quot;cf.cf.&quot;&lt;/p&gt;

&lt;p&gt;The reason why this has been exposed due to this patch is because TestSimple is TestInvocationRecordFilter. The executions of the build 1136, 1137 and 1138 which have been executed after this patch have a different order of executions when compared to the failed builds 1139 &amp;amp; 1140.&lt;/p&gt;

&lt;p&gt;One simple fix to address the issue would have been to change the column family name from &quot;cf&quot; to &quot;mycf&quot; in the TestInvocationRecordFilter. But to avoid future occurrences of these issues, I would suggest setting the &quot;surefire.firstPartForkMode&quot; to &quot;always&quot; similar to the settings we use while running localTests, medium &amp;amp; large tests.&lt;/p&gt;</comment>
                            <comment id="13762449" author="vmariyala" created="Mon, 9 Sep 2013 23:27:57 +0000"  >&lt;p&gt;Attached the changes to ensure small tests run in a separate jvm similar to the large or medium tests.&lt;/p&gt;</comment>
                            <comment id="13762468" author="lhofhansl" created="Mon, 9 Sep 2013 23:48:36 +0000"  >&lt;p&gt;The small tests share a JVM by design (for performance reasons).&lt;br/&gt;
What we should do (IMHO) is changing all tests that modify this static to medium tests.&lt;/p&gt;

&lt;p&gt;Now, I have triggered the test a few time since I reverted this and I have not seen this failure again. So not sure what&apos;s up here.&lt;/p&gt;</comment>
                            <comment id="13762477" author="hudson" created="Mon, 9 Sep 2013 23:48:40 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #26 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/26/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/26/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REVERT due to test issues (larsh: rev 1521218)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762510" author="vmariyala" created="Tue, 10 Sep 2013 00:22:39 +0000"  >&lt;p&gt;As I mentioned, the test case which causes the metrics to be created for the column family &quot;cf&quot; is TestInvocationRecordFilter. Prior to this, I didn&apos;t see any test case under SmallTests category which causes the metrics to be created for column family named &quot;cf&quot;.&lt;/p&gt;

&lt;p&gt;The following are the solutions&lt;/p&gt;

&lt;p&gt;a) Change the column family name in the TestInvocationRecordFilter to &quot;myCF&quot;&lt;/p&gt;

&lt;p&gt;b) Change the category of the tests which change the static variables to medium category (Lars suggestion)&lt;/p&gt;

&lt;p&gt;c) Change the tests to run in different jvm&apos;s. (3:05.855s vs 5:09.840s on my local machine). With -PlocalTests, it would always run the small tests in a different jvm.&lt;/p&gt;

&lt;p&gt;In the context of this jira, can we just follow approach a and raise a different jira to iron out the issues caused by the execution of the tests in a single jvm.&lt;/p&gt;</comment>
                            <comment id="13762514" author="yuzhihong@gmail.com" created="Tue, 10 Sep 2013 00:27:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;In the context of this jira, can we just follow approach a and raise a different jira&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13762529" author="hudson" created="Tue, 10 Sep 2013 00:41:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #14 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/14/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/14/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REVERT due to test issues (larsh: rev 1521218)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762541" author="vmariyala" created="Tue, 10 Sep 2013 00:57:17 +0000"  >&lt;p&gt;Attached the patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;&lt;del&gt;rev6.patch (trunk), 0.96&lt;/del&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;&lt;del&gt;rev3.patch (0.96) and 0.94&lt;/del&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt;-rev2.patch (0.94) which have the column family name changed from &quot;cf&quot; to &quot;mycf&quot;.&lt;/p&gt;</comment>
                            <comment id="13762542" author="lhofhansl" created="Tue, 10 Sep 2013 00:58:36 +0000"  >&lt;p&gt;It still does not explain why we suddenly started seeing this. Maybe this changed the runtime of the tests subtly so that we see this?&lt;br/&gt;
(As I said I do not see how this change could have caused the test failure. But there is a coincidence at least.)&lt;/p&gt;

&lt;p&gt;Let&apos;s do approach (a) and recommit.&lt;/p&gt;</comment>
                            <comment id="13762544" author="lhofhansl" created="Tue, 10 Sep 2013 01:00:42 +0000"  >&lt;p&gt;+1 on latest patches. Will recommit tonight. Thanks for the persistence &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vasu.mariyala%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;vasu.mariyala@gmail.com&quot;&gt;Vasu Mariyala&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="13762574" author="hudson" created="Tue, 10 Sep 2013 01:17:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #719 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/719/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/719/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REVERT due to test issues (larsh: rev 1521217)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762640" author="hadoopqa" created="Tue, 10 Sep 2013 02:17:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12602247/HBASE-8930-rev6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12602247/HBASE-8930-rev6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplicationChangingPeerRegionservers&lt;br/&gt;
                  org.apache.hadoop.hbase.util.TestHBaseFsck&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7107//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13762731" author="lhofhansl" created="Tue, 10 Sep 2013 04:59:19 +0000"  >&lt;p&gt;Re-applied. Thanks Vasu.&lt;/p&gt;

&lt;p&gt;Edit: I cannot spell.&lt;/p&gt;</comment>
                            <comment id="13762745" author="lhofhansl" created="Tue, 10 Sep 2013 05:26:01 +0000"  >&lt;p&gt;how does rev6 differ from rev5? I committed all the latest now. Do the 0.94 and 0.96 patches need an update, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vasu.mariyala%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;vasu.mariyala@gmail.com&quot;&gt;Vasu Mariyala&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13762747" author="lhofhansl" created="Tue, 10 Sep 2013 05:28:55 +0000"  >&lt;p&gt;NM. rev6 has the &quot;mycf&quot; fix in it. The other patches have it too. All good.&lt;/p&gt;</comment>
                            <comment id="13762748" author="vmariyala" created="Tue, 10 Sep 2013 05:29:45 +0000"  >&lt;p&gt;No, what ever has been checked in is correct. I just re-attached the patch rev6 to let hadoop qa run the precommit again as the test failures reported in the earlier email are not related to this patch.&lt;/p&gt;</comment>
                            <comment id="13762772" author="hudson" created="Tue, 10 Sep 2013 06:07:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1145 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1145/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1145/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REAPPLY with testfix (larsh: rev 1521356)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762803" author="hudson" created="Tue, 10 Sep 2013 06:59:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4484 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4484/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4484/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REAPPLY with testfix (larsh: rev 1521354)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13762841" author="hudson" created="Tue, 10 Sep 2013 08:27:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #28 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/28/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/28/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REAPPLY with testfix (larsh: rev 1521355)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13763014" author="hudson" created="Tue, 10 Sep 2013 12:55:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #15 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/15/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/15/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REAPPLY with testfix (larsh: rev 1521355)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13763025" author="hudson" created="Tue, 10 Sep 2013 13:13:04 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #720 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/720/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/720/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REAPPLY with testfix (larsh: rev 1521354)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13766045" author="hudson" created="Thu, 12 Sep 2013 23:59:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #293 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/293/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/293/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; REAPPLY with testfix (larsh: rev 1521356)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanQueryMatcher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/ScanWildcardColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/filter/TestInvocationRecordFilter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestExplicitColumnTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanWildcardColumnTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12522487">HBASE-4364</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499604">HBASE-3562</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12539420">HBASE-5257</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12601266" name="0.94-HBASE-8930-rev1.patch" size="24506" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 23:19:47 +0000"/>
                            <attachment id="12602245" name="0.94-HBASE-8930-rev2.patch" size="24508" author="vmariyala" created="Tue, 10 Sep 2013 00:53:49 +0000"/>
                            <attachment id="12601235" name="0.94-HBASE-8930.patch" size="25479" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 20:46:28 +0000"/>
                            <attachment id="12602231" name="0.94-Independent-Test-Execution.patch" size="971" author="vmariyala" created="Mon, 9 Sep 2013 23:27:57 +0000"/>
                            <attachment id="12601268" name="0.95-HBASE-8930-rev1.patch" size="26977" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 23:28:41 +0000"/>
                            <attachment id="12601236" name="0.95-HBASE-8930.patch" size="26189" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 20:47:34 +0000"/>
                            <attachment id="12601467" name="0.96-HBASE-8930-rev2.patch" size="25361" author="vasu.mariyala@gmail.com" created="Wed, 4 Sep 2013 21:01:46 +0000"/>
                            <attachment id="12602246" name="0.96-HBASE-8930-rev3.patch" size="25363" author="vmariyala" created="Tue, 10 Sep 2013 00:53:49 +0000"/>
                            <attachment id="12602232" name="0.96-trunk-Independent-Test-Execution.patch" size="1033" author="vmariyala" created="Mon, 9 Sep 2013 23:27:57 +0000"/>
                            <attachment id="12601230" name="8930-0.94.txt" size="17425" author="lhofhansl" created="Tue, 3 Sep 2013 20:36:07 +0000"/>
                            <attachment id="12599354" name="HBASE-8930-rev1.patch" size="26311" author="vmariyala" created="Thu, 22 Aug 2013 04:27:11 +0000"/>
                            <attachment id="12599546" name="HBASE-8930-rev2.patch" size="26181" author="vmariyala" created="Fri, 23 Aug 2013 00:21:09 +0000"/>
                            <attachment id="12601237" name="HBASE-8930-rev3.patch" size="26192" author="vasu.mariyala@gmail.com" created="Tue, 3 Sep 2013 20:48:08 +0000"/>
                            <attachment id="12601313" name="HBASE-8930-rev4.patch" size="26978" author="vasu.mariyala@gmail.com" created="Wed, 4 Sep 2013 02:54:24 +0000"/>
                            <attachment id="12601468" name="HBASE-8930-rev5.patch" size="25362" author="vasu.mariyala@gmail.com" created="Wed, 4 Sep 2013 21:02:38 +0000"/>
                            <attachment id="12602284" name="HBASE-8930-rev6.patch" size="25364" author="vmariyala" created="Tue, 10 Sep 2013 04:54:07 +0000"/>
                            <attachment id="12599208" name="HBASE-8930.patch" size="27155" author="vmariyala" created="Wed, 21 Aug 2013 15:38:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 14 Jul 2013 02:02:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m85z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>filters</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>