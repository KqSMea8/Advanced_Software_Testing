<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:43:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13470/HBASE-13470.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13470] High level Integration test for master DDL operations</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13470</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Our &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fengs&quot; class=&quot;user-hover&quot; rel=&quot;fengs&quot;&gt;Sophia Feng&lt;/a&gt; has an integration test which executes DDL operations with a new monkey to kill the active master as a high level test for the proc v2 changes. &lt;/p&gt;

&lt;p&gt;The test does random DDL operations from 20 client threads. The DDL statements are create / delete / modify / enable / disable table and CF operations. It runs HBCK to verify the end state. &lt;/p&gt;

&lt;p&gt;The test can be run on a single master, or multi master setup. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12820999">HBASE-13470</key>
            <summary>High level Integration test for master DDL operations</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12860479">HBASE-14336</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fengs">Sophia Feng</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Apr 2015 22:49:41 +0000</created>
                <updated>Fri, 11 Sep 2015 03:56:43 +0000</updated>
                            <resolved>Wed, 17 Jun 2015 05:28:12 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="14504375" author="philosophia" created="Tue, 21 Apr 2015 05:41:33 +0000"  >&lt;p&gt;This is the integration test for procedure v2.&lt;/p&gt;

&lt;p&gt;Worker threads are launched to do DDL actions while Monkeys are killing master in parallel. Then verify DDL actions are successful despite the killing.&lt;br/&gt;
DDL actions to test include:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE_TABLE, // each table pre-split into 50 regions by default
DISABLE_TABLE,
ENABLE_TABLE,
DELETE_TABLE,
ADD_COLUMNFAMILY,
DELETE_COLUMNFAMILY,
ALTER_FAMILYVERSIONS,
ALTER_FAMILYENCODING,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is also one &lt;tt&gt;AddRowAction()&lt;/tt&gt; to populate the tables for hbck.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ADD_ROW // add 5 rows to each region on average per action
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Uploaded patch v0 for review. Thanks.&lt;/p&gt;</comment>
                            <comment id="14504495" author="mbertozzi" created="Tue, 21 Apr 2015 07:22:15 +0000"  >&lt;p&gt;looks great, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fengs&quot; class=&quot;user-hover&quot; rel=&quot;fengs&quot;&gt;Sophia Feng&lt;/a&gt;!&lt;br/&gt;
can you put it on reviewboard so it is easier to review?&lt;/p&gt;

&lt;p&gt;from a quick look there are just two things I noticed.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;you consider every operation able to complete successfully. but this is more or less true only in case of delete/disable (delete at least can fail if waiting for region in transition takes longer then the timeout). anyway, what I&apos;m saying is that you may get false positives if any operation hit an exception e.g. hdfs/zk not responding or similar. in theory you can just put a for loop around the admin.operation() and retry N times, if you get an exception, before asserting.&lt;/li&gt;
	&lt;li&gt;the assert in the modify/add-family operations doesn&apos;t look right. you fetch the descriptor in the beginning, you modify it and assert on that descriptor not a new one fetched from the master.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14505418" author="philosophia" created="Tue, 21 Apr 2015 18:16:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&lt;br/&gt;
Thanks for pointing those out. Exceptions before assertion definitely need to be addressed. I was fetching a new column descriptor but it was still bound to the old table descriptor. A brand new fetch is needed. Loop will do the actions too. Worker threads will add some concurrency to the DDLs I suppose. &lt;/p&gt;

&lt;p&gt;I&apos;m making the changes and will put a newer patch to the reviewboard. Regards.&lt;/p&gt;</comment>
                            <comment id="14515164" author="philosophia" created="Mon, 27 Apr 2015 22:47:58 +0000"  >&lt;p&gt;Patchv1 uploaded, addressing two issues as per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&apos;s comment.&lt;/p&gt;

&lt;p&gt;1. Get fresh table/column descriptor to do assertion after DDLs.&lt;br/&gt;
2. Fail test with &lt;tt&gt;checkException()&lt;/tt&gt; when exceptions are thrown in ACTIONs before getting to Assert.&lt;/p&gt;</comment>
                            <comment id="14515177" author="philosophia" created="Mon, 27 Apr 2015 22:57:17 +0000"  >&lt;p&gt;Patch v1 uploaded to:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/33603/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/33603/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14516388" author="ndimiduk" created="Tue, 28 Apr 2015 05:13:54 +0000"  >&lt;p&gt;Let&apos;s try to get this for 1.1.0.&lt;/p&gt;</comment>
                            <comment id="14553253" author="apurtell" created="Wed, 20 May 2015 22:28:00 +0000"  >&lt;p&gt;Maybe 1.1.1 ?&lt;/p&gt;</comment>
                            <comment id="14565635" author="philosophia" created="Fri, 29 May 2015 23:20:05 +0000"  >&lt;p&gt;Patch v2 uploaded to review board, too.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt;-v2.patch addressed the comments of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt;-v1.patch and made addtional improvements.&lt;/p&gt;

&lt;p&gt;Addressed comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fixed typo&lt;/li&gt;
	&lt;li&gt;Fixed for/try format&lt;/li&gt;
	&lt;li&gt;Added Javadoc&lt;/li&gt;
	&lt;li&gt;Renamed Test and monkey&lt;/li&gt;
	&lt;li&gt;Use constant to refer to monkey&lt;/li&gt;
	&lt;li&gt;Dropped the @overwrite of setUpMonkey(), inheriting the base class&apos; method to allow other --monkey options&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This patch was built against branch-1.1 and run in multi-master 5-node distributed cluster. Several issues revealed in the runs and hence additional changes.&lt;/p&gt;

&lt;p&gt;Additional changes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Stop creating new empty tables after half of runtime for hbck, and not delete column family when there is only 1 cf left. The test passed without master killing this way. Otherwise it gets holes in the regions.&lt;/li&gt;
	&lt;li&gt;Ignore InvalidFamilyOperationException for AddColumnFamilyAction and DeleteColumnFamilyAction, which is a workaround before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13415&quot; title=&quot;Procedure V2 - Use nonces for double submits from client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13415&quot;&gt;&lt;del&gt;HBASE-13415&lt;/del&gt;&lt;/a&gt;. When master failover takes place, a single add/delete column family request may spawn multiple procids. When one of procedures succeeds, the other would complain the column family already exists/not exists.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Pending issues:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When the test gets to hbck, it fails with inconsistencies&lt;/li&gt;
	&lt;li&gt;Test may fail before getting to hbck.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We are investigating those failures from internal cluster runs and will file Apache BUG if it turns out to be product issues.&lt;/p&gt;</comment>
                            <comment id="14573751" author="philosophia" created="Thu, 4 Jun 2015 23:02:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt;-v3.patch uploaded to review board.&lt;/p&gt;

&lt;p&gt;Test passed on secure/unsecure 7-node distributed clusters.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt;-v3.patch made the following fix:&lt;br/&gt;
loose restriction for &lt;tt&gt;TableNotDisabledException/TableNotEnabledException&lt;/tt&gt; thrown in sync operations, because&lt;/p&gt;

&lt;p&gt;1. when enable/disable starts, the table state is changed to ENABLING/DISABLING (ZK node in 1.x),&lt;br/&gt;
which will be further changed to ENABLED/DISABLED once the operation completes&lt;br/&gt;
2. if master failover happens in the middle of the enable/disable operation, the new master will try&lt;br/&gt;
to recover the tables in ENABLING/DISABLING state, as programmed in&lt;br/&gt;
AssignmentManager#recoverTableInEnablingState() and AssignmentManager#recoverTableInDisablingState()&lt;br/&gt;
3. after the new master initialization completes, the procedure tries to re-do the enable/disable&lt;br/&gt;
operation, which was already done&lt;/p&gt;

&lt;p&gt;Ignore those exceptions before change of behaviors of AssignmentManager in presence of PV2&lt;/p&gt;</comment>
                            <comment id="14579880" author="philosophia" created="Wed, 10 Jun 2015 02:30:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt;-v4.patch ignores TableNotFoundException in DELETE_TABLE ACTION when client makes duplicate retries after delete completes during master failover&lt;/p&gt;</comment>
                            <comment id="14582478" author="syuanjiang" created="Thu, 11 Jun 2015 20:28:45 +0000"  >&lt;p&gt;The patch can be reviewed in &lt;a href=&quot;https://reviews.apache.org/r/33603/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/33603/&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14587325" author="enis" created="Tue, 16 Jun 2015 02:01:27 +0000"  >&lt;p&gt;v5 patch with trivial changes for formatting and javadoc. &lt;br/&gt;
Will commit this after hadoopqa run. &lt;/p&gt;</comment>
                            <comment id="14588719" author="enis" created="Tue, 16 Jun 2015 20:32:21 +0000"  >&lt;p&gt;v6 patch from Sophia. I am just facilitating on her behalf. Hadoopqa ran on v5, but did not report here it seems for whatever reason.&lt;/p&gt;</comment>
                            <comment id="14588741" author="mbertozzi" created="Tue, 16 Jun 2015 20:41:44 +0000"  >&lt;p&gt;+1 let&apos;s get this test in!&lt;/p&gt;</comment>
                            <comment id="14589071" author="ndimiduk" created="Wed, 17 Jun 2015 00:13:32 +0000"  >&lt;p&gt;Not sure where buildbot went. This is what I get when I run test-patch locally&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  &lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 7 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version ) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 13 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;</comment>
                            <comment id="14589194" author="hadoopqa" created="Wed, 17 Jun 2015 02:23:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739967/hbase-13740_v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739967/hbase-13740_v6.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f469c3bd97d1465534c52dc22934633bdddf189a.&lt;br/&gt;
  ATTACHMENT ID: 12739967&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 7 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.hadoop.hbase.client.TestFastFail.testFastFail(TestFastFail.java:244)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestFromClientSide.testVersionLimits(TestFromClientSide.java:1650)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestReplicasClient.testSmallScanWithReplicas(TestReplicasClient.java:612)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestHTableMultiplexer.testHTableMultiplexer(TestHTableMultiplexer.java:122)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestTableSnapshotScanner.testScanner(TestTableSnapshotScanner.java:132)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.TestTableSnapshotScanner.testWithOfflineHBaseMultiRegion(TestTableSnapshotScanner.java:124)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14439//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14589316" author="hadoopqa" created="Wed, 17 Jun 2015 05:13:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12739999/hbase-13740_v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12739999/hbase-13740_v6.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f469c3bd97d1465534c52dc22934633bdddf189a.&lt;br/&gt;
  ATTACHMENT ID: 12739999&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 7 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14442//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14589331" author="enis" created="Wed, 17 Jun 2015 05:28:12 +0000"  >&lt;p&gt;hadoopqa seems to be back. The javadoc and test failures are not related. &lt;/p&gt;

&lt;p&gt;I&apos;ve committed this to 1.1+. Thanks Sophia for the patch. &lt;/p&gt;</comment>
                            <comment id="14589437" author="hudson" created="Wed, 17 Jun 2015 07:48:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #547 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/547/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/547/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; High level Integration test for master DDL operations (Sophia Feng) (enis: rev 635dae324dcbb78cbafe821fa6fd68e1f2a544b6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestDDLMasterFailover.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MasterKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14589586" author="hudson" created="Wed, 17 Jun 2015 10:12:30 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6579 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6579/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6579/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; High level Integration test for master DDL operations (Sophia Feng) (enis: rev 1b5ad45b8584afce8f8dc0be558844b7401c0caf)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MasterKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestDDLMasterFailover.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14589657" author="hudson" created="Wed, 17 Jun 2015 11:43:17 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #19 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/19/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/19/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; High level Integration test for master DDL operations (Sophia Feng) (enis: rev 8b9eb5f1c52e8eb5c8b2937f1f50ab6869f8bf7f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MasterKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestDDLMasterFailover.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14589673" author="hudson" created="Wed, 17 Jun 2015 12:01:33 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #4 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/4/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; High level Integration test for master DDL operations (Sophia Feng) (enis: rev 5bf7945b5b0ca5067c6d624b05a9edb5cc5c9733)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestDDLMasterFailover.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MasterKillingMonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14740041" author="hudson" created="Fri, 11 Sep 2015 02:35:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #1115 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1115/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1115/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14371&quot; title=&quot;Backport the MasterKillingMonkeyFactory from HBASE-13470 to 0.98 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14371&quot;&gt;&lt;del&gt;HBASE-14371&lt;/del&gt;&lt;/a&gt; Backport the MasterKillingMonkeyFactory from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; to 0.98 (apurtell: rev 66cb12d86dd71df43d924e9f5bfaec839f7e5b8d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MasterKillingMonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14740124" author="hudson" created="Fri, 11 Sep 2015 03:56:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1069 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1069/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1069/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14371&quot; title=&quot;Backport the MasterKillingMonkeyFactory from HBASE-13470 to 0.98 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14371&quot;&gt;&lt;del&gt;HBASE-14371&lt;/del&gt;&lt;/a&gt; Backport the MasterKillingMonkeyFactory from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; to 0.98 (apurtell: rev 66cb12d86dd71df43d924e9f5bfaec839f7e5b8d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MasterKillingMonkeyFactory.java&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/chaos/factories/MonkeyFactory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12833922">HBASE-13812</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12855364">HBASE-14212</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12726797" name="HBASE-13470-v0.patch" size="25389" author="philosophia" created="Tue, 21 Apr 2015 05:41:33 +0000"/>
                            <attachment id="12728528" name="HBASE-13470-v1.patch" size="26737" author="philosophia" created="Mon, 27 Apr 2015 22:47:58 +0000"/>
                            <attachment id="12736281" name="HBASE-13470-v2.patch" size="31820" author="philosophia" created="Fri, 29 May 2015 23:20:05 +0000"/>
                            <attachment id="12737721" name="HBASE-13470-v3.patch" size="34152" author="philosophia" created="Thu, 4 Jun 2015 23:02:06 +0000"/>
                            <attachment id="12738730" name="HBASE-13470-v4.patch" size="34548" author="philosophia" created="Wed, 10 Jun 2015 02:30:30 +0000"/>
                            <attachment id="12739761" name="hbase-13740_v5.patch" size="35073" author="enis" created="Tue, 16 Jun 2015 02:01:27 +0000"/>
                            <attachment id="12739999" name="hbase-13740_v6.patch" size="35405" author="ndimiduk" created="Tue, 16 Jun 2015 23:50:37 +0000"/>
                            <attachment id="12739967" name="hbase-13740_v6.patch" size="35405" author="enis" created="Tue, 16 Jun 2015 20:32:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Apr 2015 05:41:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d98n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>