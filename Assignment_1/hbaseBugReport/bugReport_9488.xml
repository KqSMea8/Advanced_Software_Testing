<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:04:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9488/HBASE-9488.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9488] Improve performance for small scan</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9488</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;review board:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/14059/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/14059/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Performance Improvement&lt;/b&gt;&lt;br/&gt;
Test shows about 1.5~3X improvement for small scan where limit&amp;lt;=50 under cache hit ratio=100%.&lt;br/&gt;
See more performance test result from the picture attachment&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Usage:&lt;/b&gt;&lt;br/&gt;
Scan scan = new Scan(startRow,stopRow);&lt;br/&gt;
scan.setSmall(true);&lt;br/&gt;
ResultScanner scanner = table.getScanner(scan);&lt;/p&gt;

&lt;p&gt;Set the new &apos;small&apos; attribute as true for scan object, others are the same&lt;/p&gt;



&lt;p&gt;Now, one scan operation would call 3 RPC at least:&lt;br/&gt;
openScanner();&lt;br/&gt;
next();&lt;br/&gt;
closeScanner();&lt;/p&gt;

&lt;p&gt;I think we could reduce the RPC call to one for small scan to get better performance&lt;/p&gt;

&lt;p&gt;Also using pread is better than seek+read for small scan (For this point, see more on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7266&quot; title=&quot;[89-fb] Using pread for non-compaction read request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7266&quot;&gt;HBASE-7266&lt;/a&gt;)&lt;/p&gt;


&lt;p&gt;Implements such a small scan as the patch, and take the performance test as following:&lt;/p&gt;

&lt;p&gt;a.Environment&#65306;&lt;br/&gt;
patched on 0.94 version&lt;br/&gt;
one regionserver; &lt;br/&gt;
one client with 50 concurrent threads;&lt;br/&gt;
KV size:50/100;&lt;br/&gt;
100% LRU cache hit ratio;&lt;br/&gt;
Random start row of scan&lt;/p&gt;


&lt;p&gt;b.Results:&lt;br/&gt;
See the picture attachment&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12667730">HBASE-9488</key>
            <summary>Improve performance for small scan</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjushch">chunhui shen</assignee>
                                    <reporter username="zjushch">chunhui shen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Sep 2013 03:06:33 +0000</created>
                <updated>Fri, 8 Nov 2013 00:03:15 +0000</updated>
                            <resolved>Wed, 18 Sep 2013 02:07:10 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.0</fixVersion>
                    <fixVersion>0.94.13</fixVersion>
                                    <component>Client</component>
                    <component>Performance</component>
                    <component>Scanners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                <comments>
                            <comment id="13762730" author="stack" created="Tue, 10 Sep 2013 04:59:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt; Doesn&apos;t Get do a &apos;short scan&apos; using pread?  Should we change the args passed so rather than &apos;boolean isGet, boolean usePread&apos;, we instead pass one arg &apos;boolean shortScan&apos;. &lt;/p&gt;

&lt;p&gt;Is this caching location?&lt;/p&gt;

&lt;p&gt;+  public HRegionInfo getHRegionInfo() {&lt;br/&gt;
+    if (this.location == null) &lt;/p&gt;
{
+      return null;
+    }
&lt;p&gt;+    return this.location.getRegionInfo();&lt;/p&gt;

&lt;p&gt;Will we cache a location across changes?  i.e. changes in location for the HRegionInfo?&lt;/p&gt;

&lt;p&gt;Does this have to public +public class ClientSmallScanner extends AbstractClientScanner {?&lt;/p&gt;

&lt;p&gt;You have a better explanation of what the limitations are elsewhere in your patch than this which you have as javadoc:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+   * This is &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; by &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; which means use seek + read. If set &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; to &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
+   * the server will use pread.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You should instead say that the amount of data should be small and inside the one region.  That we do pread should be incidental info.&lt;/p&gt;

&lt;p&gt;Should the Scan check that the stoprow is inside a single region and fail if not?  Or just fall back to old behavior?  That is what we do?&lt;/p&gt;

&lt;p&gt;I skimmed the rest.  Looks good.&lt;/p&gt;</comment>
                            <comment id="13762800" author="zjushch" created="Tue, 10 Sep 2013 06:54:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;we instead pass one arg &apos;boolean shortScan&apos;. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In the method  HStore#getScanners, &lt;/p&gt;
{format}storeFilesToScan =this.storeEngine.getStoreFileManager().getFilesForScanOrGet(isGet, startRow, stopRow);{format}
&lt;p&gt;The arg &apos;isGet&apos; is used, thus need a new arg to specify whether using pread&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is this caching location? Will we cache a location across changes? i.e. changes in location for the HRegionInfo?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure, it use current client region cache mechanism&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Does this have to public +public class ClientSmallScanner extends AbstractClientScanner {?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Existed ClientScanner is also public, keep the same with it&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You should instead say that the amount of data should be small and inside the one region.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If the scan range is within one data block, it could be considered as a small scan&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;Should the Scan check that the stoprow is inside a single region and fail if not?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Now, I hope it is controlled by user. e.g. if the scan cross multi regions, but only scan two rows, in that case, small scan also be better.&lt;/p&gt;


&lt;p&gt;Improve the javadoc of Scan#small in patch-V2&lt;/p&gt;

&lt;p&gt;review board:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/14059/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/14059/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13762833" author="stepinto" created="Tue, 10 Sep 2013 08:03:12 +0000"  >&lt;p&gt;Great patch! We planned to do this too. I didn&apos;t get how you reduce RPCs to one (is it implemented in this patch?).&lt;/p&gt;</comment>
                            <comment id="13762842" author="zjushch" created="Tue, 10 Sep 2013 08:29:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;I didn&apos;t get how you reduce RPCs to one (is it implemented in this patch?).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, See the ClientSmallScanner in the patch.&lt;/p&gt;

&lt;p&gt;With the patch, no RPC when calling HTable#getScanner and ResultScanner#close, only call RPC when calling ResultScanner#next&lt;/p&gt;</comment>
                            <comment id="13762844" author="nkeywal" created="Tue, 10 Sep 2013 08:30:50 +0000"  >&lt;p&gt;Impressive patch. &lt;br/&gt;
Some comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;As Stack said, does it needs to be public? But it&apos;s strange, AbstractClientScanner is public as well...&lt;/li&gt;
	&lt;li&gt;The javadocs mentions ShortClientScanner.&lt;/li&gt;
	&lt;li&gt;hbase.client.smallscanner.caching should be in hbase-default, it&apos;s an important setting&lt;/li&gt;
	&lt;li&gt;there seeems to be some duplication between ClientScanner &amp;amp; this class, may be some stuff could be shared...&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13763245" author="lhofhansl" created="Tue, 10 Sep 2013 17:13:49 +0000"  >&lt;p&gt;Nit: I should have done that when I broken ClientScanner and AbstractClientScanner out, but while you&apos;re at it, can you pull &lt;tt&gt;public Result[] next(int nbRows) throws IOException&lt;/tt&gt; up into AsbtractClientScanner and remove it from ClientScanner and SmallClientScanner?&lt;/p&gt;</comment>
                            <comment id="13763276" author="lhofhansl" created="Tue, 10 Sep 2013 17:42:09 +0000"  >&lt;p&gt;Would also be nice to have this in 0.94. The patch would be a bit different:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;add &lt;tt&gt;next(byte[] regionName, Scan scan, int numberOfRows&lt;/tt&gt; to HRegionInterface and HRegion&lt;/li&gt;
	&lt;li&gt;in the new next(...) method on HRegionServer call openScanner, followed by the actual next, followed by close()&lt;/li&gt;
	&lt;li&gt;the smallScan bit would be encoded as a scan attribute&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13763905" author="zjushch" created="Wed, 11 Sep 2013 03:11:18 +0000"  >&lt;p&gt;Patch-v3 do the following changes:&lt;br/&gt;
1.Share the duplication code between ClientScanner &amp;amp; ClientSmallScanner, (Now, ClientSmallScanner extends ClientScanner)&lt;br/&gt;
2.Support scan metrics in  ClientSmallScanner&lt;br/&gt;
3.Addressing the other comments from above and review board&lt;/p&gt;


&lt;p&gt;Make the 0.94 branch patch as Lars mentioned, (The new method of HRegionInterface is named &apos;scan&apos;, seems more appropriate for me)&lt;/p&gt;</comment>
                            <comment id="13763987" author="hadoopqa" created="Wed, 11 Sep 2013 04:50:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12602504/HBASE-9488-trunkV3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12602504/HBASE-9488-trunkV3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7139//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13764000" author="stack" created="Wed, 11 Sep 2013 05:22:04 +0000"  >

&lt;p&gt;+1 on commit for trunk and 0.96.&lt;/p&gt;

&lt;p&gt;I tried it.  Here is scan of two rows without setting &apos;short&apos; scan (Below is rpcserver debug on regionserver):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-09-10 22:16:57,525 DEBUG [RpcServer.handler=19,port=60020] ipc.RpcServer: callId: 4 service: ClientService methodName: Scan size: 143.0 connection: 192.168.1.129:53587 executing as stack
2013-09-10 22:16:57,526 DEBUG [RpcServer.handler=19,port=60020] ipc.RpcServer: RpcServer.responder: callId: 4 wrote 25 bytes.
2013-09-10 22:16:57,526 DEBUG [RpcServer.handler=24,port=60020] ipc.RpcServer: callId: 5 service: ClientService methodName: Scan size: 29.0 connection: 192.168.1.129:53587 executing as stack
2013-09-10 22:16:57,526 DEBUG [RpcServer.handler=24,port=60020] ipc.RpcServer: RpcServer.responder: callId: 5 wrote 2150 bytes.
2013-09-10 22:16:57,527 DEBUG [RpcServer.handler=26,port=60020] ipc.RpcServer: callId: 6 service: ClientService methodName: Scan size: 27.0 connection: 192.168.1.129:53587 executing as stack
2013-09-10 22:16:57,527 DEBUG [RpcServer.handler=26,port=60020] ipc.RpcServer: RpcServer.responder: callId: 6 wrote 21 bytes.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thats open, next, and close (I presume); all call the &apos;scan&apos; method.&lt;/p&gt;

&lt;p&gt;Here is what I see when I set short scan to true:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-09-10 22:20:54,164 DEBUG [RpcServer.handler=11,port=60020] ipc.RpcServer: callId: 4 service: ClientService methodName: Scan size: 145.0 connection: 192.168.1.129:53605 executing as stack
2013-09-10 22:20:54,164 DEBUG [RpcServer.handler=11,port=60020] ipc.RpcServer: RpcServer.responder: callId: 4 wrote 2146 bytes.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Just one call in which open, next, and close are all done.&lt;/p&gt;

&lt;p&gt;Please change this log to trace level on commit because it will get annoying pretty quick given DEBUG is our default log level:&lt;/p&gt;

&lt;p&gt;+    if (LOG.isDebugEnabled()) &lt;/p&gt;
{
+      LOG.debug(&quot;Advancing internal small scanner to startKey at &apos;&quot;
+          + Bytes.toStringBinary(localStartKey) + &quot;&apos;&quot;);
+    }


&lt;p&gt;Nice one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davelatham&quot; class=&quot;user-hover&quot; rel=&quot;davelatham&quot;&gt;Dave Latham&lt;/a&gt; You want this don&apos;t you?&lt;/p&gt;</comment>
                            <comment id="13764012" author="davelatham" created="Wed, 11 Sep 2013 05:47:43 +0000"  >&lt;p&gt;Yes - we were discussing trimming short scans on dev list a few weeks back.  For my purposes this change would be nice, especially if it will be set for META table prefetch queries.&lt;/p&gt;

&lt;p&gt;I worry though that Scan.setSmall adds to the API area and is going to be confusing to people. It would be  if we found a way to do it more automatically, though that sounds difficult.  At the least we should probably have more of the documentation on the public Scan methods rather than the private field.&lt;/p&gt;</comment>
                            <comment id="13764016" author="davelatham" created="Wed, 11 Sep 2013 05:48:32 +0000"  >&lt;p&gt;(Argh - that should be &quot;it would be nice if we found a way to do it more automatically&quot;)&lt;/p&gt;</comment>
                            <comment id="13764037" author="zjushch" created="Wed, 11 Sep 2013 06:14:39 +0000"  >&lt;p&gt;Patch-v4:&lt;br/&gt;
1.Change the log level from debug to trace&lt;br/&gt;
2.Add more documentation for the method Scan#setSmall&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;it would be nice if we found a way to do it more automatically&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Seems quite difficult~~~&lt;/p&gt;</comment>
                            <comment id="13764134" author="nkeywal" created="Wed, 11 Sep 2013 08:56:14 +0000"  >&lt;p&gt;+1 for the last version as well.&lt;/p&gt;

&lt;p&gt;Partly unrelated question: for standard scanners, would it makes sense to merge the rpc calls for open and the first scan?&lt;/p&gt;</comment>
                            <comment id="13764165" author="hadoopqa" created="Wed, 11 Sep 2013 09:48:53 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12602534/HBASE-9488-trunkV4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12602534/HBASE-9488-trunkV4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7146//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13764170" author="zjushch" created="Wed, 11 Sep 2013 09:56:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;for standard scanners, would it makes sense to merge the rpc calls for open and the first scan?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good idea!&lt;/p&gt;

&lt;p&gt;Seems feasible and I have tried to make the path.&lt;/p&gt;</comment>
                            <comment id="13764211" author="hadoopqa" created="Wed, 11 Sep 2013 11:19:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12602557/mergeRpcCallForScan.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12602557/mergeRpcCallForScan.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientScannerRPCTimeout&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7147//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13764445" author="stack" created="Wed, 11 Sep 2013 16:11:13 +0000"  >&lt;p&gt;Rerun hadoopqa while &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt; is sleeping to see if the failures are because of the patch or just flakeyness&lt;/p&gt;</comment>
                            <comment id="13764485" author="davelatham" created="Wed, 11 Sep 2013 17:00:25 +0000"  >&lt;p&gt;Brainstorming on other approaches to do more automatically instead of adding to the client api:&lt;br/&gt;
Looks like this patch goes for 2 optimizations for small scans - using pread, and reducing RPCs.&lt;/p&gt;

&lt;p&gt;For preads we could go with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7266&quot; title=&quot;[89-fb] Using pread for non-compaction read request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7266&quot;&gt;HBASE-7266&lt;/a&gt; and turn them on for all scans.  Another possibility would be to use a pread for the first batch of results, and then only if a scanner remains open for more batches flip to seek+read.&lt;/p&gt;

&lt;p&gt;For reducing RPCs as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; points out we should return the first set of results for all scans (Is 0.96 already doing this?  0.94 doesn&apos;t).  Then if the stopRow is hit or a filter indicates completion we should also be able to close the scanner eagerly (again, I think 0.96 does this).  That would mean that scans which are small from the range (startRow to stopRow) or filters would complete in a single RPC.  However some small scans may be short due to other conditions.  For example, the META prefetch scan uses a fixed limit of rows.  Perhaps adding a row limit to a scan would be a more clear API?&lt;/p&gt;

&lt;p&gt;With these together it seems that short scans would automatically result in just a pread and a single RPC without having to add to the API.&lt;/p&gt;

&lt;p&gt;All that said, I don&apos;t want to rain on working code.  Could we conceivably start with this patch then remove the method later if we get the above?  What do other people think about the ideas?&lt;/p&gt;</comment>
                            <comment id="13764506" author="stack" created="Wed, 11 Sep 2013 17:13:19 +0000"  >&lt;p&gt;Agree that we should add this &amp;#8211; as it is progress &amp;#8211; but that yes, it would be better if you did not have to explicitly flip the switch.&lt;/p&gt;

&lt;p&gt;We probably should flip and enable pread as default since it seems we want it more often than not especially as gains are not that great and seek+read improperly used causes large degradation.  We can flip on seek+read doing compactions as our fb brothers and sisters have done (they also added pooling to dfsclient it seems).&lt;/p&gt;

&lt;p&gt;Ditto for working to make it so scan is one rpc only.&lt;/p&gt;</comment>
                            <comment id="13765107" author="zjushch" created="Thu, 12 Sep 2013 02:32:29 +0000"  >&lt;p&gt;User scan in MapReduce seems large scan often. &lt;br/&gt;
Scan with filter may read large data, using pread seems not good.&lt;/p&gt;

&lt;p&gt;It would be better if thing is automatical, however one way seems not able to fit all cases.&lt;/p&gt;

&lt;p&gt;Just like other attributes, e.g caching,cacheBlocks. Let user to optimize their scan cases with these attributes&lt;/p&gt;

</comment>
                            <comment id="13765150" author="lhofhansl" created="Thu, 12 Sep 2013 04:00:21 +0000"  >&lt;p&gt;I don&apos;t see how we can reliably default this. (I have the same problem for the parallel scanning stuff). In order to do that we need statistics (we&apos;re actually working on this here - on the backburner).&lt;/p&gt;

&lt;p&gt;The only scans we know for sure will be small are META scans.&lt;/p&gt;</comment>
                            <comment id="13766117" author="zjushch" created="Fri, 13 Sep 2013 01:07:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davelatham&quot; class=&quot;user-hover&quot; rel=&quot;davelatham&quot;&gt;Dave Latham&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Is it ready to go for patch-v4?&lt;/p&gt;</comment>
                            <comment id="13766272" author="stack" created="Fri, 13 Sep 2013 06:19:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt; +1 for 0.96 and trunk.  Make a nice release note so folks know this fancyness is there.  Thanks Chunhui.&lt;/p&gt;</comment>
                            <comment id="13766559" author="davelatham" created="Fri, 13 Sep 2013 15:50:42 +0000"  >&lt;p&gt;I guess I&apos;m -0.  No objections if nobody else is bothered by the API addition.  Will definitely appreciate the performance boost in our own setup.&lt;/p&gt;</comment>
                            <comment id="13767997" author="zjushch" created="Mon, 16 Sep 2013 01:49:27 +0000"  >&lt;p&gt;Will commit it tomorrow if no objections&lt;/p&gt;</comment>
                            <comment id="13769342" author="zjushch" created="Tue, 17 Sep 2013 08:59:28 +0000"  >&lt;p&gt;Rebasing the patch&lt;/p&gt;</comment>
                            <comment id="13769407" author="hadoopqa" created="Tue, 17 Sep 2013 10:30:21 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603570/HBASE-9488-trunkV5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603570/HBASE-9488-trunkV5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7268//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13770311" author="zjushch" created="Wed, 18 Sep 2013 02:05:44 +0000"  >&lt;p&gt;Committed to trunk and 0.96 branch.&lt;br/&gt;
Thanks for the review, Stack,  Ted, Dave.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;br/&gt;
DO you want to take it for 0.94-branch? &lt;br/&gt;
94-v3.patch is ok for 0.94&lt;/p&gt;



</comment>
                            <comment id="13770465" author="hudson" created="Wed, 18 Sep 2013 05:53:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4526 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4526/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4526/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9488&quot; title=&quot;Improve performance for small scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9488&quot;&gt;&lt;del&gt;HBASE-9488&lt;/del&gt;&lt;/a&gt; Improve performance for small scan (zjushch: rev 1524272)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13770510" author="hudson" created="Wed, 18 Sep 2013 06:47:07 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #66 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/66/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/66/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9488&quot; title=&quot;Improve performance for small scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9488&quot;&gt;&lt;del&gt;HBASE-9488&lt;/del&gt;&lt;/a&gt; Improve performance for small scan (zjushch: rev 1524273)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13770715" author="hudson" created="Wed, 18 Sep 2013 12:28:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #738 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/738/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/738/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9488&quot; title=&quot;Improve performance for small scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9488&quot;&gt;&lt;del&gt;HBASE-9488&lt;/del&gt;&lt;/a&gt; Improve performance for small scan (zjushch: rev 1524272)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13770736" author="hudson" created="Wed, 18 Sep 2013 12:47:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #36 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/36/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/36/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9488&quot; title=&quot;Improve performance for small scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9488&quot;&gt;&lt;del&gt;HBASE-9488&lt;/del&gt;&lt;/a&gt; Improve performance for small scan (zjushch: rev 1524273)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13773733" author="lhofhansl" created="Sat, 21 Sep 2013 05:32:30 +0000"  >&lt;p&gt;Lemme run some tests. If I do get to those this weekend we can commit in this jira, otherwise I&apos;ll file a backport jira with your patch attached.&lt;/p&gt;</comment>
                            <comment id="13779710" author="lhofhansl" created="Fri, 27 Sep 2013 06:08:38 +0000"  >&lt;p&gt;I ran this through my simple tight loop scan tester. No performance degradation, so I&apos;m fine with committing this to 0.94.&lt;br/&gt;
If there are no objections I will so tomorrow.&lt;/p&gt;</comment>
                            <comment id="13798807" author="stepinto" created="Fri, 18 Oct 2013 05:18:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, will this be checked into 0.94 branch?&lt;/p&gt;</comment>
                            <comment id="13801414" author="lhofhansl" created="Tue, 22 Oct 2013 02:18:37 +0000"  >&lt;p&gt;Oops... Forgot... Will add today.&lt;/p&gt;</comment>
                            <comment id="13801483" author="lhofhansl" created="Tue, 22 Oct 2013 05:00:25 +0000"  >&lt;p&gt;Also committed to 0.94. Thanks for the patch, Chunhui, and the reminder, Chao.&lt;/p&gt;</comment>
                            <comment id="13801519" author="hudson" created="Tue, 22 Oct 2013 05:55:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #320 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/320/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/320/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9488&quot; title=&quot;Improve performance for small scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9488&quot;&gt;&lt;del&gt;HBASE-9488&lt;/del&gt;&lt;/a&gt; Improve performance for small scan (chunhui shen) (larsh: rev 1534494)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13801526" author="hudson" created="Tue, 22 Oct 2013 06:13:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1179 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1179/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1179/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9488&quot; title=&quot;Improve performance for small scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9488&quot;&gt;&lt;del&gt;HBASE-9488&lt;/del&gt;&lt;/a&gt; Improve performance for small scan (chunhui shen) (larsh: rev 1534494)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/ServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/StoreScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602274" name="HBASE-9488-trunk.patch" size="38369" author="zjushch" created="Tue, 10 Sep 2013 03:07:33 +0000"/>
                            <attachment id="12602298" name="HBASE-9488-trunkV2.patch" size="38682" author="zjushch" created="Tue, 10 Sep 2013 06:56:58 +0000"/>
                            <attachment id="12602504" name="HBASE-9488-trunkV3.patch" size="39361" author="zjushch" created="Wed, 11 Sep 2013 03:06:18 +0000"/>
                            <attachment id="12602603" name="HBASE-9488-trunkV4.patch" size="39972" author="stack" created="Wed, 11 Sep 2013 16:11:13 +0000"/>
                            <attachment id="12602534" name="HBASE-9488-trunkV4.patch" size="39972" author="zjushch" created="Wed, 11 Sep 2013 06:14:39 +0000"/>
                            <attachment id="12603570" name="HBASE-9488-trunkV5.patch" size="39947" author="zjushch" created="Tue, 17 Sep 2013 08:59:28 +0000"/>
                            <attachment id="12602503" name="hbase-9488-94-v3.patch" size="24523" author="zjushch" created="Wed, 11 Sep 2013 03:06:05 +0000"/>
                            <attachment id="12602557" name="mergeRpcCallForScan.patch" size="5030" author="zjushch" created="Wed, 11 Sep 2013 10:00:32 +0000"/>
                            <attachment id="12602275" name="test results.jpg" size="108451" author="zjushch" created="Tue, 10 Sep 2013 03:07:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Sep 2013 04:59:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ny7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Better perfomance for small scan (e.g. scan range is within one data block(64KB)) through setting &amp;#39;small&amp;#39; attribute as true in Scan Object</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>