<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:33:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6052/HBASE-6052.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6052] Convert .META. and -ROOT- content to pb</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6052</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12556447">HBASE-6052</key>
            <summary>Convert .META. and -ROOT- content to pb</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12540505">HBASE-5305</parent>
                                    <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 May 2012 20:25:30 +0000</created>
                <updated>Wed, 11 Jun 2014 23:00:30 +0000</updated>
                            <resolved>Tue, 28 Aug 2012 03:50:45 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13426264" author="enis" created="Wed, 1 Aug 2012 01:17:35 +0000"  >&lt;p&gt;Stack, mind if I attack this? &lt;/p&gt;</comment>
                            <comment id="13426306" author="lhofhansl" created="Wed, 1 Aug 2012 03:49:18 +0000"  >&lt;p&gt;Shouldn&apos;t we just get rid of ROOT?&lt;/p&gt;</comment>
                            <comment id="13426332" author="mcorgan" created="Wed, 1 Aug 2012 05:11:42 +0000"  >&lt;p&gt;I haven&apos;t looked into the details to figure out if it&apos;s possible or if it&apos;s way outside the scope of this issue, but getting these tables to use the same comparator as normal KeyValues would simplify a lot of other things.  Is that wishful thinking?&lt;/p&gt;</comment>
                            <comment id="13426380" author="stack" created="Wed, 1 Aug 2012 08:47:27 +0000"  >&lt;p&gt;Thanks Enis.  I can&apos;t get to this for a while yet.&lt;/p&gt;

&lt;p&gt;Getting rid of &lt;del&gt;ROOT&lt;/del&gt; would make it so we now had two rather than three comparators&apos; for KVs.&lt;/p&gt;</comment>
                            <comment id="13426815" author="enis" created="Wed, 1 Aug 2012 18:52:11 +0000"  >&lt;p&gt;@Lars, are you referring &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3171&quot; title=&quot;Drop ROOT and instead store META location(s) directly in ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3171&quot;&gt;&lt;del&gt;HBASE-3171&lt;/del&gt;&lt;/a&gt;? It seems it is not going to make it into 0.96, wdyt? &lt;br/&gt;
BTW, I am all in favor of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3171&quot; title=&quot;Drop ROOT and instead store META location(s) directly in ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3171&quot;&gt;&lt;del&gt;HBASE-3171&lt;/del&gt;&lt;/a&gt;, since it will make zk the absolute authority about the state of the regions, and simplify split/merge. Should we focus on that instead?&lt;/p&gt;</comment>
                            <comment id="13426866" author="lhofhansl" created="Wed, 1 Aug 2012 20:09:17 +0000"  >&lt;p&gt;@Enis: Yep. If we continue to assume a single .META. region for now, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3171&quot; title=&quot;Drop ROOT and instead store META location(s) directly in ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3171&quot;&gt;&lt;del&gt;HBASE-3171&lt;/del&gt;&lt;/a&gt; should not even be that hard (famous last words).&lt;br/&gt;
.META. content would still need to be &quot;protobuffed&quot;.&lt;/p&gt;</comment>
                            <comment id="13428385" author="enis" created="Fri, 3 Aug 2012 21:08:04 +0000"  >&lt;p&gt;I&apos;m mostly done on the patch for this, but one issue came up while working on the migration script. I intend to remove the meta migration code from 0.90 &amp;#45;&amp;gt; 0.92|0.94, and add meta migration from 0.92|0,94 &amp;#45;&amp;gt; 0.96, but if we remove those parts, then 0.90-&amp;gt;0.96 won&apos;t be supported. &lt;/p&gt;

&lt;p&gt;The convention for us has been that it is ok to drop support from 0.90 to 0.96, but just wanted to make it explicit that it will indeed be the case. wdyt?&lt;/p&gt;</comment>
                            <comment id="13428396" author="zhihyu@ebaysf.com" created="Fri, 3 Aug 2012 21:16:39 +0000"  >&lt;p&gt;Direct migration from 0.90 to 0.96 won&apos;t be supported.&lt;/p&gt;</comment>
                            <comment id="13428400" author="lhofhansl" created="Fri, 3 Aug 2012 21:38:59 +0000"  >&lt;p&gt;I would agree with that (no path from 0.90-0.96). I do recall discussions on the DEV list suggesting that need to provide such an upgrade path, though.&lt;/p&gt;</comment>
                            <comment id="13428527" author="enis" created="Sat, 4 Aug 2012 01:50:04 +0000"  >&lt;p&gt;Uploaded a patch to &lt;a href=&quot;https://reviews.apache.org/r/6327/diff/#index_header&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6327/diff/#index_header&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Changes HRegionInfo serialization in META and ROOT from Writable to PB. &lt;/p&gt;

&lt;p&gt;The first version of the patch: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;converts references for HRegionInfo serialization into PB&lt;/li&gt;
	&lt;li&gt;changes most of the code paths that does META operations into using MetaEditor and MetaReader methods.&lt;/li&gt;
	&lt;li&gt;Support migration from 0.92 and 0.94 to 0.96. Migration code is adapted from the 0.90-&amp;gt;0.92 migration code.&lt;/li&gt;
	&lt;li&gt;Remove classes supporting 0.90 -&amp;gt; 0.92 migration. HRegionInfo090x, MetaMigrationRemovingHTD, etc&lt;/li&gt;
	&lt;li&gt;Changes ruby shell to use new serialization&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;NOTE: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;META table contains info:server and info:startCode as String and int serialized with Bytes.toBytes(). Those are not converted to PB structures.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428558" author="hadoopqa" created="Sat, 4 Aug 2012 04:53:31 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12539138/HBASE-6052_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12539138/HBASE-6052_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2504//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2504//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13428560" author="zhihyu@ebaysf.com" created="Sat, 4 Aug 2012 05:10:19 +0000"  >&lt;p&gt;The following change to HMaster.java was the cause for patch v2 not to apply:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
- &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.ProtobufUtil;
- &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.ResponseConverter;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13428597" author="stack" created="Sat, 4 Aug 2012 10:39:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;META table contains info:server and info:startCode as String and int serialized with Bytes.toBytes(). Those are not converted to PB structures.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;d think its fine to leave these as is and do them in another issue or later.  When we do migrate them, we should put them together in a new field, info:servername or some such.  They should never have been distinct.  We could pb then the combined column.&lt;/p&gt;

&lt;p&gt;Good stuff Enis.&lt;/p&gt;</comment>
                            <comment id="13429605" author="enis" created="Tue, 7 Aug 2012 00:13:53 +0000"  >&lt;p&gt;v3 up in PB. Thanks for the reviews&lt;/p&gt;</comment>
                            <comment id="13429685" author="hadoopqa" created="Tue, 7 Aug 2012 03:03:00 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12539385/HBASE-6052_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12539385/HBASE-6052_v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 4 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.catalog.TestMetaMigrationConvertingToPB&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2525//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13430845" author="enis" created="Wed, 8 Aug 2012 03:37:14 +0000"  >&lt;p&gt;Updated the latest patch at RB, and here. Also added the tgz file to go under hbase-server/src/test/data/TestMetaMigrationConvertToPB.tgz&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed the tests. TestMetaMigrationConvertingToPB cannot be run by jenkins since the patch does not contain the binary tgz file. Javac warnings seems unrelated, and there is no way to easily find findbugs warnings. I am not sure the patch actually introduces one. &lt;/p&gt;</comment>
                            <comment id="13430861" author="zhihyu@ebaysf.com" created="Wed, 8 Aug 2012 04:30:47 +0000"  >&lt;p&gt;Patch v5 adds TestMetaMigrationConvertToPB.tgz as part of diff.&lt;/p&gt;</comment>
                            <comment id="13430862" author="hadoopqa" created="Wed, 8 Aug 2012 04:33:57 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12539767/HBASE-6052_v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12539767/HBASE-6052_v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 4 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestFromClientSide&lt;br/&gt;
                  org.apache.hadoop.hbase.catalog.TestMetaMigrationConvertingToPB&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2530//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13430864" author="hadoopqa" created="Wed, 8 Aug 2012 04:43:50 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12539770/6052-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12539770/6052-v5.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 71 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2531//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2531//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13432062" author="zhihyu@ebaysf.com" created="Thu, 9 Aug 2012 18:50:52 +0000"  >&lt;p&gt;I ran TestMetaMigrationConvertToPB and it passed locally:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] HBase - Server .................................... SUCCESS [4:51.820s]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;TestSplitLogManager#testOrphanTaskAcquisition passed locally as well.&lt;/p&gt;</comment>
                            <comment id="13432230" author="zhihyu@ebaysf.com" created="Thu, 9 Aug 2012 22:24:08 +0000"  >&lt;p&gt;@Enis:&lt;br/&gt;
Will review your latest changes.&lt;/p&gt;

&lt;p&gt;People (including Todd) discovered various issues using the previous .META. migration feature.&lt;br/&gt;
Please perform upgrade from 0.92 to 0.96 using your patch so that we have higher confidence.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13439984" author="enis" created="Thu, 23 Aug 2012 00:54:21 +0000"  >&lt;p&gt;Latest patch from RB. &lt;br/&gt;
@Ted, the patch has a test, which brings up a cluster from an actual 0.92 data. Also I have tested this manually on local mode, but first bringing up a 92 and 94 cluster, writing some data, then doing the migration. &lt;/p&gt;</comment>
                            <comment id="13439985" author="enis" created="Thu, 23 Aug 2012 00:54:39 +0000"  >&lt;p&gt;Resubmit to jenkins&lt;/p&gt;</comment>
                            <comment id="13439990" author="zhihyu@ebaysf.com" created="Thu, 23 Aug 2012 01:10:59 +0000"  >&lt;p&gt;@Enis:&lt;br/&gt;
Thanks for the update.&lt;/p&gt;

&lt;p&gt;Can you attach TestMetaMigrationConvertToPB.tgz to this JIRA, if it has changed ?&lt;/p&gt;</comment>
                            <comment id="13440131" author="hadoopqa" created="Thu, 23 Aug 2012 08:36:37 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542066/HBASE-6052_v7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542066/HBASE-6052_v7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2661//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2661//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13440492" author="stack" created="Thu, 23 Aug 2012 18:00:00 +0000"  >&lt;p&gt;@Enis can you put up something that applies?  You might address a few of the comments Ted raises over in RB... they are small... in the next patch you post.  Lets get this in.  Thanks boss.&lt;/p&gt;</comment>
                            <comment id="13440711" author="enis" created="Thu, 23 Aug 2012 22:03:28 +0000"  >&lt;p&gt;Latest patch from RB addressing review comments. Lets retry jenkins&lt;/p&gt;</comment>
                            <comment id="13441339" author="enis" created="Fri, 24 Aug 2012 17:55:02 +0000"  >&lt;p&gt;Retrying jenkins&lt;/p&gt;</comment>
                            <comment id="13441579" author="stack" created="Fri, 24 Aug 2012 22:59:07 +0000"  >&lt;p&gt;I&quot;m running this locally too Enis to see what results I get so we can try and get it in whatever hadoopqa is up to.&lt;/p&gt;</comment>
                            <comment id="13442713" author="yuzhihong@gmail.com" created="Mon, 27 Aug 2012 20:56:53 +0000"  >&lt;p&gt;Patch v8 attached again.&lt;/p&gt;</comment>
                            <comment id="13442727" author="enis" created="Mon, 27 Aug 2012 21:14:33 +0000"  >&lt;p&gt;Let&apos;s try jenkins one more time.&lt;/p&gt;</comment>
                            <comment id="13442728" author="hadoopqa" created="Mon, 27 Aug 2012 21:20:20 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542667/6052_v8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542667/6052_v8.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2707//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2707//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13442880" author="enis" created="Tue, 28 Aug 2012 01:31:11 +0000"  >&lt;p&gt;Patch rebased to trunk. &lt;/p&gt;</comment>
                            <comment id="13442911" author="hadoopqa" created="Tue, 28 Aug 2012 02:46:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542708/HBASE-6052_v9.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542708/HBASE-6052_v9.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 67 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 98 warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.catalog.TestMetaMigrationConvertingToPB&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2711//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13442927" author="stack" created="Tue, 28 Aug 2012 03:25:52 +0000"  >&lt;p&gt;I&apos;m going to apply this patch.  The failed test is because the data was missing and the test passes locally if data is in place.&lt;/p&gt;</comment>
                            <comment id="13442938" author="stack" created="Tue, 28 Aug 2012 03:50:45 +0000"  >&lt;p&gt;Committed to trunk.  Thanks for the mammoth patch Enis.&lt;/p&gt;</comment>
                            <comment id="13442955" author="hudson" created="Tue, 28 Aug 2012 04:53:37 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3288 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3288/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3288/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6052&quot; title=&quot;Convert .META. and -ROOT- content to pb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6052&quot;&gt;&lt;del&gt;HBASE-6052&lt;/del&gt;&lt;/a&gt; Convert .META. and &lt;del&gt;ROOT&lt;/del&gt; content to pb (Revision 1377965)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaMigrationConvertingToPB.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaMigrationRemovingHTD.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MetaScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Result.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/DataInputInputStream.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/migration/HRegionInfo090x.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HMerge.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/MetaUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Writables.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/table.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/TestMetaMigrationConvertToPB.tgz&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/MetaMockingUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/TestMetaMigrationConvertingToPB.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditorNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestMetaMigrationRemovingHTD.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManagerOnCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterTransitions.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestZKBasedOpenCloseRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/migration/TestMigrationFrom090To092.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestGetClosestAtOrBefore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/OfflineMetaRebuildTestCore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13443086" author="hudson" created="Tue, 28 Aug 2012 11:40:59 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #152 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/152/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/152/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6052&quot; title=&quot;Convert .META. and -ROOT- content to pb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6052&quot;&gt;&lt;del&gt;HBASE-6052&lt;/del&gt;&lt;/a&gt; Convert .META. and &lt;del&gt;ROOT&lt;/del&gt; content to pb (Revision 1377965)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaMigrationConvertingToPB.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaMigrationRemovingHTD.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MetaScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Result.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/DataInputInputStream.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/migration/HRegionInfo090x.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HMerge.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Merge.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/MetaUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Writables.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/table.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/TestMetaMigrationConvertToPB.tgz&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/MetaMockingUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/TestMetaMigrationConvertingToPB.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditorNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestMetaMigrationRemovingHTD.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManagerOnCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterTransitions.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestZKBasedOpenCloseRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/migration/TestMigrationFrom090To092.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestGetClosestAtOrBefore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/OfflineMetaRebuildTestCore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13443339" author="enis" created="Tue, 28 Aug 2012 18:17:53 +0000"  >&lt;p&gt;Thanks for the reviews, and bearing with me. Stack could you please do an addendum to remove&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase-server/src/test/data/hbase-4388-root.dir.tgz
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;as well. The patch fails to remove binary files I believe. &lt;/p&gt;</comment>
                            <comment id="13443349" author="stack" created="Tue, 28 Aug 2012 18:30:52 +0000"  >&lt;p&gt;@Enis np&lt;/p&gt;

&lt;p&gt;I did this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
stack-7:trunk stack$ svn commit -m &lt;span class=&quot;code-quote&quot;&gt;&quot;HBASE-6052 Convert .META. and -ROOT- content to pb; ADDENDUM REMOVE UNUSED hbase-4388-root.dir.tgz&quot;&lt;/span&gt; hbase-server/src/test/data/
Deleting       hbase-server/src/test/data/hbase-4388-root.dir.tgz
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13443495" author="hudson" created="Tue, 28 Aug 2012 20:24:20 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3290 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3290/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3290/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6052&quot; title=&quot;Convert .META. and -ROOT- content to pb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6052&quot;&gt;&lt;del&gt;HBASE-6052&lt;/del&gt;&lt;/a&gt; Convert .META. and &lt;del&gt;ROOT&lt;/del&gt; content to pb; ADDENDUM REMOVE UNUSED hbase-4388-root.dir.tgz (Revision 1378256)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/hbase-4388-root.dir.tgz&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13443661" author="hudson" created="Tue, 28 Aug 2012 23:41:25 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #153 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/153/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/153/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6052&quot; title=&quot;Convert .META. and -ROOT- content to pb&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6052&quot;&gt;&lt;del&gt;HBASE-6052&lt;/del&gt;&lt;/a&gt; Convert .META. and &lt;del&gt;ROOT&lt;/del&gt; content to pb; ADDENDUM REMOVE UNUSED hbase-4388-root.dir.tgz (Revision 1378256)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/data/hbase-4388-root.dir.tgz&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13506951" author="jdcryans" created="Thu, 29 Nov 2012 23:47:13 +0000"  >&lt;p&gt;Enis,&lt;/p&gt;

&lt;p&gt;Can we remove this log message?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; HRegionInfo getHRegionInfo(Result data) {
...
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LOG.isDebugEnabled()) {
      LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Current INFO from scan results = &quot;&lt;/span&gt; + info);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; info;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s not too spammy if you have a few regions but as soon as you reach the hundreds it becomes quite excessive. For example, try running this:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;bin/hbase org.apache.hadoop.hbase.PerformanceEvaluation --presplit=500 randomWrite 5&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13775094" author="stack" created="Mon, 23 Sep 2013 18:30:43 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12604676">HBASE-6646</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12496635">HBASE-3475</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12478689">HBASE-3171</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12720735">HBASE-11333</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12539770" name="6052-v5.txt" size="275373" author="zhihyu@ebaysf.com" created="Wed, 8 Aug 2012 04:30:46 +0000"/>
                            <attachment id="12542667" name="6052_v8.patch" size="279172" author="yuzhihong@gmail.com" created="Mon, 27 Aug 2012 20:56:53 +0000"/>
                            <attachment id="12539133" name="HBASE-6052_v1.patch" size="259008" author="enis" created="Sat, 4 Aug 2012 01:50:04 +0000"/>
                            <attachment id="12539138" name="HBASE-6052_v2.patch" size="270045" author="enis" created="Sat, 4 Aug 2012 04:11:56 +0000"/>
                            <attachment id="12539385" name="HBASE-6052_v3.patch" size="271576" author="enis" created="Tue, 7 Aug 2012 00:13:53 +0000"/>
                            <attachment id="12539767" name="HBASE-6052_v4.patch" size="272979" author="enis" created="Wed, 8 Aug 2012 03:38:08 +0000"/>
                            <attachment id="12539765" name="HBASE-6052_v4.patch" size="272979" author="enis" created="Wed, 8 Aug 2012 03:37:13 +0000"/>
                            <attachment id="12542066" name="HBASE-6052_v7.patch" size="278150" author="enis" created="Thu, 23 Aug 2012 00:54:21 +0000"/>
                            <attachment id="12542196" name="HBASE-6052_v8.patch" size="279172" author="enis" created="Thu, 23 Aug 2012 22:03:28 +0000"/>
                            <attachment id="12542708" name="HBASE-6052_v9.patch" size="279103" author="enis" created="Tue, 28 Aug 2012 01:31:11 +0000"/>
                            <attachment id="12539766" name="TestMetaMigrationConvertToPB.tgz" size="13983" author="enis" created="Wed, 8 Aug 2012 03:37:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Aug 2012 01:17:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09y6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Changed .META. and ROOT tables&amp;#39; content to be Protobuf serialization of HRegionInfo&amp;#39;s instead of Writable serialization. When upgrading from 0.92 and 0.94 clusters, after master deploys META and ROOT, and before it deploys user level tables, it does a migration for the data in the catalog files, rewriting them in the new format. &lt;br/&gt;
Before upgrading, you can take an export of the catalog tables using &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3271&quot; title=&quot;Allow .META. table to be exported&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3271&quot;&gt;&lt;strike&gt;HBASE-3271&lt;/strike&gt;&lt;/a&gt; for backup.  </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>