<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:17:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4296/HBASE-4296.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4296] Deprecate HTable[Interface].getRowOrBefore(...)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4296</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HTable&apos;s getRowOrBefore(...) internally calls into Store.getRowKeyAtOrBefore. That method was created to allow our scanning of .META. (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2600&quot; title=&quot;Change how we do meta tables; from tablename+STARTROW+randomid to instead, tablename+ENDROW+randomid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2600&quot;&gt;HBASE-2600&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Store.getRowKeyAtOrBefore(...) lists a bunch of requirements for this to be performant that a user of HTable will not be aware of.&lt;/p&gt;

&lt;p&gt;I propose deprecating this in the public interface in 0.92 and removing it from the public interface in 0.94. If we don&apos;t get to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2600&quot; title=&quot;Change how we do meta tables; from tablename+STARTROW+randomid to instead, tablename+ENDROW+randomid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2600&quot;&gt;HBASE-2600&lt;/a&gt; in 0.94 it will still remain as internal interface for scanning meta.&lt;/p&gt;

&lt;p&gt;Comments?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12520686">HBASE-4296</key>
            <summary>Deprecate HTable[Interface].getRowOrBefore(...)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Aug 2011 05:19:02 +0000</created>
                <updated>Fri, 20 Nov 2015 11:52:19 +0000</updated>
                            <resolved>Thu, 8 Sep 2011 05:06:53 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13093445" author="stack" created="Tue, 30 Aug 2011 05:23:32 +0000"  >&lt;p&gt;+1 Go for it.&lt;/p&gt;</comment>
                            <comment id="13094152" author="lhofhansl" created="Tue, 30 Aug 2011 22:08:30 +0000"  >&lt;p&gt;Patch just changing the Javadoc for HTableInterface.getRowOrBefore(...)&lt;/p&gt;

&lt;p&gt;When this is removed in 0.94 (and we didn&apos;t fix &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2600&quot; title=&quot;Change how we do meta tables; from tablename+STARTROW+randomid to instead, tablename+ENDROW+randomid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2600&quot;&gt;HBASE-2600&lt;/a&gt;, yet) the only place that needs to be changes is MetaScanner.metaScan(...)&lt;/p&gt;</comment>
                            <comment id="13099946" author="stack" created="Thu, 8 Sep 2011 05:06:53 +0000"  >&lt;p&gt;Committed to TRUNK.  Thanks for the patch LarsH.&lt;/p&gt;</comment>
                            <comment id="13100028" author="hudson" created="Thu, 8 Sep 2011 05:20:17 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2186 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2186/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4296&quot; title=&quot;Deprecate HTable[Interface].getRowOrBefore(...)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4296&quot;&gt;&lt;del&gt;HBASE-4296&lt;/del&gt;&lt;/a&gt; Deprecate HTable&lt;span class=&quot;error&quot;&gt;&amp;#91;Interface&amp;#93;&lt;/span&gt;.getRowOrBefore(...)&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/client/HTableInterface.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13112935" author="streamy" created="Thu, 22 Sep 2011 21:38:37 +0000"  >&lt;p&gt;Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4461&quot; title=&quot;Expose getRowOrBefore via Thrift&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4461&quot;&gt;&lt;del&gt;HBASE-4461&lt;/del&gt;&lt;/a&gt; I am exposing this method to Thrift to enable building fat Thrift-based clients.  Rather than deprecating this, could we just notate that it is an expensive operation and not for normal operations?  Or even only allow it to work on ROOT and META?&lt;/p&gt;</comment>
                            <comment id="13113034" author="stack" created="Thu, 22 Sep 2011 23:50:21 +0000"  >&lt;p&gt;@Jon We want to replace it with something more performant.  We don&apos;t have the alternative at the moment.  The deprecate was to frighten folks away and have it so this was then an internal method only.  Then in 0.94 we could swap in the alternative.  Can you shim this in your thrift?  I suppose you can&apos;t if you want to do the logic for regionserving over in your client that is on the other side of thrift.  And if you are building clients that come to depend on this, they&apos;ll have to be moved to the new method when the new method shows up.&lt;/p&gt;

&lt;p&gt;This issue is for 0.92.  Will your fat thrift client ship against 0.92 or 0.94?  If 0.92, its there.  If 0.94, perhaps hbase-2600 needs to happen sooner rather than later? (Lars?)&lt;/p&gt;</comment>
                            <comment id="13113037" author="streamy" created="Thu, 22 Sep 2011 23:54:19 +0000"  >&lt;p&gt;We are already using the fat thrift client on our 0.90 branch.  I&apos;m in the process of pushing this all out into open source so we can then pull it back in to our 0.92 based branch.  I&apos;m happy to put this stuff into 0.92 in Apache as well but it&apos;s somewhat featurish &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Was the method removed in 0.94 already?  Can we just hold off on removing it into 2600 happens and that way it won&apos;t matter and we can commit it anywhere.  Following 2600 we can modify how it works and just use a normal scanner then?&lt;/p&gt;</comment>
                            <comment id="13113083" author="lhofhansl" created="Fri, 23 Sep 2011 01:01:26 +0000"  >&lt;p&gt;I wonder if we should just rename it to scanMeta or something and force it to work on .Meta. only.&lt;br/&gt;
Then nobody would use it, unless it&apos;s used for Meta scanning, and we can then change the implementation. &lt;/p&gt;

</comment>
                            <comment id="13113676" author="stack" created="Fri, 23 Sep 2011 19:26:49 +0000"  >&lt;p&gt;We can hold off till 2600 is done.&lt;/p&gt;

&lt;p&gt;I don&apos;t think we can call it scanMeta or do you mean scanMetaGetRowOrBefore?  The latter we could do.&lt;/p&gt;

&lt;p&gt;I&apos;d think that when 2600 goes in, this method just won&apos;t make sense any more &amp;#8211; clients that find regions using this will just be broke... since the .META. format will have changed (endkeys rather than startkeys).  Ain&apos;t sure what to do about that.  It&apos;ll be at a major version transition.&lt;/p&gt;</comment>
                            <comment id="13214435" author="dhruba" created="Thu, 23 Feb 2012 08:04:27 +0000"  >&lt;p&gt;The ThriftServer uses HTable.getRowOrBefore() to find a entry in the .META. table. This used to work with hbase-92 but returns null for hbase-94. did something change here?&lt;/p&gt;</comment>
                            <comment id="13214864" author="lhofhansl" created="Thu, 23 Feb 2012 17:19:56 +0000"  >&lt;p&gt;This method should work until &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2600&quot; title=&quot;Change how we do meta tables; from tablename+STARTROW+randomid to instead, tablename+ENDROW+randomid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2600&quot;&gt;HBASE-2600&lt;/a&gt; goes in. I&apos;m not aware of any patch that removed this functionality.&lt;/p&gt;</comment>
                            <comment id="15015718" author="lars_francke" created="Fri, 20 Nov 2015 11:52:19 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12492389" name="4296.txt" size="860" author="lhofhansl" created="Tue, 30 Aug 2011 22:08:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Aug 2011 05:23:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hqaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>