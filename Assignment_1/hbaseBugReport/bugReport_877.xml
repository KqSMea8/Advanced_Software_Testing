<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:48:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-877/HBASE-877.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-877] HCM is unable to find table with multiple regions which contains binary</title>
                <link>https://issues.apache.org/jira/browse/HBASE-877</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HCM can not find the table with exception:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hbase.TableNotFoundException: items&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegionInMeta(HConnectionManager.java:508)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:460)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:420)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:130)&lt;br/&gt;
        at HBaseRef.&amp;lt;init&amp;gt;(HBaseRef.java:29)&lt;br/&gt;
        at Import.&amp;lt;init&amp;gt;(Import.java:20)&lt;br/&gt;
        at Import.main(Import.java:26)&lt;/p&gt;

&lt;p&gt;I have a fix already for this.  But the problem re-appeared after some time.  I have no recreated it yet, but will post results in the morning.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403869">HBASE-877</key>
            <summary>HCM is unable to find table with multiple regions which contains binary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="streamy">Jonathan Gray</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Sep 2008 02:35:46 +0000</created>
                <updated>Sat, 13 Sep 2008 23:22:48 +0000</updated>
                            <resolved>Wed, 10 Sep 2008 19:39:51 +0000</resolved>
                                    <version>0.2.1</version>
                    <version>0.18.0</version>
                                    <fixVersion>0.2.1</fixVersion>
                    <fixVersion>0.18.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12629051" author="streamy" created="Mon, 8 Sep 2008 02:37:21 +0000"  >&lt;p&gt;Adds new HStoreKey.HStoreKeyWritableComparator(info) when initializing candidateKeys sorted map in HStore.&lt;/p&gt;

&lt;p&gt;I believe that this needs to be added other places as well in addition to this and where we added it in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-868&quot; title=&quot;Incrementing binary rows cause strange behavior once table splits&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-868&quot;&gt;&lt;del&gt;HBASE-868&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12629055" author="streamy" created="Mon, 8 Sep 2008 02:42:16 +0000"  >&lt;p&gt;Just confirmed the reappearance.&lt;/p&gt;

&lt;p&gt;Following a memcache flush of META, the identical exception is thrown:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hbase.TableNotFoundException: items&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegionInMeta(HConnectionManager.java:508)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:460)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:420)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:130)&lt;br/&gt;
        at HBaseRef.&amp;lt;init&amp;gt;(HBaseRef.java:29)&lt;br/&gt;
        at HBaseRef.main(HBaseRef.java:15)&lt;/p&gt;

&lt;p&gt;Either something is wrong with the flush itself, or someting is wrong when reading from the flushed store.  I imagine this will be another one or two line fix adding the comparator to some SortedMaps.&lt;/p&gt;</comment>
                            <comment id="12629211" author="stack" created="Mon, 8 Sep 2008 17:00:19 +0000"  >&lt;p&gt;Patch needs to fix test failed compile.&lt;/p&gt;

&lt;p&gt;Trying to replicate, ran doctered PerformanceEvalution that makes binary keys.... Then shutdown cluster and brought it back up.    Trying to scan table, it just looped and looped over whole table.  Applied patch after hacking in fix for tests and looping stopped.  Retrying.&lt;/p&gt;</comment>
                            <comment id="12629215" author="streamy" created="Mon, 8 Sep 2008 17:16:58 +0000"  >&lt;p&gt;Includes TestHSF fixes.&lt;/p&gt;

&lt;p&gt;Have run test including META memcache flush, this has resolved the issue.&lt;/p&gt;</comment>
                            <comment id="12629274" author="streamy" created="Mon, 8 Sep 2008 20:22:12 +0000"  >&lt;p&gt;Replaces new HStoreKey() empty constructors with HStoreKey(HConstants.EMPTY_BYTE_ARRAY, HRegionInfo) when available&lt;/p&gt;</comment>
                            <comment id="12629306" author="streamy" created="Mon, 8 Sep 2008 21:58:31 +0000"  >&lt;p&gt;Removes some of the new HStoreKey() changes made in v4.&lt;/p&gt;

&lt;p&gt;As of now I have no errors with this patch.  Have seen a memcache flush and can still fully scan root, meta, and binary split table with about 8 regions.&lt;/p&gt;</comment>
                            <comment id="12629309" author="streamy" created="Mon, 8 Sep 2008 21:59:50 +0000"  >&lt;p&gt;Forgot to clean up conf changes from the last patch.&lt;/p&gt;</comment>
                            <comment id="12629316" author="stack" created="Mon, 8 Sep 2008 22:22:12 +0000"  >&lt;p&gt;I&apos;m seeing that if I run with the patch, soon as an optional .META. flushes, then I can&apos;t get regions, can&apos;t scan &lt;del&gt;ROOT&lt;/del&gt;, nor .META.&lt;/p&gt;

&lt;p&gt;Looking.&lt;/p&gt;</comment>
                            <comment id="12629350" author="streamy" created="Tue, 9 Sep 2008 00:24:25 +0000"  >&lt;p&gt;Seems that the issue is in an infinite loop in:  rowAtOrBeforeCandidate(map,...&lt;/p&gt;

&lt;p&gt;This adds two more HSK initializer changes to pass HRI as is done elsewhere in this patch&lt;/p&gt;</comment>
                            <comment id="12629363" author="streamy" created="Tue, 9 Sep 2008 01:46:14 +0000"  >&lt;p&gt;Adds additional new HSK changes.&lt;/p&gt;

&lt;p&gt;v8 patch is confirmed working on my cluster.  Will run additional testing on v9 patch tonight.&lt;/p&gt;</comment>
                            <comment id="12629401" author="stack" created="Tue, 9 Sep 2008 06:42:23 +0000"  >&lt;p&gt;v9 worked for me where v8 was obviously stuck&lt;/p&gt;</comment>
                            <comment id="12629472" author="streamy" created="Tue, 9 Sep 2008 12:31:14 +0000"  >&lt;p&gt;I&apos;ve got a table with 24 regions now.&lt;/p&gt;

&lt;p&gt;With v9 I&apos;m stuck on a full table scan about 6 regions in.  Looks just like the freezing we were seeing before.&lt;/p&gt;</comment>
                            <comment id="12629484" author="streamy" created="Tue, 9 Sep 2008 13:09:15 +0000"  >&lt;p&gt;Definitely seeing same issue as I did with previous versions.  I can still scan META and ROOT, but after my scan of &apos;items&apos; broke down I&apos;m not unable to scan any of my other tables from the shell.&lt;/p&gt;

&lt;p&gt;Getting an HTable reference to &lt;em&gt;any&lt;/em&gt; table does not work from my java client code.&lt;/p&gt;

&lt;p&gt;As before, restarting HBase does fix things.&lt;/p&gt;</comment>
                            <comment id="12629682" author="streamy" created="Wed, 10 Sep 2008 02:30:35 +0000"  >&lt;p&gt;So far so good.  Running large scale test overnight, report back in the morning.&lt;/p&gt;</comment>
                            <comment id="12629825" author="stack" created="Wed, 10 Sep 2008 15:04:46 +0000"  >&lt;p&gt;The change passing a comparator to Mapfile broke the BeforeThisStoreKey trick.  BeforeThisStoreKey is an HStoreKey instance that has no equal; it returns -1 when compared to an &quot;equal&quot; instance.  Its passed to Mapfile.next when we want to find the closest before.  Without this trick, the call to get closest before always returned same result &amp;#8211; the infinite looping that we were seeing.&lt;/p&gt;

&lt;p&gt;My overnight tests all completed (The amended PE to make binary keys, an optional flush set to ten minutes, doing sequential write followed by random read suite; previous we&apos;d fail after second optional flush about 20 minutes in).&lt;/p&gt;</comment>
                            <comment id="12629862" author="streamy" created="Wed, 10 Sep 2008 16:55:31 +0000"  >&lt;p&gt;+1 on v10&lt;/p&gt;</comment>
                            <comment id="12629883" author="stack" created="Wed, 10 Sep 2008 17:47:35 +0000"  >&lt;p&gt;Applied branch and trunk.  Thanks for the patch Jon.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12403692">HBASE-868</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12389649" name="hbase-877-v1.patch" size="902" author="streamy" created="Mon, 8 Sep 2008 02:37:21 +0000"/>
                            <attachment id="12389799" name="hbase-877-v10.patch" size="27099" author="streamy" created="Wed, 10 Sep 2008 02:30:35 +0000"/>
                            <attachment id="12389684" name="hbase-877-v2.patch" size="7803" author="streamy" created="Mon, 8 Sep 2008 16:35:04 +0000"/>
                            <attachment id="12389691" name="hbase-877-v3.patch" size="11887" author="streamy" created="Mon, 8 Sep 2008 17:16:58 +0000"/>
                            <attachment id="12389699" name="hbase-877-v4.patch" size="16712" author="streamy" created="Mon, 8 Sep 2008 20:22:12 +0000"/>
                            <attachment id="12389702" name="hbase-877-v5.patch" size="14412" author="streamy" created="Mon, 8 Sep 2008 21:58:30 +0000"/>
                            <attachment id="12389704" name="hbase-877-v6.patch" size="12277" author="streamy" created="Mon, 8 Sep 2008 21:59:50 +0000"/>
                            <attachment id="12389710" name="hbase-877-v8.patch" size="14008" author="streamy" created="Tue, 9 Sep 2008 00:24:25 +0000"/>
                            <attachment id="12389717" name="hbase-877-v9.patch" size="17171" author="streamy" created="Tue, 9 Sep 2008 01:46:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Sep 2008 17:00:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h9zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>