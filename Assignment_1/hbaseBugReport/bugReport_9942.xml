<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:09:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9942/HBASE-9942.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9942] hbase Scanner specifications accepting wrong specifier and then after scan using correct specifier returning unexpected result </title>
                <link>https://issues.apache.org/jira/browse/HBASE-9942</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;check the given scenerio:&lt;br/&gt;
1. log in to hbase client --&amp;gt; ./hbase shell&lt;br/&gt;
2. created table &apos;tab1&apos; &lt;br/&gt;
hbase(main):001:0&amp;gt; create &apos;tab1&apos; , &apos;fa1&apos;&lt;br/&gt;
3. put some 10 rows (row1 to row10)  in table &apos;tab1&apos;&lt;br/&gt;
4.  run the scan for table &apos;tab1&apos; as follows:&lt;/p&gt;

&lt;p&gt;hbase(main):013:0&amp;gt; scan &apos;tab1&apos; , &lt;/p&gt;
{ STARTROW =&amp;gt; &apos;row4&apos; , STOPROW =&amp;gt; &apos;row9&apos; }&lt;br/&gt;
ROW                                       COLUMN+CELL                                                                                                              &lt;br/&gt;
 row4                                     column=fa1:col1, timestamp=1384164182738, value=value1                                                                   &lt;br/&gt;
 row5                                     column=fa1:col1, timestamp=1384164188396, value=value1                                                                   &lt;br/&gt;
 row6                                     column=fa1:col1, timestamp=1384164192395, value=value1                                                                   &lt;br/&gt;
 row7                                     column=fa1:col1, timestamp=1384164197693, value=value1                                                                   &lt;br/&gt;
 row8                                     column=fa1:col1, timestamp=1384164203237, value=value1                                                                   &lt;br/&gt;
5 row(s) in 0.0540 seconds&lt;br/&gt;
&lt;br/&gt;
so result was expected , rows from &apos;row4&apos; to &apos;row8&apos; are displayed&lt;br/&gt;
&lt;br/&gt;
5. then run the scan using wrong specifier ( &apos;=&apos; instead of &apos;=&amp;gt;&apos;) so get wrong result&lt;br/&gt;
hbase(main):014:0&amp;gt; scan &apos;tab1&apos; , { STARTROW = &apos;row4&apos; , STOPROW = &apos;row9&apos; }&lt;br/&gt;
ROW                                       COLUMN+CELL                                                                                                              &lt;br/&gt;
 row1                                     column=fa1:col1, timestamp=1384164167838, value=value1                                                                   &lt;br/&gt;
 row10                                    column=fa1:col1, timestamp=1384164212615, value=value1                                                                   &lt;br/&gt;
 row2                                     column=fa1:col1, timestamp=1384164175337, value=value1                                                                   &lt;br/&gt;
 row3                                     column=fa1:col1, timestamp=1384164179068, value=value1                                                                   &lt;br/&gt;
 row4                                     column=fa1:col1, timestamp=1384164182738, value=value1                                                                   &lt;br/&gt;
 row5                                     column=fa1:col1, timestamp=1384164188396, value=value1                                                                   &lt;br/&gt;
 row6                                     column=fa1:col1, timestamp=1384164192395, value=value1                                                                   &lt;br/&gt;
 row7                                     column=fa1:col1, timestamp=1384164197693, value=value1                                                                   &lt;br/&gt;
 row8                                     column=fa1:col1, timestamp=1384164203237, value=value1                                                                   &lt;br/&gt;
 row9                                     column=fa1:col1, timestamp=1384164208375, value=value1                                                                   &lt;br/&gt;
10 row(s) in 0.0390 seconds&lt;br/&gt;
&lt;br/&gt;
6. now performed correct scan query with correct specifier ( used &apos;=&amp;gt;&apos; as specifier)&lt;br/&gt;
hbase(main):015:0&amp;gt; scan &apos;tab1&apos; , { STARTROW =&amp;gt; &apos;row4&apos; , STOPROW =&amp;gt; &apos;row9&apos; }
&lt;p&gt;ROW                                       COLUMN+CELL                                                                                                              &lt;br/&gt;
 row1                                     column=fa1:col1, timestamp=1384164167838, value=value1                                                                   &lt;br/&gt;
 row10                                    column=fa1:col1, timestamp=1384164212615, value=value1                                                                   &lt;br/&gt;
 row2                                     column=fa1:col1, timestamp=1384164175337, value=value1                                                                   &lt;br/&gt;
 row3                                     column=fa1:col1, timestamp=1384164179068, value=value1                                                                   &lt;br/&gt;
 row4                                     column=fa1:col1, timestamp=1384164182738, value=value1                                                                   &lt;br/&gt;
 row5                                     column=fa1:col1, timestamp=1384164188396, value=value1                                                                   &lt;br/&gt;
 row6                                     column=fa1:col1, timestamp=1384164192395, value=value1                                                                   &lt;br/&gt;
 row7                                     column=fa1:col1, timestamp=1384164197693, value=value1                                                                   &lt;br/&gt;
 row8                                     column=fa1:col1, timestamp=1384164203237, value=value1                                                                   &lt;br/&gt;
 row9                                     column=fa1:col1, timestamp=1384164208375, value=value1                                                                   &lt;br/&gt;
10 row(s) in 0.0450 seconds&lt;/p&gt;

&lt;p&gt;now even if i have passed correct scan query then also i am getting wrong result &lt;/p&gt;

&lt;p&gt;Defect:&lt;br/&gt;
check in step 6 as per scan query , only row4 to row9 should be displayed but output result is displaying all the rows in this table &lt;/p&gt;

&lt;p&gt;Note: when i exit the shell and again loging and perform the same query then result was correct&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678542">HBASE-9942</key>
            <summary>hbase Scanner specifications accepting wrong specifier and then after scan using correct specifier returning unexpected result </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="deepakhuawei">Deepak Sharma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Nov 2013 10:16:36 +0000</created>
                <updated>Tue, 9 Sep 2014 06:26:01 +0000</updated>
                                            <version>0.96.0</version>
                    <version>0.94.13</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13818934" author="jmspaggi" created="Mon, 11 Nov 2013 13:15:08 +0000"  >&lt;p&gt;Wierd. I just tried wit 0.96.0 and faced the same issue.&lt;/p&gt;</comment>
                            <comment id="13819423" author="stack" created="Mon, 11 Nov 2013 21:31:35 +0000"  >&lt;p&gt;This seems too silly to leave unfixed.&lt;/p&gt;</comment>
                            <comment id="13823889" author="mbertozzi" created="Fri, 15 Nov 2013 18:14:05 +0000"  >&lt;p&gt;The problem here is that we are using eval from irb.eval_input&lt;br/&gt;
so, the &quot;STARTROW = row&quot; will be set as the constant value&lt;br/&gt;
and when the second time we define the argument STARTROW =&amp;gt; row will be evaluated as &quot;row =&amp;gt; row&quot;&lt;br/&gt;
One workaround may be unset the args that we expect with something like Object.instance_eval &lt;/p&gt;
{remove_const :STARTROW}
&lt;p&gt; in this way the STARTROW constant will not be avaluated to the &quot;row&quot; value&lt;/p&gt;</comment>
                            <comment id="13824263" author="stack" created="Sat, 16 Nov 2013 00:13:47 +0000"  >&lt;p&gt;Ruby constants are not &apos;constant&apos; &amp;#8211; there is no such thing as a constant in ruby it seems &amp;#8211; so what is happening here is that the &apos;constant&apos; STARTROW gets assigned the value &apos;row4&apos;; ditto for STOPROW with its &apos;row7&apos; or whatever.  We then use this &apos;constant&apos; key doing a lookup in the dictionary of submitted values for CF by doing args&lt;span class=&quot;error&quot;&gt;&amp;#91;STARTROW&amp;#93;&lt;/span&gt;.  Because the &apos;constant&apos; is not &apos;row4&apos; rather than &apos;STARTROW&apos;, we find nothing and take the default &apos;&apos;.&lt;/p&gt;

&lt;p&gt;In ruby, when you set a &apos;constant&apos;, it gives you a &apos;warning&apos; but then goes ahead and sets it anyways.  Here is an illustration where I set a &apos;constant&apos; using a java constant.&lt;/p&gt;

&lt;p&gt;hbase(main):002:0* NAME = org.apache.hadoop.hbase.HConstants::NAME&lt;br/&gt;
=&amp;gt; &quot;NAME&quot;&lt;br/&gt;
hbase(main):003:0&amp;gt; NAME = &apos;xyz&apos;&lt;br/&gt;
(hbase):3 warning: already initialized constant NAME&lt;br/&gt;
=&amp;gt; &quot;xyz&quot;&lt;/p&gt;

&lt;p&gt;Not sure what to do about this one.  We might have to put it down to the joys-of-ruby?  Ideas?&lt;/p&gt;</comment>
                            <comment id="13830765" author="stack" created="Sat, 23 Nov 2013 20:21:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; I missed your comment above.  I just saw it now.  Where would we apply your fancy trick boss?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Nov 2013 13:15:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pp6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>