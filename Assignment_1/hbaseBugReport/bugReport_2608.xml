<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:03:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2608/HBASE-2608.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2608] Switch to SLF4J</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2608</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There are 2 compelling reasons to switch from log4j to slf4j:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;HBase provides a client library that is going to be embedded in another application.  Using SLF4J lets the application chose whatever logging library it wants instead of imposing log4j.&lt;/li&gt;
	&lt;li&gt;When using SLF4J, we should use logback by default as it is basically a better, faster, stronger log4j.  Same author, new design / new code.  See &lt;a href=&quot;http://logback.qos.ch/reasonsToSwitch.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://logback.qos.ch/reasonsToSwitch.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12465243">HBASE-2608</key>
            <summary>Switch to SLF4J</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tsuna">Benoit Sigoure</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 May 2010 04:23:28 +0000</created>
                <updated>Wed, 16 Jul 2014 20:51:06 +0000</updated>
                            <resolved>Wed, 16 Jul 2014 20:51:06 +0000</resolved>
                                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12870627" author="stack" created="Mon, 24 May 2010 15:02:53 +0000"  >&lt;p&gt;We log against apache commons.  Isn&apos;t changing to use slf4j just a matter of a config. change?  (Or, rather it seems that apache commons logging will use log4j if its found in the classapath).&lt;/p&gt;</comment>
                            <comment id="12872197" author="lars_francke" created="Thu, 27 May 2010 12:39:18 +0000"  >&lt;p&gt;I have an E-Mail draft about this sitting in GMail since February (since we switched to Maven). I&apos;ll just paste it  here. Sorry it&apos;s rather long and some things are outdated (contrib stuff)&#160;but I  hope it helps.&lt;/p&gt;

&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;the tl;dr version: I propose switching from Commons Logging and Log4j to SLF4J and Logback with me being the one doing the work and not much/nothing changing for the developers&lt;/p&gt;

&lt;p&gt;We currently use Commons Logging and Log4j. Those two have largely been superseded by SLF4J&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and Logback&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; respectively. Those two are written by the author of Log4j and it is his opinion that Log4j+CL shouldn&apos;t be used anymore.&lt;/p&gt;

&lt;p&gt;I wanted to know how you feel about switching?&lt;/p&gt;

&lt;p&gt;We&apos;ve pulled in SLF4j via dependencies (Thrift and Hadoop &lt;span class=&quot;error&quot;&gt;&amp;#91;indirect via Avro&amp;#93;&lt;/span&gt;) anyway and it is very easy to replace Commons Logging transparently with SLF4J&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; and immediately gain the benefits without having to do any work. A second optional step would be to replace Log4j with Logback. This too would be transparent from a code perspective but once again we&apos;d gain the benefits&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; for the price of writing new properties files (there is a tool available to migrate&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt; log4 files)&lt;/p&gt;

&lt;p&gt;There is also a tool to help with the migration&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; if we chose to code against the SLF4J and not the CL APIs. I would volunteer to make any changes necessary.&lt;/p&gt;

&lt;p&gt;Why (now)? A couple of reasons with the first being that we&apos;ve pulled in SLF4J anyway and it is superior to CL in every way so this could be done effortlessly. Another reason is that we&apos;re in the process of refactoring the build structure from HBase at the moment (Mavenization) and this&apos;ll mean that a few Log4j property files will probably have to be adjusted and/or added (because every contrib seems to need his own now) so this&apos;d be a good time to switch to clean up and switch. Another reason might be that more and more projects switch to this combination (or at least to SLF4J). The last reason I can think of is that we have a volunteer (me) for making this switch happen who has used those two in combination for years after being bitten by the classloader issues from Commons Logging once too often.&lt;/p&gt;

&lt;p&gt;Reasons against? Well it&apos;ll be another &quot;cross cutting&quot; change touching a lot of code (if we switch APIs) just like the switch to Maven. We also have no real problems with the current setup and a lot of developers and users probably aren&apos;t to familiar with those two projects while everyone know CL+Log4j.&lt;/p&gt;

&lt;p&gt;Your choice. I&apos;m just offering to do the work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The options as I see them:&lt;br/&gt;
1) Leave everything as it is&lt;br/&gt;
2) Switch from CL to SLF4J (only configuration changes)&lt;br/&gt;
3) Switch from CL to SLF4J and alter the existing code to use the SLF4J API&lt;span class=&quot;error&quot;&gt;&amp;#91;7&amp;#93;&lt;/span&gt; instead of the CL API&lt;br/&gt;
4) Switch from CL+Log4j to SLF4J+Logback (only configuration changes)&lt;br/&gt;
5) Switch from CL+Log4j to SLF4J+Logback and alter the existing code to use the SLF4J API&lt;span class=&quot;error&quot;&gt;&amp;#91;7&amp;#93;&lt;/span&gt; instead of the CL API&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Lars&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.slf4j.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://logback.qos.ch/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://logback.qos.ch/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.slf4j.org/legacy.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/legacy.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://logback.qos.ch/reasonsToSwitch.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://logback.qos.ch/reasonsToSwitch.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.slf4j.org/migrator.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/migrator.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://logback.qos.ch/translator/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://logback.qos.ch/translator/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;7&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.slf4j.org/apidocs/org/slf4j/Logger.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/apidocs/org/slf4j/Logger.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12873325" author="stack" created="Sat, 29 May 2010 19:20:30 +0000"  >&lt;p&gt;SLF4J comes in because of AVRO?&lt;/p&gt;

&lt;p&gt;There is a bit of folk knowledge built up around CL and log4j.  We all know how to mess with enabling and disabling log levels and in the UI there are tools to enable/disable log levels.   If we made the change, wouldn&apos;t this all be broke or is the model such that the UI log level servlet can be made work w/ the new regime, etc?&lt;/p&gt;

&lt;p&gt;The classloading issue recently popped up messing with getting mockito running in a minihbasecluster context.&lt;/p&gt;

&lt;p&gt;Do you think this a priority Lars?&lt;/p&gt;</comment>
                            <comment id="12873942" author="lars_francke" created="Tue, 1 Jun 2010 10:18:59 +0000"  >&lt;p&gt;Avro and Thrift pull in SLF4J last I looked but I&apos;ll soon be able to get back to some work on HBase (Maven of course, you&apos;re responsible for the internal technical stuff &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ).&lt;/p&gt;

&lt;p&gt;Thanks for the hint about the UI log level servlet;&#160;with a little help I was able to find that in hadoop-common and it looks like it&apos;d be easy to write our own implementation of that class. But that&apos;s only necessary if we switch from log4j to logback. These changes shouldn&apos;t be necessary when we &quot;just&quot; use SLF4J. Perhaps we should raise this issue with Hadoop as well, see what they want to do.&lt;/p&gt;

&lt;p&gt;Priority: No&lt;br/&gt;
Nice to have: Yes&lt;/p&gt;

&lt;p&gt;It&apos;d be just nice to ditch these old tools. Someone&apos;s got to start &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (And you&apos;d have the opportunity to build up new knowledge! But it really isn&apos;t that different)&lt;/p&gt;</comment>
                            <comment id="12874448" author="stack" created="Wed, 2 Jun 2010 06:20:33 +0000"  >&lt;p&gt;I&apos;m not averse to writing our own version of logging class (it help untether our webapps from hadoops.  From hadoop we get thread dumping, log level and log viewing apps).&lt;/p&gt;

&lt;p&gt;Your option 4. above looks attractive.  Config. only changes w/o disruptive change of all code.  We can do the latter in the version after this one.  What would be involved?  Could new classes start using slf4j api directly?  Any downsides?&lt;/p&gt;

&lt;p&gt;Thanks Lars.&lt;/p&gt;

&lt;p&gt;Hey, any chance of your taking up the thrift baton again?  Whats to be done over there?&lt;/p&gt;</comment>
                            <comment id="12894647" author="lars_francke" created="Mon, 2 Aug 2010 18:50:46 +0000"  >&lt;p&gt;I&apos;ll finish up my other small issues and then take a stab at this by converting the necessary config files and check out the web frontend.&lt;/p&gt;

&lt;p&gt;When we have the config files in place everyone can transparently decide if he wants to use commons-logging API (which should ideally phased out) or SLF4j. It doesn&apos;t make a difference because the CL jar gets replaced by a wrapper that forwards all calls to SLF4J anyway. This should make it very easy for everyone to adapt if you decide to go this way.&lt;/p&gt;</comment>
                            <comment id="14064071" author="stack" created="Wed, 16 Jul 2014 20:51:06 +0000"  >&lt;p&gt;We&apos;ll go to log4j2 before we&apos;d go to slf4j.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12683027">HBASE-10092</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 May 2010 15:02:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ggn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>logging</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>