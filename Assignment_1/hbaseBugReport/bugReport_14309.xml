<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:51:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14309/HBASE-14309.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14309] Allow load balancer to operate when there is region in transition by adding force flag</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14309</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This issue adds boolean parameter, force, to &apos;balancer&apos; command so that admin can force region balancing even when there is region in transition - assuming RIT being transient.&lt;/p&gt;

&lt;p&gt;This enhancement was requested by some customer.&lt;/p&gt;

&lt;p&gt;The assumption of this change is that the operator has run hbck and has a reasonable idea why regions are stuck in transition before using the force flag.&lt;/p&gt;

&lt;p&gt;There was a recent event at the customer where a cluster ended up with a small number of regionservers hosting most of the regions on the cluster (one regionserver had 50% of the roughly 20,000 regions). The balancer couldn&apos;t be run due to the small number of regions that were stuck in transition. The admin ended up killing the regionservers so that reassignment would yield a more equitable distribution of the regions.&lt;/p&gt;

&lt;p&gt;On a different cluster, there was a single store file that had corrupt HDFS blocks (the SSDs on the cluster were known to lose data). However, since this single region (out of 10s of 1000s of regions on this cluster) was stuck in transition, the balancer couldn&apos;t run.&lt;br/&gt;
While the state keeping in HBase isn&apos;t so good yet that the admin can kick off the balancer automatically in such scenarios knowing when it is safe to do so and when it is not, having this option available for the operator to use as he / she sees fit seems prudent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12858767">HBASE-14309</key>
            <summary>Allow load balancer to operate when there is region in transition by adding force flag</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2015 22:12:44 +0000</created>
                <updated>Wed, 14 Oct 2015 15:50:23 +0000</updated>
                            <resolved>Sun, 30 Aug 2015 14:00:57 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="14712317" author="hadoopqa" created="Wed, 26 Aug 2015 01:30:59 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752335/14309-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752335/14309-v1.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 44caba31e4f259ea82d5141d2ba40a6d98f14f61.&lt;br/&gt;
  ATTACHMENT ID: 12752335&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1850 checkstyle errors (more than the master&apos;s current 1849 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.procedure.TestWALProcedureStoreOnHDFS&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 6 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestSplitLogWorker.testPreemptTask(TestSplitLogWorker.java:305)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestRegionServerMetrics.testCheckAndPutCount(TestRegionServerMetrics.java:257)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestCompoundBloomFilter.testCompoundBloomFilter(TestCompoundBloomFilter.java:159)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestCompaction.testInterruptCompaction(TestCompaction.java:198)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testLingeringReferenceFile(TestHBaseFsck.java:2463)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15254//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14712346" author="jinghe" created="Wed, 26 Aug 2015 01:49:59 +0000"  >&lt;p&gt;What will happen to the regions in transition?  I guess they will either be ignored later during generating of new region plans, or during assigning of the plans, right?&lt;/p&gt;</comment>
                            <comment id="14712352" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 01:54:37 +0000"  >&lt;p&gt;They would not be considered during generation of new region plans. Once they finish transition, they would be eligible for next round of balancing.&lt;/p&gt;</comment>
                            <comment id="14712379" author="jinghe" created="Wed, 26 Aug 2015 02:29:40 +0000"  >&lt;p&gt;Okay. Sounds good. The balancer is based on static cluster info. There are regions transitioning dynamically anyway during the process.&lt;/p&gt;</comment>
                            <comment id="14712390" author="jinghe" created="Wed, 26 Aug 2015 02:42:13 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  @Override
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; balancer(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; force) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; executeCallable(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MasterCallable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt;&amp;gt;(getConnection()) {
+      @Override
+      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; call(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; callTimeout) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServiceException {
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; master.balance(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, RequestConverter.buildBalanceRequest(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)).getBalancerRan();
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should be &quot;buildBalanceRequest(force)&quot;.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+import org.apache.hadoop.hbase.protobuf.generated.MasterProtos.BalanceRequest;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not used in this file.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+  hbase&amp;gt; balance true
+  hbase&amp;gt; balance false
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;true or false as argument seems a little odd.  May just &apos;force&apos; as the optional argument?&lt;/p&gt;</comment>
                            <comment id="14712411" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 03:11:52 +0000"  >&lt;p&gt;Patch v2 addresses Jerry&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="14712499" author="jinghe" created="Wed, 26 Aug 2015 04:47:54 +0000"  >&lt;p&gt;Looks good.  +1&lt;/p&gt;</comment>
                            <comment id="14712505" author="jinghe" created="Wed, 26 Aug 2015 04:50:22 +0000"  >&lt;p&gt;new client will not work with old version of server, right?&lt;/p&gt;</comment>
                            <comment id="14712510" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 04:58:48 +0000"  >&lt;p&gt;The new parameter is optional in Master.proto&lt;/p&gt;

&lt;p&gt;The request with force would be ignored by old server. &lt;/p&gt;

&lt;p&gt;To use this improvement, master needs to have the change. &lt;br/&gt;
This applies to other improvements involving master side change. &lt;/p&gt;</comment>
                            <comment id="14712515" author="jinghe" created="Wed, 26 Aug 2015 05:12:55 +0000"  >&lt;p&gt;Okay.&lt;/p&gt;</comment>
                            <comment id="14712521" author="stack" created="Wed, 26 Aug 2015 05:24:04 +0000"  >&lt;p&gt;You do this:&lt;/p&gt;

&lt;p&gt;410	      return BalanceResponse.newBuilder().setBalancerRan(master.balance(&lt;br/&gt;
411	        request.getForce())).build();&lt;/p&gt;

&lt;p&gt;w/o checking if there is a force set (it has no default)&lt;/p&gt;

&lt;p&gt;Does this work?&lt;/p&gt;

&lt;p&gt;You repeat the Interface javadoc in the implementation (though you have @override).&lt;/p&gt;</comment>
                            <comment id="14715229" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 17:54:53 +0000"  >&lt;p&gt;Trying out on cluster, I got:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; balancer

ERROR: undefined method `length&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; nil:NilClass

Here is some help &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; command:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Tried various ways according to google search which didn&apos;t work.&lt;br/&gt;
If I cannot figure out how to keep balancer command backward compatible, I plan to introduce a new command.&lt;/p&gt;</comment>
                            <comment id="14715268" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 18:18:46 +0000"  >&lt;p&gt;By using nil as default value for force parameter, I was able to get both of the following commands to work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):002:0&amp;gt; balancer &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
0 row(s) in 30.5740 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; balancer
&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
0 row(s) in 30.7310 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thanks to Jerry for offline hint.&lt;/p&gt;</comment>
                            <comment id="14715285" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 18:25:25 +0000"  >&lt;p&gt;Patch v4 has the change in balancer.rb&lt;/p&gt;

&lt;p&gt;Also regenerated MasterProtos.java based on master branch&lt;/p&gt;</comment>
                            <comment id="14715327" author="hadoopqa" created="Wed, 26 Aug 2015 18:53:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752513/14309-branch-1.1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752513/14309-branch-1.1.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1.1 branch at commit ff86749caeb63eafcf10cbfba45334757a791384.&lt;br/&gt;
  ATTACHMENT ID: 12752513&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15274//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14715377" author="jinghe" created="Wed, 26 Aug 2015 19:27:14 +0000"  >&lt;p&gt;Hi, Ted&lt;/p&gt;

&lt;p&gt;You v2 patch is fine for the ruby script. You only need to add the default &apos;nil&apos;, like the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
             def command(force=nil)
             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; force.nil?
               admin.balancer()? &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;
            elsif force == &lt;span class=&quot;code-quote&quot;&gt;&quot;force&quot;&lt;/span&gt;
              admin.balancer(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;)? &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14715406" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 19:56:54 +0000"  >&lt;p&gt;See if patch v5 is better.&lt;/p&gt;</comment>
                            <comment id="14715412" author="hadoopqa" created="Wed, 26 Aug 2015 20:01:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752552/14309-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752552/14309-v5.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit aca8c3b74b09646c72c4e0fe26a4b2103da0d288.&lt;br/&gt;
  ATTACHMENT ID: 12752552&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail with Hadoop version 2.4.0.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error invoking method &apos;get(java.lang.Integer)&apos; in java.util.ArrayList at META-INF/LICENSE.vm&lt;span class=&quot;error&quot;&gt;&amp;#91;line 1619, column 22&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.5:process (default) on project hbase-assembly: Error rendering velocity resource. Error invoking method &apos;get(java.lang.Integer)&apos; in java.util.ArrayList at META-INF/LICENSE.vm&lt;span class=&quot;error&quot;&gt;&amp;#91;line 1619, column 22&amp;#93;&lt;/span&gt;: InvocationTargetException: Index: 0, Size: 0 -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-assembly&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15280//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15280//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14715433" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 20:14:01 +0000"  >&lt;p&gt;I ran the same mvn command QA used with and without patch v5.&lt;/p&gt;

&lt;p&gt;Both passed.&lt;/p&gt;

&lt;p&gt;Will try QA bot later.&lt;/p&gt;</comment>
                            <comment id="14715460" author="jinghe" created="Wed, 26 Aug 2015 20:31:28 +0000"  >&lt;p&gt;patch v5 looks good.&lt;/p&gt;</comment>
                            <comment id="14715463" author="hadoopqa" created="Wed, 26 Aug 2015 20:31:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752561/14309-v5-branch-1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752561/14309-v5-branch-1.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit aca8c3b74b09646c72c4e0fe26a4b2103da0d288.&lt;br/&gt;
  ATTACHMENT ID: 12752561&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail with Hadoop version 2.4.0.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error invoking method &apos;get(java.lang.Integer)&apos; in java.util.ArrayList at META-INF/LICENSE.vm&lt;span class=&quot;error&quot;&gt;&amp;#91;line 1619, column 22&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.5:process (default) on project hbase-assembly: Error rendering velocity resource. Error invoking method &apos;get(java.lang.Integer)&apos; in java.util.ArrayList at META-INF/LICENSE.vm&lt;span class=&quot;error&quot;&gt;&amp;#91;line 1619, column 22&amp;#93;&lt;/span&gt;: InvocationTargetException: Index: 0, Size: 0 -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-assembly&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15281//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15281//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14715908" author="ndimiduk" created="Thu, 27 Aug 2015 02:02:23 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; ^^^&lt;/p&gt;</comment>
                            <comment id="14716586" author="hadoopqa" created="Thu, 27 Aug 2015 12:35:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752707/14309-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752707/14309-v5.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit aa938c738a1a6378783eed1b1145a097fd062c20.&lt;br/&gt;
  ATTACHMENT ID: 12752707&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.snapshot.TestSecureExportSnapshot&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15293//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14716954" author="busbey" created="Thu, 27 Aug 2015 16:11:21 +0000"  >&lt;p&gt;that QA error means we&apos;re missing a license for one of our dependencies. If it&apos;s because of something new in this patch, please update supplemental-models.xml in the resource bundle. If it isn&apos;t, then we let in a bad patch and someone should eitehr revert or fix it.&lt;/p&gt;</comment>
                            <comment id="14717009" author="stack" created="Thu, 27 Aug 2015 16:37:04 +0000"  >&lt;p&gt;Why do we need this functionality? It is not stated at head of the issue. If I was an operator, I&apos;d like to know if &apos;forcing&apos; a balancer is safe to do; it sounds dangerous.&lt;/p&gt;</comment>
                            <comment id="14717264" author="jinghe" created="Thu, 27 Aug 2015 18:42:43 +0000"  >&lt;p&gt;It may just be less than 100% result or utilization of the algorithm? &lt;br/&gt;
It sounds reasonable to relax that restriction. Or I missed anything?&lt;/p&gt;</comment>
                            <comment id="14717380" author="yuzhihong@gmail.com" created="Thu, 27 Aug 2015 19:40:45 +0000"  >&lt;p&gt;The underlying cause for certain regions stuck in transition would vary. Force running the balancer can destabilize the cluster further.&lt;/p&gt;

&lt;p&gt;The assumption of this change is that the operator has run hbck and has a reasonable idea why regions are stuck in transition before using the force flag.&lt;/p&gt;

&lt;p&gt;There was a recent event at the customer where a cluster ended up with a small number of regionservers hosting most of the regions on the cluster (one regionserver had 50% of the roughly 20,000 regions). The balancer couldn&apos;t be run due to the small number of regions that were stuck in transition. The admin ended up killing the regionservers so that reassignment would yield a more equitable distribution of the regions.&lt;/p&gt;

&lt;p&gt;On a different cluster, there was a single store file that had corrupt HDFS blocks (the SSDs on the cluster were known to lose data). However, since this single region (out of 10s of 1000s of regions on this cluster) was stuck in transition, the balancer couldn&apos;t run.&lt;/p&gt;

&lt;p&gt;While the state keeping in HBase isn&apos;t so good yet that the admin can kick off the balancer automatically in such scenarios knowing when it is safe to do so and when it is not, having this option available for the operator to use as he / she sees fit seems prudent.&lt;/p&gt;</comment>
                            <comment id="14717528" author="yuzhihong@gmail.com" created="Thu, 27 Aug 2015 21:06:53 +0000"  >&lt;p&gt;In patch v6, added guard against system table region in transition even if force parameter carries value of true.&lt;/p&gt;</comment>
                            <comment id="14717822" author="hadoopqa" created="Fri, 28 Aug 2015 00:22:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12752853/14309-v6.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12752853/14309-v6.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 8f95318f6252c1c0b7a073619525eae6d991f47b.&lt;br/&gt;
  ATTACHMENT ID: 12752853&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 8 zombie test(s): 	at org.apache.hadoop.hbase.security.access.TestAccessController.testTableDescriptorsEnumeration(TestAccessController.java:2073)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15306//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14720203" author="stack" created="Fri, 28 Aug 2015 16:40:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;The assumption of this change is that the operator has run hbck and has a reasonable idea why regions are stuck in transition before using the force flag.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There was nothing to this effect in patches until v6. Now it has below.&lt;/p&gt;

&lt;p&gt;29	WARNING: Have you run hbck, etc, to determine the cause for region stuck in transition&lt;br/&gt;
30	  before using the &quot;force&quot; flag ?&lt;br/&gt;
31	Examples:&lt;/p&gt;

&lt;p&gt;Should be more clear that it can do damage and make less reference to &apos;hbck&apos;, &apos;etc.&apos;, and &apos;rit&apos;. &apos;For experts only. Forcing a balance may do more damage than repair when assignment is confused.&apos; Would be good to then link to a section in refguide on plus/minus/implications.&lt;/p&gt;

&lt;p&gt;Agree it is good to expose tools to help in extreme. Dangerous options that may do more damage than good need proper couching with warning including justification for why we need this option when you open the issue. The original, la-de-dah text is: &quot;This issue adds boolean parameter, force, to &apos;balancer&apos; command so that admin can force region balancing even when there is region in transition - assuming RIT being transient.&quot; which comes across as you have nothing better to do all day but add options on commands when in fact, you have good cause.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In patch v6, added guard against system table region in transition even if force parameter carries value of true.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What is this about? Why if operator thinks a force is needed, internally, we pass on it because its a system table in transition...  Seems arbitrary. You provide no reasoning for the exclusion.&lt;/p&gt;</comment>
                            <comment id="14720221" author="yuzhihong@gmail.com" created="Fri, 28 Aug 2015 16:50:27 +0000"  >&lt;p&gt;I can adopt the suggested warning in balancer.rb in the next patch.&lt;/p&gt;

&lt;p&gt;w.r.t. the guard against system table region in transition, the reasoning is that if, e.g. hbase:meta, is in transition, the results of reassignments can&apos;t be written. I can narrow the condition to checking hbase:meta only if you think that is proper.&lt;/p&gt;</comment>
                            <comment id="14720239" author="devaraj" created="Fri, 28 Aug 2015 17:02:49 +0000"  >&lt;p&gt;I think it&apos;s good to ensure that meta is not in transition when we attempt to initiate the balancer.&lt;/p&gt;</comment>
                            <comment id="14720265" author="yuzhihong@gmail.com" created="Fri, 28 Aug 2015 17:19:36 +0000"  >&lt;p&gt;Patch v7 refines the WARN message in balancer.rb&lt;/p&gt;

&lt;p&gt;When hbase:meta is in transition, ignore force flag for balancer command.&lt;/p&gt;</comment>
                            <comment id="14720293" author="jinghe" created="Fri, 28 Aug 2015 17:33:55 +0000"  >&lt;p&gt;+1 on the WARNING and guard on meta.&lt;br/&gt;
force is commonly always last resort &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Not running balancer because &quot;&lt;/span&gt; + regionsInTransition.size() +
+        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; hbase:meta region is in transition, result of assignment cannot be recorded
&lt;/span&gt;+        &lt;span class=&quot;code-comment&quot;&gt;// ignore the force flag in that &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;
&lt;/span&gt;+        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; prefix = force &amp;amp;&amp;amp; !assignmentManager.getRegionStates().isMetaRegionInTransition() ?
+            &lt;span class=&quot;code-quote&quot;&gt;&quot;R&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;Not r&quot;&lt;/span&gt;;
+        LOG.debug(prefix + &lt;span class=&quot;code-quote&quot;&gt;&quot;unning balancer because &quot;&lt;/span&gt; + regionsInTransition.size() +
           &lt;span class=&quot;code-quote&quot;&gt;&quot; region(s) in transition: &quot;&lt;/span&gt; + org.apache.commons.lang.StringUtils.
             abbreviate(regionsInTransition.toString(), 256));
-        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!force) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should return false if isMetaRegionInTransition is true.&lt;/p&gt;
</comment>
                            <comment id="14720298" author="yuzhihong@gmail.com" created="Fri, 28 Aug 2015 17:37:52 +0000"  >&lt;p&gt;Nice catch, Jerry.&lt;/p&gt;</comment>
                            <comment id="14720459" author="yuzhihong@gmail.com" created="Fri, 28 Aug 2015 19:42:22 +0000"  >&lt;p&gt;Currently I include hbase 1.3 in Target versions.&lt;/p&gt;

&lt;p&gt;If there is opposition, please let me know.&lt;/p&gt;</comment>
                            <comment id="14720539" author="hadoopqa" created="Fri, 28 Aug 2015 20:47:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753029/14309-v7.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753029/14309-v7.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit cc1542828de93b8d54cc14497fd5937989ea1b6d.&lt;br/&gt;
  ATTACHMENT ID: 12753029&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 9 zombie test(s): 	at org.apache.hadoop.hbase.security.access.TestAccessController.testCheckPermissions(TestAccessController.java:1635)&lt;br/&gt;
	at org.apache.hadoop.hdfs.TestDistributedFileSystem.testFileChecksum(TestDistributedFileSystem.java:729)&lt;br/&gt;
	at org.apache.hadoop.hdfs.TestDistributedFileSystem.testAllWithNoXmlDefaults(TestDistributedFileSystem.java:814)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15319//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14720592" author="yuzhihong@gmail.com" created="Fri, 28 Aug 2015 21:22:14 +0000"  >&lt;p&gt;TestDistributedFileSystem is an hdfs test.&lt;/p&gt;

&lt;p&gt;Ran TestAccessController and TestAccessController2 locally with patch which passed.&lt;/p&gt;</comment>
                            <comment id="14720865" author="yuzhihong@gmail.com" created="Sat, 29 Aug 2015 01:02:38 +0000"  >&lt;p&gt;Planning to commit soon if there is no further review comment.&lt;/p&gt;</comment>
                            <comment id="14721032" author="hadoopqa" created="Sat, 29 Aug 2015 09:32:03 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753130/14309-v7-branch-1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753130/14309-v7-branch-1.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 4256128fa248b31c0482bdfc2510011771f84037.&lt;br/&gt;
  ATTACHMENT ID: 12753130&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail with Hadoop version 2.4.0.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error invoking method &apos;get(java.lang.Integer)&apos; in java.util.ArrayList at META-INF/LICENSE.vm&lt;span class=&quot;error&quot;&gt;&amp;#91;line 1619, column 22&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.5:process (default) on project hbase-assembly: Error rendering velocity resource. Error invoking method &apos;get(java.lang.Integer)&apos; in java.util.ArrayList at META-INF/LICENSE.vm&lt;span class=&quot;error&quot;&gt;&amp;#91;line 1619, column 22&amp;#93;&lt;/span&gt;: InvocationTargetException: Index: 0, Size: 0 -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-assembly&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15323//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15323//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14721125" author="yuzhihong@gmail.com" created="Sat, 29 Aug 2015 14:30:56 +0000"  >&lt;p&gt;Ran the following command locally with 14309-v7-branch-1.txt :&lt;/p&gt;

&lt;p&gt;mvn clean install -DskipTests -DHBasePatchProcess -Dhadoop-two.version=2.4.0 &amp;gt; /tmp/14309-1.out 2&amp;gt;&amp;amp;1&lt;/p&gt;

&lt;p&gt;Exit code was 0 and output shows build was successful.&lt;/p&gt;</comment>
                            <comment id="14721303" author="hudson" created="Sun, 30 Aug 2015 00:02:33 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6766 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6766/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6766/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14309&quot; title=&quot;Allow load balancer to operate when there is region in transition by adding force flag&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14309&quot;&gt;&lt;del&gt;HBASE-14309&lt;/del&gt;&lt;/a&gt; Allow load balancer to operate when there is region in transition by adding force flag (tedyu: rev df341c4299ea21e4e1ca09652f6126633f2307c5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/balancer.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14721323" author="hudson" created="Sun, 30 Aug 2015 00:53:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #123 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/123/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/123/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14309&quot; title=&quot;Allow load balancer to operate when there is region in transition by adding force flag&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14309&quot;&gt;&lt;del&gt;HBASE-14309&lt;/del&gt;&lt;/a&gt; Allow load balancer to operate when there is region in transition by adding force flag (tedyu: rev d3a7222bfc1a3068c9be4746f7a62e51b5a4e5f4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/balancer.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14721350" author="hudson" created="Sun, 30 Aug 2015 02:21:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #141 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/141/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/141/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14309&quot; title=&quot;Allow load balancer to operate when there is region in transition by adding force flag&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14309&quot;&gt;&lt;del&gt;HBASE-14309&lt;/del&gt;&lt;/a&gt; Allow load balancer to operate when there is region in transition by adding force flag (tedyu: rev d3a7222bfc1a3068c9be4746f7a62e51b5a4e5f4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/RegionStates.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/balancer.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12752513" name="14309-branch-1.1.txt" size="36541" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 16:18:52 +0000"/>
                            <attachment id="12752335" name="14309-v1.txt" size="41885" author="yuzhihong@gmail.com" created="Tue, 25 Aug 2015 22:13:52 +0000"/>
                            <attachment id="12752384" name="14309-v2.txt" size="41268" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 03:11:52 +0000"/>
                            <attachment id="12752492" name="14309-v3.txt" size="40876" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 14:54:23 +0000"/>
                            <attachment id="12752542" name="14309-v4.txt" size="40835" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 18:25:25 +0000"/>
                            <attachment id="12752561" name="14309-v5-branch-1.txt" size="40276" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 20:27:06 +0000"/>
                            <attachment id="12752707" name="14309-v5.txt" size="40975" author="yuzhihong@gmail.com" created="Thu, 27 Aug 2015 09:28:27 +0000"/>
                            <attachment id="12752552" name="14309-v5.txt" size="40975" author="yuzhihong@gmail.com" created="Wed, 26 Aug 2015 19:56:54 +0000"/>
                            <attachment id="12752853" name="14309-v6.txt" size="42048" author="yuzhihong@gmail.com" created="Thu, 27 Aug 2015 21:06:53 +0000"/>
                            <attachment id="12753130" name="14309-v7-branch-1.txt" size="41547" author="yuzhihong@gmail.com" created="Sat, 29 Aug 2015 09:19:14 +0000"/>
                            <attachment id="12753029" name="14309-v7.txt" size="42229" author="yuzhihong@gmail.com" created="Fri, 28 Aug 2015 17:37:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Aug 2015 01:30:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jd5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This issue adds boolean parameter, force, to &amp;#39;balancer&amp;#39; command so that admin can force region balancing even when there is region (other than hbase:meta) in transition - assuming RIT being transient.&lt;br/&gt;
If hbase:meta is in transition, balancer command returns false.&lt;br/&gt;
&lt;br/&gt;
WARNING: For experts only. Forcing a balance may do more damage than repair when assignment is confused&lt;br/&gt;
Note: enclose the force parameter in double quotes</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>