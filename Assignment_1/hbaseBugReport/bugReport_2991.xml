<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:06:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2991/HBASE-2991.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2991] Add support for refreshNodes in master</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2991</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;-refreshNodes capabilities should be added to bin/hbase (or to a new script called `hbaseadmin`, if we want to maintain command name consistency) with cluster exclusion functionality similar to the capabilities of dfsadmin and mradmin. For ease of administration, the behavior of this option should be procedurally identical to the functions of the Hadoop Common components, including modifying the exclusion list via a local &apos;excludes&apos; configuration file and display of excluded nodes via the web UI.&lt;/p&gt;

&lt;p&gt;A command overview for the behavior of -refreshNodes in dfsadmin is here:&lt;br/&gt;
&lt;a href=&quot;http://hadoop.apache.org/common/docs/current/commands_manual.html#dfsadmin&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/common/docs/current/commands_manual.html#dfsadmin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The command overview for -refreshNodes in mradmin is here:&lt;br/&gt;
&lt;a href=&quot;http://hadoop.apache.org/common/docs/current/commands_manual.html#mradmin&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/common/docs/current/commands_manual.html#mradmin&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474013">HBASE-2991</key>
            <summary>Add support for refreshNodes in master</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mwelty">Matthew Welty</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 22:47:39 +0000</created>
                <updated>Sun, 8 Jun 2014 22:02:22 +0000</updated>
                            <resolved>Sun, 8 Jun 2014 22:02:22 +0000</resolved>
                                                                    <component>master</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12909946" author="stack" created="Wed, 15 Sep 2010 23:37:34 +0000"  >&lt;p&gt;@Matthew In hbase case, what would -refreshNodes do?  Would it talk to hbase master and tell it only allow in whats in regionservers file (an includes list only, or do you want us to support &apos;excludes&apos; )?  Any regionserver that comes in that is not in the current regionserver list, its asked to close itself down cleanly?&lt;/p&gt;</comment>
                            <comment id="12909949" author="mwelty" created="Wed, 15 Sep 2010 23:51:43 +0000"  >&lt;p&gt;@stack: Ideal outcome of a -refreshNodes op would be to compare the contents of an excludes configuration with the current in-memory state, and if there is a conflict it should &quot;decommission&quot; a regionserver and no longer allow it to participate in the cluster. In HDFS a datanode decommissioning amounts to a period of block replication. For an HBase regionserver this may just amount to closing itself down cleanly.&lt;/p&gt;

&lt;p&gt;I don&apos;t think having an &apos;includes&apos; list is necessary (it also breaks with the convention of Hadoop Common), unless someone has a very odd transience issue with rogue regionservers.&lt;/p&gt;</comment>
                            <comment id="12909965" author="andrewr" created="Thu, 16 Sep 2010 00:22:55 +0000"  >&lt;p&gt;@matthew: I&apos;m not sure I understand your comment about an includes list being unnecessary. They are part of both HDFS and Mapreduce and are very important. If one is moving nodes between clusters, includes/excludes lists become essential to insure that only the nodes we expect to be in the cluster are part of the cluster.&lt;/p&gt;

&lt;p&gt;@stack: The HDFS and Mapreduce exclusions work slightly differently today, because in the HDFS case there is a &quot;decommissioning&quot; state that happens once the exclude command is received. But basically the desired behavior for the regionserver would be either:&lt;br/&gt;
1) Immediately shut down when excluded, or&lt;br/&gt;
2) Stay running, and periodically check to see if we are now un-excluded.&lt;/p&gt;</comment>
                            <comment id="12909972" author="mwelty" created="Thu, 16 Sep 2010 00:34:47 +0000"  >&lt;p&gt;@Andrew: Sorry, I don&apos;t even know what I was writing there. For some reason I didn&apos;t recall DFS/MR having both slaves AND includes, but you&apos;re absolutely right.&lt;/p&gt;</comment>
                            <comment id="12909977" author="ryanobjc" created="Thu, 16 Sep 2010 00:42:32 +0000"  >&lt;p&gt;One does not need to decommission a regionserver... just shut it down with&lt;br/&gt;
whatever cluster tools one prefers.&lt;/p&gt;

&lt;p&gt;Its tricky because its a slippery slope to cluster management built into&lt;br/&gt;
hbase, something I think we&apos;d like to avoid.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2991?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=12909965#action_12909965&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2991?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=12909965#action_12909965&lt;/a&gt;]&lt;br/&gt;
being unnecessary. They are part of both HDFS and Mapreduce and are very&lt;br/&gt;
important. If one is moving nodes between clusters, includes/excludes lists&lt;br/&gt;
become essential to insure that only the nodes we expect to be in the&lt;br/&gt;
cluster are part of the cluster.&lt;br/&gt;
because in the HDFS case there is a &quot;decommissioning&quot; state that happens&lt;br/&gt;
once the exclude command is received. But basically the desired behavior for&lt;br/&gt;
the regionserver would be either:&lt;br/&gt;
script called `hbaseadmin`, if we want to maintain command name consistency)&lt;br/&gt;
with cluster exclusion functionality similar to the capabilities of dfsadmin&lt;br/&gt;
and mradmin. For ease of administration, the behavior of this option should&lt;br/&gt;
be procedurally identical to the functions of the Hadoop Common components,&lt;br/&gt;
including modifying the exclusion list via a local &apos;excludes&apos; configuration&lt;br/&gt;
file and display of excluded nodes via the web UI.&lt;br/&gt;
&lt;a href=&quot;http://hadoop.apache.org/common/docs/current/commands_manual.html#dfsadmin&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/common/docs/current/commands_manual.html#dfsadmin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14021440" author="apurtell" created="Sun, 8 Jun 2014 22:02:22 +0000"  >&lt;p&gt;Stale issue. Reopen if still relevant (if there&apos;s new activity)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Sep 2010 23:37:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hk7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>