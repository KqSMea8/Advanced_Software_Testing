<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13405/HBASE-13405.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13405] TestHBaseFsck is flaky</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13405</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Once in a while I&apos;m seeing the following, running #testContainedRegionOverlap test in IDE after clean install (mac osx, hbase master):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
regionserver.HRegionServer(1863): Post open deploy tasks &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tableContainedRegionOverlap,A,1428099123733.03a139b02119e99ef08149addd9a7996.
2015-04-03 15:12:11,695 INFO  [PostOpenDeployTasks:03a139b02119e99ef08149addd9a7996] regionserver.HRegionServer(1956): Failed to report region transition, will retry
java.io.InterruptedIOException: Origin: InterruptedException
	at org.apache.hadoop.hbase.util.ExceptionUtil.asInterrupt(ExceptionUtil.java:65)
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.getRemoteException(ProtobufUtil.java:313)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.reportRegionStateTransition(HRegionServer.java:1955)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.postOpenDeployTasks(HRegionServer.java:1882)
	at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler$PostOpenDeployTasksThread.run(OpenRegionHandler.java:241)
Caused by: java.lang.InterruptedException: callId: 158 methodName: ReportRegionStateTransition param {TODO: class org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos$ReportRegionStateTransitionRequest}
	at io.netty.util.concurrent.DefaultPromise.await0(DefaultPromise.java:333)
	at io.netty.util.concurrent.DefaultPromise.await(DefaultPromise.java:266)
	at io.netty.util.concurrent.AbstractFuture.get(AbstractFuture.java:42)
	at org.apache.hadoop.hbase.ipc.AsyncRpcClient.call(AsyncRpcClient.java:226)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.RegionServerStatusProtos$RegionServerStatusService$BlockingStub.reportRegionStateTransition(RegionServerStatusProtos.java:9030)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.reportRegionStateTransition(HRegionServer.java:1946)
	... 2 more
2015-04-03 15:12:11,696 INFO  [B.defaultRpcServer.handler=1,queue=0,port=51217] master.MasterRpcServices(237): Client=mantonov&lt;span class=&quot;code-comment&quot;&gt;//10.1.4.219 set balanceSwitch=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/span&gt;2015-04-03 15:12:11,696 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(388): maste
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
015-04-03 15:12:11,796 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-3019] client.HBaseAdmin$10(981): Started disable of tableContainedRegionOverlap
2015-04-03 15:12:21,641 INFO  [B.defaultRpcServer.handler=1,queue=0,port=51217] master.HMaster(1645): Client=mantonov&lt;span class=&quot;code-comment&quot;&gt;//10.1.4.219 disable tableContainedRegionOverlap
&lt;/span&gt;
java.lang.AssertionError: 
Expected :[]
Actual   :[NOT_DEPLOYED, HOLE_IN_REGION_CHAIN]
 &amp;lt;Click to see difference&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.hadoop.hbase.util.hbck.HbckTestingUtil.assertNoErrors(HbckTestingUtil.java:92)
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testContainedRegionOverlap(TestHBaseFsck.java:941)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12788123">HBASE-13405</key>
            <summary>TestHBaseFsck is flaky</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mantonov">Mikhail Antonov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Apr 2015 22:20:22 +0000</created>
                <updated>Fri, 3 Apr 2015 22:52:04 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14395212" author="mantonov" created="Fri, 3 Apr 2015 22:52:04 +0000"  >&lt;p&gt;In fact I can see very similar failures in other test cases in this class, e.g.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-04-03 15:48:31,330 WARN  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-5524] util.HBaseFsck(1759): Could not process regionserver 10.1.4.219:50028
org.apache.hadoop.hbase.ipc.CallTimeoutException: callId: 7 methodName: GetOnlineRegion param {TODO: class org.apache.hadoop.hbase.protobuf.generated.AdminProtos$GetOnlineRegionRequest}
	at org.apache.hadoop.hbase.ipc.AsyncRpcClient.call(AsyncRpcClient.java:235)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.AdminProtos$AdminService$BlockingStub.getOnlineRegion(AdminProtos.java:22869)
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.getOnlineRegions(ProtobufUtil.java:1784)
	at org.apache.hadoop.hbase.util.HBaseFsck$WorkItemRegion.call(HBaseFsck.java:3895)
	at org.apache.hadoop.hbase.util.HBaseFsck$WorkItemRegion.call(HBaseFsck.java:3874)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)
2015-04-03 15:48:29,727 DEBUG [RS_CLOSE_META-10.1.4.219:50028-0] regionserver.HRegionFileSystem(381): Committing store file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50002/user/mantonov/test-data/539995fc-b1fe-452f-9f50-42d07acc78ac/data/hbase/meta/1588230740/.tmp/e468fb98da9241e2aeaf47d0b92e2cc7 as hdfs://localhost:50002/user/mantonov/test-data/539995fc-b1fe-452f-9f50-42d07acc78ac/data/hbase/meta/1588230740/table/e468fb98da9241e2aeaf47d0b92e2cc7
&lt;/span&gt;2015-04-03 15:48:29,726 INFO  [RpcServer.reader=1,bindAddress=10.1.4.219,port=50028] ipc.RpcServer$Connection(1640): Connection from 10.1.4.219 port: 53374 with version info: version: &lt;span class=&quot;code-quote&quot;&gt;&quot;2.0.0-SNAPSHOT&quot;&lt;/span&gt; url: &lt;span class=&quot;code-quote&quot;&gt;&quot;git:&lt;span class=&quot;code-comment&quot;&gt;//Mikhails-MacBook-Pro.local/wandisco/source/hbase&quot;&lt;/span&gt; revision: &lt;span class=&quot;code-quote&quot;&gt;&quot;d8b10656d00779e194c3caca118995136babce99&quot;&lt;/span&gt; user: &lt;span class=&quot;code-quote&quot;&gt;&quot;mantonov&quot;&lt;/span&gt; date: &lt;span class=&quot;code-quote&quot;&gt;&quot;Fri Apr  3 15:22:53 PDT 2015&quot;&lt;/span&gt; src_checksum: &lt;span class=&quot;code-quote&quot;&gt;&quot;e261fe7369b6136e325d351242d32004&quot;&lt;/span&gt;
&lt;/span&gt;
java.lang.AssertionError: 
Expected :[UNKNOWN, NO_META_REGION, NULL_META_REGION]
Actual   :[UNKNOWN, NO_META_REGION, NULL_META_REGION, RS_CONNECT_FAILURE, RS_CONNECT_FAILURE]
 &amp;lt;Click to see difference&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.hadoop.hbase.util.hbck.HbckTestingUtil.assertErrors(HbckTestingUtil.java:100)
	at org.apache.hadoop.hbase.util.TestHBaseFsck.testFixAssignmentsWhenMETAinTransition(TestHBaseFsck.java:278)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$StatementThread.run(FailOnTimeout.java:74)


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27s07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>