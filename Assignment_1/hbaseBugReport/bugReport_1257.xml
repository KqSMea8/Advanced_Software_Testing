<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:52:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1257/HBASE-1257.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1257] base64 encoded values are not contained in quotes during the HBase REST JSON serialization</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1257</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;base64 encoded values are having the quotes put around the values before the base64 encoding takes place.  This renders improper JSON that some (all?) json parsers are unable to process.&lt;/p&gt;

&lt;p&gt;The defect should be fixed in the agile-json jar available here:&lt;br/&gt;
&lt;a href=&quot;http://github.com/gottesmm/agile-json-2.0/tree/master&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/gottesmm/agile-json-2.0/tree/master&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m hoping to get to this before this weekend.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416660">HBASE-1257</key>
            <summary>base64 encoded values are not contained in quotes during the HBase REST JSON serialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="macdiesel">Brian Beggs</assignee>
                                    <reporter username="macdiesel">Brian Beggs</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Mar 2009 17:23:15 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:28 +0000</updated>
                            <resolved>Thu, 21 May 2009 15:56:35 +0000</resolved>
                                    <version>0.20.0</version>
                                    <fixVersion>0.20.0</fixVersion>
                                    <component>REST</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12680999" author="roughley" created="Wed, 11 Mar 2009 19:17:14 +0000"  >&lt;p&gt;I&apos;ve fixed the issue in github and pushed it up.  The fix is pretty simple, removing the quotes before base64 encoding and then adding them back to the result.  &lt;/p&gt;</comment>
                            <comment id="12683605" author="stack" created="Thu, 19 Mar 2009 20:48:31 +0000"  >&lt;p&gt;Whats status on this one lads? Want to add a patch here from github?&lt;/p&gt;</comment>
                            <comment id="12689924" author="macdiesel" created="Fri, 27 Mar 2009 14:52:23 +0000"  >&lt;p&gt;Attached you will find the updated Jar file for the AgileJSON implementation.&lt;/p&gt;

&lt;p&gt;Changes include that string values are now quoted correctly when base64 encoded.  &lt;/p&gt;

&lt;p&gt;Also if base64 encoding is requested for the value the key is also base64 encoded as per the REST specification.&lt;/p&gt;</comment>
                            <comment id="12689925" author="macdiesel" created="Fri, 27 Mar 2009 14:53:58 +0000"  >&lt;p&gt;This should finish up this issue as well as address the problem with the keys not being base 64 encoded in JSON.  &lt;/p&gt;

&lt;p&gt;My apologies for the delay on this.&lt;/p&gt;</comment>
                            <comment id="12693722" author="stack" created="Mon, 30 Mar 2009 11:00:52 +0000"  >&lt;p&gt;Hey Brian: Can you put a git revision number or date on the jar so we can associate it with a particular src snapshot (I&apos;ll add this as suffix to the jar when I check it in).  Thanks.&lt;/p&gt;</comment>
                            <comment id="12693800" author="macdiesel" created="Mon, 30 Mar 2009 15:20:41 +0000"  >&lt;p&gt;ok, I forked the project and made the changes. I&apos;ve also request a merge back to the trunk.&lt;/p&gt;

&lt;p&gt;Changes can be found here:&lt;br/&gt;
&lt;a href=&quot;http://github.com/macdiesel/agile-json-2.0/tree/master&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/macdiesel/agile-json-2.0/tree/master&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the commit key is:&lt;br/&gt;
commit b3b9f78a0dc2b18e7906af5ee99bc23ee3df3bc9&lt;/p&gt;

&lt;p&gt;though that seems a bit long, how about we just append the date as todays date since that&apos;s when I made the checkin: 2009-03-30 &lt;/p&gt;</comment>
                            <comment id="12711028" author="stack" created="Wed, 20 May 2009 06:21:10 +0000"  >&lt;p&gt;Has a patch included.  Lets apply.&lt;/p&gt;</comment>
                            <comment id="12711434" author="stack" created="Thu, 21 May 2009 00:20:09 +0000"  >&lt;p&gt;Moving out of 0.20.0.&lt;/p&gt;

&lt;p&gt;Brian, there is something wrong with the jar.  Its missing a bunch of stuff:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    [javac] /Users/stack/checkouts/hbase/cleantrunk/src/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/parser/JsonRestParser.java:179: cannot find symbol
    [javac] symbol  : class JSONObject
    [javac] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.parser.JsonRestParser
    [javac]       scannerDescriptor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JSONObject(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(input));
    [javac]                               ^
    [javac] /Users/stack/checkouts/hbase/cleantrunk/src/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/parser/JsonRestParser.java:198: cannot find symbol
    [javac] symbol  : class JSONException
    [javac] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.parser.JsonRestParser
    [javac]     } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (JSONException e) {
    [javac]              ^
    [javac] /Users/stack/checkouts/hbase/cleantrunk/src/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/parser/JsonRestParser.java:214: cannot find symbol
    [javac] symbol  : class JSONArray
    [javac] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.parser.JsonRestParser
    [javac]     JSONArray a;
    [javac]     ^
    [javac] /Users/stack/checkouts/hbase/cleantrunk/src/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/parser/JsonRestParser.java:220: cannot find symbol
    [javac] symbol  : class JSONObject
    [javac] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.parser.JsonRestParser
    [javac]       JSONObject updateObject = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JSONObject(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(input));
    [javac]       ^
    [javac] /Users/stack/checkouts/hbase/cleantrunk/src/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/parser/JsonRestParser.java:220: cannot find symbol
    [javac] symbol  : class JSONObject
    [javac] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.parser.JsonRestParser
    [javac]       JSONObject updateObject = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JSONObject(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;(input));
    [javac]                                     ^
    [javac] /Users/stack/checkouts/hbase/cleantrunk/src/java/org/apache/hadoop/hbase/&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;/parser/JsonRestParser.java:228: cannot find symbol
    [javac] symbol  : class JSONException
    [javac] location: class org.apache.hadoop.hbase.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.parser.JsonRestParser
    [javac]     } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (JSONException e) {
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The size of this jar is only half that of the original.&lt;/p&gt;</comment>
                            <comment id="12711573" author="macdiesel" created="Thu, 21 May 2009 11:31:54 +0000"  >&lt;p&gt;crap, I&apos;ll look into it today.&lt;/p&gt;</comment>
                            <comment id="12711607" author="macdiesel" created="Thu, 21 May 2009 12:53:42 +0000"  >&lt;p&gt;ok you guys have choices.  &lt;/p&gt;

&lt;p&gt;It seems that Micheal was packaging the json.org jar inside this jar and using it in the project.  The build script on his get project doesn&apos;t do this repackaging automatically.  &lt;/p&gt;

&lt;p&gt;So I built the jar along with the needed json.org classes and will upload them as a patch.  I will also upload the json.jar that I used to do this.  So you can either:&lt;/p&gt;

&lt;p&gt;a) use the new fully packaged jar&lt;br/&gt;
b) just add the json.jar to the lib directory along with the AgileJson-2.0.jar initially attached with this issue.&lt;/p&gt;

&lt;p&gt;But I wanted to let you guys know what was up in the interest of full disclosure.&lt;/p&gt;</comment>
                            <comment id="12711608" author="macdiesel" created="Thu, 21 May 2009 12:55:44 +0000"  >&lt;p&gt;Attached now you will find the newly updated and working AgileJSON-2.0.jar.&lt;/p&gt;

&lt;p&gt;Also attached is the json.jar from json.org.&lt;/p&gt;</comment>
                            <comment id="12711662" author="stack" created="Thu, 21 May 2009 15:56:35 +0000"  >&lt;p&gt;Committed json and new jar separately.  Added note to NOTICES about json.jar.  The license is &apos;different&apos; but trawling on net would indicate its apache compatible.   Thanks for figuring this one out Brian.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408696" name="AgileJSON-2.0.jar" size="78081" author="macdiesel" created="Thu, 21 May 2009 12:55:44 +0000"/>
                            <attachment id="12403809" name="AgileJSON.jar" size="32606" author="macdiesel" created="Fri, 27 Mar 2009 14:52:23 +0000"/>
                            <attachment id="12408697" name="json.jar" size="45946" author="macdiesel" created="Thu, 21 May 2009 12:55:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Mar 2009 19:17:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hc8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>