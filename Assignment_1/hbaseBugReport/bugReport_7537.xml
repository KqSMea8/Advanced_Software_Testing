<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:46:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7537/HBASE-7537.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7537] .regioninfo not created by createHRegion()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7537</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5683&quot; title=&quot;Inconsistent behavior of bin/hbase scripts on different shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5683&quot;&gt;&lt;del&gt;HBASE-5683&lt;/del&gt;&lt;/a&gt; we have no longer the .regioninfo written on disk during the table creation.&lt;br/&gt;
so, if we fail before adding entries to .META. we end up with regions on disk that has no information, and hbck is not able to recover this situation.&lt;/p&gt;

&lt;p&gt;The .regioninfo is written in checkRegioninfoOnFilesystem() that was called by initialize(), during the table creation and region opening. With &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5683&quot; title=&quot;Inconsistent behavior of bin/hbase scripts on different shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5683&quot;&gt;&lt;del&gt;HBASE-5683&lt;/del&gt;&lt;/a&gt; we skip the call to initialize(), in during the region creation, to avoid to initialize the memstore &amp;amp; co.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627084">HBASE-7537</key>
            <summary>.regioninfo not created by createHRegion()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2013 00:11:04 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:20 +0000</updated>
                            <resolved>Tue, 15 Jan 2013 16:52:16 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13552943" author="mbertozzi" created="Mon, 14 Jan 2013 18:09:35 +0000"  >&lt;p&gt;Simple patch to fix the current state, and add a test to verify that the .regioninfo is present on creation and is recreated on region opening if missing.&lt;/p&gt;

&lt;p&gt;Also fix a bad parm naming for a openHRegionInfo(). was tableDir instead of rootDir.&lt;/p&gt;</comment>
                            <comment id="13552946" author="mbertozzi" created="Mon, 14 Jan 2013 18:11:16 +0000"  >&lt;p&gt;Maybe I can fill a follow up jira, to move out the the region on-disk creation code (region dir + .regioninfo) since we don&apos;t in the table creation case we don&apos;t want to initialize the region (call constructor and so on)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HRegion region = HRegion.createHRegion(newRegion,
    fileSystemManager.getRootDir(), conf, hTableDescriptor, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
region.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13553000" author="yuzhihong@gmail.com" created="Mon, 14 Jan 2013 19:08:07 +0000"  >&lt;p&gt;checkRegioninfoOnFilesystem() is private and calls writeRegioninfoOnFilesystem() directly. Is the method needed ?&lt;/p&gt;</comment>
                            <comment id="13553006" author="mbertozzi" created="Mon, 14 Jan 2013 19:10:35 +0000"  >&lt;p&gt;Is not needed yet, but is used by the snapshot code.&lt;br/&gt;
The checkRegioninfo/writeRegioninfo refactor is part of the snapshot code.&lt;/p&gt;</comment>
                            <comment id="13553068" author="hadoopqa" created="Mon, 14 Jan 2013 20:12:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564745/HBASE-7537-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564745/HBASE-7537-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4005//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13553070" author="yuzhihong@gmail.com" created="Mon, 14 Jan 2013 20:17:12 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13553421" author="jmhsieh" created="Tue, 15 Jan 2013 02:28:31 +0000"  >&lt;p&gt;+1, but please fix the findbugs error if this caused it (if trivial just commit, if non-trivial one more rev).  &lt;/p&gt;
</comment>
                            <comment id="13553426" author="mbertozzi" created="Tue, 15 Jan 2013 02:35:25 +0000"  >&lt;p&gt;not sure if the findbug is related with this patch, I&apos;m not able to find something related to it in the logs. (Also all the patch that I&apos;ve posted today have a -1 findbug... maybe something wrong with it?)&lt;/p&gt;</comment>
                            <comment id="13553452" author="yuzhihong@gmail.com" created="Tue, 15 Jan 2013 03:17:05 +0000"  >&lt;p&gt;I think the findbugs count baseline needs an update.&lt;/p&gt;</comment>
                            <comment id="13553594" author="jmhsieh" created="Tue, 15 Jan 2013 08:50:50 +0000"  >&lt;p&gt;ok, then some recent patch other than this added the findbugs thing and we need to be a bit more diligent about this.  feel free to commit.&lt;/p&gt;</comment>
                            <comment id="13553992" author="mbertozzi" created="Tue, 15 Jan 2013 16:52:16 +0000"  >&lt;p&gt;committed to trunk, thanks for the review&lt;/p&gt;</comment>
                            <comment id="13554169" author="hudson" created="Tue, 15 Jan 2013 19:09:21 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3751 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3751/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3751/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7537&quot; title=&quot;.regioninfo not created by createHRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7537&quot;&gt;&lt;del&gt;HBASE-7537&lt;/del&gt;&lt;/a&gt; .regioninfo not created by createHRegion() (Revision 1433514)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13554647" author="hudson" created="Wed, 16 Jan 2013 02:04:14 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #349 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/349/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/349/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7537&quot; title=&quot;.regioninfo not created by createHRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7537&quot;&gt;&lt;del&gt;HBASE-7537&lt;/del&gt;&lt;/a&gt; .regioninfo not created by createHRegion() (Revision 1433514)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775363" author="stack" created="Mon, 23 Sep 2013 18:31:20 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564745" name="HBASE-7537-v0.patch" size="9491" author="mbertozzi" created="Mon, 14 Jan 2013 18:09:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Jan 2013 19:08:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17edz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>