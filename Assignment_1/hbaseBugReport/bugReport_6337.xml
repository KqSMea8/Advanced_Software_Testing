<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:35:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6337/HBASE-6337.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6337] [MTTR] Remove renaming tmp log file in SplitLogManager </title>
                <link>https://issues.apache.org/jira/browse/HBASE-6337</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6309&quot; title=&quot;[MTTR] Do NN operations outside of the ZK EventThread in SplitLogManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6309&quot;&gt;HBASE-6309&lt;/a&gt; mentioned, we also encounter problem of distributed-log-splitting take much more time than matser-local-log-splitting because lots of SplitLogManager &apos;s renaming operations when finishing task.&lt;/p&gt;

&lt;p&gt;Could we try to remove renaming tmp log file in SplitLogManager through splitting log to regions&apos; recover.edits directory directly as the same as the master-local-log-splitting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597697">HBASE-6337</key>
            <summary>[MTTR] Remove renaming tmp log file in SplitLogManager </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjushch">chunhui shen</assignee>
                                    <reporter username="zjushch">chunhui shen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jul 2012 06:06:49 +0000</created>
                <updated>Tue, 26 Feb 2013 16:56:33 +0000</updated>
                            <resolved>Wed, 11 Jul 2012 02:24:26 +0000</resolved>
                                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13407730" author="zjushch" created="Fri, 6 Jul 2012 06:09:22 +0000"  >&lt;p&gt;I will upload a patch later as a start.&lt;/p&gt;</comment>
                            <comment id="13408046" author="zhihyu@ebaysf.com" created="Fri, 6 Jul 2012 15:01:52 +0000"  >&lt;p&gt;Where does the following code from moveRecoveredEditsFromTemp() go ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      Path dst = ZKSplitLog.stripSplitLogTempDir(rootdir, src);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ZKSplitLog.isCorruptFlagFile(dst)) {
        &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13408344" author="stack" created="Fri, 6 Jul 2012 21:23:01 +0000"  >&lt;p&gt;If you are removing tmp dir, don&apos;t be half-hearted about it.  Go for it Chunhui.  So, for example here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (HLogSplitter.splitLogFileToTemp(rootdir, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... don&apos;t pass mull but remove the tmp arg. altogether (unless you have a reason to retain it &amp;#8211; you seem to remove tmp dir elsewhere in your patch).&lt;/p&gt;

&lt;p&gt;Is that all it takes?&lt;/p&gt;

&lt;p&gt;Does this pass tests?  What about the tests that replay recovered edits.  These are passing?&lt;/p&gt;

&lt;p&gt;Good stuff Chunhui.&lt;/p&gt;
</comment>
                            <comment id="13409149" author="zjushch" created="Mon, 9 Jul 2012 03:50:14 +0000"  >&lt;p&gt;@ted&lt;br/&gt;
With the patch, we will split log to region&apos;s directory directory like master-local-log-splitting, so we needn&apos;t to call moveRecoveredEditsFromTemp any more, the code &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Path dst = ZKSplitLog.stripSplitLogTempDir(rootdir, src);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ZKSplitLog.isCorruptFlagFile(dst)) {
        &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is used to rename tmp log file, and we will judge whether the log file is corrupted in new method&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ZKSplitLog.isCorrupted(rootdir, logPath.getName(), fs)) {
+      corruptedLogs.add(logPath);
+    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+      processedLogs.add(logPath);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;@stack&lt;br/&gt;
HLogSplitter.splitLogFileToTemp will be called in many tests, in order to quick solution, I just pass null rather than remove the tmp arg.&lt;/p&gt;

&lt;p&gt;With the patch v2, I run the tests and passed in 0.94 version.&lt;/p&gt;</comment>
                            <comment id="13409152" author="zjushch" created="Mon, 9 Jul 2012 03:52:57 +0000"  >&lt;p&gt;Updating patch v2:&lt;br/&gt;
As stack&apos;s comment, removing tmp arg in method HLogSplitter#splitLogFile;&lt;br/&gt;
And removing some methods won&apos;t be called after the patch.&lt;/p&gt;</comment>
                            <comment id="13409157" author="lhofhansl" created="Mon, 9 Jul 2012 04:02:44 +0000"  >&lt;p&gt;Let&apos;s try for 0.96 for now.&lt;/p&gt;</comment>
                            <comment id="13409158" author="zhihyu@ebaysf.com" created="Mon, 9 Jul 2012 04:03:16 +0000"  >&lt;p&gt;Thanks for the quick response.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    HLogSplitter.moveSplittedLogFile(hlogDir, oldLogDir, logfile.getPath()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The past tense for verb split is split. Please remove &apos;ted&apos; before Logfile in the above method name.&lt;/p&gt;

&lt;p&gt;If you can put the 0.94 patch onto a real cluster and collect performance numbers, that would be great.&lt;/p&gt;</comment>
                            <comment id="13409164" author="zhihyu@ebaysf.com" created="Mon, 9 Jul 2012 04:14:14 +0000"  >&lt;p&gt;For patch v2, I got a test failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testSplitLogFileFirstLineCorruptionLog(org.apache.hadoop.hbase.regionserver.wal.TestHLogSplit)  Time elapsed: 1.456 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;1&amp;gt; but was:&amp;lt;0&amp;gt;
  at org.junit.Assert.fail(Assert.java:93)
  at org.junit.Assert.failNotEquals(Assert.java:647)
  at org.junit.Assert.assertEquals(Assert.java:128)
  at org.junit.Assert.assertEquals(Assert.java:472)
  at org.junit.Assert.assertEquals(Assert.java:456)
  at org.apache.hadoop.hbase.regionserver.wal.TestHLogSplit.testSplitLogFileFirstLineCorruptionLog(TestHLogSplit.java:1108)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;See if you can reproduce it.&lt;/p&gt;</comment>
                            <comment id="13409181" author="zjushch" created="Mon, 9 Jul 2012 04:56:27 +0000"  >&lt;p&gt;Updating patch v3 with Ted&apos;s comment and fix the mistake in the test when making patch for trunk from 0.94.&lt;/p&gt;

&lt;p&gt;I run all the tests and passed in 0.94&lt;/p&gt;

&lt;p&gt;@Ted&lt;br/&gt;
Could you run it by HadoopQA&lt;/p&gt;</comment>
                            <comment id="13409182" author="zjushch" created="Mon, 9 Jul 2012 05:08:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you can put the 0.94 patch onto a real cluster and collect performance numbers, that would be great.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If the distributed-log-splitting&apos;s bottleneck is not on the SplitLogManager, this improvement is just reducing NN operations, else it will decrease the time of distributed-log-splitting.&lt;/p&gt;

&lt;p&gt;We have test for the case:&lt;br/&gt;
9 regionserver, 2500 regions per hlog file, total 280 hlog files,16 ms per rename operation&lt;/p&gt;

&lt;p&gt;With the patch, reduce the time of distributed-log-splitting from 3+ hours to 20+ mins&lt;/p&gt;
</comment>
                            <comment id="13409190" author="lhofhansl" created="Mon, 9 Jul 2012 05:30:48 +0000"  >&lt;p&gt;Why was the rename done in the first place? Was it so that a RegionServer does not see partially written files in .recoverededits? If that is the case, is this still safe? (Not at a computer right now, so it&apos;s possible I misunderstood the nature of the change)&lt;/p&gt;

&lt;p&gt;Also, didn&apos;t realize you had a 0.94 patch already. Added 0.94.2 as target.&lt;/p&gt;</comment>
                            <comment id="13409196" author="zjushch" created="Mon, 9 Jul 2012 05:45:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why was the rename done in the first place?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We don&apos;t split log file to tmp directory anymore, and SplitLogManager need&apos;t to rename the tmp recovered.edits files when finishing task.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If that is the case, is this still safe?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;How unsafe happen? Region will replay edits only in initialization, so we must alreay split the logs, otherwise we won&apos;t assign the region.&lt;/p&gt;</comment>
                            <comment id="13409199" author="hadoopqa" created="Mon, 9 Jul 2012 05:49:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535622/HBASE-6337v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535622/HBASE-6337v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2349//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13409214" author="ram_krish" created="Mon, 9 Jul 2012 06:25:03 +0000"  >&lt;p&gt;@Chunhui&lt;br/&gt;
If the region dir is deleted by CJ then in the current patch we will get IOException and splitlog may be retried? &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6050&quot; title=&quot;HLogSplitter renaming recovered.edits and CJ removing the parent directory race, making the HBCK think cluster is inconsistent.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6050&quot;&gt;&lt;del&gt;HBASE-6050&lt;/del&gt;&lt;/a&gt; was one such situation.&lt;br/&gt;
In the current code&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
List&amp;lt;FileStatus&amp;gt; files = listAll(fs, stagingDir);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;They were doing listAll and expecting a set of files? Now we are not doing that? Is it ok?&lt;/p&gt;</comment>
                            <comment id="13409221" author="zjushch" created="Mon, 9 Jul 2012 06:41:09 +0000"  >&lt;p&gt;@ram&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;If the region dir is deleted by CJ then in the current patch we will get IOException and splitlog may be retried?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;For this case, if region dir is deleted by CJ when we are appending data, we will get IOException and splitlog would retry. In the next retry splitting, we won&apos;t split log for this region through the following code:&lt;br/&gt;
HLogSplitter#getRegionSplitEditsPath&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!fs.exists(regiondir)) {
      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;This region&apos;s directory doesn&apos;t exist: &quot;&lt;/span&gt;
          + regiondir.toString() + &lt;span class=&quot;code-quote&quot;&gt;&quot;. It is very likely that it was&quot;&lt;/span&gt; +
          &lt;span class=&quot;code-quote&quot;&gt;&quot; already split so it&apos;s safe to discard those edits.&quot;&lt;/span&gt;);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;They were doing listAll and expecting a set of files? Now we are not doing that? Is it ok?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This operation is used to list all the recovered.edits files in the tmp directory and move them to region&apos;dir, however now we don&apos;t split log to tmp directory, so no need to do that.&lt;/p&gt;</comment>
                            <comment id="13409557" author="stack" created="Mon, 9 Jul 2012 15:17:48 +0000"  >&lt;p&gt;@Lars I&apos;m not sure why it was done originally.  Prakash was probably being cautious.  As long as a region does not open before log split completes, as Chunhui says, I think we should be fine.  The code as is already overwrites recovered.edits files with same sequence number (which could happen if first split failed and we then rerun it before region open).  Maybe there are failure scenarios we&apos;ve not yet encountered or imagined &amp;#8211; have you tried conjure any new ones Chunhui?  And don&apos;t we have tests for some common failures already?  &amp;#8211; but this approach should be fine I believe.&lt;/p&gt;</comment>
                            <comment id="13409564" author="stack" created="Mon, 9 Jul 2012 15:25:51 +0000"  >&lt;p&gt;@Chunhui The patch looks good.  Thanks for all the cleanup.  moveSplitLogFile could be named better since now there is no actually moving being done.  Call it finishSplitLog or something?  Have you checked out the open region side of the affair to see if any conditions under which we might bungle the replay of recovered.edits files?  I don&apos;t think it possible as long as split finishes successfully before region opens (or we crash out the cluster if we can&apos;t split).&lt;/p&gt;</comment>
                            <comment id="13409929" author="lhofhansl" created="Mon, 9 Jul 2012 22:58:10 +0000"  >&lt;p&gt;Change itself looks to me. If the writing directly into recoverededits is not a problem: +1&lt;/p&gt;</comment>
                            <comment id="13410011" author="zjushch" created="Tue, 10 Jul 2012 02:14:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Have you checked out the open region side of the affair to see if any conditions under which we might bungle the replay of recovered.edits files? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it won&apos;t happen, when splitting log, the edits file is named ends with &quot;.temp&quot;, and repalying edits will skip these files.&lt;/p&gt;</comment>
                            <comment id="13410016" author="zjushch" created="Tue, 10 Jul 2012 02:30:34 +0000"  >&lt;p&gt;Uploading patch v4 : Rename method name moveSplitLogFile to finishSplitLogFile&lt;/p&gt;</comment>
                            <comment id="13410239" author="hadoopqa" created="Tue, 10 Jul 2012 11:00:50 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12535776/HBASE-6337v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12535776/HBASE-6337v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 8 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2355//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13410864" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 20:38:25 +0000"  >&lt;p&gt;I ran TestHLog with patch v4 3 times and they passed on MacBook.&lt;/p&gt;

&lt;p&gt;It is a pity that builds on PreCommit-HBASE-Build were truncated to July 4th - the first link above is no longer working.&lt;/p&gt;

&lt;p&gt;Looks like Chunhui has answered all the questions.&lt;br/&gt;
The 0.94 equivalent of the patch was running in their dev cluster.&lt;/p&gt;

&lt;p&gt;Will wait for 24 hours for further comments.&lt;/p&gt;</comment>
                            <comment id="13410945" author="lhofhansl" created="Tue, 10 Jul 2012 21:30:55 +0000"  >&lt;p&gt;+1 on patch, +1 for 0.94 (can pull back into 0.94.1)&lt;/p&gt;</comment>
                            <comment id="13410956" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 21:38:33 +0000"  >&lt;p&gt;Patch for 0.94&lt;/p&gt;</comment>
                            <comment id="13410965" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 21:48:36 +0000"  >&lt;p&gt;I am running test suite for 0.94&lt;/p&gt;

&lt;p&gt;Will report back if there is any test failure.&lt;/p&gt;</comment>
                            <comment id="13410997" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 22:25:14 +0000"  >&lt;p&gt;Here is test result for 0.94:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests run: 648, Failures: 0, Errors: 0, Skipped: 2

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 30:14.639s
[INFO] Finished at: Tue Jul 10 15:16:19 GMT-07:00 2012
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13411080" author="lhofhansl" created="Wed, 11 Jul 2012 00:01:55 +0000"  >&lt;p&gt;Ship it.&lt;/p&gt;</comment>
                            <comment id="13411087" author="zhihyu@ebaysf.com" created="Wed, 11 Jul 2012 00:10:24 +0000"  >&lt;p&gt;Ran 0.94 test suite again.&lt;br/&gt;
The tests passed.&lt;/p&gt;

&lt;p&gt;Integrated to 0.94 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Chunhui.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Stack, Ram and Lars.&lt;/p&gt;</comment>
                            <comment id="13411165" author="hudson" created="Wed, 11 Jul 2012 02:36:56 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #39 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/39/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/39/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6337&quot; title=&quot;[MTTR] Remove renaming tmp log file in SplitLogManager &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6337&quot;&gt;&lt;del&gt;HBASE-6337&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;MTTR&amp;#93;&lt;/span&gt; Remove renaming tmp log file in SplitLogManager (Chunhui) (Revision 1359959)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/SplitLogManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKSplitLog.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLogSplit.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428723" author="hudson" created="Sun, 5 Aug 2012 00:51:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #6 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6337&quot; title=&quot;[MTTR] Remove renaming tmp log file in SplitLogManager &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6337&quot;&gt;&lt;del&gt;HBASE-6337&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;MTTR&amp;#93;&lt;/span&gt; Remove renaming tmp log file in SplitLogManager (Chunhui) (Revision 1359959)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/SplitLogManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKSplitLog.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLogSplit.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12535933" name="6337-94.txt" size="17682" author="zhihyu@ebaysf.com" created="Tue, 10 Jul 2012 21:38:33 +0000"/>
                            <attachment id="12535331" name="HBASE-6337v1.patch" size="5457" author="zjushch" created="Fri, 6 Jul 2012 09:32:46 +0000"/>
                            <attachment id="12535613" name="HBASE-6337v2.patch" size="18598" author="zjushch" created="Mon, 9 Jul 2012 03:52:57 +0000"/>
                            <attachment id="12535622" name="HBASE-6337v3.patch" size="18576" author="zjushch" created="Mon, 9 Jul 2012 04:56:27 +0000"/>
                            <attachment id="12535776" name="HBASE-6337v4.patch" size="18594" author="zjushch" created="Tue, 10 Jul 2012 02:30:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Jul 2012 15:01:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245337</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>