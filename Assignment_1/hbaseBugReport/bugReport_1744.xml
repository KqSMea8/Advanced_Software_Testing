<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:56:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1744/HBASE-1744.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1744] Thrift server to match the new java api.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1744</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This mutateRows, etc.. is a little confusing compared to the new cleaner java client.&lt;br/&gt;
Thinking of ways to make a thrift client that is just as elegant. something like:&lt;/p&gt;

&lt;p&gt;void put(1:Bytes table, 2:TPut put) throws (1:IOError io)&lt;/p&gt;

&lt;p&gt;with:&lt;/p&gt;

&lt;p&gt;struct TColumn &lt;/p&gt;
{
  1:Bytes family,
  2:Bytes qualifier,
  3:i64 timestamp
}

&lt;p&gt;struct TPut &lt;/p&gt;
{
  1:Bytes row,
  2:map&amp;lt;TColumn, Bytes&amp;gt; values
}

&lt;p&gt;This creates more verbose rpc  than if the columns in TPut were just map&amp;lt;Bytes, map&amp;lt;Bytes, Bytes&amp;gt;&amp;gt;, but that is harder to fit timestamps into and still be intuitive from say python.&lt;/p&gt;

&lt;p&gt;Presumably the goal of a thrift gateway is to be easy first.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432139">HBASE-1744</key>
            <summary>Thrift server to match the new java api.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tim_s">Tim Sell</assignee>
                                    <reporter username="tim_s">Tim Sell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Aug 2009 09:35:12 +0000</created>
                <updated>Fri, 12 Oct 2012 05:34:55 +0000</updated>
                            <resolved>Wed, 2 Nov 2011 18:20:38 +0000</resolved>
                                                    <fixVersion>0.94.0</fixVersion>
                                    <component>Thrift</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="12739161" author="stack" created="Tue, 4 Aug 2009 20:58:50 +0000"  >&lt;p&gt;I added this to the 0.21 roadmap.&lt;/p&gt;</comment>
                            <comment id="12746198" author="stack" created="Fri, 21 Aug 2009 20:25:20 +0000"  >&lt;p&gt;Ok to do &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1402&quot; title=&quot;move &amp;quot;non-native&amp;quot; connectors to contrib style packaging &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1402&quot;&gt;&lt;del&gt;HBASE-1402&lt;/del&gt;&lt;/a&gt; as part of this issue? (Move thrift bindings out to contrib?)&lt;/p&gt;</comment>
                            <comment id="12746304" author="tim_s" created="Fri, 21 Aug 2009 22:29:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12756294" author="streamy" created="Thu, 17 Sep 2009 00:03:55 +0000"  >&lt;p&gt;Note:  Changes to thrift in trunk introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1822&quot; title=&quot;Remove the deprecated APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1822&quot;&gt;&lt;del&gt;HBASE-1822&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12761064" author="streamy" created="Thu, 1 Oct 2009 01:04:40 +0000"  >&lt;p&gt;Move to contrib per linked issues.&lt;/p&gt;</comment>
                            <comment id="12767103" author="tim_s" created="Sun, 18 Oct 2009 17:56:42 +0000"  >&lt;p&gt;Sadly we aren&apos;t using HBase anymore and it&apos;s not looking like we&apos;ll ever use it in production. Though I&apos;m still interested in this issue.&lt;br/&gt;
I&apos;ve barely looked at this in months so if someone else is interested it might be better they take it over.&lt;br/&gt;
At the least I&apos;d appreciate comments from anyone who uses the thrift server.&lt;/p&gt;

&lt;p&gt;Attached is what I was thinking for puts, gets and deletes.&lt;br/&gt;
I&apos;ll add a few iterations over the next week.&lt;/p&gt;</comment>
                            <comment id="12783159" author="tim_s" created="Fri, 27 Nov 2009 20:09:35 +0000"  >&lt;p&gt;Got an email from Lars Francke, who&apos;s doing some work on this.&lt;br/&gt;
Feel free to take it over &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12783244" author="lars_francke" created="Sat, 28 Nov 2009 14:58:47 +0000"  >&lt;p&gt;I&apos;m currently working on this based on your latest patch. At the same time I&apos;m moving it to contrib (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1846&quot; title=&quot;Move thrift to contrib&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1846&quot;&gt;&lt;del&gt;HBASE-1846&lt;/del&gt;&lt;/a&gt;) &lt;/p&gt;

&lt;p&gt;What is the deprecation policy for this? Should I maintain the current API (it has to be regenerated for a newer version of Thrift) and introduce the new API as an additional option? &lt;br/&gt;
As far as I know there is no option to mark something as deprecated in the thrift file so the generated code would not mention any deprecation. We&apos;d have to document/communicate this.&lt;/p&gt;</comment>
                            <comment id="12783285" author="tim_s" created="Sat, 28 Nov 2009 21:11:00 +0000"  >&lt;p&gt;I wouldn&apos;t worry about breaking the current thrift api completely if it&apos;s a big improvement, contrib is always optional. It would be  trivial for people continue using the old one if they wanted.&lt;/p&gt;</comment>
                            <comment id="12783371" author="ryanobjc" created="Sun, 29 Nov 2009 08:20:41 +0000"  >&lt;p&gt;It is a big deal for us to keep the current thrift API, we&apos;d have to have a flag day and change our clients and servers at the same time, not ideal.&lt;/p&gt;

&lt;p&gt;It would be best if we could have both APIs available (that is how we did the 0.19 -&amp;gt; 0.20 (ish) migration).&lt;/p&gt;</comment>
                            <comment id="12783460" author="apurtell" created="Sun, 29 Nov 2009 19:58:29 +0000"  >&lt;p&gt;The way I would like to see this happen is for us to build a replacement Thrift connector to contrib/ (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1846&quot; title=&quot;Move thrift to contrib&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1846&quot;&gt;&lt;del&gt;HBASE-1846&lt;/del&gt;&lt;/a&gt;) while keeping the current Thrift package in core for one release. This is what happened with Stargate. It and the old REST connector coexist in 0.20.x, with Stargate residing in contrib/src/stargate/, but only Stargate will remain in 0.21.x. This gives the freedom to do things differently (but, presumed, better) in the new contrib. So in the case of Thrift, there would be two connectors in 0.21, with the in-core connector scheduled to go away in 0.22. &lt;/p&gt;</comment>
                            <comment id="12783477" author="stack" created="Sun, 29 Nov 2009 21:23:17 +0000"  >&lt;p&gt;Yeah, what Andrew says.  We would deprecate current thrift API in 0.21   The new API would exist at same time but under contrib. as distinct software. The new API does not have to support or relate to the old (IMO). If a do-over from scratch makes sense, go for it (IMO). I would suggest modeling the java API if that will work    Good stuff&lt;/p&gt;</comment>
                            <comment id="12784360" author="lars_francke" created="Tue, 1 Dec 2009 19:31:59 +0000"  >&lt;p&gt;Thanks for the input! Keeping the old thrift API around for now won&apos;t be a problem. I just needed to know how to proceed.&lt;/p&gt;

&lt;p&gt;I&apos;ll have an updated Hbase.thrift file ready in the next few days I hope and a patch shortly afterwards&lt;/p&gt;</comment>
                            <comment id="12786241" author="lars_francke" created="Fri, 4 Dec 2009 23:37:38 +0000"  >&lt;p&gt;This is my first stab at a completely new (again, based on Tim&apos;s experimental idea) Thrift API. Quite a few points came up and I&apos;d be interested in feedback:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;So far I have not included Filters in any way as there is no struct subclassing in Thrift. So I&apos;d need to come up with one data structure for all Filters. I thought of using a list with struct entries that contain a FilterType (enum) and a list or map of string options that would have to be parsed. Probably not the best solution so if anyone has an idea go ahead&lt;/li&gt;
	&lt;li&gt;A few things that are currently missing that I plan to add: Row lock, Scanner caching, maxVersions, incrementColumnValue and checkAndPut&lt;/li&gt;
	&lt;li&gt;A few things that I&apos;m not yet sure about: The async version of createTable, closeRegion (both from HBaseAdmin), getServerInfo from ClusterStatus, quite a few methods from HTable that are not in HTableInterface (getRegionLocation, getStartKeys, getEndKeys, getRegionsInfo, getRegionLocation&lt;/li&gt;
	&lt;li&gt;What to do with autoFlush? I could easily add a method disableAutoflush or something like that but what if flushCommit is never called? How does HBase behave? I&apos;d have to return a identifier for the table so that it can be reused in subsequent calls (just like the scanner interface)&lt;/li&gt;
	&lt;li&gt;I changed scanners to return longs before realizing that scanners timeout after 60 seconds (default) so I&apos;ll probably change it back to ints&lt;/li&gt;
	&lt;li&gt;Currently scanners are not cleaned up, I plan on adding a cleanup thread that automatically closes/removes old scanners from the list&lt;/li&gt;
	&lt;li&gt;Results are returned in TResult objects. You currently have to check if isSetRow or if values.size == 0 - I am thinking of adding an boolen field &quot;empty&quot; as this should be more reliable but as TResults will be sent quite often every this would probably cause a noticeable overhead (I&apos;m not sure how well an optional field is handled in Thrift)&lt;/li&gt;
	&lt;li&gt;Some structs have the &quot;T&quot; as a prefix to avoid name clashes with HBase (Get -&amp;gt; TGet) but some don&apos;t (HTableDescriptor -&amp;gt; TableDescriptor, HColumnDescriptor -&amp;gt; ColumnDescriptor), should I use the &quot;T&quot; everywhere to be consistent?&lt;/li&gt;
	&lt;li&gt;The &quot;delete&quot; method had to be called something else in Thrift as &quot;delete&quot; is a reserved keyword. Tim used &quot;delet&quot; but I think that&apos;s quite confusing (I thought it was a type &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )so I opted for &quot;deleteSingle&quot; instead but I&apos;m open for suggestions&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Well as I said: My first stab at this - I&apos;m not very familiar with HBase so I hope I got most of it right. If there are no major concerns I&apos;ll go ahead and implement the rest of it (parts are done already) and upload a first patch.&lt;/p&gt;

&lt;p&gt;Thanks for all the help on IRC (larsgeorge, dj_ryan, jdcryans and the others)!&lt;/p&gt;</comment>
                            <comment id="12786276" author="stack" created="Sat, 5 Dec 2009 00:52:13 +0000"  >&lt;p&gt;What if you just did one or two of the filters for now?  If someone wants other filters on thrift-side bad enough, they can add them?&lt;/p&gt;

&lt;p&gt;IMO, leave the admin functions out of your thrift machinations; e.g. closeRegion, getServerInfo, getStartKeys, etc.  Most of this utility can be done via shell.  If really wanted, could do in another issue?&lt;/p&gt;

&lt;p&gt;The one exception to above rule would be revealing methods that might be used monitoring an hbase cluster; e.g. perhaps someone wants to write a perl script that checks cluster status and run it from cron.&lt;/p&gt;

&lt;p&gt;Do you not have a close on the scanner?&lt;/p&gt;

&lt;p&gt;OK on empty flag.&lt;/p&gt;

&lt;p&gt;On &apos;T&apos;, yeah, should be consistent I&apos;d say.&lt;/p&gt;

&lt;p&gt;deleteSingle is fine by me.&lt;/p&gt;

&lt;p&gt;Looking at hbase.thrift....&lt;/p&gt;

&lt;p&gt;Stating the obvious, the package documentation is where you make your thrift explaination.&lt;/p&gt;

&lt;p&gt;Purge &apos;Text&apos;.  It doesn&apos;t seem to be used anyways and we went out of our way before you were born &amp;#8211; way back in 0.18/0.19 purging hadoop Text from hbase.&lt;/p&gt;

&lt;p&gt;So, TResult is a map of the tuple family/qualifier/ts to value?  That should work.&lt;/p&gt;

&lt;p&gt;Excellent Lars.&lt;/p&gt;</comment>
                            <comment id="12790157" author="lars_francke" created="Mon, 14 Dec 2009 13:45:41 +0000"  >&lt;p&gt;Thanks for the comments!&lt;/p&gt;

&lt;p&gt;I will have a look at the filters and see which can be easily implemented. I also only just found out about the &lt;tt&gt;union&lt;/tt&gt; keyword in Thrift which might be a good idea for this so I&apos;ll have a look but only after I&apos;ve finished the rest.&lt;/p&gt;

&lt;p&gt;I have no strong opinion about the functions of HBaseAdmin so I&apos;m fine either way. I could also offer an optional AdminThriftServer so that it is separated from the client stuff.&lt;/p&gt;

&lt;p&gt;There is a &lt;tt&gt;closeScanner&lt;/tt&gt; method in there somewhere &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t quite understand what you mean with thrift explanation? Do you mean the comment at the beginning of the file explaining what Thrift is? I just kept it from the previous version but I&apos;ll work on expanding the package.html too.&lt;/p&gt;

&lt;p&gt;&apos;Text&apos; is gone now, I was wondering about that but forgot to mention it.&lt;/p&gt;</comment>
                            <comment id="12800851" author="bassam" created="Fri, 15 Jan 2010 19:21:42 +0000"  >&lt;p&gt;It would be great if the outcome of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2116&quot; title=&quot;Puts and deletes can no longer be applied to the same row with the new client API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2116&quot;&gt;&lt;del&gt;HBASE-2116&lt;/del&gt;&lt;/a&gt; could be factored into the new Thrift API. &lt;/p&gt;

&lt;p&gt;I vote for keeping the Admin API given that 1) its already in the existing thrift API and 2) it would be useful for scripting or even unit tests.&lt;/p&gt;</comment>
                            <comment id="12801003" author="stack" created="Fri, 15 Jan 2010 23:44:23 +0000"  >&lt;p&gt;@Lars Any luck w/ this issue?  Is it coming along some?&lt;/p&gt;</comment>
                            <comment id="12801055" author="lars_francke" created="Sat, 16 Jan 2010 01:33:06 +0000"  >&lt;p&gt;I&apos;m sorry for the lack of updates.&lt;br/&gt;
I&apos;ve not gotten much done over the holidays and just brought myself up to date again - once I&apos;m finished struggling with Ivy I&apos;ll get back to work and I&apos;ll report back.&lt;/p&gt;

&lt;p&gt;As far as I remember there was nothing particular that I was struggling with in regards to Thrift. Filters and row locking are two things still on my list but I haven&apos;t spent much time on them, so I hope to find a solution there.&lt;br/&gt;
As the old Thrift API stays for at least HBase 0.21 before it is deprecated we&apos;ll need to update the thrift jar and introduce two new dependencies (SLF4J) to HBase. Those can be removed again once thrift has moved completely to contrib in 0.22 (I presume).&lt;/p&gt;

&lt;p&gt;@Admin API: I think I can offer an option (&quot;--admin&quot;) or something like that so that this part becomes optional. Would that be acceptable? One service can extend another so I&apos;d define a ThriftInterace and an ExtendedThriftInterface (with the Admin options).&lt;/p&gt;

&lt;p&gt;@Bassam Tabbara: With unions that should be possible but those suckers aren&apos;t documented anywhere and I haven&apos;t dug into the code/details for those. I&apos;ll just wait what happens with the issue you&apos;ve mentioned and will try to implement this.&lt;/p&gt;
</comment>
                            <comment id="12801057" author="tim_s" created="Sat, 16 Jan 2010 01:45:53 +0000"  >&lt;p&gt;About the admin functions. Not sure anyone would bother doing this... but thrift is very flexible, if a client doesn&apos;t want the admin functions exposed they can just cut those functions right out of the thrift file before they generate the client code. It&apos;ll still work with the server.&lt;/p&gt;</comment>
                            <comment id="12894649" author="lars_francke" created="Mon, 2 Aug 2010 18:52:51 +0000"  >&lt;p&gt;Just as an update: I&apos;ve continued working on this today and will try to get a patch up this week. Lars G. can kick me if I don&apos;t finish it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12894814" author="stack" created="Tue, 3 Aug 2010 04:26:51 +0000"  >&lt;p&gt;Thanks for doing this LarsF.&lt;/p&gt;</comment>
                            <comment id="12903511" author="jdcryans" created="Fri, 27 Aug 2010 18:25:33 +0000"  >&lt;p&gt;I don&apos;t know if it&apos;s on your list Lars, but it would be nice when opening scanners to be able to pass a scanner caching value. This would make more sense than having to set a default value in the configuration to make scanning faster, and it would play nice with numRows of getScannerRows.&lt;/p&gt;</comment>
                            <comment id="12905261" author="stack" created="Wed, 1 Sep 2010 22:19:53 +0000"  >&lt;p&gt;Lars F is on this.&lt;/p&gt;</comment>
                            <comment id="12918211" author="streamy" created="Tue, 5 Oct 2010 21:26:30 +0000"  >&lt;p&gt;Lars, what&apos;s time estimate for this?  Should we punt to 0.92?&lt;/p&gt;</comment>
                            <comment id="12918217" author="lars_francke" created="Tue, 5 Oct 2010 21:33:49 +0000"  >&lt;p&gt;Yes, sorry I won&apos;t make it in time for 0.90.&lt;/p&gt;</comment>
                            <comment id="12918295" author="stack" created="Tue, 5 Oct 2010 22:51:15 +0000"  >&lt;p&gt;We&apos;ll make do w/ what we have.&lt;/p&gt;</comment>
                            <comment id="12918309" author="streamy" created="Tue, 5 Oct 2010 23:09:59 +0000"  >&lt;p&gt;This is starting to get pretty critical.  Putting into 0.92 and bumping prio.&lt;/p&gt;</comment>
                            <comment id="12918536" author="lars_francke" created="Wed, 6 Oct 2010 14:24:12 +0000"  >&lt;p&gt;I&apos;ve attached a draft of the new Thrift interface. I&apos;d appreciate any input. But I probably forgot something and there are a few ToDos in there.&lt;/p&gt;

&lt;p&gt;I plan on adding a HbaseAdminClient.thrift file that extends the basic one with all the admin-y stuff (enable/disable tables etc.)&lt;/p&gt;</comment>
                            <comment id="12921776" author="lars_francke" created="Sat, 16 Oct 2010 23:50:29 +0000"  >&lt;p&gt;This adds a patch with a lot of the stuff done. I don&apos;t know of any big missing or wrong things with the new Thrift definition file except these:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I have not added filters in any form&lt;/li&gt;
	&lt;li&gt;I have not added row locks&lt;/li&gt;
	&lt;li&gt;I added a version constant for the API and set it to 2.0.0 - I thought it might be a good idea to expose a version number that shows if the API has changed and follows the regular version number rules. Haven&apos;t added a thrift method yet. Good or bad idea?&lt;/li&gt;
	&lt;li&gt;I&apos;m not entirely sure about TDelete and the delete methods. There are so many different meanings and I haven&apos;t managed to put them all in so far. Will have to think about that again&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This also implements the Server part (which are mostly wrappers) and contains the beginnings of an Admin interface (I was too lazy to weed that out from this preview now). Also: Tests not done yet.&lt;/p&gt;

&lt;p&gt;Before going much further I&apos;d love to get some general feedback on the HbaseClient.thrift and Types.thrift file. Does this API work for you or does it need changes?&lt;/p&gt;</comment>
                            <comment id="12921787" author="stack" created="Sun, 17 Oct 2010 04:32:04 +0000"  >&lt;p&gt;So, you are going to have a thrift2 package for the new stuff.  I don&apos;t know of any other way of deprecating the old thrift api while introducing the new.  Any ideas on how once we remove the original thrift, of how we&apos;d move thrift2 to thrift package?&lt;/p&gt;

&lt;p&gt;Why would I need an HBaseAdminPool?  Why not just create one each time?  Why have one at all?  Just let thriftians use shell if they want admin functionality?&lt;/p&gt;

&lt;p&gt;IIRC, this does not make a new array each time &amp;#8211; it just returns the ByteBuffer backing array:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    HTableInterface htable = getTable(table.array());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I like your getFromThrift and getFromHBase namings.&lt;/p&gt;

&lt;p&gt;Oh, nice, you are doing multiget (and multiput)... and incrementColumnValues.&lt;/p&gt;

&lt;p&gt;There are missing licenses on new files and missing copyright header.&lt;/p&gt;

&lt;p&gt;I&apos;d imagine this has to be public for some reason else you&apos;d make it private?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ThriftServer() {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is cool:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    options.addOption(&lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;framed&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Use framed transport&quot;&lt;/span&gt;);
+    options.addOption(&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;compact&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;Use the compact protocol&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Just remove this I&apos;d say:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testAll() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
..
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Start cluster once rather than per test?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  @Before
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Oh, all tests are commented out?  Or some of them?&lt;/p&gt;

&lt;p&gt;Hmmm... looks kinda great to me Lars.&lt;/p&gt;

&lt;p&gt;On what I said on IRC, I&apos;d say, we can let this be 0.92.  0.92 is soon after 0.90 so that should help.  Meantime anyone who needs new thrift can apply this patch?&lt;/p&gt;




</comment>
                            <comment id="12921845" author="lars_francke" created="Sun, 17 Oct 2010 13:37:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;So, you are going to have a thrift2 package for the new stuff. I don&apos;t know of any other way of deprecating the old thrift api while introducing the new. Any ideas on how once we remove the original thrift, of how we&apos;d move thrift2 to thrift package?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That was the easiest option for now but if you have any other ideas? I could throw all that stuff in the old package as well - I don&apos;t think there are any name-clashes. The only idea I have for moving the stuff afterwards:&lt;/p&gt;

&lt;p&gt;0.92: Deprecate thrift, introduce thrift2&lt;br/&gt;
0.94: Remove old thrift, deprecate thrift2, copy thrift2 to thrift&lt;br/&gt;
0.96: Remove thrift2&lt;/p&gt;

&lt;p&gt;As I said: I can easily throw it all in the current thrift package I guess.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why would I need an HBaseAdminPool? Why not just create one each time? Why have one at all? Just let thriftians use shell if they want admin functionality?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That class is a remnant from an earlier patch I never finished. Not used at the moment. I think an optional Thrift-Admin interface would be nice but I&apos;ll concentrate on the regular client stuff for now.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;IRC, this does not make a new array each time - it just returns the ByteBuffer backing array:&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes that&apos;s the intention. I know it ain&apos;t the most proper way but it should work. Otherwise I&apos;d need to do something like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ByteBuffer bb =&#160;&amp;lt;...&amp;gt;
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] arr = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[bb.remaining()];
bb.get(arr);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;or use a CharsetDecoder or CharBuffer or something like that. I&apos;m really not sure how to best handle ByteBuffers. So any hint would be great.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There are missing licenses on new files and missing copyright header.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks will fix that!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;d imagine this has to be public for some reason else you&apos;d make it private?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No that was just an oversight as far as I can see. Thanks, will look at it.&lt;/p&gt;

&lt;p&gt;The rest you mentioned is not finished yet - it&apos;s just a literal copy &amp;amp; paste from the old code (that&apos;s why the tests are commented out). I didn&apos;t change a thing yet. But it&apos;s on my list.&lt;/p&gt;

&lt;p&gt;I just thought it was about time I finally showed some results &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;And sure this can go into 0.92 -&#160;it has very little dependencies on the rest of the code so I&apos;ll keep the patch updated if needed.&lt;/p&gt;</comment>
                            <comment id="12921920" author="ryanobjc" created="Sun, 17 Oct 2010 23:19:14 +0000"  >&lt;p&gt;i would be against the thrift2 and package moving stuff.  It would require our users to start a particular version of thrift depending on which one they wanted, and would make it difficult for users to migrate, unless you also came up with a way to run both .thrift files in 1 server.&lt;/p&gt;

&lt;p&gt;Thrift doesnt appear to offer any @deprecated tags, so we are probably going to have to do this the old fashioned way.&lt;/p&gt;

&lt;p&gt;But even so, I think the timeline to remove the old API is pretty aggressive.  We removed BatchUpdate fairly quickly, and unless there is a compelling reason I&apos;d rather keep old APIs around just a bit longer. Makes transition easier since it gives users more time.  &lt;/p&gt;</comment>
                            <comment id="12921924" author="lars_francke" created="Sun, 17 Oct 2010 23:26:28 +0000"  >&lt;p&gt;Services can extend each other so I can - in theory -&#160;extend the old API so both would be available in one server but I don&apos;t know if that is really a good option. I don&apos;t think it would be a technical problem though. The APIs are so different - I think they share some exceptions but that&apos;s it (and those are fine). Come to think of it:&#160;Both have a get(...) method if I remember correctly (Thrift does not know overloaded methods) so we&apos;d have to rename one of the two.&lt;/p&gt;

&lt;p&gt;Yeah unfortunately Thrift does not have any options for deprecating stuff so we&apos;ll just have to communicate it prominently.&lt;/p&gt;

&lt;p&gt;The timeline I posted up there was purely fictional. Nothing stops us from keeping both APIs around. The maintenance overhead so far isn&apos;t that bad as far as I can tell. But we should make it very clear that one of the two is probably going away at some point to avoid confusion.&lt;/p&gt;</comment>
                            <comment id="12922173" author="bryanduxbury" created="Mon, 18 Oct 2010 17:53:53 +0000"  >&lt;p&gt;Stack asked me to take a look at your Thrift IDL. Here are the comments I came up with:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It&apos;s a little confusing to typedef binary to Bytes, but that&apos;s all cosmetic.&lt;/li&gt;
	&lt;li&gt;All your files (types, admin, client) use the same java namespace. This means they&apos;ll all generate a Constants.java with the same path, which means 2/3 of them will be clobbered. You only have constants in one of the files, which is good, but I think there&apos;s a good chance that class will be destroyed.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Otherwise, looks good to me.&lt;/p&gt;</comment>
                            <comment id="12922483" author="lars_francke" created="Tue, 19 Oct 2010 08:12:23 +0000"  >&lt;p&gt;Oh great thanks Bryan (and Stack) for the review!&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The typedef to Binary is just carried over from the old API, I thought it would be good to not confuse to much by suddenly changing that as well but you&apos;re probably right so I guess I&apos;ll change that as well.&lt;/li&gt;
	&lt;li&gt;I&#160;didn&apos;t even know about the Constants.java thing, thanks. I&apos;ll just introduce new namespaces. Is that a problem only with Java or the other languages as well?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll have those changes in the next patch.&lt;/p&gt;</comment>
                            <comment id="12968988" author="stack" created="Tue, 7 Dec 2010 21:10:02 +0000"  >&lt;p&gt;@Lars Any chance of your updating this patch?  I&apos;d like to get it into TRUNK for 0.92.  Good on you.&lt;/p&gt;</comment>
                            <comment id="12968992" author="lars_francke" created="Tue, 7 Dec 2010 21:14:26 +0000"  >&lt;p&gt;I&apos;ll get on it next week.&lt;/p&gt;</comment>
                            <comment id="12989242" author="larsgeorge" created="Tue, 1 Feb 2011 15:23:45 +0000"  >&lt;p&gt;Haggling with LarsF to get this done in trunk. I suggest we use the Stargate/REST filter language as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1696&quot; title=&quot;[stargate] support specification of filters for scanners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1696&quot;&gt;&lt;del&gt;HBASE-1696&lt;/del&gt;&lt;/a&gt; since then it is cross connector compatible and it does not really matter anyways for either to have a non text based filter definition. &lt;/p&gt;</comment>
                            <comment id="12989244" author="larsgeorge" created="Tue, 1 Feb 2011 15:26:16 +0000"  >&lt;p&gt;Quick note: ThriftHbaseClientHandler should match the classname ThriftHBaseClientHandler. There are Apache licenses missing.&lt;/p&gt;</comment>
                            <comment id="12989245" author="larsgeorge" created="Tue, 1 Feb 2011 15:27:44 +0000"  >&lt;p&gt;We also need to add support for increment().&lt;/p&gt;</comment>
                            <comment id="12994573" author="ryanobjc" created="Mon, 14 Feb 2011 23:54:57 +0000"  >&lt;p&gt;talking about this recently with stack, I made the point that we should probably put the new API in the same package/thrift file as the old.  Use new symbols, at the end of the .thrift file. That way people can use new and old clients with the same server, making migration easier. It might make some names a little ugly (we could go with the windowsy Ex suffix?) but making an easier migration strategy is important I feel.&lt;/p&gt;</comment>
                            <comment id="12994750" author="larsgeorge" created="Tue, 15 Feb 2011 10:48:00 +0000"  >&lt;p&gt;There is also the duplicate &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3513&quot; title=&quot;upgrade thrift to 0.5.0 and use mvn version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3513&quot;&gt;&lt;del&gt;HBASE-3513&lt;/del&gt;&lt;/a&gt;. We also need to go to Thrift 0.6.0 to not trail again.&lt;/p&gt;</comment>
                            <comment id="13006375" author="lars_francke" created="Mon, 14 Mar 2011 10:35:25 +0000"  >&lt;p&gt;I&apos;m afraid I will finally have to say that I have no idea when I&apos;ll be able to work on this. I&apos;ve promised it for a long time but if anyone else wants to take a stab at it feel free.&lt;/p&gt;

&lt;p&gt;I&apos;m pretty confident in the Thrift definition file I&apos;ve come up with. It needs some minor updates for the updated API (increment for example) and the delete method is still missing one of the possible cases (I&apos;ve documented it in the patch) and filters are not implemented yet either.&lt;/p&gt;

&lt;p&gt;I&apos;ll gladly answer any questions about this in case anyone wants to work on it and if I have the time I&apos;ll improve the patch but I can&apos;t promise anything, sorry &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13006394" author="lars_francke" created="Mon, 14 Mar 2011 12:35:02 +0000"  >&lt;p&gt;About the comments from Bryan: I&apos;ve removed the Bytes typedef but I &lt;em&gt;haven&apos;t&lt;/em&gt; yet dealt with the namespace issue concerning Constants.java&lt;/p&gt;

&lt;p&gt;Apart from that increment, batch and filters are missing as well as the KeyValue.Type.DeleteColumn semantic in the delete methods. I also didn&apos;t do any tests so far and I didn&apos;t move any of the new stuff in the old file as per Ryan&apos;s latest comment.&lt;/p&gt;

&lt;p&gt;I&apos;d favor keeping it separate instead of mangling names etc. but that&apos;s easy for me to say without having to do a migration.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached the latest version of what I&apos;ve done.&lt;/p&gt;</comment>
                            <comment id="13006395" author="lars_francke" created="Mon, 14 Mar 2011 12:36:06 +0000"  >&lt;p&gt;One last thing I forgot:&#160;These files are generated using the Thrift 0.6.0 compiler.&lt;/p&gt;</comment>
                            <comment id="13006467" author="stack" created="Mon, 14 Mar 2011 15:36:05 +0000"  >&lt;p&gt;@Lars Thanks for the work done so far.  One of us will take it to the finish line.  Good on you.&lt;/p&gt;</comment>
                            <comment id="13025153" author="lars_francke" created="Tue, 26 Apr 2011 09:59:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-363?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13024799#comment-13024799&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-363?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13024799#comment-13024799&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thrift is finally in the Maven repository!&lt;/p&gt;</comment>
                            <comment id="13025249" author="stack" created="Tue, 26 Apr 2011 14:30:07 +0000"  >&lt;p&gt;@Lars Some fellas figured it ahead of you (smile).  See &lt;a href=&quot;https://mail.google.com/mail/?shva=1#label/hbase-issues/12f8cf7db44d14fb&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://mail.google.com/mail/?shva=1#label/hbase-issues/12f8cf7db44d14fb&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13054029" author="yuzhihong@gmail.com" created="Thu, 23 Jun 2011 18:52:29 +0000"  >&lt;p&gt;I tried to apply latest patch on TRUNK.&lt;br/&gt;
It doesn&apos;t compile:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/home/hadoop/hbase/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftHBaseClientHandler.java:[41,23] unreported exception java.io.IOException; must be caught or declared to be thrown

/home/hadoop/hbase/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftServer.java:[135,17] cannot find symbol
symbol  : constructor TNonblockingServer(org.apache.hadoop.hbase.thrift2.generated.HbaseClient.Processor,org.apache.thrift.transport.TNonblockingServerTransport,org.apache.thrift.transport.TFramedTransport.Factory,org.apache.thrift.protocol.TProtocolFactory)
location: class org.apache.thrift.server.TNonblockingServer

/home/hadoop/hbase/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftServer.java:[138,17] cannot find symbol
symbol  : constructor THsHaServer(org.apache.hadoop.hbase.thrift2.generated.HbaseClient.Processor,org.apache.thrift.transport.TNonblockingServerTransport,org.apache.thrift.transport.TFramedTransport.Factory,org.apache.thrift.protocol.TProtocolFactory)
location: class org.apache.thrift.server.THsHaServer

/home/hadoop/hbase/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftServer.java:[165,15] cannot find symbol
symbol  : constructor TThreadPoolServer(org.apache.hadoop.hbase.thrift2.generated.HbaseClient.Processor,org.apache.thrift.transport.TServerTransport,org.apache.thrift.transport.TTransportFactory,org.apache.thrift.protocol.TProtocolFactory)
location: class org.apache.thrift.server.TThreadPoolServer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;@Lars, can you take a look ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13054036" author="tim_s" created="Thu, 23 Jun 2011 19:01:21 +0000"  >&lt;p&gt;I have been working on this, continuing work I did at the berlin buzzwords hbase hackday.&lt;br/&gt;
&lt;a href=&quot;https://github.com/tims/hbase-thrift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/tims/hbase-thrift&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll make a patch the fixes I made to Lars stuff and upload it here asap.&lt;/p&gt;</comment>
                            <comment id="13056883" author="yuzhihong@gmail.com" created="Tue, 28 Jun 2011 23:32:35 +0000"  >&lt;p&gt;@Tim, any update ?&lt;/p&gt;</comment>
                            <comment id="13059031" author="tim_s" created="Sat, 2 Jul 2011 14:56:11 +0000"  >&lt;p&gt;Added a new patch.&lt;br/&gt;
This should apply cleanly to trunk and compile.&lt;/p&gt;

&lt;p&gt;I&apos;ve haven&apos;t written unit tests for it, just checked most parts by hand and fixed things.&lt;/p&gt;

&lt;p&gt;You can start thrift and thrift2 servers separately using the daemon scripts.&lt;/p&gt;

&lt;p&gt;Generated code is via Thrift version 0.6.1.&lt;/p&gt;

&lt;p&gt;Missing some licence headers.&lt;/p&gt;</comment>
                            <comment id="13081208" author="yuzhihong@gmail.com" created="Mon, 8 Aug 2011 21:29:02 +0000"  >&lt;p&gt;Sorry to get back to this so late.&lt;/p&gt;

&lt;p&gt;I got the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Compilation failure

/home/hadoop/hbase/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftServer.java:[68,19] ThriftServer() has &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; access in org.apache.hadoop.hbase.thrift2.ThriftServer

/home/hadoop/hbase/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftServer.java:[83,22] cannot find symbol
symbol  : method isMasterRunning()
location: class org.apache.hadoop.hbase.thrift2.ThriftHBaseServiceHandler
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13084614" author="yuzhihong@gmail.com" created="Sat, 13 Aug 2011 13:33:14 +0000"  >&lt;p&gt;I made ThriftServer package private so that the test compiles. But bin/hbase uses org.apache.hadoop.hbase.thrift2.ThriftServer, I guess it should be public.&lt;br/&gt;
I don&apos;t see isMasterRunning() in ThriftHBaseServiceHandler so I commented out the call in TestThriftServer&lt;/p&gt;

&lt;p&gt;The new test runs much faster than the existing one:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.thrift2.TestThriftServer
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.213 sec
Running org.apache.hadoop.hbase.thrift.TestThriftServer
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 36.776 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Maybe I am missing something.&lt;/p&gt;</comment>
                            <comment id="13084616" author="yuzhihong@gmail.com" created="Sat, 13 Aug 2011 13:35:40 +0000"  >&lt;p&gt;TestThriftServer.testAll() is commented out.&lt;br/&gt;
Same with the tests it is supposed to run.&lt;br/&gt;
Please finish TestThriftServer.&lt;/p&gt;</comment>
                            <comment id="13092485" author="yuzhihong@gmail.com" created="Sun, 28 Aug 2011 13:49:33 +0000"  >&lt;p&gt;There seems to be little attention to this JIRA.&lt;/p&gt;</comment>
                            <comment id="13121512" author="bcopeland" created="Wed, 5 Oct 2011 21:47:23 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I put some fixes for the above issues Ted Yu noted and another fix in my git tree here (will send Tim S. a pull request in a sec):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://github.com/bcopeland/hbase-thrift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/bcopeland/hbase-thrift&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The other fix was to allow timeRange to be null in scannerOpen&apos;s TScan.&lt;/p&gt;

&lt;p&gt;(I work on a small python library that wraps the thrift API.  I just forward ported it to thrift2 today and these were the first issues to pop up.)&lt;/p&gt;</comment>
                            <comment id="13121698" author="bcopeland" created="Thu, 6 Oct 2011 03:21:11 +0000"  >&lt;p&gt;Also, seems checkAndPut() should allow value=null like checkAndDelete() &amp;#8211; I also made this change on my branch.&lt;/p&gt;</comment>
                            <comment id="13121841" author="tim_s" created="Thu, 6 Oct 2011 11:05:56 +0000"  >&lt;p&gt;Added patch with Bob Copeland&apos;s fixes and updated to trunk&lt;/p&gt;</comment>
                            <comment id="13121851" author="tim_s" created="Thu, 6 Oct 2011 11:21:41 +0000"  >&lt;p&gt;Thanks Bob, &lt;br/&gt;
my patch still doesn&apos;t have tests, looking at that now.&lt;/p&gt;</comment>
                            <comment id="13122048" author="yuzhihong@gmail.com" created="Thu, 6 Oct 2011 16:21:27 +0000"  >&lt;p&gt;I applied patch v4 and got the following:&lt;br/&gt;
&lt;a href=&quot;http://pastebin.com/rmpXff7m&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/rmpXff7m&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13122055" author="tim_s" created="Thu, 6 Oct 2011 16:34:26 +0000"  >&lt;p&gt;Weird. Strange it works for me, turns out I am compiling with thrift 0.6.1 and hbase is using 0.7,&lt;/p&gt;

&lt;p&gt;cancelling the patch.&lt;/p&gt;

&lt;p&gt;I&apos;ll stick a new one up in a bit.&lt;/p&gt;</comment>
                            <comment id="13122064" author="tim_s" created="Thu, 6 Oct 2011 16:57:59 +0000"  >&lt;p&gt;Added patch which has the thrift2 generated files generated from 0.7.0,&lt;/p&gt;

&lt;p&gt;Also has a few tests.&lt;/p&gt;</comment>
                            <comment id="13122083" author="yuzhihong@gmail.com" created="Thu, 6 Oct 2011 17:23:48 +0000"  >&lt;p&gt;TestThriftHBaseServiceHandler passed for patch v5.&lt;/p&gt;

&lt;p&gt;Can we change the wording for:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  echo &lt;span class=&quot;code-quote&quot;&gt;&quot;  thrift2          run the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HBase Thrift server&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I believe there would be newer Thrift server down the road &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Also, experience using thrift2 would be helpful for other users.&lt;/p&gt;</comment>
                            <comment id="13122938" author="tim_s" created="Fri, 7 Oct 2011 16:35:56 +0000"  >&lt;p&gt;Is &quot;run the HBase Thrift2 server&quot; ok?&lt;/p&gt;

&lt;p&gt;What do you mean by experience? Do you mean examples of usage in different languages?&lt;/p&gt;</comment>
                            <comment id="13122947" author="yuzhihong@gmail.com" created="Fri, 7 Oct 2011 16:42:07 +0000"  >&lt;p&gt;&quot;run the HBase Thrift2 server&quot; is fine.&lt;br/&gt;
By experience, usage in different programming languages would be nice to share.&lt;/p&gt;</comment>
                            <comment id="13123045" author="tim_s" created="Fri, 7 Oct 2011 18:31:29 +0000"  >&lt;p&gt;Added new patch, with a few more tests and a incomplete trivial java example.&lt;/p&gt;</comment>
                            <comment id="13123254" author="yuzhihong@gmail.com" created="Fri, 7 Oct 2011 22:13:35 +0000"  >&lt;p&gt;src/examples/thrift2/DemoClient.java needs license.&lt;/p&gt;</comment>
                            <comment id="13123526" author="tim_s" created="Sat, 8 Oct 2011 16:11:21 +0000"  >&lt;p&gt;new patch, added licenses and trivial python demo.&lt;/p&gt;</comment>
                            <comment id="13123531" author="yuzhihong@gmail.com" created="Sat, 8 Oct 2011 17:05:15 +0000"  >&lt;p&gt;+1 on patch v7.&lt;/p&gt;</comment>
                            <comment id="13124482" author="bcopeland" created="Mon, 10 Oct 2011 21:23:12 +0000"  >&lt;p&gt;I think it would be useful to take care of this todo:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;+ * TODO: This is missing the KeyValue.Type.DeleteColumn semantic. I could add a DeleteType or something like that&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right now thrift2 is using deleteColumn() instead of deleteColumns() which I find to be the least useful of the two (due to re-appearing old versions).  I made a candidate incremental patch on my tree adding a TDeleteType following the TODO&apos;s hint.  It&apos;s kind of ugly but works for me.  I would also be happy with just using deleteColumns() by default.&lt;/p&gt;</comment>
                            <comment id="13124483" author="bcopeland" created="Mon, 10 Oct 2011 21:24:36 +0000"  >&lt;p&gt;Incremental patch adding TDeleteType enum&lt;/p&gt;</comment>
                            <comment id="13124663" author="yuzhihong@gmail.com" created="Tue, 11 Oct 2011 03:48:28 +0000"  >&lt;p&gt;@Bob:&lt;br/&gt;
Can you combine your patch with Tim&apos;s patch v7 ?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13125055" author="bcopeland" created="Tue, 11 Oct 2011 14:16:17 +0000"  >&lt;p&gt;Sure &amp;#8211; v8 is v7 + the TDeleteType addition.&lt;/p&gt;</comment>
                            <comment id="13125533" author="tim_s" created="Wed, 12 Oct 2011 01:57:32 +0000"  >&lt;p&gt;Looks good. I added another patch which also sets TDelete to use DELETE_COLUMNS by default and added some tests.&lt;/p&gt;</comment>
                            <comment id="13126051" author="stack" created="Wed, 12 Oct 2011 19:07:33 +0000"  >&lt;p&gt;Fancy, you have democlient for thrift2 too!&lt;/p&gt;

&lt;p&gt;Thanks for including a package.html.  Should be more forceful about thrift one being deprecated but I can fix on commit.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t look like much overlap between thrift2 utilities and the other thrift utilities if any.  Thats good.&lt;/p&gt;

&lt;p&gt;There are a bunch of spelling mistakes in the patch.  I can fix on commit (And I though you were in skuhl Tim!) &amp;#8211; &quot;Size of pool configuraple&quot;&lt;/p&gt;

&lt;p&gt;Bob and Tim, you fellas +1 on committing this latest patch.  Do tests pass?  The new thrift2 tests?  LarsF you have an opinion?&lt;/p&gt;

&lt;p&gt;It looks good to me.  If you fellas are good, will commit over next few days.&lt;/p&gt;</comment>
                            <comment id="13126065" author="tim_s" created="Wed, 12 Oct 2011 19:17:34 +0000"  >&lt;p&gt;Well, Lars did a lot of the work and deserves credit, so not all the typos are my fault &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;All the demo clients do is a single put and get. The aren&apos;t as standalone as the current thrift package because thrift2 doesn&apos;t have a createTable method, as we are matching HTable only.&lt;/p&gt;

&lt;p&gt;The thrift2 tests pass, I haven&apos;t run all the hbase tests. I thought &quot;submit patch&quot; would do that but it hasn&apos;t any of the times I&apos;ve used it.&lt;/p&gt;

&lt;p&gt;+1 on committing this latest patch (with typos fixed).&lt;/p&gt;
</comment>
                            <comment id="13126202" author="bcopeland" created="Wed, 12 Oct 2011 22:11:50 +0000"  >&lt;p&gt;+1 from me.&lt;/p&gt;

&lt;p&gt;Just tested with latest patch on our cluster, and it passes pybase&apos;s (small, not at all exhaustive) test suite which does some puts, gets, deletes, a checkAndPut, checkAndDelete, and a range scan with the scanner methods.&lt;/p&gt;</comment>
                            <comment id="13136614" author="stack" created="Thu, 27 Oct 2011 00:02:54 +0000"  >&lt;p&gt;Submitting patch to see if it breaks any unit tests.&lt;/p&gt;</comment>
                            <comment id="13138740" author="streamy" created="Fri, 28 Oct 2011 20:54:47 +0000"  >&lt;p&gt;One more requested change.  Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4658&quot; title=&quot;Put attributes are not exposed via the ThriftServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4658&quot;&gt;&lt;del&gt;HBASE-4658&lt;/del&gt;&lt;/a&gt; the map of attributes was added to the available APIs in thrift.  Could we add this to the new TScan, TGet, etc. structs?&lt;/p&gt;</comment>
                            <comment id="13138751" author="tim_s" created="Fri, 28 Oct 2011 21:09:15 +0000"  >&lt;p&gt;I think that should be a follow up issue to this rather than a block.&lt;/p&gt;</comment>
                            <comment id="13141613" author="tim_s" created="Tue, 1 Nov 2011 21:20:49 +0000"  >&lt;p&gt;I don&apos;t think the patch is getting submitted to jenkins.&lt;/p&gt;</comment>
                            <comment id="13141642" author="yuzhihong@gmail.com" created="Tue, 1 Nov 2011 21:48:53 +0000"  >&lt;p&gt;Patch version 10 is same as patch v9.&lt;br/&gt;
Generated for patch testing.&lt;/p&gt;</comment>
                            <comment id="13141648" author="yuzhihong@gmail.com" created="Tue, 1 Nov 2011 21:51:11 +0000"  >&lt;p&gt;@Tim:&lt;br/&gt;
HadoopQA won&apos;t recognize patch v9 which requires -p1 at time of application.&lt;/p&gt;

&lt;p&gt;I regenerated patch v10.&lt;br/&gt;
Once test result comes back clean, I can integrate.&lt;/p&gt;</comment>
                            <comment id="13141790" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 00:10:32 +0000"  >&lt;p&gt;Previous patch testing was blocked by broken TRUNK builds.&lt;/p&gt;</comment>
                            <comment id="13141793" author="hadoopqa" created="Wed, 2 Nov 2011 00:16:16 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12501880/1744-trunk.10&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12501880/1744-trunk.10&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -165 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 40 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/130//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/130//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/130//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/130//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/130//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/130//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13141799" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 00:22:15 +0000"  >&lt;p&gt;@Tim:&lt;br/&gt;
Do you want to take care of the following ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/trunk/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftHBaseServiceHandler.java:[108,28] unreported exception java.lang.Exception; must be caught or declared to be thrown
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13141804" author="tim_s" created="Wed, 2 Nov 2011 00:43:39 +0000"  >&lt;p&gt;cancelling existing patch&lt;/p&gt;</comment>
                            <comment id="13141806" author="tim_s" created="Wed, 2 Nov 2011 00:44:54 +0000"  >&lt;p&gt;added patch with fix so tests build against current trunk (also now using --no-prefix option in git diff)&lt;/p&gt;</comment>
                            <comment id="13141855" author="hadoopqa" created="Wed, 2 Nov 2011 02:37:45 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12501883/HBASE-1744.11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12501883/HBASE-1744.11.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -165 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 40 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestMasterFailover&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/131//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/131//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/131//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/131//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/131//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/131//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13141860" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 02:49:23 +0000"  >&lt;p&gt;Failed tested were caused by &apos;Too many open files&apos;&lt;/p&gt;</comment>
                            <comment id="13141902" author="stack" created="Wed, 2 Nov 2011 04:10:23 +0000"  >&lt;p&gt;+1 on commit to TRUNK.&lt;/p&gt;</comment>
                            <comment id="13141911" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 04:27:29 +0000"  >&lt;p&gt;Integrated to TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Lars and Tim.&lt;/p&gt;

&lt;p&gt;Thanks for the green light Stack.&lt;/p&gt;</comment>
                            <comment id="13142033" author="hudson" created="Wed, 2 Nov 2011 09:55:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2399 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2399/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2399/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt;  Thrift server to match the new java api (Tim Sell)&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/bin/hbase&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/examples/thrift2&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/examples/thrift2/DemoClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/examples/thrift2/DemoClient.py&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftHBaseServiceHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/ThriftUtilities.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TColumn.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TColumnIncrement.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TColumnValue.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TDelete.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TDeleteType.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TGet.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/THBaseService.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TIOError.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TIllegalArgument.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TIncrement.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TPut.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TResult.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TScan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/generated/TTimeRange.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/thrift2/package.html&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/resources/org/apache/hadoop/hbase/thrift2&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/resources/org/apache/hadoop/hbase/thrift2/hbase.thrift&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/thrift2&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftHBaseServiceHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13142039" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 10:09:02 +0000"  >&lt;p&gt;Addendum that makes TestThriftHBaseServiceHandler immune to hanging minicluster.&lt;/p&gt;</comment>
                            <comment id="13142197" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 14:54:28 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK/2399/artifact/trunk/target/surefire-reports/org.apache.hadoop.hbase.thrift2.TestThriftHBaseServiceHandler-output.txt:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK/2399/artifact/trunk/target/surefire-reports/org.apache.hadoop.hbase.thrift2.TestThriftHBaseServiceHandler-output.txt:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2011-11-02 09:18:25,930 INFO  [main] zookeeper.MiniZooKeeperCluster(141): Failed binding ZK Server to client port: 21818
2011-11-02 09:18:25,958 INFO  [main] zookeeper.MiniZooKeeperCluster(164): Started MiniZK Cluster and connect 1 ZK server on client port: 21819
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Let&apos;s see what happens in build 2400.&lt;/p&gt;</comment>
                            <comment id="13142202" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 15:09:18 +0000"  >&lt;p&gt;The test passed in build 2400.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.thrift2.TestThriftHBaseServiceHandler
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 15.203 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13142209" author="hudson" created="Wed, 2 Nov 2011 15:22:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2400 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2400/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2400/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; title=&quot;Thrift server to match the new java api.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1744&quot;&gt;&lt;del&gt;HBASE-1744&lt;/del&gt;&lt;/a&gt; HBaseAdmin ctor should obtain Configuration from HBaseTestingUtility&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/thrift2/TestThriftHBaseServiceHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12477544">HBASE-3117</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12425113">HBASE-1402</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12435891">HBASE-1846</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12445258">HBASE-2116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12498470" name="0001-thrift2-enable-usage-of-.deleteColumns-for-thrift.patch" size="14523" author="bcopeland" created="Mon, 10 Oct 2011 21:24:36 +0000"/>
                            <attachment id="12501880" name="1744-trunk.10" size="707888" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 00:10:32 +0000"/>
                            <attachment id="12501939" name="1744.addendum" size="770" author="yuzhihong@gmail.com" created="Wed, 2 Nov 2011 10:09:02 +0000"/>
                            <attachment id="12501883" name="HBASE-1744.11.patch" size="707094" author="tim_s" created="Wed, 2 Nov 2011 00:44:54 +0000"/>
                            <attachment id="12473552" name="HBASE-1744.2.patch" size="772401" author="lars_francke" created="Mon, 14 Mar 2011 12:35:02 +0000"/>
                            <attachment id="12484967" name="HBASE-1744.3.patch" size="805568" author="tim_s" created="Sat, 2 Jul 2011 14:54:52 +0000"/>
                            <attachment id="12497975" name="HBASE-1744.4.patch" size="801651" author="tim_s" created="Thu, 6 Oct 2011 11:05:56 +0000"/>
                            <attachment id="12498030" name="HBASE-1744.5.patch" size="700497" author="tim_s" created="Thu, 6 Oct 2011 16:57:58 +0000"/>
                            <attachment id="12498215" name="HBASE-1744.6.patch" size="693172" author="tim_s" created="Fri, 7 Oct 2011 18:31:29 +0000"/>
                            <attachment id="12498318" name="HBASE-1744.7.patch" size="698182" author="tim_s" created="Sat, 8 Oct 2011 16:11:21 +0000"/>
                            <attachment id="12498600" name="HBASE-1744.8.patch" size="703576" author="bcopeland" created="Tue, 11 Oct 2011 14:16:17 +0000"/>
                            <attachment id="12498693" name="HBASE-1744.9.patch" size="707236" author="tim_s" created="Wed, 12 Oct 2011 01:57:32 +0000"/>
                            <attachment id="12457359" name="HBASE-1744.preview.1.patch" size="65630" author="lars_francke" created="Sat, 16 Oct 2010 23:50:29 +0000"/>
                            <attachment id="12422492" name="thriftexperiment.patch" size="13979" author="tim_s" created="Sun, 18 Oct 2009 17:56:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Aug 2009 20:58:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>thrift, client</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>