<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:09:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3304/HBASE-3304.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3304] Get spurious master fails during bootup</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3304</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;the log says:&lt;/p&gt;


&lt;p&gt;2010-12-01 20:42:21,115 WARN&lt;br/&gt;
org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation:&lt;br/&gt;
Remove exception connecting to RS&lt;br/&gt;
org.apache.hadoop.ipc.RemoteException:&lt;br/&gt;
org.apache.hadoop.hbase.ipc.ServerNotRunningException: Server is not&lt;br/&gt;
running yet&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1035)&lt;/p&gt;

&lt;p&gt;       at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:753)&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseRPC$Invoker.invoke(HBaseRPC.java:257)&lt;br/&gt;
       at $Proxy6.getProtocolVersion(Unknown Source)&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseRPC.getProxy(HBaseRPC.java:419)&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseRPC.getProxy(HBaseRPC.java:393)&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseRPC.getProxy(HBaseRPC.java:444)&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseRPC.waitForProxy(HBaseRPC.java:349)&lt;br/&gt;
       at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getHRegionConnection(HConnectionManager.java:953)&lt;br/&gt;
       at org.apache.hadoop.hbase.catalog.CatalogTracker.getCachedConnection(CatalogTracker.java:384)&lt;br/&gt;
       at org.apache.hadoop.hbase.catalog.CatalogTracker.waitForRootServerConnection(CatalogTracker.java:210)&lt;br/&gt;
       at org.apache.hadoop.hbase.catalog.CatalogTracker.verifyRootRegionLocation(CatalogTracker.java:453)&lt;br/&gt;
       at org.apache.hadoop.hbase.master.HMaster.assignRootAndMeta(HMaster.java:421)&lt;br/&gt;
       at org.apache.hadoop.hbase.master.HMaster.finishInitialization(HMaster.java:379)&lt;br/&gt;
       at org.apache.hadoop.hbase.master.HMaster.run(HMaster.java:274)&lt;br/&gt;
2010-12-01 20:42:21,118 FATAL org.apache.hadoop.hbase.master.HMaster:&lt;br/&gt;
Unhandled exception. Starting shutdown.&lt;br/&gt;
org.apache.hadoop.hbase.ipc.ServerNotRunningException:&lt;br/&gt;
org.apache.hadoop.hbase.ipc.ServerNotRunningException: Server is not&lt;br/&gt;
running yet&lt;br/&gt;
       at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1035)&lt;/p&gt;

&lt;p&gt;       at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
       at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
       at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
       at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
       at org.apache.hadoop.hbase.RemoteExceptionHandler.decodeRemoteException(RemoteExceptionHandler.java:96)&lt;br/&gt;
       at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getHRegionConnection(HConnectionManager.java:959)&lt;br/&gt;
       at org.apache.hadoop.hbase.catalog.CatalogTracker.getCachedConnection(CatalogTracker.java:384)&lt;br/&gt;
       at org.apache.hadoop.hbase.catalog.CatalogTracker.waitForRootServerConnection(CatalogTracker.java:210)&lt;br/&gt;
       at org.apache.hadoop.hbase.catalog.CatalogTracker.verifyRootRegionLocation(CatalogTracker.java:453)&lt;br/&gt;
       at org.apache.hadoop.hbase.master.HMaster.assignRootAndMeta(HMaster.java:421)&lt;br/&gt;
       at org.apache.hadoop.hbase.master.HMaster.finishInitialization(HMaster.java:379)&lt;br/&gt;
       at org.apache.hadoop.hbase.master.HMaster.run(HMaster.java:274)&lt;br/&gt;
2010-12-01 20:42:21,119 INFO org.apache.hadoop.hbase.master.HMaster: Aborting&lt;br/&gt;
2010-12-01 20:42:21,119 DEBUG org.apache.hadoop.hbase.master.HMaster:&lt;br/&gt;
Stopping service threads&lt;/p&gt;


&lt;p&gt;then the master exits.  the cluster doesn&apos;t start.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12491951">HBASE-3304</key>
            <summary>Get spurious master fails during bootup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryanobjc">ryan rawson</assignee>
                                    <reporter username="ryanobjc">ryan rawson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Dec 2010 01:34:58 +0000</created>
                <updated>Fri, 20 Nov 2015 12:40:55 +0000</updated>
                            <resolved>Fri, 3 Dec 2010 05:39:15 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12966382" author="ryanobjc" created="Fri, 3 Dec 2010 01:35:27 +0000"  >&lt;p&gt;appears we are initializing these in the wrong order.&lt;/p&gt;</comment>
                            <comment id="12966388" author="jdcryans" created="Fri, 3 Dec 2010 01:50:57 +0000"  >&lt;p&gt;I&apos;m not at ease with this patch, what seems to happen is that the CatalogTracker is trying to talk to the old RS but it&apos;s IPC server isn&apos;t started yet. Then we don&apos;t handle the thrown exception. Instead we could just retry... it seems less risky than playing in HBaseServer although I could be totally wrong.&lt;/p&gt;</comment>
                            <comment id="12966405" author="stack" created="Fri, 3 Dec 2010 04:39:01 +0000"  >&lt;p&gt;@Ryan Was it easy to repro? And w/ this change it goes away?&lt;/p&gt;</comment>
                            <comment id="12966414" author="stack" created="Fri, 3 Dec 2010 05:12:32 +0000"  >&lt;p&gt;Now I think on it, I think it intentional that the ordering was as committed.  Here&apos;s where it was changed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
------------------------------------------------------------------------
r1032812 | rawson | 2010-11-08 18:02:27 -0800 (Mon, 08 Nov 2010) | 3 lines

HBASE-3141  Master RPC server needs to be started before an RS can check in
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Retry seems like the thing to add here?&lt;/p&gt;</comment>
                            <comment id="12966417" author="stack" created="Fri, 3 Dec 2010 05:28:02 +0000"  >&lt;p&gt;Exception is when we are verifying the root location at startup to see if we should reassign root.  When we go to do that, we get ServerNotRunningException... so root can&apos;t have been assigned.  Therefore, catch this exception and return null for root not assigned... and higher up the assignment will be dealt with.&lt;/p&gt;</comment>
                            <comment id="12966420" author="jdcryans" created="Fri, 3 Dec 2010 05:29:58 +0000"  >&lt;p&gt;+1 on latest patch if it passes unit tests.&lt;/p&gt;</comment>
                            <comment id="12966427" author="stack" created="Fri, 3 Dec 2010 05:39:15 +0000"  >&lt;p&gt;OK.  I applied my patch to trunk and 0.90.  Lets see if it fixes Ryans&apos;s issue.  Ryan, you can bonk me on head if this fix turns out to be way wrong.&lt;/p&gt;</comment>
                            <comment id="15016833" author="lars_francke" created="Fri, 20 Nov 2015 12:40:55 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12465213" name="3304-v2.txt" size="1659" author="stack" created="Fri, 3 Dec 2010 05:28:02 +0000"/>
                            <attachment id="12465199" name="hbase-3304.txt" size="533" author="ryanobjc" created="Fri, 3 Dec 2010 01:35:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Dec 2010 01:50:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hlnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>