<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:04:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2761/HBASE-2761.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2761] GC overhead limit exceeded in client</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2761</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Never seen this prior to the new meta prefetch stuff. Saw it tonight on a YCSB run after about an hour.&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;Thread-9&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded&lt;br/&gt;
        at java.util.Hashtable.rehash(Hashtable.java:356)&lt;br/&gt;
        at java.util.Hashtable.put(Hashtable.java:412)&lt;br/&gt;
        at java.util.Properties.setProperty(Properties.java:143)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.loadResource(Configuration.java:1337)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.loadResources(Configuration.java:1227)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.getProps(Configuration.java:1156)&lt;br/&gt;
        at org.apache.hadoop.conf.Configuration.iterator(Configuration.java:1198)&lt;br/&gt;
        at org.apache.hadoop.hbase.HBaseConfiguration.hashCode(HBaseConfiguration.java:112)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager.getConnection(HConnectionManager.java:121)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:130)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:99)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.MetaScanner.metaScan(MetaScanner.java:102)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.prefetchRegionCache(HConnectionManager.java:733)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegionInMeta(HConnectionManager.java:784)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.locateRegion(HConnectionManager.java:678)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.processBatchOfPuts(HConnectionManager.java:1424)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:660)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.doPut(HTable.java:545)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12467467">HBASE-2761</key>
            <summary>GC overhead limit exceeded in client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jun 2010 08:34:18 +0000</created>
                <updated>Fri, 20 Nov 2015 12:44:00 +0000</updated>
                            <resolved>Tue, 22 Jun 2010 02:50:28 +0000</resolved>
                                    <version>0.90.0</version>
                                    <fixVersion>0.90.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12880888" author="streamy" created="Mon, 21 Jun 2010 16:40:41 +0000"  >&lt;p&gt;You happen to look at the heap dump?  How much memory were you running the client with and how many regions in the table?&lt;/p&gt;</comment>
                            <comment id="12880890" author="tlipcon" created="Mon, 21 Jun 2010 16:56:26 +0000"  >&lt;p&gt;Didn&apos;t have heap dump enabled for the JVM. Was running with a default heap (what&apos;s that, 128MB?) but I could run the same program just fine on trunk last week. Note that it&apos;s a &quot;GC overhead limit&quot; error, and not &quot;out of memory&quot;&lt;/p&gt;

&lt;p&gt;Note from the stack trace that we&apos;re initting a new HTable in every prefetch, without passing in a configuration - also, I think we must be prefetching too often, because this was a long-running client and should have had everything in cache. This is probably hurting performance and also causing a lot of garbage spew.&lt;/p&gt;</comment>
                            <comment id="12880893" author="streamy" created="Mon, 21 Jun 2010 17:05:23 +0000"  >&lt;p&gt;Right, but GC overhead limit is kinda like an out of memory, you spent too much time trying to evict memory.  There could be some CPU starvation I suppose but in the past I&apos;ve seen similar things trigger either one of those messages.&lt;/p&gt;

&lt;p&gt;The stack trace is odd.  Does seem to be rebuilding a new configuration and each Configuration is making a new hash table.  Are the current prefetch tests sufficient?  I guess there&apos;s a bug in that we&apos;re not reusing the existing Configuration in any case.&lt;/p&gt;</comment>
                            <comment id="12880895" author="tlipcon" created="Mon, 21 Jun 2010 17:08:06 +0000"  >&lt;p&gt;Yep, JD pointed me to &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2756&quot; title=&quot;Warm standby does not read the in_progress edit log &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2756&quot;&gt;&lt;del&gt;HDFS-2756&lt;/del&gt;&lt;/a&gt; which has the metascan bug where it makes a new configuration. My bet is that all the configuration loading/hashing was spewing garbage like crazy.&lt;/p&gt;

&lt;p&gt;I&apos;ll also work on some more tests for prefetch, I do think there are some bugs lurking.&lt;/p&gt;</comment>
                            <comment id="12880896" author="tlipcon" created="Mon, 21 Jun 2010 17:08:30 +0000"  >&lt;p&gt;er.. that should be &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2756&quot; title=&quot;MetaScanner.metaScan doesn&amp;#39;t take configurations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2756&quot;&gt;&lt;del&gt;HBASE-2756&lt;/del&gt;&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="12881030" author="tlipcon" created="Tue, 22 Jun 2010 02:50:28 +0000"  >&lt;p&gt;Spent some time looking at heap dumps in mat, this is almost definitely &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2763&quot; title=&quot;Cross-port HADOOP-6833 IPC parameter leak bug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2763&quot;&gt;&lt;del&gt;HBASE-2763&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15017678" author="lars_francke" created="Fri, 20 Nov 2015 12:44:00 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Jun 2010 16:40:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hj47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>