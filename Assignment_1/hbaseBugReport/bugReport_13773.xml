<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:46:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13773/HBASE-13773.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13773] Replication should not use ZooKeeper at all for coordination</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13773</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Introduce a new system table for replication state and use this table for coordination instead of znodes.&#8203;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12832547">HBASE-13773</key>
            <summary>Replication should not use ZooKeeper at all for coordination</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12862305">HBASE-14379</parent>
                                    <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sukunaidu@gmail.com">Maddineni Sukumar</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 May 2015 17:24:39 +0000</created>
                <updated>Thu, 19 May 2016 22:10:13 +0000</updated>
                                            <version>2.0.0</version>
                    <version>1.0.1</version>
                    <version>1.1.0</version>
                    <version>0.98.12</version>
                    <version>1.2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>16</watches>
                                                                <comments>
                            <comment id="14558398" author="apurtell" created="Mon, 25 May 2015 17:25:38 +0000"  >&lt;p&gt;Feel free to make this a subtask of any umbrella for a major replication overhaul aka &quot;Replication V2&quot;&lt;/p&gt;</comment>
                            <comment id="14559006" author="ashish singhi" created="Tue, 26 May 2015 11:53:45 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10295&quot; title=&quot;Refactor the replication  implementation to eliminate permanent zk node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10295&quot;&gt;HBASE-10295&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14559322" author="apurtell" created="Tue, 26 May 2015 16:22:04 +0000"  >&lt;p&gt;Not sure &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10295&quot; title=&quot;Refactor the replication  implementation to eliminate permanent zk node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10295&quot;&gt;HBASE-10295&lt;/a&gt; goes far enough so let&apos;s keep them both for now. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10295&quot; title=&quot;Refactor the replication  implementation to eliminate permanent zk node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10295&quot;&gt;HBASE-10295&lt;/a&gt; is stuck, btw, no activity since October 2014.&lt;/p&gt;</comment>
                            <comment id="14972979" author="chenheng" created="Sun, 25 Oct 2015 03:27:37 +0000"  >&lt;p&gt;What about &lt;tt&gt;ReplicationQueues&lt;/tt&gt;?  &lt;/p&gt;

&lt;p&gt;If zk removed, how the slaves get notified by master if there are some new wals to replicate?  Polling by slave?&lt;/p&gt;</comment>
                            <comment id="14974016" author="chenheng" created="Mon, 26 Oct 2015 10:54:25 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If zk removed, how the slaves get notified by master if there are some new wals to replicate? Polling by slave?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sorry, i got it now.  master do polling and push wals to slave.&lt;/p&gt;

&lt;p&gt;I make a ReplicationQueues implementation with system table,  and upload it.  Any suggestions?&lt;/p&gt;</comment>
                            <comment id="14974030" author="ashish singhi" created="Mon, 26 Oct 2015 11:06:52 +0000"  >&lt;p&gt;If a cluster having 100 RS, will it create 100 tables ?&lt;/p&gt;</comment>
                            <comment id="14974168" author="chenheng" created="Mon, 26 Oct 2015 13:03:21 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If a cluster having 100 RS, will it create 100 tables ?&lt;/p&gt;&lt;/blockquote&gt; 
&lt;p&gt;You are right. we update the v2, any suggestions? &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
* We use two tables to &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; it.
 *
 * The first one is &apos;RSManager&apos; which used to store RS and queueId information
 * RowKey is &apos;RS name&apos;, table only has one columnFamily &apos;CF&apos;, and columnKey is queueId, columnValue is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
 *
 * The secondary table is &apos;RSWals&apos; which used to store RS wals information.
 * RowKey is &apos;RS name + queueId&apos;, table only has one columnFamily &apos;CF&apos;, and columnKey is wal file, columnValue is position
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14975795" author="sukunaidu@gmail.com" created="Tue, 27 Oct 2015 06:16:48 +0000"  >
&lt;p&gt;Sorry for delay in response, For last one week I was in a remote area in India where there is no internet at all. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;  Thanks for the initial patch. where is the logic to create those tables? &lt;/p&gt;

&lt;p&gt;I am also working on it parallel. But my work is still in progress, my intention is to remove zk as much as possible. &lt;br/&gt;
Below are the areas .&lt;/p&gt;

&lt;p&gt;List of Peers&lt;br/&gt;
    --List of RS&lt;br/&gt;
       --List of Files With Status&lt;br/&gt;
if we move above information from zk to HBase table completely then this will give us performance benefit as well as no data loss when zk is gone completely(we can say loosing ZK has no impact on replication flow)&lt;/p&gt;</comment>
                            <comment id="14975802" author="chenheng" created="Tue, 27 Oct 2015 06:28:09 +0000"  >&lt;p&gt;I just make a suggestion how to implement  ReplicationQueues with hbase table.  &lt;br/&gt;
The files i uploaded is just an outline.&lt;br/&gt;
If needed, i can make a more detail patch about it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;</comment>
                            <comment id="14975805" author="sukunaidu@gmail.com" created="Tue, 27 Oct 2015 06:33:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Cool np anyhow I am already half way there, I will finish it.  Will take your help during code reviews. &lt;br/&gt;
Any how thanks for that sample patch. &lt;/p&gt;</comment>
                            <comment id="14975847" author="chenheng" created="Tue, 27 Oct 2015 07:05:03 +0000"  >&lt;p&gt;Go ahead please.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12971312">HBASE-15867</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12768700" name="ReplicationQueueHBaseImpl.java" size="6667" author="chenheng" created="Mon, 26 Oct 2015 10:53:23 +0000"/>
                            <attachment id="12768715" name="ReplicationQueueHBaseImpl_v2.java" size="7623" author="chenheng" created="Mon, 26 Oct 2015 13:00:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 May 2015 11:53:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f66n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>