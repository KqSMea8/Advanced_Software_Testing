<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:29:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5584/HBASE-5584.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5584] Coprocessor hooks can be called in the respective handlers</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5584</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Following points can be changed w.r.t to coprocessors&lt;/p&gt;

&lt;p&gt;-&amp;gt; Call preCreate, postCreate, preEnable, postEnable, etc. in their respective handlers&lt;br/&gt;
-&amp;gt; Currently it is called in the HMaster thus making the postApis async w.r.t the handlers&lt;br/&gt;
-&amp;gt; Similar is the case with the balancer.&lt;/p&gt;

&lt;p&gt;with current behaviour once we are in the postEnable(for eg) we any way need to wait for the main enable handler to &lt;br/&gt;
be completed.&lt;br/&gt;
We should ensure that we dont wait in the main thread so again we need to spawn a thread and wait on that.&lt;br/&gt;
On the other hand if the pre and post api is called on the handlers then only that handler thread will be&lt;br/&gt;
used in the pre/post apis&lt;/p&gt;

&lt;p&gt;If the above said plan is ok i can prepare a patch for all such related changes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12546583">HBASE-5584</key>
            <summary>Coprocessor hooks can be called in the respective handlers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Mar 2012 13:18:21 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:14 +0000</updated>
                            <resolved>Sun, 6 May 2012 06:05:32 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13230157" author="ram_krish" created="Thu, 15 Mar 2012 13:21:16 +0000"  >&lt;p&gt;One more reason for doing this could be on master failover we call EnableTableHandler and DisableTableHandler for partially enabled/disabled tables.  But we don&apos;t call the coprocessor hooks in such scenarios.&lt;/p&gt;
</comment>
                            <comment id="13230368" author="mingjielai" created="Thu, 15 Mar 2012 17:57:03 +0000"  >&lt;p&gt;Ramkrishna. &lt;br/&gt;
One thing you need to take into consideration is hbase ACL. Right now table level permission control (table creation, enabling, etc) is performed at master preCreate, preEnable e.g. hooks, and a request gets denied by throwing an exception. &lt;br/&gt;
If you want to move preXXX to handler threads, the ACL exception cannot be handled properly to indicate a permission rejection. So in this case, if a user tries to delete someone else&apos;s tables, she won&apos;t see any exception although the request has been rejected. &lt;/p&gt;</comment>
                            <comment id="13230385" author="apurtell" created="Thu, 15 Mar 2012 18:18:12 +0000"  >&lt;p&gt;Ram,&lt;/p&gt;

&lt;p&gt;What Mingjie said. The coprocessor hooks can&apos;t be asynchronous with respect to client action.&lt;/p&gt;

&lt;p&gt;Would adding additional hooks for handler actions work for you here?&lt;/p&gt;</comment>
                            <comment id="13230889" author="ram_krish" created="Fri, 16 Mar 2012 04:28:26 +0000"  >&lt;p&gt;@Mingjie/Andrew&lt;/p&gt;

&lt;p&gt;Thanks for your reply. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Would adding additional hooks for handler actions work for you here?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes it would work.  We can strengthen the client that we write to see if all the needed tables are created or not.  Atleast the change that we do will avoid unnecessary waiting logics added in the current hooks.&lt;/p&gt;

&lt;p&gt;Currently create, enable, disable, modify and delete,  are done in async mode.  &lt;br/&gt;
Modifycolumn, deletecolumn all are sync.  But still can we go ahead an add hooks in those Handlers also so that in future it may be needed.&lt;/p&gt;

&lt;p&gt;Can we name the new hooks as preXXXhandler and postXXXhandler?&lt;br/&gt;
Please do suggest if the above is ok..I can submit a patch for the same.&lt;/p&gt;</comment>
                            <comment id="13230890" author="anoopsamjohn" created="Fri, 16 Mar 2012 04:31:07 +0000"  >&lt;p&gt;+1 on additional hooks.&lt;br/&gt;
Different usecases can be supported..  As per the need user can use which one they want  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thanks Andrew&lt;/p&gt;</comment>
                            <comment id="13230894" author="apurtell@yahoo.com" created="Fri, 16 Mar 2012 04:45:44 +0000"  >&lt;p&gt;Yes Ram that sounds good. Please consider making a note in the javadoc of MasterObserver which hooks are called synchronously with respect to RPC actions and which are not. &lt;/p&gt;</comment>
                            <comment id="13233440" author="ram_krish" created="Tue, 20 Mar 2012 14:29:24 +0000"  >&lt;p&gt;Patch for review.&lt;/p&gt;</comment>
                            <comment id="13233909" author="hadoopqa" created="Tue, 20 Mar 2012 22:51:17 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12519080/HBASE-5584.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12519080/HBASE-5584.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 165 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestMasterObserver&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1232//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1232//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1232//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1232//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1232//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1232//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13234075" author="ram_krish" created="Wed, 21 Mar 2012 04:20:49 +0000"  >&lt;p&gt;I am looking into the test case failure.  In my local box it is passing. I have run all test cases with coprocessors particluarly.  But am able to get the reason why it failed in HadoopQA.&lt;/p&gt;</comment>
                            <comment id="13234086" author="stack" created="Wed, 21 Mar 2012 04:47:18 +0000"  >&lt;p&gt;Load up the patch and resubmit the patch Ram.  See if it fails same way again (its odd that one failed in particular given what was changed).&lt;/p&gt;</comment>
                            <comment id="13234091" author="ram_krish" created="Wed, 21 Mar 2012 04:50:31 +0000"  >&lt;p&gt;@Stack&lt;br/&gt;
Its better i handle it in testcase.  If i resubmit also it will fail.&lt;/p&gt;</comment>
                            <comment id="13234100" author="stack" created="Wed, 21 Mar 2012 05:06:41 +0000"  >&lt;p&gt;Oh, you know whats wrong?  It is indeed broke?&lt;/p&gt;</comment>
                            <comment id="13234124" author="ram_krish" created="Wed, 21 Mar 2012 05:39:17 +0000"  >&lt;p&gt;Updated patch (only testcase).  In my local it was passing.  Now added some sleep in testcase after create so that we can ensure that the postCreateHandler is called.  Pls review.&lt;/p&gt;</comment>
                            <comment id="13234153" author="hadoopqa" created="Wed, 21 Mar 2012 06:29:01 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12519174/HBASE-5584-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12519174/HBASE-5584-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 4 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1233//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1233//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1233//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1233//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1233//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1233//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13234250" author="ram_krish" created="Wed, 21 Mar 2012 10:07:30 +0000"  >&lt;p&gt;The test cases are passing now after adding the sleep in testcase.&lt;/p&gt;</comment>
                            <comment id="13234806" author="apurtell" created="Wed, 21 Mar 2012 18:25:16 +0000"  >&lt;p&gt;In the patch I don&apos;t see where the unit test waits sufficiently for the async operation to complete. It&apos;s going to be racy. Use a CountDownLatch or similar to wait in the test for the handler?&lt;/p&gt;

&lt;p&gt;Edit: Ok, didn&apos;t refresh this page before commenting. Consider that a sleep may not be the best option, you don&apos;t eliminate a race against async activity, just hope to get out in front of it by waiting for a while.&lt;/p&gt;</comment>
                            <comment id="13235594" author="ram_krish" created="Thu, 22 Mar 2012 14:18:46 +0000"  >&lt;p&gt;@Andrew&lt;br/&gt;
Instead of sleep i have added CountdownLatch for the assertion of create table.  Pls review.&lt;/p&gt;</comment>
                            <comment id="13235622" author="hadoopqa" created="Thu, 22 Mar 2012 15:11:02 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12519440/HBASE-5584-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12519440/HBASE-5584-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 3 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1256//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1256//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1256//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1256//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1256//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1256//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13237857" author="ram_krish" created="Sun, 25 Mar 2012 13:33:03 +0000"  >&lt;p&gt;Is this latest patch fine? &lt;/p&gt;</comment>
                            <comment id="13245392" author="stack" created="Tue, 3 Apr 2012 15:19:06 +0000"  >&lt;p&gt;@Andrew One for you when you have a moment....&lt;/p&gt;</comment>
                            <comment id="13257668" author="ram_krish" created="Thu, 19 Apr 2012 18:29:03 +0000"  >&lt;p&gt;@Andrew&lt;br/&gt;
If you have some time can you take a look at this?&lt;/p&gt;</comment>
                            <comment id="13268022" author="apurtell" created="Fri, 4 May 2012 01:34:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;Please consider making a note in the javadoc of MasterObserver which hooks are called synchronously with respect to RPC actions and which are not. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This patch goes beyond such notation and distinguishes two classes of coprocessor hook now, 1) hooks called inline with RPC processing which can bypass(), and 2) a new class of hooks called from async handler code that can note some action but not override it. &lt;/p&gt;

&lt;p&gt;Shouldn&apos;t we still allow overriding default behavior? Like with compaction. There we tell the user that calling bypass() without providing some kind of alternate writer will drop all data on the floor. Likewise, if a hook in EnableTableHandler doesn&apos;t actually enable the table and calls bypass(), then we can expect this was as intended, but clearly state this in the Javadoc.&lt;/p&gt;

&lt;p&gt;Edit: Sorry, not clear, I am +0 on the patch itself as long as we&apos;re all ok with the above. There is some newly added commented out code in the patch e.g.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    /*&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!admin.isTableEnabled(htd.getName())
+        &amp;amp;&amp;amp; !admin.isTableAvailable(htd.getName())) {
+      &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(50);
+    }*/
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Remove that on commit and I&apos;m +1.&lt;/p&gt;</comment>
                            <comment id="13268121" author="ram_krish" created="Fri, 4 May 2012 04:41:05 +0000"  >&lt;p&gt;@Andy&lt;br/&gt;
Thanks for your time and review.  I will any way update the patch based on the latest code changes and remove that commented code. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13268536" author="ram_krish" created="Fri, 4 May 2012 16:55:12 +0000"  >&lt;p&gt;Removed the commented lines.&lt;br/&gt;
@Andy&lt;br/&gt;
I think you are ok on commit right?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Sorry, not clear, I am +0 on the patch itself as long as we&apos;re all ok with the above&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Devs, can you take a look at it?&lt;/p&gt;</comment>
                            <comment id="13268569" author="hadoopqa" created="Fri, 4 May 2012 17:47:11 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525649/HBASE-5584-3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525649/HBASE-5584-3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1767//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1767//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1767//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1767//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1767//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1767//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268998" author="apurtell" created="Sat, 5 May 2012 16:25:33 +0000"  >&lt;p&gt;+1 Patch looks good Ram.&lt;/p&gt;</comment>
                            <comment id="13269135" author="ram_krish" created="Sun, 6 May 2012 06:05:09 +0000"  >&lt;p&gt;Committed to trunk.  Thanks for your review Andy. &lt;/p&gt;</comment>
                            <comment id="13269149" author="hudson" created="Sun, 6 May 2012 06:53:35 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2853 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2853/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5584&quot; title=&quot;Coprocessor hooks can be called in the respective handlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5584&quot;&gt;&lt;del&gt;HBASE-5584&lt;/del&gt;&lt;/a&gt; Coprocessor hooks can be called in the respective handlers (Ram) (Revision 1334560)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/CreateTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/DisableTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/EnableTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableAddFamilyHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableDeleteFamilyHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableModifyFamilyHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13269198" author="hudson" created="Sun, 6 May 2012 12:36:43 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #194 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/194/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/194/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5584&quot; title=&quot;Coprocessor hooks can be called in the respective handlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5584&quot;&gt;&lt;del&gt;HBASE-5584&lt;/del&gt;&lt;/a&gt; Coprocessor hooks can be called in the respective handlers (Ram) (Revision 1334560)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/CreateTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/DisableTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/EnableTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableAddFamilyHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableDeleteFamilyHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableModifyFamilyHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13269204" author="mbertozzi" created="Sun, 6 May 2012 12:46:37 +0000"  >&lt;p&gt;This change breaks the security build, since AccessController uses MasterObserver and not BaseMasterObserver.&lt;/p&gt;

&lt;p&gt;security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class AccessController &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BaseRegionObserver
    &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; BaseMasterObserver, AccessControllerProtocol {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13269350" author="ram_krish" created="Mon, 7 May 2012 04:06:02 +0000"  >&lt;p&gt;I will prepare an addendum for the security branch.  I waited till the TRUNK build complied and succeeded but did not check the SECURITY branch. &lt;/p&gt;</comment>
                            <comment id="13269398" author="ram_krish" created="Mon, 7 May 2012 06:32:15 +0000"  >&lt;p&gt;Update the addendum for SECURITY.  Currently only dummy implementations have been given for the new apis as the existing preXXX and postXXX will do the actual validation of the operation like create, delete, etc.  &lt;br/&gt;
Let me know if it is ok so that i can commit it and make the SECURITY profile to compile?&lt;/p&gt;</comment>
                            <comment id="13269797" author="ram_krish" created="Mon, 7 May 2012 17:29:00 +0000"  >&lt;p&gt;Could some one review this? Needs to be committed so that SECURITY compiles?  &lt;/p&gt;</comment>
                            <comment id="13269827" author="zhihyu@ebaysf.com" created="Mon, 7 May 2012 18:06:16 +0000"  >&lt;p&gt;TestAccessController passes with addendum.&lt;/p&gt;

&lt;p&gt;+1 on addendum.&lt;/p&gt;</comment>
                            <comment id="13269960" author="zhihyu@ebaysf.com" created="Mon, 7 May 2012 20:08:24 +0000"  >&lt;p&gt;It is very late in India.&lt;/p&gt;

&lt;p&gt;Addendum integrated to trunk so that people working on security-related code are unblocked.&lt;/p&gt;

&lt;p&gt;Thanks for the addendum, Ramkrishna.&lt;/p&gt;</comment>
                            <comment id="13270032" author="hudson" created="Mon, 7 May 2012 21:38:45 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #195 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/195/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5584&quot; title=&quot;Coprocessor hooks can be called in the respective handlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5584&quot;&gt;&lt;del&gt;HBASE-5584&lt;/del&gt;&lt;/a&gt; Addendum fixes compilation error in AccessController (Ramkrishna) (Revision 1335226)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13270062" author="hudson" created="Mon, 7 May 2012 22:30:42 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2854 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2854/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2854/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5584&quot; title=&quot;Coprocessor hooks can be called in the respective handlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5584&quot;&gt;&lt;del&gt;HBASE-5584&lt;/del&gt;&lt;/a&gt; Addendum fixes compilation error in AccessController (Ramkrishna) (Revision 1335226)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775313" author="stack" created="Mon, 23 Sep 2013 18:31:14 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12519174" name="HBASE-5584-1.patch" size="65769" author="ram_krish" created="Wed, 21 Mar 2012 05:39:17 +0000"/>
                            <attachment id="12519440" name="HBASE-5584-2.patch" size="66139" author="ram_krish" created="Thu, 22 Mar 2012 14:18:46 +0000"/>
                            <attachment id="12525649" name="HBASE-5584-3.patch" size="65960" author="ram_krish" created="Fri, 4 May 2012 16:54:23 +0000"/>
                            <attachment id="12519080" name="HBASE-5584.patch" size="65111" author="ram_krish" created="Tue, 20 Mar 2012 14:28:44 +0000"/>
                            <attachment id="12525806" name="HBASE-5584_Security_addendum.patch" size="3231" author="ram_krish" created="Mon, 7 May 2012 06:29:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Mar 2012 17:57:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0htp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>