<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:32:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5997/HBASE-5997.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5997] Fix concerns raised in HBASE-5922 related to HalfStoreFileReader</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5997</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Pls refer to the comment&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922?focusedCommentId=13269346&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13269346&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5922?focusedCommentId=13269346&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13269346&lt;/a&gt;.&lt;br/&gt;
Raised this issue to solve that comment. Just incase we don&apos;t forget it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12555096">HBASE-5997</key>
            <summary>Fix concerns raised in HBASE-5922 related to HalfStoreFileReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anoopsamjohn">Anoop Sam John</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 May 2012 05:19:17 +0000</created>
                <updated>Sun, 7 Apr 2013 04:34:37 +0000</updated>
                            <resolved>Wed, 12 Sep 2012 05:48:42 +0000</resolved>
                                    <version>0.90.6</version>
                    <version>0.92.1</version>
                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13275271" author="anoopsamjohn" created="Tue, 15 May 2012 08:36:00 +0000"  >&lt;p&gt;Well this problem is not that straight forward as the other one  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Ya obviously we need &amp;lt;= 0 check in the top file if check &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (top) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
              splitkey.length) &amp;lt; 0) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          }
        } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But the problem is to the comparator we pass the splitkey which will be rowkey only and the other key is the KV key. This KV key can contain other bytes than the rowkey bytes. So in this when the rowkey = splitkey , still the comparator will give a value &amp;gt;0...&lt;/p&gt;

&lt;p&gt;I am checking the usage of the seekBefore and what is the key which will come to here..&lt;/p&gt;</comment>
                            <comment id="13277700" author="anoopsamjohn" created="Thu, 17 May 2012 10:09:20 +0000"  >&lt;p&gt;Was able to produce one issue &lt;br/&gt;
Have one table with a region [r1-r5). Now split this region with splitkey as r3&lt;br/&gt;
The two regions will be [r1-r3) and [r3-r5)&lt;br/&gt;
Now call HTable.getRowOrBefore() with passing row as r3 (splitkey)&lt;br/&gt;
Mean while there is no data with rowkey as r3 in the table&lt;/p&gt;

&lt;p&gt;The above call will create a seekBefore on the top half file with key as r3 and currently it will seek into the bottom file and gets the last KV in that file.&lt;/p&gt;

&lt;p&gt;After getting the KV in the HRegion.getClosestRowBefore(), there is a Get call to fetch the KV. This Get will fail in 1st step itself as the rowkey it is trying to fetch is not in range of [r3,r5)..  So in my scenario the call is throwing Exception&lt;br/&gt;
WrongRegionException(&quot;Requested row out of range for......&quot;)&lt;/p&gt;</comment>
                            <comment id="13277704" author="anoopsamjohn" created="Thu, 17 May 2012 10:25:19 +0000"  >&lt;p&gt;As I mentioned there are 2 issues&lt;br/&gt;
1. We need to change the if check such that return false when the passed key is equal to the splitkey also. Because in the file there wont be any KV with rowkey less than the splitkey. That will be obviously in the bottom half.&lt;br/&gt;
2. In the comparator we pass the passed key as the left item and the split key byte[] as the right item. The split key always byte[] will contains&lt;br/&gt;
rowkeylenth + rowkey. There wont be any bytes corresponding to CF name or qualifier name or the timestamp bytes. So when the passed key is with rowkey=splitkey and contains any bytes corresponding to any of these items ( well this is key of KV and contain any ) the comparator will return a value &amp;gt;0&lt;/p&gt;

&lt;p&gt;Calls getting to this API from HBase code pass only rowkey(rowkeylenth + rowkey) and a timestamp &lt;span class=&quot;error&quot;&gt;&amp;#91;timestamp=HConstants.LATEST_TIMESTAMP&amp;#93;&lt;/span&gt; But no CF name and qualifier name. So if the top file contains KVs with rowkey as splitkey still all those KVs will look as greater than the passed key as every KV will contain the CF name bytes after the rowkey bytes.  So always it will seek into the bottom half.&lt;/p&gt;


&lt;p&gt;Can we take only the part of the byte[] passed to this method ( seekBefore)? We need to take only the bytes rowkeylenth + rowkey&lt;br/&gt;
like below&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
-              splitkey.length) &amp;lt; 0) {
+          &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; lrowlength = Bytes.toShort(key, offset);
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, lrowlength, splitkey, 0,
+              splitkey.length) &amp;lt;= 0) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13278016" author="zhihyu@ebaysf.com" created="Thu, 17 May 2012 17:49:48 +0000"  >&lt;p&gt;@Anoop:&lt;br/&gt;
Good analysis.&lt;br/&gt;
Can you put the scenario described @ 17/May/12 10:09 into a test ?&lt;br/&gt;
Then it is easier to validate your proposal above.&lt;/p&gt;</comment>
                            <comment id="13278129" author="anoopsamjohn" created="Thu, 17 May 2012 19:22:16 +0000"  >&lt;p&gt;Includes the test case which reproduces the issue which I was mentioning..seekBefore() on top half file seeks into the bottom half.&lt;/p&gt;

&lt;p&gt;I am getting the below exception&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=1, exceptions:
Fri May 18 00:44:07 IST 2012, org.apache.hadoop.hbase.client.HTable$4@619130e2, org.apache.hadoop.hbase.regionserver.WrongRegionException: org.apache.hadoop.hbase.regionserver.WrongRegionException: Requested row out of range &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Get on HRegion t1,r3,1337282045838.51accaef959568917250932a1863f4fe., startKey=&apos;r3&apos;, getEndKey()=&apos;&apos;, row=&apos;r2&apos;

	at org.apache.hadoop.hbase.client.ServerCallable.withRetries(ServerCallable.java:183)
	at org.apache.hadoop.hbase.client.HTable.getRowOrBefore(HTable.java:644)
	at org.apache.hadoop.hbase.io.TestHBASE5997.testHalfScannerSeekBefore(TestHBASE5997.java:93)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13278131" author="anoopsamjohn" created="Thu, 17 May 2012 19:23:51 +0000"  >&lt;p&gt;the table.getRowOrBefore(&quot;r3&quot;.getBytes(), FAMILY); will reach the region [r3,) and so to the half store file but will seek and into bottom..&lt;/p&gt;</comment>
                            <comment id="13278135" author="stack" created="Thu, 17 May 2012 19:26:39 +0000"  >&lt;p&gt;@Anoop Excellent work.&lt;/p&gt;</comment>
                            <comment id="13278136" author="anoopsamjohn" created="Thu, 17 May 2012 19:27:07 +0000"  >&lt;p&gt;Actually there is another issue with the HTable.getRowOrBefore() API I think... Not with this half store file reading..&lt;/p&gt;</comment>
                            <comment id="13278140" author="anoopsamjohn" created="Thu, 17 May 2012 19:32:41 +0000"  >&lt;p&gt;Sorry could not complete the typing and by mistake pressed submit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Continuation of the above comment&lt;br/&gt;
As per the documentation of this API&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 * Return the row that matches &amp;lt;i&amp;gt;row&amp;lt;/i&amp;gt; exactly,
   * or the one that immediately precedes it.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;  

&lt;p&gt;If there are 2 regions in a table [r1,r3) and [r3,r5)&lt;br/&gt;
When this API is called with row as r3, The client will select the second region. And suppose there is no KV in this region with rowkey as r3. So the return from this region will be null...  But still as a user I would expect the call to return highest row from the 1st region. Say there we have row with key r2...&lt;/p&gt;


&lt;p&gt;Still this API will not do that and will return null&lt;/p&gt;

&lt;p&gt;This same kind of handling might be needed when we have more than one region in the META table also... &lt;/p&gt;

&lt;p&gt;Hope I am making it clear&lt;/p&gt;</comment>
                            <comment id="13278605" author="anoopsamjohn" created="Fri, 18 May 2012 06:16:32 +0000"  >&lt;p&gt;Whatever issue I was mentioning above, we can make out of this JIRA. So will focus on the HalfStoreFileReader issue here..  Will deal the other with another JIRA issue.&lt;/p&gt;</comment>
                            <comment id="13278676" author="anoopsamjohn" created="Fri, 18 May 2012 09:48:01 +0000"  >&lt;p&gt;Patch for 0.94 version&lt;/p&gt;

&lt;p&gt;Now I have changed like the check will compare the rowkey only. From the external usage of this API within HBase code, we always do the seekBefore based on rowkey only. Not with rowkey+cf+qualifier way.&lt;/p&gt;

&lt;p&gt;Pls provide your suggestion&lt;/p&gt;

&lt;p&gt;Once the solution is ok  I can backport for other versions.&lt;/p&gt;</comment>
                            <comment id="13278994" author="zhihyu@ebaysf.com" created="Fri, 18 May 2012 17:33:19 +0000"  >&lt;p&gt;@Anoop:&lt;br/&gt;
Is your patch supposed to fix the problem shown in the unit test published yesterday ?&lt;br/&gt;
With the patch, I still see the following test failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testHalfScannerSeekBefore(org.apache.hadoop.hbase.io.TestHBASE5997)  Time elapsed: 3.193 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=1, exceptions:
Fri May 18 10:31:13 PDT 2012, org.apache.hadoop.hbase.client.HTable$4@605df3c5, org.apache.hadoop.hbase.regionserver.WrongRegionException: org.apache.hadoop.hbase.regionserver.WrongRegionException: Requested row out of range &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Get on HRegion t1,r3,1337362272730.9f3ae0ff1963c95df2df0aa768e739fc., startKey=&apos;r3&apos;, getEndKey()=&apos;&apos;, row=&apos;r2&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13280692" author="anoopsamjohn" created="Tue, 22 May 2012 03:14:29 +0000"  >&lt;p&gt;The patch was addressing the issue with that API alone.&lt;br/&gt;
Sorry I could not run that E2E test case. I was out of work for some days.&lt;br/&gt;
I have looked into the E2E flow of the getRowOrBefore() in case of ref files being present for the regions.. Seems some other issues also... Will work on this and come up with the analysis and patch soon. &lt;/p&gt;</comment>
                            <comment id="13281485" author="anoopsamjohn" created="Wed, 23 May 2012 09:42:23 +0000"  >&lt;p&gt;I have gone through the flow for this API. I think there are some issues&lt;/p&gt;

&lt;p&gt;1. In Store.rowAtOrBeforeFromStoreFile()&lt;br/&gt;
Gets StoreFile.Reader.getFirstKey()&lt;br/&gt;
In case of the half store file, this reader just calls the actual file reader. But this will give the 1st key in the physical HFile(which is the 1st key in the bottom half file also). The getFirstKey() is not overriden in the HalfStoreFileReader.&lt;/p&gt;

&lt;p&gt;2. In Store.rowAtOrBeforeFromStoreFile() itself&lt;br/&gt;
HFileScanner scanner = r.getHFileReader().getScanner(true, true, false); &lt;br/&gt;
In case of the half file, r will be the HalfStoreFileReader instance. But as we dont call getScanner() on &quot;r&quot;, always it will get the actual HFileScanner for the HFile( The delegator in the HFileScanner instance in  HalfStoreFileReader ).&lt;/p&gt;

&lt;p&gt;3. Other than these 2 issues we need to correct the issue with the seekBefore() API in the HalfStoreFileReader.getScanner&lt;/p&gt;

&lt;p&gt;I will address these issues and give a patch in some time.&lt;/p&gt;</comment>
                            <comment id="13282083" author="anoopsamjohn" created="Thu, 24 May 2012 00:56:50 +0000"  >&lt;p&gt;Patch addressing the issues I mentioned above. The attached test case wont throw Exception now. But this return null..  This issue I already commented above. We will try to address the same in another JIRA.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;The API will only work with one region, if no apt data found there it will just return null to the user. But IMO it should go its previous region and get the data&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13284125" author="anoopsamjohn" created="Sun, 27 May 2012 08:51:23 +0000"  >&lt;p&gt;@Stack, @Ted  Can u people have a look at the patch pls?&lt;/p&gt;</comment>
                            <comment id="13291633" author="ram_krish" created="Fri, 8 Jun 2012 08:50:17 +0000"  >&lt;p&gt;@Stack&lt;br/&gt;
Can have a look at this?May be needed in the RCs that we will be taking either for 0.94 or 0.92.&lt;/p&gt;</comment>
                            <comment id="13409794" author="stack" created="Mon, 9 Jul 2012 20:02:04 +0000"  >&lt;p&gt;@Anoop Great work.  Agree on the seekBefore finding.  Lets fix that in another issue.&lt;/p&gt;

&lt;p&gt;On the patch, minor comment only (I&apos;m good w/ commit):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (firstKey == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is it possible if the file is empty say that we&apos;ll seek on every invocation of getFirstKey?&lt;/p&gt;

&lt;p&gt;This patch does not do you your compare of row only rather than compare of full key.  Is it supposed to?&lt;/p&gt;</comment>
                            <comment id="13409952" author="lhofhansl" created="Mon, 9 Jul 2012 23:41:30 +0000"  >&lt;p&gt;BTW. HTableInterface.getRowOrBefore is deprecated. Nobody should be using that.&lt;br/&gt;
Are the issues you address here seen during our particular internal meta lookups (which are special cases)?&lt;/p&gt;

&lt;p&gt;(It&apos;s time to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2600&quot; title=&quot;Change how we do meta tables; from tablename+STARTROW+randomid to instead, tablename+ENDROW+randomid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2600&quot;&gt;HBASE-2600&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13410272" author="anoopsamjohn" created="Tue, 10 Jul 2012 11:50:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Are the issues you address here seen during our particular internal meta lookups (which are special cases)?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No. META table will have only one region which will not get split.(As of now)&lt;/p&gt;

&lt;p&gt;This issue was raised as a followup for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt;. This was reported as real use case issue. That issue was with bottom half store.&lt;/p&gt;</comment>
                            <comment id="13410776" author="lhofhansl" created="Tue, 10 Jul 2012 20:12:14 +0000"  >&lt;p&gt;Ah yes, so we can move this to 0.94.2 then, I think. Agreed?&lt;/p&gt;</comment>
                            <comment id="13410915" author="stack" created="Tue, 10 Jul 2012 21:13:41 +0000"  >&lt;p&gt;@Lars I think you should commit it just because of the amount of sweat Anoop expended here.  Those two findings of his are pretty cool, pretty fancy detective work (The call is deprecated but still pivotal right until we do the replacement?).  Just an opinion.  Yeah, could go to 0.94.2.&lt;/p&gt;</comment>
                            <comment id="13411082" author="lhofhansl" created="Wed, 11 Jul 2012 00:04:34 +0000"  >&lt;p&gt;@Stack: Completely agree. I&apos;m good on committing.&lt;br/&gt;
@Anoop: Can you briefly address Stack&apos;s questions above? After that I&apos;ll check it in. Thanks for all the work on this!&lt;/p&gt;</comment>
                            <comment id="13411221" author="ram_krish" created="Wed, 11 Jul 2012 04:22:21 +0000"  >&lt;p&gt;+1 on committing. Thanks to Anoop for the nice finding.&lt;br/&gt;
Thanks Stack and Lars.&lt;/p&gt;</comment>
                            <comment id="13411225" author="anoopsamjohn" created="Wed, 11 Jul 2012 04:23:56 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
I am okey for 94.2&lt;br/&gt;
Yes I will address Stacks comments. &lt;span class=&quot;error&quot;&gt;&amp;#91;Was bit busy with some other works:(&amp;#93;&lt;/span&gt;&lt;br/&gt;
@Stack &lt;br/&gt;
Thanks a lot for your review.&lt;/p&gt;</comment>
                            <comment id="13411227" author="lhofhansl" created="Wed, 11 Jul 2012 04:36:42 +0000"  >&lt;p&gt;Heh, Stack and I were saying it&apos;s fine for 0.94.1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13412480" author="anoopsamjohn" created="Thu, 12 Jul 2012 03:29:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is it possible if the file is empty say that we&apos;ll seek on every invocation of getFirstKey?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes as the check is against firstKey being not null. May be we can have a boolean variable based check.&lt;br/&gt;
As this is rare chance and the existance of the half file also wont be for more time( normally) I thought may be okey. What do u say Stack? If you feel I can change this.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;This patch does not do you your compare of row only rather than compare of full key. Is it supposed to?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. You can see that the comparison now is against the first key in the file rather than the split key&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, splitkey, 0,
-              splitkey.length) &amp;lt; 0) {
+          &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] fk = getFirstKey();
+          &lt;span class=&quot;code-comment&quot;&gt;// This will be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; when the file is empty in which we can not seekBefore to any key
&lt;/span&gt;+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fk == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getComparator().compare(key, offset, length, fk, 0,
+              fk.length) &amp;lt;= 0) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So it is okey to have the full key based compare.&lt;span class=&quot;error&quot;&gt;&amp;#91;Not rowkey alone&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13412814" author="stack" created="Thu, 12 Jul 2012 14:06:57 +0000"  >&lt;p&gt;On the first item, won&apos;t that be a seek each time we go for the firstKey in an empty file?  It will be rare yes, but could be a pain if happened so would suggest a boolean flag for whether or not we&apos;ve done the first key check.&lt;/p&gt;

&lt;p&gt;On the second item when we do the compare, are the offsets to where the key bytes start or to where the key starts (with its length preample)?  For sure, we are comparing the row portions of keys?&lt;/p&gt;

&lt;p&gt;Thanks Anoop.&lt;/p&gt;

&lt;p&gt;(@Lars Maybe its ok putting this into 0.94.2 or into second 0.94.1RC).&lt;/p&gt;</comment>
                            <comment id="13413884" author="anoopsamjohn" created="Fri, 13 Jul 2012 17:16:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;On the second item when we do the compare, are the offsets to where the key bytes start or to where the key starts (with its length preample)? For sure, we are comparing the row portions of keys?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Offset will be to the key(with its length preample). KeyComparator will be used.we can see how the rowLength being considered. We compare the full key (rowKey and then CF, qualifier... )&lt;/p&gt;
</comment>
                            <comment id="13413885" author="anoopsamjohn" created="Fri, 13 Jul 2012 17:19:57 +0000"  >&lt;p&gt;Patch addressing Stack&apos;s comment&lt;/p&gt;</comment>
                            <comment id="13441772" author="lhofhansl" created="Sat, 25 Aug 2012 04:48:14 +0000"  >&lt;p&gt;@Stack: Are you OK with latest patch? Could put this in 0.94.2 and 0.96.&lt;/p&gt;</comment>
                            <comment id="13441778" author="stack" created="Sat, 25 Aug 2012 05:20:53 +0000"  >&lt;p&gt;+1 on commit to trunk.  Anoop worked hard at this (sorry we ignored it so long Anoop).  Patch looks good to me.  Up to you if you want to risk 0.94.2.  It does make us more &apos;correct&apos; so, I&apos;d say yeah, go for it.&lt;/p&gt;</comment>
                            <comment id="13441960" author="lhofhansl" created="Sat, 25 Aug 2012 20:59:20 +0000"  >&lt;p&gt;v3 looks good to me +1&lt;/p&gt;</comment>
                            <comment id="13441961" author="lhofhansl" created="Sat, 25 Aug 2012 21:02:47 +0000"  >&lt;p&gt;Is this only against 0.94 (i.e. fixed in 0.96 already)?&lt;br/&gt;
The attached patches are all against 0.94.&lt;/p&gt;</comment>
                            <comment id="13441989" author="stack" created="Sun, 26 Aug 2012 00:23:05 +0000"  >&lt;p&gt;Version for trunk (Same just that the diff for Store needs to be against HStore in trunk &amp;#8211; it was renamed).&lt;/p&gt;</comment>
                            <comment id="13441992" author="stack" created="Sun, 26 Aug 2012 00:30:16 +0000"  >&lt;p&gt;Committed to trunk too.  Thanks for the patch Anoop.&lt;/p&gt;</comment>
                            <comment id="13441998" author="lhofhansl" created="Sun, 26 Aug 2012 01:05:28 +0000"  >&lt;p&gt;Awesome. Thanks Anoop and Stack.&lt;/p&gt;</comment>
                            <comment id="13442005" author="hudson" created="Sun, 26 Aug 2012 01:51:48 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3277 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3277/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3277/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1377366)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442023" author="zhihyu@ebaysf.com" created="Sun, 26 Aug 2012 03:58:11 +0000"  >&lt;p&gt;Looks like there has been hanging test since this JIRA went in, including QA run:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2695/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2695/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13442029" author="hudson" created="Sun, 26 Aug 2012 04:30:12 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #149 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/149/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1377366)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442031" author="zhihyu@ebaysf.com" created="Sun, 26 Aug 2012 04:30:41 +0000"  >&lt;p&gt;I haven&apos;t seen the following test fail for quite some time:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2696//testReport/org.apache.hadoop.hbase.regionserver/TestColumnSeeking/testDuplicateVersions/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2696//testReport/org.apache.hadoop.hbase.regionserver/TestColumnSeeking/testDuplicateVersions/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13442071" author="zhihyu@ebaysf.com" created="Sun, 26 Aug 2012 10:24:58 +0000"  >&lt;p&gt;Trunk build has hung 4 times in a row since this went in. &lt;br/&gt;
Suggest rolling back for further investigation. &lt;/p&gt;</comment>
                            <comment id="13442116" author="zhihyu@ebaysf.com" created="Sun, 26 Aug 2012 15:35:04 +0000"  >&lt;p&gt;Since there was no Hadoop QA report on this JIRA, it is very hard to determine what effect Anoop&apos;s original patch would have on trunk.&lt;/p&gt;</comment>
                            <comment id="13442121" author="zhihyu@ebaysf.com" created="Sun, 26 Aug 2012 16:40:40 +0000"  >&lt;p&gt;About the following change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    HFileScanner scanner = r.getHFileReader().getScanner(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
+    HFileScanner scanner = r.getScanner(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the following method is deprecated:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HFileScanner getScanner(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; cacheBlocks, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; pread,
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isCompaction) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;See the javadoc:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     * Warning: Do not write further code which depends on &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; call. Instead
     * use getStoreFileScanner() which uses the StoreFileScanner class/&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;
     * which is the preferred way to scan a store with higher level concepts.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13442145" author="stack" created="Sun, 26 Aug 2012 19:01:53 +0000"  >&lt;p&gt;Thanks Ted.  I backed it out of trunk for now.&lt;/p&gt;</comment>
                            <comment id="13442146" author="stack" created="Sun, 26 Aug 2012 19:03:31 +0000"  >&lt;p&gt;I started a build on 0.94 to see if has same issue.&lt;/p&gt;</comment>
                            <comment id="13442159" author="hudson" created="Sun, 26 Aug 2012 20:05:41 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3281 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3281/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3281/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader; REVERT (Revision 1377483)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442161" author="lhofhansl" created="Sun, 26 Aug 2012 20:08:13 +0000"  >&lt;p&gt;I do not see this change in 0.94...?&lt;/p&gt;</comment>
                            <comment id="13442162" author="lhofhansl" created="Sun, 26 Aug 2012 20:10:37 +0000"  >&lt;p&gt;This also makes me want to push out of 0.94. I&apos;ll at least move it to 0.94.3.&lt;/p&gt;</comment>
                            <comment id="13442208" author="yuzhihong@gmail.com" created="Sun, 26 Aug 2012 21:50:06 +0000"  >&lt;p&gt;Since I got some finding w.r.t. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6477&quot; title=&quot;Use PB filter definitions in RPC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6477&quot;&gt;&lt;del&gt;HBASE-6477&lt;/del&gt;&lt;/a&gt;, I am rerunning test suite without patch for 6477 but with trunk patch for this JIRA.&lt;/p&gt;

&lt;p&gt;Will report back whether the build passes.&lt;/p&gt;</comment>
                            <comment id="13442218" author="yuzhihong@gmail.com" created="Sun, 26 Aug 2012 23:03:23 +0000"  >&lt;p&gt;Hit &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6667&quot; title=&quot;TestCatalogJanitor occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6667&quot;&gt;&lt;del&gt;HBASE-6667&lt;/del&gt;&lt;/a&gt; in the test run&lt;/p&gt;</comment>
                            <comment id="13442226" author="hudson" created="Sun, 26 Aug 2012 23:48:21 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #150 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/150/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader; REVERT (Revision 1377483)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442792" author="stack" created="Mon, 27 Aug 2012 23:10:07 +0000"  >&lt;p&gt;Try against hadoopqa again.  Uses deprecated API but nothing yet that can be used in its stead (can work on this when we remove the deprecated API).&lt;/p&gt;</comment>
                            <comment id="13442863" author="hadoopqa" created="Tue, 28 Aug 2012 01:06:43 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542687/5997v3_trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542687/5997v3_trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 94 warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 13 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort&lt;br/&gt;
                  org.apache.hadoop.hbase.security.access.TestAccessController&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2709//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13442925" author="stack" created="Tue, 28 Aug 2012 03:24:21 +0000"  >&lt;p&gt;Retry&lt;/p&gt;</comment>
                            <comment id="13442947" author="hadoopqa" created="Tue, 28 Aug 2012 04:25:39 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12542718/5997v3_trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12542718/5997v3_trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 106 warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 14 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestLocalHBaseCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2713//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13442948" author="stack" created="Tue, 28 Aug 2012 04:30:02 +0000"  >&lt;p&gt;So, it looks like this patch doesn&apos;t hang tests (that maybe it hbase-6477).  OK I add this to trunk and 0.94 (even though I&apos;d thought I&apos;d done 0.94 last time)?&lt;/p&gt;</comment>
                            <comment id="13442986" author="ram_krish" created="Tue, 28 Aug 2012 06:26:45 +0000"  >&lt;p&gt;@Stack/@Ted&lt;br/&gt;
Do let me know if you want me to check on this.  Anoop is on vacation .  Our internal CI which runs on 0.94 does not report any error and it is running fine for quite a few days.&lt;/p&gt;</comment>
                            <comment id="13452704" author="anoopsamjohn" created="Tue, 11 Sep 2012 04:33:44 +0000"  >&lt;p&gt;@Stack - Sorry I was out of work for some time. So this patch does not make the test case to hang right? Pls let me know whether I need to check some thing.&lt;/p&gt;</comment>
                            <comment id="13452758" author="stack" created="Tue, 11 Sep 2012 06:18:22 +0000"  >&lt;p&gt;Retrying v3 against hadoopqa&lt;/p&gt;</comment>
                            <comment id="13452759" author="stack" created="Tue, 11 Sep 2012 06:18:46 +0000"  >&lt;p&gt;Retrying Anoops patch since it was another issue hanging tests.&lt;/p&gt;</comment>
                            <comment id="13452760" author="stack" created="Tue, 11 Sep 2012 06:19:29 +0000"  >&lt;p&gt;@Anoop How dare you go on vacation! (smile).  Retrying the patch against hadoopqa... if passes will commit.&lt;/p&gt;</comment>
                            <comment id="13452796" author="hadoopqa" created="Tue, 11 Sep 2012 07:22:44 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12544599/5997v3_trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12544599/5997v3_trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The patch appears to cause mvn compile goal to fail.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSide&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplication&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2847//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2847//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2847//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2847//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13453735" author="stack" created="Wed, 12 Sep 2012 05:48:42 +0000"  >&lt;p&gt;Committed to trunk.  I think its fine being in trunk only.  Speak up Lars if you want it on 0.94.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Anoop.  Good digging.&lt;/p&gt;</comment>
                            <comment id="13453737" author="stack" created="Wed, 12 Sep 2012 05:49:09 +0000"  >&lt;p&gt;Oh, I ran the tests that failed in the above locally and all passed.&lt;/p&gt;</comment>
                            <comment id="13453755" author="lhofhansl" created="Wed, 12 Sep 2012 06:07:59 +0000"  >&lt;p&gt;Well... If you ask this way... Let&apos;s have it in 0.94 as well. So that this logic is correct.&lt;br/&gt;
getRowOrBefore is deprecated, but it is still there, and folks can use it.&lt;/p&gt;</comment>
                            <comment id="13453761" author="stack" created="Wed, 12 Sep 2012 06:17:42 +0000"  >&lt;p&gt;Committed to 0.94 toooooo&lt;/p&gt;</comment>
                            <comment id="13453795" author="hudson" created="Wed, 12 Sep 2012 07:02:36 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3322 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3322/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383788)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13453806" author="hudson" created="Wed, 12 Sep 2012 07:23:23 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #464 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/464/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/464/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383792)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13453915" author="hudson" created="Wed, 12 Sep 2012 11:45:40 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #169 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/169/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/169/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383788)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13455028" author="hudson" created="Thu, 13 Sep 2012 17:28:09 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #52 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/52/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/52/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383792)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13469894" author="hudson" created="Fri, 5 Oct 2012 00:37:47 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #8 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/8/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/8/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5997&quot; title=&quot;Fix concerns raised in HBASE-5922 related to HalfStoreFileReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5997&quot;&gt;&lt;del&gt;HBASE-5997&lt;/del&gt;&lt;/a&gt; Fix concerns raised in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5922&quot; title=&quot;HalfStoreFileReader seekBefore causes StackOverflowError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5922&quot;&gt;&lt;del&gt;HBASE-5922&lt;/del&gt;&lt;/a&gt; related to HalfStoreFileReader (Revision 1383792)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/io/HalfStoreFileReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/io/TestHalfStoreFileReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13624638" author="stack" created="Sun, 7 Apr 2013 04:34:37 +0000"  >&lt;p&gt;Fix up after bulk move overwrote some 0.94.2 fix versions w/ 0.95.0 (Noticed by Lars Hofhansl)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12553678">HBASE-5922</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12544599" name="5997v3_trunk.txt" size="3757" author="stack" created="Tue, 11 Sep 2012 06:18:22 +0000"/>
                            <attachment id="12542718" name="5997v3_trunk.txt" size="3757" author="stack" created="Tue, 28 Aug 2012 03:24:21 +0000"/>
                            <attachment id="12542687" name="5997v3_trunk.txt" size="3757" author="stack" created="Mon, 27 Aug 2012 22:46:12 +0000"/>
                            <attachment id="12542433" name="5997v3_trunk.txt" size="3757" author="stack" created="Sun, 26 Aug 2012 00:23:05 +0000"/>
                            <attachment id="12528022" name="HBASE-5997_0.94.patch" size="1724" author="anoopsamjohn" created="Fri, 18 May 2012 09:48:00 +0000"/>
                            <attachment id="12528834" name="HBASE-5997_94 V2.patch" size="3624" author="anoopsamjohn" created="Thu, 24 May 2012 00:56:50 +0000"/>
                            <attachment id="12536409" name="HBASE-5997_94 V3.patch" size="3655" author="anoopsamjohn" created="Fri, 13 Jul 2012 17:19:56 +0000"/>
                            <attachment id="12527892" name="Testcase.patch.txt" size="4818" author="anoopsamjohn" created="Thu, 17 May 2012 19:22:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 May 2012 08:36:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02hpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>