<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:27:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11885/HBASE-11885.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11885] Provide a Dockerfile to easily build and run HBase from source</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11885</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-dev/201408.mbox/%3CCAAef%2BM4q%3Da8Dqxe_EHSFTueY%2BXxz%2BtTe%2BJKsWWbXjhB_Pz7oSA%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;A recent email to dev@&lt;/a&gt; highlighted the difficulty that new users can face in getting HBase compiled from source and running locally. I&apos;d like to provide a Dockerfile that would allow anyone with Docker running on a machine with a reasonably current Linux kernel to do so with ease.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12738686">HBASE-11885</key>
            <summary>Provide a Dockerfile to easily build and run HBase from source</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dimaspivak">Dima Spivak</assignee>
                                    <reporter username="dimaspivak">Dima Spivak</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2014 03:07:12 +0000</created>
                <updated>Sat, 21 Feb 2015 23:31:05 +0000</updated>
                            <resolved>Sat, 6 Sep 2014 00:45:51 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.7</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="14119501" author="dimaspivak" created="Wed, 3 Sep 2014 07:36:18 +0000"  >&lt;p&gt;I have a working Dockerfile that sets up the necessary HBase dependencies (i.e. Maven and Java), clones in the repo, runs &lt;tt&gt;mvn assembly:single&lt;/tt&gt;, and then starts HBase and the HBase shell. The main problem I&apos;ve run into pertains to the Maven step due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8674&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HBASE-8674&lt;/a&gt;. Can someone with knowledge of why the POMs are in the state that they are in take a look there and chime in on if there any consequence to simply removing Gary H&apos;s repo as a dependency?&lt;/p&gt;</comment>
                            <comment id="14119928" author="apurtell" created="Wed, 3 Sep 2014 15:02:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14120122" author="nkeywal" created="Wed, 3 Sep 2014 17:29:12 +0000"  >&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;&lt;del&gt;HBASE-4955&lt;/del&gt;&lt;/a&gt; is fixed, it&apos;s possible and actually better to remove Gary&apos;s repo from the master version of HBase.&lt;/p&gt;</comment>
                            <comment id="14120158" author="dimaspivak" created="Wed, 3 Sep 2014 17:52:30 +0000"  >&lt;p&gt;+1 ^^^. As I said, I had no issues at all building master from source after removing that repository altogether (0.94 is a different story, because of the dependency on version 2.12-TRUNK-&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2&quot; title=&quot;hlog numbers should wrap around when they reach 999&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2&quot;&gt;&lt;del&gt;HBASE-2&lt;/del&gt;&lt;/a&gt; Surefire).&lt;/p&gt;</comment>
                            <comment id="14120730" author="dimaspivak" created="Thu, 4 Sep 2014 00:06:31 +0000"  >&lt;p&gt;Uploaded my first iteration of the Dockerfile. I hope the instructions on use are clear; you basically just have to put a JDK and Maven tarball in the same directory and type &lt;tt&gt;docker build .&lt;/tt&gt; to create an image.&lt;/p&gt;</comment>
                            <comment id="14120783" author="tobe" created="Thu, 4 Sep 2014 01:06:58 +0000"  >&lt;p&gt;I&apos;m also interested in building HBase on docker and here&apos;s my dockerfile, &lt;a href=&quot;https://github.com/tobegit3hub/standalone-hbase-0.94&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/tobegit3hub/standalone-hbase-0.94&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There&apos;re lots of HBase images in docker hub. It let us escape from dependency hell so I don&apos;t think we should download the JDK and Maven tars by ourselves to build the image&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14120789" author="dimaspivak" created="Thu, 4 Sep 2014 01:11:53 +0000"  >&lt;p&gt;I think for licensing reasons (i.e. having to do with Java) and also to avoid stale Maven versions down the line being baked into the Dockerfile itself, having a user supply their own preferred version is the way to go if we are to include a Dockerfile for users in Apache HBase. I think this also lets someone easily test different combinations of Java and Maven to validate that the code builds. Thoughts?&lt;/p&gt;</comment>
                            <comment id="14120798" author="hadoopqa" created="Thu, 4 Sep 2014 01:19:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12666367/HBASE-11885.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12666367/HBASE-11885.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12666367&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +ENV PATH /usr/java/bin:/usr/local/apache-maven/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&lt;br/&gt;
+ENV PATH /root/hbase-bin/bin:/usr/java/bin:/usr/local/apache-maven/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestPerTableCFReplication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 11 zombie test(s): 	at org.apache.deltaspike.data.test.util.TestDeployments.addDependencies(TestDeployments.java:171)&lt;br/&gt;
	at org.apache.deltaspike.data.test.util.TestDeployments.initDeployment(TestDeployments.java:118)&lt;br/&gt;
	at org.apache.deltaspike.data.test.util.TestDeployments.initDeployment(TestDeployments.java:88)&lt;br/&gt;
	at org.jboss.arquillian.container.test.impl.client.deployment.AnnotationDeploymentScenarioGenerator.invoke(AnnotationDeploymentScenarioGenerator.java:156)&lt;br/&gt;
	at org.jboss.arquillian.container.test.impl.client.deployment.AnnotationDeploymentScenarioGenerator.generateDeployment(AnnotationDeploymentScenarioGenerator.java:94)&lt;br/&gt;
	at org.jboss.arquillian.container.test.impl.client.deployment.AnnotationDeploymentScenarioGenerator.generate(AnnotationDeploymentScenarioGenerator.java:57)&lt;br/&gt;
	at org.jboss.arquillian.container.test.impl.client.deployment.DeploymentGenerator.generateDeployment(DeploymentGenerator.java:79)&lt;br/&gt;
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.execute(ContainerEventController.java:100)&lt;br/&gt;
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)&lt;br/&gt;
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)&lt;br/&gt;
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:80)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestImportExport.testMetaExport(TestImportExport.java:209)&lt;br/&gt;
	at org.apache.hadoop.hbase.snapshot.TestExportSnapshot.testExportFailure(TestExportSnapshot.java:321)&lt;br/&gt;
	at org.apache.hadoop.hbase.replication.regionserver.TestRegionReplicaReplicationEndpoint.testRegionReplicaReplicationForFlushAndCompaction(TestRegionReplicaReplicationEndpoint.java:246)&lt;br/&gt;
	at org.apache.hadoop.hbase.snapshot.TestExportSnapshot.testExportFailure(TestExportSnapshot.java:321)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableMapReduceBase.testMultiRegionTable(TestTableMapReduceBase.java:96)&lt;br/&gt;
	at org.apache.hadoop.hbase.TestZooKeeper.testLogSplittingAfterMasterRecoveryDueToZKExpiry(TestZooKeeper.java:564)&lt;br/&gt;
	at org.apache.hadoop.hbase.replication.TestReplicationDisableInactivePeer.testDisableInactivePeer(TestReplicationDisableInactivePeer.java:79)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScanBase.testScan(TestTableInputFormatScanBase.java:238)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan2.testScanOBBToOPP(TestTableInputFormatScan2.java:44)&lt;br/&gt;
	at org.apache.hadoop.hbase.replication.TestReplicationSyncUpTool.testSyncUpTool(TestReplicationSyncUpTool.java:140)&lt;br/&gt;
	at org.apache.hadoop.hbase.TestAcidGuarantees.testGetAtomicity(TestAcidGuarantees.java:331)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10706//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14120811" author="tobe" created="Thu, 4 Sep 2014 01:30:43 +0000"  >&lt;p&gt;That&apos;s nice and I haven&apos;t thoungt about the license problem. As users they may not care about the versions of Java and Maven. So I think the ideal way for them may be pulling the HBase image to run instead of building it by themselves. As developers we may want to test the combination of softwares. But it&apos;s hard to cater to all kinds of environment, like different versions of Java, Maven, Linux distributions and kernels.&lt;/p&gt;</comment>
                            <comment id="14120813" author="dimaspivak" created="Thu, 4 Sep 2014 01:32:22 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Yep, that&apos;s why I think this would belong in hbase/dev-support. Good points all around, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tobe&quot; class=&quot;user-hover&quot; rel=&quot;tobe&quot;&gt;chendihao&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14120871" author="srikanth235" created="Thu, 4 Sep 2014 02:29:45 +0000"  >&lt;p&gt;Tried this out on ubuntu instance. A few observations&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The step `docker build -t hbase_docker .` failed in the first run with the following error message
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014/09/03 19:02:39 Error getting container ac1daa65e3f7ae0f2584d8b6c312dcda36125b32b2826acbe4b8306805d21417 from driver devicemapper: Unknown filesystem type on /dev/mapper/docker-202:1-928606-ac1daa65e3f7ae0f2584d8b6c312dcda36125b32b2826acbe4b8306805d21417
root@sri-ubuntu:~/hbase/dev-support/hbase_docker# docker run -it hbase_docker
Unable to find image &apos;hbase_docker&apos; locally
Pulling repository hbase_docker
2014/09/03 19:03:36 Error: image hbase_docker not found
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The second run of the same command didn&apos;t run into any failures&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;Would be nice if we can include a section to mention the supported OS and/or Kernel versions.&lt;/li&gt;
	&lt;li&gt;How about including the docker specific commands for important functions such as stopping the existing hbase docker instances?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14121002" author="dimaspivak" created="Thu, 4 Sep 2014 06:18:16 +0000"  >&lt;p&gt;Thanks for the feedback, Srikanth; I&apos;ll update documentation tomorrow. The error you saw is because of what seems to be buggy implementation of the devicemapper driver. Unfortunately, this tends to get fixed by just rerunning docker build (sometimes repeatedly). The fact that the image didn&apos;t complete is why the second error about being unable to find hbase_docker showed up (Docker always tries to pull images from the central registry if they aren&apos;t present locally).&lt;/p&gt;</comment>
                            <comment id="14121591" author="esteban" created="Thu, 4 Sep 2014 17:20:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; I think having the option to automate the download of maven and the Java JDK as a flag or environment variable should be fine. However I don&apos;t think the docker image should have specific URLs or Java/JDK versions and the user should provide that, for instance you could use wget and accept additional parameters besides the URL and so if you want to download the Java JDK you need to explicitly pass the oraclelicense cookie in order to download the tarball directly from Oracle.&lt;/p&gt;</comment>
                            <comment id="14121605" author="dimaspivak" created="Thu, 4 Sep 2014 17:28:06 +0000"  >&lt;p&gt;Yeah, I could create a wrapper script to do that, I just wonder how much use it would get. Someone wanting to &quot;automatically download Oracle and Maven&quot; would still have to go to the sites to get URLs, and as you point out, in the case of JDK, would also need to pass the correct cookie accepting Oracle&apos;s license agreement. In fact, my first iteration of the Dockerfile did just that (i.e. had hardcoded URLs and the cookie passed with wget) before I worried that it would quickly become stale. What do you think?&lt;/p&gt;</comment>
                            <comment id="14121652" author="esteban" created="Thu, 4 Sep 2014 17:51:51 +0000"  >&lt;p&gt;It will become stale if you leave valid URLs there or you could probably leave them commented out as an example. If you could pass the URLs and other wget arguments if present, that would  simply the extra step of having to download and then copy the files. Also the option to assume that those dependencies have already been provided might be good to.  If possible try to avoid globs, I know this is done within the container but blindly expanding globs sometimes ir problematic.&lt;/p&gt;</comment>
                            <comment id="14122504" author="dimaspivak" created="Fri, 5 Sep 2014 06:24:13 +0000"  >&lt;p&gt;Added hbase_docker.sh into dev-support, a driver script that lets users specify locations of the Oracle JDK and Maven tarballs before running docker build (repeatedly, if necessary), and then starting the docker image.&lt;/p&gt;</comment>
                            <comment id="14122582" author="hadoopqa" created="Fri, 5 Sep 2014 08:01:15 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12666674/HBASE-11885_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12666674/HBASE-11885_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12666674&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +# # ./hbase_docker.sh -j &lt;a href=&quot;http://download.oracle.com/otn-pub/java/jdk/7u67-b01/jdk-7u67-linux-x64.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.oracle.com/otn-pub/java/jdk/7u67-b01/jdk-7u67-linux-x64.tar.gz&lt;/a&gt; \&lt;br/&gt;
+ENV PATH /usr/java/bin:/usr/local/apache-maven/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&lt;br/&gt;
+ENV PATH /root/hbase-bin/bin:/usr/java/bin:/usr/local/apache-maven/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10720//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14123409" author="apurtell" created="Fri, 5 Sep 2014 19:10:52 +0000"  >&lt;p&gt;What SCM branches have been tested with this? Master? Can we check if this works with master, branch-1, and 0.98? If so I will defer to those with Docker expertise and commit this to the respective branches.&lt;/p&gt;</comment>
                            <comment id="14123792" author="dimaspivak" created="Fri, 5 Sep 2014 23:27:14 +0000"  >&lt;p&gt;Hey Andy, &lt;/p&gt;

&lt;p&gt;I&apos;ve confirmed that it works as expected with master, 0.98, and branch-1. When committing into those branches, I&apos;d just have to modify one line in the Dockerfile to reflect the desired branch.&lt;/p&gt;</comment>
                            <comment id="14123843" author="apurtell" created="Fri, 5 Sep 2014 23:53:07 +0000"  >&lt;p&gt;This one, right?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+RUN git clone https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/apache/hbase.git -b master&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I could do that when committing. Let me know.&lt;/p&gt;</comment>
                            <comment id="14123849" author="dimaspivak" created="Fri, 5 Sep 2014 23:54:11 +0000"  >&lt;p&gt;Yessir! Changing that to 0.98 or branch-1 works out of box (just confirmed on my machines). &lt;/p&gt;</comment>
                            <comment id="14123851" author="apurtell" created="Fri, 5 Sep 2014 23:55:39 +0000"  >&lt;p&gt;Ok, will commit shortly to 0.98+ unless objection.&lt;/p&gt;</comment>
                            <comment id="14123872" author="apurtell" created="Sat, 6 Sep 2014 00:14:20 +0000"  >&lt;p&gt;In the example URLs provided for getting JDK and Maven binaries, the resources are outside of Apache infrastructure. That&apos;s no problem as those are user supplied settings. However in the Dockerfile when checking out HBase we probably should not rely on third party resources. Therefore I propose:&lt;/p&gt;

&lt;p&gt;For 0.98:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+RUN git clone http:&lt;span class=&quot;code-comment&quot;&gt;//git.apache.org/hbase.git -b 0.98&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For branch-1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+RUN git clone http:&lt;span class=&quot;code-comment&quot;&gt;//git.apache.org/hbase.git -b branch-1&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For master:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+RUN git clone http:&lt;span class=&quot;code-comment&quot;&gt;//git.apache.org/hbase.git -b master&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The downside of this change is git.apache.org is substantially slower than github.com, although the clones do eventually succeed. &lt;/p&gt;</comment>
                            <comment id="14123874" author="dimaspivak" created="Sat, 6 Sep 2014 00:15:21 +0000"  >&lt;p&gt;Fine by me. I just copied and pasted from GitHub, but figured maybe the Apache variant was more correct.&lt;/p&gt;</comment>
                            <comment id="14123875" author="apurtell" created="Sat, 6 Sep 2014 00:16:07 +0000"  >&lt;p&gt;Ok&lt;/p&gt;</comment>
                            <comment id="14123901" author="apurtell" created="Sat, 6 Sep 2014 00:45:51 +0000"  >&lt;p&gt;Pushed to 0.98+ . Repo URL and branch names changed at commit as discussed above.&lt;/p&gt;</comment>
                            <comment id="14124234" author="hudson" created="Sat, 6 Sep 2014 01:36:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #474 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/474/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/474/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11885&quot; title=&quot;Provide a Dockerfile to easily build and run HBase from source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11885&quot;&gt;&lt;del&gt;HBASE-11885&lt;/del&gt;&lt;/a&gt; Provide a Dockerfile to easily build and run HBase from source (Dima Spivak) (apurtell: rev 2d875c92cd030b974b898f0d9e2b5e5a6aa9a094)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/hbase_docker.sh&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker/Dockerfile&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker/README.md&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14124283" author="hudson" created="Sat, 6 Sep 2014 03:11:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #500 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/500/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/500/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11885&quot; title=&quot;Provide a Dockerfile to easily build and run HBase from source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11885&quot;&gt;&lt;del&gt;HBASE-11885&lt;/del&gt;&lt;/a&gt; Provide a Dockerfile to easily build and run HBase from source (Dima Spivak) (apurtell: rev 2d875c92cd030b974b898f0d9e2b5e5a6aa9a094)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/hbase_docker/README.md&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker/Dockerfile&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14124305" author="hudson" created="Sat, 6 Sep 2014 04:34:25 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5472 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5472/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5472/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11885&quot; title=&quot;Provide a Dockerfile to easily build and run HBase from source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11885&quot;&gt;&lt;del&gt;HBASE-11885&lt;/del&gt;&lt;/a&gt; Provide a Dockerfile to easily build and run HBase from source (Dima Spivak) (apurtell: rev e13b629843c7dbfbb7aaadc93f90f65d0291755c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/hbase_docker.sh&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker/Dockerfile&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker/README.md&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14124318" author="hudson" created="Sat, 6 Sep 2014 05:03:30 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #157 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/157/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/157/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11885&quot; title=&quot;Provide a Dockerfile to easily build and run HBase from source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11885&quot;&gt;&lt;del&gt;HBASE-11885&lt;/del&gt;&lt;/a&gt; Provide a Dockerfile to easily build and run HBase from source (Dima Spivak) (apurtell: rev a44bc7ac1a9c189154b9a446b229257f78c90aba)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dev-support/hbase_docker/README.md&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker.sh&lt;/li&gt;
	&lt;li&gt;dev-support/hbase_docker/Dockerfile&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330776" author="enis" created="Sat, 21 Feb 2015 23:31:05 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12666367" name="HBASE-11885.patch" size="5307" author="dimaspivak" created="Wed, 3 Sep 2014 23:22:47 +0000"/>
                            <attachment id="12666674" name="HBASE-11885_v2.patch" size="11587" author="dimaspivak" created="Fri, 5 Sep 2014 06:24:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Sep 2014 15:02:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zlxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>