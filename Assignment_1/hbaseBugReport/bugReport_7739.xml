<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:48:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7739/HBASE-7739.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7739] [snapshot 130201 merge] Fix TestSnapshotFromMaster failure</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7739</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Looking at test output from TestSnapshotFromMaster:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-02-01 14:10:49,234 INFO  [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.SplitTransaction(215): Starting split of region test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.
2013-02-01 14:10:49,235 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.SplitTransaction(886): regionserver:53794-0x13c97cfa9760002 Creating ephemeral node &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; e9c665350a0d6d059cad8ae03f8dadae in SPLITTING state
2013-02-01 14:10:49,236 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(265): master:53791-0x13c97cfa9760000 Received ZooKeeper Event, type=NodeChildrenChanged, state=SyncConnected, path=/hbase/region-in-transition
2013-02-01 14:10:49,236 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(720): regionserver:53794-0x13c97cfa9760002 Attempting to transition node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,238 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKUtil(1643): regionserver:53794-0x13c97cfa9760002 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae; data=region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649235, payload.length=0
2013-02-01 14:10:49,238 DEBUG [hbase-am-zkevent-worker-pool-2-thread-16] zookeeper.ZKUtil(1643): master:53791-0x13c97cfa9760000 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae and set watcher; region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649235, payload.length=0
2013-02-01 14:10:49,239 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(265): master:53791-0x13c97cfa9760000 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae
2013-02-01 14:10:49,240 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(782): regionserver:53794-0x13c97cfa9760002 Successfully transitioned node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,240 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(720): regionserver:53794-0x13c97cfa9760002 Attempting to transition node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,240 DEBUG [hbase-am-zkevent-worker-pool-2-thread-17] zookeeper.ZKUtil(1643): master:53791-0x13c97cfa9760000 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae and set watcher; region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649238, payload.length=0
2013-02-01 14:10:49,241 DEBUG [hbase-am-zkevent-worker-pool-2-thread-17] master.AssignmentManager(641): Handling transition=RS_ZK_REGION_SPLITTING, server=10.11.3.105,53794,1359756635266, region=e9c665350a0d6d059cad8ae03f8dadae, current state from region state map =&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2013-02-01 14:10:49,241 INFO  [hbase-am-zkevent-worker-pool-2-thread-17] master.RegionStates(242): Region {NAME =&amp;amp;gt; &amp;amp;apos;test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.&amp;amp;apos;, STARTKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENDKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENCODED =&amp;amp;gt; e9c665350a0d6d059cad8ae03f8dadae,} transitioned from {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=OPEN, ts=1359756647443, server=10.11.3.105,53794,1359756635266} to {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=SPLITTING, ts=1359756649241, server=10.11.3.105,53794,1359756635266}
2013-02-01 14:10:49,241 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKUtil(1643): regionserver:53794-0x13c97cfa9760002 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae; data=region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649238, payload.length=0
2013-02-01 14:10:49,243 DEBUG [main-EventThread] zookeeper.ZooKeeperWatcher(265): master:53791-0x13c97cfa9760000 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae
2013-02-01 14:10:49,243 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] zookeeper.ZKAssign(782): regionserver:53794-0x13c97cfa9760002 Successfully transitioned node e9c665350a0d6d059cad8ae03f8dadae from RS_ZK_REGION_SPLITTING to RS_ZK_REGION_SPLITTING
2013-02-01 14:10:49,244 DEBUG [hbase-am-zkevent-worker-pool-2-thread-18] zookeeper.ZKUtil(1643): master:53791-0x13c97cfa9760000 Retrieved 94 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/region-in-transition/e9c665350a0d6d059cad8ae03f8dadae and set watcher; region=test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae., state=RS_ZK_REGION_SPLITTING, servername=10.11.3.105,53794,1359756635266, createTime=1359756649242, payload.length=0
2013-02-01 14:10:49,245 DEBUG [hbase-am-zkevent-worker-pool-2-thread-18] master.AssignmentManager(641): Handling transition=RS_ZK_REGION_SPLITTING, server=10.11.3.105,53794,1359756635266, region=e9c665350a0d6d059cad8ae03f8dadae, current state from region state map =&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2013-02-01 14:10:49,245 INFO  [hbase-am-zkevent-worker-pool-2-thread-18] master.RegionStates(242): Region {NAME =&amp;amp;gt; &amp;amp;apos;test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.&amp;amp;apos;, STARTKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENDKEY =&amp;amp;gt; &amp;amp;apos;&amp;amp;apos;, ENCODED =&amp;amp;gt; e9c665350a0d6d059cad8ae03f8dadae,} transitioned from {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=SPLITTING, ts=1359756649241, server=10.11.3.105,53794,1359756635266} to {test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. state=SPLITTING, ts=1359756649245, server=10.11.3.105,53794,1359756635266}
2013-02-01 14:10:49,246 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.HRegion(1005): Closing test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.: disabling compactions &amp;amp;amp; flushes
2013-02-01 14:10:49,246 WARN  [IPC Server handler 1 on 53794] regionserver.HRegion(2133): Failed getting lock in batch put, row=hox
org.apache.hadoop.hbase.NotServingRegionException: test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae. is closing
  at org.apache.hadoop.hbase.regionserver.HRegion.startRegionOperation(HRegion.java:5319)
  at org.apache.hadoop.hbase.regionserver.HRegion.internalObtainRowLock(HRegion.java:3181)
  at org.apache.hadoop.hbase.regionserver.HRegion.getLock(HRegion.java:3269)
  at org.apache.hadoop.hbase.regionserver.HRegion.doMiniBatchMutation(HRegion.java:2130)
  at org.apache.hadoop.hbase.regionserver.HRegion.batchMutate(HRegion.java:2004)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.doBatchOp(HRegionServer.java:3862)
  at org.apache.hadoop.hbase.regionserver.HRegionServer.multi(HRegionServer.java:3307)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
  at java.lang.reflect.Method.invoke(Method.java:597)
  at org.apache.hadoop.hbase.ipc.ProtobufRpcServerEngine$Server.call(ProtobufRpcServerEngine.java:197)
  at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1786)
2013-02-01 14:10:49,257 DEBUG [RegionServer:1;10.11.3.105,53794,1359756635266-splits-1359756649234] regionserver.HRegion(1027): Updates disabled &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region test,,1359756646966.e9c665350a0d6d059cad8ae03f8dadae.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think we should replace IncreasingToUpperBoundRegionSplitPolicy in TestSnapshotFromMaster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12630480">HBASE-7739</key>
            <summary>[snapshot 130201 merge] Fix TestSnapshotFromMaster failure</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12619005">HBASE-7290</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Feb 2013 00:00:14 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:42 +0000</updated>
                            <resolved>Sat, 2 Feb 2013 18:43:17 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13569283" author="jmhsieh" created="Sat, 2 Feb 2013 00:03:32 +0000"  >&lt;p&gt;This is a new failure after the 2/1/13 snapshot-trunk branch merge&lt;/p&gt;</comment>
                            <comment id="13569286" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 00:05:44 +0000"  >&lt;p&gt;With attached patch, the test passed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.master.cleaner.TestSnapshotFromMaster
2013-02-01 16:01:03.893 java[79970:1203] Unable to load realm info from SCDynamicStore
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 45.13 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13569289" author="jmhsieh" created="Sat, 2 Feb 2013 00:09:26 +0000"  >&lt;p&gt;Can you describe why this fixed the problem?&lt;/p&gt;</comment>
                            <comment id="13569291" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 00:15:43 +0000"  >&lt;p&gt;I think the issue is related to:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7735&quot; title=&quot;Prevent regions from moving during online snapshot.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7735&quot;&gt;HBASE-7735&lt;/a&gt; Prevent regions from moving during online snapshot&lt;/p&gt;

&lt;p&gt;The fix, short term, reduces the chance of region splitting.&lt;/p&gt;</comment>
                            <comment id="13569298" author="jmhsieh" created="Sat, 2 Feb 2013 00:21:07 +0000"  >&lt;p&gt;ok, since it passes and I&apos;ve seen a similar line on another tests, +1.&lt;/p&gt;</comment>
                            <comment id="13569310" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 00:34:19 +0000"  >&lt;p&gt;Integrated to snapshots branch.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Jon.&lt;/p&gt;</comment>
                            <comment id="13775084" author="stack" created="Mon, 23 Sep 2013 18:30:42 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567677" name="7739.txt" size="1739" author="yuzhihong@gmail.com" created="Sat, 2 Feb 2013 00:05:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Feb 2013 00:03:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ho0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>