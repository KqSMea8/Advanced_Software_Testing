<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:57:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1944/HBASE-1944.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1944] Add a &quot;deferred log flush&quot; attribute to HTD</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1944</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;At SU we have a case where we&apos;d like to be able to, by default, sync every appended edit but for some tables have the control to disable their sync. You could then rely on other tables like .META. to do syncs, the optional log syncer timer down in LogSyncer and user tables that are always synced. For example, set a 10ms timer on the log syncer so that in the worse case you lose 10ms of non-catalog edits.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12439473">HBASE-1944</key>
            <summary>Add a &quot;deferred log flush&quot; attribute to HTD</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Oct 2009 00:02:24 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:35 +0000</updated>
                            <resolved>Tue, 3 Nov 2009 01:51:37 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12771718" author="jdcryans" created="Fri, 30 Oct 2009 00:30:10 +0000"  >&lt;p&gt;This patch adds the new HTD.IS_SYNCED attribute and in HRS I refactored the code that handles the syncs in a method that also checks if the table has to be synced.&lt;/p&gt;</comment>
                            <comment id="12771725" author="ryanobjc" created="Fri, 30 Oct 2009 00:50:43 +0000"  >&lt;p&gt;this is absolutely necessary to achieve high performance and data safety under the presence of hdfs-265, since the best case scenario will be about 1000 fsync/second.&lt;/p&gt;

&lt;p&gt;I am not super fond of the name, since synced suggests perhaps that the data isnt written to disk or something, which is NOT true.&lt;/p&gt;

&lt;p&gt;Perhaps PER_TX_FLUSH &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12771729" author="jdcryans" created="Fri, 30 Oct 2009 01:01:04 +0000"  >&lt;p&gt;Yeah IS_SYNCED seems to imply that you don&apos;t write in the WAL but you do it&apos;s just that you don&apos;t make sure it&apos;s synced. Current makes sense for a dev but probably not for user.  &lt;/p&gt;

&lt;p&gt;So PER_TX_SYNC? DELAYED_SYNC? DEFERRED_SYNC?&lt;/p&gt;</comment>
                            <comment id="12771735" author="jdcryans" created="Fri, 30 Oct 2009 01:42:00 +0000"  >&lt;p&gt;I just tested this patch on a cluster, I get 1300 incrCol/sec with a single threaded client on a table that doesn&apos;t sync. I killed -9 the RS a couple of times and even with optional sync every 100ms I lose only 1-2 edits.&lt;/p&gt;</comment>
                            <comment id="12771756" author="stack" created="Fri, 30 Oct 2009 03:40:02 +0000"  >&lt;p&gt;Yeah, any name is better than IS_SYNC (ain&apos;t that the name of a boyband?).... And yeah, it should have FLUSH rather than SYNC since sync don&apos;t work yet?&lt;/p&gt;</comment>
                            <comment id="12771758" author="stack" created="Fri, 30 Oct 2009 03:50:36 +0000"  >&lt;p&gt;Otherwise the patch is good.&lt;/p&gt;</comment>
                            <comment id="12771766" author="jdcryans" created="Fri, 30 Oct 2009 04:15:50 +0000"  >&lt;p&gt;It&apos;s nsync Stack! I guess you&apos;re too old &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Sorry I confused sync and flush, i guess that variable isn&apos;t volatile in my mind and I still see an old value.&lt;/p&gt;</comment>
                            <comment id="12772031" author="jdcryans" created="Fri, 30 Oct 2009 18:30:45 +0000"  >&lt;p&gt;New patch with new name, now it&apos;s called DEFERRED_LOG_FLUSH.&lt;/p&gt;</comment>
                            <comment id="12772041" author="jdcryans" created="Fri, 30 Oct 2009 18:44:17 +0000"  >&lt;p&gt;Ryan told me that the name may be good but it should be false by default then and the check in HRS should change.&lt;/p&gt;</comment>
                            <comment id="12772047" author="jdcryans" created="Fri, 30 Oct 2009 19:01:35 +0000"  >&lt;p&gt;Fixed logic.&lt;/p&gt;</comment>
                            <comment id="12772065" author="jdcryans" created="Fri, 30 Oct 2009 19:58:49 +0000"  >&lt;p&gt;Better yet, some refactoring to get rid of checking region&apos;s null.&lt;/p&gt;</comment>
                            <comment id="12772067" author="ryanobjc" created="Fri, 30 Oct 2009 20:07:43 +0000"  >&lt;p&gt;looking good, +1&lt;/p&gt;</comment>
                            <comment id="12772731" author="stack" created="Mon, 2 Nov 2009 22:45:51 +0000"  >&lt;p&gt;Patch looks good.  Should cache the boolean though rather than look it up each time; those cost if you look in profiler.&lt;/p&gt;</comment>
                            <comment id="12772824" author="jdcryans" created="Tue, 3 Nov 2009 01:51:37 +0000"  >&lt;p&gt;Committed with Stack&apos;s suggestion.&lt;/p&gt;</comment>
                            <comment id="15017842" author="lars_francke" created="Fri, 20 Nov 2015 13:01:35 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12423702" name="HBASE-1944-v2.patch" size="5862" author="jdcryans" created="Fri, 30 Oct 2009 18:30:45 +0000"/>
                            <attachment id="12423710" name="HBASE-1944-v3.patch" size="5864" author="jdcryans" created="Fri, 30 Oct 2009 19:01:35 +0000"/>
                            <attachment id="12423715" name="HBASE-1944-v4.patch" size="6131" author="jdcryans" created="Fri, 30 Oct 2009 19:58:49 +0000"/>
                            <attachment id="12423648" name="HBASE-1944.patch" size="5719" author="jdcryans" created="Fri, 30 Oct 2009 00:30:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Oct 2009 00:50:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hfyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>