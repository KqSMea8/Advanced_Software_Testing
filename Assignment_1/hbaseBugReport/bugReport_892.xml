<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:48:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-892/HBASE-892.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-892] Cell iteration is broken</title>
                <link>https://issues.apache.org/jira/browse/HBASE-892</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Cell implements Iterable&amp;lt;Cell&amp;gt; but its iteration is broken since it will always go one past the edge and throw an ArrayIndexOutOfBoundsException&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404800">HBASE-892</key>
            <summary>Cell iteration is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dogacan">Do&#287;acan G&#252;ney</assignee>
                                    <reporter username="dogacan">Do&#287;acan G&#252;ney</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Sep 2008 18:20:52 +0000</created>
                <updated>Sun, 13 Sep 2009 22:26:27 +0000</updated>
                            <resolved>Mon, 22 Sep 2008 22:01:21 +0000</resolved>
                                    <version>0.19.0</version>
                                    <fixVersion>0.19.0</fixVersion>
                                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12632995" author="dogacan" created="Sat, 20 Sep 2008 18:21:30 +0000"  >&lt;p&gt;Changes CellIterator to properly check for bounds.&lt;/p&gt;</comment>
                            <comment id="12633450" author="jimk" created="Mon, 22 Sep 2008 19:48:22 +0000"  >&lt;p&gt;Several comments on this patch.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;patch does not apply.&lt;/li&gt;
	&lt;li&gt;both the current code and the patch do essentially the same thing. Both work provide you follow the Iterator idiom.&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Iterator&amp;lt;Cell&amp;gt; it = cell.iterator();
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (it.hasNext()) {
  Cell c = it.next();
  ...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12633489" author="dogacan" created="Mon, 22 Sep 2008 20:53:21 +0000"  >&lt;p&gt;Hi Jim,&lt;/p&gt;

&lt;p&gt;Thanks for the comments.&lt;/p&gt;

&lt;p&gt;About applying patch: I develop on git, so you have to apply my patches with -p1. I guess I should migrate to svn to make things easier  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;This code throws on exception without this patch for me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[][] vals = Bytes.toByteArrays(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] { &lt;span class=&quot;code-quote&quot;&gt;&quot;cell&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;iteration&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;testing&quot;&lt;/span&gt;});
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; now = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis();
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;[] ts = {now, now + 10, now + 20};
    Cell cell = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Cell(vals, ts);

    Iterator&amp;lt;Cell&amp;gt; it = cell.iterator();
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (it.hasNext()) {
      Cell c = it.next();
      &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(Bytes.toString(c.getValue()));
    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Assume currentValue == values.length - 1. We first call hasNext and since currentValue is less than values.length it returns true. Now, during next(), we increase currentValue by one thus making it values.length. So attempting to access values&lt;span class=&quot;error&quot;&gt;&amp;#91;values.length&amp;#93;&lt;/span&gt; causes an exception.&lt;/p&gt;</comment>
                            <comment id="12633504" author="dogacan" created="Mon, 22 Sep 2008 21:17:07 +0000"  >&lt;p&gt;svn-ified version of the same patch.&lt;/p&gt;</comment>
                            <comment id="12633527" author="jimk" created="Mon, 22 Sep 2008 22:01:21 +0000"  >&lt;p&gt;Committed to trunk. Thanks for the patch Do&#287;acan.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390579" name="cell.patch" size="923" author="dogacan" created="Sat, 20 Sep 2008 18:21:30 +0000"/>
                            <attachment id="12390682" name="cell_svn.patch" size="824" author="dogacan" created="Mon, 22 Sep 2008 21:17:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 Sep 2008 19:48:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25461</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ha3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98897</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>