<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:59:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2152/HBASE-2152.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2152] Add default jmxremote.{access|password} files into conf</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2152</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;If there are no objections I would like to commit these two default files. They go along with the earlier added JMX setting in hbase-env.sh.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446212">HBASE-2152</key>
            <summary>Add default jmxremote.{access|password} files into conf</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="larsgeorge">Lars George</assignee>
                                    <reporter username="larsgeorge">Lars George</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2010 11:45:03 +0000</created>
                <updated>Fri, 12 Oct 2012 06:14:15 +0000</updated>
                            <resolved>Fri, 22 Jan 2010 17:58:57 +0000</resolved>
                                    <version>0.20.4</version>
                    <version>0.90.0</version>
                                    <fixVersion>0.20.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12803462" author="stack" created="Thu, 21 Jan 2010 20:03:56 +0000"  >&lt;p&gt;Sure, but can&apos;t you start jmx without requiring a login if you pass the right args?  Should this be the default rather than a login?&lt;/p&gt;</comment>
                            <comment id="12803488" author="ghelmling" created="Thu, 21 Jan 2010 21:14:44 +0000"  >&lt;p&gt;Yes, you can monitor local processes without a password.  You can also disable password checking for remote processes by setting com.sun.management.jmxremote.authenticate=false.&lt;/p&gt;

&lt;p&gt;It is true that the default hbase-env.sh references these files in comments:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# Uncomment and adjust/create &lt;span class=&quot;code-quote&quot;&gt;&quot;jmxremote.*&quot;&lt;/span&gt; to enable JMX exporting
# export HBASE_JMX_BASE=&lt;span class=&quot;code-quote&quot;&gt;&quot;-Dcom.sun.management.jmxremote.ssl=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;
# export HBASE_JMX_BASE=&lt;span class=&quot;code-quote&quot;&gt;&quot;$HBASE_JMX_BASE -Dcom.sun.management.jmxremote.password.file=$HBASE_HOME/conf/jmxremote.password&quot;&lt;/span&gt;
# export HBASE_JMX_BASE=&lt;span class=&quot;code-quote&quot;&gt;&quot;$HBASE_JMX_BASE -Dcom.sun.management.jmxremote.access.file=$HBASE_HOME/conf/jmxremote.access&quot;&lt;/span&gt;
# export HBASE_MASTER_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;$HBASE_MASTER_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10101&quot;&lt;/span&gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it is a bit confusing to refer to the files when they&apos;re not there by default.&lt;/p&gt;

&lt;p&gt;We could change this to simply reference the default files in the JRE.  Those will already exist with sample formats.  The only problem there is that java wants the password file to only have permissions of &quot;600&quot; and be owned the the user account running the process.  Which often won&apos;t mesh for people running hbase (JDK owned by root, Hadoop/HBase running as normal user).&lt;/p&gt;

&lt;p&gt;So in that case, we could change the default hbase-env.sh to something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# Uncomment and adjust to enable JMX exporting
# See jmxremote.password and jmxremote.access in $JRE_HOME/lib/management to configure remote password access.
# More details at: http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/javase/6/docs/technotes/guides/management/agent.html
&lt;/span&gt;#
# export HBASE_JMX_BASE=&lt;span class=&quot;code-quote&quot;&gt;&quot;-Dcom.sun.management.jmxremote.ssl=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;
# export HBASE_MASTER_OPTS=&lt;span class=&quot;code-quote&quot;&gt;&quot;$HBASE_MASTER_OPTS $HBASE_JMX_BASE -Dcom.sun.management.jmxremote.port=10101&quot;&lt;/span&gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12803494" author="stack" created="Thu, 21 Jan 2010 21:31:48 +0000"  >&lt;p&gt;The latter seems better to me (sorry if I should have spoken up earlier).  What do you fellas think?  There&apos;s no password access on an hbase cluster generally for the webui, etc.&lt;/p&gt;</comment>
                            <comment id="12803502" author="ghelmling" created="Thu, 21 Jan 2010 22:00:44 +0000"  >&lt;p&gt;Here&apos;s a patch to change the hbase-env.sh comments to include a password-less remote JMX setup by default.&lt;/p&gt;

&lt;p&gt;This seems okay to me, as it&apos;s not enabled unless uncommented, and the comments point you to how to enable password access as well.&lt;/p&gt;

&lt;p&gt;Lars, what do you think?&lt;/p&gt;</comment>
                            <comment id="12803649" author="larsgeorge" created="Fri, 22 Jan 2010 09:29:42 +0000"  >&lt;p&gt;I am fine with removing it. The only reason I added it in the first place was that I followed Ed Capriolo&apos;s guide and made use of them. Given we have no passwords anywhere else it seems OK to remove them. The JMX ports are internal like the IPC ones so a user needs to have LAN access anyways. Seems good in the overall scheme of things.&lt;/p&gt;</comment>
                            <comment id="12803774" author="stack" created="Fri, 22 Jan 2010 17:47:00 +0000"  >&lt;p&gt;You going to commit Lars?&lt;/p&gt;</comment>
                            <comment id="12803786" author="stack" created="Fri, 22 Jan 2010 17:58:57 +0000"  >&lt;p&gt;Committed to branch and trunk.  Thanks Lars and Gary.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431016" name="HBASE-2152.patch" size="554" author="larsgeorge" created="Thu, 21 Jan 2010 11:45:44 +0000"/>
                            <attachment id="12431069" name="HBASE-2152_0.20-no_pwd.patch" size="1510" author="ghelmling" created="Thu, 21 Jan 2010 22:00:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Jan 2010 20:03:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ta7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>