<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:57:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14866/HBASE-14866.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14866] VerifyReplication should use peer configuration in peer connection</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14866</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;VerifyReplication uses the replication peer&apos;s configuration to construct the ZooKeeper quorum address for the peer connection.  However, other configuration properties in the peer&apos;s configuration are dropped.  It should merge all configuration properties from the &lt;tt&gt;ReplicationPeerConfig&lt;/tt&gt; when creating the peer connection and obtaining a credentials for the peer cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12915028">HBASE-14866</key>
            <summary>VerifyReplication should use peer configuration in peer connection</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ghelmling">Gary Helmling</assignee>
                                    <reporter username="ghelmling">Gary Helmling</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Nov 2015 23:35:51 +0000</created>
                <updated>Thu, 17 Mar 2016 17:05:00 +0000</updated>
                            <resolved>Thu, 10 Dec 2015 01:04:31 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>0.98.17</fixVersion>
                                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="15021512" author="chenheng" created="Mon, 23 Nov 2015 04:28:48 +0000"  >&lt;p&gt;make a simple patch for it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15021513" author="ghelmling" created="Mon, 23 Nov 2015 04:30:13 +0000"  >&lt;p&gt;That is my plan.&lt;/p&gt;</comment>
                            <comment id="15021530" author="hadoopqa" created="Mon, 23 Nov 2015 05:02:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773768/HBASE-14866.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773768/HBASE-14866.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 55087ce8887b5be38b0fda0dda3fbf2f92c13778.&lt;br/&gt;
  ATTACHMENT ID: 12773768&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail with Hadoop version 2.4.0.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; COMPILATION ERROR : &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;24,23&amp;#93;&lt;/span&gt; package com.google.gson does not exist&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;133,9&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;133,25&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;274,5&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;274,21&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.2:compile (default-compile) on project hbase-server: Compilation failure: Compilation failure:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;24,23&amp;#93;&lt;/span&gt; package com.google.gson does not exist&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;133,9&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   class Gson&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hbase.mapreduce.replication.VerifyReplication.Verifier&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;133,25&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   class Gson&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hbase.mapreduce.replication.VerifyReplication.Verifier&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;274,5&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   class Gson&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hbase.mapreduce.replication.VerifyReplication&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;274,21&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   class Gson&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hbase.mapreduce.replication.VerifyReplication&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-server&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16635//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16635//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15021803" author="chenheng" created="Mon, 23 Nov 2015 09:10:07 +0000"  >&lt;p&gt;Currently, hbase-server has no dependency on gson, let change it to Jackson.&lt;/p&gt;</comment>
                            <comment id="15022032" author="hadoopqa" created="Mon, 23 Nov 2015 12:35:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773792/HBASE-14866_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773792/HBASE-14866_v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 55087ce8887b5be38b0fda0dda3fbf2f92c13778.&lt;br/&gt;
  ATTACHMENT ID: 12773792&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16639//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15023717" author="chenheng" created="Tue, 24 Nov 2015 03:39:50 +0000"  >&lt;p&gt;suggestions?  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt;  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15023874" author="ghelmling" created="Tue, 24 Nov 2015 06:50:20 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.htrace.fasterxml.jackson.databind.ObjectMapper;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It looks like the latest patch is using a shaded class from an HTrace dependency.  I don&apos;t think we should be using a shaded class.  I am also not a fan of serializing multiple configuration properties into a single configuration value.&lt;/p&gt;

&lt;p&gt;I was planning to instead prefix the &lt;tt&gt;ReplicationPeerConfig&lt;/tt&gt; configuration properties with a set prefix (say &quot;hbase.verifyrep.peer.&quot;), then use the &lt;tt&gt;HBaseConfiguration.subset()&lt;/tt&gt; method being added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14821&quot; title=&quot;CopyTable should allow overriding more config properties for peer cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14821&quot;&gt;&lt;del&gt;HBASE-14821&lt;/del&gt;&lt;/a&gt; to extract the prefixed values in the map method and merge them back in to the peer configuration created.&lt;/p&gt;</comment>
                            <comment id="15023889" author="chenheng" created="Tue, 24 Nov 2015 07:08:43 +0000"  >&lt;p&gt;Oh, i see.   &lt;br/&gt;
this issue is a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14821&quot; title=&quot;CopyTable should allow overriding more config properties for peer cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14821&quot;&gt;&lt;del&gt;HBASE-14821&lt;/del&gt;&lt;/a&gt;.  Please go ahead!  &lt;br/&gt;
Sorry for disturbing you. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15025375" author="ghelmling" created="Tue, 24 Nov 2015 20:54:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt; no worries!  The rest of your patch looked good.  I&apos;ll merge it with the approach I described.&lt;/p&gt;</comment>
                            <comment id="15027412" author="ghelmling" created="Wed, 25 Nov 2015 19:13:28 +0000"  >&lt;p&gt;Attaching a new patch making use of HBaseConfiguration.subset() to pass through the peer configuration.&lt;/p&gt;</comment>
                            <comment id="15027759" author="hadoopqa" created="Wed, 25 Nov 2015 23:04:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774398/hbase-14866_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774398/hbase-14866_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 90bdb0dc7412f3ae8fc1e14ce033bf115c6332f3.&lt;br/&gt;
  ATTACHMENT ID: 12774398&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 18686 checkstyle errors (more than the master&apos;s current 18685 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestPerColumnFamilyFlush&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16666//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15027789" author="ghelmling" created="Wed, 25 Nov 2015 23:23:17 +0000"  >&lt;p&gt;Fix checkstyle issue.&lt;/p&gt;</comment>
                            <comment id="15028138" author="chenheng" created="Thu, 26 Nov 2015 04:19:51 +0000"  >&lt;p&gt;Should we extract one method to generate peerConf,  it includes set clusterKey and configuration map. &lt;/p&gt;

&lt;p&gt;I see in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14886&quot; title=&quot;ReplicationAdmin does not use full peer configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14886&quot;&gt;&lt;del&gt;HBASE-14886&lt;/del&gt;&lt;/a&gt;,  you do the same thing.&lt;/p&gt;</comment>
                            <comment id="15028195" author="hadoopqa" created="Thu, 26 Nov 2015 05:30:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774438/hbase-14866_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774438/hbase-14866_v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e73a9594c218ed969a2f5b0b356d7b8d0e1474c0.&lt;br/&gt;
  ATTACHMENT ID: 12774438&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16673//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15034666" author="ghelmling" created="Tue, 1 Dec 2015 21:59:26 +0000"  >&lt;p&gt;Attaching a new version of the patch that also merges in the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14886&quot; title=&quot;ReplicationAdmin does not use full peer configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14886&quot;&gt;&lt;del&gt;HBASE-14886&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This has become a larger refactoring of the ZK related config methods:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;config related methods have been moved from ZKUtil over to HBaseConfiguration&lt;/li&gt;
	&lt;li&gt;HBaseConfiguration.createClusterConf() should now be used wherever ZKUtil.applyClusterKeyToConf() was used before.  This now unifies applying the cluster key and configuration property overrides (via key prefix) to a configuration.&lt;/li&gt;
	&lt;li&gt;HBaseConfiguration.applyClusterKeyToConf() is now private.&lt;/li&gt;
	&lt;li&gt;SyncTable now support additional target cluster config keys via the same key prefix as TableOutputFormat&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These moves &lt;em&gt;should&lt;/em&gt; be fine from a compatibility standpoint, as ZKUtil was annotated as private.  However, the public methods added to HBaseConfiguration become part of our public stable API, so let&apos;s make sure we have them right.&lt;/p&gt;</comment>
                            <comment id="15034731" author="ghelmling" created="Tue, 1 Dec 2015 22:24:33 +0000"  >&lt;p&gt;Resubmitting for HadoopQA&lt;/p&gt;</comment>
                            <comment id="15035116" author="hadoopqa" created="Wed, 2 Dec 2015 02:05:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775123/hbase-14866-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775123/hbase-14866-v4.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 92e178df28120fcae2aad47f3e4b1cc6e06a8404.&lt;br/&gt;
  ATTACHMENT ID: 12775123&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 32 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16724//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15036536" author="ghelmling" created="Wed, 2 Dec 2015 20:23:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;: any thoughts on the latest patch?&lt;/p&gt;</comment>
                            <comment id="15036784" author="eclark" created="Wed, 2 Dec 2015 22:34:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;transformClusterKey&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should transformClusterKey just use standardizeZKQuorumServerString rather than having two different cases?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;TestHBaseConfiguration&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Seems like the entry for shouldbemissing will have two prefixes. Is that intended?&lt;/p&gt;

&lt;p&gt;Most of these changes to HBaseConfiguration seem to be very replication specific. Should we have a different class for replication based configuration, so that HBaseConfiguration doesn&apos;t get too unwieldy?&lt;/p&gt;


</comment>
                            <comment id="15037134" author="chenheng" created="Thu, 3 Dec 2015 02:42:43 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Should transformClusterKey just use standardizeZKQuorumServerString rather than having two different cases?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It seems transformClusterKey has use it yet. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;btw.  &lt;br/&gt;
why not move  buildZKQuorumServerString and standardizeZKQuorumServerString into ZKUtil?   &lt;br/&gt;
As public method in HBaseConfiguration,  It is weird.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Most of these changes to HBaseConfiguration seem to be very replication specific. Should we have a different class for replication based configuration, so that HBaseConfiguration doesn&apos;t get too unwieldy?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. Maybe we need something like ReplicationUtils ? &lt;/p&gt;



</comment>
                            <comment id="15038429" author="ghelmling" created="Thu, 3 Dec 2015 19:36:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;Should transformClusterKey just use standardizeZKQuorumServerString rather than having two different cases?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, I can clean that up along the way.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Seems like the entry for shouldbemissing will have two prefixes. Is that intended?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks, nice catch! I&apos;ll fix that.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;why not move buildZKQuorumServerString and standardizeZKQuorumServerString into ZKUtil? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;ZKUtil deals mostly with ZK related operations (adding, watching znodes).  Building a quorum string is how we handle multiple ZK configs in a Configuration.  So it seems more configuration related than ZK operation related to me.  In addition ZKUtil is in hbase-client so we can&apos;t use anything in it from hbase-common.  We could move everything, including createClusterConf(), to ZKUtil, but that seems a weird home for it to me, since the original problem was a failure to handle additional configuration properties (beyond ZK quorum config) for target/destination clusters.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Most of these changes to HBaseConfiguration seem to be very replication specific. Should we have a different class for replication based configuration, so that HBaseConfiguration doesn&apos;t get too unwieldy?&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;Agreed. Maybe we need something like ReplicationUtils ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;These changes go beyond replication usage.  This is a common problem wherever a program needs to handle talking to two clusters with a single Configuration.  This applies to CopyTable, SyncTable and TableOutputFormat, none of which assumes any replication configuration.  By comparison, the replication code actually abstracts the usage of these ZK configuration utilities pretty well, except for the couple of problems in ReplicationAdmin and VerifyReplication.  In the non-replication cases, we need to be able to handle: applying different ZK quorum configurations for the different clusters, and overriding other configuration properties (for example security-related config) for the other clusters.  &lt;tt&gt;HBaseConfiguration.createClusterConf()&lt;/tt&gt; is the cleanest way I can see of abstracting this, especially for all of the non-replication usage.  This also seems like clearly a configuration problem to me, so HBaseConfiguration seems like the right home.  That is how we handle creating new HBase configurations everywhere (via &lt;tt&gt;HBaseConfiguration.create()&lt;/tt&gt;), so this seems analogous.&lt;/p&gt;

&lt;p&gt;If we&apos;re worried about bloating HBaseConfiguration with the additions moved from ZKUtil, then I could create a new util class in hbase-common to hold them, but I think we already have a proliferation of config related methods spread across multiple utility classes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ConfigurationUtils in hbase-server &amp;#8211; I would put the methods there, but we need access to them from hbase-client and hbase-server, so hbase-common seems like the right home.  ConfigurationUtils is annotated public, so we can&apos;t just move it without compatibility concerns.&lt;/li&gt;
	&lt;li&gt;ZKUtil in hbase-client &amp;#8211; this class deals mostly with operations on ZooKeeper (adding, watching znodes), so I think removing all the config methods actually made for a cleaner separation of ZK operations vs. configuration related manipulations.  Since ZKUtil is in hbase-client we also can&apos;t depend on it from hbase-common.  We could move it to hbase-common, but that would introduce a new dependency on ZooKeeper in hbase-common that is not currently there.&lt;/li&gt;
	&lt;li&gt;ZKConfig in hbase-client &amp;#8211; this currently deals with creating a ZK properties based configuration for HQuorumPeer.  So again moving the methods there would be expanding what it currently handles and has the additional problem of being in hbase-client, so createClusterConf() would have to move there as well.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It seems to me like we have two best options:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;move the ZK related config options to a new private util class in hbase-common.  This could even be ZKConfig, moved from hbase-client, since it&apos;s private.  It would be an expansion of it&apos;s current reponsibilities, but doesn&apos;t seem too bad.&lt;/li&gt;
	&lt;li&gt;go back to the original targeted fixes to ReplicationAdmin and VerifyReplication, since those are the actual problems I&apos;m trying to solve.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What do you guys think? I&apos;ll hold off on further changes to this until we get some consensus.&lt;/p&gt;</comment>
                            <comment id="15039694" author="chenheng" created="Fri, 4 Dec 2015 03:32:11 +0000"  >&lt;blockquote&gt;
&lt;p&gt;This could even be ZKConfig, moved from hbase-client, since it&apos;s private. It would be an expansion of it&apos;s current reponsibilities, but doesn&apos;t seem too bad.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I like this idea.  move ZKConfig into hbase-common sounds more reasonable.&lt;/p&gt;</comment>
                            <comment id="15042322" author="ghelmling" created="Fri, 4 Dec 2015 22:14:52 +0000"  >&lt;p&gt;Attaching a new patch that moves the ZK related configuration methods to ZKConfig, which also moves from hbase-client to hbase-common, in order to make it available to HBaseConfiguration.createClusterConf().&lt;/p&gt;

&lt;p&gt;TestZKConfig moves from hbase-server (don&apos;t know why it was there) to hbase-common, to keep it together with ZKConfig.&lt;/p&gt;

&lt;p&gt;I left the &lt;tt&gt;applyClusterKeyToConf()&lt;/tt&gt; method in HBaseConfiguration, so that it can be private.  This should avoid any future independent use of it.&lt;/p&gt;</comment>
                            <comment id="15042569" author="hadoopqa" created="Sat, 5 Dec 2015 01:54:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775868/hbase-14866-v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775868/hbase-14866-v5.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 26dd0d17f81627d3688f28bba1a293513ff5d702.&lt;br/&gt;
  ATTACHMENT ID: 12775868&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 40 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 zombies&lt;/font&gt;. No zombie tests found running at the end of the build.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16772//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15043958" author="yuzhihong@gmail.com" created="Sun, 6 Dec 2015 17:32:13 +0000"  >&lt;p&gt;I went through patch v5.&lt;br/&gt;
lgtm&lt;/p&gt;

&lt;p&gt;Please address checkstyle warnings.&lt;/p&gt;</comment>
                            <comment id="15044171" author="eclark" created="Sun, 6 Dec 2015 21:53:17 +0000"  >&lt;p&gt;lgtm +1&lt;/p&gt;</comment>
                            <comment id="15044347" author="chenheng" created="Mon, 7 Dec 2015 04:17:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15049677" author="ghelmling" created="Thu, 10 Dec 2015 00:04:01 +0000"  >&lt;p&gt;Attaching updated patch with minor checkstyle fix that I committed to master.&lt;/p&gt;</comment>
                            <comment id="15049773" author="ghelmling" created="Thu, 10 Dec 2015 01:03:45 +0000"  >&lt;p&gt;Attaching the patch applied to branch-1 and branch-1.2.&lt;/p&gt;</comment>
                            <comment id="15049775" author="ghelmling" created="Thu, 10 Dec 2015 01:04:31 +0000"  >&lt;p&gt;Committed to master, branch-1, and branch-1.2.&lt;/p&gt;</comment>
                            <comment id="15049998" author="hudson" created="Thu, 10 Dec 2015 04:05:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #363 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/363/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/363/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (garyh: rev 5dec5ad250322ba3dab8ff9800e82c039e4dce2e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ServerRegionReplicaUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestRegionReplicaReplicationEndpoint.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15050035" author="hudson" created="Thu, 10 Dec 2015 04:32:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #543 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/543/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (garyh: rev c1e0fcc26d7e7b10f6ce609e1ff0e4e9378dcf4b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestRegionReplicaReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ServerRegionReplicaUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15050050" author="hudson" created="Thu, 10 Dec 2015 04:43:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #332 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/332/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/332/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (garyh: rev 54877cfbf2756fde6ba5fca095582192379c6136)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ServerRegionReplicaUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestRegionReplicaReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15050191" author="hudson" created="Thu, 10 Dec 2015 06:45:02 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #434 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/434/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/434/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (garyh: rev 54877cfbf2756fde6ba5fca095582192379c6136)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestRegionReplicaReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ServerRegionReplicaUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15050248" author="hudson" created="Thu, 10 Dec 2015 07:30:02 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #427 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/427/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/427/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (garyh: rev 5dec5ad250322ba3dab8ff9800e82c039e4dce2e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ServerRegionReplicaUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestRegionReplicaReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15056739" author="apurtell" created="Mon, 14 Dec 2015 21:22:18 +0000"  >&lt;p&gt;Attaching 0.98 patch. API changes are only addition of static helper methods:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hbase.HBaseConfiguration (Public, Stable)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;HBaseConfiguration.createClusterConf ( Configuration baseConf, String clusterKey ) static  :  Configuration&lt;/li&gt;
	&lt;li&gt;HBaseConfiguration.createClusterConf ( Configuration baseConf, String clusterKey, String overridePrefix ) static  :  Configuration&lt;/li&gt;
	&lt;li&gt;HBaseConfiguration.setWithPrefix ( Configuration conf, String prefix, Iterable&amp;lt;Map.Entry&amp;lt;String,String&amp;gt;&amp;gt; properties ) static  :  void&lt;/li&gt;
	&lt;li&gt;HBaseConfiguration.subset ( Configuration srcConf, String prefix ) static  :  Configuration&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil (Public, Stable)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;TableMapReduceUtil.initCredentialsForCluster ( Job job, Configuration conf ) static  :  void&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15058362" author="hudson" created="Tue, 15 Dec 2015 17:19:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1145 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1145/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1145/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (apurtell: rev 229c430fa144f1fc7a418a56e1ab180f5b4e3ff5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15058423" author="hudson" created="Tue, 15 Dec 2015 17:53:17 +0000"  >&lt;p&gt;ABORTED: Integrated in HBase-0.98-matrix #272 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/272/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14866&quot; title=&quot;VerifyReplication should use peer configuration in peer connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14866&quot;&gt;&lt;del&gt;HBASE-14866&lt;/del&gt;&lt;/a&gt; VerifyReplication and ReplicationAdmin should use full peer (apurtell: rev 229c430fa144f1fc7a418a56e1ab180f5b4e3ff5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/SyncTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationEndpoint.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestHBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeersZKImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HBaseConfiguration.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/replication/ReplicationStateZKBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/replication/TestReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/replication/VerifyReplication.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationStateBasic.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKConfig.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15144353" author="ashish singhi" created="Fri, 12 Feb 2016 10:09:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt;, can you please add a release note for this or better can we document this in our book ?&lt;/p&gt;</comment>
                            <comment id="15195114" author="haridsv" created="Tue, 15 Mar 2016 11:16:55 +0000"  >&lt;p&gt;The change from hbase.mapred.outputtable to hbase.mapred.output.outputtable breaks projects that are built against older hbase libraries in a subtle way. Doesn&apos;t hbase ensure API compatibility across minor version changes without having to recompile? The issue specifically is that the projects that refer to the OUTPUT_TABLE constant may have the constant value inlined by javac, so those projects will continue to pass in the old value for the configuration key.&lt;/p&gt;</comment>
                            <comment id="15195507" author="apurtell" created="Tue, 15 Mar 2016 15:41:19 +0000"  >&lt;p&gt;according to &lt;a href=&quot;http://hbase.apache.org/book.html#hbase.versioning&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#hbase.versioning&lt;/a&gt; we guarantee client binary compatibility (no recompliation needed) only for patch versions - 0.98.x.y or 1.x. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Client code written to APIs available in a given patch release can run unchanged (no recompilation needed) against the new jars of later patch versions.&lt;/p&gt;

&lt;p&gt;Client code written to APIs available in a given patch release might not run against the old jars from an earlier patch version.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15195695" author="ghelmling" created="Tue, 15 Mar 2016 17:17:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;Doesn&apos;t hbase ensure API compatibility across minor version changes without having to recompile?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As Andy mentions, we don&apos;t guarantee binary compatibility across minor releases.&lt;/p&gt;

&lt;p&gt;Since configuration keys are part of the &quot;job spec&quot; for map reduce, though, you could argue that this falls more under the umbrella of wire format compatibility or even data format compatibility for config keys that have changed.  However, I don&apos;t see where the value of OUTPUT_TABLE changed with this patch.  I believe I left it the same because of compatibility concerns.  Maybe I missed something.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=haridsv&quot; class=&quot;user-hover&quot; rel=&quot;haridsv&quot;&gt;Hari Krishna Dara&lt;/a&gt;, could it be the setting for QUORUM_ADDRESS or another config tripping you up? Do you have a test case that reproduces the issue you&apos;re seeing?  If so, can you open a new JIRA with the test case attached?&lt;/p&gt;</comment>
                            <comment id="15199936" author="haridsv" created="Thu, 17 Mar 2016 17:05:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt; You are right about the compatibility issue and I was referring to &lt;tt&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/rel/0.98.16.1/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java#L57&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hbase.mapred.outputtable&lt;/a&gt;&lt;/tt&gt; turning into &lt;tt&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/rel/0.98.17/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java#L66&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hbase.mapred.output.outputtable&lt;/a&gt;&lt;/tt&gt; as part of the &lt;a href=&quot;https://github.com/apache/hbase/commit/229c430fa144f1fc7a418a56e1ab180f5b4e3ff5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;change 229c430&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Incidentally, there is also a &lt;tt&gt;&lt;a href=&quot;https://github.com/apache/hbase/blob/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableOutputFormat.java#L50&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;org.apache.hadoop.hbase.mapred.TableOutputFormat&lt;/a&gt;&lt;/tt&gt; class that also has the same field and still has the same old value. I am not sure what the difference is between the *.mapreduce and *.mapred packages.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12916266">HBASE-14886</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12940639">HBASE-15294</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12777585" name="HBASE-14866-0.98.patch" size="85774" author="apurtell" created="Mon, 14 Dec 2015 21:23:48 +0000"/>
                            <attachment id="12773768" name="HBASE-14866.patch" size="4130" author="chenheng" created="Mon, 23 Nov 2015 04:28:48 +0000"/>
                            <attachment id="12773792" name="HBASE-14866_v1.patch" size="5244" author="chenheng" created="Mon, 23 Nov 2015 09:10:07 +0000"/>
                            <attachment id="12776685" name="hbase-14866-branch-1-v1.patch" size="71615" author="ghelmling" created="Thu, 10 Dec 2015 01:03:45 +0000"/>
                            <attachment id="12775123" name="hbase-14866-v4.patch" size="63454" author="ghelmling" created="Tue, 1 Dec 2015 21:59:26 +0000"/>
                            <attachment id="12775868" name="hbase-14866-v5.patch" size="78790" author="ghelmling" created="Fri, 4 Dec 2015 22:14:52 +0000"/>
                            <attachment id="12776672" name="hbase-14866-v6.patch" size="79023" author="ghelmling" created="Thu, 10 Dec 2015 00:04:01 +0000"/>
                            <attachment id="12774398" name="hbase-14866_v2.patch" size="8291" author="ghelmling" created="Wed, 25 Nov 2015 19:13:28 +0000"/>
                            <attachment id="12774438" name="hbase-14866_v3.patch" size="7856" author="ghelmling" created="Wed, 25 Nov 2015 23:23:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Nov 2015 04:28:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oqhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>