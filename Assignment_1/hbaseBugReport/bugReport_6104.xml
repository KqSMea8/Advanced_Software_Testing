<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:33:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6104/HBASE-6104.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6104] Require EXEC permission to call coprocessor endpoints</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6104</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The EXEC action currently exists as only a placeholder in access control.  It should really be used to enforce access to coprocessor endpoint RPC calls, which are currently unrestricted.&lt;/p&gt;

&lt;p&gt;How the ACLs to support this would be modeled deserves some discussion:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Should access be scoped to a specific table and CoprocessorProtocol extension?&lt;/li&gt;
	&lt;li&gt;Should it be possible to grant access to a CoprocessorProtocol implementation globally (regardless of table)?&lt;/li&gt;
	&lt;li&gt;Are per-method restrictions necessary?&lt;/li&gt;
	&lt;li&gt;Should we expose hooks available to endpoint implementors so that they could additionally apply their own permission checks? Some CP endpoints may want to require READ permissions, others may want to enforce WRITE, or READ + WRITE.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To apply these kinds of checks we would also have to extend the RegionObserver interface to provide hooks wrapping HRegion.exec().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12558174">HBASE-6104</key>
            <summary>Require EXEC permission to call coprocessor endpoints</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="ghelmling">Gary Helmling</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 May 2012 19:44:09 +0000</created>
                <updated>Sat, 21 Feb 2015 23:33:06 +0000</updated>
                            <resolved>Tue, 7 Jan 2014 01:23:06 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>Coprocessors</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13283720" author="apurtell" created="Fri, 25 May 2012 20:00:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;To apply these kinds of checks we would also have to extend the RegionObserver interface to provide hooks wrapping HRegion.exec().&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 on this at a minimum.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should access be scoped to a specific table and CoprocessorProtocol extension?&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;Should it be possible to grant access to a CoprocessorProtocol implementation globally (regardless of table)?&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;Are per-method restrictions necessary?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For the sake of simplicity, I suggest considering an EXEC permission per CF. So that would allow the user or group specified in the grant to execute any coprocessors installed in the region for the given CF. We can do more, but it would be good to be informed by a specific use case then.&lt;/p&gt;

&lt;p&gt;Edit: This implies some additional interface that informs the coprocessor what CFs the principal has access rights to.&lt;/p&gt;</comment>
                            <comment id="13833254" author="apurtell" created="Wed, 27 Nov 2013 00:08:28 +0000"  >&lt;p&gt;Will try to look at this for 0.98, no promises, thinking of branching on 12/1&lt;/p&gt;</comment>
                            <comment id="13854606" author="apurtell" created="Fri, 20 Dec 2013 22:06:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;For the sake of simplicity, I suggest considering an EXEC permission per CF.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Simplifying this even further, why not just a test for if the user has EXEC permission on the table. Attached is a patch to trunk which does that. Now, the question is how many unit tests does this break. Working on that now.&lt;/p&gt;

&lt;p&gt;Edit: I did design the new regionobserver hooks (endpoints are managed by hregion) so that further discrimination by service and even by method is possible.&lt;/p&gt;</comment>
                            <comment id="13854614" author="apurtell" created="Fri, 20 Dec 2013 22:09:22 +0000"  >&lt;p&gt;We could either put up a fat release note that says to the effect &quot;now you MUST immediately grant all relevant users the ability to execute coprocessors on the respective tables&quot;, or grandfather EXEC privilege to all users by default. Thoughts? I think the former makes more sense, but the latter would be transparently backwards compatible.&lt;/p&gt;</comment>
                            <comment id="13854707" author="ghelmling" created="Sat, 21 Dec 2013 00:33:42 +0000"  >&lt;p&gt;I think scoping the EXEC permission to: global, namespace, and table would be a good start.  Scoping to service and method name could be left as a future addition.  For the moment at least, CF doesn&apos;t really make sense as endpoint invocations are only addressed by row key(s).&lt;/p&gt;

&lt;p&gt;Backward compatibility is a big concern.  Breaking all existing usage would certainly be bad.  But on the other hand a default-allow policy would be at odds with how all other permissions are handled.  This would impact how the permission grants are stored (would a revoke store a new entry in the &quot;acl&quot; table instead of removing it?).  Or would EXEC be implicitly granted to all until it is explicitly granted to anyone (also seems confusing)?  Just trying to think through possible approaches.&lt;/p&gt;

&lt;p&gt;I guess given the two not-so-great choices, I&apos;m more in favor of the former as well.  While backward compatibility is very important, I think the cost to consistency in approach is even bigger.  Maybe we could go with a big release note describing the impact along with some migration script to bulk grant EXEC privs for all configured coprocessors?  This might be easier if we had the capability to create wildcard grants (grant EXEC to &quot;*&quot;) as well.&lt;/p&gt;

&lt;p&gt;Will look through the patch.&lt;/p&gt;</comment>
                            <comment id="13854709" author="apurtell" created="Sat, 21 Dec 2013 00:41:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;This might be easier if we had the capability to create wildcard grants (grant EXEC to &quot;*&quot;) as well.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We can do that in effect by granting a user GLOBAL EXEC privilege. &lt;/p&gt;</comment>
                            <comment id="13854714" author="ghelmling" created="Sat, 21 Dec 2013 00:49:06 +0000"  >&lt;p&gt;Sorry my example wasn&apos;t very clear.  I meant the &quot;&amp;#42;&quot; to represent the username, so effectively doing a default allow to all users.  Don&apos;t think we support this yet?  Certain combinations would still be problematic &amp;#8211; if I grant to &quot;&amp;#42;&quot; users, then try to revoke for a single user is that allowed or does it error out?&lt;/p&gt;</comment>
                            <comment id="13854715" author="apurtell" created="Sat, 21 Dec 2013 00:50:43 +0000"  >&lt;p&gt;Yeah we don&apos;t support that. &lt;/p&gt;</comment>
                            <comment id="13854733" author="ghelmling" created="Sat, 21 Dec 2013 01:25:15 +0000"  >&lt;p&gt;Some comments on patch:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;For the new RegionObserver hooks, would it make sense to move these into a new EndpointObserver coprocessor interface?  They seem logically distinct enough that we could potentially start breaking things out better.  This would also avoid impact on existing coprocessors (though that is also minimized by implementing in BaseRegionObserver as you currently do).&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;RegionObserver.preEndpointInvocation()&lt;/tt&gt; &amp;#8211; I think this should return &lt;tt&gt;Message&lt;/tt&gt; instead of a &lt;tt&gt;void&lt;/tt&gt; return type.  Since PB messages are immutable, this would be needed to allow mutating the request.&lt;/li&gt;
	&lt;li&gt;In AccessController, should there be some special casing for endpoint calls on AccessController itself?  The AccessControlService methods current check for ADMIN permission on the appropriate context.  Should the appropriate ADMIN privilege also imply EXEC for those methods?&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13854743" author="apurtell" created="Sat, 21 Dec 2013 01:41:50 +0000"  >&lt;p&gt;Something like this?&lt;/p&gt;

&lt;p&gt;With the previous patch only TestVisibilityLabelsWithACL failed, looking into it.&lt;/p&gt;</comment>
                            <comment id="13854752" author="ghelmling" created="Sat, 21 Dec 2013 02:05:33 +0000"  >&lt;p&gt;Latest patch looks good to me.  +1 if it fixes the test failure.&lt;/p&gt;

&lt;p&gt;Any chance of an extra test for the EXEC permissions handling?  Could be added to TestAccessController or TestServerCustomProtocol.&lt;/p&gt;</comment>
                            <comment id="13854753" author="apurtell" created="Sat, 21 Dec 2013 02:10:00 +0000"  >&lt;p&gt;Thanks for the +1 Gary. I will have to fix the test failure and add a unit test for EXEC checking to TestAccessController. Will put up a final patch to sit here a bit before commit. &lt;/p&gt;

&lt;p&gt;Thanks again for looking at this.&lt;/p&gt;</comment>
                            <comment id="13855330" author="apurtell" created="Mon, 23 Dec 2013 01:43:45 +0000"  >&lt;p&gt;Latest patch includes new unit test in TestAccessController for checking EXEC privilege. &lt;/p&gt;</comment>
                            <comment id="13855354" author="hadoopqa" created="Mon, 23 Dec 2013 03:17:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12620110/6104.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12620110/6104.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12620110&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithACL&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8260//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13855356" author="apurtell" created="Mon, 23 Dec 2013 03:24:29 +0000"  >&lt;p&gt;The TestVisibilityLabelsWithACL.testLabelsTableOpsWithDifferentUsers failure is a real issue with the test.&lt;/p&gt;</comment>
                            <comment id="13855359" author="apurtell" created="Mon, 23 Dec 2013 03:41:14 +0000"  >&lt;p&gt;New patch including test fix.&lt;/p&gt;</comment>
                            <comment id="13855398" author="hadoopqa" created="Mon, 23 Dec 2013 05:21:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12620120/6104.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12620120/6104.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12620120&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8261//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13855450" author="apurtell" created="Mon, 23 Dec 2013 07:00:12 +0000"  >&lt;p&gt;Significant functional change - can I get another review / +1: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13855461" author="anoop.hbase" created="Mon, 23 Dec 2013 07:24:03 +0000"  >&lt;p&gt;+1&lt;br/&gt;
So this breaks the compatability for endpoints when Security is in place. Right Andy? We can highlight this. (You will make some changes in book?)&lt;/p&gt;</comment>
                            <comment id="13855469" author="apurtell" created="Mon, 23 Dec 2013 07:35:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;So this breaks the compatibility for endpoints when Security is in place. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See the release note on this issue. Is it sufficient? We are not changing APIs, but yes if the AccessController is active then endpoint invocations require granting EXEC privilege in addition to what was set up previously for the user. Now that I&apos;m thinking about it, let me add a unit test that insures EXEC if granted to a user for an entire namespace works as expected.&lt;/p&gt;

&lt;p&gt;Edit: Clarity&lt;/p&gt;</comment>
                            <comment id="13855479" author="ram_krish" created="Mon, 23 Dec 2013 07:54:10 +0000"  >&lt;p&gt;+1 on patch.  Looks good to me.  The release note also is good .&lt;/p&gt;</comment>
                            <comment id="13855517" author="apurtell" created="Mon, 23 Dec 2013 09:19:33 +0000"  >&lt;p&gt;Latest patch contains new unit test that won&apos;t pass until &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10226&quot; title=&quot;[AccessController] Namespace grants not always checked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10226&quot;&gt;&lt;del&gt;HBASE-10226&lt;/del&gt;&lt;/a&gt; is committed first.&lt;/p&gt;</comment>
                            <comment id="13856452" author="apurtell" created="Tue, 24 Dec 2013 20:24:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10226&quot; title=&quot;[AccessController] Namespace grants not always checked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10226&quot;&gt;&lt;del&gt;HBASE-10226&lt;/del&gt;&lt;/a&gt; went in, will commit this later today.&lt;/p&gt;</comment>
                            <comment id="13856513" author="apurtell" created="Wed, 25 Dec 2013 02:06:18 +0000"  >&lt;p&gt;Committed to trunk and 0.98. &lt;/p&gt;</comment>
                            <comment id="13856539" author="hudson" created="Wed, 25 Dec 2013 07:29:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #34 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/34/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/34/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1553345)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856541" author="hudson" created="Wed, 25 Dec 2013 07:57:26 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #33 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1553345)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856545" author="apurtell" created="Wed, 25 Dec 2013 08:16:09 +0000"  >&lt;p&gt;Looks like the new unit test needs an update to pass on Hadoop 1: &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/33/testReport/junit/org.apache.hadoop.hbase.security.access/TestAccessController/testCoprocessorExec/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/33/testReport/junit/org.apache.hadoop.hbase.security.access/TestAccessController/testCoprocessorExec/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13856548" author="apurtell" created="Wed, 25 Dec 2013 08:44:23 +0000"  >&lt;p&gt;I&apos;m not able to reproduce this locally with -Dhadoop.profile=1.1 and Oracle Java build 1.7.0_21-b11.&lt;/p&gt;

&lt;p&gt;I see where in TestAccessController#verifyDenied someone has added code attempting to deal with UTEs with AccessDeniedException as a nested cause. Although it would seem the code intends to handle the exception reported by the failed test here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.reflect.UndeclaredThrowableException: Unknown exception in doAs
Caused by: java.security.PrivilegedActionException: com.google.protobuf.ServiceException: Error calling method PingService.noop
Caused by: com.google.protobuf.ServiceException: Error calling method PingService.noop
Caused by: org.apache.hadoop.hbase.security.AccessDeniedExceptionorg.apache.hadoop.hbase.security.AccessDeniedException: Insufficient permissions (user=UserB, scope=testCoprocessorExec, family=, action=EXEC)
Caused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException: org.apache.hadoop.hbase.security.AccessDeniedException: Insufficient permissions (user=UserB, scope=testCoprocessorExec, family=, action=EXEC)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;it didn&apos;t work properly.&lt;/p&gt;</comment>
                            <comment id="13856549" author="apurtell" created="Wed, 25 Dec 2013 08:49:50 +0000"  >&lt;p&gt;Going to handle the test failure on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10238&quot; title=&quot;TestAccessController#verifyDenied can fail even if ADE is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10238&quot;&gt;&lt;del&gt;HBASE-10238&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13856620" author="hudson" created="Wed, 25 Dec 2013 16:48:42 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4757 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4757/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4757/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints. Add missing file (apurtell: rev 1553347)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1553344)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856690" author="hudson" created="Thu, 26 Dec 2013 00:26:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #23 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/23/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/23/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints. Add missing file (apurtell: rev 1553347)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1553344)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856724" author="apurtell" created="Thu, 26 Dec 2013 03:51:22 +0000"  >&lt;p&gt;I need to remove one part of the new test for this issue until I can confirm a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10238&quot; title=&quot;TestAccessController#verifyDenied can fail even if ADE is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10238&quot;&gt;&lt;del&gt;HBASE-10238&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13856729" author="apurtell" created="Thu, 26 Dec 2013 04:20:20 +0000"  >&lt;p&gt;Attached a test-only change as 6104-addendum-1 that I committed to trunk and 0.98 to unbreak the trunk and 0.98 on Hadoop 1.1 builds.&lt;/p&gt;</comment>
                            <comment id="13856732" author="apurtell" created="Thu, 26 Dec 2013 04:39:59 +0000"  >&lt;p&gt;Still getting a test failure under JDK 6 even after the addendum, so my conclusion is we are getting an undeclared throwable in a case that is supposed to be passing. Going to revert this entire commit / feature.&lt;/p&gt;</comment>
                            <comment id="13856745" author="apurtell" created="Thu, 26 Dec 2013 04:53:29 +0000"  >&lt;p&gt;Attached the patch I used to revert this. Needs more work and a test that passes reliably on various JDK 6 and JDK 7 versions.&lt;/p&gt;</comment>
                            <comment id="13856746" author="apurtell" created="Thu, 26 Dec 2013 04:54:03 +0000"  >&lt;p&gt;Unscheduling from 0.98.&lt;/p&gt;</comment>
                            <comment id="13856781" author="hudson" created="Thu, 26 Dec 2013 06:51:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #37 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/37/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. TestAccessController#testCoprocessorExec is improperly failing (apurtell: rev 1553447)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856787" author="hudson" created="Thu, 26 Dec 2013 07:17:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #36 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/36/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/36/&lt;/a&gt;)&lt;br/&gt;
Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Revert initial commit and addendum (apurtell: rev 1553451)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. TestAccessController#testCoprocessorExec is improperly failing (apurtell: rev 1553447)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856790" author="hudson" created="Thu, 26 Dec 2013 07:22:52 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #25 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/25/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/25/&lt;/a&gt;)&lt;br/&gt;
Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Revert initial commit and addendum (apurtell: rev 1553450)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. TestAccessController#testCoprocessorExec is improperly failing (apurtell: rev 1553446)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856850" author="hudson" created="Thu, 26 Dec 2013 12:27:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4761 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4761/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4761/&lt;/a&gt;)&lt;br/&gt;
Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Revert initial commit and addendum (apurtell: rev 1553450)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. TestAccessController#testCoprocessorExec is improperly failing (apurtell: rev 1553446)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13856945" author="apurtell" created="Thu, 26 Dec 2013 17:19:15 +0000"  >&lt;p&gt;TestAccessController improvements filed as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10239&quot; title=&quot;Improve determinism and debugability of TestAccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10239&quot;&gt;&lt;del&gt;HBASE-10239&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13857145" author="apurtell" created="Thu, 26 Dec 2013 22:55:39 +0000"  >&lt;p&gt;Back for more.&lt;/p&gt;

&lt;p&gt;Attaching new patch that won&apos;t apply until after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10239&quot; title=&quot;Improve determinism and debugability of TestAccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10239&quot;&gt;&lt;del&gt;HBASE-10239&lt;/del&gt;&lt;/a&gt; goes in. New test case for EXEC permission passes several times locally on JDK6 and 7, including the specific JDK (Oracle 6u43) I managed to reproduce the Jenkins failure with.&lt;/p&gt;

&lt;p&gt;Could be (re)considered for commit to trunk.&lt;/p&gt;</comment>
                            <comment id="13857416" author="hudson" created="Fri, 27 Dec 2013 10:10:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #39 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/39/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/39/&lt;/a&gt;)&lt;br/&gt;
Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Revert initial commit and addendum (apurtell: rev 1553451)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13857648" author="apurtell" created="Fri, 27 Dec 2013 19:09:55 +0000"  >&lt;p&gt;If TestAccessController is green after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10239&quot; title=&quot;Improve determinism and debugability of TestAccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10239&quot;&gt;&lt;del&gt;HBASE-10239&lt;/del&gt;&lt;/a&gt; for a few trunk builds, my plan is to try committing this change again, but only to trunk.&lt;/p&gt;</comment>
                            <comment id="13859274" author="apurtell" created="Tue, 31 Dec 2013 02:37:48 +0000"  >&lt;p&gt;This is looking better after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10239&quot; title=&quot;Improve determinism and debugability of TestAccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10239&quot;&gt;&lt;del&gt;HBASE-10239&lt;/del&gt;&lt;/a&gt;. There wasn&apos;t an issue with the feature, it was a unit test problem. Before I commit this to trunk (and maybe to 0.98... I am tempted ... other security features have been bundled into it), any comment on the impact to coprocessor users &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=giacomotaylor&quot; class=&quot;user-hover&quot; rel=&quot;giacomotaylor&quot;&gt;James Taylor&lt;/a&gt;? If the AccessController is active, then you&apos;d have to grant EXEC to any user (or group of users) who wants to run the Phoenix client before the coprocessor calls would be allowed. Such grants can be done per user globally, by namespace, or by table. As Gary mentions in a comment above, we don&apos;t support wildcard grants. However, it is not necessary to grant privileges per user if all relevant users can belong to a group or groups granted EXEC privilege.&lt;/p&gt;</comment>
                            <comment id="13859814" author="jamestaylor" created="Wed, 1 Jan 2014 01:17:03 +0000"  >&lt;p&gt;Does this effect only end point coprocessors? If so, we have two end point coprocessors:&lt;br/&gt;
1) For issuing DDL statements. Probably not a bad idea to have to require an extra grant for a user to do this. The only exception might be still allowing users to create a tenant-specific table for a multi-tenant base table.&lt;br/&gt;
2) For sending region server level cache information, as there&apos;s no good way to do this from a region observer coprocessor (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9291&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-9291&lt;/a&gt;). This is used for both joins (for broadcasting the hash join cache to each region server) plus for secondary indexing (to pass along the index metadata for index row building, so we don&apos;t have to attach this information to every single Put/Delete). Requiring additional security to be able to do joins and/or use secondary indexing is not good. How about a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9291&quot; title=&quot;Enable client to setAttribute that is sent once to each region server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9291&quot;&gt;HBASE-9291&lt;/a&gt; so that we could tack along attributes to go with the mutation on a per region server basis, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13860505" author="apurtell" created="Thu, 2 Jan 2014 18:20:57 +0000"  >&lt;p&gt;Thanks for the feedback &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=giacomotaylor&quot; class=&quot;user-hover&quot; rel=&quot;giacomotaylor&quot;&gt;James Taylor&lt;/a&gt;. Yes, EXEC privilege affects only the invocation of endpoints. The essential change is if a user is not granted EXEC permission then the invocation will be rejected. &lt;/p&gt;

&lt;p&gt;Regarding your point #2, what prevents your observer from taking the data in an attribute of the first mutation presented and applying it on a regionserver level? Whether your observer does something locally on the region or globally on the regionserver in response to an attribute is up to you. LarsH put in state sharing for region observers in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6505&quot; title=&quot;Allow shared RegionObserver state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6505&quot;&gt;&lt;del&gt;HBASE-6505&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13860513" author="apurtell" created="Thu, 2 Jan 2014 18:23:13 +0000"  >&lt;p&gt;Will wait on commit to trunk for a bit pending additional discussion.&lt;/p&gt;</comment>
                            <comment id="13860623" author="jamestaylor" created="Thu, 2 Jan 2014 19:12:48 +0000"  >&lt;p&gt;It&apos;s about conserving network bandwidth - we don&apos;t want to take the hit of transferring the same data between client and server multiple times. For example, with secondary indexing, we&apos;d be tacking on data for every Put - if you have a batch of 10,000, that&apos;s a lot of extra data. We could try to figure out which Put is the &quot;first one&quot; for each region, but what if a split occurs after we figure this out &amp;#8211; this seems too brittle.&lt;br/&gt;
In the case of a Hash Join, we&apos;d be sending over the compressed results of a scan that ran over the smaller table (which gets joined against in a coprocessor when the scan over the other table is ran). This can become very large - imagine you&apos;re joining against a table with 10M rows. We would not want to send this data for every region of the region server (or even multiple times per region depending on how the scan gets parallelized on the client).&lt;/p&gt;</comment>
                            <comment id="13860652" author="apurtell" created="Thu, 2 Jan 2014 19:40:22 +0000"  >&lt;p&gt;This discussion is about &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9291&quot; title=&quot;Enable client to setAttribute that is sent once to each region server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9291&quot;&gt;HBASE-9291&lt;/a&gt;. Let&apos;s take it there. Regarding requiring an EXEC privilege to call coprocessor endpoints, the feedback is that security would be inconvenient. Unfortunately, that&apos;s the nature of security. Will commit this to trunk shortly.&lt;/p&gt;</comment>
                            <comment id="13860683" author="apurtell" created="Thu, 2 Jan 2014 20:06:09 +0000"  >&lt;p&gt;If we introduce a new client API to the effect of &quot;send one RPC to each RS&quot;, then this amounts to a modified coprocessor endpoint execution, but with an invocation target that is a singleton to each RS, and should be subject to the same security considerations. Passing an attribute on the first put to a RS sidesteps the need for EXEC grants on any endpoint invocation target, which is what sounds like the goal you are after. Remainder of response on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9291&quot; title=&quot;Enable client to setAttribute that is sent once to each region server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9291&quot;&gt;HBASE-9291&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13863475" author="apurtell" created="Mon, 6 Jan 2014 21:54:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;Before I commit this to trunk (and maybe to 0.98... I am tempted ... other security features have been bundled into it)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am going to bring this into 0.98, but one more rev of the patch first: Let&apos;s make enforcement of EXEC privilege optional and disabled by default for 0.98, then on unconditionally in a later release. Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=avik_dey%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;avik_dey@yahoo.com&quot;&gt;Avik Dey&lt;/a&gt; for the suggestion.&lt;/p&gt;</comment>
                            <comment id="13863663" author="hadoopqa" created="Mon, 6 Jan 2014 23:51:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12621697/6104.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12621697/6104.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12621697&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 4 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8350//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13863768" author="apurtell" created="Tue, 7 Jan 2014 01:23:06 +0000"  >&lt;p&gt;Committed to trunk and 0.98&lt;/p&gt;</comment>
                            <comment id="13863888" author="hudson" created="Tue, 7 Jan 2014 04:08:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #62 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/62/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/62/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1556100)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13863895" author="hudson" created="Tue, 7 Jan 2014 04:25:52 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4796 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4796/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4796/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1556098)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13863918" author="hudson" created="Tue, 7 Jan 2014 05:19:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #56 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/56/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1556100)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13863933" author="hudson" created="Tue, 7 Jan 2014 06:12:16 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-1.1 #45 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/45/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/45/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6104&quot; title=&quot;Require EXEC permission to call coprocessor endpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6104&quot;&gt;&lt;del&gt;HBASE-6104&lt;/del&gt;&lt;/a&gt;. Require EXEC permission to call coprocessor endpoints (apurtell: rev 1556098)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/EndpointObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331052" author="enis" created="Sat, 21 Feb 2015 23:33:06 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12686125">HBASE-10226</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12686434">HBASE-10239</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12620468" name="6104-addendum-1.patch" size="774" author="apurtell" created="Thu, 26 Dec 2013 04:19:42 +0000"/>
                            <attachment id="12620469" name="6104-revert.patch" size="19687" author="apurtell" created="Thu, 26 Dec 2013 04:47:23 +0000"/>
                            <attachment id="12621697" name="6104.patch" size="23175" author="apurtell" created="Mon, 6 Jan 2014 22:16:44 +0000"/>
                            <attachment id="12620557" name="6104.patch" size="19460" author="apurtell" created="Thu, 26 Dec 2013 22:55:39 +0000"/>
                            <attachment id="12620157" name="6104.patch" size="20475" author="apurtell" created="Mon, 23 Dec 2013 09:19:33 +0000"/>
                            <attachment id="12620120" name="6104.patch" size="19444" author="apurtell" created="Mon, 23 Dec 2013 03:41:14 +0000"/>
                            <attachment id="12620110" name="6104.patch" size="16562" author="apurtell" created="Mon, 23 Dec 2013 01:43:45 +0000"/>
                            <attachment id="12619948" name="6104.patch" size="8704" author="apurtell" created="Sat, 21 Dec 2013 01:43:53 +0000"/>
                            <attachment id="12619918" name="6104.patch" size="7867" author="apurtell" created="Fri, 20 Dec 2013 22:06:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 May 2012 20:00:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hul3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>If access control is active (the AccessController coprocessor is installed either as a system coprocessor or on a table as a table coprocessor) and the &amp;quot;hbase.security.exec.permission.checks&amp;quot; configuration setting is &amp;quot;true&amp;quot;, then you must now grant all relevant users EXEC privilege if they require the ability to execute coprocessor endpoint calls. EXEC privilege, like any other permission, can be granted globally to a user, or to a user on a per table or per namespace basis. For more information on coprocessor endpoints, see the coprocessor section of the HBase online manual. For more information on granting or revoking permissions using the AccessController, see the security section of the HBase online manual.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>