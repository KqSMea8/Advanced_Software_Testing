<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6460/HBASE-6460.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6460] hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot;</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6460</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;According to the hbck&apos;s help info, shortcut - &quot;-repairHoles&quot; will enable &quot;-fixHdfsOrphans&quot; as below.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; -repairHoles      Shortcut for -fixAssignments -fixMeta -fixHdfsHoles -fixHdfsOrphans
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, in the implementation, the function &quot;fsck.setFixHdfsOrphans(false);&quot; is called in &quot;-repairHoles&quot;. This is not consistent with the usage information.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600300">HBASE-6460</key>
            <summary>hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="grace.huang">Jie Huang</assignee>
                                    <reporter username="grace.huang">Jie Huang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 12:00:41 +0000</created>
                <updated>Tue, 15 Oct 2013 04:46:43 +0000</updated>
                            <resolved>Thu, 2 Aug 2012 20:25:11 +0000</resolved>
                                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.2</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13423021" author="grace.huang" created="Thu, 26 Jul 2012 12:03:37 +0000"  >&lt;p&gt;A quick and simple fix in the patch file&lt;/p&gt;</comment>
                            <comment id="13424993" author="jmhsieh" created="Mon, 30 Jul 2012 16:46:47 +0000"  >&lt;p&gt;Can we do it the other way around &amp;#8211; change the documentation?&lt;/p&gt;</comment>
                            <comment id="13425460" author="grace.huang" created="Tue, 31 Jul 2012 01:46:51 +0000"  >&lt;p&gt;From my perspective, to change the code is preferable,  since both of &quot;-fixHdfsOrphans&quot; and &quot;-fixHdfsHole&quot; try to &quot;restore&quot; the missing region(s). It is quite reasonable to enable both of them while using &quot;-repairHoles&quot;. &lt;/p&gt;</comment>
                            <comment id="13425461" author="jmhsieh" created="Tue, 31 Jul 2012 01:51:45 +0000"  >&lt;p&gt;Jie - while what you say makes sense, in my experience I&apos;ve found that restoring orphan hdfs regions, especially on clusters that came from pre .90, has tended to cause more problems than solve them.  I actually would like to add a feature to just sideline orphans.  The user can then choose to bulk load them back if they desire.&lt;/p&gt;</comment>
                            <comment id="13425746" author="grace.huang" created="Tue, 31 Jul 2012 13:16:53 +0000"  >&lt;p&gt;OK. I see your point. We can fix this issue to make the help info and the code implementation consistent here. Regarding that feature, I wonder if we can run hbck without &quot;-fixHdfsOrphans&quot; to ignore those orphan regions.  Any comment?&lt;/p&gt;</comment>
                            <comment id="13425915" author="jmhsieh" created="Tue, 31 Jul 2012 16:48:49 +0000"  >&lt;p&gt;Jie, if the -fixHdfsOrphans option is not set, it will not attempt to fix the problem, but still will report it.  The -repairHoles flag is purely a convenience option.  It probably better to exclude also because we can easily set &quot;-repairHoles -fixHdfsOrphans&quot; but currently cannot take away a set option.&lt;/p&gt;

&lt;p&gt;When you say ignore, do you mean treat it as a warning as opposed to a error?&lt;/p&gt;</comment>
                            <comment id="13426596" author="grace.huang" created="Wed, 1 Aug 2012 13:12:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;When you say ignore, do you mean treat it as a warning as opposed to a error?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Without that &lt;b&gt;-fixHdfsOrphans&lt;/b&gt; option, the hbck won&apos;t try to fix the problem as you like.&lt;/p&gt;

&lt;p&gt;Regarding the shortcut, from my perspective, we can let &quot;-repairHoles&quot; to fix both items at the same time, which is quite acceptable literally. And I wonder if it is OK to have another shortcut for &quot;-fixAssignments -fixMeta&quot;, which aim to solve the meta related parts. And then we can combine any single option (like -fixHdfsHole) along with those options. What do you think?&lt;/p&gt;</comment>
                            <comment id="13426709" author="jxiang" created="Wed, 1 Aug 2012 15:48:14 +0000"  >&lt;p&gt;I agree with Jon.  It&apos;s better to fix the documentation because we don&apos;t usually touch orphans in fixing holes. You can always combine different options for your use case.&lt;/p&gt;

&lt;p&gt;If make sense, we can have other shortcuts too. However, we don&apos;t want too many shortcuts to avoid some confusion.&lt;/p&gt;</comment>
                            <comment id="13427077" author="grace.huang" created="Thu, 2 Aug 2012 02:12:31 +0000"  >&lt;p&gt;@Jimmy @Jonathan,  Thanks for your comments. I have fixed the usage info instead of changing the code. Any more comment?&lt;/p&gt;</comment>
                            <comment id="13427570" author="jmhsieh" created="Thu, 2 Aug 2012 20:13:25 +0000"  >&lt;p&gt;lgtm, committing.  Thanks Jie and Jimmy.&lt;/p&gt;</comment>
                            <comment id="13427652" author="hudson" created="Thu, 2 Aug 2012 21:50:49 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3193 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3193/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3193/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6460&quot; title=&quot;hbck &amp;quot;-repairHoles&amp;quot; usage inconsistent with &amp;quot;-fixHdfsOrphans&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6460&quot;&gt;&lt;del&gt;HBASE-6460&lt;/del&gt;&lt;/a&gt; hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot; (Jie Huang) (Revision 1368690)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13427658" author="hudson" created="Thu, 2 Aug 2012 21:57:58 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #380 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/380/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/380/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6460&quot; title=&quot;hbck &amp;quot;-repairHoles&amp;quot; usage inconsistent with &amp;quot;-fixHdfsOrphans&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6460&quot;&gt;&lt;del&gt;HBASE-6460&lt;/del&gt;&lt;/a&gt; hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot; (Jie Huang) (Revision 1368689)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13427745" author="hudson" created="Thu, 2 Aug 2012 23:51:46 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #119 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/119/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/119/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6460&quot; title=&quot;hbck &amp;quot;-repairHoles&amp;quot; usage inconsistent with &amp;quot;-fixHdfsOrphans&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6460&quot;&gt;&lt;del&gt;HBASE-6460&lt;/del&gt;&lt;/a&gt; hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot; (Jie Huang) (Revision 1368690)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13427766" author="hudson" created="Fri, 3 Aug 2012 00:21:31 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #484 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/484/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/484/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6460&quot; title=&quot;hbck &amp;quot;-repairHoles&amp;quot; usage inconsistent with &amp;quot;-fixHdfsOrphans&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6460&quot;&gt;&lt;del&gt;HBASE-6460&lt;/del&gt;&lt;/a&gt; hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot; (Jie Huang) (Revision 1368688)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428757" author="hudson" created="Sun, 5 Aug 2012 00:51:16 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #6 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6460&quot; title=&quot;hbck &amp;quot;-repairHoles&amp;quot; usage inconsistent with &amp;quot;-fixHdfsOrphans&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6460&quot;&gt;&lt;del&gt;HBASE-6460&lt;/del&gt;&lt;/a&gt; hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot; (Jie Huang) (Revision 1368689)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428761" author="hudson" created="Sun, 5 Aug 2012 00:58:51 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #47 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/47/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/47/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6460&quot; title=&quot;hbck &amp;quot;-repairHoles&amp;quot; usage inconsistent with &amp;quot;-fixHdfsOrphans&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6460&quot;&gt;&lt;del&gt;HBASE-6460&lt;/del&gt;&lt;/a&gt; hbck &quot;-repairHoles&quot; usage inconsistent with &quot;-fixHdfsOrphans&quot; (Jie Huang) (Revision 1368689)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13624650" author="stack" created="Sun, 7 Apr 2013 04:40:41 +0000"  >&lt;p&gt;Fix up after bulk move overwrote some 0.94.2 fix versions w/ 0.95.0 (Noticed by Lars Hofhansl)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538860" name="hbase-6460.patch" size="827" author="grace.huang" created="Thu, 2 Aug 2012 02:09:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jul 2012 16:46:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.96notable</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>