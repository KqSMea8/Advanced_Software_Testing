<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:20:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11095/HBASE-11095.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11095] Add ip restriction in user permissions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11095</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;For some sensitive data, users want to restrict the from ips of hbase users like mysql access control. &lt;/p&gt;

&lt;p&gt;One direct solution is to add the candidated ips when granting user permisions.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;grant &amp;lt;user|@group[@ip-regular expression]&amp;gt; [ &amp;lt;table&amp;gt; [ &amp;lt;column family&amp;gt; [ &amp;lt;column qualifier&amp;gt; ] ] ]&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Any comments and suggestions are welcomed.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12711128">HBASE-11095</key>
            <summary>Add ip restriction in user permissions</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="liushaohui">Liu Shaohui</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Apr 2014 09:18:56 +0000</created>
                <updated>Tue, 12 Apr 2016 22:51:18 +0000</updated>
                                                                            <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13984785" author="apurtell" created="Tue, 29 Apr 2014 21:03:22 +0000"  >&lt;p&gt;I&apos;ve thought about this some. We could build a service authorization engine supporting fine grained decisionmaking using attributes such as client IP address (surely the first of many), but consider:&lt;/p&gt;

&lt;p&gt;First, Hadoop already has a nascient service authorization framework, see &lt;a href=&quot;https://hadoop.apache.org/docs/r2.2.0/hadoop-project-dist/hadoop-common/ServiceLevelAuth.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hadoop.apache.org/docs/r2.2.0/hadoop-project-dist/hadoop-common/ServiceLevelAuth.html&lt;/a&gt; At least when our secure RPC was first committed we picked up support for service authorization for all of our RPC protocols from the Hadoop libraries. The current Hadoop code does not support IP filtering but it could.&lt;/p&gt;

&lt;p&gt;Second, even if we build our own fine grained service authorization, will Hadoop someday introduce the same facilities? There is &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9466&quot; title=&quot;Unified authorization framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9466&quot;&gt;HADOOP-9466&lt;/a&gt;. Incubating projects like Apache Sentry are also working toward this kind of capability. &lt;/p&gt;

&lt;p&gt;Third, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7123&quot; title=&quot;Refactor internal methods in AccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7123&quot;&gt;HBASE-7123&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7254&quot; title=&quot;Refactor AccessController ZK-mediated permissions cache into a generic mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7254&quot;&gt;&lt;del&gt;HBASE-7254&lt;/del&gt;&lt;/a&gt;. To the extent that technical debt should be paid down in the AccessController, we should factor that in. permissionGranted and the like are where you&apos;d start with today&apos;s code to implement restrictions by IP address. &lt;/p&gt;</comment>
                            <comment id="13984812" author="apurtell" created="Tue, 29 Apr 2014 21:20:36 +0000"  >&lt;p&gt;After considering the above if we would like to proceed, then I recommend a reboot of the authorization code in the AccessController instead of hacking in IP filtering. &lt;/p&gt;</comment>
                            <comment id="13988941" author="liushaohui" created="Sun, 4 May 2014 08:13:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
Thanks for your suggestions &lt;br/&gt;
Agree. We may left this issue here, and keep attention to the refactor of AccessController and  the notifications bus.&lt;/p&gt;</comment>
                            <comment id="13989068" author="apurtell" created="Sun, 4 May 2014 17:58:33 +0000"  >&lt;p&gt;I linked this issue to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7123&quot; title=&quot;Refactor internal methods in AccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7123&quot;&gt;HBASE-7123&lt;/a&gt;, please see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7123?focusedCommentId=13989067&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13989067&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-7123?focusedCommentId=13989067&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13989067&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15236838" author="javaman_chen" created="Tue, 12 Apr 2016 08:41:58 +0000"  >&lt;p&gt;I upload a patch that can be used as a transient implementation, the primary change is the key of the &lt;b&gt;PermissionCache&lt;/b&gt;, that changed from &lt;b&gt;user&lt;/b&gt; to &lt;b&gt;user@IP&lt;/b&gt;.&lt;br/&gt;
so the grant statement should execute like this:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;grant &apos;zhangsan@192.168.10.11&apos;,&apos;R&apos;,&apos;test&apos;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;means that the user zhangsan can only read the &apos;test&apos; table at 192.168.10.11&lt;/p&gt;</comment>
                            <comment id="15238162" author="apurtell" created="Tue, 12 Apr 2016 22:49:27 +0000"  >&lt;p&gt;What if we want to grant or revoke to/from a user without care about IP addresses? That&apos;s the current capability and the most common use.&lt;/p&gt;

&lt;p&gt;Are these changes backwards compatible? Do they depend on the map type allowing &apos;null&apos; keys?&lt;/p&gt;

&lt;p&gt;What about actions that are checked outside of request context? They won&apos;t have an RPC context to get an IP address from.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12615265">HBASE-7123</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12798220" name="HBASE-11095.patch" size="27694" author="javaman_chen" created="Tue, 12 Apr 2016 08:41:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Apr 2014 21:03:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>389449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1v2zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>389691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>