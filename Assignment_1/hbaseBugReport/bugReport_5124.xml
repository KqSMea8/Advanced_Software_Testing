<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:24:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5124/HBASE-5124.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5124] Backport LoadTestTool to 0.92</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5124</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;LoadTestTool is very useful.&lt;br/&gt;
This JIRA backports LoadTestTool to 0.92 so that users don&apos;t have to build TRUNK in order to use it against 0.92 cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12537223">HBASE-5124</key>
            <summary>Backport LoadTestTool to 0.92</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="zhihyu@ebaysf.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jan 2012 18:34:55 +0000</created>
                <updated>Fri, 20 Nov 2015 11:52:34 +0000</updated>
                            <resolved>Thu, 17 May 2012 22:27:58 +0000</resolved>
                                                    <fixVersion>0.92.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13179994" author="zhihyu@ebaysf.com" created="Wed, 4 Jan 2012 23:45:38 +0000"  >&lt;p&gt;The patch, v1&lt;/p&gt;</comment>
                            <comment id="13180637" author="jdcryans" created="Thu, 5 Jan 2012 18:03:56 +0000"  >&lt;p&gt;Since the original jira is far from being done, I think this should target 0.92.1.&lt;/p&gt;</comment>
                            <comment id="13180867" author="zhihyu@ebaysf.com" created="Thu, 5 Jan 2012 22:01:16 +0000"  >&lt;p&gt;Patch v2 adds new config parameter zk_port for specifying zookeeper client port.&lt;/p&gt;</comment>
                            <comment id="13180878" author="zhihyu@ebaysf.com" created="Thu, 5 Jan 2012 22:05:40 +0000"  >&lt;p&gt;@J-D:&lt;br/&gt;
Although &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4907&quot; title=&quot;Port 89-fb changes to trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4907&quot;&gt;&lt;del&gt;HBASE-4907&lt;/del&gt;&lt;/a&gt; hasn&apos;t been completed, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4908&quot; title=&quot;HBase cluster test tool (port from 0.89-fb)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4908&quot;&gt;&lt;del&gt;HBASE-4908&lt;/del&gt;&lt;/a&gt; is resolved.&lt;br/&gt;
So I think this backport may still go into 0.92.0, considering the changes to HBaseTestingUtility are just addition of a new method.&lt;br/&gt;
The possibility of this backport making 0.92 unstable is minimal.&lt;/p&gt;</comment>
                            <comment id="13180880" author="zhihyu@ebaysf.com" created="Thu, 5 Jan 2012 22:07:43 +0000"  >&lt;p&gt;I ran patch through 0.92 test suite:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests run: 1076, Failures: 0, Errors: 0, Skipped: 8

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:06:52.944s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13180890" author="jdcryans" created="Thu, 5 Jan 2012 22:16:24 +0000"  >&lt;p&gt;You are right I confused the two.&lt;/p&gt;

&lt;p&gt;I don&apos;t have an opinion on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4908&quot; title=&quot;HBase cluster test tool (port from 0.89-fb)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4908&quot;&gt;&lt;del&gt;HBASE-4908&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13180926" author="zhihyu@ebaysf.com" created="Thu, 5 Jan 2012 23:08:35 +0000"  >&lt;p&gt;Tried patch v2 on a 5 node cluster running latest 0.92 code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-zk 10.253.68.161 -zk_port 2181 -tn loadtool -num_keys 100 -write 3:120
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The result is fine:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-01-05 15:00:01,732 DEBUG [HBaseWriterThread_14] client.MetaScanner(188): Scanning .META. starting at row=loadtool,3333332a,00000000000000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; max=10 rows using org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@477a1767
2012-01-05 15:00:01,869 DEBUG [HBaseWriterThread_13] client.MetaScanner(188): Scanning .META. starting at row=loadtool,3851eb7b,00000000000000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; max=10 rows using org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@477a1767
Failed to write keys: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13181005" author="zhihyu@ebaysf.com" created="Fri, 6 Jan 2012 00:51:54 +0000"  >&lt;p&gt;Patch v3 adds support for specifying parent zk node (suggested by J-D).&lt;/p&gt;</comment>
                            <comment id="13181009" author="jdcryans" created="Fri, 6 Jan 2012 01:01:38 +0000"  >&lt;p&gt;The new code should be forward-ported, also the zk cluster key really should be using the format that ZKUtil.getZooKeeperClusterKey wants and it should be used else we&apos;ll have as many ways to point to a cluster as the number of tools we have.&lt;/p&gt;</comment>
                            <comment id="13234523" author="lhofhansl" created="Wed, 21 Mar 2012 17:13:55 +0000"  >&lt;p&gt;Moved to 0.94.1.&lt;/p&gt;</comment>
                            <comment id="13271823" author="devaraj" created="Wed, 9 May 2012 21:22:01 +0000"  >&lt;p&gt;I ran this test on a 0.92 cluster. I tried the command &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hbase org.apache.hadoop.hbase.util.LoadTestTool -write 50:100:20 -tn loadtest4 -read 100:10 -bloom ROWCOL -key_window 5 -max_read_errors 10000 -num_keys 10000000000 -start_key 0&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems to be running well (its running for a few minutes now). Can we have this patch in the next 0.92 release, please &lt;span class=&quot;error&quot;&gt;&amp;#91;no significant changes to the core code too&amp;#93;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="13277962" author="lhofhansl" created="Thu, 17 May 2012 16:49:21 +0000"  >&lt;p&gt;LoadTestTool is in 0.94 and 0.96. So just targeting this against 0.92.&lt;/p&gt;</comment>
                            <comment id="13278042" author="apurtell" created="Thu, 17 May 2012 18:12:43 +0000"  >&lt;p&gt;This should go in before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6021&quot; title=&quot;NullPointerException when running LoadTestTool without specifying compression type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6021&quot;&gt;&lt;del&gt;HBASE-6021&lt;/del&gt;&lt;/a&gt; is committed, then that trivial patch can be committed on all branches.&lt;/p&gt;</comment>
                            <comment id="13278127" author="apurtell" created="Thu, 17 May 2012 19:19:47 +0000"  >&lt;p&gt;I&apos;m going to commit this and then &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6021&quot; title=&quot;NullPointerException when running LoadTestTool without specifying compression type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6021&quot;&gt;&lt;del&gt;HBASE-6021&lt;/del&gt;&lt;/a&gt; shortly if there are no objections.&lt;/p&gt;</comment>
                            <comment id="13278133" author="lhofhansl" created="Thu, 17 May 2012 19:25:54 +0000"  >&lt;p&gt;no objections here&lt;/p&gt;</comment>
                            <comment id="13278141" author="stack" created="Thu, 17 May 2012 19:32:43 +0000"  >&lt;p&gt;I&apos;ll cut a 0.92.2 RC after this and the upgrade to 1.0.3 goes in.&lt;/p&gt;</comment>
                            <comment id="13278152" author="apurtell" created="Thu, 17 May 2012 19:41:51 +0000"  >&lt;p&gt;The v3 patch partially rejects because HBaseTestingUtility#createPreSplitLoadTestTable was added elsewhere. Looking into it, will commit if otherwise good.&lt;/p&gt;

&lt;p&gt;Edit: Never mind.&lt;/p&gt;</comment>
                            <comment id="13278161" author="apurtell" created="Thu, 17 May 2012 19:46:33 +0000"  >&lt;p&gt;Also bringing over tests missing from v3 patch.&lt;/p&gt;</comment>
                            <comment id="13278192" author="apurtell" created="Thu, 17 May 2012 20:03:35 +0000"  >&lt;p&gt;v4 patch also ports over tests, does not include &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6021&quot; title=&quot;NullPointerException when running LoadTestTool without specifying compression type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6021&quot;&gt;&lt;del&gt;HBASE-6021&lt;/del&gt;&lt;/a&gt; fixes, I&apos;ll commit those over this after commit. Running tests now.&lt;/p&gt;</comment>
                            <comment id="13278203" author="apurtell" created="Thu, 17 May 2012 20:11:08 +0000"  >&lt;p&gt;Getting test failures, looking into it.&lt;/p&gt;</comment>
                            <comment id="13278217" author="apurtell" created="Thu, 17 May 2012 20:23:26 +0000"  >&lt;p&gt;v5 patch passes all new tests locally, removes superfluous unit test (no block encoding options in 0.92).&lt;/p&gt;

&lt;p&gt;Please ack for commit.&lt;/p&gt;</comment>
                            <comment id="13278236" author="zhihyu@ebaysf.com" created="Thu, 17 May 2012 20:41:47 +0000"  >&lt;p&gt;Patch v5 looks good (I didn&apos;t run test suite).&lt;/p&gt;</comment>
                            <comment id="13278350" author="apurtell" created="Thu, 17 May 2012 22:27:59 +0000"  >&lt;p&gt;Committed v5. TestMiniClusterLoadParallel passed 100 times locally.&lt;/p&gt;</comment>
                            <comment id="13278486" author="hudson" created="Fri, 18 May 2012 01:38:14 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #410 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/410/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/410/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5124&quot; title=&quot;Backport LoadTestTool to 0.92&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5124&quot;&gt;&lt;del&gt;HBASE-5124&lt;/del&gt;&lt;/a&gt;. Backport LoadTestTool to 0.92 (Revision 1339890)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/LoadTestKVGenerator.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedAction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestLoadTestKVGenerator.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestMiniClusterLoadParallel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestMiniClusterLoadSequential.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13278521" author="hudson" created="Fri, 18 May 2012 02:34:22 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #107 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/107/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5124&quot; title=&quot;Backport LoadTestTool to 0.92&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5124&quot;&gt;&lt;del&gt;HBASE-5124&lt;/del&gt;&lt;/a&gt;. Backport LoadTestTool to 0.92 (Revision 1339890)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/AbstractHBaseTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/Threads.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/LoadTestKVGenerator.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedAction.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedReader.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedWriter.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestLoadTestKVGenerator.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestMiniClusterLoadParallel.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestMiniClusterLoadSequential.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015778" author="lars_francke" created="Fri, 20 Nov 2015 11:52:34 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12556104">HBASE-6021</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12527903" name="5124-v4.patch" size="68122" author="apurtell" created="Thu, 17 May 2012 20:09:33 +0000"/>
                            <attachment id="12527909" name="5124-v5.patch" size="66351" author="apurtell" created="Thu, 17 May 2012 20:23:26 +0000"/>
                            <attachment id="12509639" name="hbase-5124-v3.txt" size="55771" author="zhihyu@ebaysf.com" created="Fri, 6 Jan 2012 00:51:54 +0000"/>
                            <attachment id="12509609" name="hbase-5124.txt" size="55488" author="zhihyu@ebaysf.com" created="Thu, 5 Jan 2012 22:01:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Jan 2012 18:03:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>222732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hst3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>LoadTestTool is a single-process multi-threaded load generator and verifier designed to be invoked as a load test in a dev cluster, e.g.: hbase org.apache.hadoop.hbase.util.LoadTestTool -start_key 0 -num_keys 1000000000000 -bloom ROWCOL -compression NONE -write 10:100:100 -read 100:20 -tn loadtest1. Invoke without options for usage.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>