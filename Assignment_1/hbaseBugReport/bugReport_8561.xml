<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:56:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8561/HBASE-8561.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8561] [replication] Don&apos;t instantiate a ReplicationSource if the passed implementation isn&apos;t found</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8561</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I was debugging a case where the region servers were dying with:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ABORTING region server someserver.com,60020,1368123702806: Writing replication status 
org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /hbase/replication/rs/someserver.com,60020,1368123702806/etcetcetc/somserver.com%2C60020%2C1368123702740.1368123705091 
at org.apache.zookeeper.KeeperException.create(KeeperException.java:111) 
at org.apache.zookeeper.KeeperException.create(KeeperException.java:51) 
at org.apache.zookeeper.ZooKeeper.setData(ZooKeeper.java:1266) 
at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.setData(RecoverableZooKeeper.java:354) 
at org.apache.hadoop.hbase.zookeeper.ZKUtil.setData(ZKUtil.java:846) 
at org.apache.hadoop.hbase.zookeeper.ZKUtil.setData(ZKUtil.java:898) 
at org.apache.hadoop.hbase.zookeeper.ZKUtil.setData(ZKUtil.java:892) 
at org.apache.hadoop.hbase.replication.ReplicationZookeeper.writeReplicationStatus(ReplicationZookeeper.java:558) 
at org.apache.hadoop.hbase.replication.regionserver.ReplicationSourceManager.logPositionAndCleanOldLogs(ReplicationSourceManager.java:154) 
at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.shipEdits(ReplicationSource.java:638) 
at org.apache.hadoop.hbase.replication.regionserver.ReplicationSource.run(ReplicationSource.java:387)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Turns out the problem really was:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2013-05-09 11:21:45,625 WARN org.apache.hadoop.hbase.replication.regionserver.ReplicationSourceManager: Passed replication source implementation throws errors, defaulting to ReplicationSource
java.lang.ClassNotFoundException: Some.Other.ReplicationSource.Implementation
	at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:186)
	at org.apache.hadoop.hbase.replication.regionserver.ReplicationSourceManager.getReplicationSource(ReplicationSourceManager.java:324)
	at org.apache.hadoop.hbase.replication.regionserver.ReplicationSourceManager.addSource(ReplicationSourceManager.java:202)
	at org.apache.hadoop.hbase.replication.regionserver.ReplicationSourceManager.init(ReplicationSourceManager.java:174)
	at org.apache.hadoop.hbase.replication.regionserver.Replication.startReplicationService(Replication.java:171)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.startServiceThreads(HRegionServer.java:1583)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.handleReportForDutyResponse(HRegionServer.java:1042)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:698)
	at java.lang.Thread.run(Thread.java:722)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I think instantiating a ReplicationSource here is wrong and makes it harder to debug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648023">HBASE-8561</key>
            <summary>[replication] Don&apos;t instantiate a ReplicationSource if the passed implementation isn&apos;t found</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 May 2013 18:51:33 +0000</created>
                <updated>Wed, 27 Nov 2013 23:25:19 +0000</updated>
                                            <version>0.94.6.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13660377" author="lhofhansl" created="Fri, 17 May 2013 06:08:46 +0000"  >&lt;p&gt;Seems safe to do this in 0.94.9.&lt;/p&gt;</comment>
                            <comment id="13690792" author="lhofhansl" created="Fri, 21 Jun 2013 22:07:02 +0000"  >&lt;p&gt;No patch. Removing from 0.94.&lt;/p&gt;</comment>
                            <comment id="13706833" author="sunitha muralidharan" created="Fri, 12 Jul 2013 10:11:43 +0000"  >&lt;p&gt;shall we remove the line&lt;br/&gt;
src = new ReplicationSource();&lt;br/&gt;
and add proper null checks wherever required&lt;/p&gt;</comment>
                            <comment id="13728227" author="jdcryans" created="Fri, 2 Aug 2013 22:58:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunitha+muralidharan&quot; class=&quot;user-hover&quot; rel=&quot;sunitha muralidharan&quot;&gt;Sunitha Muralidharan&lt;/a&gt; yes that sounds good.&lt;/p&gt;</comment>
                            <comment id="13728465" author="gabriel.reid" created="Sat, 3 Aug 2013 06:30:18 +0000"  >&lt;p&gt;Wouldn&apos;t it be easier to just throw an exception up the stack and then (I assume) abort the regionserver? That way it&apos;ll be immediately clear if there is an issue, as well as removing the need to do null checking everywhere in the replication code.&lt;/p&gt;</comment>
                            <comment id="13753712" author="stack" created="Thu, 29 Aug 2013 15:18:56 +0000"  >&lt;p&gt;Not being worked on.  Moving out.&lt;/p&gt;</comment>
                            <comment id="13834330" author="apurtell" created="Wed, 27 Nov 2013 23:25:19 +0000"  >&lt;p&gt;No patch, moving out of 0.98&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 May 2013 06:08:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kno7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>