<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:12:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3695/HBASE-3695.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3695] Some improvements to Hbck to test the entire region chain in Meta and provide better error reporting</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3695</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The current Hbck tool will miss some inconsistencies in Meta, and in other cases will detect an issue, but does not provide much in the way of useful feedback.  &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Incorporate the full region chain tests (similar to check_meta.rb). I.e. look for overlaps, holes and cycles. I believe check_meta.rb will be redundant after this change.&lt;/li&gt;
	&lt;li&gt;More unit tests, and better tests that will test the actual error discovered, instead of just errors true/false.&lt;/li&gt;
	&lt;li&gt;In the case of overlaps and holes, output both ends of the broken chain.&lt;/li&gt;
	&lt;li&gt;Previous implementation runs check() twice.  This is inefficient and, more importantly, reports redundant errors which could be confusing to the user.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12502234">HBASE-3695</key>
            <summary>Some improvements to Hbck to test the entire region chain in Meta and provide better error reporting</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mlimotte">Marc Limotte</assignee>
                                    <reporter username="mlimotte">Marc Limotte</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Mar 2011 22:31:51 +0000</created>
                <updated>Fri, 20 Nov 2015 12:42:01 +0000</updated>
                            <resolved>Wed, 4 May 2011 19:29:09 +0000</resolved>
                                    <version>0.90.1</version>
                                    <fixVersion>0.90.3</fixVersion>
                                    <component>util</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13011105" author="stack" created="Fri, 25 Mar 2011 05:03:14 +0000"  >&lt;p&gt;@Marc Should I resolve &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3602&quot; title=&quot;[hbck] Print out better info if detects overlapping regions in .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3602&quot;&gt;&lt;del&gt;HBASE-3602&lt;/del&gt;&lt;/a&gt;) &lt;span class=&quot;error&quot;&gt;&amp;#91;hbck&amp;#93;&lt;/span&gt; Print out better info if detects overlapping regions in .META.&apos; as dup of this?  Thanks boss.&lt;/p&gt;</comment>
                            <comment id="13011262" author="mlimotte" created="Fri, 25 Mar 2011 16:29:11 +0000"  >&lt;p&gt;@Stack Yea. That one is a dupe.  It was earlier, but it is only a subset of what&apos;s here.&lt;/p&gt;

&lt;p&gt;Separately, I think there should be a distinct JIRA to cover the merge tool issue (it doesn&apos;t work with the low, overlapping sequence numbers generated by the bulk load tool). &lt;/p&gt;

&lt;p&gt;Also (possibly another JIRA), I wonder if the ability to manually create a region should be exposed (through the shell or other tool).  We had to do this a couple of times to resolve the issues that had come up; but, on the other hand, if the merge tool worked in those scenarios, maybe this wouldn&apos;t have been necessary.&lt;/p&gt;</comment>
                            <comment id="13011385" author="stack" created="Fri, 25 Mar 2011 19:36:39 +0000"  >&lt;p&gt;Resolved the dupe.  There is already an online merge too.  And yes, need to make it so region hacking in .META. is a bit easier, perhaps some facility in shell (Saw someone trying to do &quot;put &apos;.META.&apos;, &apos;STRING_VERSION_OF_HREGIONINFO&apos;, etc&quot; which plain won&apos;t work, but, if you think a second, should work).&lt;/p&gt;</comment>
                            <comment id="13028907" author="stack" created="Wed, 4 May 2011 19:29:09 +0000"  >&lt;p&gt;Applied to trunk and branch after trying it up on cluster to make sure its not &apos;broke&apos;.  Thanks for the patch Marc.&lt;/p&gt;</comment>
                            <comment id="13030208" author="hudson" created="Sat, 7 May 2011 00:08:29 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1909 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/HBase-TRUNK/1909/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/HBase-TRUNK/1909/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13059082" author="wav100" created="Sat, 2 Jul 2011 16:28:16 +0000"  >&lt;p&gt;It would be very useful to have the -fix flag actually be able to resolve most issues. Once the region keys get messed up it is very hard to manually fix these issues. This tool should be able to find and fix the major problems that can occur. These issues include no region with an empty start key, no region with an empty end key, a hole in the region chain, overlapping regions, regions with the same start key, etc. etc.&lt;/p&gt;

&lt;p&gt;If this tool can find the issues it should be able to fix them as well.&lt;/p&gt;</comment>
                            <comment id="15017136" author="lars_francke" created="Fri, 20 Nov 2015 12:42:01 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Mar 2011 05:03:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hnf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hbck meta</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>