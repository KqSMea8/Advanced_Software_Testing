<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:05:32 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9556/HBASE-9556.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9556] Provide key range support to bulkload to avoid too many reducers even the data belongs to few regions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9556</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Presently the number of reducers in bulk load are equal to number of regions.&lt;br/&gt;
Lets suppose a table has 500 regions and import data only belongs 10 regions, still we are starting 500(equal to no. of regions) reducers instead of 10. Which will consume more time and resources. &lt;/p&gt;

&lt;p&gt;If user knows the row key range of import data, then we can pass startkey and/or endkey as input and based on the key range we can define the partitions and number of reducers(regions to which the data belongs). This helps to avoid too many reducers to start and do nothing and also avoids contention in shuffling.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12668939">HBASE-9556</key>
            <summary>Provide key range support to bulkload to avoid too many reducers even the data belongs to few regions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rajesh23">rajeshbabu</assignee>
                                    <reporter username="rajesh23">rajeshbabu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Sep 2013 04:52:36 +0000</created>
                <updated>Sat, 5 Mar 2016 17:45:47 +0000</updated>
                                                                            <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13769637" author="ndimiduk" created="Tue, 17 Sep 2013 16:12:10 +0000"  >&lt;p&gt;Better still, what if we didn&apos;t need the user to provide this information; have the job launcher inspect the ranges and configure the job accordingly.&lt;/p&gt;</comment>
                            <comment id="13769676" author="rajesh23" created="Tue, 17 Sep 2013 16:55:29 +0000"  >&lt;p&gt;Yes Nick, while configuring job setting the regions count as number of reducers and regions start keys as partition points. If user known the range beforehand then we can identify the proper split points within the range and reduce number of reducers.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    List&amp;lt;ImmutableBytesWritable&amp;gt; startKeys = getRegionStartKeys(table);
    LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Configuring &quot;&lt;/span&gt; + startKeys.size() + &lt;span class=&quot;code-quote&quot;&gt;&quot; reduce partitions &quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;to match current region count&quot;&lt;/span&gt;);
    job.setNumReduceTasks(startKeys.size());

    configurePartitioner(job, startKeys);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13770943" author="ndimiduk" created="Wed, 18 Sep 2013 16:41:09 +0000"  >&lt;p&gt;I like it.&lt;/p&gt;</comment>
                            <comment id="14006999" author="anoop.hbase" created="Fri, 23 May 2014 09:21:09 +0000"  >&lt;p&gt;Related issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4063&quot; title=&quot;Improve TableInputFormat to allow application to configure the number of mappers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4063&quot;&gt;HBASE-4063&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15181788" author="beeshma" created="Sat, 5 Mar 2016 17:45:47 +0000"  >&lt;p&gt;How about  below logic to find start keys of regions?&lt;/p&gt;

&lt;p&gt;HTable ht=new HTable(con,&quot;test&quot;); // Table object&lt;br/&gt;
NavigableMap&amp;lt;HRegionInfo,ServerName&amp;gt; np=ht.getRegionLocations();			&lt;br/&gt;
Set&amp;lt;HRegionInfo&amp;gt; setinfo=np.keySet();&lt;br/&gt;
List&amp;lt;HRegionInfo&amp;gt; lis=new ArrayList&amp;lt;HRegionInfo&amp;gt;();&lt;br/&gt;
lis.addAll(setinfo);&lt;br/&gt;
for(org.apache.hadoop.hbase.HRegionInfo h :lis)&lt;/p&gt;
    		{
    			System.out.println(h.getRegionId() + &quot;getRegionId&quot;);
    			
    			String s = new String(h.getStartKey());

			System.out.println(s.toString()+&quot;-------start key&quot;);
		}

&lt;p&gt;Please suggest if anything wrong in this&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Sep 2013 16:12:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1o5mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>349169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>