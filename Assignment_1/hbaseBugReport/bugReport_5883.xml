<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5883/HBASE-5883.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5883] Backup master is going down due to connection refused exception</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5883</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The active master node network was down for some time (This node contains Master,DN,ZK,RS). Here backup node got &lt;br/&gt;
notification, and started to became active. Immedietly backup node got aborted with the below exception.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-04-09 10:42:24,270 INFO org.apache.hadoop.hbase.master.SplitLogManager: finished splitting (more than or equal to) 861248320 bytes in 4 log files in [hdfs://192.168.47.205:9000/hbase/.logs/HOST-192-168-47-202,60020,1333715537172-splitting] in 26374ms
2012-04-09 10:42:24,316 FATAL org.apache.hadoop.hbase.master.HMaster: Master server abort: loaded coprocessors are: []
2012-04-09 10:42:24,333 FATAL org.apache.hadoop.hbase.master.HMaster: Unhandled exception. Starting shutdown.
java.io.IOException: java.net.ConnectException: Connection refused
	at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.setupIOstreams(HBaseClient.java:375)
	at org.apache.hadoop.hbase.ipc.HBaseClient.getConnection(HBaseClient.java:1045)
	at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:897)
	at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Invoker.invoke(WritableRpcEngine.java:150)
	at $Proxy13.getProtocolVersion(Unknown Source)
	at org.apache.hadoop.hbase.ipc.WritableRpcEngine.getProxy(WritableRpcEngine.java:183)
	at org.apache.hadoop.hbase.ipc.HBaseRPC.getProxy(HBaseRPC.java:303)
	at org.apache.hadoop.hbase.ipc.HBaseRPC.getProxy(HBaseRPC.java:280)
	at org.apache.hadoop.hbase.ipc.HBaseRPC.getProxy(HBaseRPC.java:332)
	at org.apache.hadoop.hbase.ipc.HBaseRPC.waitForProxy(HBaseRPC.java:236)
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getHRegionConnection(HConnectionManager.java:1276)
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getHRegionConnection(HConnectionManager.java:1233)
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getHRegionConnection(HConnectionManager.java:1220)
	at org.apache.hadoop.hbase.catalog.CatalogTracker.getCachedConnection(CatalogTracker.java:569)
	at org.apache.hadoop.hbase.catalog.CatalogTracker.getRootServerConnection(CatalogTracker.java:369)
	at org.apache.hadoop.hbase.catalog.CatalogTracker.waitForRootServerConnection(CatalogTracker.java:353)
	at org.apache.hadoop.hbase.catalog.CatalogTracker.verifyRootRegionLocation(CatalogTracker.java:660)
	at org.apache.hadoop.hbase.master.HMaster.assignRootAndMeta(HMaster.java:616)
	at org.apache.hadoop.hbase.master.HMaster.finishInitialization(HMaster.java:540)
	at org.apache.hadoop.hbase.master.HMaster.run(HMaster.java:363)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:567)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:488)
	at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.setupConnection(HBaseClient.java:328)
	at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.setupIOstreams(HBaseClient.java:362)
	... 20 more
2012-04-09 10:42:24,336 INFO org.apache.hadoop.hbase.master.HMaster: Aborting
2012-04-09 10:42:24,336 DEBUG org.apache.hadoop.hbase.master.HMaster: Stopping service threads
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12552830">HBASE-5883</key>
            <summary>Backup master is going down due to connection refused exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeason">Jieshan Bean</assignee>
                                    <reporter username="gopinathan.av">Gopinathan A</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Apr 2012 10:34:35 +0000</created>
                <updated>Tue, 26 Feb 2013 16:56:32 +0000</updated>
                            <resolved>Tue, 17 Jul 2012 21:35:43 +0000</resolved>
                                    <version>0.90.6</version>
                    <version>0.92.1</version>
                    <version>0.94.0</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13262515" author="jeason" created="Thu, 26 Apr 2012 10:42:05 +0000"  >&lt;p&gt;From the below log:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-04-09 10:42:24,333 FATAL org.apache.hadoop.hbase.master.HMaster: Unhandled exception. Starting shutdown.
java.io.IOException: java.net.ConnectException: Connection refused
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can deduce ConnectException was packaged as a IOException, likes below:&lt;/p&gt;

&lt;p&gt;new IOException(new ConnecException(&quot;Connection refused&quot;));&lt;/p&gt;

&lt;p&gt;or something likes:&lt;br/&gt;
new IOException(connectException.toString());&lt;/p&gt;

&lt;p&gt;If so, this exception is not handled from the code.&lt;/p&gt;</comment>
                            <comment id="13264903" author="jeason" created="Mon, 30 Apr 2012 12:43:10 +0000"  >&lt;p&gt;Patch for 94. All tests passed. We are still testing it in real cluster. &lt;br/&gt;
Your comments before I post the results is welcome. &lt;br/&gt;
Thank you.&lt;/p&gt;</comment>
                            <comment id="13264979" author="zhihyu@ebaysf.com" created="Mon, 30 Apr 2012 15:34:32 +0000"  >&lt;p&gt;Why do we need the following code ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ioex.getMessage().toLowerCase()
+            .contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;connection refused&quot;&lt;/span&gt;)) {
+          ce = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConnectException(ioex.getMessage());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13266321" author="jeason" created="Wed, 2 May 2012 03:42:41 +0000"  >&lt;p&gt;Just in case of the exception likes:&lt;br/&gt;
new IOException(connectionException.toString())&lt;/p&gt;
</comment>
                            <comment id="13266323" author="zhihyu@ebaysf.com" created="Wed, 2 May 2012 03:49:07 +0000"  >&lt;p&gt;@Jieshan:&lt;br/&gt;
Do you want to attach patch for trunk so that Hadoop QA can run tests ?&lt;/p&gt;</comment>
                            <comment id="13266324" author="jeason" created="Wed, 2 May 2012 03:53:38 +0000"  >&lt;p&gt;I have asked our tester to test this patch in real cluster. It can be finished today, then I will attach the patch for trunk&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13266325" author="jeason" created="Wed, 2 May 2012 03:53:58 +0000"  >&lt;p&gt;Is that ok?&lt;/p&gt;</comment>
                            <comment id="13266329" author="lhofhansl" created="Wed, 2 May 2012 04:13:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;Just in case of the exception likes: new IOException(connectionException.toString())&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If we have code like that, I would consider that a bug.&lt;/p&gt;</comment>
                            <comment id="13266332" author="jeason" created="Wed, 2 May 2012 04:24:39 +0000"  >&lt;p&gt;I didn&apos;t find the code like that in HBase, and I can&apos;t figure out where this exception come from. &lt;br/&gt;
That&apos;s just one possibility based on my analysis.&lt;/p&gt;</comment>
                            <comment id="13266335" author="zhihyu@ebaysf.com" created="Wed, 2 May 2012 04:31:37 +0000"  >&lt;p&gt;A brief search in 0.94 branch revealed the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(ite.toString(), ite);
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(t.toString(), t);
src/main/java/org/apache/hadoop/hbase/client/coprocessor/Batch.java
        IOException ioe = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(target.toString());
        IOException ioe = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(e.toString());
src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java
      IOException ioe = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(target.toString());
      IOException ioe = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(e.toString());
src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;@Jieshan:&lt;br/&gt;
Testing in real cluster is needed. Take your time.&lt;/p&gt;</comment>
                            <comment id="13266471" author="jeason" created="Wed, 2 May 2012 10:12:46 +0000"  >&lt;p&gt;Patch for trunk. We have tested it in real cluster.&lt;/p&gt;</comment>
                            <comment id="13266583" author="hadoopqa" created="Wed, 2 May 2012 14:17:21 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525272/HBASE-5883-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525272/HBASE-5883-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1721//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1721//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1721//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1721//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1721//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1721//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13267144" author="zhihyu@ebaysf.com" created="Thu, 3 May 2012 03:43:17 +0000"  >&lt;p&gt;Will integrate the patch to trunk and 0.94 branch tomorrow @ 10 AM PST if there is no objection.&lt;/p&gt;</comment>
                            <comment id="13267376" author="jeason" created="Thu, 3 May 2012 11:58:36 +0000"  >&lt;p&gt;Patches for all the branches. All test cases passed.&lt;/p&gt;</comment>
                            <comment id="13267560" author="zhihyu@ebaysf.com" created="Thu, 3 May 2012 16:30:35 +0000"  >&lt;p&gt;Integrated to 0.94 and trunk.&lt;/p&gt;</comment>
                            <comment id="13267574" author="zhihyu@ebaysf.com" created="Thu, 3 May 2012 16:49:47 +0000"  >&lt;p&gt;Integrated to 0.92 and 0.90 as well.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Jieshan.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Lars.&lt;/p&gt;</comment>
                            <comment id="13267624" author="hudson" created="Thu, 3 May 2012 17:43:13 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2843 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2843/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2843/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883&quot; title=&quot;Backup master is going down due to connection refused exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5883&quot;&gt;&lt;del&gt;HBASE-5883&lt;/del&gt;&lt;/a&gt; Backup master is going down due to connection refused exception (Jieshan) (Revision 1333530)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13267633" author="hudson" created="Thu, 3 May 2012 17:54:55 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #175 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/175/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/175/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883&quot; title=&quot;Backup master is going down due to connection refused exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5883&quot;&gt;&lt;del&gt;HBASE-5883&lt;/del&gt;&lt;/a&gt; Backup master is going down due to connection refused exception (Jieshan) (Revision 1333533)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13267714" author="hudson" created="Thu, 3 May 2012 19:20:53 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #396 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/396/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/396/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883&quot; title=&quot;Backup master is going down due to connection refused exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5883&quot;&gt;&lt;del&gt;HBASE-5883&lt;/del&gt;&lt;/a&gt;  Backup master is going down due to connection refused exception (Jieshan) (Revision 1333537)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13267743" author="stack" created="Thu, 3 May 2012 19:50:02 +0000"  >&lt;p&gt;Can&apos;t we at least check the message to ensure its what we expect?  (See the second catch below where we look for &quot;connection reset&quot;).  Can we be sure what comes up here is the ConnectException we set down in HBaseRPC?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ioe &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ConnectException) {
+        &lt;span class=&quot;code-comment&quot;&gt;// Catch. Connect refused.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This redoing of an exception seems problematic.  Its really necessary?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ioex.getMessage().toLowerCase()
+            .contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;connection refused&quot;&lt;/span&gt;)) {
+          ce = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConnectException(ioex.getMessage());
+          ioe = ce;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;d feel better about this fix if we could figure where the exception came from (Its not from the rpc stringifying of exceptions to pass them from server to client?&lt;/p&gt;</comment>
                            <comment id="13267785" author="zhihyu@ebaysf.com" created="Thu, 3 May 2012 20:40:20 +0000"  >&lt;p&gt;As I mentioned here: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883?focusedCommentId=13266335&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13266335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5883?focusedCommentId=13266335&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13266335&lt;/a&gt;&lt;br/&gt;
there&apos;re places where the original exception is hidden. e.g. In WritableRpcEngine.call():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        IOException ioe = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(e.toString());
        ioe.setStackTrace(e.getStackTrace());
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ioe;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above makes identifying the source of connection refused exception difficult.&lt;/p&gt;

&lt;p&gt;Similar technique is used in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5877&quot; title=&quot;When a query fails because the region has moved, let the regionserver return the new address to the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5877&quot;&gt;&lt;del&gt;HBASE-5877&lt;/del&gt;&lt;/a&gt; as well:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;2) hadoop.ipc serialization of exception is based on the #getMessage. So we have to parse it internally.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13267869" author="stack" created="Thu, 3 May 2012 22:08:53 +0000"  >&lt;p&gt;Your argument is that it is ok to compound a flaw because we have the flaw elsewhere?&lt;/p&gt;

&lt;p&gt;hbase-5877 is something else altogether, it is message passing in an exception messsage because dumb rpc gives no other option &amp;#8211; it is for sure not recast of thrown exceptions&lt;/p&gt;</comment>
                            <comment id="13268117" author="gopinathan.av" created="Fri, 4 May 2012 04:29:34 +0000"  >&lt;p&gt;Sorry for the confusion..&lt;/p&gt;

&lt;p&gt;When i was testing this scenario, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5673&quot; title=&quot;The OOM problem of IPC client call  cause all handle block&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5673&quot;&gt;HBASE-5673&lt;/a&gt; patch was exist in my cluster. It caused me the above issue. &lt;/p&gt;</comment>
                            <comment id="13268133" author="zhihyu@ebaysf.com" created="Fri, 4 May 2012 05:15:38 +0000"  >&lt;p&gt;The scenario described in this JIRA may not be limited to the existence of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5673&quot; title=&quot;The OOM problem of IPC client call  cause all handle block&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5673&quot;&gt;HBASE-5673&lt;/a&gt; patch.&lt;/p&gt;

&lt;p&gt;I think an addendum removing the &#8220;.contains(&quot;connection refused&quot;))&#8221; is needed.&lt;/p&gt;</comment>
                            <comment id="13268139" author="jeason" created="Fri, 4 May 2012 05:30:14 +0000"  >&lt;p&gt;I agree with adding an addendum patch. I think we should unify the behavior to handle the exceptions(I remember we found so many issues regarding on the exception conversion. Everyone fixes it with his own version).&lt;/p&gt;

&lt;p&gt;In the method of HBaseClient#setupConnection, we catches 2 types of exceptions: SocketTimeoutException &amp;amp; IOException.&lt;br/&gt;
Before this patch, we also catches 2 types of exceptions but they were SocketTimeoutException &amp;amp; ConnectionException.&lt;br/&gt;
I think the previous catching is better.&lt;/p&gt;

&lt;p&gt;I will prepare the addendum patch today if no objection.&lt;/p&gt;

&lt;p&gt;Thank you all.&lt;/p&gt;
</comment>
                            <comment id="13268156" author="hudson" created="Fri, 4 May 2012 06:04:22 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #191 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/191/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/191/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883&quot; title=&quot;Backup master is going down due to connection refused exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5883&quot;&gt;&lt;del&gt;HBASE-5883&lt;/del&gt;&lt;/a&gt; Backup master is going down due to connection refused exception (Jieshan) (Revision 1333530)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13268243" author="hadoopqa" created="Fri, 4 May 2012 10:27:11 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525583/HBASE-5883-trunk-addendum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525583/HBASE-5883-trunk-addendum.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1762//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1762//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1762//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1762//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1762//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1762//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268246" author="jeason" created="Fri, 4 May 2012 10:29:54 +0000"  >&lt;p&gt;Addendum patches for all branches.&lt;/p&gt;</comment>
                            <comment id="13268259" author="hadoopqa" created="Fri, 4 May 2012 11:16:52 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525595/HBASE-5883-94-addendum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525595/HBASE-5883-94-addendum.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestFromClientSide&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1763//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1763//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1763//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1763//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1763//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1763//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268369" author="zhihyu@ebaysf.com" created="Fri, 4 May 2012 13:54:32 +0000"  >&lt;p&gt;+1 on addendum&lt;/p&gt;</comment>
                            <comment id="13268452" author="stack" created="Fri, 4 May 2012 15:32:48 +0000"  >&lt;p&gt;Should we remove this too?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ioex.getCause() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
+            &amp;amp;&amp;amp; ioex.getCause() &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ConnectException) {
+          ce = (ConnectException) ioex.getCause();
+          ioe = ce;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the above happens, we&apos;ll get a stack trace that will be missing the last few stacks; i.e. the difference between here where its handled and wherever ConnectionException was originally thrown.  It could be confuse debugging later?&lt;/p&gt;

&lt;p&gt;Also, should we pass the ioe into handleConnectionException?  I&apos;d think we&apos;d do this for the case that ce is null (could that happen)?&lt;/p&gt;

&lt;p&gt;Good stuff.&lt;/p&gt;</comment>
                            <comment id="13268839" author="hudson" created="Sat, 5 May 2012 00:58:52 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #26 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/26/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/26/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883&quot; title=&quot;Backup master is going down due to connection refused exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5883&quot;&gt;&lt;del&gt;HBASE-5883&lt;/del&gt;&lt;/a&gt; Backup master is going down due to connection refused exception (Jieshan) (Revision 1333533)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13268871" author="hudson" created="Sat, 5 May 2012 02:28:21 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #106 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/106/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/106/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5883&quot; title=&quot;Backup master is going down due to connection refused exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5883&quot;&gt;&lt;del&gt;HBASE-5883&lt;/del&gt;&lt;/a&gt;  Backup master is going down due to connection refused exception (Jieshan) (Revision 1333537)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13269349" author="jeason" created="Mon, 7 May 2012 04:03:07 +0000"  >&lt;p&gt;Thank you, stack. It makes sense to me.&lt;br/&gt;
Anyway, ConnectionException should not be wrapped into IOE. And we should pass ioe into handleConnectionException.&lt;br/&gt;
I just thought we should handle all kinds of ConenctionExceptions(Either directly ConnectionException or wrapped ConnectionException).&lt;br/&gt;
I will update the addendum patches today. &lt;/p&gt;

&lt;p&gt;Thank you for your review, Ted &amp;amp; Stack.&lt;/p&gt;</comment>
                            <comment id="13269352" author="jeason" created="Mon, 7 May 2012 04:12:04 +0000"  >&lt;p&gt;@Ted,&lt;br/&gt;
What&apos;s your opinion on this? Thank you&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13269357" author="zhihyu@ebaysf.com" created="Mon, 7 May 2012 04:20:58 +0000"  >&lt;p&gt;handleConnectionException() is called under the condition of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ce != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+          handleConnectionException(++reconnectAttempts, maxAttempts, protocol,
+              addr, ce);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If ioe is passed, would the above condition change ?&lt;/p&gt;</comment>
                            <comment id="13269359" author="jeason" created="Mon, 7 May 2012 04:25:58 +0000"  >&lt;p&gt;Yes. It should be changed.&lt;/p&gt;</comment>
                            <comment id="13269364" author="jeason" created="Mon, 7 May 2012 04:47:17 +0000"  >&lt;p&gt;After careful consideration, I think we should just handle the ConnectionException. Otherwise, just throw it(This is the similar logic before this re-writing).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   } catch (IOException ioex) {
        // We only handle the ConnectException.
        ConnectException ce = null;
        if (ioex instanceof ConnectException) {
          ce = (ConnectException) ioex;
          ioe = ce;
        } else {
          // This is the exception we can&apos;t handle.
          throw ioex;
        }
        if (ce != null) {
          handleConnectionException(++reconnectAttempts, maxAttempts, protocol,
              addr, ce);
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13269367" author="jeason" created="Mon, 7 May 2012 04:55:26 +0000"  >&lt;p&gt;Sorry, it should be:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  } catch (IOException ioex) {
        // We only handle the ConnectException.
        ConnectException ce = null;
        if (ioex instanceof ConnectException) {
          ce = (ConnectException) ioex;
          ioe = ce;
        } else {
          // This is the exception we can&apos;t handle.
          throw ioex;
        }
        handleConnectionException(++reconnectAttempts, maxAttempts, protocol,
            addr, ce);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Please share your comment, Thank you.&lt;/p&gt;</comment>
                            <comment id="13269583" author="hadoopqa" created="Mon, 7 May 2012 12:57:10 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525833/trunk-addendum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525833/trunk-addendum.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestDrainingServer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1785//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1785//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1785//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1785//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1785//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1785//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13269664" author="hadoopqa" created="Mon, 7 May 2012 14:41:20 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525851/94-addendum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525851/94-addendum.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1786//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1786//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1786//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1786//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1786//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1786//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13277970" author="lhofhansl" created="Thu, 17 May 2012 16:59:35 +0000"  >&lt;p&gt;From the comment here I find it hard to determine whether this is fixed or not? Is it? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13278494" author="jeason" created="Fri, 18 May 2012 01:55:10 +0000"  >&lt;p&gt;Yes. Nothing was fixed. It seems a misunderstanding to that exception. So the patch just like a code restructure&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.. So add an addendum patch to remove the unnecessary code&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;..&lt;/p&gt;</comment>
                            <comment id="13404556" author="lhofhansl" created="Sat, 30 Jun 2012 16:40:06 +0000"  >&lt;p&gt;Moving to 0.94.2 for now.&lt;/p&gt;</comment>
                            <comment id="13412032" author="gchanan" created="Wed, 11 Jul 2012 21:42:56 +0000"  >&lt;p&gt;Adding 0.92.2 and 0.90.7 to fix version, as this was originally checked in under those versions.  I&apos;m also unclear what needs to be done to get this to resolved, but it should be done to 0.90.7 and 0.92.2 as well.&lt;/p&gt;</comment>
                            <comment id="13412041" author="stack" created="Wed, 11 Jul 2012 21:53:35 +0000"  >&lt;p&gt;@Jieshan So, what do we need to do to close this issue out?  What do we need to apply?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13412360" author="jmhsieh" created="Wed, 11 Jul 2012 23:38:43 +0000"  >&lt;p&gt;@Jieshan since this was committed along time ago (5/3/12) I&apos;d suggest creating a new issue to clean it up.  I&apos;ll close this after it is done.&lt;/p&gt;</comment>
                            <comment id="13416629" author="jmhsieh" created="Tue, 17 Jul 2012 21:35:43 +0000"  >&lt;p&gt;I&apos;m resolving this.  I believe Greg tested this and the addendum version and found that the pre-addendum version fixed the problem more effectively than afterwards.  &lt;/p&gt;

&lt;p&gt;The patch has been committed already on 0.94.1 (it is in the 0.94.1rc0) an in the other branches.&lt;/p&gt;

&lt;p&gt;Please file a new issue if to address the addendum.&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12520658">HBASE-4288</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12530814">HBASE-4762</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12524449">HBASE-4470</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12525849" name="90-addendum.patch" size="1257" author="jeason" created="Mon, 7 May 2012 13:50:57 +0000"/>
                            <attachment id="12525850" name="92-addendum.patch" size="1257" author="jeason" created="Mon, 7 May 2012 13:50:58 +0000"/>
                            <attachment id="12525851" name="94-addendum.patch" size="1259" author="jeason" created="Mon, 7 May 2012 13:50:58 +0000"/>
                            <attachment id="12525434" name="HBASE-5883-90.patch" size="3817" author="jeason" created="Thu, 3 May 2012 11:58:36 +0000"/>
                            <attachment id="12525433" name="HBASE-5883-92.patch" size="3810" author="jeason" created="Thu, 3 May 2012 11:58:36 +0000"/>
                            <attachment id="12525432" name="HBASE-5883-94.patch" size="3921" author="jeason" created="Thu, 3 May 2012 11:58:36 +0000"/>
                            <attachment id="12525272" name="HBASE-5883-trunk.patch" size="3921" author="jeason" created="Wed, 2 May 2012 10:12:46 +0000"/>
                            <attachment id="12525833" name="trunk-addendum.patch" size="1259" author="jeason" created="Mon, 7 May 2012 12:04:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Apr 2012 10:42:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i068o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>