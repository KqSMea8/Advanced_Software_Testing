<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:20:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11146/HBASE-11146.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11146] HMaster instantiates both MasterCoprocessorHost and RegionServerCoprocessorHost</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11146</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;in 0.99, HRegionServer is the base class of HMaster. &lt;br/&gt;
master and regionserver share the same run method, the master instantiates both MasterCoprocessorHost and RegionServerCoprocessorHost&lt;/p&gt;


&lt;p&gt;below is example logs, a coprocessor is start/stop twice--one is for real regionserver, the other is for the RegionServerCoprocessorHost in master.&lt;/p&gt;

&lt;p&gt;2014-05-08 00:33:51,632 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;M:0;bdvm135:36021&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(66): st&lt;br/&gt;
art coprocessor on regionserver&lt;/p&gt;

&lt;p&gt;2014-05-08 00:33:51,633 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;RS:0;bdvm135:47513&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(66): s&lt;br/&gt;
tart coprocessor on regionserver&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
2014-05-08 00:34:03,166 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1624): call stack of stop&lt;br/&gt;
java.io.IOException&lt;br/&gt;
at org.apache.hadoop.hbase.regionserver.HRegionServer.stop(HRegionServer.java:1624)&lt;br/&gt;
at org.apache.hadoop.hbase.master.ServerManager.shutdownCluster(ServerManager.java:975)&lt;br/&gt;
at org.apache.hadoop.hbase.master.HMaster.shutdown(HMaster.java:1623)&lt;br/&gt;
at org.apache.hadoop.hbase.util.JVMClusterUtil.shutdown(JVMClusterUtil.java:256)&lt;br/&gt;
at org.apache.hadoop.hbase.LocalHBaseCluster.shutdown(LocalHBaseCluster.java:437)&lt;br/&gt;
at org.apache.hadoop.hbase.MiniHBaseCluster.shutdown(MiniHBaseCluster.java:519)&lt;br/&gt;
at org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop.testStopped(TestCoprocessorStop.java:&lt;br/&gt;
114)&lt;br/&gt;
...&lt;br/&gt;
2014-05-08 00:34:03,215 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1629): rsHost code path called&lt;/p&gt;

&lt;p&gt;2014-05-08 00:34:03,228 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.CoprocessorHost(258): Stop coprocessor org.apache.hadoo&lt;br/&gt;
p.hbase.coprocessor.TestCoprocessorStop$FooCoprocessor&lt;br/&gt;
2014-05-08 00:34:03,462 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(88): create file hdf&lt;br/&gt;
s://localhost:8155/user/tianq/test-data/f0c9423c-e505-4feb-907e-c7bd6e16545b/regionserver1399534399680 r&lt;br/&gt;
eturn rc true&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;2014-05-08 00:34:03,482 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1624): call stack of stop&lt;br/&gt;
java.io.IOException&lt;br/&gt;
at org.apache.hadoop.hbase.regionserver.HRegionServer.stop(HRegionServer.java:1624)&lt;br/&gt;
at org.apache.hadoop.hbase.util.JVMClusterUtil.shutdown(JVMClusterUtil.java:264)&lt;br/&gt;
at org.apache.hadoop.hbase.LocalHBaseCluster.shutdown(LocalHBaseCluster.java:437)&lt;br/&gt;
at org.apache.hadoop.hbase.MiniHBaseCluster.shutdown(MiniHBaseCluster.java:519)&lt;br/&gt;
at org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop.testStopped(TestCoprocessorStop.java:&lt;br/&gt;
114)&lt;br/&gt;
2014-05-08 00:34:03,485 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1629): rsHost code path called&lt;/p&gt;

&lt;p&gt;2014-05-08 00:34:03,485 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.CoprocessorHost(258): Stop coprocessor org.apache.hadoo&lt;br/&gt;
p.hbase.coprocessor.TestCoprocessorStop$FooCoprocessor&lt;br/&gt;
2014-05-08 00:34:03,493 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(88): create file hdf&lt;br/&gt;
s://localhost:8155/user/tianq/test-data/f0c9423c-e505-4feb-907e-c7bd6e16545b/regionserver1399534399680 r&lt;br/&gt;
eturn rc false&lt;/p&gt;</description>
                <environment></environment>
        <key id="12713302">HBASE-11146</key>
            <summary>HMaster instantiates both MasterCoprocessorHost and RegionServerCoprocessorHost</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="tianq">Qiang Tian</assignee>
                                    <reporter username="tianq">Qiang Tian</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 May 2014 12:59:10 +0000</created>
                <updated>Mon, 19 May 2014 02:23:13 +0000</updated>
                            <resolved>Mon, 19 May 2014 02:23:13 +0000</resolved>
                                    <version>0.99.0</version>
                                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14001343" author="tianq" created="Mon, 19 May 2014 02:23:13 +0000"  >&lt;p&gt;work as design&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12711131">HBASE-11096</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12696009">HBASE-10569</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391618</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vg3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>