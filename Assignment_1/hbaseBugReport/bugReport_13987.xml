<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:48:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13987/HBASE-13987.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13987] Modify the result of shell cmd list_quotas when not enable quota</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13987</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When not enable quota, use shell cmd list_quotas will get result as belows:&lt;/p&gt;

&lt;p&gt;hbase(main):008:0&amp;gt; list_quotas&lt;br/&gt;
OWNER                                                QUOTAS                                                                                                                                                  &lt;/p&gt;

&lt;p&gt;ERROR: Unknown table hbase:quota!&lt;/p&gt;

&lt;p&gt;It is confuse if user doesn&apos;t know quotas are stored in hbase:quota. I add check isQuotaEnabled before scan the table hbase:quota. So it will return result  &quot;ERROR: quota support disabled&quot;, which is same with set_quota.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12841325">HBASE-13987</key>
            <summary>Modify the result of shell cmd list_quotas when not enable quota</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zghaobac">Guanghao Zhang</assignee>
                                    <reporter username="zghaobac">Guanghao Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jun 2015 13:01:50 +0000</created>
                <updated>Tue, 30 Jun 2015 05:09:03 +0000</updated>
                                            <version>2.0.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14605587" author="mbertozzi" created="Mon, 29 Jun 2015 13:10:32 +0000"  >&lt;p&gt;that isQuotaEnabled() checking the configuration is not what you want.&lt;br/&gt;
on the client conf you set hbase.quota.enabled = true, but on the server side you have hbase.quota.enabled = false you still end up with TableNotFound.&lt;/p&gt;

&lt;p&gt;set_quota ask the server if the conf is enabled or not, in this patch you ask the client which is not correct. &lt;br/&gt;
if you want to add a check just check for TableNotFound.&lt;/p&gt;</comment>
                            <comment id="14605741" author="ashish singhi" created="Mon, 29 Jun 2015 15:12:19 +0000"  >&lt;p&gt;This patch will also not compile in its current form, &lt;tt&gt;QUOTA_CONF_KEY&lt;/tt&gt; from &lt;tt&gt;QuotaUtil&lt;/tt&gt; class is being used in other classes as well.&lt;/p&gt;</comment>
                            <comment id="14607200" author="zghaobac" created="Tue, 30 Jun 2015 04:49:40 +0000"  >&lt;p&gt;Thank you for your advice. It was my mistake to check quota enabled just by client conf.&lt;br/&gt;
But check for TableNotFound still have one problem. If we set hbase.quota.enabled = true, then update it to false and restart cluster. Use shell cmd list_quotas, will still get quotas  even we have update the hbase.quota.enabled = false.&lt;/p&gt;</comment>
                            <comment id="14607497" author="zghaobac" created="Tue, 30 Jun 2015 05:03:36 +0000"  >&lt;p&gt;QuotaUtil extends QuotaTableUtil,  it passed the ut which use QUOTA_CONF_KEY before I attached this patch.&lt;/p&gt;</comment>
                            <comment id="14607504" author="ashish singhi" created="Tue, 30 Jun 2015 05:09:03 +0000"  >&lt;p&gt;Oh yeah, my bad.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12742501" name="HBASE-13987.patch" size="3548" author="zghaobac" created="Mon, 29 Jun 2015 13:03:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Jun 2015 13:10:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gmhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>