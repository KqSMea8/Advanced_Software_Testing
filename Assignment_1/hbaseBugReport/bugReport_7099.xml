<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:42:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7099/HBASE-7099.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7099] [89-fb] Create compaction hooks </title>
                <link>https://issues.apache.org/jira/browse/HBASE-7099</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Create compaction hooks which should be used to modify the value of the KV during compaction. The possible modifications would include: skipping the KV, modifying the value of the KV in the desired format, leaving the value as it was.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614861">HBASE-7099</key>
            <summary>[89-fb] Create compaction hooks </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="adela">Adela Maznikar</assignee>
                                    <reporter username="adela">Adela Maznikar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 22:16:41 +0000</created>
                <updated>Wed, 7 Aug 2013 18:12:01 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 18:12:01 +0000</resolved>
                                                    <fixVersion>0.89-fb</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13491039" author="apurtell" created="Mon, 5 Nov 2012 23:27:29 +0000"  >&lt;p&gt;The existing preCompact hook allows skipping KVs and modifying the values of KVs.&lt;/p&gt;

&lt;p&gt;Do this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; preCompact(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ObserverContext&amp;lt;RegionCoprocessorEnvironment&amp;gt; c,
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Store store, 
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; InternalScanner scanner)
{
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MyCustomInternalScanner(scanner);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Your custom InternalScanner therefore gets to inspect, drop, or change KVs from the wrapped scanner. It is your custom scanner that will be used during compaction.&lt;/p&gt;</comment>
                            <comment id="13491042" author="adela" created="Mon, 5 Nov 2012 23:33:06 +0000"  >&lt;p&gt;Andrew, I am working on the 89-fb branch. Sorry for the confusion, will modify the summary now. Thanks&lt;/p&gt;</comment>
                            <comment id="13491045" author="apurtell" created="Mon, 5 Nov 2012 23:36:27 +0000"  >&lt;p&gt;My apologies Adela. &lt;/p&gt;</comment>
                            <comment id="13491239" author="ram_krish" created="Tue, 6 Nov 2012 06:32:21 +0000"  >&lt;p&gt;Will this also help us to know what KVs did the compaction scanner skip due to TTL expiry ?&lt;/p&gt;</comment>
                            <comment id="13491246" author="lhofhansl" created="Tue, 6 Nov 2012 06:40:06 +0000"  >&lt;p&gt;I come across this use case with surprising frequency: How to track KVs &quot;deleted&quot; during a compaction?&lt;/p&gt;</comment>
                            <comment id="13491565" author="kannanm" created="Tue, 6 Nov 2012 16:00:45 +0000"  >&lt;p&gt;We were thinking of this as an &quot;emit/write&quot; time compaction hook. It won&apos;t be in the general &quot;read&quot; path, but in compactStores(). By the time a value gets here, TTL purging etc. would have already been done. Whatever survives, and is about to be written to the output (of compaction) file-- this hook will give a chance to intercept &amp;amp; transform/skip the value portion of the KV.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Nov 2012 23:27:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eraf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>