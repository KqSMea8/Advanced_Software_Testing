<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:31:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12285/HBASE-12285.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12285] Builds are failing, possibly because of SUREFIRE-1091</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12285</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Our branch-1 builds on builds.apache.org have been failing in recent days after we switched over to an official version of Surefire a few days back (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;&lt;del&gt;HBASE-4955&lt;/del&gt;&lt;/a&gt;). The version we&apos;re using, 2.17, is hit by a bug (&lt;a href=&quot;https://jira.codehaus.org/browse/SUREFIRE-1091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SUREFIRE-1091&lt;/a&gt;) that results in an IOException, which looks like what we&apos;re seeing on Jenkins.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12748960">HBASE-12285</key>
            <summary>Builds are failing, possibly because of SUREFIRE-1091</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dimaspivak">Dima Spivak</assignee>
                                    <reporter username="dimaspivak">Dima Spivak</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Oct 2014 19:52:42 +0000</created>
                <updated>Sat, 21 Feb 2015 23:46:06 +0000</updated>
                            <resolved>Sun, 2 Nov 2014 04:56:58 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.99.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                            <comments>
                            <comment id="14175474" author="dimaspivak" created="Fri, 17 Oct 2014 20:03:34 +0000"  >&lt;p&gt;Looks like there isn&apos;t yet a 2.18 version of surefire-junit47. Since this only seems to be hitting branch-1, is it worth just reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;&lt;del&gt;HBASE-4955&lt;/del&gt;&lt;/a&gt; for now, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14175824" author="stack" created="Sat, 18 Oct 2014 03:07:28 +0000"  >&lt;p&gt;Weird &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; It just passed. &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.0/326/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.0/326/&lt;/a&gt; A few test failures look a little dodgy but others look legit.  You think it the surefire plugin?  Ain&apos;t we running same verison on trunk which has been passing usually?&lt;/p&gt;</comment>
                            <comment id="14175892" author="dimaspivak" created="Sat, 18 Oct 2014 06:54:26 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Looks like it failed again, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. Starting with &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.0/312/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;#312&lt;/a&gt;, the build has failed with console output reading&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.17:test (secondPartTestsExecution) on project hbase-server: ExecutionException: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Stream Closed -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;on about 10 occasions. This seems to be consistent with the Surefire bug, which happens when a test that writes enough to output to have Surefire switch to a buffer file then tries writing to stdout during @AfterClass.&lt;/p&gt;

&lt;p&gt;The other thing that makes me suspect this is related to the switch of plugins is that the JIRA notes that &quot;In case of reuseForks=true and forkCount&amp;gt;1, this would even result in a hanging maven process&quot;; secondPartTestsExecution runs with forks reusing JVMs and with a fork count of 2, and that&apos;s always when Maven dies. Could someone with Jenkins privileges on builds.apache.org perhaps add &lt;tt&gt;-e&lt;/tt&gt; to the Maven command being executed so that we can see a full stack trace if/when this happens again? That&apos;ll give us the definitive answer as to whether this is &lt;a href=&quot;https://jira.codehaus.org/browse/SUREFIRE-1091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SUREFIRE-1091&lt;/a&gt; or not.&lt;/p&gt;</comment>
                            <comment id="14175960" author="nkeywal" created="Sat, 18 Oct 2014 11:49:01 +0000"  >&lt;p&gt;surefire-1091 is a very good suspect, because in our private surefire version the implementation for this was different.&lt;br/&gt;
This said, my be we just log too much in the test(s)? I&apos;ve done some cleanup there nearly 3 years ago, but this belongs to the &quot;never ending story&quot; category...&lt;/p&gt;</comment>
                            <comment id="14175981" author="stack" created="Sat, 18 Oct 2014 13:14:16 +0000"  >&lt;p&gt;Nice digging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; We could back it out.  What about trunk?  It is on on trunk? Could we try some &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; suggestion too?&lt;/p&gt;</comment>
                            <comment id="14176407" author="dimaspivak" created="Sun, 19 Oct 2014 19:46:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hbase/commit/018bbc09931d45afa349a76fcc72283013e1d3a2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;It is also on trunk&lt;/a&gt;, but as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; pointed out, it may not be failing there if that test output is a bit less verbose. I&apos;ll file a separate issue to address the log too much phenomenon, but we may want to back out &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;&lt;del&gt;HBASE-4955&lt;/del&gt;&lt;/a&gt; temporarily to get the build on branch-1 to stop failing.&lt;/p&gt;</comment>
                            <comment id="14176981" author="stack" created="Mon, 20 Oct 2014 15:28:07 +0000"  >&lt;p&gt;I like &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; suggestion of just setting log level down globally.  Could commit a fix w/ that to see if it changes fail rate np.&lt;/p&gt;</comment>
                            <comment id="14177138" author="dimaspivak" created="Mon, 20 Oct 2014 17:24:02 +0000"  >&lt;p&gt;Let&apos;s do it, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14177334" author="hadoopqa" created="Mon, 20 Oct 2014 19:14:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12675874/HBASE-12285_branch-1_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12675874/HBASE-12285_branch-1_v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12675874&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.master.balancer.TestBaseLoadBalancer.testImmediateAssignment(TestBaseLoadBalancer.java:136)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11405//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14178414" author="nkeywal" created="Tue, 21 Oct 2014 13:54:37 +0000"  >&lt;p&gt;I think changing the log level is not a good idea (I added a comment in the related jira: it&apos;s very common to discover NPE when you activate logs, and it&apos;s a very bad user experience: something does not work as expected, you activate the debug logs to understand and then you get a NPE.).&lt;br/&gt;
If we don&apos;t want to pay the testing cost of the debug logs, then I&apos;m +1 for removing them (seriously: they are becoming useless as we now run info by default). But if we keep them in the code we must keep them in the tests.&lt;/p&gt;</comment>
                            <comment id="14178471" author="stack" created="Tue, 21 Oct 2014 14:49:29 +0000"  >&lt;p&gt;You have a point &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The idea here is to change log level to see if profuse logging is breaking surefire. Mind if we try the &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; change a while or you thinking we should just go through tests to find the ones that are logging a bunch and do some weeding?&lt;/p&gt;</comment>
                            <comment id="14179414" author="nkeywal" created="Wed, 22 Oct 2014 00:35:02 +0000"  >&lt;p&gt;Sure we can try. But when will we go back to the &quot;good&quot; setting?&lt;/p&gt;</comment>
                            <comment id="14179581" author="stack" created="Wed, 22 Oct 2014 05:00:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;But when will we go back to the &quot;good&quot; setting?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ll file a BLOCKER so we go back to DEBUG before we ship 1.0 at a minimum.&lt;/p&gt;

&lt;p&gt;Would like to see if log volume is our prob.  I&apos;ll make default INFO rather than WARN in light of your above &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14179584" author="stack" created="Wed, 22 Oct 2014 05:04:14 +0000"  >&lt;p&gt;Ok. This issue is a BLOCKER already.  I&apos;ve applied &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt;&apos;s patch to branch-1+ except made default INFO.  Lets see how we run over next few days then regroup on this issue.&lt;/p&gt;</comment>
                            <comment id="14179586" author="dimaspivak" created="Wed, 22 Oct 2014 05:06:06 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. I&apos;ll monitor the overnight builds and post an update here in the morning. &lt;/p&gt;</comment>
                            <comment id="14179635" author="hudson" created="Wed, 22 Oct 2014 06:37:28 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5685 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5685/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; (stack: rev f6de7efb27f1f85c5a3b80a182d844a945ffc153)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14179653" author="hudson" created="Wed, 22 Oct 2014 06:53:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #341 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/341/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/341/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; (stack: rev a5bb441d452088865d9f5038dfb06d6499e8a217)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14180516" author="dimaspivak" created="Wed, 22 Oct 2014 20:49:34 +0000"  >&lt;p&gt;Unfortunately, switching logging down to INFO didn&apos;t help any of the builds go blue. Should we temporarily set it to WARN as in the original patch and, if that helps things, revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;&lt;del&gt;HBASE-4955&lt;/del&gt;&lt;/a&gt; while I clean up the loud tests? The 5 days of all-red runs makes me sad.&lt;/p&gt;</comment>
                            <comment id="14180518" author="dimaspivak" created="Wed, 22 Oct 2014 20:52:11 +0000"  >&lt;p&gt;Or another thought... what if we set this Jenkins job to not reuse forks between test classes? On my own test rig, I&apos;ve set this to false to reduce potential cross-test interference and my builds haven&apos;t failed even after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4955&quot; title=&quot;Use the official versions of surefire &amp;amp; junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4955&quot;&gt;&lt;del&gt;HBASE-4955&lt;/del&gt;&lt;/a&gt; went in.&lt;/p&gt;</comment>
                            <comment id="14181622" author="stack" created="Thu, 23 Oct 2014 17:39:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; Am game for trying any experiment you want.  Make a patch for the no reuse and I&apos;ll shove it in along w/ WARN to see if it helps.&lt;/p&gt;</comment>
                            <comment id="14181626" author="dimaspivak" created="Thu, 23 Oct 2014 17:42:20 +0000"  >&lt;p&gt;The reuseForks=false could just be set in the mvn command line in the branch-1 Jenkins job. &lt;/p&gt;</comment>
                            <comment id="14181669" author="stack" created="Thu, 23 Oct 2014 18:05:58 +0000"  >&lt;p&gt;Done. Made it this in the branch-1 build:&lt;/p&gt;

&lt;p&gt;-PrunAllTests -DreuseForks=false  -Dmaven.test.redirectTestOutputToFile=true install -Dsurefire.secondPartThreadCount=2 -Dit.test=noItTest&lt;/p&gt;

&lt;p&gt;Why trunk mostly pass and branch-1 does not?  Surefire is same for both?&lt;/p&gt;

&lt;p&gt;Let this run a while (I started a build).  Will put in the WARN later after this change has baked a while.&lt;/p&gt;</comment>
                            <comment id="14181712" author="eclark" created="Thu, 23 Oct 2014 18:24:09 +0000"  >&lt;p&gt;Do we know anyone in the surefire community? At FB we&apos;re running the snapshot version of surefire and it&apos;s fixed everything for us.&lt;/p&gt;</comment>
                            <comment id="14183008" author="stack" created="Fri, 24 Oct 2014 16:25:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt;&lt;br/&gt;
I just committed change that sets logging to WARN to see if it makes a difference.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; You think we should move to snapshot of surefilre &amp;#8211; like we did in old days?&lt;/p&gt;</comment>
                            <comment id="14183021" author="stack" created="Fri, 24 Oct 2014 16:38:46 +0000"  >&lt;p&gt;[&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; Why branch-1 fail but trunk usually passes when both using same surefire do you think?&lt;/p&gt;</comment>
                            <comment id="14183129" author="hudson" created="Fri, 24 Oct 2014 17:52:34 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #352 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/352/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/352/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; &amp;#8211; trying WARN level to see if it makes any difference (stack: rev b8ed37b88e515efad2958f9b8d92e93fe6e922ad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14183202" author="stack" created="Fri, 24 Oct 2014 18:19:47 +0000"  >&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; noticed, we just had our first blue branch-1 build. Only change is the move to WARN and commit of bulk load Interface patch.  Rerunning....&lt;/p&gt;</comment>
                            <comment id="14183564" author="stack" created="Fri, 24 Oct 2014 21:39:58 +0000"  >&lt;p&gt;Since changing to log WARN only, builds passed three times where previous they always failed.  See here &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.0/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.0/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14183568" author="dimaspivak" created="Fri, 24 Oct 2014 21:41:35 +0000"  >&lt;p&gt;Trying to track down the stream-breaking culprit tests...&lt;/p&gt;</comment>
                            <comment id="14184698" author="stack" created="Sun, 26 Oct 2014 23:21:08 +0000"  >&lt;p&gt;After changing the jenkins config for branch-1 to remove  -Dmaven.test.redirectTestOutputToFile=true and stuff continued to pass, I&apos;ve just set branch-1 back to use DEBUG again from WARN.&lt;/p&gt;</comment>
                            <comment id="14184721" author="hudson" created="Mon, 27 Oct 2014 00:25:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #364 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/364/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/364/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; &amp;#8211; Setting log level back to DEBUG from WARN (stack: rev 65c60ce873b4216dc2d05c28191e7f1a724de8b5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14184723" author="dimaspivak" created="Mon, 27 Oct 2014 00:36:54 +0000"  >&lt;p&gt;Damn, looks like just removing the output redirection isn&apos;t enough (&lt;a href=&quot;https://builds.apache.org/view/All/job/HBase-1.0/364/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;stream error is back&lt;/a&gt;). Might as well move logging back to WARN, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. One thing that&apos;s a bit strange is that it doesn&apos;t seem to be caused by any particular test since the same number of tests completed before the error occurs is constant (3430, as seen &lt;a href=&quot;https://builds.apache.org/view/All/job/HBase-1.0/348/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;https://builds.apache.org/view/All/job/HBase-1.0/347/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;) even though the tests are run in random order. It&apos;s also worth pointing out that a large number of tests produce logs over 5 MB (some over 50 MB) even though the test that uncovered &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; only had to output 1 MB. And, of course, there&apos;s the &quot;why does this only hit branch-1?&quot; question that I can&apos;t answer either. I&apos;ll keep digging...&lt;/p&gt;</comment>
                            <comment id="14184793" author="stack" created="Mon, 27 Oct 2014 03:48:13 +0000"  >&lt;p&gt;Ok. I&apos;ll set it back.  I&apos;ll put back toot he record to logs config.&lt;/p&gt;</comment>
                            <comment id="14184794" author="stack" created="Mon, 27 Oct 2014 03:49:52 +0000"  >&lt;p&gt;Set it back.  Maybe next up is hosting our own surefilre build but we should spend some time on tests that log 50MB for sure; we will only annoy people logging that much.&lt;/p&gt;</comment>
                            <comment id="14184843" author="hudson" created="Mon, 27 Oct 2014 05:04:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #365 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/365/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/365/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; &amp;#8211; Setting log level back to DEBUG TO WARN &amp;#8211; second time (stack: rev 862faca7a4f82e032572f8426851968cf7ba017c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14185877" author="dimaspivak" created="Mon, 27 Oct 2014 21:46:46 +0000"  >&lt;p&gt;Reduce test output by commenting out places where really verbose tests (those that regularly output more than 1 or 2 MB) set logging levels to ALL for internal classes.&lt;/p&gt;</comment>
                            <comment id="14185920" author="stack" created="Mon, 27 Oct 2014 22:15:25 +0000"  >&lt;p&gt;Committed the subtask &quot;git commit -a -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12353&quot; title=&quot;Turn down logging on some spewing unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12353&quot;&gt;&lt;del&gt;HBASE-12353&lt;/del&gt;&lt;/a&gt; Turn down logging on some spewing unit tests (Dima Spivak)&quot;&quot;  9ddb25c  Let me see that this tests stay blue then will try setting back to DEBUG on branch-1.&lt;/p&gt;</comment>
                            <comment id="14186039" author="hadoopqa" created="Mon, 27 Oct 2014 23:38:31 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12677415/HBASE-12285_branch-1_v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12677415/HBASE-12285_branch-1_v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12677415&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 28 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11482//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14187509" author="stack" created="Tue, 28 Oct 2014 21:35:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12355&quot; title=&quot;Update maven plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12355&quot;&gt;&lt;del&gt;HBASE-12355&lt;/del&gt;&lt;/a&gt; includes upping our SUREFIRE to 2.18-SNAPSHOT (as per &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;) suggestion.  Will see if it goes in.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; has been watching the branch-1 builds with help from Apache INFRA/BUILDS (Andrew Bayer).  H11 is sick and we sometimes land on an underpowered machine.  Set jenkins to avoid these machines for now.&lt;/p&gt;
</comment>
                            <comment id="14188697" author="stack" created="Wed, 29 Oct 2014 18:04:22 +0000"  >&lt;p&gt;I set branch-1 and master back to DEBUG level logging (master was on INFO, branch-1 was on WARN-only).  branch-1 has been blue overnight with a legit failure on occasion.  Thought is that the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12353&quot; title=&quot;Turn down logging on some spewing unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12353&quot;&gt;&lt;del&gt;HBASE-12353&lt;/del&gt;&lt;/a&gt; which got rid of a bunch of spew fixes the branch-1 issue.  Lets see.&lt;/p&gt;</comment>
                            <comment id="14188825" author="hudson" created="Wed, 29 Oct 2014 19:20:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5716 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5716/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5716/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; ; ADDENDUM SETTING LOG LEVEL TO DEBUG AGAIN (stack: rev b240b00f4f751944869511756a3b739040769acb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14188893" author="dimaspivak" created="Wed, 29 Oct 2014 19:56:00 +0000"  >&lt;p&gt;A build of HBase-1.0 &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/380&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;just passed&lt;/a&gt; (log level on branch-1 is back at DEBUG and the log-spew reduction from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12293&quot; title=&quot;Tests are logging too much&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12293&quot;&gt;&lt;del&gt;HBASE-12293&lt;/del&gt;&lt;/a&gt; was present), so I think this is probably safe to resolve as fixed. What do you think, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;? Since this is no longer blocking builds, we may want to hold off updating Surefire until 2.18 is officially released.&lt;/p&gt;</comment>
                            <comment id="14188897" author="hudson" created="Wed, 29 Oct 2014 19:56:39 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #380 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/380/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/380/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12285&quot; title=&quot;Builds are failing, possibly because of SUREFIRE-1091&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12285&quot;&gt;&lt;del&gt;HBASE-12285&lt;/del&gt;&lt;/a&gt; Builds are failing, possibly because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; ; ADDENDUM SETTING LOG LEVEL TO DEBUG AGAIN (stack: rev 752c5460999ed474d45a7032b3ed986e7aa6749d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/resources/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14189147" author="stack" created="Wed, 29 Oct 2014 22:28:48 +0000"  >&lt;p&gt;Ok.  You spoke too soon &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; (smile).  Last two builds on branch-1 failed w/ your favorite:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.17:test (secondPartTestsExecution) on project hbase-server: ExecutionException: java.lang.RuntimeException: java.lang.RuntimeException: java.io.IOException: Stream Closed -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Let me try putting in place 2.18-SNAPSHOT as subtask of this issue.&lt;/p&gt;</comment>
                            <comment id="14189537" author="dimaspivak" created="Thu, 30 Oct 2014 02:49:51 +0000"  >&lt;p&gt;In first run (after addendum) with 2.18-SNAPSHOT, we get&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18-SNAPSHOT:test (secondPartTestsExecution) on project hbase-server: ExecutionException: java.lang.RuntimeException: The forked VM terminated without properly saying goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called?
[ERROR] Command was /bin/sh -c cd /home/jenkins/jenkins-slave/workspace/HBase-1.0/hbase-server &amp;amp;&amp;amp; /home/jenkins/tools/java/jdk1.7.0_25-32/jre/bin/java -enableassertions -XX:MaxDirectMemorySize=1G -Xmx1900m -XX:MaxPermSize=256m -Djava.security.egd=file:/dev/./urandom -Djava.net.preferIPv4Stack=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Djava.awt.headless=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -jar /home/jenkins/jenkins-slave/workspace/HBase-1.0/hbase-server/target/surefire/surefirebooter8771725147211915636.jar /home/jenkins/jenkins-slave/workspace/HBase-1.0/hbase-server/target/surefire/surefire4600209770137145770tmp /home/jenkins/jenkins-slave/workspace/HBase-1.0/hbase-server/target/surefire/surefire_7296048355863863584558tmp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let&apos;s let it run a handful more times and then reevaluate what&apos;s going on here. &lt;/p&gt;</comment>
                            <comment id="14190919" author="stack" created="Thu, 30 Oct 2014 22:00:10 +0000"  >&lt;p&gt;What you think &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt;? I&apos;m thinking we resolved as fixed by the linked too much logging fix you did and the update to surefire 2.18-SNAPSHOT.&lt;/p&gt;</comment>
                            <comment id="14190928" author="dimaspivak" created="Thu, 30 Oct 2014 22:06:08 +0000"  >&lt;p&gt;Sounds good, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. It looks good except for a&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18-SNAPSHOT:test (secondPartTestsExecution) on project hbase-server: There was a timeout or other error in the fork -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;that happened a little while back, but I&apos;ll go ahead and close this since I think the &lt;a href=&quot;https://issues.apache.org/jira/browse/SUREFIRE-1091&quot; title=&quot;IOException when test with much output prints in @After / @AfterClass - possible haning processes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SUREFIRE-1091&quot;&gt;&lt;del&gt;SUREFIRE-1091&lt;/del&gt;&lt;/a&gt; bug is no longer the problem.&lt;/p&gt;</comment>
                            <comment id="14193028" author="dimaspivak" created="Sat, 1 Nov 2014 09:01:18 +0000"  >&lt;p&gt;Lots of failing builds recently with &lt;tt&gt;Stream Closed&lt;/tt&gt; being replaced with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18-SNAPSHOT:test (secondPartTestsExecution) on project hbase-server: There was a timeout or other error in the fork -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;since we switched to Surefire 2.18-SNAPSHOT. I&apos;m also still bothered by not being able to answer &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&apos;s question of why this was only hitting branch-1 (even when using the known-faulty 2.17 version), so I&apos;m reopening this.&lt;/p&gt;</comment>
                            <comment id="14193670" author="stack" created="Sun, 2 Nov 2014 03:37:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaspivak&quot; class=&quot;user-hover&quot; rel=&quot;dimaspivak&quot;&gt;Dima Spivak&lt;/a&gt; Open a new issue instead?&lt;/p&gt;

&lt;p&gt;The surefire snapshot and the culling of the logs put us in a better place for sure.  We have mostly blues now when we build.&lt;/p&gt;

&lt;p&gt;We&apos;ve been failing since #400 because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12219&quot; title=&quot;Cache more efficiently getAll() and get() in FSTableDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12219&quot;&gt;&lt;del&gt;HBASE-12219&lt;/del&gt;&lt;/a&gt;.  Was this causing the &quot; There was a timeout or other error in the fork&quot;&lt;/p&gt;

&lt;p&gt;Good on you Dima&lt;/p&gt;</comment>
                            <comment id="14193694" author="dimaspivak" created="Sun, 2 Nov 2014 04:56:58 +0000"  >&lt;p&gt;You&apos;re right, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. Sorry for being quick to reopen, was just paranoid. But yay for CI actually helping us track down faulty commits! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14331718" author="enis" created="Sat, 21 Feb 2015 23:46:06 +0000"  >&lt;p&gt;Closing this issue after 0.99.2 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12750899">HBASE-12353</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12749122">HBASE-12293</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12677415" name="HBASE-12285_branch-1_v1.patch" size="10604" author="dimaspivak" created="Mon, 27 Oct 2014 21:46:46 +0000"/>
                            <attachment id="12675874" name="HBASE-12285_branch-1_v1.patch" size="1024" author="dimaspivak" created="Mon, 20 Oct 2014 17:24:02 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12750899">HBASE-12353</subtask>
                            <subtask id="12751543">HBASE-12379</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 18 Oct 2014 03:07:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21b3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>