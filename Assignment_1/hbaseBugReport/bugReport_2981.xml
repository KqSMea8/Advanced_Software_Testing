<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:06:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2981/HBASE-2981.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2981] Improve consistency of performance during heavy load</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2981</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently when running load tests like YCSB, we experience periods of complete cluster inactivity while all clients are blocked on a single region which is unavailable.&lt;/p&gt;

&lt;p&gt;As discussed recently on the list, we should brainstorm some ideas for how to improve the situation: the goal here is to (a) minimize the amount of time when a region is inaccessible, and (b) minimize the impact that one inaccessible region has on other operations in the cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473830">HBASE-2981</key>
            <summary>Improve consistency of performance during heavy load</summary>
                <type id="13" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Brainstorming</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 17:26:25 +0000</created>
                <updated>Fri, 28 Sep 2012 02:54:01 +0000</updated>
                                                                            <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12908104" author="tlipcon" created="Fri, 10 Sep 2010 17:31:04 +0000"  >&lt;p&gt;One case of blocking is when a region hits the blocking store files limit. In current versions, once a region it hits the limit, it enters the compaction queue at the back. So if there are other compactions already in the queue, it can take some time before the blocked region gets unblocked, since it&apos;s waiting on all the other compactions.&lt;/p&gt;

&lt;p&gt;I think a similar thing can happen with the flushes that happen around a close or split.&lt;/p&gt;

&lt;p&gt;If we prioritize compactions (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2646&quot; title=&quot;Compaction requests should be prioritized to prevent blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2646&quot;&gt;&lt;del&gt;HBASE-2646&lt;/del&gt;&lt;/a&gt;) we can make these compactions that block progress take precedence over normal &quot;maintenance&quot; compactions.&lt;/p&gt;</comment>
                            <comment id="12908114" author="stack" created="Fri, 10 Sep 2010 17:42:06 +0000"  >&lt;p&gt;Just for the record, hbase has worked in this &quot;stutter&quot;-y manner since time immemorial&lt;/p&gt;</comment>
                            <comment id="12908116" author="jdcryans" created="Fri, 10 Sep 2010 17:46:29 +0000"  >&lt;p&gt;Well I do remember a time when we would just grow to 200 store files or OOME on memstore size &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12908117" author="tlipcon" created="Fri, 10 Sep 2010 17:47:13 +0000"  >&lt;p&gt;Linked &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2782&quot; title=&quot;QOS for META table access&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2782&quot;&gt;&lt;del&gt;HBASE-2782&lt;/del&gt;&lt;/a&gt; to add some QoS to META. We currently have a situation where if we have some RS that&apos;s hosting META as well as some other region, and the other region gets blocked, all of the handlers can fill up waiting for that region. Then all other clients end up getting blocked from making progress since they can&apos;t reach META (or ROOT).&lt;/p&gt;</comment>
                            <comment id="12908119" author="tlipcon" created="Fri, 10 Sep 2010 17:49:14 +0000"  >&lt;p&gt;Another idea that has been bandied about is changing the current &quot;blocking store files&quot; behavior to something that&apos;s more like a squishy pillow instead of a brick wall. That is to say, as we start to approach the &quot;blocking&quot; limit number of store files, we add some &quot;friction&quot; to writes going into that region. This way writes will slow down and give the compaction queue some time to catch up. Basically we want to smoothly throttle the overall request rate to something we can consistently handle, rather than letting everyone write like crazy and then throw up a wall while we catch up.&lt;/p&gt;</comment>
                            <comment id="12908129" author="stack" created="Fri, 10 Sep 2010 18:14:57 +0000"  >&lt;p&gt;I made it into new &apos;Brainstorming&apos; issue type.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12537840">HBASE-5162</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446353">HBASE-2158</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12465893">HBASE-2646</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12467764">HBASE-2782</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12599338">HBASE-6423</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12541158">HBASE-5333</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Sep 2010 17:42:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02b8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>