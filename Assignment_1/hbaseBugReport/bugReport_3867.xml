<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:13:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3867/HBASE-3867.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3867] when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3867</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When cluster stopped and romove server from cluster which contains meta region, then restart cluster,&lt;br/&gt;
From the following code throws &quot;NoRouteToHostException&quot;&lt;/p&gt;

&lt;p&gt;package org.apache.hadoop.hbase.catalog;&lt;br/&gt;
public class CatalogTracker &lt;/p&gt;

&lt;p&gt; private HRegionInterface getMetaServerConnection(boolean refresh)&lt;br/&gt;
  throws IOException, InterruptedException {&lt;br/&gt;
    synchronized (metaAvailable) {&lt;br/&gt;
      if (metaAvailable.get()) {&lt;br/&gt;
        HRegionInterface current = getCachedConnection(metaLocation);&lt;br/&gt;
        if (!refresh) &lt;/p&gt;
{
          return current;
        }&lt;br/&gt;
        if (verifyRegionLocation(current, this.metaLocation, META_REGION)) {
          return current;
        }
&lt;p&gt;        resetMetaLocation();&lt;br/&gt;
      }&lt;br/&gt;
      HRegionInterface rootConnection = getRootServerConnection();&lt;br/&gt;
      if (rootConnection == null) &lt;/p&gt;
{
        return null;
      }&lt;br/&gt;
      HServerAddress newLocation = MetaReader.readMetaLocation(rootConnection);&lt;br/&gt;
      if (newLocation == null) {
        return null;
      }
&lt;p&gt;      ////////the following line throws the exception&lt;br/&gt;
HRegionInterface newConnection = getCachedConnection(newLocation);&lt;br/&gt;
      if (verifyRegionLocation(newConnection, this.metaLocation, META_REGION)) &lt;/p&gt;
{
        setMetaLocation(newLocation);
        return newConnection;
      }
&lt;p&gt;      return null;&lt;br/&gt;
    }&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;/////////////the following method don&apos;t handle the exception.&lt;br/&gt;
public class CatalogTracker &lt;br/&gt;
  public boolean verifyMetaRegionLocation(final long timeout)&lt;br/&gt;
  throws InterruptedException, IOException &lt;/p&gt;
{
    return getMetaServerConnection(true) != null;
  }


&lt;p&gt;//////////////////master call the CatalogTracker&apos;s method and don&apos;t handle the problem too.&lt;br/&gt;
package org.apache.hadoop.hbase.master;&lt;br/&gt;
public class HMaster&lt;br/&gt;
int assignRootAndMeta()&lt;br/&gt;
  throws InterruptedException, IOException, KeeperException {&lt;br/&gt;
    int assigned = 0;&lt;br/&gt;
    long timeout = this.conf.getLong(&quot;hbase.catalog.verification.timeout&quot;, 1000);&lt;/p&gt;

&lt;p&gt;    // Work on ROOT region.  Is it in zk in transition?&lt;br/&gt;
    boolean rit = this.assignmentManager.&lt;br/&gt;
      processRegionInTransitionAndBlockUntilAssigned(HRegionInfo.ROOT_REGIONINFO);&lt;br/&gt;
    if (!catalogTracker.verifyRootRegionLocation(timeout)) &lt;/p&gt;
{
      this.assignmentManager.assignRoot();
      this.catalogTracker.waitForRoot();
      assigned++;
    }
&lt;p&gt;    LOG.info(&quot;&lt;del&gt;ROOT&lt;/del&gt; assigned=&quot; + assigned + &quot;, rit=&quot; + rit +&lt;br/&gt;
      &quot;, location=&quot; + catalogTracker.getRootLocation());&lt;/p&gt;

&lt;p&gt;    // Work on meta region&lt;br/&gt;
    rit = this.assignmentManager.&lt;br/&gt;
      processRegionInTransitionAndBlockUntilAssigned(HRegionInfo.FIRST_META_REGIONINFO);&lt;br/&gt;
///////////////////////////////&lt;br/&gt;
when restart cluster master break down here.&lt;br/&gt;
////////////////////////////////&lt;br/&gt;
    if (!this.catalogTracker.verifyMetaRegionLocation(timeout)) &lt;/p&gt;
{
      this.assignmentManager.assignMeta();
      this.catalogTracker.waitForMeta();
      // Above check waits for general meta availability but this does not
      // guarantee that the transition has completed
      this.assignmentManager.waitForAssignment(HRegionInfo.FIRST_META_REGIONINFO);
      assigned++;
    }
&lt;p&gt;    LOG.info(&quot;.META. assigned=&quot; + assigned + &quot;, rit=&quot; + rit +&lt;br/&gt;
      &quot;, location=&quot; + catalogTracker.getMetaLocation());&lt;br/&gt;
    return assigned;&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;Thanks to JunQiang Yuan in www.alipay.com  for providing information about this bug. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12506555">HBASE-3867</key>
            <summary>when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="liujia_ict">Liu Jia</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 May 2011 02:24:02 +0000</created>
                <updated>Fri, 20 Nov 2015 12:43:55 +0000</updated>
                            <resolved>Wed, 20 Jul 2011 07:13:16 +0000</resolved>
                                    <version>0.90.1</version>
                    <version>0.90.2</version>
                                    <fixVersion>0.90.4</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13030585" author="liujia_ict" created="Mon, 9 May 2011 02:30:02 +0000"  >&lt;p&gt;To add a regionserver which is alive to handle the meta region will solve the problem&lt;/p&gt;</comment>
                            <comment id="13036680" author="stack" created="Fri, 20 May 2011 05:24:23 +0000"  >&lt;p&gt;Do you have a patch to fix it Liu?&lt;/p&gt;</comment>
                            <comment id="13057676" author="liujia_ict" created="Thu, 30 Jun 2011 08:36:38 +0000"  >&lt;p&gt;The patch to fix this problem.&lt;/p&gt;</comment>
                            <comment id="13057680" author="liujia_ict" created="Thu, 30 Jun 2011 08:41:25 +0000"  >&lt;p&gt;This patch can fix this problem(tested in alipay&apos;s cluster),but I think the solution is not so elegant.&lt;/p&gt;</comment>
                            <comment id="13057683" author="liujia_ict" created="Thu, 30 Jun 2011 08:46:00 +0000"  >&lt;p&gt;the patch can fix the problem,which meta server not found cause cluster break down&lt;/p&gt;</comment>
                            <comment id="13057797" author="yuzhihong@gmail.com" created="Thu, 30 Jun 2011 12:46:27 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--- hbase-0.90.2/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Normally the path starts with &apos;src&apos;&lt;/p&gt;</comment>
                            <comment id="13057803" author="yuzhihong@gmail.com" created="Thu, 30 Jun 2011 13:02:05 +0000"  >&lt;p&gt;TRUNK version of the patch.&lt;br/&gt;
Now DisabledTestRegionServerExit passes.&lt;/p&gt;</comment>
                            <comment id="13057817" author="yuzhihong@gmail.com" created="Thu, 30 Jun 2011 13:36:30 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3678&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3678&lt;/a&gt; for Eclipse formatter.&lt;/p&gt;</comment>
                            <comment id="13058545" author="liujia_ict" created="Fri, 1 Jul 2011 13:17:09 +0000"  >&lt;p&gt;Ted,thank you for helping me change the patch format, next time I will submit patch according to the apache format,it&apos;s so nice of you. We have test the patch in alipay.com too,it can fix the problem,but I think it&apos;s better to have a HMaster reference in catalogtracker then there is no need to use HBaseAdmin to invoke a rpc. &lt;/p&gt;</comment>
                            <comment id="13058559" author="yuzhihong@gmail.com" created="Fri, 1 Jul 2011 14:06:16 +0000"  >&lt;p&gt;We should also consider the case of master failover where the HMaster reference may become obsolete.&lt;/p&gt;</comment>
                            <comment id="13058676" author="yuzhihong@gmail.com" created="Fri, 1 Jul 2011 17:58:47 +0000"  >&lt;p&gt;TestRestartCluster in TRUNK hangs without the patch.&lt;br/&gt;
It passes with the patch.&lt;/p&gt;</comment>
                            <comment id="13058685" author="yuzhihong@gmail.com" created="Fri, 1 Jul 2011 18:14:12 +0000"  >&lt;p&gt;But DisabledTestRegionServerExit hangs at:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; prio=10 tid=0x000000004e544000 nid=0x1e85 waiting on condition [0x0000000040e84000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
        at org.apache.hadoop.hbase.HBaseClusterTestCase.threadDumpingJoin(HBaseClusterTestCase.java:221)
        at org.apache.hadoop.hbase.regionserver.DisabledTestRegionServerExit.testCleanExit(DisabledTestRegionServerExit.java:101)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13058699" author="yuzhihong@gmail.com" created="Fri, 1 Jul 2011 18:42:35 +0000"  >&lt;p&gt;Patch for trunk, version 2.&lt;/p&gt;

&lt;p&gt;Use the conf instance from CatalogTracker&lt;br/&gt;
Store Master reference in CatalogTracker.&lt;/p&gt;</comment>
                            <comment id="13058850" author="stack" created="Fri, 1 Jul 2011 23:01:21 +0000"  >&lt;p&gt;What is the difference between this patch and the fix done over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3445&quot; title=&quot;Master crashes on data that was moved from different host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3445&quot;&gt;&lt;del&gt;HBASE-3445&lt;/del&gt;&lt;/a&gt;?  They looks similar?&lt;/p&gt;

&lt;p&gt;The patch is a little odd to me. If we fail to make the connection, make an HBaseAdmin instance to get master interface and then connect to the first regionserver.  Aren&apos;t we only interested in the regionserver carrying .META.?&lt;/p&gt;</comment>
                            <comment id="13058857" author="yuzhihong@gmail.com" created="Fri, 1 Jul 2011 23:13:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3445&quot; title=&quot;Master crashes on data that was moved from different host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3445&quot;&gt;&lt;del&gt;HBASE-3445&lt;/del&gt;&lt;/a&gt; deals with SocketTimeoutException.&lt;br/&gt;
But Liu Jia reported seeing NoRouteToHostException.&lt;/p&gt;

&lt;p&gt;If the first region server doesn&apos;t carry .META., verifyRegionLocation() would return false. The handling from here forward is similar to what &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3445&quot; title=&quot;Master crashes on data that was moved from different host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3445&quot;&gt;&lt;del&gt;HBASE-3445&lt;/del&gt;&lt;/a&gt; achieved.&lt;/p&gt;</comment>
                            <comment id="13058862" author="stack" created="Fri, 1 Jul 2011 23:27:31 +0000"  >&lt;p&gt;Why not add a catch block for NoRouteToHostException after the SocketTimeoutException?  That&apos;ll have us return a null connection (verifyRegionLocation returns false if passed a null connection)?&lt;/p&gt;

&lt;p&gt;If that doesn&apos;t work, it looks like we can do away with getting an HBaseAdmin instance.  The HBA#getMaster is nothing but a this.connection.getMaster.  CT already has a connection.  Could do a this.connection.getMaster?  Would that work?&lt;/p&gt;</comment>
                            <comment id="13058895" author="yuzhihong@gmail.com" created="Sat, 2 Jul 2011 01:20:22 +0000"  >&lt;p&gt;Patch version 3 for trunk accommodating review comments.&lt;/p&gt;</comment>
                            <comment id="13060836" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 20:55:16 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1019/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;When cluster is stopped and removing server from cluster which contained meta region, then restart cluster,&lt;br/&gt;
getCachedConnection() throws &quot;NoRouteToHostException&quot;&lt;/p&gt;

&lt;p&gt;NoRouteToHostException is caught, similarly to how SocketTimeoutException is handled.&lt;/p&gt;

&lt;p&gt;If there is uncaught IOException still, we ask Master for list of servers and obtains region connection from one of them.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3867&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java 1142139 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1019/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran test suite.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Ted&lt;/p&gt;
</comment>
                            <comment id="13060861" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 21:49:17 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1019/#review978&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#review978&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1019/#comment2045&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#comment2045&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    i don&apos;t understand this.  if we get an IOE connecting to the server hosting ROOT we get a connection to a random server and then check if it hosts META?&lt;/p&gt;



&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1019/#comment2044&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#comment2044&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    did you intentionally leave this commented out here?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-06 20:53:53, Ted Yu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1019/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-06 20:53:53)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;When cluster is stopped and removing server from cluster which contained meta region, then restart cluster,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;getCachedConnection() throws &quot;NoRouteToHostException&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;NoRouteToHostException is caught, similarly to how SocketTimeoutException is handled.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;If there is uncaught IOException still, we ask Master for list of servers and obtains region connection from one of them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3867&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java 1142139 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1019/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ran test suite.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ted&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13060868" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 22:03:17 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1019/#review979&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#review979&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;Just the two items below.&lt;/p&gt;


&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1019/#comment2046&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#comment2046&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Yeah, what Jon says.  If we pass a null newConnection into verifyRegionLocation, won&apos;t that be fine?&lt;/p&gt;



&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1019/#comment2047&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#comment2047&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Make it LOG.debug(&quot;Connecting to &quot; + sn, e);&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Michael&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-06 20:53:53, Ted Yu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1019/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-06 20:53:53)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;When cluster is stopped and removing server from cluster which contained meta region, then restart cluster,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;getCachedConnection() throws &quot;NoRouteToHostException&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;NoRouteToHostException is caught, similarly to how SocketTimeoutException is handled.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;If there is uncaught IOException still, we ask Master for list of servers and obtains region connection from one of them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3867&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java 1142139 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1019/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ran test suite.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ted&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13060870" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 22:09:16 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1019/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-06 22:08:37.499986)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;When cluster is stopped and removing server from cluster which contained meta region, then restart cluster,&lt;br/&gt;
getCachedConnection() throws &quot;NoRouteToHostException&quot;&lt;/p&gt;

&lt;p&gt;NoRouteToHostException is caught, similarly to how SocketTimeoutException is handled.&lt;/p&gt;

&lt;p&gt;If there is uncaught IOException still, we ask Master for list of servers and obtains region connection from one of them.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3867&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java 1143525 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1019/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran test suite.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Ted&lt;/p&gt;
</comment>
                            <comment id="13060871" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 22:09:18 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1019/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-06 22:07:37.948275)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Removed additional call to master getting servers in the cluster.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;When cluster is stopped and removing server from cluster which contained meta region, then restart cluster,&lt;br/&gt;
getCachedConnection() throws &quot;NoRouteToHostException&quot;&lt;/p&gt;

&lt;p&gt;NoRouteToHostException is caught, similarly to how SocketTimeoutException is handled.&lt;/p&gt;

&lt;p&gt;If there is uncaught IOException still, we ask Master for list of servers and obtains region connection from one of them.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3867&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java 1143525 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1019/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran test suite.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Ted&lt;/p&gt;
</comment>
                            <comment id="13060880" author="jiraposter@reviews.apache.org" created="Wed, 6 Jul 2011 22:25:16 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1019/#review980&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/#review980&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-06 22:08:37, Ted Yu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1019/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-06 22:08:37)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;When cluster is stopped and removing server from cluster which contained meta region, then restart cluster,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;getCachedConnection() throws &quot;NoRouteToHostException&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;NoRouteToHostException is caught, similarly to how SocketTimeoutException is handled.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;If there is uncaught IOException still, we ask Master for list of servers and obtains region connection from one of them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3867&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java 1143525 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1019/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1019/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ran test suite.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ted&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13060884" author="yuzhihong@gmail.com" created="Wed, 6 Jul 2011 22:37:22 +0000"  >&lt;p&gt;Integrated to branch and TRUNK.&lt;/p&gt;

&lt;p&gt;Thanks for the review Jonathan and Stack.&lt;/p&gt;

&lt;p&gt;Waiting for a few days before resolving so that Liu Jia/JunQiang Yuan can try out the fix.&lt;/p&gt;</comment>
                            <comment id="13060999" author="hudson" created="Thu, 7 Jul 2011 02:16:04 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2008 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2008/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2008/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3867&quot; title=&quot;when cluster is stopped and server which hosted meta region is removed from cluster, master breaks down after restarting cluster.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3867&quot;&gt;&lt;del&gt;HBASE-3867&lt;/del&gt;&lt;/a&gt;  when cluster is stopped and server which hosted meta region is&lt;br/&gt;
            removed from cluster, master breaks down after restarting cluster.&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13082922" author="qwertymaniac" created="Thu, 11 Aug 2011 05:18:47 +0000"  >&lt;p&gt;(Removing Fix Version 0.90.2, as that is erroneous. Patch was committed to 0.90.4 in the end.)&lt;/p&gt;</comment>
                            <comment id="15017658" author="lars_francke" created="Fri, 20 Nov 2015 12:43:55 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12484913" name="3867-trunk-v2.txt" size="2602" author="yuzhihong@gmail.com" created="Fri, 1 Jul 2011 18:42:35 +0000"/>
                            <attachment id="12484951" name="3867-trunk-v3.txt" size="2419" author="yuzhihong@gmail.com" created="Sat, 2 Jul 2011 02:45:29 +0000"/>
                            <attachment id="12484730" name="CatalogTracker.patch" size="2123" author="liujia_ict" created="Thu, 30 Jun 2011 08:36:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 May 2011 05:24:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ho8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>