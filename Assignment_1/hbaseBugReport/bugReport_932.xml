<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:48:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-932/HBASE-932.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-932] Regionserver restart rethink</title>
                <link>https://issues.apache.org/jira/browse/HBASE-932</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;If we drop a flush or we fail close a write-ahead log, we currently shutdown the regionserver (we fail because of hdfs usually).  Rather than shut themselves down, how about they restart?  The restart at least in the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-930&quot; title=&quot;RegionServer stuck: HLog: Could not append. Requesting close of log java.io.IOException: Could not get block locations. Aborting...&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-930&quot;&gt;&lt;del&gt;HBASE-930&lt;/del&gt;&lt;/a&gt; might fix the issue shaking DFSClient so it gets sense again.  Even is HDFS is bad, it&apos;ll come around eventually.  The HRS restarting itself plus &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-926&quot; title=&quot;If no master, regionservers should hang out rather than fail on connection and shut themselves down&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-926&quot;&gt;&lt;del&gt;HBASE-926&lt;/del&gt;&lt;/a&gt; fix will make for fast recovery.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12406540">HBASE-932</key>
            <summary>Regionserver restart rethink</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12455267">HBASE-2183</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Oct 2008 22:22:43 +0000</created>
                <updated>Mon, 11 Jul 2011 22:15:48 +0000</updated>
                            <resolved>Mon, 11 Jul 2011 22:15:40 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12640073" author="apurtell" created="Thu, 16 Oct 2008 05:35:13 +0000"  >&lt;p&gt;Our service monitoring and recovery framework detects regionserver shutdowns and restarts them. Seems to work pretty well if the fatal fault was due to e.g. a transient DFS problem, related to loading maybe. Suggest there should be a fixed restart limit and some backoff if a restart is not successful. &lt;/p&gt;</comment>
                            <comment id="12640111" author="rafan" created="Thu, 16 Oct 2008 09:06:44 +0000"  >&lt;p&gt;I like the idea of having something to restart HRS automatically for a limit # of times. This is similar to what daemontools does &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cr.yp.to/daemontools.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cr.yp.to/daemontools.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12640246" author="stack" created="Thu, 16 Oct 2008 18:02:50 +0000"  >&lt;p&gt;Yeah, we had a babysitter on our cluster.  His name was &apos;god&apos;.  He got fired though because he was forever doing restarts when they weren&apos;t wanted and just generally being interfering and causing trouble.&lt;/p&gt;

&lt;p&gt;There&apos;s for sure a place for babysitters.  This issue is based on the postulate that sometimes the regionserver knows more about its state or how it might fix itself than it could even reveal to an external generic daemon babysitter.  For a few hdfs error types, a pause and complete restart &amp;#8211; perhaps attempted N times at most &amp;#8211; could set a regionserver aright again.  Danger would be replication of &apos;god&apos; behavior.&lt;/p&gt;</comment>
                            <comment id="12640579" author="stack" created="Fri, 17 Oct 2008 17:00:37 +0000"  >&lt;p&gt;2008-10-17 10:26:25,374 FATAL org.apache.hadoop.hbase.regionserver.Flusher: Replay of hlog required. Forcing server restart&lt;/p&gt;

&lt;p&gt;In above case, regionserver wants to replay the WAL because flush failed usually because hdfs is hosed.  In above, could restart itself and perhaps all would be well when it came back up (probably not though &amp;#8211; if hdfs is horked... but hbase should try all the possibilities until admin shows up)&lt;/p&gt;</comment>
                            <comment id="12746330" author="stack" created="Fri, 21 Aug 2009 22:56:35 +0000"  >&lt;p&gt;Nitay made this happen for zk session expiration... shouldn&apos;t be hard to make it work for this case.&lt;/p&gt;</comment>
                            <comment id="12829444" author="apurtell" created="Thu, 4 Feb 2010 04:49:58 +0000"  >&lt;p&gt;Reconsider HRS restart strategy as part of handling transient filesystem problems. Should happen only after trying a &quot;safe mode&quot; first, as part of a ride over HDFS restart capability. If can&apos;t leave safe mode after some configured interval elapses, then consider how to shut down.&lt;/p&gt;

&lt;p&gt;Can&apos;t shut down if unfinished writes to WAL are still pending. &lt;/p&gt;</comment>
                            <comment id="12866985" author="stack" created="Thu, 13 May 2010 04:41:01 +0000"  >&lt;p&gt;Moved from 0.21 to 0.22 just after merge of old 0.20 branch into TRUNK.&lt;/p&gt;</comment>
                            <comment id="13047611" author="stack" created="Fri, 10 Jun 2011 22:46:04 +0000"  >&lt;p&gt;Moving out of 0.92.0. Pull it back in if you think different.&lt;/p&gt;</comment>
                            <comment id="13063578" author="apurtell" created="Mon, 11 Jul 2011 22:15:40 +0000"  >&lt;p&gt;Stale issue. Resolving as &apos;Later&apos;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Oct 2008 05:35:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0habz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>