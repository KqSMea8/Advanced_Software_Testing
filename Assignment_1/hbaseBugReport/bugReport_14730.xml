<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:55:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14730/HBASE-14730.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14730] region server needs to log warnings when there are attributes configured for cells with hfile v2</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14730</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;User can configure cell attributes with hfile.format.version 2. When cells are flushed from memStore to Hfile, attributes are not saved. Warnings need to be logged.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12909264">HBASE-14730</key>
            <summary>region server needs to log warnings when there are attributes configured for cells with hfile v2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="huaxiang">huaxiang sun</assignee>
                                    <reporter username="huaxiang">huaxiang sun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Oct 2015 17:42:11 +0000</created>
                <updated>Tue, 28 Jun 2016 16:48:33 +0000</updated>
                            <resolved>Thu, 17 Dec 2015 17:34:27 +0000</resolved>
                                    <version>1.0.0</version>
                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                            <comments>
                            <comment id="14984775" author="anoop.hbase" created="Mon, 2 Nov 2015 05:40:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;When cells are flushed from memStore to Hfile, attributes are not saved.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You mean Cell Tags?&lt;/p&gt;</comment>
                            <comment id="14984777" author="anoop.hbase" created="Mon, 2 Nov 2015 05:43:45 +0000"  >&lt;p&gt;Adding a log for every flush will be too much of log info?&lt;/p&gt;</comment>
                            <comment id="14985641" author="huaxiang" created="Mon, 2 Nov 2015 17:59:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;  Yes, I meant cell tags. That is the concern I have as well. I am seeking better advice as well. Thought about adding a warning per  flush, it seems a hack to me coding wise. Thanks.&lt;/p&gt;</comment>
                            <comment id="14985874" author="huaxiang" created="Mon, 2 Nov 2015 19:36:06 +0000"  >&lt;p&gt;Discussed with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;, Adding a flag in Writer can solve this issue, working on the patch. &lt;/p&gt;</comment>
                            <comment id="15028059" author="hadoopqa" created="Thu, 26 Nov 2015 02:46:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774446/HBASE-14730-v001.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774446/HBASE-14730-v001.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e73a9594c218ed969a2f5b0b356d7b8d0e1474c0.&lt;br/&gt;
  ATTACHMENT ID: 12774446&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16674//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16674//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15032123" author="huaxiang" created="Mon, 30 Nov 2015 17:21:30 +0000"  >&lt;p&gt;Include branch in patch name.&lt;/p&gt;</comment>
                            <comment id="15032134" author="mbertozzi" created="Mon, 30 Nov 2015 17:32:30 +0000"  >&lt;p&gt;is a warn per flush too often? &lt;br/&gt;
if we remove the static on warnCellWithTags we can get the warn per flush. but maybe is too much.&lt;br/&gt;
otherwise as it is we log just once for all the RS lifetime. &lt;/p&gt;</comment>
                            <comment id="15032169" author="hadoopqa" created="Mon, 30 Nov 2015 17:59:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774844/HBASE-14730-v001-1.2.0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774844/HBASE-14730-v001-1.2.0.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 999ae691559a49321138eb7718eb204435639db9.&lt;br/&gt;
  ATTACHMENT ID: 12774844&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16701//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16701//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15033725" author="anoop.hbase" created="Tue, 1 Dec 2015 14:08:21 +0000"  >&lt;p&gt;Yes IMO also warn log per flush seems too much.  Already raised this concern. Ya per life time of an RS once is the best way.&lt;/p&gt;</comment>
                            <comment id="15033726" author="anoop.hbase" created="Tue, 1 Dec 2015 14:11:02 +0000"  >&lt;p&gt;The fix has to come for trunk also. There also one can change to use HFileV2.&lt;br/&gt;
In trunk am sure we can check one boolean during flush which says whether tags are part of any of the cells being flushed.  In this patch we check tags length with every cell..  Parsing tags length is not so simple op FYI.&lt;/p&gt;</comment>
                            <comment id="15034171" author="huaxiang" created="Tue, 1 Dec 2015 17:42:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; Thanks for reviewing and comments. I will take care of the comments and send out a new patch.&lt;/p&gt;</comment>
                            <comment id="15060653" author="huaxiang" created="Wed, 16 Dec 2015 19:42:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; I checked the master branch, the v2 writer is gone, HFileWriterImpl is v3. I tried to search the boolean you mentioned and could not find it. The only thing I found is that in OffheapKeyValue, there is a boolean hasTag, which makes getTagsLength() faster when there is no tag. Thanks. &lt;/p&gt;</comment>
                            <comment id="15060956" author="huaxiang" created="Wed, 16 Dec 2015 21:51:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; With help from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;, we found the flag you mentioned. I uploaded the latest patch. Also found that in DefaultMemStore.java, it can be optimized for tagsPresent, will create another jira for the optimization. Thanks.&lt;/p&gt;

&lt;p&gt;  private boolean addToCellSet(Cell e) {&lt;br/&gt;
    boolean b = this.cellSet.add(e);&lt;br/&gt;
    // In no tags case this NoTagsKeyValue.getTagsLength() is a cheap call.&lt;br/&gt;
    // When we use ACL CP or Visibility CP which deals with Tags during&lt;br/&gt;
    // mutation, the TagRewriteCell.getTagsLength() is a cheaper call. We do not&lt;br/&gt;
    // parse the byte[] to identify the tags length.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if(e.getTagsLength() &amp;gt; 0) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+    if(!tagsPresent &amp;amp;&amp;amp; (e.getTagsLength() &amp;gt; 0)) {
      tagsPresent = true;
    }    setOldestEditTimeToNow();    return b;  }&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15061026" author="hadoopqa" created="Wed, 16 Dec 2015 22:28:18 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12778108/HBASE-14730-v002-1.2.0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12778108/HBASE-14730-v002-1.2.0.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 6a0159046e5301cb45ee2c878ad7583bf9ad94ce.&lt;br/&gt;
  ATTACHMENT ID: 12778108&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16887//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16887//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15061029" author="huaxiang" created="Wed, 16 Dec 2015 22:33:14 +0000"  >&lt;p&gt;Rename the patch so it can be picked up for branch-1.2.&lt;/p&gt;</comment>
                            <comment id="15061030" author="huaxiang" created="Wed, 16 Dec 2015 22:33:38 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14995&quot; title=&quot;Optimize setting tagsPresent in DefaultMemStore.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14995&quot;&gt;HBASE-14995&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15061323" author="hadoopqa" created="Thu, 17 Dec 2015 02:04:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16893//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15062070" author="anoop.hbase" created="Thu, 17 Dec 2015 14:04:20 +0000"  >&lt;p&gt;Patch looks good.&lt;/p&gt;</comment>
                            <comment id="15062351" author="huaxiang" created="Thu, 17 Dec 2015 17:11:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Thanks a lot for reviewing and the comments. &lt;/p&gt;</comment>
                            <comment id="15062374" author="anoop.hbase" created="Thu, 17 Dec 2015 17:22:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;  You will commit the patch?&lt;/p&gt;</comment>
                            <comment id="15062377" author="mbertozzi" created="Thu, 17 Dec 2015 17:24:41 +0000"  >&lt;p&gt;sure, let me commit that now.&lt;/p&gt;</comment>
                            <comment id="15062736" author="hudson" created="Thu, 17 Dec 2015 20:26:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #348 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/348/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/348/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (matteo.bertozzi: rev a67f581a92f76906ac0c68535aa71cec6798318f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15062781" author="hudson" created="Thu, 17 Dec 2015 20:52:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #451 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/451/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/451/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (matteo.bertozzi: rev a67f581a92f76906ac0c68535aa71cec6798318f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15063105" author="hudson" created="Thu, 17 Dec 2015 23:44:12 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1710 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1710/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1710/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (matteo.bertozzi: rev af1f6ee18860ca3c6f2117a01fd6b9006e7ffefa)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15064226" author="hudson" created="Fri, 18 Dec 2015 17:08:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1124 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1124/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1124/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (matteo.bertozzi: rev 736f5b3abf16e922439af614d4754e0dfa9858a2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119472" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:28 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                            <comment id="15336589" author="mantonov" created="Fri, 17 Jun 2016 18:06:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huaxiang&quot; class=&quot;user-hover&quot; rel=&quot;huaxiang&quot;&gt;huaxiang sun&lt;/a&gt; that wasn&apos;t committed to other branches, master, b-1, b-1.3? Any reason for that? Going to port to other branches unless there&apos;s a reason not to.&lt;/p&gt;</comment>
                            <comment id="15336632" author="huaxiang" created="Fri, 17 Jun 2016 18:27:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;, in master and b-1, maybe b-1.3, there is no v2 writer, only v3 writer, so the patch is not needed for these branches. I will double check and confirm.&lt;/p&gt;</comment>
                            <comment id="15336637" author="mantonov" created="Fri, 17 Jun 2016 18:29:14 +0000"  >&lt;p&gt;In b-1 there&apos;s HFileWriterV2. &lt;/p&gt;</comment>
                            <comment id="15336651" author="huaxiang" created="Fri, 17 Jun 2016 18:35:23 +0000"  >&lt;p&gt;Yeah, it exists in b-1. Not sure if patch for branch-1.2 still applies to branch-1, if not, I can work on one, thanks!&lt;/p&gt;</comment>
                            <comment id="15336659" author="mantonov" created="Fri, 17 Jun 2016 18:38:29 +0000"  >&lt;p&gt;It cherry-picked cleanly in b-1. let me commit it . Thanks for checking!&lt;/p&gt;</comment>
                            <comment id="15336666" author="mantonov" created="Fri, 17 Jun 2016 18:41:02 +0000"  >&lt;p&gt;Pushed to branch-1 and branch-1.3 Thanks!&lt;/p&gt;</comment>
                            <comment id="15336815" author="huaxiang" created="Fri, 17 Jun 2016 20:01:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; just mentioned that a patch would be needed for master branch as well. For  bulkload tools, it is possible to forget to set includesTags, like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15707&quot; title=&quot;ImportTSV bulk output does not support tags with hfile.format.version=3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15707&quot;&gt;&lt;del&gt;HBASE-15707&lt;/del&gt;&lt;/a&gt;. I am going to work on a patch for the master.&lt;/p&gt;</comment>
                            <comment id="15336818" author="mantonov" created="Fri, 17 Jun 2016 20:03:43 +0000"  >&lt;p&gt;I see - thanks!&lt;/p&gt;</comment>
                            <comment id="15337030" author="hudson" created="Fri, 17 Jun 2016 21:42:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.4 #222 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.4/222/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.4/222/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (antonov: rev 1f37cdfb4b970649d30a6ff41f00c7cf0b46aabc)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15337128" author="hudson" created="Fri, 17 Jun 2016 22:30:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #744 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/744/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/744/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (antonov: rev 39ee3091a149dc85141b80a34a74f8f6283c4011)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15337178" author="hudson" created="Fri, 17 Jun 2016 23:02:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #714 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/714/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/714/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14730&quot; title=&quot;region server needs to log warnings when there are attributes configured for cells with hfile v2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14730&quot;&gt;&lt;del&gt;HBASE-14730&lt;/del&gt;&lt;/a&gt; region server needs to log warnings when there are (antonov: rev 39ee3091a149dc85141b80a34a74f8f6283c4011)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15351943" author="huaxiang" created="Mon, 27 Jun 2016 22:15:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, with HFile version 3, includesTags in HFileContext can still be set to false, please see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15707&quot; title=&quot;ImportTSV bulk output does not support tags with hfile.format.version=3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15707&quot;&gt;&lt;del&gt;HBASE-15707&lt;/del&gt;&lt;/a&gt;. The warning message may not be appropriate here. Do you have suggestion for the warning message? Another thought, for master/hbase-2.0, do you think it is a good idea for the includesTags to be true by default? If it needs to be set to false, user can call api to set. Thanks. &lt;/p&gt;</comment>
                            <comment id="15352394" author="stack" created="Tue, 28 Jun 2016 05:44:23 +0000"  >&lt;p&gt;Lads. This patch makes for a new findbugs warning: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2390/artifact/patchprocess/branch-findbugs-hbase-server-warnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2390/artifact/patchprocess/branch-findbugs-hbase-server-warnings.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you are good w/ the code, i can fix the findbugs warning... just say.&lt;/p&gt;</comment>
                            <comment id="15352411" author="anoop.hbase" created="Tue, 28 Jun 2016 05:58:06 +0000"  >&lt;p&gt;With HFile V3, writing Tags to files will happen. It can be turned off using that boolean state in HFileContext.  But this is not exposed for user modification.  The code handles that when it see that there are no tags as part of any of the Cells in new File.   Places where turning ON this context state (It should be ON by default) is a bug for us. I mean the ImportTSV case etc.&lt;br/&gt;
This jira speaks abt end user usage of tag related attributes for data and V3 is not enabled.  So there is no problem in the fix.&lt;/p&gt;</comment>
                            <comment id="15352418" author="anoop.hbase" created="Tue, 28 Jun 2016 06:02:25 +0000"  >&lt;p&gt;Sorry for that Stack.&lt;br/&gt;
We added static variable so as to reduce the log warns.&lt;br/&gt;
But just thinking..  It is a clear wrong usage from customer..  They use feature which need write Cell tags but V3 is not used. Still write happens via HFileWriterV2.  So let us log warn more?  Just a new thought&lt;/p&gt;</comment>
                            <comment id="15353316" author="huaxiang" created="Tue, 28 Jun 2016 16:27:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Thanks for explain. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;,  I just searched the stackoverflow. It seems there is a way to workaround this warning. I will try to come up with a new patch, thanks.&lt;/p&gt;</comment>
                            <comment id="15353333" author="stack" created="Tue, 28 Jun 2016 16:34:00 +0000"  >&lt;p&gt;This issue is closed now. Do a new issue?&lt;/p&gt;</comment>
                            <comment id="15353347" author="huaxiang" created="Tue, 28 Jun 2016 16:42:02 +0000"  >&lt;p&gt;Will open a new jira to track.&lt;/p&gt;</comment>
                            <comment id="15353360" author="huaxiang" created="Tue, 28 Jun 2016 16:48:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16137&quot; title=&quot;Fix findbugs warning introduced by hbase-14730&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16137&quot;&gt;HBASE-16137&lt;/a&gt; is opened to track the findbug warning.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12774844" name="HBASE-14730-v001-1.2.0.patch" size="1255" author="huaxiang" created="Mon, 30 Nov 2015 17:21:30 +0000"/>
                            <attachment id="12774446" name="HBASE-14730-v001.patch" size="1255" author="huaxiang" created="Thu, 26 Nov 2015 00:36:34 +0000"/>
                            <attachment id="12778108" name="HBASE-14730-v002-1.2.0.patch" size="1237" author="huaxiang" created="Wed, 16 Dec 2015 21:44:55 +0000"/>
                            <attachment id="12778122" name="HBASE-14730-v002_branch-1.2.patch" size="1237" author="huaxiang" created="Wed, 16 Dec 2015 22:32:03 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12986979">HBASE-16180</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Nov 2015 05:40:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nr3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>