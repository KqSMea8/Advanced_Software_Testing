<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:05:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2819/HBASE-2819.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2819] hbck should have the ability to repair basic problems</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2819</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Right now, the hbck utility can detect issues with region deployment but can&apos;t fix them.&lt;/p&gt;

&lt;p&gt;It should be able to handle basic things like closing one side of a double assignment, re-adding something to META, etc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12468688">HBASE-2819</key>
            <summary>hbck should have the ability to repair basic problems</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jul 2010 04:54:55 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:14 +0000</updated>
                            <resolved>Fri, 5 Nov 2010 18:24:09 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12899685" author="nspiegelberg" created="Wed, 18 Aug 2010 01:17:43 +0000"  >&lt;p&gt;Alexander is working on this problem for us.  We&apos;re planning on a repair tool for: region double-assignment + unassigned regions&lt;/p&gt;</comment>
                            <comment id="12913771" author="espr1t" created="Wed, 22 Sep 2010 20:40:09 +0000"  >&lt;p&gt;This patch is for the 0.89 branch, adding functionality to HBase FSCK (HBCK) to fix some of the common issues that may arise while running HBase.&lt;br/&gt;
New features are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added -fix option, which tries to repair duplicate assignments or unassigned regions in META.&lt;/li&gt;
	&lt;li&gt;Check if META and ROOT are good before starting the usual check process.&lt;/li&gt;
	&lt;li&gt;Check table consistency - if there are missing or overlapping regions&lt;/li&gt;
	&lt;li&gt;Added option for quiet run, which doesn&apos;t print most of the information&lt;/li&gt;
	&lt;li&gt;Added printing of summary of the check - number of tables, per-table number of regions, which tables are consistent and which are not and so on.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It uses a RPC call which is no longer available after the master rewrite, so it might take some time to integrate. We are currently working on that.&lt;/p&gt;</comment>
                            <comment id="12913918" author="stack" created="Thu, 23 Sep 2010 06:09:05 +0000"  >&lt;p&gt;@Alexander I took a look at the patch.  It looks great.  I wouldn&apos;t sweat the integartion with new master.  I can do it.   It shouldn&apos;t take long (some of the new RPCs don&apos;t make sense in new master context while others added by this patch are present in new master).&lt;/p&gt;</comment>
                            <comment id="12917112" author="stack" created="Fri, 1 Oct 2010 23:52:29 +0000"  >&lt;p&gt;Marking patch available... needs to be updated for TRUNK.&lt;/p&gt;</comment>
                            <comment id="12923243" author="streamy" created="Wed, 20 Oct 2010 23:52:20 +0000"  >&lt;p&gt;I spent some time putting this onto trunk.  The repair stuff that we added to work on the old master doesn&apos;t make much sense anymore on the new master.  For example, it should be impossible for a region to just go unassigned with no trace of how it happened.  If it doesn&apos;t open properly there is a ZK node.&lt;/p&gt;

&lt;p&gt;This is not to say we don&apos;t need hbck with the new master.  I just don&apos;t think we know what issues we&apos;ll run into, but they&apos;ll certainly be different.  I could imagine having RIT nodes stuck in weird states and things like that.&lt;/p&gt;

&lt;p&gt;Should I put up a patch with what I have against trunk?  It has some basic versions of the same repair stuff that worked on the old master, but like I said, may not make much sense. &lt;/p&gt;

&lt;p&gt;And then we can open a new jira for 0.92 to make hbck even gooder?&lt;/p&gt;</comment>
                            <comment id="12923244" author="stack" created="Thu, 21 Oct 2010 00:00:59 +0000"  >&lt;p&gt;We need a working hbck in 0.90... It can be read-only.  If we don&apos;t know the issues yet, then yeah, can&apos;t have it do fixup... &lt;br/&gt;
but yeah, get it in.&lt;/p&gt;</comment>
                            <comment id="12923245" author="streamy" created="Thu, 21 Oct 2010 00:07:02 +0000"  >&lt;p&gt;Will work on getting something up on RB tonight.&lt;/p&gt;</comment>
                            <comment id="12923246" author="streamy" created="Thu, 21 Oct 2010 00:07:41 +0000"  >&lt;p&gt;Canceling current patch.  Working on the remix.&lt;/p&gt;</comment>
                            <comment id="12923267" author="streamy" created="Thu, 21 Oct 2010 00:46:40 +0000"  >&lt;p&gt;Latest patch up for review: &lt;a href=&quot;https://review.cloudera.org/r/1036&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://review.cloudera.org/r/1036&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12927318" author="stack" created="Tue, 2 Nov 2010 06:15:52 +0000"  >&lt;p&gt;Minor fix on top of patch posted to RB.  Not done yet.  Will post to RB when finished.&lt;/p&gt;</comment>
                            <comment id="12927690" author="stack" created="Tue, 2 Nov 2010 23:54:10 +0000"  >&lt;p&gt;Minor fixes.&lt;/p&gt;</comment>
                            <comment id="12928135" author="stack" created="Thu, 4 Nov 2010 06:16:05 +0000"  >&lt;p&gt;Something to add to this patch &amp;#8211; being able to deal with empty cells in .META.  HBCK should fix these up.&lt;/p&gt;</comment>
                            <comment id="12928719" author="stack" created="Fri, 5 Nov 2010 18:11:24 +0000"  >&lt;p&gt;Found a few issues in RPC trying to make a basic unit tests where I run hbck in unit test context.   The QoS stuff in HRegionServer presumed all invocations had an argument (getOnlineRegions has no param) and then getOnlineRegions returned a NavigableSet which we can&apos;t handle in HBaseObjectWritable.&lt;/p&gt;

&lt;p&gt;Upped the RPC version number again. This probably means REST will fail again up on hudson &amp;#8211; because I believe there is an old server running across tests &amp;#8211; but will deal with that in a different issue.&lt;/p&gt;

&lt;p&gt;Fixed HBaseFsck so it scans &lt;del&gt;ROOT&lt;/del&gt;... was broke the way it was written.&lt;/p&gt;

&lt;p&gt;HBaseAdmin has handling of null HRegionInfo.&lt;/p&gt;

&lt;p&gt;All of above based on the last patch Jon posted to review.hbase.org.&lt;/p&gt;
</comment>
                            <comment id="12928726" author="stack" created="Fri, 5 Nov 2010 18:24:09 +0000"  >&lt;p&gt;I committed v14 of this patch.  It basically works.  Regards what this issue is about, fixing breakage, well, thats a bit tougher.  The original patch fixed issues in old master.  Then this issue was all about update of hbck and of the attached patch to work with new master &amp;#8211; the issue was hijacked.  I&apos;m going to close this issue on application of v14.  Will open new issues to add fixup for new master (we&apos;re not too sure on how it breaks at mo. so how-to-fix is still to be worked out).&lt;/p&gt;

&lt;p&gt;I need this patch in place playing with enable/disable of big tables.&lt;/p&gt;</comment>
                            <comment id="15016922" author="lars_francke" created="Fri, 20 Nov 2015 12:41:14 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12468687">HBASE-2818</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458797" name="2819-addendum.txt" size="6004" author="stack" created="Thu, 4 Nov 2010 06:16:05 +0000"/>
                            <attachment id="12458614" name="2819-v10.txt" size="47793" author="stack" created="Tue, 2 Nov 2010 06:15:52 +0000"/>
                            <attachment id="12458695" name="2819-v11.txt" size="51228" author="stack" created="Tue, 2 Nov 2010 23:54:10 +0000"/>
                            <attachment id="12458777" name="2819-v12.txt" size="55216" author="stack" created="Wed, 3 Nov 2010 23:47:23 +0000"/>
                            <attachment id="12458862" name="2819-v13.txt" size="60621" author="stack" created="Thu, 4 Nov 2010 23:29:37 +0000"/>
                            <attachment id="12458936" name="2819-v14.txt" size="68949" author="stack" created="Fri, 5 Nov 2010 18:11:24 +0000"/>
                            <attachment id="12455305" name="HBASE-2819.patch" size="53540" author="espr1t" created="Wed, 22 Sep 2010 20:40:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Aug 2010 01:17:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hjdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>