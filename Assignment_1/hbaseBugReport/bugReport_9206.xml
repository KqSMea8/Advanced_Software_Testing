<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:02:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9206/HBASE-9206.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9206] namespace permissions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9206</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Now that we have namespaces let&apos;s address how we can give admins more flexibility.&lt;/p&gt;

&lt;p&gt;Let&apos;s list out the privileges we&apos;d like. Then we can map it to existing privileges and see if we need more. &lt;/p&gt;

&lt;p&gt;So far we have:&lt;/p&gt;

&lt;p&gt;1. Modify namespace descriptor (ie quota, other values)&lt;br/&gt;
2. create namespace&lt;br/&gt;
3. delete namespace&lt;br/&gt;
4. list tables in namespace&lt;br/&gt;
5. create/drop tables in a namespace&lt;br/&gt;
6. All namespace&apos;s tables create&lt;br/&gt;
7. All namespace&apos;s tables write&lt;br/&gt;
8. All namespace&apos;s tables execute&lt;br/&gt;
9. All namespace&apos;s tables delete&lt;br/&gt;
10. All namespace&apos;s tables admin&lt;/p&gt;

&lt;p&gt;1-3, is currently set to global admin only. Which seems acceptable to me.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12663462">HBASE-9206</key>
            <summary>namespace permissions</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12635622">HBASE-8015</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="toffer">Francis Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Aug 2013 17:17:09 +0000</created>
                <updated>Tue, 28 Apr 2015 04:45:38 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>20</watches>
                                                                <comments>
                            <comment id="13738613" author="apurtell" created="Tue, 13 Aug 2013 18:29:15 +0000"  >&lt;p&gt;I see namespaces as another level in a hierarchy of grants: cell, column family, table, namespace, global. List that out in the inverse for the dominance relationship. If we do that, then it addresses:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;6. All namespace&apos;s tables create&lt;br/&gt;
7. All namespace&apos;s tables write&lt;br/&gt;
8. All namespace&apos;s tables execute&lt;br/&gt;
9. All namespace&apos;s tables delete&lt;br/&gt;
10. All namespace&apos;s tables admin&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agree this sounds reasonable:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;1-3, is currently set to global admin only. Which seems acceptable to me.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For these:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;4. list tables in namespace&lt;br/&gt;
5. create/drop tables in a namespace&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;and also tangentially related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8692&quot; title=&quot;[AccessController] Restrict HTableDescriptor enumeration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8692&quot;&gt;&lt;del&gt;HBASE-8692&lt;/del&gt;&lt;/a&gt;, here&apos;s a thought: We could introduce a new permission &apos;S&apos; (SCHEMA) for accessing and manipulating table and namespace schema.&lt;/p&gt;</comment>
                            <comment id="13739174" author="toffer" created="Wed, 14 Aug 2013 03:18:12 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I see namespaces as another level in a hierarchy of grants: cell, column family, table, namespace, global. List that out in the inverse for the dominance relationship. If we do that, then it addresses:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I see in that case. 6-10. Should directly map to RWXCA for consistency.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;and also tangentially related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8692&quot; title=&quot;[AccessController] Restrict HTableDescriptor enumeration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8692&quot;&gt;&lt;del&gt;HBASE-8692&lt;/del&gt;&lt;/a&gt;, here&apos;s a thought: We could introduce a new permission &apos;S&apos; (SCHEMA) for accessing and manipulating table and namespace schema.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Shouldn&apos;t &apos;R&apos; on a table be enough to read schema and &apos;S&apos; for manipulating it? Small nitpick, namespace doesn&apos;t have schema. So maybe &apos;M&apos; would be better for metadata?&lt;/p&gt;

&lt;p&gt;For #4. On a &quot;list by namespace&quot; command how about we hide tables a user does not have any privilege to? Tho this seems a bit difficult when it comes down to cell. Or can we make cell level an exception?&lt;/p&gt;

&lt;p&gt;For #5. If you have a namespace &apos;C&apos; then it should translate to being able to create a table in a namespace.&lt;/p&gt;</comment>
                            <comment id="13739192" author="toffer" created="Wed, 14 Aug 2013 03:56:10 +0000"  >&lt;blockquote&gt;
&lt;p&gt;and also tangentially related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8692&quot; title=&quot;[AccessController] Restrict HTableDescriptor enumeration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8692&quot;&gt;&lt;del&gt;HBASE-8692&lt;/del&gt;&lt;/a&gt;, here&apos;s a thought: We could introduce a new permission &apos;S&apos; (SCHEMA) for accessing and manipulating table and namespace schema.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thinking about this more we already have &apos;A&apos; for manipulating table schema. Tho I don&apos;t want namespace &apos;A&apos; to permit namespace metadata manipulation as that&apos;s where we&apos;ll store quota information. So if we only allow global &apos;A&apos; to manipulate namespace metadata then we&apos;re set?&lt;/p&gt;</comment>
                            <comment id="13742326" author="apurtell" created="Fri, 16 Aug 2013 15:48:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Small nitpick, namespace doesn&apos;t have schema&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The namespace itself is schema. &lt;/p&gt;

&lt;p&gt;&apos;M&apos; works. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Shouldn&apos;t &apos;R&apos; on a table be enough to read schema and &apos;S&apos; for manipulating it&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t believe so. Some users want a user or application to be able to read table data yet not be able to access sensitive metadata in the schema, an HCD attribute, for example. That was the motivation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8692&quot; title=&quot;[AccessController] Restrict HTableDescriptor enumeration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8692&quot;&gt;&lt;del&gt;HBASE-8692&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;For #4. On a &quot;list by namespace&quot; command how about we hide tables a user does not have any privilege to? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There&apos;s precedent as AccessControlFilter. So we would have to go back and add a CP hook in getTableNames/listTableNames after all. Maybe a filter like interface for the descriptor enumeration there.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;can we make cell level an exception?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We could.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If you have a namespace &apos;C&apos; then it should translate to being able to create a table in a namespace.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;
</comment>
                            <comment id="13742337" author="apurtell" created="Fri, 16 Aug 2013 15:58:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;Tho I don&apos;t want namespace &apos;A&apos; to permit namespace metadata manipulation as that&apos;s where we&apos;ll store quota information. So if we only allow global &apos;A&apos; to manipulate namespace metadata then we&apos;re set?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;In which case seems no separate permission for metadata is needed now.&lt;/p&gt;

&lt;p&gt;To summarize current discussion:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;RWXCA&apos; on the namespace dominates permissions for tables and CFs in the namespace.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;C&apos; on the namespace also allows table creation in the namespace.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;A&apos; on the namespace does not grant admin privilege - let&apos;s document this exception clearly.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Global permissions &apos;A&apos; and &apos;C&apos; dominate namespace perms and also grant admin and create perms on the namespace itself.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The AccessController should filter out tables for which the user doesn&apos;t have privilege when enumerating descriptors for the list table names APIs. We ignore cell level perms when deciding.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That right?&lt;/p&gt;</comment>
                            <comment id="13744037" author="toffer" created="Mon, 19 Aug 2013 17:35:48 +0000"  >&lt;p&gt;Yep a few minor clarifications:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&apos;C&apos; on the namespace also allows table creation in the namespace.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Does not grant create/drop privilege on the namespace, this also needs needs to be documented clearly.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The AccessController should filter out tables for which the user doesn&apos;t have privilege when enumerating descriptors for the list table names APIs. We ignore cell level perms when deciding.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thinking about this again. It might just be better to have a privilege which restricts list namespace and list tables by namespace as well as list tables. Tho we currently don&apos;t have a use case in either case. But restricting instead of hiding seems to be a more straightforward approach. Will have to see how other DBs do it.&lt;/p&gt;
</comment>
                            <comment id="13744074" author="apurtell" created="Mon, 19 Aug 2013 18:05:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;Thinking about this again. It might just be better to have a privilege which restricts list namespace and list tables by namespace as well as list tables.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Either way seems fine to me.&lt;/p&gt;</comment>
                            <comment id="13753171" author="enis" created="Thu, 29 Aug 2013 01:39:25 +0000"  >&lt;p&gt;Is this a blocker for 0.96? &lt;/p&gt;</comment>
                            <comment id="13753280" author="stack" created="Thu, 29 Aug 2013 04:07:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; My understanding is that it is not (Right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;?)&lt;/p&gt;</comment>
                            <comment id="13753401" author="apurtell" created="Thu, 29 Aug 2013 07:43:21 +0000"  >&lt;p&gt;No, my understanding is this is a discussion carried over from another namespace JIRA for post 0.96.0.&lt;/p&gt;</comment>
                            <comment id="13758069" author="toffer" created="Wed, 4 Sep 2013 18:00:40 +0000"  >&lt;p&gt;Yep addressed in later minor version of 0.96.&lt;/p&gt;</comment>
                            <comment id="13758074" author="toffer" created="Wed, 4 Sep 2013 18:02:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; It seems we&apos;re close to a resolution here. So how about adding a new privilege for listing tables and tables in a namespace? &quot;L&quot;?&lt;/p&gt;</comment>
                            <comment id="13783687" author="apurtell" created="Wed, 2 Oct 2013 06:05:19 +0000"  >&lt;p&gt;+1 to L&lt;/p&gt;</comment>
                            <comment id="13914759" author="terrasect" created="Thu, 27 Feb 2014 17:23:52 +0000"  >&lt;p&gt;Hi, is this ticket still being worked on? There hasn&apos;t been any activity since October. &lt;/p&gt;

&lt;p&gt;Currently, any user can either drop anyone else&apos;s table OR that user can not create their own tables, which presents a problem. It looks like this ticket would provide the ability to both have separate permissions in different namespaces, as well as separating the permissions for creating and deleting/dropping tables.&lt;/p&gt;</comment>
                            <comment id="13917767" author="enis" created="Mon, 3 Mar 2014 06:12:50 +0000"  >&lt;p&gt;Let&apos;s try to fix this before 1.0. &lt;/p&gt;</comment>
                            <comment id="13954843" author="enis" created="Sun, 30 Mar 2014 21:49:45 +0000"  >&lt;p&gt;Anyone up for taking this for 1.0? I think it is important to get the semantics nailed down and consistent across all levels in the hierarchy. I like the way Andrew presents it in the first comment. &lt;/p&gt;</comment>
                            <comment id="13961597" author="toffer" created="Mon, 7 Apr 2014 00:58:02 +0000"  >&lt;p&gt;We might be able to take this depending on how much attention 0.98 needs this quarter.&lt;/p&gt;</comment>
                            <comment id="14186835" author="pateljaymin" created="Tue, 28 Oct 2014 13:36:12 +0000"  >&lt;p&gt;Any updates on this making it in any release ?&lt;/p&gt;</comment>
                            <comment id="14188907" author="stack" created="Wed, 29 Oct 2014 20:04:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt; Should we move out of 1.0? Would be good to have it in.&lt;/p&gt;</comment>
                            <comment id="14215760" author="toffer" created="Tue, 18 Nov 2014 06:06:22 +0000"  >&lt;p&gt;Yes, let&apos;s get it in. Going through the Jira:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&apos;RWXCA&apos; on the namespace dominates permissions for tables and CFs in the namespace.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is already done in a separate Jira.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&apos;C&apos; on the namespace also allows table creation in the namespace.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Needs to be done. Have internal patch.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&apos;A&apos; on the namespace does not grant admin privilege - let&apos;s document this exception clearly.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is already true. AFAIK.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    Global permissions &apos;A&apos; and &apos;C&apos; dominate namespace perms and also grant admin and create perms on the namespace itself.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is also true. Need to check.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;adding a new privilege for listing tables and tables in a namespace? &quot;L&quot;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This needs to be done.&lt;/p&gt;

&lt;p&gt;So it seems to me &apos;C&apos; and &apos;L&apos; privileges are what&apos;s missing. We can push &apos;C&apos; upstream. Which IMHO is one of the most useful privileges. For &apos;L&apos;, will try to get to it, not unless someone has time. Will create two subtasks.&lt;/p&gt;


</comment>
                            <comment id="14215763" author="toffer" created="Tue, 18 Nov 2014 06:16:22 +0000"  >&lt;p&gt;Just found out a subtask cannot have a subtask created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12511&quot; title=&quot;namespace permissions - add support from table creation privilege in a namespace &amp;#39;C&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12511&quot;&gt;&lt;del&gt;HBASE-12511&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12512&quot; title=&quot;namespace permissions - add support for namespace list privilege &amp;#39;L&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12512&quot;&gt;HBASE-12512&lt;/a&gt; in the parent task.&lt;/p&gt;</comment>
                            <comment id="14219887" author="enis" created="Thu, 20 Nov 2014 19:58:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;Needs to be done. Have internal patch.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We can have this in 1.0, and leave out the &lt;tt&gt;L&lt;/tt&gt; work for 2.0 I think. &lt;/p&gt;</comment>
                            <comment id="14233382" author="toffer" created="Wed, 3 Dec 2014 19:19:46 +0000"  >&lt;blockquote&gt;
&lt;p&gt;We can have this in 1.0, and leave out the L work for 2.0 I think.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sounds good. Let&apos;s continue discussion for &apos;C&apos; in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12511&quot; title=&quot;namespace permissions - add support from table creation privilege in a namespace &amp;#39;C&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12511&quot;&gt;&lt;del&gt;HBASE-12511&lt;/del&gt;&lt;/a&gt; as the patch will be uploaded there.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12704125">HBASE-10856</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Aug 2013 18:29:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343463</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n8cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343767</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>