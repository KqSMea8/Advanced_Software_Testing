<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:56:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8540/HBASE-8540.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8540] SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8540</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;On a cluster with &quot;hbase.snapshot.enabled&quot; true, the /hbase/.hbase-snapshot directory will not exists until a first snapshot will get created.&lt;/p&gt;

&lt;p&gt;meanwhile the SnapshotFileCache (snapshot cleaner) will keep print out as error that the snapshot dir doesn&apos;t exists every N seconds (&quot;hbase.master.hfilecleaner.plugins.snapshot.period&quot;)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Snapshot directory: &quot;&lt;/span&gt; + snapshotDir + &lt;span class=&quot;code-quote&quot;&gt;&quot; doesn&apos;t exist&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12647409">HBASE-8540</key>
            <summary>SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 May 2013 23:50:32 +0000</created>
                <updated>Tue, 4 Jun 2013 00:06:58 +0000</updated>
                            <resolved>Wed, 15 May 2013 19:43:14 +0000</resolved>
                                    <version>0.94.7</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.8</fixVersion>
                    <fixVersion>0.95.1</fixVersion>
                                    <component>snapshots</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13656564" author="mbertozzi" created="Tue, 14 May 2013 00:06:44 +0000"  >&lt;p&gt;My guess is that we should care about the missing dir just when we got a non empty directory in the previous run...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cache.size() &amp;gt; 0) {
  LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Snapshot directory: &quot;&lt;/span&gt; + snapshotDir + &lt;span class=&quot;code-quote&quot;&gt;&quot; doesn&apos;t exist&quot;&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;any other thoughts?&lt;/p&gt;</comment>
                            <comment id="13656601" author="mbertozzi" created="Tue, 14 May 2013 00:50:10 +0000"  >&lt;p&gt;in trunk the error message was removed with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7955&quot; title=&quot;Remove log &amp;quot;ERROR snapshot.SnapshotFileCache: Snapshot directory doesn&amp;#39;t exist&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7955&quot;&gt;&lt;del&gt;HBASE-7955&lt;/del&gt;&lt;/a&gt; (not backported), but I think that make sense having it if the directory was there, with content, in a previous run.&lt;/p&gt;</comment>
                            <comment id="13657267" author="sershe" created="Tue, 14 May 2013 17:45:37 +0000"  >&lt;p&gt;I assume this directory is not ever deleted (like when you disable)? In that case +1&lt;/p&gt;</comment>
                            <comment id="13657275" author="mbertozzi" created="Tue, 14 May 2013 17:49:09 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;I assume &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; directory is not ever deleted (like when you disable)?&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Yes the directory is never deleted, and also if you disable the snapshot you don&apos;t have this cleaner running, so even in that case you will not get the message.&lt;/p&gt;</comment>
                            <comment id="13658935" author="hudson" created="Wed, 15 May 2013 22:31:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #141 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/141/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/141/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8540&quot; title=&quot;SnapshotFileCache logs too many times if snapshot dir doesn&amp;#39;t exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8540&quot;&gt;&lt;del&gt;HBASE-8540&lt;/del&gt;&lt;/a&gt; SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists (Revision 1483046)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13658968" author="hudson" created="Wed, 15 May 2013 22:57:43 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #196 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/196/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/196/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8540&quot; title=&quot;SnapshotFileCache logs too many times if snapshot dir doesn&amp;#39;t exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8540&quot;&gt;&lt;del&gt;HBASE-8540&lt;/del&gt;&lt;/a&gt; SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists (Revision 1483025)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13659159" author="hudson" created="Thu, 16 May 2013 02:35:39 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #4122 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4122/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8540&quot; title=&quot;SnapshotFileCache logs too many times if snapshot dir doesn&amp;#39;t exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8540&quot;&gt;&lt;del&gt;HBASE-8540&lt;/del&gt;&lt;/a&gt; SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists (Revision 1483024)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13659223" author="hudson" created="Thu, 16 May 2013 04:50:42 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #984 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/984/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/984/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8540&quot; title=&quot;SnapshotFileCache logs too many times if snapshot dir doesn&amp;#39;t exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8540&quot;&gt;&lt;del&gt;HBASE-8540&lt;/del&gt;&lt;/a&gt; SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists (Revision 1483046)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13659241" author="hudson" created="Thu, 16 May 2013 05:19:51 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #532 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/532/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/532/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8540&quot; title=&quot;SnapshotFileCache logs too many times if snapshot dir doesn&amp;#39;t exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8540&quot;&gt;&lt;del&gt;HBASE-8540&lt;/del&gt;&lt;/a&gt; SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists (Revision 1483024)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13659275" author="hudson" created="Thu, 16 May 2013 06:13:07 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #101 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/101/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/101/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8540&quot; title=&quot;SnapshotFileCache logs too many times if snapshot dir doesn&amp;#39;t exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8540&quot;&gt;&lt;del&gt;HBASE-8540&lt;/del&gt;&lt;/a&gt; SnapshotFileCache logs too many times if snapshot dir doesn&apos;t exists (Revision 1483025)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
mbertozzi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/snapshot/SnapshotFileCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12583052" name="HBASE-8540-v0.patch" size="1303" author="mbertozzi" created="Tue, 14 May 2013 00:50:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 May 2013 17:45:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kjvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>