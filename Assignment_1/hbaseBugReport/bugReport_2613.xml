<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:03:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2613/HBASE-2613.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2613] Remove the code around MSG_CALL_SERVER_STARTUP</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2613</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently we have a weird piece of code in the master that handles region servers that report but that we don&apos;t know about. People likely see:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Received report from unknown server -- telling it &quot;&lt;/span&gt; +
        &lt;span class=&quot;code-quote&quot;&gt;&quot;to &quot;&lt;/span&gt; + HMsg.CALL_SERVER_STARTUP + &lt;span class=&quot;code-quote&quot;&gt;&quot;: &quot;&lt;/span&gt; + info.getServerName());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I never saw that working.correctly, usually the region server will restar-ish and we will likely end up with double assignment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465411">HBASE-2613</key>
            <summary>Remove the code around MSG_CALL_SERVER_STARTUP</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 May 2010 23:02:11 +0000</created>
                <updated>Fri, 12 Oct 2012 06:15:38 +0000</updated>
                            <resolved>Wed, 26 May 2010 23:10:02 +0000</resolved>
                                                    <fixVersion>0.20.5</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12871449" author="hbasereviewboard" created="Wed, 26 May 2010 00:15:26 +0000"  >&lt;p&gt;Message from: &quot;Jean-Daniel Cryans&quot; &amp;lt;jdcryans@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch that removes all the MSG_CALL_SERVER_STARTUP related code that was screwing us more than helping us. Now, when a region server pings back with a different start code, we just shut it down.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2613&quot; title=&quot;Remove the code around MSG_CALL_SERVER_STARTUP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2613&quot;&gt;&lt;del&gt;HBASE-2613&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /trunk/src/main/java/org/apache/hadoop/hbase/HMsg.java 948234 &lt;br/&gt;
  /trunk/src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 948234 &lt;br/&gt;
  /trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 948234 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/89/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jean-Daniel&lt;/p&gt;

</comment>
                            <comment id="12871920" author="hbasereviewboard" created="Wed, 26 May 2010 20:08:42 +0000"  >&lt;p&gt;Message from: &quot;Todd Lipcon&quot; &amp;lt;todd@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/89/#review78&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/#review78&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;unit test?&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Todd&lt;/li&gt;
&lt;/ul&gt;




</comment>
                            <comment id="12871927" author="hbasereviewboard" created="Wed, 26 May 2010 20:21:48 +0000"  >&lt;p&gt;Message from: &quot;Jean-Daniel Cryans&quot; &amp;lt;jdcryans@apache.org&amp;gt;&lt;/p&gt;



&lt;p&gt;I&apos;ll write a test, but it won&apos;t be &quot;unit&quot; at all &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jean-Daniel&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/89/#review78&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/#review78&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2010-05-25 17:14:31, Jean-Daniel Cryans wrote:&lt;/p&gt;

</comment>
                            <comment id="12871974" author="hbasereviewboard" created="Wed, 26 May 2010 22:13:30 +0000"  >&lt;p&gt;Message from: &quot;Jean-Daniel Cryans&quot; &amp;lt;jdcryans@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-05-26 15:12:24.679274)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New patch with test for master. Spawns a 3 nodes cluster, kills 2 by changing the startcode and address.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch that removes all the MSG_CALL_SERVER_STARTUP related code that was screwing us more than helping us. Now, when a region server pings back with a different start code, we just shut it down.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2613&quot; title=&quot;Remove the code around MSG_CALL_SERVER_STARTUP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2613&quot;&gt;&lt;del&gt;HBASE-2613&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /trunk/src/main/java/org/apache/hadoop/hbase/HMsg.java 948611 &lt;br/&gt;
  /trunk/src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 948611 &lt;br/&gt;
  /trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 948611 &lt;br/&gt;
  /trunk/src/test/java/org/apache/hadoop/hbase/master/TestMasterWrongRS.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/89/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jean-Daniel&lt;/p&gt;

</comment>
                            <comment id="12871978" author="hbasereviewboard" created="Wed, 26 May 2010 22:17:27 +0000"  >&lt;p&gt;Message from: &quot;Todd Lipcon&quot; &amp;lt;todd@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/89/#review82&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/#review82&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;A little nervous about the sleeps in the test making it flaky, but let&apos;s push it and fix if it ends up flaky. +1&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Todd&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2010-05-26 15:12:24, Jean-Daniel Cryans wrote:&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  -----------------------------------------------------------&lt;br/&gt;
^bq.  This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
^bq.  &lt;a href=&quot;http://review.hbase.org/r/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/&lt;/a&gt;&lt;br/&gt;
^bq.  -----------------------------------------------------------&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  (Updated 2010-05-26 15:12:24)&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Review request for hbase.&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Summary&lt;br/&gt;
^bq.  -------&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Patch that removes all the MSG_CALL_SERVER_STARTUP related code that was screwing us more than helping us. Now, when a region server pings back with a different start code, we just shut it down.&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2613&quot; title=&quot;Remove the code around MSG_CALL_SERVER_STARTUP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2613&quot;&gt;&lt;del&gt;HBASE-2613&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Diffs&lt;br/&gt;
^bq.  -----&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.    /trunk/src/main/java/org/apache/hadoop/hbase/HMsg.java 948611 &lt;br/&gt;
^bq.    /trunk/src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 948611 &lt;br/&gt;
^bq.    /trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 948611 &lt;br/&gt;
^bq.    /trunk/src/test/java/org/apache/hadoop/hbase/master/TestMasterWrongRS.java PRE-CREATION &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Diff: &lt;a href=&quot;http://review.hbase.org/r/89/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/89/diff&lt;/a&gt;&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Testing&lt;br/&gt;
^bq.  -------&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Thanks,&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq.  Jean-Daniel&lt;br/&gt;
^bq.  &lt;br/&gt;
^bq. &lt;/p&gt;

</comment>
                            <comment id="12871999" author="jdcryans" created="Wed, 26 May 2010 23:08:20 +0000"  >&lt;p&gt;The patch for trunk that was accepted by Todd and the branch equivalent (without the unit test since we don&apos;t have the infrastructure to do it).&lt;/p&gt;</comment>
                            <comment id="12872001" author="jdcryans" created="Wed, 26 May 2010 23:10:02 +0000"  >&lt;p&gt;Committed to trunk and branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445598" name="HBASE-2613-v2-branch.patch" size="4075" author="jdcryans" created="Wed, 26 May 2010 23:08:20 +0000"/>
                            <attachment id="12445599" name="HBASE-2613-v2.patch" size="7257" author="jdcryans" created="Wed, 26 May 2010 23:08:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 May 2010 00:15:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08sef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>