<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:42:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7047/HBASE-7047.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7047] [snapshots] Refactor error handling to use javax.management</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7047</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The current error handling framework introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6571&quot; title=&quot;Generic multi-thread/cross-process error handling framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6571&quot;&gt;&lt;del&gt;HBASE-6571&lt;/del&gt;&lt;/a&gt; adds a lot of complexity for what is essentially a solved problem. Specifically, cross-thread notifications have been generalized for the JMX tooling in the javax.management classes. &lt;/p&gt;

&lt;p&gt;Similar to what we developed, they have a NotifciationBroadcaster, NotificationListener, etc. though these are interfaces rather than general classes. These javax classes can be used almost 1-to-1 as replacements for things like the ExceptionOrchestrator and ExceptionListener. This also gives us the opportunity to easily add primitive notifications for standard HBase things like (1) timeouts, (2) aborts, and (3) server stops since the framework already considers things like typed notifications. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12613391">HBASE-7047</key>
            <summary>[snapshots] Refactor error handling to use javax.management</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12556488">HBASE-6055</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Oct 2012 22:33:48 +0000</created>
                <updated>Thu, 21 Feb 2013 04:46:36 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 02:59:19 +0000</resolved>
                                    <version>hbase-6055</version>
                                                    <component>Client</component>
                    <component>master</component>
                    <component>regionserver</component>
                    <component>snapshots</component>
                    <component>Zookeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13483674" author="jesse_yates" created="Wed, 24 Oct 2012 22:35:53 +0000"  >&lt;p&gt;Making &apos;Offline Snapshots&apos; a dependency since that is the first place where we can actually play around with usage and get a feel for how it would work. Also this ensures that that ticket isn&apos;t affected by refactors handled here and can get committed sooner, rather than later.&lt;/p&gt;</comment>
                            <comment id="13483680" author="jesse_yates" created="Wed, 24 Oct 2012 22:41:10 +0000"  >&lt;p&gt;Attaching simple version that refactors the error handling (removing excess classes/tests). This patch also modifies the current implementation of the offline snapshots (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6863&quot; title=&quot;Offline snapshots&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6863&quot;&gt;&lt;del&gt;HBASE-6863&lt;/del&gt;&lt;/a&gt;) to use the new classes - slight tweaks, but nothing too crazy.&lt;/p&gt;</comment>
                            <comment id="13483683" author="jesse_yates" created="Wed, 24 Oct 2012 22:44:14 +0000"  >&lt;p&gt;Attaching &apos;advanced&apos; version of v0 that does some more advanced refactoring of the offline snapshot handler to take advantage of the new framework. &lt;/p&gt;

&lt;p&gt;Specifically, uses a centralized notification &apos;hub&apos; to track the running handler and then uses the added StopNotification to pass a &apos;stop&apos; update to the running DisabledTableSnapshotHandler. This is really nice in that it is basically zero overhead to running multiple snapshots or adapting for stopping a running snapshot and any restores.&lt;/p&gt;</comment>
                            <comment id="13483688" author="yuzhihong@gmail.com" created="Wed, 24 Oct 2012 22:48:11 +0000"  >&lt;p&gt;Looking at java_6667-v0.txt, I don&apos;t see javax.management classes being used.&lt;/p&gt;</comment>
                            <comment id="13483689" author="jesse_yates" created="Wed, 24 Oct 2012 22:50:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt; whoops, wrong patch. Lets try that again&lt;/p&gt;</comment>
                            <comment id="13483692" author="jesse_yates" created="Wed, 24 Oct 2012 22:51:41 +0000"  >&lt;p&gt;Attaching correct version of &apos;basic&apos;refactor.&lt;/p&gt;</comment>
                            <comment id="13489452" author="jmhsieh" created="Fri, 2 Nov 2012 14:50:02 +0000"  >&lt;p&gt;Jesse, can you post a link to a review board version of this patch?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13489528" author="jesse_yates" created="Fri, 2 Nov 2012 16:41:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt; I was planning on waiting until of the offline snapshot stuff went in, to avoid the patches-on-patches pain. But sure, why not. I&apos;ll just post the regular and follow on the adv. version in another jira.&lt;/p&gt;</comment>
                            <comment id="13489568" author="jesse_yates" created="Fri, 2 Nov 2012 17:31:11 +0000"  >&lt;p&gt;review is here: &lt;a href=&quot;https://reviews.apache.org/r/7834/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7834/&lt;/a&gt; Some of the underlying code this is based on (offline snapshots) is likely to change, so this is just a preliminary patch.&lt;/p&gt;</comment>
                            <comment id="13491875" author="jmhsieh" created="Tue, 6 Nov 2012 22:11:09 +0000"  >&lt;p&gt;I agree.  Let&apos;s get the nits taken care of on the offline snapshots, commit, and then file some follow on jiras for the remaining issues.&lt;/p&gt;</comment>
                            <comment id="13505193" author="jmhsieh" created="Wed, 28 Nov 2012 02:59:19 +0000"  >&lt;p&gt;I&apos;m going to close this for now &amp;#8211; I think the mechanism in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7212&quot; title=&quot;Globally Barriered Procedure mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7212&quot;&gt;&lt;del&gt;HBASE-7212&lt;/del&gt;&lt;/a&gt; has less things going on and may be easier than learning yet another api that wasn&apos;t necessarily designed for this purpose. &lt;/p&gt;</comment>
                            <comment id="13505197" author="jesse_yates" created="Wed, 28 Nov 2012 03:09:14 +0000"  >&lt;p&gt;So does that mean ripping out all the error handling stuff already in the snapshot branch in favor of whatever you are using for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7212&quot; title=&quot;Globally Barriered Procedure mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7212&quot;&gt;&lt;del&gt;HBASE-7212&lt;/del&gt;&lt;/a&gt; (haven&apos;t looked at it yet). To be fair, the stuff used here is for general notifications and I&apos;m just doing a bit of specialization for error handling (and particularly in the context of HBase). &lt;/p&gt;

&lt;p&gt;I think its simple enough from the outside (after this patch) to be used in the general, multi-thread context, but then again, I&apos;ve been know to be a bit judicious with my use of &apos;simple&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12608715">HBASE-6863</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12550700" name="hbase-7047-v0-adv.patch" size="197305" author="jesse_yates" created="Wed, 24 Oct 2012 22:44:14 +0000"/>
                            <attachment id="12550702" name="hbase-7047-v0.patch" size="184907" author="jesse_yates" created="Wed, 24 Oct 2012 22:51:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Oct 2012 22:48:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b2an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>