<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:22:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4883/HBASE-4883.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4883] TestCatalogTracker failing for me on ubuntu</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4883</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-------------------------------------------------------------------------------
Test set: org.apache.hadoop.hbase.catalog.TestCatalogTracker
-------------------------------------------------------------------------------
Tests run: 9, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.276 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testNoTimeoutWaitForMeta(org.apache.hadoop.hbase.catalog.TestCatalogTracker)  Time elapsed: 1.051 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.mockito.exceptions.misusing.WrongTypeOfReturnValue:
Result cannot be returned by getConfiguration()
getConfiguration() should &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Configuration
        at org.apache.hadoop.hbase.catalog.TestCatalogTracker.testNoTimeoutWaitForMeta(TestCatalogTracker.java:378)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
        at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above is strange since it seems to pass on jenkins and on macosx.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12532951">HBASE-4883</key>
            <summary>TestCatalogTracker failing for me on ubuntu</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Nov 2011 19:05:53 +0000</created>
                <updated>Tue, 28 Aug 2012 19:01:09 +0000</updated>
                            <resolved>Tue, 28 Aug 2012 19:01:09 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13158646" author="stack" created="Mon, 28 Nov 2011 19:07:36 +0000"  >&lt;p&gt;On this ubuntu machine, it fails 50% of the time.&lt;/p&gt;</comment>
                            <comment id="13158647" author="stack" created="Mon, 28 Nov 2011 19:09:25 +0000"  >&lt;p&gt;hmm... maybe more that 50%.  Here is another failure type:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-------------------------------------------------------------------------------
Test set: org.apache.hadoop.hbase.catalog.TestCatalogTracker
-------------------------------------------------------------------------------
Tests run: 9, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.658 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testNoTimeoutWaitForMeta(org.apache.hadoop.hbase.catalog.TestCatalogTracker)  Time elapsed: 1.038 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.mockito.exceptions.base.MockitoException:
&apos;processBatch&apos; is a *void method* and it *cannot* be stubbed with a *&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value*!
Voids are usually stubbed with Throwables:
    doThrow(exception).when(mock).someVoidMethod();
If the method you are trying to stub is *overloaded* then make sure you are calling the right overloaded version.
        at org.apache.hadoop.hbase.catalog.TestCatalogTracker.testNoTimeoutWaitForMeta(TestCatalogTracker.java:380)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13158681" author="yuzhihong@gmail.com" created="Mon, 28 Nov 2011 19:44:54 +0000"  >&lt;p&gt;This line looks suspicious:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      Mockito.when(connection.getRegionServerWithRetries((ServerCallable&amp;lt;Result&amp;gt;)Mockito.any())).
        thenReturn(result);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is actually a compiler warning:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Type safety: unchecked &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; from &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; to ServerCallable&amp;lt;Result&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13158688" author="stack" created="Mon, 28 Nov 2011 19:49:46 +0000"  >&lt;p&gt;This patch passes when I run it ten times (will run more now in a minute).&lt;/p&gt;

&lt;p&gt;It cleans up our mock of HConnection using same pattern other tests uses and then it adds mocks for close and locateRegion, two methods mockito was tripping over up on this machine for some reason.&lt;/p&gt;</comment>
                            <comment id="13158690" author="hadoopqa" created="Mon, 28 Nov 2011 19:51:52 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12505382/4883.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12505382/4883.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/395//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/395//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13158815" author="stack" created="Mon, 28 Nov 2011 21:48:24 +0000"  >&lt;p&gt;Am going to disable the test that fails.  I can&apos;t make it work reliably.  It passes if I run it 20 times in a row on my ubuntu box but then when I run it as part of general build it fails again complaining about a new method being incorrectly mocked.&lt;/p&gt;

&lt;p&gt;Its like I have to mock all in the members of the Interface; i can&apos;t rely on default behavior.  It more seems that inserting mocks after test starts is destabilizing the mocked Connection.&lt;/p&gt;

&lt;p&gt;I could spend time trying to figure this but looks like a bit of a rat hole so putting it aside for now by adding @Ignore to this one failing test (testWaitOnMeta).&lt;/p&gt;</comment>
                            <comment id="13158826" author="stack" created="Mon, 28 Nov 2011 21:52:34 +0000"  >&lt;p&gt;I committed tct.txt, the patch that adds @Ignore to testNoTimeoutWaitForMeta for now.  Not resolving issue because test needs to be rewritten or mockito-usage needs fixing.&lt;/p&gt;</comment>
                            <comment id="13158830" author="hadoopqa" created="Mon, 28 Nov 2011 21:55:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12505400/tct.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12505400/tct.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/397//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/397//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13158974" author="hudson" created="Tue, 29 Nov 2011 00:28:06 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2495 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2495/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2495/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4883&quot; title=&quot;TestCatalogTracker failing for me on ubuntu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4883&quot;&gt;&lt;del&gt;HBASE-4883&lt;/del&gt;&lt;/a&gt; TestCatalogTracker failing for me on ubuntu&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13158995" author="hudson" created="Tue, 29 Nov 2011 00:51:27 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #22 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/22/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/22/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4883&quot; title=&quot;TestCatalogTracker failing for me on ubuntu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4883&quot;&gt;&lt;del&gt;HBASE-4883&lt;/del&gt;&lt;/a&gt; TestCatalogTracker failing for me on ubuntu&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13159001" author="yuzhihong@gmail.com" created="Tue, 29 Nov 2011 00:58:20 +0000"  >&lt;p&gt;Looks like the following was missing under 0.92 branch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Ignore;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13159055" author="yuzhihong@gmail.com" created="Tue, 29 Nov 2011 03:00:34 +0000"  >&lt;p&gt;Applied addendum to 0.92 branch.&lt;/p&gt;</comment>
                            <comment id="13159056" author="hadoopqa" created="Tue, 29 Nov 2011 03:02:03 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12505439/4883.addendum&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12505439/4883.addendum&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/400//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/400//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13159085" author="hudson" created="Tue, 29 Nov 2011 05:06:36 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #23 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/23/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/23/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4883&quot; title=&quot;TestCatalogTracker failing for me on ubuntu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4883&quot;&gt;&lt;del&gt;HBASE-4883&lt;/del&gt;&lt;/a&gt; Addendum fixes compilation error&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13159131" author="hudson" created="Tue, 29 Nov 2011 07:11:19 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #13 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/13/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/13/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4883&quot; title=&quot;TestCatalogTracker failing for me on ubuntu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4883&quot;&gt;&lt;del&gt;HBASE-4883&lt;/del&gt;&lt;/a&gt; TestCatalogTracker failing for me on ubuntu&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13159792" author="hudson" created="Wed, 30 Nov 2011 03:48:27 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #163 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/163/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/163/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4883&quot; title=&quot;TestCatalogTracker failing for me on ubuntu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4883&quot;&gt;&lt;del&gt;HBASE-4883&lt;/del&gt;&lt;/a&gt; Addendum fixes compilation error&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4883&quot; title=&quot;TestCatalogTracker failing for me on ubuntu&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4883&quot;&gt;&lt;del&gt;HBASE-4883&lt;/del&gt;&lt;/a&gt; TestCatalogTracker failing for me on ubuntu&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13443398" author="jesse_yates" created="Tue, 28 Aug 2012 19:01:09 +0000"  >&lt;p&gt;Closing as fixed. Thanks fellas&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12505439" name="4883.addendum" size="806" author="yuzhihong@gmail.com" created="Tue, 29 Nov 2011 02:59:27 +0000"/>
                            <attachment id="12505382" name="4883.txt" size="3376" author="stack" created="Mon, 28 Nov 2011 19:49:45 +0000"/>
                            <attachment id="12505400" name="tct.txt" size="5301" author="stack" created="Mon, 28 Nov 2011 21:48:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Nov 2011 19:44:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218683</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06a8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>