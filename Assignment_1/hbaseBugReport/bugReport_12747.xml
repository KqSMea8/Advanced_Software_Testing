<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:36:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12747/HBASE-12747.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12747] IntegrationTestMTTR will OOME if launched with mvn verify</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12747</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;IntegrationTestMTRR will OOME if launched like:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cd hbase-it
mvn verify -Dit.test=IntegrationTestMTTR
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Linux environment, 7u67.&lt;/p&gt;

&lt;p&gt;Looks like we should bump the heap on the failsafe argline in the POM. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-12-22 11:24:07,725 ERROR [B.DefaultRpcServer.handler=2,queue=0,port=55672] ipc.RpcServer(2067): Unexpected throwable o
bject 
java.lang.OutOfMemoryError: Java heap space
        at org.apache.hadoop.hbase.regionserver.MemStoreLAB$Chunk.init(MemStoreLAB.java:246)
        at org.apache.hadoop.hbase.regionserver.MemStoreLAB.getOrMakeChunk(MemStoreLAB.java:196)
        at org.apache.hadoop.hbase.regionserver.MemStoreLAB.allocateBytes(MemStoreLAB.java:114)
        at org.apache.hadoop.hbase.regionserver.MemStore.maybeCloneWithAllocator(MemStore.java:274)
        at org.apache.hadoop.hbase.regionserver.MemStore.add(MemStore.java:229)
        at org.apache.hadoop.hbase.regionserver.HStore.add(HStore.java:576)
        at org.apache.hadoop.hbase.regionserver.HRegion.applyFamilyMapToMemstore(HRegion.java:3084)
        at org.apache.hadoop.hbase.regionserver.HRegion.doMiniBatchMutation(HRegion.java:2517)
        at org.apache.hadoop.hbase.regionserver.HRegion.batchMutate(HRegion.java:2284)
        at org.apache.hadoop.hbase.regionserver.HRegion.batchMutate(HRegion.java:2239)
        at org.apache.hadoop.hbase.regionserver.HRegion.batchMutate(HRegion.java:2243)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.doBatchOp(HRegionServer.java:4482)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.doNonAtomicRegionMutation(HRegionServer.java:3665)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.multi(HRegionServer.java:3554)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another minor issue: After taking the OOME, the test executor will linger indefinitely as a zombie. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12763333">HBASE-12747</key>
            <summary>IntegrationTestMTTR will OOME if launched with mvn verify</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhishek.chouhan">Abhishek Singh Chouhan</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Dec 2014 23:32:07 +0000</created>
                <updated>Sat, 21 Feb 2015 23:49:07 +0000</updated>
                            <resolved>Tue, 10 Feb 2015 02:55:27 +0000</resolved>
                                    <version>0.98.9</version>
                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                    <fixVersion>0.98.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14283818" author="abhishek.chouhan" created="Tue, 20 Jan 2015 13:42:04 +0000"  >&lt;p&gt;Tested this out.I was still seeing OOME with heap bumped up to 2500m. 3000m seems to do the trick and i saw no errors across several runs.I can submit a patch if we want to bump up Xmx to 3000m &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14284126" author="apurtell" created="Tue, 20 Jan 2015 18:03:45 +0000"  >&lt;p&gt;What about making the Xmx argument configurable with a parameter, so we can run mvn verify with -D&amp;lt;something&amp;gt;=&quot;-Xmx3g&quot; or -D&amp;lt;something&amp;gt;=&quot;3g&quot; ? In other development aspects we sometimes ask users to run with heaps &amp;gt; 3GB, see discussion about MAVEN_OPTS in &lt;a href=&quot;http://hbase.apache.org/book.html#releasing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#releasing&lt;/a&gt; for example. There, the change in MAVEN_OPTS is recommended and documented but is optional. &lt;/p&gt;</comment>
                            <comment id="14295160" author="abhishek.chouhan" created="Wed, 28 Jan 2015 14:08:42 +0000"  >&lt;p&gt;Bumps the default to 3g and adds a parameter -DXmx=something that can be used to modify Xmx as needed.&lt;/p&gt;</comment>
                            <comment id="14295161" author="abhishek.chouhan" created="Wed, 28 Jan 2015 14:10:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; Does this look good?&lt;/p&gt;</comment>
                            <comment id="14297135" author="apurtell" created="Thu, 29 Jan 2015 16:59:40 +0000"  >&lt;p&gt;Looking good.&lt;br/&gt;
Suggestion: We use surefire for running unit tests, and failsafe for running integration tests, so if we have Maven properties for setting Xmx for one we should have it for the other.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &amp;lt;!-- To Run Tests with a particular Xmx Value use -DXmx=XXXg --&amp;gt;
+    &amp;lt;Xmx&amp;gt;3g&amp;lt;/Xmx
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Consider adding two properties, &quot;surefire.Xmx&quot; and &quot;failsafe.Xmx&quot;, and choose the right substitution for the arglines of each.&lt;/p&gt;</comment>
                            <comment id="14298707" author="abhishek.chouhan" created="Fri, 30 Jan 2015 14:53:36 +0000"  >&lt;p&gt;Have added surefire.Xmx, surefire.cygwinXmx and failsafe.Xmx as configurable parameters.Keeping surefire Xmx unchanged and bumped up failsafe default Xmx to 3g.&lt;/p&gt;</comment>
                            <comment id="14306830" author="abhishek.chouhan" created="Thu, 5 Feb 2015 08:31:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14310329" author="apurtell" created="Sat, 7 Feb 2015 00:47:40 +0000"  >&lt;p&gt;Set fix versions&lt;/p&gt;</comment>
                            <comment id="14313424" author="apurtell" created="Tue, 10 Feb 2015 02:55:27 +0000"  >&lt;p&gt;Pushed to 0.98+.&lt;/p&gt;

&lt;p&gt;I tested setting new &apos;surefire.Xmx&apos; and &apos;failsafe.Xmx&apos; properties for &quot;mvn test&quot; and &quot;mvn verify&quot;, respectively: &quot;3g&quot; launches JVMs with expected heap size, &quot;bogus&quot; causes JVM fork failures as expected. New default lets IntegrationTestMTTR pass when run with &quot;mvn verify&quot; (tested with 0.98 and 1.0). &lt;/p&gt;

&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhishek.chouhan&quot; class=&quot;user-hover&quot; rel=&quot;abhishek.chouhan&quot;&gt;Abhishek Singh Chouhan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14313455" author="hudson" created="Tue, 10 Feb 2015 03:12:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6108 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6108/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6108/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12747&quot; title=&quot;IntegrationTestMTTR will OOME if launched with mvn verify&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12747&quot;&gt;&lt;del&gt;HBASE-12747&lt;/del&gt;&lt;/a&gt; IntegrationTestMTTR will OOME if launched with mvn verify (Abhishek Singh Chouhan) (apurtell: rev 200ec5b191262ac356639b0390d7d72ab93feef3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14313520" author="hudson" created="Tue, 10 Feb 2015 04:16:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #724 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/724/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/724/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12747&quot; title=&quot;IntegrationTestMTTR will OOME if launched with mvn verify&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12747&quot;&gt;&lt;del&gt;HBASE-12747&lt;/del&gt;&lt;/a&gt; IntegrationTestMTTR will OOME if launched with mvn verify (Abhishek Singh Chouhan) (apurtell: rev 71edf3ffef6a5c2f6abbbbb5edc02a79b11b2f43)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14313571" author="hudson" created="Tue, 10 Feb 2015 05:07:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #160 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/160/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/160/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12747&quot; title=&quot;IntegrationTestMTTR will OOME if launched with mvn verify&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12747&quot;&gt;&lt;del&gt;HBASE-12747&lt;/del&gt;&lt;/a&gt; IntegrationTestMTTR will OOME if launched with mvn verify (Abhishek Singh Chouhan) (apurtell: rev 1d90fed5648487b55f97e4f7721ab751a5a9c4d5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14313714" author="hudson" created="Tue, 10 Feb 2015 07:03:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #842 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/842/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/842/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12747&quot; title=&quot;IntegrationTestMTTR will OOME if launched with mvn verify&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12747&quot;&gt;&lt;del&gt;HBASE-12747&lt;/del&gt;&lt;/a&gt; IntegrationTestMTTR will OOME if launched with mvn verify (Abhishek Singh Chouhan) (apurtell: rev a1342abbb2e17e9bdb39205f69e9ff1f60b6fc23)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14313761" author="hudson" created="Tue, 10 Feb 2015 07:48:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #800 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/800/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/800/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12747&quot; title=&quot;IntegrationTestMTTR will OOME if launched with mvn verify&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12747&quot;&gt;&lt;del&gt;HBASE-12747&lt;/del&gt;&lt;/a&gt; IntegrationTestMTTR will OOME if launched with mvn verify (Abhishek Singh Chouhan) (apurtell: rev a1342abbb2e17e9bdb39205f69e9ff1f60b6fc23)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331789" author="enis" created="Sat, 21 Feb 2015 23:49:07 +0000"  >&lt;p&gt;Closing this issue after 1.0.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12695534" name="HBASE-12747-v1.patch" size="2295" author="abhishek.chouhan" created="Fri, 30 Jan 2015 14:46:52 +0000"/>
                            <attachment id="12694991" name="HBASE-12747.patch" size="1083" author="abhishek.chouhan" created="Wed, 28 Jan 2015 14:08:42 +0000"/>
                            <attachment id="12688739" name="org.apache.hadoop.hbase.mttr.IntegrationTestMTTR-output.txt.gz" size="252014" author="apurtell" created="Mon, 22 Dec 2014 23:32:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Jan 2015 13:42:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23pbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>