<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:55:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1701/HBASE-1701.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1701] Set status for rowcounter</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1701</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Set some status on rowcounter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431381">HBASE-1701</key>
            <summary>Set status for rowcounter</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jul 2009 16:55:40 +0000</created>
                <updated>Fri, 24 Jul 2009 17:06:04 +0000</updated>
                            <resolved>Fri, 24 Jul 2009 17:06:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12735096" author="stack" created="Fri, 24 Jul 2009 16:58:10 +0000"  >&lt;p&gt;Our rowcounter mapreduce job currently shows no progress and does not set status. Shouldn&apos;t be too hard having it guess progress made doing rough BigDecimal on region start/end.&lt;/p&gt;

&lt;p&gt;I did this which at least adds some status but I think it might have slowed rowcounter &amp;#8211; check:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: src/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java
===================================================================
--- src/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java  (revision 797250)
+++ src/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java  (working copy)
@@ -47,8 +47,11 @@
   &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; class RowCounterMapper
   &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; TableMapper&amp;lt;ImmutableBytesWritable, Result&amp;gt; {
     
-    /** Counter enumeration to count the actual rows. */
+    /* Counter enumeration to count the actual rows. */
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Counters { ROWS }
+    
+    /* Local counter &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; map. */
+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; counter = 0;
 
     /**
      * Maps the data.
@@ -67,6 +70,7 @@
       &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (KeyValue value: values.list()) {
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value.getValue().length &amp;gt; 0) {
           context.getCounter(Counters.ROWS).increment(1);
+          context.setStatus(&quot;&quot; + counter++);
           &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
         }
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12735100" author="stack" created="Fri, 24 Jul 2009 17:06:04 +0000"  >&lt;p&gt;This issue is too dumb to have a life.  As jdcryans points out, lets just fix this all properly by addiing to TIF progress (we already have an issue for this).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0herz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>