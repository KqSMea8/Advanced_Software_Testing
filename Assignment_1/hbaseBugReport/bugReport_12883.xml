<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:37:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12883/HBASE-12883.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12883] Support block encoding based on knowing set of column qualifiers up front</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12883</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Phoenix knows up front the set of column qualifiers a row will have. We could likely get some good compression with little CPU based on this by having a block encoding scheme that leverages this information. It could be made non-Phoenix specific by identifying the set of column qualifiers through meta data to the block encoder.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12768602">HBASE-12883</key>
            <summary>Support block encoding based on knowing set of column qualifiers up front</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jamestaylor">James Taylor</reporter>
                        <labels>
                            <label>Phoenix</label>
                    </labels>
                <created>Tue, 20 Jan 2015 06:34:29 +0000</created>
                <updated>Wed, 21 Jan 2015 17:57:25 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="14284148" author="apurtell" created="Tue, 20 Jan 2015 18:18:05 +0000"  >&lt;p&gt;Block encoders get a HFileContext reference. The reader could retrieve such a dictionary from an HFile meta entry and pass it through HFileContext. Up in Store we create HFileContexts with a builder for passing down HFile level configuration. There we could look for a schema attribute that holds a supplied dictionary and pass it through. Phoenix could set up this dictionary of column qualifiers in the column schema. The HFile writer could store the dictionary into an HFile meta entry when writing out the file. If the application messes up they have an unreadable HFile, that can be documented as the contract of this option. Note that since we store the dictionary with the file, the file is always readable even if the dictionary in the schema is changed, that would only affect and be for newly written files. By &quot;mess up&quot; I mean supplying a corrupt dictionary, and I suppose we wouldn&apos;t even get so far as a corrupt HFile, we&apos;d fail quickly in block encoding and the regionserver would abort as consequence as soon as there&apos;s a flush using a broken dictionary. But since this option is wizard level that could be fine.&lt;/p&gt;</comment>
                            <comment id="14284948" author="enis" created="Wed, 21 Jan 2015 01:01:03 +0000"  >&lt;p&gt;This would be useful in other contexts as well. Even without Phoenix, I expect some users have a predefined list of column qualifiers that changes very slowly over time.&lt;br/&gt;
I think we can even auto detect the column qualifiers and do dictionary encoding per block which would make this very easy to use. We have the full block unencoded buffered up, it should be possible to do so. Per block dictionary is good, but won&apos;t give us the full benefits of per-file dictionary. Maybe we can have a small dictionary where we maintain a file-global dictionary, and if the block&apos;s columns all fit there, just use that, and encode the dictionary at the trailer of hfile.  &lt;/p&gt;</comment>
                            <comment id="14285978" author="apurtell" created="Wed, 21 Jan 2015 17:57:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think we can even auto detect the column qualifiers and do dictionary encoding per block which would make this very easy to use. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We provide lz-ish algorithms - gzip, snappy, lzo - for &quot;whole file compression&quot; but, because we (de)compress each HFile block independently, they are effectively doing dynamic dictionary encoding per block already. &lt;/p&gt;

&lt;p&gt;A file global dictionary should produce both performance and compression efficiency gains. Even more so if the application supplies the dictionary up front. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Jan 2015 18:18:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24jtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>