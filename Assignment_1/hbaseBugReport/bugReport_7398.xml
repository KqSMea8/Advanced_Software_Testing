<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:45:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7398/HBASE-7398.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7398] [0.94 UNIT TESTS] TestAssignmentManager fails frequently on CentOS 5</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7398</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestAssignmentManager#testBalance() fails pretty frequently on CentOS 5 for 0.94. The root cause is that ClosedRegionHandler is executed by an executor, and before it finishes, the region transition is done for OPENING and OPENED.&lt;/p&gt;

&lt;p&gt;This seems to be just a test problem, not an actual bug, since the region server won&apos;t open the region unless it get&apos;s it from the assign call on ClosedRegionHandler.process(). &lt;/p&gt;

&lt;p&gt;I&apos;ve seen that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6109&quot; title=&quot;Improve RIT performances during assignment on large clusters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6109&quot;&gt;&lt;del&gt;HBASE-6109&lt;/del&gt;&lt;/a&gt; has a fix for this already, will just backport those changes. This is 0.94 only. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12624756">HBASE-7398</key>
            <summary>[0.94 UNIT TESTS] TestAssignmentManager fails frequently on CentOS 5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Dec 2012 01:57:09 +0000</created>
                <updated>Sun, 13 Jan 2013 06:28:31 +0000</updated>
                            <resolved>Thu, 20 Dec 2012 21:50:17 +0000</resolved>
                                    <version>0.94.4</version>
                                    <fixVersion>0.94.4</fixVersion>
                                    <component>Region Assignment</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13536690" author="enis" created="Thu, 20 Dec 2012 02:04:00 +0000"  >&lt;p&gt;Attaching a patch for 0.94 &lt;/p&gt;</comment>
                            <comment id="13536710" author="yuzhihong@gmail.com" created="Thu, 20 Dec 2012 02:27:14 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13536756" author="stack" created="Thu, 20 Dec 2012 04:04:33 +0000"  >&lt;p&gt;+2 (+1 for patch and +1 to say thanks for fixing flakey tests)&lt;/p&gt;</comment>
                            <comment id="13536879" author="nkeywal" created="Thu, 20 Dec 2012 09:17:36 +0000"  >&lt;p&gt;The patch replaces only one of the numerous &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!ZKAssign.verifyRegionState(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.watcher, REGIONINFO, EventType.M_ZK_REGION_OFFLINE)){Threads.sleep(1);}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is that the intend?&lt;/p&gt;</comment>
                            <comment id="13537246" author="enis" created="Thu, 20 Dec 2012 18:42:49 +0000"  >&lt;p&gt;Only the check in testBalance() failed for the last runs, I did not check the others. I&apos;ll convert the other places as well. &lt;/p&gt;</comment>
                            <comment id="13537277" author="enis" created="Thu, 20 Dec 2012 19:18:59 +0000"  >&lt;p&gt;v2 changes all instances to use Mocking.waitForRegionPendingOpenInRIT() as done in trunk TestAssignmentManager. &lt;/p&gt;</comment>
                            <comment id="13537385" author="yuzhihong@gmail.com" created="Thu, 20 Dec 2012 21:21:00 +0000"  >&lt;p&gt;I looped TestAssignmentManager twice with patch v2 on MacBook and they passed.&lt;/p&gt;

&lt;p&gt;+1 on patch v2.&lt;/p&gt;</comment>
                            <comment id="13537412" author="enis" created="Thu, 20 Dec 2012 21:50:17 +0000"  >&lt;p&gt;Committed this. Thank you guys for the review.&lt;/p&gt;</comment>
                            <comment id="13537481" author="hudson" created="Thu, 20 Dec 2012 23:24:43 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #651 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/651/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/651/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7398&quot; title=&quot;[0.94 UNIT TESTS] TestAssignmentManager fails frequently on CentOS 5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7398&quot;&gt;&lt;del&gt;HBASE-7398&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.94 UNIT TESTS&amp;#93;&lt;/span&gt; TestAssignmentManager fails frequently on CentOS 5 (Revision 1424718)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13537925" author="hudson" created="Fri, 21 Dec 2012 14:17:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #87 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/87/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/87/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7398&quot; title=&quot;[0.94 UNIT TESTS] TestAssignmentManager fails frequently on CentOS 5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7398&quot;&gt;&lt;del&gt;HBASE-7398&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.94 UNIT TESTS&amp;#93;&lt;/span&gt; TestAssignmentManager fails frequently on CentOS 5 (Revision 1424718)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13544407" author="hudson" created="Sat, 5 Jan 2013 00:42:24 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #10 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7398&quot; title=&quot;[0.94 UNIT TESTS] TestAssignmentManager fails frequently on CentOS 5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7398&quot;&gt;&lt;del&gt;HBASE-7398&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.94 UNIT TESTS&amp;#93;&lt;/span&gt; TestAssignmentManager fails frequently on CentOS 5 (Revision 1424718)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/Mocking.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/master/TestAssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12561828" name="hbase-7398_v1.patch" size="10788" author="enis" created="Thu, 20 Dec 2012 02:04:00 +0000"/>
                            <attachment id="12561962" name="hbase-7398_v2.patch" size="13022" author="enis" created="Thu, 20 Dec 2012 19:18:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Dec 2012 02:27:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>301262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16qzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>