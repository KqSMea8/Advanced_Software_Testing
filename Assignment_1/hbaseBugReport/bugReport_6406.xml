<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6406/HBASE-6406.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6406] TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6406</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Looking back through the 0.94 test runs these two tests accounted for 11 of 34 failed tests.&lt;br/&gt;
They should be fixed or (temporarily) disabled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599175">HBASE-6406</key>
            <summary>TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2012 21:53:32 +0000</created>
                <updated>Tue, 26 Feb 2013 16:56:32 +0000</updated>
                            <resolved>Sun, 22 Jul 2012 01:37:31 +0000</resolved>
                                    <version>0.94.1</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13416673" author="lhofhansl" created="Tue, 17 Jul 2012 22:36:09 +0000"  >&lt;p&gt;The first one fails due to a race condition:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2012-07-16 03:36:04,631 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; zookeeper.MiniZooKeeperCluster(193): Started MiniZK Cluster and connect 1 ZK server on client port: 61529&lt;br/&gt;
2012-07-16 03:36:04,760 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; zookeeper.ZKUtil(100): connection to cluster: clusterId opening connection to ZooKeeper with ensemble (localhost:61529)&lt;br/&gt;
2012-07-16 03:36:04,831 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; zookeeper.RecoverableZooKeeper(97): The identifier of this process is 22128@vesta.apache.org&lt;br/&gt;
2012-07-16 03:36:04,927 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; hbase.ResourceChecker(145): before replication.TestReplicationPeer#testResetZooKeeperSession: 11 threads, 86 file descriptors 0 connections, &lt;br/&gt;
2012-07-16 03:36:07,918 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(262): connection to cluster: clusterId Received ZooKeeper Event, type=None, state=SyncConnected, path=null&lt;br/&gt;
2012-07-16 03:36:07,926 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; replication.TestReplicationPeer(54): Expiring ReplicationPeer ZooKeeper session.&lt;br/&gt;
2012-07-16 03:36:07,950 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(339): connection to cluster: clusterId-0x1388ddb61410000 connected&lt;br/&gt;
2012-07-16 03:36:08,091 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; hbase.HBaseTestingUtility(1344): ZK Closed Session 0x1388ddb61410000; sleeping=7000&lt;br/&gt;
2012-07-16 03:36:15,092 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; replication.TestReplicationPeer(58): Attempting to use expired ReplicationPeer ZooKeeper session.&lt;br/&gt;
2012-07-16 03:36:15,095 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; hbase.ResourceChecker(145): after replication.TestReplicationPeer#testResetZooKeeperSession: 11 threads (was 11), 89 file descriptors (was 89). 0 connections, &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A successful run looks like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2012-07-17 15:20:35,285 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; zookeeper.MiniZooKeeperCluster(193): Started MiniZK Cluster and connect 1 ZK server on client port: 49834&lt;br/&gt;
2012-07-17 15:20:35,298 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; zookeeper.ZKUtil(100): connection to cluster: clusterId opening connection to ZooKeeper with ensemble (localhost:49834)&lt;br/&gt;
2012-07-17 15:20:35,312 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; zookeeper.RecoverableZooKeeper(97): The identifier of this process is 26186@xxxx&lt;br/&gt;
2012-07-17 15:20:35,336 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(262): connection to cluster: clusterId Received ZooKeeper Event, type=None, state=SyncConnected, path=null&lt;br/&gt;
2012-07-17 15:20:35,338 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(339): connection to cluster: clusterId-0x1389707502a0000 connected&lt;br/&gt;
2012-07-17 15:20:35,348 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; hbase.ResourceChecker(145): before replication.TestReplicationPeer#testResetZooKeeperSession: 10 threads, 87 file descriptors 0 connections, &lt;br/&gt;
2012-07-17 15:20:35,356 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; replication.TestReplicationPeer(56): Expiring ReplicationPeer ZooKeeper session.&lt;br/&gt;
2012-07-17 15:20:35,360 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; hbase.HBaseTestingUtility(1344): ZK Closed Session 0x1389707502a0000; sleeping=7000&lt;br/&gt;
2012-07-17 15:20:35,459 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(262): connection to cluster: clusterId-0x1389707502a0000 Received ZooKeeper Event, type=None, state=Disconnected, path=null&lt;br/&gt;
2012-07-17 15:20:35,459 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(360): connection to cluster: clusterId-0x1389707502a0000 Received Disconnected from ZooKeeper, ignoring&lt;br/&gt;
2012-07-17 15:20:37,267 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(262): connection to cluster: clusterId-0x1389707502a0000 Received ZooKeeper Event, type=None, state=Expired, path=null&lt;br/&gt;
2012-07-17 15:20:37,269 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;main-EventThread&amp;#93;&lt;/span&gt; replication.ReplicationPeer(157): The ReplicationPeer coresponding to peer clusterKey was aborted for the following reason(s):connection to cluster: clusterId-0x1389707502a0000 connection to cluster: clusterId-0x1389707502a0000 received expired from ZooKeeper, aborting&lt;br/&gt;
org.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired&lt;br/&gt;
        at org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher.connectionEvent(ZooKeeperWatcher.java:374)&lt;br/&gt;
        at org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher.process(ZooKeeperWatcher.java:271)&lt;br/&gt;
        at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:521)&lt;br/&gt;
        at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:497)&lt;br/&gt;
2012-07-17 15:20:42,360 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; replication.TestReplicationPeer(60): Attempting to use expired ReplicationPeer ZooKeeper session.&lt;br/&gt;
2012-07-17 15:20:42,362 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; zookeeper.ZKUtil(100): connection to cluster: clusterId opening connection to ZooKeeper with ensemble (localhost:49834)&lt;br/&gt;
2012-07-17 15:20:42,363 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; zookeeper.RecoverableZooKeeper(97): The identifier of this process is 26186@xxxx&lt;br/&gt;
2012-07-17 15:20:42,364 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2&amp;#93;&lt;/span&gt; replication.TestReplicationPeer(69): Attempting to use refreshed ReplicationPeer ZooKeeper session.&lt;br/&gt;
2012-07-17 15:20:42,372 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(262): connection to cluster: clusterId Received ZooKeeper Event, type=None, state=SyncConnected, path=null&lt;br/&gt;
2012-07-17 15:20:42,373 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; hbase.ResourceChecker(145): after replication.TestReplicationPeer#testResetZooKeeperSession: 10 threads (was 10), 88 file descriptors (was 88). 0 connections, &lt;br/&gt;
2012-07-17 15:20:42,373 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-2-EventThread&amp;#93;&lt;/span&gt; zookeeper.ZooKeeperWatcher(339): connection to cluster: clusterId-0x1389707502a0001 connected&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In the first case it seems the ZKW connects to the cluster only after the session is attempted to be expired (and hence it is never actually expired, because it wasn&apos;t connected in the first place).&lt;/p&gt;</comment>
                            <comment id="13416822" author="zhihyu@ebaysf.com" created="Wed, 18 Jul 2012 02:45:28 +0000"  >&lt;p&gt;I ran trunk test suite and there were two surefire JVMs hanging.&lt;/p&gt;

&lt;p&gt;Here&apos;re their jstack&apos;s&lt;/p&gt;</comment>
                            <comment id="13417310" author="lhofhansl" created="Wed, 18 Jul 2012 17:49:16 +0000"  >&lt;p&gt;Hmm... Looks like TestReplication is hanging in setup waiting for the root region to be assigned.&lt;br/&gt;
TestZooKeeper also appears to be waiting for a RegionServer to start.&lt;/p&gt;

&lt;p&gt;These would seem to be more general issues with starting the MiniCluster&lt;/p&gt;</comment>
                            <comment id="13417665" author="zhihyu@ebaysf.com" created="Wed, 18 Jul 2012 20:49:39 +0000"  >&lt;p&gt;For trunk, TestZooKeeper hung with the following output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-07-18 13:24:34,764 INFO  [Master:0;X.ebay.com,59816,1342643039714] master.HMaster(455): HMaster main thread exiting 
2012-07-18 13:24:34,764 INFO  [RegionServer:2;X.ebay.com,60707,1342643074759] zookeeper.RecoverableZooKeeper(102): The identifier of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; process is 15496@sdev25
2012-07-18 13:24:34,772 DEBUG [RegionServer:2;X.ebay.com,60707,1342643074759-EventThread] zookeeper.ZooKeeperWatcher(262): regionserver:60707 Received ZooKeeper Event, type=None, state=SyncConnected, path=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2012-07-18 13:24:34,773 DEBUG [RegionServer:2;X.ebay.com,60707,1342643074759] zookeeper.ZKUtil(238): regionserver:60707 /hbase/master does not exist. Watcher is set.
2012-07-18 13:24:34,774 DEBUG [RegionServer:2;X.ebay.com,60707,1342643074759-EventThread] zookeeper.ZooKeeperWatcher(339): regionserver:60707-0x1389bc2dddb000c connected
2012-07-18 13:24:35,062 INFO  [X.ebay.com,59816,1342643039714.splitLogManagerTimeoutMonitor] hbase.Chore(82): X.ebay.com,59816,1342643039714.splitLogManagerTimeoutMonitor exiting
2012-07-18 13:24:35,080 DEBUG [RegionServer:0;X.ebay.com,48349,1342643039994] regionserver.HRegionServer(1817): No master found; retry
2012-07-18 13:24:36,081 DEBUG [RegionServer:0;X.ebay.com,48349,1342643039994] regionserver.HRegionServer(1817): No master found; retry&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13417811" author="lhofhansl" created="Wed, 18 Jul 2012 23:18:00 +0000"  >&lt;p&gt;Talked to Chris Trezzo (who wrote TestReplicationPeer). We both think that we should just yank the test. It basically just validates that a new ZKWatcher can connect to the ZK ensemble after another ZKWatcher was disconnected.&lt;/p&gt;

&lt;p&gt;If there&apos;re no objection I&apos;ll make that so.&lt;/p&gt;

&lt;p&gt;Looking at TestZooKeeper next.&lt;/p&gt;</comment>
                            <comment id="13417836" author="apurtell" created="Wed, 18 Jul 2012 23:37:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;Talked to Chris Trezzo (who wrote TestReplicationPeer). We both think that we should just yank the test. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;But that&apos;s different from TestReplication. I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6424&quot; title=&quot;TestReplication frequently hangs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6424&quot;&gt;&lt;del&gt;HBASE-6424&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13418013" author="lhofhansl" created="Thu, 19 Jul 2012 02:55:58 +0000"  >&lt;p&gt;I removed TestReplicationPeer.&lt;br/&gt;
It seems TestZooKeeper is fixed by reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6389&quot; title=&quot;Modify the conditions to ensure that Master waits for sufficient number of Region Servers before starting region assignments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6389&quot;&gt;&lt;del&gt;HBASE-6389&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13418044" author="hudson" created="Thu, 19 Jul 2012 04:08:55 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #339 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/339/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/339/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Remove TestReplicationPeer (Revision 1363213)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationPeer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13418047" author="zhihyu@ebaysf.com" created="Thu, 19 Jul 2012 04:19:12 +0000"  >&lt;p&gt;TestReplicationPeer.java should be removed from trunk as well, right ?&lt;/p&gt;</comment>
                            <comment id="13418051" author="lhofhansl" created="Thu, 19 Jul 2012 04:29:02 +0000"  >&lt;p&gt;Oops. Yes.&lt;/p&gt;</comment>
                            <comment id="13418053" author="lhofhansl" created="Thu, 19 Jul 2012 04:30:20 +0000"  >&lt;p&gt;Done.&lt;/p&gt;</comment>
                            <comment id="13418072" author="hudson" created="Thu, 19 Jul 2012 05:12:29 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3148 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3148/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3148/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Remove TestReplicationPeer (Revision 1363217)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationPeer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13418225" author="hudson" created="Thu, 19 Jul 2012 11:38:56 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #99 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/99/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/99/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Remove TestReplicationPeer (Revision 1363217)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationPeer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13418363" author="ram_krish" created="Thu, 19 Jul 2012 15:31:24 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Can you just attach the patch over here? Thanks..&lt;/p&gt;</comment>
                            <comment id="13418389" author="lhofhansl" created="Thu, 19 Jul 2012 16:04:13 +0000"  >&lt;p&gt;It&apos;s literally just removing that test file.&lt;br/&gt;
Here&apos;s the trunk patch.&lt;/p&gt;</comment>
                            <comment id="13418936" author="lhofhansl" created="Fri, 20 Jul 2012 05:48:14 +0000"  >&lt;p&gt;TestZooKeeper.testClientSessionExpired failed again in latest 0.94 build.&lt;br/&gt;
Although this is not obvious from the logs the pattern in the code is that same as in TestReplicationPeer.&lt;/p&gt;

&lt;p&gt;My initial suspicion was RecoverableZooKeeper and that it somehow retries the operation and thereby reconnects the expired session. According to the code it does not do that, though.&lt;/p&gt;

&lt;p&gt;Somehow HBaseTestingUtil.expireSession is subject to racing.&lt;br/&gt;
In the case of TestReplicationPeer that happened when expireSession is called before the connection was actually established.&lt;/p&gt;

&lt;p&gt;Is there a way to check whether the connection was established first and wait if it wasn&apos;t?&lt;br/&gt;
Otherwise, I&apos;d say we disable this test for now.&lt;/p&gt;</comment>
                            <comment id="13419651" author="hudson" created="Fri, 20 Jul 2012 22:53:20 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #44 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/44/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/44/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Remove TestReplicationPeer (Revision 1363213)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationPeer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13419778" author="stack" created="Sat, 21 Jul 2012 09:26:41 +0000"  >&lt;p&gt;Disable the test for now I&apos;d say Lars.  Make an issue to examine whats up but get it out of the way of 0.94.1 I&apos;d say.&lt;/p&gt;</comment>
                            <comment id="13420054" author="lhofhansl" created="Sun, 22 Jul 2012 01:37:31 +0000"  >&lt;p&gt;Also disabled TestZooKeeper#testClientSessionExpired&lt;/p&gt;</comment>
                            <comment id="13420090" author="hudson" created="Sun, 22 Jul 2012 02:51:14 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #351 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/351/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/351/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Disable TestZooKeeper#testClientSessionExpired (Revision 1364207)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13420094" author="hudson" created="Sun, 22 Jul 2012 03:02:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3158 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3158/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3158/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Disable TestZooKeeper#testClientSessionExpired (Revision 1364204)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13420158" author="hudson" created="Sun, 22 Jul 2012 13:08:01 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #103 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/103/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Disable TestZooKeeper#testClientSessionExpired (Revision 1364204)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13421143" author="jmhsieh" created="Tue, 24 Jul 2012 03:19:38 +0000"  >&lt;p&gt;Just as a note, the TestZooKeeper.testClientSessionExpired test fails occasionally in 0.90.6.  I have a patch that reduces the tests failure frequency, for 0.90 (fails 1 out of 400 runs), but haven&apos;t investigated in newer versions yet.&lt;/p&gt;</comment>
                            <comment id="13421666" author="hudson" created="Tue, 24 Jul 2012 19:08:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #45 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/45/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/45/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Disable TestZooKeeper#testClientSessionExpired (Revision 1364207)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13428728" author="hudson" created="Sun, 5 Aug 2012 00:51:13 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #6 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/6/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Disable TestZooKeeper#testClientSessionExpired (Revision 1364207)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6406&quot; title=&quot;TestReplicationPeer.testResetZooKeeperSession and TestZooKeeper.testClientSessionExpired fail frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6406&quot;&gt;&lt;del&gt;HBASE-6406&lt;/del&gt;&lt;/a&gt; Remove TestReplicationPeer (Revision 1363213)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/TestZooKeeper.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationPeer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12608175">HBASE-6831</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12537198" name="6406.txt" size="3535" author="lhofhansl" created="Thu, 19 Jul 2012 16:04:13 +0000"/>
                            <attachment id="12536942" name="testReplication.jstack" size="211471" author="zhihyu@ebaysf.com" created="Wed, 18 Jul 2012 02:45:28 +0000"/>
                            <attachment id="12536943" name="testZooKeeper.jstack" size="109558" author="zhihyu@ebaysf.com" created="Wed, 18 Jul 2012 02:45:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jul 2012 02:45:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>