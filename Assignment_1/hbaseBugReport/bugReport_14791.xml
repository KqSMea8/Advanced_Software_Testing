<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:56:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14791/HBASE-14791.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14791] Batch Deletes in MapReduce jobs (0.98)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14791</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We found that some of our copy table job run for many hours, even when there isn&apos;t that much data to copy.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vik.karma&quot; class=&quot;user-hover&quot; rel=&quot;vik.karma&quot;&gt;Vikas Vishwakarma&lt;/a&gt; did his magic and found that the issue is with copying delete markers (we use raw mode to also move deletes across).&lt;br/&gt;
Looking at the code in 0.98 it&apos;s immediately obvious that deletes (unlike puts) are not batched and hence sent to the other side one by one, causing a network RTT for each delete marker.&lt;/p&gt;

&lt;p&gt;Looks like in trunk it&apos;s doing the right thing (using BufferedMutators for all mutations in TableOutputFormat). So likely only a 0.98 (and 1.0, 1.1, 1.2?) issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12911916">HBASE-14791</key>
            <summary>Batch Deletes in MapReduce jobs (0.98)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alexaraujo">Alex Araujo</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                            <label>mapreduce</label>
                    </labels>
                <created>Tue, 10 Nov 2015 17:53:12 +0000</created>
                <updated>Thu, 19 Nov 2015 19:06:57 +0000</updated>
                            <resolved>Tue, 17 Nov 2015 23:34:37 +0000</resolved>
                                    <version>0.98.16</version>
                                    <fixVersion>0.98.17</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14999028" author="vik.karma" created="Tue, 10 Nov 2015 18:04:56 +0000"  >&lt;p&gt;also thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sukunaidu%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;sukunaidu@gmail.com&quot;&gt;Maddineni Sukumar&lt;/a&gt; for helping with debugging the issue &lt;/p&gt;</comment>
                            <comment id="14999061" author="alexaraujo" created="Tue, 10 Nov 2015 18:19:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; I can take this&lt;/p&gt;</comment>
                            <comment id="14999064" author="lhofhansl" created="Tue, 10 Nov 2015 18:20:41 +0000"  >&lt;p&gt;Cool!&lt;/p&gt;</comment>
                            <comment id="14999243" author="alexaraujo" created="Tue, 10 Nov 2015 20:08:06 +0000"  >&lt;p&gt;The patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12728&quot; title=&quot;buffered writes substantially less useful after removal of HTablePool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12728&quot;&gt;&lt;del&gt;HBASE-12728&lt;/del&gt;&lt;/a&gt; moved buffering of Puts from HTable into BufferedMutator for 1.0+. Since BufferedMutator is not Put specific, it also made TableOutputFormat and MultiTableOutputFormat use BufferedMutator for all Mutation types.&lt;/p&gt;

&lt;p&gt;In 0.98 there is no buffering of Deletes in HTable or elsewhere as far as I can tell. Essentially, we&apos;d need to implement a basic BufferedMutator and use it for both OutputFormat types. The downside is that we would be duplicating some of the buffering code in HTable.&lt;/p&gt;</comment>
                            <comment id="14999342" author="apurtell" created="Tue, 10 Nov 2015 20:58:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;Essentially, we&apos;d need to implement a basic BufferedMutator and use it for both OutputFormat types. The downside is that we would be duplicating some of the buffering code in HTable.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think this is fine given the trade-offs here. We don&apos;t want to make a significant change in HTable semantics in 0.98. We do want to improve performance of TableOutputFormat substantially for Deletes. A reasonable option is some 0.98-specific buffering in TableOutputFormat. It could be more palatable a change if the new behavior is configurable, defaulting to off (backwards compatible FWIW)&lt;/p&gt;</comment>
                            <comment id="14999943" author="lhofhansl" created="Wed, 11 Nov 2015 04:59:35 +0000"  >&lt;p&gt;One tricky aspect of this is that we generally want to keep the order of the deletes w.r.t. puts as much as possible.&lt;br/&gt;
If have one buffering mechanism for puts and another for deletes that is hard to maintain.&lt;/p&gt;

&lt;p&gt;For correctness it is enough to ensure that deletes are shipped after the puts, not sure that&apos;s easy to do, though.&lt;br/&gt;
Then again in cases where we want to ship the deletes, there&apos;s better an appropriate setup on the receiving to keep delete markers around correct, otherwise it makes not sense to ship them... not maybe not an issue at all?&lt;/p&gt;</comment>
                            <comment id="15001464" author="alexaraujo" created="Thu, 12 Nov 2015 01:40:19 +0000"  >&lt;p&gt;Attached a v1 that does size based buffering for Deletes, similar to how Puts are buffered. It does not change 0.98 HTable semantics, and is disabled by default as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; suggested.&lt;/p&gt;

&lt;p&gt;I agree that two buffering mechanisms is not ideal. If correctness is an issue and/or we want to avoid separate buffers, we could try to use the Put buffering in HTable for both and disable it for Deletes by default. That would align 0.98 buffering more closely with BufferedMutator in 1.0+, but would also be more invasive.&lt;/p&gt;</comment>
                            <comment id="15003336" author="lhofhansl" created="Fri, 13 Nov 2015 01:14:54 +0000"  >&lt;p&gt;Looks good! &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexaraujo&quot; class=&quot;user-hover&quot; rel=&quot;alexaraujo&quot;&gt;Alex Araujo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Two questions:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Would subclassing (as opposed to delegation as used in the patch) save us a bunch of code?&lt;/li&gt;
	&lt;li&gt;Would the change from HTable to HTableInterface break compatibility for folks subclasses TableOutputFormat? (would not be an issue too if we do the subclassing of #1)&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15004957" author="alexaraujo" created="Sat, 14 Nov 2015 00:20:53 +0000"  >&lt;p&gt;Thanks for reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;]! Changing HTable to HTableInterface does not break compatibility for subclasses of TableOutputFormat because HTable is private. Subclassing HTable instead of using delegation would save a fair amount of boilerplate in BufferedHTable, and allow both Mutation types to share the same buffer (addresses the ordering issue).&lt;/p&gt;

&lt;p&gt;I&apos;ll upload a v2 that subclasses HTable and preserves ordering.&lt;/p&gt;</comment>
                            <comment id="15007698" author="alexaraujo" created="Tue, 17 Nov 2015 00:33:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, v2 attached&lt;/p&gt;</comment>
                            <comment id="15009355" author="apurtell" created="Tue, 17 Nov 2015 19:41:41 +0000"  >&lt;p&gt;Comments on the v2 patch, basically LGTM:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;BufferedHTable should be annotated as Private&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I take back my earlier suggestion that buffering deletes should be disabled by default. FWIW&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15009558" author="alexaraujo" created="Tue, 17 Nov 2015 21:30:31 +0000"  >&lt;p&gt;Annotated BufferedHTable as Private and removed option to disable delete buffering in latest patch.&lt;/p&gt;

&lt;p&gt;Also dropped version number from patch name, to see if build bot runs it through tests this time.&lt;/p&gt;</comment>
                            <comment id="15009579" author="apurtell" created="Tue, 17 Nov 2015 21:37:36 +0000"  >&lt;p&gt;I think HadoopQA may be MIA at the moment. I&apos;ll apply this patch now and run the mapreduce tests locally. I assume you&apos;ve determined the patch addresses the reported perf issues satisfactorily &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexaraujo&quot; class=&quot;user-hover&quot; rel=&quot;alexaraujo&quot;&gt;Alex Araujo&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="15009606" author="apurtell" created="Tue, 17 Nov 2015 21:49:00 +0000"  >&lt;p&gt;Test results look fine. I&apos;ll commit this tomorrow unless objection or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; has additional comment&lt;/p&gt;</comment>
                            <comment id="15009765" author="alexaraujo" created="Tue, 17 Nov 2015 22:51:18 +0000"  >&lt;p&gt;Based on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vik.karma&quot; class=&quot;user-hover&quot; rel=&quot;vik.karma&quot;&gt;Vikas Vishwakarma&lt;/a&gt;&apos;s perf analysis, this should fix the reported issue. We&apos;ll deploy the patch and verify.&lt;/p&gt;</comment>
                            <comment id="15009826" author="lhofhansl" created="Tue, 17 Nov 2015 23:26:20 +0000"  >&lt;p&gt;+1, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexaraujo&quot; class=&quot;user-hover&quot; rel=&quot;alexaraujo&quot;&gt;Alex Araujo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Going to commit now.&lt;/p&gt;</comment>
                            <comment id="15009836" author="lhofhansl" created="Tue, 17 Nov 2015 23:34:37 +0000"  >&lt;p&gt;Committed to 0.98 only.&lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexaraujo&quot; class=&quot;user-hover&quot; rel=&quot;alexaraujo&quot;&gt;Alex Araujo&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15009962" author="hadoopqa" created="Wed, 18 Nov 2015 00:55:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772837/HBASE-14791-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772837/HBASE-14791-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit dadfe7da0484be81ae09ad61f976967b9893c38d.&lt;br/&gt;
  ATTACHMENT ID: 12772837&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 28 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16556//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15009987" author="lhofhansl" created="Wed, 18 Nov 2015 01:14:50 +0000"  >&lt;p&gt;I do not see any java doc warnings pertaining to the files changed in this patch. Is that a dud?&lt;/p&gt;</comment>
                            <comment id="15009998" author="apurtell" created="Wed, 18 Nov 2015 01:29:40 +0000"  >&lt;p&gt;Don&apos;t worry about it. The javadoc check for 0.98 is incorrect/untuned. &lt;/p&gt;</comment>
                            <comment id="15010034" author="alexaraujo" created="Wed, 18 Nov 2015 02:08:00 +0000"  >&lt;p&gt;Thanks for reviewing and committing!&lt;/p&gt;</comment>
                            <comment id="15010881" author="hudson" created="Wed, 18 Nov 2015 12:19:47 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1134 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1134/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1134/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14791&quot; title=&quot;Batch Deletes in MapReduce jobs (0.98)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14791&quot;&gt;&lt;del&gt;HBASE-14791&lt;/del&gt;&lt;/a&gt; Batch Deletes in MapReduce jobs (larsh: rev d25d74e121901d4d9705ae2c94256d947ad0a708)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestBufferedHTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/BufferedHTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15010921" author="hudson" created="Wed, 18 Nov 2015 12:53:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-matrix #261 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/261/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/261/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14791&quot; title=&quot;Batch Deletes in MapReduce jobs (0.98)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14791&quot;&gt;&lt;del&gt;HBASE-14791&lt;/del&gt;&lt;/a&gt; Batch Deletes in MapReduce jobs (larsh: rev d25d74e121901d4d9705ae2c94256d947ad0a708)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/BufferedHTable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestBufferedHTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15011123" author="alexaraujo" created="Wed, 18 Nov 2015 14:54:48 +0000"  >&lt;p&gt;Those build failures look unrelated. HBase-0.98-on-Hadoop-1.1 has been failing with a compilation error since #&lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1132/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;1132&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] /home/jenkins/jenkins-slave/workspace/HBase-0.98-on-Hadoop-1.1/hbase-common/src/main/java/org/apache/hadoop/hbase/security/UserProvider.java:[70,49] error: cannot find symbol
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;HBase-0.98-matrix appears to have unrelated test failures. Most of the failures have been around since #&lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/258/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;258&lt;/a&gt;. These are new, but unrelated:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;jdk=latest1.7,label=Hadoop&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;java.lang.ExceptionInInitializerError: null&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseConfiguration.checkDefaultsVersion(HBaseConfiguration.java:73)&lt;/p&gt;

&lt;p&gt;hbase-default.xml file seems to be for and old version of HBase (0.98.16), this version is 0.98.17-SNAPSHOT&lt;/p&gt;

&lt;p&gt;java.lang.ExceptionInInitializerError: null&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseConfiguration.checkDefaultsVersion(HBaseConfiguration.java:73)&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseConfiguration.addHbaseResources(HBaseConfiguration.java:105)&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseConfiguration.create(HBaseConfiguration.java:120)&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseCommonTestingUtility.&amp;lt;init&amp;gt;(HBaseCommonTestingUtility.java:46)&lt;br/&gt;
	at org.apache.hadoop.hbase.TestClassFinder.&amp;lt;clinit&amp;gt;(TestClassFinder.java:57)&lt;/p&gt;

&lt;p&gt;Could not initialize class org.apache.hadoop.hbase.TestClassFinder&lt;br/&gt;
java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.hbase.TestClassFinder&lt;/p&gt;

&lt;p&gt;Could not initialize class org.apache.hadoop.hbase.util.TestCoprocessorClassLoader&lt;br/&gt;
java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.hbase.util.TestCoprocessorClassLoader&lt;/p&gt;

&lt;p&gt;Could not initialize class org.apache.hadoop.hbase.util.TestDynamicClassLoader&lt;br/&gt;
java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.hbase.util.TestDynamicClassLoader&lt;/p&gt;

&lt;p&gt;&lt;b&gt;jdk=latest1.6,label=Hadoop&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;java.lang.NoSuchFieldError: in&lt;br/&gt;
	at org.apache.hadoop.hbase.codec.CellCodecWithTags$CellDecoder.parseCell(CellCodecWithTags.java:86)&lt;br/&gt;
	at org.apache.hadoop.hbase.codec.BaseDecoder.advance(BaseDecoder.java:67)&lt;br/&gt;
	at org.apache.hadoop.hbase.codec.TestCellCodecWithTags.testCellWithTag(TestCellCodecWithTags.java:76)&lt;/p&gt;

&lt;p&gt;java.lang.NoSuchFieldError: in&lt;br/&gt;
	at org.apache.hadoop.hbase.codec.KeyValueCodec$KeyValueDecoder.parseCell(KeyValueCodec.java:70)&lt;br/&gt;
	at org.apache.hadoop.hbase.codec.BaseDecoder.advance(BaseDecoder.java:67)&lt;br/&gt;
	at org.apache.hadoop.hbase.codec.TestKeyValueCodec.testOne(TestKeyValueCodec.java:80)&lt;/p&gt;
</comment>
                            <comment id="15014141" author="alexaraujo" created="Thu, 19 Nov 2015 18:55:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vik.karma&quot; class=&quot;user-hover&quot; rel=&quot;vik.karma&quot;&gt;Vikas Vishwakarma&lt;/a&gt; ran a CopyTable with this patch and the job finished significantly faster: 7.5 minutes vs 8.5 hours without the patch.&lt;/p&gt;</comment>
                            <comment id="15014169" author="lhofhansl" created="Thu, 19 Nov 2015 19:06:57 +0000"  >&lt;p&gt;Yeah! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12771886" name="HBASE-14791-0.98-v1.patch" size="23478" author="alexaraujo" created="Thu, 12 Nov 2015 01:18:19 +0000"/>
                            <attachment id="12772621" name="HBASE-14791-0.98-v2.patch" size="14106" author="alexaraujo" created="Tue, 17 Nov 2015 00:30:40 +0000"/>
                            <attachment id="12772837" name="HBASE-14791-0.98.patch" size="12123" author="alexaraujo" created="Tue, 17 Nov 2015 21:26:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Nov 2015 18:04:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2o7dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>