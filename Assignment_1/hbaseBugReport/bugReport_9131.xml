<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:01:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9131/HBASE-9131.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9131] Add admin-level documention about configuration and usage of the Bucket Cache</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9131</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7404&quot; title=&quot;Bucket Cache:A solution about CMS,Heap Fragment and Big Cache on HBASE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7404&quot;&gt;&lt;del&gt;HBASE-7404&lt;/del&gt;&lt;/a&gt; added the bucket cache but its configuration settings are currently undocumented.  Without documentation developers would be the only ones aware of the feature.&lt;/p&gt;

&lt;p&gt;Specifically documentation about slide 23 from &lt;a href=&quot;http://www.slideshare.net/cloudera/operations-session-4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slideshare.net/cloudera/operations-session-4&lt;/a&gt; would be great to add!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12661994">HBASE-9131</key>
            <summary>Add admin-level documention about configuration and usage of the Bucket Cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Aug 2013 23:28:26 +0000</created>
                <updated>Wed, 18 Jun 2014 03:37:07 +0000</updated>
                            <resolved>Wed, 18 Jun 2014 03:37:06 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13730296" author="zjushch" created="Tue, 6 Aug 2013 03:02:52 +0000"  >&lt;p&gt;Upload the patch of BucketCache documentation to book.xml.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt; Any suggestions?&lt;/p&gt;
</comment>
                            <comment id="13730883" author="jmhsieh" created="Tue, 6 Aug 2013 16:03:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt; Thanks.  I think we are somewhere between too little detail and too much detail.&lt;/p&gt;

&lt;p&gt;First, can we add the config variables to hbase-default.xml (with full descriptions and with units).&lt;/p&gt;

&lt;p&gt;Now to the meat:&lt;/p&gt;

&lt;p&gt;The patch doesn&apos;t tell the admin why or when they&apos;d want to consider using this.  The link/pdf requires having to search for the bucket cache sections in the 2nd page and then goes on into too much design detail for an average admin.  (It also lacks the config variables  / instructions). &lt;/p&gt;

&lt;p&gt;My suggestion: Take let&apos;s take the high-level parts from section 3 of the pdf, polish it and add it to the official docs. &lt;/p&gt;

&lt;p&gt;Here&apos;s a stab at the sections that I think would be good for the ref guide with the prose improved a little bit: &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;Design and Motivation&lt;/b&gt; &lt;/p&gt;

&lt;p&gt;The Bucket Cache is an alternate block cache implementation that is designed to take advantage of large amounts of memory or low-latency storage.   (something about how big would be useful).   It is implemented as an off-the-jvm-heap and which has the secondary benefit of reducing JVM heap fragmentation that eventually causes stop-the-world JVM garbage collection operations. If one were to rely upon the standard JVM memory allocation and GC policies with large heaps (&amp;gt;16GB RAM) one would periodically incur instability in hbase due to long stop-the-world GC pauses (10&apos;s of secs to minutes) that can be misinterpreted as region server failures.&lt;/p&gt;

&lt;p&gt;The storage of cached blocks is is not constrained to in RAM-only use; one could cache blocks in memory and also use a high speed disk, such as SSD&apos;s, Fusion-IO devices, or ram-disks as massive secondary cache.  (probably need something about the persistence properties not being required, but having the masssive capacity as a huge benefit.&lt;/p&gt;

&lt;p&gt;Internally, the bucket cache divided storage into many &lt;b&gt;buckets&lt;/b&gt;, each of which contains blocks of a particular range of sizes.  (this is a little fuzzy, needs some clarification).  Insertions and evictions of blocks backed by physical storage just overwrites blocks on the device or reads data from the storage device.  Managing these larger blocks prevents external fragmentation that causes GC pauses at the cost of some minor wasted space (internal fragmentation).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Configuration and Usage&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;To configure the bucket cache... (something along the line of what the current patch has)....&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Let me know what you think, and feel free to update/correct the draft.&lt;/p&gt;</comment>
                            <comment id="14034768" author="stack" created="Wed, 18 Jun 2014 03:37:07 +0000"  >&lt;p&gt;Resolving as done by changes to doc by Misty recently and by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11364&quot; title=&quot;[BlockCache] Add a flag to cache data blocks in L1 if multi-tier cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11364&quot;&gt;&lt;del&gt;HBASE-11364&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12596272" name="hbase-9131.patch" size="2447" author="zjushch" created="Tue, 6 Aug 2013 03:02:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Aug 2013 03:02:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mzc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>