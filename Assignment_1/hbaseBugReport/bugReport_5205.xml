<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:25:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5205/HBASE-5205.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5205] Delete handles deleteFamily incorrectly</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5205</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Delete.deleteFamily clears all other markers for the same family.&lt;br/&gt;
That is not correct as some of these other markers might be for a later time.&lt;/p&gt;

&lt;p&gt;That logic should be removed.&lt;/p&gt;

&lt;p&gt;If (really) needed this can be slightly optimized by keeping track of the max TS so far for each family.&lt;br/&gt;
If both the TS-so-far and the TS of a new deleteFamily request is &amp;lt; LATEST_TIMESTAMP and the TS-so-far is &amp;lt; deleteFamily marker, or if both the TS-so-far and the new TS equal LATEST_TIMESTAMP, then the previous delete markerz for that family could be removed.&lt;br/&gt;
I think that might be overkill, as most deletes issued from clients are for LATEST_TIMESTAMP (which the server translates to the current time).&lt;/p&gt;

&lt;p&gt;I&apos;ll have a (one-line) patch soon. Unless folks insist on the optimization I mentioned above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538467">HBASE-5205</key>
            <summary>Delete handles deleteFamily incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jan 2012 02:09:36 +0000</created>
                <updated>Wed, 7 Jan 2015 10:15:46 +0000</updated>
                                                                            <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13186649" author="lhofhansl" created="Mon, 16 Jan 2012 02:11:05 +0000"  >&lt;p&gt;I also find that the TS of the Delete&apos;s constructor is not used as default for delete{Column|Columns|Family|, which is &lt;b&gt;really&lt;/b&gt; confusing. (And Put does the right thing, using the constructor TS for all subsequent adds by default).&lt;/p&gt;</comment>
                            <comment id="13186651" author="zhihyu@ebaysf.com" created="Mon, 16 Jan 2012 02:18:25 +0000"  >&lt;p&gt;I think we should poll user@ and dev@ about your proposal in this JIRA.&lt;/p&gt;

&lt;p&gt;HBase has been in production for a while. It might be possible for some folks to unknowingly depend on the current behavior.&lt;/p&gt;</comment>
                            <comment id="13186654" author="lhofhansl" created="Mon, 16 Jan 2012 02:21:03 +0000"  >&lt;p&gt;Here&apos;s a simple patch.&lt;br/&gt;
Use the constructors TS (which defaults to LATEST_TIMESTAMP as before), also do not clear the family&apos;s markers when a family marker is added.&lt;/p&gt;</comment>
                            <comment id="13186657" author="lhofhansl" created="Mon, 16 Jan 2012 02:24:50 +0000"  >&lt;p&gt;@Ted: Fair enough. Although I feel that the existing behavior is causing more trouble.&lt;/p&gt;</comment>
                            <comment id="13186691" author="hadoopqa" created="Mon, 16 Jan 2012 04:56:50 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510658/5205.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510658/5205.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -145 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 82 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/769//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/769//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/769//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/769//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/769//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/769//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13186696" author="zhihyu@ebaysf.com" created="Mon, 16 Jan 2012 05:09:51 +0000"  >&lt;p&gt;From the results of Hadoop QA test run, there is no known case of broken behavior.&lt;/p&gt;

&lt;p&gt;+1 on patch for TRUNK.&lt;/p&gt;</comment>
                            <comment id="14266335" author="clehene" created="Tue, 6 Jan 2015 16:20:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; did this fall through the cracks because it didn&apos;t have a fixVersion?&lt;/p&gt;</comment>
                            <comment id="14266346" author="hadoopqa" created="Tue, 6 Jan 2015 16:32:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510658/5205.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510658/5205.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 26e3e1b300670d6c3f9f4853aa937226592b9537.&lt;br/&gt;
  ATTACHMENT ID: 12510658&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12332//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12332//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14266648" author="lhofhansl" created="Tue, 6 Jan 2015 19:54:57 +0000"  >&lt;p&gt;Didn&apos;t seem important enough and it does change the behavior subtly. We can certainly &quot;warm it up again&quot;.&lt;/p&gt;</comment>
                            <comment id="14267481" author="clehene" created="Wed, 7 Jan 2015 10:15:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; would it make sense to set a fixVersion (1.0.1, 1.1.0?)?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510658" name="5205.txt" size="1785" author="lhofhansl" created="Mon, 16 Jan 2012 02:21:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jan 2012 02:18:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11473</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>