<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13394/HBASE-13394.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13394] Failed to recreate a table when quota is enabled</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13394</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Steps to reproduce.&lt;br/&gt;
Enable quota by setting &lt;tt&gt;hbase.quota.enabled&lt;/tt&gt; to true&lt;br/&gt;
Create a table say with name &apos;t1&apos;, make sure the creation fails after adding  this table entry into namespace quota cache.&lt;br/&gt;
Now correct the failure and recreate the table &apos;t1&apos;. It fails with below exception.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-04-02 14:23:53,729 | ERROR | FifoRpcScheduler.handler1-thread-23 | Unexpected throwable object  | org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2154)
java.lang.IllegalStateException: Table already in the cache t1
        at org.apache.hadoop.hbase.namespace.NamespaceTableAndRegionInfo.addTable(NamespaceTableAndRegionInfo.java:97)
        at org.apache.hadoop.hbase.namespace.NamespaceStateManager.addTable(NamespaceStateManager.java:171)
        at org.apache.hadoop.hbase.namespace.NamespaceStateManager.checkAndUpdateNamespaceTableCount(NamespaceStateManager.java:147)
        at org.apache.hadoop.hbase.namespace.NamespaceAuditor.checkQuotaToCreateTable(NamespaceAuditor.java:76)
        at org.apache.hadoop.hbase.quotas.MasterQuotaManager.checkNamespaceTableAndRegionQuota(MasterQuotaManager.java:344)
        at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1781)
        at org.apache.hadoop.hbase.master.HMaster.createTable(HMaster.java:1818)
        at org.apache.hadoop.hbase.protobuf.generated.MasterProtos$MasterService$2.callBlockingMethod(MasterProtos.java:42273)
        at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2116)
        at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:108)
        at org.apache.hadoop.hbase.ipc.FifoRpcScheduler$1.run(FifoRpcScheduler.java:74)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask.run(FutureTask.java:262)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;P.S: Line numbers may not be in sync.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12787928">HBASE-13394</key>
            <summary>Failed to recreate a table when quota is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashish singhi">Ashish Singhi</assignee>
                                    <reporter username="sreenivasulureddy">Y. SREENIVASULU REDDY</reporter>
                        <labels>
                            <label>quota</label>
                    </labels>
                <created>Fri, 3 Apr 2015 06:55:07 +0000</created>
                <updated>Fri, 3 Jul 2015 14:42:48 +0000</updated>
                            <resolved>Mon, 27 Apr 2015 21:02:46 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="14394323" author="ashish singhi" created="Fri, 3 Apr 2015 11:43:31 +0000"  >&lt;p&gt;We were first adding table entry in the namespace cache and then on any exception from AC we were not removing it back.&lt;br/&gt;
Handled this case with the patch.&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="14394427" author="hadoopqa" created="Fri, 3 Apr 2015 13:36:03 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12709215/HBASE-13394.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12709215/HBASE-13394.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit d8b10656d00779e194c3caca118995136babce99.&lt;br/&gt;
  ATTACHMENT ID: 12709215&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13552//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14394475" author="yuzhihong@gmail.com" created="Fri, 3 Apr 2015 14:28:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14395568" author="srikanth235" created="Sat, 4 Apr 2015 05:58:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;then on any exception from AC we were not removing it back&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Can you please elaborate on why AC would throw an exception in this case (am assuming that user already has necessary permissions) when quota is enabled.&lt;/p&gt;

&lt;p&gt;It would be great if we can capture the failures in the server logs. Please add logging coverage.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.quotaManager.removeTableFromNamespaceQuota(tableName);
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; e;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mind deleting the namespace in test..&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; +    ADMIN.createNamespace(nspDesc); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


</comment>
                            <comment id="14480944" author="anoop.hbase" created="Mon, 6 Apr 2015 05:27:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you please elaborate on why AC would throw an exception in this case (am assuming that user already has necessary permissions) when quota is enabled.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think the steps followed is&lt;br/&gt;
A user is trying to create table but he has no permission to do so&lt;br/&gt;
It fails from AC  (AC is ON)&lt;br/&gt;
Now another user having proper permission trying to create the same table name and the Quota manager fails the op.&lt;/p&gt;

&lt;p&gt;We add the table entry to quota before the table&apos;s actual creation. (Even before the master preCreateTable CP hook whose impl in AC do the permission check on table creation).   The fix for this case looks ok.&lt;/p&gt;

&lt;p&gt;What if the table creation failed after this pre hook step?  Still the same issue will happen with Quota ON right? &lt;/p&gt;</comment>
                            <comment id="14480952" author="ashish singhi" created="Mon, 6 Apr 2015 05:38:06 +0000"  >&lt;p&gt;Thanks Ted, Srikanth and Anoop for looking into this.&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Can you please elaborate on why AC would throw an exception in this case (am assuming that user already has necessary permissions) when quota is enabled.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think the steps followed is&lt;br/&gt;
 A user is trying to create table but he has no permission to do so&lt;br/&gt;
 It fails from AC (AC is ON)&lt;br/&gt;
 Now another user having proper permission trying to create the same table name and the Quota manager fails the op.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, that is the case.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What if the table creation failed after this pre hook step? Still the same issue will happen with Quota ON right? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Can you please tell me the scenario where CreateTableHandler can fail without throwing any exception ? Because I have assumed that on any failure from it, it will throw an exception and within catch clause we are already removing that table from the cache.&lt;/p&gt;</comment>
                            <comment id="14480955" author="ashish singhi" created="Mon, 6 Apr 2015 05:47:44 +0000"  >&lt;p&gt;I see there is a possibility that exception can be thrown from CreateTableHandler#prepare let me handle this case as well then.&lt;/p&gt;</comment>
                            <comment id="14480987" author="anoop.hbase" created="Mon, 6 Apr 2015 06:33:36 +0000"  >&lt;p&gt;Yes I mean any issue with this step&lt;br/&gt;
this.service.submit(new CreateTableHandler(this,  this.fileSystemManager, hTableDescriptor, conf,newRegions, this).prepare());&lt;/p&gt;

&lt;p&gt;Within the submitted task also..  But that is an async op.  We need a better way to deal with such situation.&lt;/p&gt;

&lt;p&gt;In Quota manager we have a step which checks if table already exists.  If table was present things would have failed at this step itself.  So if this step is passed and we come to cache and entry is present there, (because of issues like this) we have to just clear of that?  Just asking.. I have not seen Quota manager code fully..  Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14480990" author="ashish singhi" created="Mon, 6 Apr 2015 06:36:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;It would be great if we can capture the failures in the server logs. Please add logging coverage.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Addressed.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Mind deleting the namespace in test..&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Addressed.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Still the same issue will happen with Quota ON right? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Handled this.&lt;/p&gt;</comment>
                            <comment id="14481050" author="hadoopqa" created="Mon, 6 Apr 2015 08:56:17 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12723307/HBASE-13394-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12723307/HBASE-13394-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 057499474c346b28ad5ac3ab7da420814eba547d.&lt;br/&gt;
  ATTACHMENT ID: 12723307&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13574//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14510338" author="anoop.hbase" created="Fri, 24 Apr 2015 02:00:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt;&lt;br/&gt;
What do you think about above comment?&lt;/p&gt;

&lt;p&gt;&quot;Yes I mean any issue with this step&lt;br/&gt;
this.service.submit(new CreateTableHandler(this, this.fileSystemManager, hTableDescriptor, conf,newRegions, this).prepare());&lt;br/&gt;
Within the submitted task also.. But that is an async op. We need a better way to deal with such situation.&lt;br/&gt;
In Quota manager we have a step which checks if table already exists. If table was present things would have failed at this step itself. So if this step is passed and we come to cache and entry is present there, (because of issues like this) we have to just clear of that? Just asking.. I have not seen Quota manager code fully.&quot;&lt;/p&gt;</comment>
                            <comment id="14510510" author="ashish singhi" created="Fri, 24 Apr 2015 06:06:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, Sorry missed the comment before.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;So if this step is passed and we come to cache and entry is present there, (because of issues like this) we have to just clear of that? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I feel rather than removing the entry from cache, we can reject the request with proper error message saying that a request to create table with same name is already in progress. So we will need to handle two cases here when the table really exists and when table create request is in progress to reject the request with proper error message. &lt;br/&gt;
What you suggest ?&lt;/p&gt;</comment>
                            <comment id="14510637" author="anoop.hbase" created="Fri, 24 Apr 2015 08:22:31 +0000"  >&lt;p&gt;May be first of all we can see how/whether the new proc V2 way of table creation helps us. &lt;br/&gt;
My Q is this Ashish&lt;br/&gt;
Here you are catching issues in a pre hook and some check points and remove the entry from cache.  But the table is still not created. It can so happen that the async table creation op can fail and we fail the table create op at user&apos;s console. Then the user try to do it once more. But it will never be successful ad the quota cache says table already exists.   So how we can solve that also?&lt;/p&gt;</comment>
                            <comment id="14510794" author="ashish singhi" created="Fri, 24 Apr 2015 10:47:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;It can so happen that the async table creation op can fail and we fail the table create op at user&apos;s console&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;On create failure we used to remove(before Proc V2)  entry from the cache. So this should be ok.&lt;/p&gt;

&lt;p&gt;I have rebased the patch on the current master.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; can you please take a look.&lt;/p&gt;

&lt;p&gt;I still haven&apos;t looked into Proc V2 code. So I am not sure what happens if create table is failed in execute. I assume the rollback step will be auto called then what about the cache, how is entry being removed on failure/rollback ?&lt;/p&gt;</comment>
                            <comment id="14510805" author="anoop.hbase" created="Fri, 24 Apr 2015 10:59:38 +0000"  >&lt;p&gt;I missed the fact that within the CreateTableHandler we were catching any Throwable and doing cache cleanup.  Thanks Ashish for correcting me offline.&lt;br/&gt;
On the latest patch&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Long procId &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Why this is &apos;Long&apos; not &apos;long&apos;?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I still haven&apos;t looked into Proc V2 code. So I am not sure what happens if create table is failed in execute. I assume the rollback step will be auto called then what about the cache, how is entry being removed on failure/rollback ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;When there is no procedure support, the CompatibilityLatch handles this as we get back the Exception happened and you put the entire code (await call also) in try.  But when the procedure support is ON, I can not see this MasterQuotaManager#removeTableFromNamespaceQuota  happening on roll back. There the latch used is NoopLatch and so you wont be able to get a catch in this HMaster code also.  &lt;/p&gt;</comment>
                            <comment id="14510809" author="ashish singhi" created="Fri, 24 Apr 2015 11:00:21 +0000"  >&lt;p&gt;On looking into the code. I think the table entry removal logic from cache should go in to rollbackState api. Am I right ?&lt;/p&gt;</comment>
                            <comment id="14510826" author="ashish singhi" created="Fri, 24 Apr 2015 11:20:30 +0000"  >&lt;p&gt;Thanks Anoop for quick turn around.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Why this is &apos;Long&apos; not &apos;long&apos;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think that is how default procedure id is implemented. Procedure#procId is Long and initialized to null and Procedure#getProcId() returns long. I tried to keep it the same.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I can not see this MasterQuotaManager#removeTableFromNamespaceQuota happening on roll back.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Addressed in v3. &lt;/p&gt;</comment>
                            <comment id="14510833" author="mbertozzi" created="Fri, 24 Apr 2015 11:30:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashishujjain&quot; class=&quot;user-hover&quot; rel=&quot;ashishujjain&quot;&gt;Ashish Singh&lt;/a&gt; remoteTableFromNamespaceQuota() is already in rollback() under case CREATE_TABLE_PRE_OPERATION DeleteTableProcedure.deleteTableStates()&lt;/p&gt;

&lt;p&gt;the quotaManager.checkNamespaceTableAndRegionQuota() call that is in HMaster should be moved in CreateTableProcedure.executeFromState() under preCreate()&lt;/p&gt;</comment>
                            <comment id="14511042" author="hadoopqa" created="Fri, 24 Apr 2015 13:25:21 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12727882/HBASE-13394-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12727882/HBASE-13394-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 40a80c1fe0b4cf8d64ada406f256e0e289bc9ebc.&lt;br/&gt;
  ATTACHMENT ID: 12727882&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13797//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14511089" author="hadoopqa" created="Fri, 24 Apr 2015 13:52:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12727891/HBASE-13394-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12727891/HBASE-13394-v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 40a80c1fe0b4cf8d64ada406f256e0e289bc9ebc.&lt;br/&gt;
  ATTACHMENT ID: 12727891&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1901 checkstyle errors (more than the master&apos;s current 1900 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13798//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14511207" author="anoop.hbase" created="Fri, 24 Apr 2015 15:20:03 +0000"  >&lt;p&gt;+1 for V4.&lt;br/&gt;
After ProcV2 things are very clean.&lt;/p&gt;</comment>
                            <comment id="14511233" author="ashish singhi" created="Fri, 24 Apr 2015 15:32:53 +0000"  >&lt;p&gt;Thanks Matteo for the patch. &lt;br/&gt;
Sorry couldn&apos;t turn around quickly was away from the system. &lt;/p&gt;</comment>
                            <comment id="14511336" author="hadoopqa" created="Fri, 24 Apr 2015 16:59:19 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12727921/HBASE-13394-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12727921/HBASE-13394-v4.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 40a80c1fe0b4cf8d64ada406f256e0e289bc9ebc.&lt;br/&gt;
  ATTACHMENT ID: 12727921&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13800//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14511341" author="yuzhihong@gmail.com" created="Fri, 24 Apr 2015 17:03:58 +0000"  >&lt;p&gt;+1 on patch v4&lt;/p&gt;</comment>
                            <comment id="14511342" author="mbertozzi" created="Fri, 24 Apr 2015 17:04:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt; you can do the branch-1 patch. branch-1 has the option to use handlers. &lt;br/&gt;
so you use what I&apos;ve done in v4 for the procedure side, but have to keep the checkNamespaceTableAndRegionQuota() in HMaster and you add your try/catch in HMaster (this stuff is only in the &quot;don&apos;t use procedure&quot; if branch)&lt;/p&gt;</comment>
                            <comment id="14511449" author="ashish singhi" created="Fri, 24 Apr 2015 18:04:48 +0000"  >&lt;p&gt;I guess you meant branch-1.1&lt;br/&gt;
I will prepare a patch as you suggested tomorrow. &lt;/p&gt;</comment>
                            <comment id="14512511" author="ashish singhi" created="Sat, 25 Apr 2015 14:39:51 +0000"  >&lt;p&gt;Internet connection is very bad &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Not able to clone branch-1.1 successfully.&lt;br/&gt;
ASA it is done will post a patch.&lt;/p&gt;</comment>
                            <comment id="14513574" author="ashish singhi" created="Mon, 27 Apr 2015 06:00:17 +0000"  >&lt;p&gt;Patch for branch-1.1.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; please check.&lt;/p&gt;</comment>
                            <comment id="14513626" author="mbertozzi" created="Mon, 27 Apr 2015 06:52:07 +0000"  >&lt;p&gt;branch-1.1 patch looks good to me. +1&lt;/p&gt;</comment>
                            <comment id="14513725" author="hadoopqa" created="Mon, 27 Apr 2015 08:42:53 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728319/HBASE-13394-branch-1.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728319/HBASE-13394-branch-1.1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.1 branch at commit 4182fc1a9bc261f50efd7efd27c61a702bc1bfbf.&lt;br/&gt;
  ATTACHMENT ID: 12728319&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3801 checkstyle errors (more than the master&apos;s current 3800 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestHBaseFsck&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13829//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14515835" author="hudson" created="Mon, 27 Apr 2015 23:19:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #435 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/435/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/435/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13394&quot; title=&quot;Failed to recreate a table when quota is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13394&quot;&gt;&lt;del&gt;HBASE-13394&lt;/del&gt;&lt;/a&gt; Failed to recreate a table when quota is enabled (matteo.bertozzi: rev e8fb9cb16c78618a10fbc6bba71431284a872a82)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/ProcedureSyncWait.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/namespace/TestNamespaceAuditor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/CreateTableProcedure.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/DeleteTableProcedure.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14515984" author="hudson" created="Tue, 28 Apr 2015 00:06:26 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #31 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/31/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/31/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13394&quot; title=&quot;Failed to recreate a table when quota is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13394&quot;&gt;&lt;del&gt;HBASE-13394&lt;/del&gt;&lt;/a&gt; Failed to recreate a table when quota is enabled (matteo.bertozzi: rev f862412592fc4654a827b7594098b3373a6bb1a2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/CreateTableProcedure.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/ProcedureSyncWait.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/namespace/TestNamespaceAuditor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/DeleteTableProcedure.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14516153" author="hudson" created="Tue, 28 Apr 2015 01:40:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6422 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6422/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6422/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13394&quot; title=&quot;Failed to recreate a table when quota is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13394&quot;&gt;&lt;del&gt;HBASE-13394&lt;/del&gt;&lt;/a&gt; Failed to recreate a table when quota is enabled (matteo.bertozzi: rev b96952beef41226a051fec8add2ff2c803cf1abc)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/DeleteTableProcedure.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/CreateTableProcedure.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/procedure/ProcedureSyncWait.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/namespace/TestNamespaceAuditor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14571081" author="ndimiduk" created="Wed, 3 Jun 2015 15:28:46 +0000"  >&lt;p&gt;Closing issues released in 1.1.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12644239">HBASE-8410</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12728319" name="HBASE-13394-branch-1.1.patch" size="11177" author="ashish singhi" created="Mon, 27 Apr 2015 06:00:17 +0000"/>
                            <attachment id="12723307" name="HBASE-13394-v1.patch" size="7525" author="ashish singhi" created="Mon, 6 Apr 2015 06:32:02 +0000"/>
                            <attachment id="12727882" name="HBASE-13394-v2.patch" size="8076" author="ashish singhi" created="Fri, 24 Apr 2015 10:41:55 +0000"/>
                            <attachment id="12727891" name="HBASE-13394-v3.patch" size="9771" author="ashish singhi" created="Fri, 24 Apr 2015 11:14:57 +0000"/>
                            <attachment id="12727921" name="HBASE-13394-v4.patch" size="9867" author="mbertozzi" created="Fri, 24 Apr 2015 14:24:53 +0000"/>
                            <attachment id="12709215" name="HBASE-13394.patch" size="7083" author="ashish singhi" created="Fri, 3 Apr 2015 11:11:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Apr 2015 11:43:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27qtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>