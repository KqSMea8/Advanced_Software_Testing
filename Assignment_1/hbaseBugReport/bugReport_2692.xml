<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:03:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2692/HBASE-2692.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2692] Master rewrite and cleanup for 0.90</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2692</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is the parent issue for master changes targeted at 0.90 release.&lt;/p&gt;

&lt;p&gt;Changes done as part of this issue grew out of work done over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2485&quot; title=&quot;Persist Master in-memory state so on restart or failover, new instance can pick up where the old left off&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2485&quot;&gt;&lt;del&gt;HBASE-2485&lt;/del&gt;&lt;/a&gt; to move region transitions into ZK.&lt;/p&gt;

&lt;p&gt;In addition to that work, this issue will include general HMaster and ZooKeeper refactorings and cleanups.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12466475">HBASE-2692</key>
            <summary>Master rewrite and cleanup for 0.90</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="streamy">Jonathan Gray</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jun 2010 17:58:28 +0000</created>
                <updated>Fri, 20 Nov 2015 12:44:07 +0000</updated>
                            <resolved>Wed, 1 Sep 2010 05:14:40 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                            <comments>
                            <comment id="12883295" author="streamy" created="Mon, 28 Jun 2010 21:08:07 +0000"  >&lt;p&gt;Created a feature branch for work related to this JIRA.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/hbase/branches/0.90_master_rewrite&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/hbase/branches/0.90_master_rewrite&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As part of that branch, I added a BRANCH_CHANGES.txt for changes just in the branch.  On commit messages, I am prefixing with &lt;span class=&quot;error&quot;&gt;&amp;#91;0.90_master_rewrite&amp;#93;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="12890519" author="streamy" created="Wed, 21 Jul 2010 01:08:08 +0000"  >&lt;p&gt;This is a text file containing information about all types of region transitions including how to deal with failures of both Masters and RegionServers.&lt;/p&gt;

&lt;p&gt;Also contains the set of valid unassigned ZK node transitions.  No more strong-handedly doing createOrUpdate everywhere.&lt;/p&gt;</comment>
                            <comment id="12890522" author="streamy" created="Wed, 21 Jul 2010 01:32:20 +0000"  >&lt;p&gt;Note that the file does not currently address catalog tables as special in any way, though they are.  I&apos;m not quite there yet but will add it to the doc once that is fleshed out.&lt;/p&gt;</comment>
                            <comment id="12890897" author="jdcryans" created="Wed, 21 Jul 2010 21:13:06 +0000"  >&lt;p&gt;My first pass on the document, would be nice if the doc was on rb.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;- Master startup determines whether this is startup or failover by counting the number of RS nodes in ZK.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;FWIW there&apos;s also a znode called &quot;shutdown&quot; that, if present, means that the cluster is up and running.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;- Master waits for the minimum number of RS to be available to be assigned regions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;d be interested to see your thoughts about determining the minimum number of RSs. Also how do you handle the assignment of ROOT and META? What&apos;s the chance that there&apos;s always enough RSs that reported in once both catalog regions are assigned?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    Periodically, and when there are not any regions in transition, a load&lt;br/&gt;
     balancer will run and move regions around to balance cluster load&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s not clear to me why you have to wait. Then you wrote:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;- Load balancer blocks until there are no regions in transition.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So once the load balancer is started, do we block regions going in transition?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;- Master sends RPCs to the source RSs, telling them to CLOSE the regions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What happens if a region splits while load balancing is running?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;- Master finds all regions of the table.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Same question, what do you do if a region splits just after that? Won&apos;t you be missing 2 regions and giving a CLOSE rpc that&apos;s invalid?&lt;/p&gt;</comment>
                            <comment id="12891004" author="stack" created="Thu, 22 Jul 2010 05:17:42 +0000"  >&lt;p&gt;.bq &quot;Master waits for the minimum number of RS to be available to be assigned regions&quot;&lt;/p&gt;

&lt;p&gt;How long you going to wait?  Whats the trigger that has you start assigning?&lt;/p&gt;

&lt;p&gt;.bq &quot;We assume that the Master will not fail until after the OFFLINE nodes have been created in ZK&quot;&lt;/p&gt;

&lt;p&gt;And if it does?  Is that for later?&lt;/p&gt;

&lt;p&gt;.bq &quot;Load balancer blocks until there are no regions in transition&quot;&lt;/p&gt;

&lt;p&gt;Doesn&apos;t just go back to sleep?&lt;/p&gt;

&lt;p&gt;.bq - Master sends RPCs to each RS, telling them to OPEN their regions.&lt;/p&gt;

&lt;p&gt;This is a new message?&lt;/p&gt;

&lt;p&gt;.bq Master removes the region from all in-memory structures&lt;/p&gt;

&lt;p&gt;Who updated .META.?  The RS, right?&lt;/p&gt;

&lt;p&gt;.bq &quot;3. Table Enable/Disable&quot; &lt;/p&gt;

&lt;p&gt;This has to be better than what we currently have?&lt;/p&gt;

&lt;p&gt;.bq &quot;Master determines which regions need to be handled.&quot;&lt;/p&gt;

&lt;p&gt;How?&lt;/p&gt;

&lt;p&gt;.bq Master sends RPCs to RSs to open all the regions.&lt;/p&gt;

&lt;p&gt;Whats this message look like?  Its the new one mentioned above?&lt;/p&gt;

&lt;p&gt;Will it take time figuring what was on the dead RS?  Or will it be near-instantaneous?&lt;/p&gt;

&lt;p&gt;.bq &quot; 4. RegionServer Failure&quot;&lt;/p&gt;

&lt;p&gt;I don&apos;t see mention of wait on RS WAL log spitting in here.  Should it be mentioned?&lt;/p&gt;

&lt;p&gt;This is a nice doc. Jon.  I see it sticking around long after master rewrite.  We&apos;ll point fellas here when they are trying to figure how this all worky-poos.&lt;/p&gt;
</comment>
                            <comment id="12891010" author="streamy" created="Thu, 22 Jul 2010 05:48:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d be interested to see your thoughts about determining the minimum number of RSs.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;How long you going to wait? Whats the trigger that has you start assigning?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is a configuration parameter that already exists.  We could also add some kind of timeout (once one RS checks in, we wait N seconds before starting up).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also how do you handle the assignment of ROOT and META? What&apos;s the chance that there&apos;s always enough RSs that reported in once both catalog regions are assigned?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As I said, this doc leaves out catalog tables for now.  One thing to remember, startup is no longer going to need to wait around for the meta scanner to kick in and region assignment should be significantly faster, so it could be potentially sub-second to assign them out.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So once the load balancer is started, do we block regions going in transition?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Well sometimes you can&apos;t.  The idea is that load balancing runs when the cluster is at steady state.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;if regions in transiton&amp;#93;&lt;/span&gt; Doesn&apos;t just go back to sleep?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It could.  Might be simpler approach except if you set a long period you&apos;d potentially skip a load balance because of a single region in transition.&lt;/p&gt;

&lt;p&gt;The load balancer will probably be the last thing I add, still some details to flesh out.  I think it makes sense to not kick off a load balancing when there are already regions in transition (it makes sense as a background operation when the cluster is mostly at steady state from region movement standpoint).  Whether it waits or skips the run is an open question, I&apos;d opt for waiting.  The next run of the load balancer would happen at the fixed period, maybe starting from the end of the previous run (rather than strictly periodic).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What happens if a region splits while load balancing is running?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good question.  Will try to address splits in the next revision.  They are largely ignored in this one as is meta editing in general.  Let me give that a crack.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;We assume that the Master will not fail until after the OFFLINE nodes have been created in ZK&quot;   And if it does? Is that for later?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Later, perhaps.  Does not seem unreasonable that the Master can&apos;t fail during the first minute of the initial cluster startup but I suppose it could eventually be handled.  In any case, I think this is okay for now.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Master sends RPCs to each RS, telling them to OPEN their regions.  This is a new message?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yup.  There&apos;ll be a new OPEN and CLOSE RPC to RS.  In one of my earlier branches for this I moved cluster admin methods to be direct RPC to RS as well but that&apos;s outside the scope of this for now.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Who updated .META.? The RS, right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is the plan.  I will address META editing and splits in the next revision of the doc.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;load balancing&amp;#93;&lt;/span&gt; This has to be better than what we currently have?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, this should be better (hard to be worse).  Feasible to use ZK to make a synchronous client call as well (and could look at status of nodes in zk to see the status of regions transitioning).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;Master determines which regions need to be handled.&quot;  How?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In the doc I describe that assignment information is sitting in-memory in the master, but not positive we should use this since a failed-over master may not have this yet.  I left out what a failed-over master does to rebuild the assignments in-memory as well.  The latter would be done with the meta scanner, the former could as well.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;Master sends RPCs to RSs to open all the regions.&quot;  Whats this message look like? Its the new one mentioned above?  Will it take time figuring what was on the dead RS? Or will it be near-instantaneous?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If we have up-to-date in-memory state to work with, its near-instantaneous.  Meta scanning not so much.  It&apos;d be nice to be able to use the info in-memory if it is available, and if not complete (we&apos;re a failed-over master that hasn&apos;t fully recovered yet) we&apos;d fall-back to meta scanning.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I don&apos;t see mention of wait on RS WAL log spitting in here. Should it be mentioned?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yup.  Good call.&lt;/p&gt;


&lt;p&gt;Thanks for reviewing it guys.  Not sure I&apos;ll have time this week/weekend to do a refresh but should have a revised one up sometime Monday.&lt;/p&gt;</comment>
                            <comment id="12904836" author="stack" created="Tue, 31 Aug 2010 23:54:13 +0000"  >&lt;p&gt;Here&apos;s the patch I committed.&lt;/p&gt;

&lt;p&gt;Here&apos;s a bit of a change log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HBASE-2692 Master rewrite and cleanup &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0.90

Patch brought over from 0.90_master_rewrite branch.

Replication test is broke as are some of the &lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt; tests.
Others should be passing.

Some of the changes made in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; fat patch:

+ In HLogKey, we now use encoded region name instead of full region name.
+ On split, daughters are opened on the parent&apos;s regionserver; let the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; balancer
sort them out later when it cuts in.
+ Added move region from one server to another as well as enable/disable balancer.
+ All .META. and -ROOT- edits go via &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; *Editor and *Reader classes -- no more
&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; we have 5 different ways of reading and editing .META.
+ Rather than 3 different listeners to hlog each w/ own way of listening, instead
we only have WALObserver now.
+ New Server Interface that has whats common to HMaster and RegionServer. Also
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Services Interface.  This should make test writing cleaner making it so
less need of full cluster context testing anything -- e.g. the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;
Interfaces are good w/ Mockito.
+ New balacner that runs on a period and takes into consideration all load
across cluster.
+ Table online/offline is now a flag in ZK; the offline flag on a region is
just used splitting from here on out.
+ Moved fixup of failed add of daughter edits to .META. into shutdown server
recover code (It used to be in basescanner).
+ The heartbeat now sends master the regionserver load and is used sending
shutdown message from master to regionserver ONLY; all other messages are
via zk (HMsg is pretty bare now).
+ No more Worker in RS and ToDoQueue in master.  Both in master and regionserver
we use handlers instead run out of Executors.
+ Client can not send split, flush, compact direct to RS; no longer does
it go via master.
+ Server shutdown runs differently now. All are watching a flag in zk.
When RS notices its gone, it closes all user-space regions. If thats all
it was carrying, then it goes down.  Otherwise, waits on master to send
the shutdown msg via heartbeat.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12904913" author="stack" created="Wed, 1 Sep 2010 05:14:40 +0000"  >&lt;p&gt;Committed.  Thanks for the work Jon and Karthik.&lt;/p&gt;</comment>
                            <comment id="12904916" author="streamy" created="Wed, 1 Sep 2010 05:22:12 +0000"  >&lt;p&gt;This is a list of JIRAs I compiled some time ago that are in some part related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2692&quot; title=&quot;Master rewrite and cleanup for 0.90&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2692&quot;&gt;&lt;del&gt;HBASE-2692&lt;/del&gt;&lt;/a&gt; and related changes done in the master rewrite branch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1816&quot; title=&quot;Master rewrite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1816&quot;&gt;&lt;del&gt;HBASE-1816&lt;/del&gt;&lt;/a&gt; Master rewrite&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1750&quot; title=&quot;Region opens and assignment running independent of shutdown processing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1750&quot;&gt;&lt;del&gt;HBASE-1750&lt;/del&gt;&lt;/a&gt; Region opens and assignment running independent of shutdown processing&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1439&quot; title=&quot;race between master and regionserver after missed heartbeat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1439&quot;&gt;&lt;del&gt;HBASE-1439&lt;/del&gt;&lt;/a&gt; race between master and regionserver after missed heartbeat&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2405&quot; title=&quot;Close, split, open of regions in RegionServer are run by a single thread only.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2405&quot;&gt;&lt;del&gt;HBASE-2405&lt;/del&gt;&lt;/a&gt; Close, split, open of regions in RegionServer are run by a single thread only.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2465&quot; title=&quot;HMaster should not contact each RS on startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2465&quot;&gt;&lt;del&gt;HBASE-2465&lt;/del&gt;&lt;/a&gt; HMaster should not contact each RS on startup&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2464&quot; title=&quot;Shutdown of master doesn&amp;#39;t succeed if root isn&amp;#39;t assigned&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2464&quot;&gt;&lt;del&gt;HBASE-2464&lt;/del&gt;&lt;/a&gt; Shutdown of master doesn&apos;t succeed if root isn&apos;t assigned&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2391&quot; title=&quot;TableServers.isMasterRunning() skips checking master status if master field is not null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2391&quot;&gt;&lt;del&gt;HBASE-2391&lt;/del&gt;&lt;/a&gt; TableServers.isMasterRunning() skips checking master status if master field is not null&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2240&quot; title=&quot;Balancer should not reassign (because of overloading) a region that was just opened&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2240&quot;&gt;&lt;del&gt;HBASE-2240&lt;/del&gt;&lt;/a&gt; Balancer should not reassign (because of overloading) a region that was just opened&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2238&quot; title=&quot;Review all transitions -- compactions, splits, region opens, log roll/splitting -- for crash-proofyness and atomicity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2238&quot;&gt;&lt;del&gt;HBASE-2238&lt;/del&gt;&lt;/a&gt; Review all transitions &amp;#8211; compactions, splits, region opens, log splitting &amp;#8211; for crash-proofyness and atomicity&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2235&quot; title=&quot;Mechanism that would not have -ROOT- and .META. on same server caused failed assign of .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2235&quot;&gt;&lt;del&gt;HBASE-2235&lt;/del&gt;&lt;/a&gt; Mechanism that would not have &lt;del&gt;ROOT&lt;/del&gt; and .META. on same server caused failed assign of .META.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2228&quot; title=&quot;Region close needs to be  fast; e.g. if compacting, abandon it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2228&quot;&gt;&lt;del&gt;HBASE-2228&lt;/del&gt;&lt;/a&gt; Region close needs to be fast; e.g. if compacting, abandon it&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1992&quot; title=&quot;We give up reporting splits if .META. is offline or unreachable (handlers at their maximum)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1992&quot;&gt;&lt;del&gt;HBASE-1992&lt;/del&gt;&lt;/a&gt; We give up reporting splits if .META. is offline or unreachable (handlers at their maximum)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1909&quot; title=&quot;Balancer assigns to most loaded server when assigning a single region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1909&quot;&gt;&lt;del&gt;HBASE-1909&lt;/del&gt;&lt;/a&gt; Balancer assigns to most loaded server when assigning a single region&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1873&quot; title=&quot;Race condition around HRegionServer -&amp;gt; HMaster communication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1873&quot;&gt;&lt;del&gt;HBASE-1873&lt;/del&gt;&lt;/a&gt; Race condition around HRegionServer -&amp;gt; HMaster communication&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1851&quot; title=&quot;Broken master failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1851&quot;&gt;&lt;del&gt;HBASE-1851&lt;/del&gt;&lt;/a&gt; Broken master failover&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1755&quot; title=&quot;Putting &amp;#39;Meta&amp;#39; table into ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1755&quot;&gt;&lt;del&gt;HBASE-1755&lt;/del&gt;&lt;/a&gt; Putting &apos;Meta&apos; table into ZooKeeper&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1746&quot; title=&quot;Starting 5 Masters on fresh install, a few fail in race to create hbase.version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1746&quot;&gt;&lt;del&gt;HBASE-1746&lt;/del&gt;&lt;/a&gt; Starting 5 Masters on fresh install, a few fail in race to create hbase.version&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1742&quot; title=&quot;Region lost (disabled) when -ROOT- offline or hosting server dies just before it tells master successful open&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1742&quot;&gt;&lt;del&gt;HBASE-1742&lt;/del&gt;&lt;/a&gt; Region lost (disabled) when &lt;del&gt;ROOT&lt;/del&gt; offline or hosting server dies just before it tells master successful open&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1720&quot; title=&quot;Why we have hbase.master.lease.period still in our logs when HRS goes to ZK now?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1720&quot;&gt;&lt;del&gt;HBASE-1720&lt;/del&gt;&lt;/a&gt; Why we have hbase.master.lease.period still in our logs when HRS goes to ZK now?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1711&quot; title=&quot;META not cleaned up after table deletion/truncation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1711&quot;&gt;&lt;del&gt;HBASE-1711&lt;/del&gt;&lt;/a&gt; META not cleaned up after table deletion/truncation&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1700&quot; title=&quot;Regionserver should be parsimonious regards messages sent master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1700&quot;&gt;&lt;del&gt;HBASE-1700&lt;/del&gt;&lt;/a&gt; Regionserver should be parsimonious regards messages sent master&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1676&quot; title=&quot;load balancing on a large cluster doesn&amp;#39;t work very well&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1676&quot;&gt;&lt;del&gt;HBASE-1676&lt;/del&gt;&lt;/a&gt; load balancing on a large cluster doesn&apos;t work very well&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1666&quot; title=&quot;&amp;#39;safe mode&amp;#39; is broken; MetaScanner initial scan completes without scanning .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1666&quot;&gt;&lt;del&gt;HBASE-1666&lt;/del&gt;&lt;/a&gt; &apos;safe mode&apos; is broken; MetaScanner initial scan completes without scanning .META.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1502&quot; title=&quot;Remove need for heartbeats in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1502&quot;&gt;&lt;del&gt;HBASE-1502&lt;/del&gt;&lt;/a&gt; Remove need for heartbeats in HBase&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1463&quot; title=&quot;-ROOT- reassignment provokes .META. reassignment though .META. is sitting pretty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1463&quot;&gt;&lt;del&gt;HBASE-1463&lt;/del&gt;&lt;/a&gt; &lt;del&gt;ROOT&lt;/del&gt; reassignment provokes .META. reassignment though .META. is sitting pretty&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1461&quot; title=&quot;region assignment can become stale and master doesnt fix it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1461&quot;&gt;&lt;del&gt;HBASE-1461&lt;/del&gt;&lt;/a&gt; region assignment can become stale and master doesnt fix it&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1451&quot; title=&quot;Redo master management of state transitions coalescing and keeping transition state over in ZK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1451&quot;&gt;&lt;del&gt;HBASE-1451&lt;/del&gt;&lt;/a&gt; Redo master management of state transitions coalescing and keeping transition state over in ZK&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1419&quot; title=&quot;Assignment and balance need to coordinate; assigner gives out up to 10 regions at a time unbalancing a balanced cluster making for churn, etc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1419&quot;&gt;&lt;del&gt;HBASE-1419&lt;/del&gt;&lt;/a&gt; Assignment and balance need to coordinate; assigner gives out up to 10 regions at a time unbalancing a balanced cluster making for churn, etc.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-934&quot; title=&quot;Assigning all regions to one server only&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-934&quot;&gt;&lt;del&gt;HBASE-934&lt;/del&gt;&lt;/a&gt; Assigning all regions to one server only&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-869&quot; title=&quot;On split, if failure updating of .META., table subsequently broke&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-869&quot;&gt;&lt;del&gt;HBASE-869&lt;/del&gt;&lt;/a&gt; On split, if failure updating of .META., table subsequently broke&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-57&quot; title=&quot;[hbase] Master should allocate regions to regionservers based upon data locality and rack awareness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-57&quot;&gt;&lt;del&gt;HBASE-57&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;hbase&amp;#93;&lt;/span&gt; Master should allocate regions to regionservers based upon data locality and rack awareness&lt;/p&gt;</comment>
                            <comment id="12905083" author="stack" created="Wed, 1 Sep 2010 16:37:38 +0000"  >&lt;p&gt;Here is generated hbase book with Jon&apos;s notes on region transitions (see chapter 9).&lt;/p&gt;</comment>
                            <comment id="12905240" author="stack" created="Wed, 1 Sep 2010 21:51:11 +0000"  >&lt;p&gt;Thanks for the above list Jon.  Helped.  Most got closed.  I left open the questionable and the issues we need a unit test first before we can close.&lt;/p&gt;</comment>
                            <comment id="15017713" author="lars_francke" created="Fri, 20 Nov 2015 12:44:07 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12435986">HBASE-1851</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12462917">HBASE-2485</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12466502">HBASE-2701</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12845114">HBASE-14079</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12470689">HBASE-2896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12453561" name="2692.patch" size="1552705" author="stack" created="Tue, 31 Aug 2010 23:54:13 +0000"/>
                            <attachment id="12450006" name="BRANCH_NOTES.txt" size="11592" author="streamy" created="Wed, 21 Jul 2010 01:08:08 +0000"/>
                            <attachment id="12453599" name="book.pdf" size="37313" author="stack" created="Wed, 1 Sep 2010 16:37:38 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12466479">HBASE-2694</subtask>
                            <subtask id="12466482">HBASE-2695</subtask>
                            <subtask id="12466484">HBASE-2696</subtask>
                            <subtask id="12466488">HBASE-2697</subtask>
                            <subtask id="12466489">HBASE-2698</subtask>
                            <subtask id="12466500">HBASE-2699</subtask>
                            <subtask id="12466501">HBASE-2700</subtask>
                            <subtask id="12466502">HBASE-2701</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Jul 2010 21:13:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hirz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>