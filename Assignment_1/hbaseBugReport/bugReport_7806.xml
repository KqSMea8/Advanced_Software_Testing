<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:49:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7806/HBASE-7806.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7806] Isolate the FileSystem calls</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7806</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Motivations:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;No way to change the fs layout without touching all the code (and breaking stuff)&lt;/li&gt;
	&lt;li&gt;Each test create is own mocked fs layout: mkdir(region), mkdir(new Path(region, family))&lt;/li&gt;
	&lt;li&gt;new Path(table, region, family, hfile) is everywhere&lt;/li&gt;
	&lt;li&gt;DIR_NAME constants are not in a single place&lt;/li&gt;
	&lt;li&gt;lots of code does a the same for (region.listStatus()) for (family.listStatus()) ...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Goals:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Central point for all the fs operations
	&lt;ul&gt;
		&lt;li&gt;Make easier the file creation&lt;/li&gt;
		&lt;li&gt;Make easier the store files retrival (with proper reference, link handling)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Removing all the new Path() from the code&lt;/li&gt;
	&lt;li&gt;Removing all the fs.listStatus() from the code&lt;/li&gt;
	&lt;li&gt;Cleanup the tests to use the new classes of creating mocks object&lt;/li&gt;
	&lt;li&gt;Reduce the code (in theory there should be less line than before once this refactor is complete)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Since the fs operations are all over the code, the refactor must be gradual, and step by step limiting the internal fs layout visibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12631644">HBASE-7806</key>
            <summary>Isolate the FileSystem calls</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Feb 2013 15:42:36 +0000</created>
                <updated>Thu, 26 Nov 2015 05:37:47 +0000</updated>
                                            <version>0.95.2</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>20</watches>
                                                                                                            <comments>
                            <comment id="13594284" author="enis" created="Wed, 6 Mar 2013 03:11:04 +0000"  >&lt;p&gt;Sorry to come in late, but I am a major +1 for this. I have been entertaining storing everything in META route for some time, and it has definite advantages: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;No more reference files&lt;/li&gt;
	&lt;li&gt;No more HFileLink hack&lt;/li&gt;
	&lt;li&gt;Copy-on-write table copy/clone&lt;/li&gt;
	&lt;li&gt;Snapshots should be simpler. Plus there will be very little difference between a snapshot vs a copy-on-write table or reference from a region split. We can also do reference this file, but only for these ranges kind of linking.&lt;/li&gt;
	&lt;li&gt;We would be basically doing hard links, completely on the app layer&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12845303">HBASE-14090</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12916352">HBASE-14887</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12568749" name="HBASE-7806.pdf" size="629026" author="mbertozzi" created="Sun, 10 Feb 2013 15:43:04 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12631645">HBASE-7807</subtask>
                            <subtask id="12631646">HBASE-7808</subtask>
                            <subtask id="12631647">HBASE-7809</subtask>
                            <subtask id="12631648">HBASE-7810</subtask>
                            <subtask id="12631649">HBASE-7811</subtask>
                            <subtask id="12634878">HBASE-7970</subtask>
                            <subtask id="12635342">HBASE-8006</subtask>
                            <subtask id="12638022">HBASE-8156</subtask>
                            <subtask id="12895568">HBASE-14464</subtask>
                            <subtask id="12964806">HBASE-15763</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Mar 2013 03:11:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hv7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>