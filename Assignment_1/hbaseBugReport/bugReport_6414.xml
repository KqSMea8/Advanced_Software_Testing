<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6414/HBASE-6414.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6414] Remove the WritableRpcEngine &amp; associated Invocation classes</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6414</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Remove the WritableRpcEngine &amp;amp; Invocation classes once &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5705&quot; title=&quot;Introduce Protocol Buffer RPC engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5705&quot;&gt;&lt;del&gt;HBASE-5705&lt;/del&gt;&lt;/a&gt; gets committed and all the protocols are rebased to use PB.&lt;/p&gt;

&lt;p&gt;Raising this jira in advance..&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599183">HBASE-6414</key>
            <summary>Remove the WritableRpcEngine &amp; associated Invocation classes</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12540505">HBASE-5305</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="devaraj">Devaraj Das</assignee>
                                    <reporter username="devaraj">Devaraj Das</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2012 22:13:32 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:40 +0000</updated>
                            <resolved>Sun, 19 Aug 2012 21:49:00 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13428262" author="devaraj" created="Fri, 3 Aug 2012 17:49:01 +0000"  >&lt;p&gt;Initial patch. Builds. Will start testing it.&lt;/p&gt;</comment>
                            <comment id="13428576" author="devaraj" created="Sat, 4 Aug 2012 06:59:08 +0000"  >&lt;p&gt;Wanted to run this patch through hadoopqa&lt;/p&gt;</comment>
                            <comment id="13428579" author="hadoopqa" created="Sat, 4 Aug 2012 07:23:10 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12539144/6414-initial.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12539144/6414-initial.patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 10 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.ipc.TestPBOnWritableRpc&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2506//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13428608" author="zhihyu@ebaysf.com" created="Sat, 4 Aug 2012 13:57:25 +0000"  >&lt;p&gt;TestPBOnWritableRpc can be removed once conversion to PB is complete, right ?&lt;/p&gt;</comment>
                            <comment id="13428633" author="devaraj" created="Sat, 4 Aug 2012 17:04:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;TestPBOnWritableRpc can be removed once conversion to PB is complete, right ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Right. I should remove the relevant code.&lt;/p&gt;</comment>
                            <comment id="13428957" author="zhihyu@ebaysf.com" created="Mon, 6 Aug 2012 02:19:25 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (builder.mergeDelimitedFrom(in)) {
+            value = builder.build();
+          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should there be an else block for the above if ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
+        &lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; block
&lt;/span&gt;+        e.printStackTrace();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should something similar to closeException be introduced to save the caught exception ?&lt;/p&gt;

&lt;p&gt;There&apos;re a few white spaces, visible if you put the patch on review board.&lt;/p&gt;</comment>
                            <comment id="13428980" author="zhihyu@ebaysf.com" created="Mon, 6 Aug 2012 04:53:09 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; AuthenticationTokenSecretManager createSecretManager(){
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I only find one reference to the above method. I guess it doesn&apos;t have to be public.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Message&amp;gt; rpcArgClassname = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above variable represents Class, not Class name.&lt;/p&gt;</comment>
                            <comment id="13431493" author="devaraj" created="Wed, 8 Aug 2012 23:10:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/6491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6491&lt;/a&gt; has the patch up for review.&lt;/p&gt;</comment>
                            <comment id="13431501" author="devaraj" created="Wed, 8 Aug 2012 23:20:21 +0000"  >&lt;p&gt;Passing the new patch through hudson.&lt;/p&gt;</comment>
                            <comment id="13432052" author="devaraj" created="Thu, 9 Aug 2012 18:40:59 +0000"  >&lt;p&gt;Patch from RB. Attaching here to get it through hudson (the previous attempt failed).&lt;/p&gt;</comment>
                            <comment id="13432094" author="hadoopqa" created="Thu, 9 Aug 2012 19:49:47 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12540093/6414-3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12540093/6414-3.patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 9 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestHMasterRPCException&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSide&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13432096" author="zhihyu@ebaysf.com" created="Thu, 9 Aug 2012 19:53:04 +0000"  >&lt;p&gt;@Devaraj:&lt;br/&gt;
I think the following test failure is related to the patch:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//testReport/org.apache.hadoop.hbase.master/TestHMasterRPCException/testRPCException/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2546//testReport/org.apache.hadoop.hbase.master/TestHMasterRPCException/testRPCException/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13432148" author="devaraj" created="Thu, 9 Aug 2012 21:02:56 +0000"  >&lt;p&gt;The new patch from RB.&lt;/p&gt;</comment>
                            <comment id="13432236" author="devaraj" created="Thu, 9 Aug 2012 22:31:26 +0000"  >&lt;p&gt;Retrying hadoopqa ping.&lt;/p&gt;</comment>
                            <comment id="13432249" author="zhihyu@ebaysf.com" created="Thu, 9 Aug 2012 22:37:40 +0000"  >&lt;p&gt;Using the previous patch, I ran TestHMasterRPCException#testRPCException 3 times.&lt;br/&gt;
I saw the following twice:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testRPCException(org.apache.hadoop.hbase.master.TestHMasterRPCException): Call to lm-sjn-0071.y.com/10.246.12.139:55121 failed on socket timeout exception: java.net.SocketTimeoutException: 100 millis timeout &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; channel to be ready &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; read. ch : java.nio.channels.SocketChannel[connected ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can we not introduce loop but instead rely on some additional sleep ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13432258" author="zhihyu@ebaysf.com" created="Thu, 9 Aug 2012 22:43:30 +0000"  >&lt;p&gt;With the following proposed change, I ran TestHMasterRPCException#testRPCException 9 times and it passed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java
===================================================================
--- hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java	(revision 1371504)
+++ hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java	(working copy)
@@ -23,18 +23,20 @@
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.junit.Assert.assertTrue;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.junit.Assert.fail;
 
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.net.InetSocketAddress;
 
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.conf.Configuration;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.*;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.ipc.HBaseRPC;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.MasterMonitorProtocol;
-&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.RequestConverter;
-&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.ipc.RemoteException;
-&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.ipc.ServerNotRunningYetException;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.ProtobufUtil;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.protobuf.generated.MasterProtos.IsMasterRunningRequest;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.Test;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.junit.experimental.categories.Category;
 
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.google.protobuf.ServiceException;
+
 @Category(MediumTests.class)
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestHMasterRPCException {
 
@@ -52,9 +54,12 @@
     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
       MasterMonitorProtocol inf = (MasterMonitorProtocol) HBaseRPC.getProxy(
         MasterMonitorProtocol.class,  MasterMonitorProtocol.VERSION, isa, conf, 100);
+      &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(500);
+      inf.isMasterRunning(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, IsMasterRunningRequest.getDefaultInstance());
       fail();
-    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ServerNotRunningYetException ex) {
-      assertTrue(ex.getMessage().startsWith(
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ServiceException ex) {
+      IOException ie = ProtobufUtil.getRemoteException(ex);
+      assertTrue(ie.getMessage(), ie.getMessage().startsWith(
           &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.ipc.ServerNotRunningYetException: Server is not running yet&quot;&lt;/span&gt;));
     } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {
       fail(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unexpected throwable: &quot;&lt;/span&gt; + t);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13432275" author="devaraj" created="Thu, 9 Aug 2012 22:54:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we not introduce loop but instead rely on some additional sleep ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I actually like &lt;span class=&quot;error&quot;&gt;&amp;#91;looping with a small sleep&amp;#93;&lt;/span&gt; better than a &lt;span class=&quot;error&quot;&gt;&amp;#91;big sleep&amp;#93;&lt;/span&gt;. This makes the tests responsive on some machines, and yet be able to tolerate slower machines.&lt;/p&gt;</comment>
                            <comment id="13432287" author="zhihyu@ebaysf.com" created="Thu, 9 Aug 2012 23:04:01 +0000"  >&lt;p&gt;The difference between my suggestion and the latest patch is that Timeout exception is not ignored in my change - we know that the first exception we should receive is ServerNotRunningYetException &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13432351" author="devaraj" created="Fri, 10 Aug 2012 00:35:34 +0000"  >&lt;p&gt;@Zhihyu: My testcase patch has a loop, and sleeps for 1000 millis (which I meant to have as 100 millis actually) if the method doesn&apos;t throw the desired exception. Your testcase patch sleeps for a longer time interval before invoking the method on which the exception is expected to be thrown.. &lt;br/&gt;
I am okay with either of the approaches as long as you have a loop and a smaller sleep interval &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13432356" author="zhihyu@ebaysf.com" created="Fri, 10 Aug 2012 00:52:05 +0000"  >&lt;p&gt;@Devaraj:&lt;br/&gt;
I am fine with your latest patch if &apos;java.net.SocketTimeoutException&apos; is checked against ex.getMessage() in the loop.&lt;br/&gt;
If exception other than SocketTimeoutException and ServerNotRunningYetException is encountered, the test should be considered a failure.&lt;/p&gt;</comment>
                            <comment id="13432687" author="zhihyu@ebaysf.com" created="Fri, 10 Aug 2012 10:24:01 +0000"  >&lt;p&gt;Patch from rb.&lt;/p&gt;</comment>
                            <comment id="13432696" author="zhihyu@ebaysf.com" created="Fri, 10 Aug 2012 10:57:34 +0000"  >&lt;p&gt;Patch v6 removes some whitespace from TestHMasterRPCException.java&lt;/p&gt;

&lt;p&gt;An else keyword is removed due to the return statement in its if block.&lt;/p&gt;</comment>
                            <comment id="13432782" author="zhihyu@ebaysf.com" created="Sun, 12 Aug 2012 18:36:35 +0000"  >&lt;p&gt;Devaraj and I have run test suite multiple times. &lt;br/&gt;
There is no repeatable failure. &lt;/p&gt;

&lt;p&gt;Will integrate Monday if there is no further review comment. &lt;/p&gt;</comment>
                            <comment id="13432853" author="stack" created="Sun, 12 Aug 2012 22:29:02 +0000"  >&lt;p&gt;I put comments up on rb DD.&lt;/p&gt;</comment>
                            <comment id="13433485" author="devaraj" created="Mon, 13 Aug 2012 20:13:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;I put comments up on rb DD.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ack. I am going through them. Good questions.&lt;/p&gt;</comment>
                            <comment id="13434806" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 04:38:05 +0000"  >&lt;p&gt;Latest patch from DD.&lt;/p&gt;</comment>
                            <comment id="13434942" author="hadoopqa" created="Wed, 15 Aug 2012 10:15:23 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541005/6414-5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541005/6414-5.patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13435115" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 13:50:38 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2581/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2581/console&lt;/a&gt;, it is not clear which test hung.&lt;/p&gt;</comment>
                            <comment id="13435335" author="devaraj" created="Wed, 15 Aug 2012 17:40:39 +0000"  >&lt;p&gt;On my machine, tests passed.&lt;/p&gt;</comment>
                            <comment id="13435347" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 17:51:53 +0000"  >&lt;p&gt;Attaching latest patch again.&lt;/p&gt;</comment>
                            <comment id="13435393" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 18:42:45 +0000"  >&lt;p&gt;I ran the following tests locally and they passed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 2002  mts -Dtest=TestScannerTimeout#test3686a
 2004  mts -Dtest=TestReplication#queueFailover
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;No repeatable test failure.&lt;/p&gt;</comment>
                            <comment id="13435428" author="hadoopqa" created="Wed, 15 Aug 2012 19:13:38 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541096/6414-5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541096/6414-5.patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 7 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2591//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13435510" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 20:46:54 +0000"  >&lt;p&gt;I ran TestHLog and it passed locally:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestHLog
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 70.98 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13437230" author="zhihyu@ebaysf.com" created="Sat, 18 Aug 2012 03:38:02 +0000"  >&lt;p&gt;Patch from review board.&lt;/p&gt;</comment>
                            <comment id="13437425" author="stack" created="Sat, 18 Aug 2012 22:20:29 +0000"  >&lt;p&gt;v7 over RB is good to go.  Attach here DD so we can run through hadooopqa and commit.  Good stuff.&lt;/p&gt;</comment>
                            <comment id="13437557" author="devaraj" created="Sun, 19 Aug 2012 17:47:23 +0000"  >&lt;p&gt;Ted had uploaded the last patch from RB (thanks, Ted!) but hadoopqa didn&apos;t pick it up.. Re-uploading the same patch.&lt;/p&gt;</comment>
                            <comment id="13437565" author="hadoopqa" created="Sun, 19 Aug 2012 18:55:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12541532/6414-6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12541532/6414-6.patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 18 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2622//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13437584" author="stack" created="Sun, 19 Aug 2012 21:48:31 +0000"  >&lt;p&gt;v6 w/ a DEBUG log removed (we were logging every call).. I changed it to trace level.&lt;/p&gt;</comment>
                            <comment id="13437586" author="stack" created="Sun, 19 Aug 2012 21:49:00 +0000"  >&lt;p&gt;Committed v7.  Good stuff DD.&lt;/p&gt;</comment>
                            <comment id="13437601" author="hudson" created="Sun, 19 Aug 2012 22:55:42 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3241 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3241/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3241/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6414&quot; title=&quot;Remove the WritableRpcEngine &amp;amp; associated Invocation classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6414&quot;&gt;&lt;del&gt;HBASE-6414&lt;/del&gt;&lt;/a&gt; Remove the WritableRpcEngine &amp;amp; associated Invocation classes (Revision 1374860)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/ClientCache.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/ProtobufRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/monitoring/MonitoredRPCHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/monitoring/MonitoredRPCHandlerImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RPCProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/protobuf/RPC.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestDelayedRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/protobuf/generated/TestDelayedRpcProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/protobuf/test_delayed_rpc.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13437608" author="hudson" created="Sun, 19 Aug 2012 23:37:45 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #137 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6414&quot; title=&quot;Remove the WritableRpcEngine &amp;amp; associated Invocation classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6414&quot;&gt;&lt;del&gt;HBASE-6414&lt;/del&gt;&lt;/a&gt; Remove the WritableRpcEngine &amp;amp; associated Invocation classes (Revision 1374860)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/ClientCache.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/ProtobufRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/monitoring/MonitoredRPCHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/monitoring/MonitoredRPCHandlerImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RPCProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/protobuf/RPC.proto&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestDelayedRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/protobuf/generated/TestDelayedRpcProtos.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestPriorityRpc.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/protobuf/test_delayed_rpc.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13437678" author="devaraj" created="Mon, 20 Aug 2012 06:35:44 +0000"  >&lt;p&gt;Thanks Stack. BTW the files hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java and hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java should be deleted from svn (currently they are 0 length files).&lt;/p&gt;</comment>
                            <comment id="13437686" author="devaraj" created="Mon, 20 Aug 2012 06:54:18 +0000"  >&lt;p&gt;I raised this to take care of issues like double deserialization &amp;amp; others we come across in RPC.. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6614&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-6614&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13437927" author="stack" created="Mon, 20 Aug 2012 15:19:00 +0000"  >&lt;p&gt;Thanks DD.  I just removed them.&lt;/p&gt;</comment>
                            <comment id="13437991" author="hudson" created="Mon, 20 Aug 2012 16:33:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #138 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6414&quot; title=&quot;Remove the WritableRpcEngine &amp;amp; associated Invocation classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6414&quot;&gt;&lt;del&gt;HBASE-6414&lt;/del&gt;&lt;/a&gt; Remove the WritableRpcEngine &amp;amp; associated Invocation classes; REMOVE EMPTY FILES (Revision 1375051)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13438001" author="hudson" created="Mon, 20 Aug 2012 17:01:37 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3242 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3242/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3242/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6414&quot; title=&quot;Remove the WritableRpcEngine &amp;amp; associated Invocation classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6414&quot;&gt;&lt;del&gt;HBASE-6414&lt;/del&gt;&lt;/a&gt; Remove the WritableRpcEngine &amp;amp; associated Invocation classes; REMOVE EMPTY FILES (Revision 1375051)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/TestPBOnWritableRpc.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13438573" author="nkeywal" created="Tue, 21 Aug 2012 10:05:33 +0000"  >&lt;p&gt;For this&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   /**
-   * Construct an IPC client whose values are of the given {@link Writable}
+   * Construct an IPC client whose values are of the {@link Message}
    * class.
    * @param valueClass value class
    * @param conf configuration
    * @param factory socket factory
    */
-  public HBaseClient(Class&amp;lt;? extends Writable&amp;gt; valueClass, Configuration conf,
-      SocketFactory factory) {
-    this.valueClass = valueClass;
+  public HBaseClient(Configuration conf, SocketFactory factory) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The javadoc was not updated, nor in ipc/ClientCache.java.&lt;br/&gt;
I&apos;m fixing it in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6364&quot; title=&quot;Powering down the server host holding the .META. table causes HBase Client to take excessively long to recover and connect to reassigned .META. table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6364&quot;&gt;&lt;del&gt;HBASE-6364&lt;/del&gt;&lt;/a&gt;. I didn&apos;t check if there were other stuff like this.&lt;/p&gt;</comment>
                            <comment id="13438904" author="devaraj" created="Tue, 21 Aug 2012 17:49:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m fixing it in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6364&quot; title=&quot;Powering down the server host holding the .META. table causes HBase Client to take excessively long to recover and connect to reassigned .META. table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6364&quot;&gt;&lt;del&gt;HBASE-6364&lt;/del&gt;&lt;/a&gt;. I didn&apos;t check if there were other stuff like this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks, Nicolas. Will fix any remaining ones in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6614&quot; title=&quot;General cleanup/optimizations of the protobuf RPC engine &amp;amp; associated RPC code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6614&quot;&gt;&lt;del&gt;HBASE-6614&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13775510" author="stack" created="Mon, 23 Sep 2013 18:31:40 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12540505">HBASE-5305</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12539955" name="6414-1.patch.txt" size="138769" author="devaraj" created="Wed, 8 Aug 2012 23:20:21 +0000"/>
                            <attachment id="12540093" name="6414-3.patch.txt" size="144006" author="devaraj" created="Thu, 9 Aug 2012 18:40:59 +0000"/>
                            <attachment id="12540138" name="6414-4.patch.txt" size="145670" author="devaraj" created="Thu, 9 Aug 2012 22:31:26 +0000"/>
                            <attachment id="12540126" name="6414-4.patch.txt" size="145670" author="devaraj" created="Thu, 9 Aug 2012 21:02:56 +0000"/>
                            <attachment id="12541096" name="6414-5.patch.txt" size="148514" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 17:51:53 +0000"/>
                            <attachment id="12541005" name="6414-5.patch.txt" size="148514" author="zhihyu@ebaysf.com" created="Wed, 15 Aug 2012 04:38:05 +0000"/>
                            <attachment id="12540463" name="6414-5.patch.txt" size="146091" author="zhihyu@ebaysf.com" created="Fri, 10 Aug 2012 10:24:01 +0000"/>
                            <attachment id="12541532" name="6414-6.patch.txt" size="148707" author="devaraj" created="Sun, 19 Aug 2012 17:47:23 +0000"/>
                            <attachment id="12541466" name="6414-6.patch.txt" size="148707" author="zhihyu@ebaysf.com" created="Sat, 18 Aug 2012 03:38:02 +0000"/>
                            <attachment id="12540469" name="6414-6.txt" size="146068" author="zhihyu@ebaysf.com" created="Fri, 10 Aug 2012 10:57:34 +0000"/>
                            <attachment id="12539144" name="6414-initial.patch.txt" size="124604" author="devaraj" created="Sat, 4 Aug 2012 06:59:08 +0000"/>
                            <attachment id="12539069" name="6414-initial.patch.txt" size="84452" author="devaraj" created="Fri, 3 Aug 2012 17:49:01 +0000"/>
                            <attachment id="12541537" name="6414-v7.txt" size="148804" author="stack" created="Sun, 19 Aug 2012 21:48:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 4 Aug 2012 07:23:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09y73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>