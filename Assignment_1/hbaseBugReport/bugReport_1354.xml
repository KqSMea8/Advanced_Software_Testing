<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:52:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1354/HBASE-1354.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1354] Separate check split from compaction method</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1354</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Now check for split is running from compaction method. &lt;br/&gt;
This check if called after each store compaction. But results of this check used only for one Store. All other calling method are for nothing.&lt;br/&gt;
So check split runs much more times that it should.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424055">HBASE-1354</key>
            <summary>Separate check split from compaction method</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12416866">HBASE-1261</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="apparition">Evgeny Ryabitskiy</assignee>
                                    <reporter username="apparition">Evgeny Ryabitskiy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 16:09:49 +0000</created>
                <updated>Fri, 10 Jun 2011 23:16:01 +0000</updated>
                            <resolved>Fri, 10 Jun 2011 23:16:01 +0000</resolved>
                                    <version>0.19.0</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12703700" author="apparition" created="Tue, 28 Apr 2009 16:21:06 +0000"  >&lt;p&gt;Separated split check to another method that is called only for Store with largest StoreFile after compaction for all stores. So no useless checks split now.&lt;/p&gt;

&lt;p&gt;Also code become MUCH MORE READABLE. That was first aim.&lt;/p&gt;</comment>
                            <comment id="12703726" author="apparition" created="Tue, 28 Apr 2009 16:53:29 +0000"  >&lt;p&gt;Can be used to prepare for split logic changes&lt;/p&gt;</comment>
                            <comment id="12720525" author="stack" created="Wed, 17 Jun 2009 06:59:50 +0000"  >&lt;p&gt;This patch looks good.&lt;/p&gt;

&lt;p&gt;In src/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java, why remove the try/catch that converts an IOE to a LOG.WARN?&lt;/p&gt;

&lt;p&gt;Do all tests pass Evgeny?&lt;/p&gt;

&lt;p&gt;Looks like the data structure StoreSize is no longer needed?  Why not remove it?&lt;/p&gt;

&lt;p&gt;I&apos;d say this will become annoying:&lt;/p&gt;

&lt;p&gt;+        LOG.debug(this.storeNameStr + &quot;: no need in compaction&quot;);&lt;/p&gt;

&lt;p&gt;Remove it I&apos;d say.&lt;/p&gt;

&lt;p&gt;Why not have compact return max size rather than have Region call it?  In compact we are getting size anyways, aren&apos;t we (I see a getReader().length() call)?  Doing size of a file is expensive operation &amp;#8211; any call out to hdfs is expensive.  In other words, this patch would seem at first to be saving on hdfs stat calls but is it really?&lt;/p&gt;

&lt;p&gt;Thanks Evgeny&lt;/p&gt;
</comment>
                            <comment id="12771291" author="stack" created="Thu, 29 Oct 2009 04:50:16 +0000"  >&lt;p&gt;Patch no longer applies; stale.&lt;/p&gt;</comment>
                            <comment id="12918227" author="streamy" created="Tue, 5 Oct 2010 21:43:07 +0000"  >&lt;p&gt;Punting to 0.92 for now.  The bigger compaction/flush/split improvements should happen in that version.&lt;/p&gt;</comment>
                            <comment id="13047692" author="stack" created="Fri, 10 Jun 2011 22:58:21 +0000"  >&lt;p&gt;Moving out of 0.92.  Move it back in if you think differently.&lt;/p&gt;</comment>
                            <comment id="13047706" author="stack" created="Fri, 10 Jun 2011 22:58:24 +0000"  >&lt;p&gt;Moving out of 0.92.  Move it back in if you think differently.&lt;/p&gt;</comment>
                            <comment id="13047757" author="stack" created="Fri, 10 Jun 2011 23:16:01 +0000"  >&lt;p&gt;Resolving as not a problem.  Nicolas untangled split and compaction a while back for TRUNK/0.92.  We actually check for split now first before we try compact.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406658" name="HBASE-1354.patch" size="13777" author="apparition" created="Tue, 28 Apr 2009 16:21:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Jun 2009 06:59:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hcr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>