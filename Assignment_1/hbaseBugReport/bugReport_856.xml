<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:48:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-856/HBASE-856.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-856] Data inserted into tables is not immidiately visible in the scanner with row filter</title>
                <link>https://issues.apache.org/jira/browse/HBASE-856</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When data is inserted into Region that is on the different machine than the Master it is not immidiately available in the scanner that is using RowFilter&lt;br/&gt;
Here is the output of the test case on 3 nodes (tmptable_0 and tmptable_2 were placed on the region servers that are not running master server).&lt;br/&gt;
--------------&lt;del&gt;DelayTest&lt;/del&gt;---------------&lt;br/&gt;
table tmptable_0 created&lt;br/&gt;
table tmptable_1 created&lt;br/&gt;
table tmptable_2 created&lt;br/&gt;
***********************************&lt;br/&gt;
table tmptable_0 test start&lt;br/&gt;
inserting some sample data into random row id (aaaaa-2108369209)&lt;br/&gt;
inserted&lt;br/&gt;
testing if the new row is available through get method&lt;br/&gt;
confirming that data:test value = test of row aaaaa-2108369209 is available&lt;br/&gt;
testing if the new row is available through scanner with filter&lt;br/&gt;
...................................&lt;br/&gt;
the new row has been found within 35 seconds&lt;br/&gt;
table tmptable_0 test finish&lt;br/&gt;
***********************************&lt;br/&gt;
***********************************&lt;br/&gt;
table tmptable_1 test start&lt;br/&gt;
inserting some sample data into random row id (aaaaa-20410017)&lt;br/&gt;
inserted&lt;br/&gt;
testing if the new row is available through get method&lt;br/&gt;
confirming that data:test value = test of row aaaaa-20410017 is available&lt;br/&gt;
testing if the new row is available through scanner with filter&lt;/p&gt;

&lt;p&gt;the new row has been found within 0 seconds&lt;br/&gt;
table tmptable_1 test finish&lt;br/&gt;
***********************************&lt;br/&gt;
***********************************&lt;br/&gt;
table tmptable_2 test start&lt;br/&gt;
inserting some sample data into random row id (aaaaa1756705479)&lt;br/&gt;
inserted&lt;br/&gt;
testing if the new row is available through get method&lt;br/&gt;
confirming that data:test value = test of row aaaaa1756705479 is available&lt;br/&gt;
testing if the new row is available through scanner with filter&lt;br/&gt;
....................&lt;br/&gt;
the new row has been found within 20 seconds&lt;br/&gt;
table tmptable_2 test finish&lt;br/&gt;
***********************************&lt;br/&gt;
--------------&lt;del&gt;DONE&lt;/del&gt;---------------&lt;/p&gt;
</description>
                <environment>&lt;p&gt;3 Region servers on different machines one of them running Master too. Ubuntu 8.04 server. Hadoop 0.17.2&lt;/p&gt;</environment>
        <key id="12403358">HBASE-856</key>
            <summary>Data inserted into tables is not immidiately visible in the scanner with row filter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="krzysiek">Krzysiek Szlapinski</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Aug 2008 10:35:40 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:11 +0000</updated>
                            <resolved>Wed, 22 Apr 2009 23:42:20 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.20.0</fixVersion>
                                    <component>Filters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12627141" author="stack" created="Fri, 29 Aug 2008 23:00:24 +0000"  >&lt;p&gt;How big are your regions?&lt;/p&gt;

&lt;p&gt;You could try changing this line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	Scanner scanner = table.getScanner(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;data:test&quot;&lt;/span&gt;}, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;,&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Date().getTime(), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StopRowFilter(&lt;span class=&quot;code-quote&quot;&gt;&quot;z&quot;&lt;/span&gt;.getBytes(HConstants.UTF8_ENCODING)));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Have the scan start on the row you inserted.  Then, pass the same key to an instance of  InclusiveStopRowFilter (InclusiveStopRowFilter will stop at the row after the provided row rather than AT the supplied row).&lt;/p&gt;

&lt;p&gt;My guess is that your regions are largish and there is a bunch of scanning before and after newly inserted row.&lt;/p&gt;</comment>
                            <comment id="12627240" author="krzysiek" created="Sat, 30 Aug 2008 19:56:00 +0000"  >&lt;p&gt;My whole setup is clean and the regions are empty.&lt;br/&gt;
In the test case we intentionally use StopRowFilter because we noticed that reported behaviour is ONLY visible when scanner is used with filters.&lt;/p&gt;
</comment>
                            <comment id="12643553" author="stack" created="Wed, 29 Oct 2008 17:51:38 +0000"  >&lt;p&gt;Look at this for 0.19.0.&lt;/p&gt;</comment>
                            <comment id="12658179" author="stack" created="Fri, 19 Dec 2008 20:40:55 +0000"  >&lt;p&gt;Updated Kryzysiek&apos;s test so runs against TRUNK.   Also put it into org.apache.hadoop.hbase package so easier to build.&lt;/p&gt;

&lt;p&gt;Do we still have this problem Kryzysiek?  Can you confirm? I set it up to run against a clean cluster of three regionservers and it seems to pass.  Am I doing something incorrect?  Thanks.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
durruti:trunk stack$ ./bin/hbase org.apache.hadoop.hbase.DelayTest
---------------DelayTest----------------
08/12/19 12:39:42 DEBUG client.HConnectionManager$TableServers: Found ROOT REGION =&amp;gt; {NAME =&amp;gt; &apos;-ROOT-,,0&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 70236052, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;-ROOT-&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;info&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;10&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}
table tmptable_0 already exists
08/12/19 12:39:42 DEBUG client.HConnectionManager$TableServers: Cache hit in table locations &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; and tableName .META.: location server 208.76.44.140:60020, location region name .META.,,1
table tmptable_1 already exists
08/12/19 12:39:43 DEBUG client.HConnectionManager$TableServers: Cache hit in table locations &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; and tableName .META.: location server 208.76.44.140:60020, location region name .META.,,1
table tmptable_2 already exists
***********************************
table tmptable_0 test start
inserting some sample data into random row id (aaaaa875500323)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa875500323 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
08/12/19 12:39:44 DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_0 starting at key &apos;a&apos;
08/12/19 12:39:44 DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
08/12/19 12:39:44 DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_0,,1229718846971&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1874168015, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_0&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;data&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}
.08/12/19 12:39:45 DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_0 starting at key &apos;a&apos;
08/12/19 12:39:45 DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
08/12/19 12:39:45 DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_0,,1229718846971&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1874168015, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_0&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;data&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 1 seconds
table tmptable_0 test finish
***********************************
***********************************
table tmptable_1 test start
inserting some sample data into random row id (aaaaa323108451)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa323108451 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
08/12/19 12:39:45 DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_1 starting at key &apos;a&apos;
08/12/19 12:39:45 DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
08/12/19 12:39:46 DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_1,,1229718852830&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 997322999, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_1&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;data&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}
.08/12/19 12:39:47 DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_1 starting at key &apos;a&apos;
08/12/19 12:39:47 DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
08/12/19 12:39:47 DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_1,,1229718852830&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 997322999, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_1&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;data&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 1 seconds
table tmptable_1 test finish
***********************************
***********************************
table tmptable_2 test start
inserting some sample data into random row id (aaaaa116122505)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa116122505 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
08/12/19 12:39:47 DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_2 starting at key &apos;a&apos;
08/12/19 12:39:47 DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
08/12/19 12:39:47 DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_2,,1229718858829&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 703198001, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_2&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;data&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}
.08/12/19 12:39:48 DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_2 starting at key &apos;a&apos;
08/12/19 12:39:48 DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
08/12/19 12:39:48 DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_2,,1229718858829&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 703198001, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_2&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;data&apos;, BLOOMFILTER =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;3&apos;, LENGTH =&amp;gt; &apos;2147483647&apos;, TTL =&amp;gt; &apos;-1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}], INDEXES =&amp;gt; []}}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 1 seconds
table tmptable_2 test finish
***********************************
---------------DONE----------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12659973" author="stack" created="Tue, 30 Dec 2008 22:45:21 +0000"  >&lt;p&gt;Krzysiek reported that this might still exist in private mail; trying to dig more.&lt;/p&gt;</comment>
                            <comment id="12660747" author="krzysiek" created="Mon, 5 Jan 2009 13:22:50 +0000"  >&lt;p&gt;We got the problem of data serving delay just on one of the three servers this time. there is nothing suspicious to be found in logs.&lt;br/&gt;
I updated the test so you can see which region server is serving table.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
**********************************
table tmptable_0 test start
HRI details: tmptable_0,,1230640121521@192.168.1.202:60020
inserting some sample data into random row id (aaaaa-769615445)
inserted
testing if the new row is available through get method
confirming that data:test value = test of row aaaaa-769615445 is available
testing if the new row is available through scanner with filter
....................................
the new row has been found within 36 seconds
table tmptable_0 test finish
***********************************
***********************************
table tmptable_1 test start
HRI details: tmptable_1,,1230640127837@192.168.1.202:60020
inserting some sample data into random row id (aaaaa-1958075882)
inserted
testing if the new row is available through get method
confirming that data:test value = test of row aaaaa-1958075882 is available
testing if the new row is available through scanner with filter
....................................
the new row has been found within 36 seconds
table tmptable_1 test finish
***********************************
***********************************
table tmptable_2 test start
HRI details: tmptable_2,,1230639552956@192.168.1.203:60020
inserting some sample data into random row id (aaaaa1638644995)
inserted
testing if the new row is available through get method
confirming that data:test value = test of row aaaaa1638644995 is available
testing if the new row is available through scanner with filter

the new row has been found within 0 seconds
table tmptable_2 test finish
***********************************
***********************************
table tmptable_3 test start
HRI details: tmptable_3,,1230643155807@192.168.1.201:60020
inserting some sample data into random row id (aaaaa1442876273)
inserted
testing if the new row is available through get method
confirming that data:test value = test of row aaaaa1442876273 is available
testing if the new row is available through scanner with filter

the new row has been found within 0 seconds
table tmptable_3 test finish
***********************************
---------------DONE----------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;We will run this test on a different cluster and report here&lt;/p&gt;</comment>
                            <comment id="12661051" author="stack" created="Tue, 6 Jan 2009 05:49:59 +0000"  >&lt;p&gt;I tried your new script on our 4-node cluster Krzysiek.  I did it multiple times.  I don&apos;t see your delay.  See below.&lt;/p&gt;

&lt;p&gt;That said, my guess is that there is probably something going on in here but it doesn&apos;t translate.  Any chance of your digging in on your end more?   Add debugging to at least narrow where the delay is happening?  If we knew where, it might yield a clue?&lt;/p&gt;

&lt;p&gt;Sorry this is being such a PITA&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
....
09/01/06 05:45:17 [main] DEBUG client.HConnectionManager$TableServers: Attempt 0 of 10 failed with &amp;lt;org.apache.hadoop.hbase.client.NoServerForRegionException: No server address listed in .META. &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region tmptable_2,,1231220717890&amp;gt;. Retrying after sleep of 2000
09/01/06 05:45:17 [main] DEBUG client.HConnectionManager$TableServers: Removed .META.,,1 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tableName=.META. from cache because of tmptable_2,,99999999999999
09/01/06 05:45:18 [main] DEBUG client.HConnectionManager$TableServers: Found ROOT REGION =&amp;gt; {NAME =&amp;gt; &apos;-ROOT-,,0&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 70236052, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;-ROOT-&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, FAMILIES =&amp;gt; [{NAME =&amp;gt; &apos;info&apos;,}
table tmptable_3 created
***********************************
table tmptable_0 test start
09/01/06 05:45:30 [main] DEBUG client.HConnectionManager$TableServers: Cache hit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; in tableName tmptable_0: location server XX.XX.XX.141:60020, location region name tmptable_0,,1231220705555
HRI details: tmptable_0,,1231220705555@XX.XX.XX.141:60020
inserting some sample data into random row id (aaaaa731204631)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa731204631 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
09/01/06 05:45:30 [main] DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_0 starting at key &apos;a&apos;
09/01/06 05:45:30 [main] DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
09/01/06 05:45:30 [main] DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_0,,1231220705555&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1438968951, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_0&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}
.09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_0 starting at key &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_0,,1231220705555&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1438968951, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_0&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 1 seconds
table tmptable_0 test finish
***********************************
***********************************
table tmptable_1 test start
09/01/06 05:45:31 [main] DEBUG client.HConnectionManager$TableServers: Cache hit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; in tableName tmptable_1: location server XX.XX.XX.142:60020, location region name tmptable_1,,1231220711726
HRI details: tmptable_1,,1231220711726@XX.XX.XX.142:60020
inserting some sample data into random row id (aaaaa-200513010)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa-200513010 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_1 starting at key &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_1,,1231220711726&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 2008303633, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_1&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 0 seconds
table tmptable_1 test finish
***********************************
***********************************
table tmptable_2 test start
09/01/06 05:45:31 [main] DEBUG client.HConnectionManager$TableServers: Cache hit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; in tableName tmptable_2: location server XX.XX.XX.139:60020, location region name tmptable_2,,1231220717890
HRI details: tmptable_2,,1231220717890@XX.XX.XX.139:60020
inserting some sample data into random row id (aaaaa47469040)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa47469040 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_2 starting at key &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_2,,1231220717890&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1916892386, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_2&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 0 seconds
table tmptable_2 test finish
***********************************
***********************************
table tmptable_3 test start
09/01/06 05:45:31 [main] DEBUG client.HConnectionManager$TableServers: Cache hit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; in tableName tmptable_3: location server XX.XX.XX.141:60020, location region name tmptable_3,,1231220724046
HRI details: tmptable_3,,1231220724046@XX.XX.XX.141:60020
inserting some sample data into random row id (aaaaa-802676562)
inserted
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through get method
confirming that data:test value = test of row aaaaa-802676562 is available
testing &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row is available through scanner with filter
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_3 starting at key &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
09/01/06 05:45:31 [main] DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_3,,1231220724046&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 2133231639, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_3&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}
.09/01/06 05:45:32 [main] DEBUG client.HTable$ClientScanner: Creating scanner over tmptable_3 starting at key &apos;a&apos;
09/01/06 05:45:32 [main] DEBUG client.HTable$ClientScanner: Advancing internal scanner to startKey at &apos;a&apos;
09/01/06 05:45:32 [main] DEBUG client.HTable$ClientScanner: Advancing forward from region REGION =&amp;gt; {NAME =&amp;gt; &apos;tmptable_3,,1231220724046&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 2133231639, TABLE =&amp;gt; {{NAME =&amp;gt; &apos;tmptable_3&apos;, IS_ROOT =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, IS_META =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}

the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; row has been found within 1 seconds
table tmptable_3 test finish
***********************************
---------------DONE----------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12676876" author="stack" created="Thu, 26 Feb 2009 05:18:24 +0000"  >&lt;p&gt;Krzysiek:&lt;/p&gt;

&lt;p&gt;Any luck making a unit test that demonstrates the problem?  OK if I move this to 0.20?&lt;/p&gt;</comment>
                            <comment id="12677104" author="krzysiek" created="Thu, 26 Feb 2009 19:11:18 +0000"  >&lt;p&gt;No objections - move it to 0.20,&lt;br/&gt;
I&apos;ll try to make a unit test next week and see if the problem still exists&lt;/p&gt;</comment>
                            <comment id="12677110" author="stack" created="Thu, 26 Feb 2009 19:25:13 +0000"  >&lt;p&gt;Moving to 0.20.0 (Thanks K).&lt;/p&gt;</comment>
                            <comment id="12701637" author="stack" created="Wed, 22 Apr 2009 18:57:02 +0000"  >&lt;p&gt;May I close this issue?   (Unless you&apos;ve managed make a case Krzysiek?)&lt;/p&gt;</comment>
                            <comment id="12701700" author="krzysiek" created="Wed, 22 Apr 2009 22:28:04 +0000"  >&lt;p&gt;sure close it - its seems to be a big PITA for everyone&lt;br/&gt;
my test case seems to be pretty undeterministic &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - there are some chances to reproduce the error but not always &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
i&apos;m starting to belive that it is the issue with my harware setup&lt;/p&gt;</comment>
                            <comment id="12701741" author="stack" created="Wed, 22 Apr 2009 23:42:20 +0000"  >&lt;p&gt;Thanks K.  Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397122" name="DelayTest.java" size="5353" author="krzysiek" created="Mon, 5 Jan 2009 13:24:54 +0000"/>
                            <attachment id="12396512" name="DelayTest.java" size="4561" author="stack" created="Fri, 19 Dec 2008 20:40:55 +0000"/>
                            <attachment id="12389159" name="DelayTest.java" size="4775" author="krzysiek" created="Fri, 29 Aug 2008 10:40:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Aug 2008 23:00:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h9vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>