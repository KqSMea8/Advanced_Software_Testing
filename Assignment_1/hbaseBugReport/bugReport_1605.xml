<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:54:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1605/HBASE-1605.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1605] TableInputFormat should support &apos;limit&apos;</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1605</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Would be useful if TableInputFormat could be passed a &apos;limit&apos; property value that limited the total result set to the value of &apos;limit&apos;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429405">HBASE-1605</key>
            <summary>TableInputFormat should support &apos;limit&apos;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwensel">Chris K Wensel</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Thu, 2 Jul 2009 17:00:58 +0000</created>
                <updated>Tue, 5 Aug 2014 20:06:07 +0000</updated>
                                                                                <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12726557" author="cwensel" created="Thu, 2 Jul 2009 17:02:07 +0000"  >&lt;p&gt;Since .20, the number of splits is the number of regions in a table. So the &apos;limit&apos; value will need to be divided up between the splits, including the remainders.&lt;/p&gt;</comment>
                            <comment id="12726579" author="larsgeorge" created="Thu, 2 Jul 2009 17:51:50 +0000"  >&lt;p&gt;Hey Chris, is this a dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1172&quot; title=&quot;Modify TableInputFormat splitting algorithm to allow any number of mappers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1172&quot;&gt;&lt;del&gt;HBASE-1172&lt;/del&gt;&lt;/a&gt;? Could you please check?&lt;/p&gt;</comment>
                            <comment id="12726587" author="cwensel" created="Thu, 2 Jul 2009 17:59:54 +0000"  >&lt;p&gt;Nope, doesn&apos;t look like it. I&apos;m not calling for a configurable number of mappers/splits. &lt;/p&gt;

&lt;p&gt;But asking the total number of rows returned across all splits be exactly equal to an optional &apos;limit&apos; value.&lt;/p&gt;

&lt;p&gt;And pointing out the current impl, as I see it in trunk, sets the splits to the number of regions in a table thus implying that a single global Filter across all splits won&apos;t work as limit may not be evenly divided among the splits.&lt;/p&gt;

&lt;p&gt;It will be nice to specify the number of mappers/splits and have it honored though.&lt;/p&gt;</comment>
                            <comment id="12726598" author="streamy" created="Thu, 2 Jul 2009 18:16:40 +0000"  >&lt;p&gt;I think I understand what you&apos;re saying now Chris.&lt;/p&gt;

&lt;p&gt;But what you want is a distributed Filter?  To be able to properly limit (from the start, I assume?) you need to sequentially scan.  So a single mapper would make this work.&lt;/p&gt;

&lt;p&gt;Can you clarify what exactly the behavior you&apos;re looking for is?  You want the first N rows from the table?  Or you want the first N rows from each region of the table?&lt;/p&gt;</comment>
                            <comment id="12726607" author="cwensel" created="Thu, 2 Jul 2009 18:31:10 +0000"  >&lt;p&gt;Good questions.&lt;/p&gt;

&lt;p&gt;In SQL, LIMIT returns the first N rows of the result set. and is typically used with OFFSET to allow pagination.&lt;/p&gt;

&lt;p&gt;In Cascading, the Limit Operation only allows each task to see N/M rows (accounting for remainders). no notion of OFFSET as limit in this case is really used for unit/integration testing or sampling.&lt;/p&gt;

&lt;p&gt;re HBase, you guys should choose a model that makes most sense for typical hbase consumer applications. but allowing for an even load across many mappers, but orthogonally limiting the total number of rows processed is what I&apos;m after.&lt;/p&gt;

&lt;p&gt;having this work with a Filter would also be very nice. i.e. give me the 1k rows that satisfy this condition. but I guess if i want the first 1k rows that satisfy the filter, we might be limited to a single region (and single mapper as I see the code now).&lt;/p&gt;

&lt;p&gt;so maybe there are two modes. sample and result. sample returns &apos;random&apos; N rows (top N/M from regions). result turns ordered N rows (from a region by virtue).&lt;/p&gt;

&lt;p&gt;anyways, just throwing that out there. current use case would be happy with either. though &apos;result&apos; is probably the most useful coupled with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1172&quot; title=&quot;Modify TableInputFormat splitting algorithm to allow any number of mappers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1172&quot;&gt;&lt;del&gt;HBASE-1172&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

</comment>
                            <comment id="12726609" author="streamy" created="Thu, 2 Jul 2009 18:34:23 +0000"  >&lt;p&gt;The &apos;random&apos; N rows is possible, and what you would get now I think if you just used the limit filter (you would specify N/M for filter not N if you wanted total to be N).  If you use one mapper, then you get the ordered N rows.&lt;/p&gt;

&lt;p&gt;We do lots of OFFSET, LIMIT queries on hbase.  The issue is, you must always run that style query sequentially, especially if you have other filters that are being called before the paging/limiting filter.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Jul 2009 17:51:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02gan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>