<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:22:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11405/HBASE-11405.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11405] Multiple invocations of hbck in parallel disables balancer permanently </title>
                <link>https://issues.apache.org/jira/browse/HBASE-11405</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This is because of the following piece of code in hbck&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; oldBalancer = admin.setBalancerRunning(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      onlineConsistencyRepair();
    }
    &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
      admin.setBalancerRunning(oldBalancer, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Newer invocations set oldBalancer to false as it was disabled by previous invocations and this disables balancer permanently unless its manually turned on by the user. Easy to reproduce, just run hbck 100 times in a loop in 2 different sessions and you can see that balancer is set to false in the HMaster logs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12723282">HBASE-11405</key>
            <summary>Multiple invocations of hbck in parallel disables balancer permanently </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bharathv">bharath v</assignee>
                                    <reporter username="bharathv">bharath v</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Jun 2014 05:39:43 +0000</created>
                <updated>Sat, 4 Oct 2014 17:51:32 +0000</updated>
                            <resolved>Thu, 25 Sep 2014 16:48:42 +0000</resolved>
                                    <version>0.99.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.7</fixVersion>
                    <fixVersion>0.94.24</fixVersion>
                    <fixVersion>0.99.1</fixVersion>
                                    <component>Balancer</component>
                    <component>hbck</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="14041750" author="bharathv" created="Tue, 24 Jun 2014 06:14:36 +0000"  >&lt;p&gt;Related question: Should be disable parallel hbcks permanently? A quick look at the code suggests this might cause inconsistencies as well. &lt;/p&gt;</comment>
                            <comment id="14041806" author="anoop.hbase" created="Tue, 24 Jun 2014 07:22:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;Related question: Should be disable parallel hbcks permanently?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1 for that.&lt;/p&gt;</comment>
                            <comment id="14042503" author="jmspaggi" created="Tue, 24 Jun 2014 18:44:41 +0000"  >&lt;p&gt;I agree. hbck in parallel might create some mess... We might want to block that.&lt;/p&gt;</comment>
                            <comment id="14042864" author="apurtell" created="Tue, 24 Jun 2014 23:56:32 +0000"  >&lt;p&gt;+1, would be a better fix to test in HBCK startup if another is running and error out if so&lt;/p&gt;</comment>
                            <comment id="14043896" author="bharathv" created="Wed, 25 Jun 2014 18:39:11 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Thanks for the +1s. I was thinking of writing a patch which creates an ephemeral znode /hbase/hbck-in-progress while starting hbck and deletes it while exiting. If a new hbck instance sees already existing znode, it aborts. However &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; says it is not a good approach to directly deal with ZK connections as the internal implementations might change breaking this feature and also since we are trying to remove ZK dependency (via other JIRAs) on HBase, implementations like this might make that transition difficult. So, In future when we have a lock() based system, each hbck should probably request a lock from master and the other hbcks should wait on it.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Feel free to suggest any other approaches you have in mind.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14044140" author="apurtell" created="Wed, 25 Jun 2014 22:35:52 +0000"  >&lt;p&gt;Use a 0 length file in HDFS as the lock. Present an interactive option for the user to ignore the lock file and proceed.&lt;/p&gt;</comment>
                            <comment id="14049927" author="bharathv" created="Wed, 2 Jul 2014 13:52:42 +0000"  >&lt;p&gt;This patch creates a file in &amp;lt;rootdir&amp;gt;/&amp;lt;tmpdir&amp;gt; and maintains a lease on it till hbck exits. Parallel instances of hbck check if such a file exists and bail out if necessary. Added a shutdownhook() to this class to clean up the lock file incase user kills hbck with a SIGTERM. I make sure that the cleanup is done only once using a flag.&lt;/p&gt;</comment>
                            <comment id="14050063" author="hadoopqa" created="Wed, 2 Jul 2014 15:43:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12653590/HBASE-11405-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12653590/HBASE-11405-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12653590&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 13 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestHRegion.testWritesWhileScanning(TestHRegion.java:3299)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9937//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14050256" author="yuzhihong@gmail.com" created="Wed, 2 Jul 2014 16:03:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      HBCK_LOCK_PATH = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(FSUtils.getRootDir(getConf()), 
+          HConstants.HBASE_TEMP_DIRECTORY), BALANCER_LOCK_FILE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The lock file is used by hbck. Should the name of lock file reflect this ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;// Make sure tmp dir exists, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not create it
&lt;/span&gt;+      fs.mkdirs(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Path(FSUtils.getRootDir(getConf()), HConstants.HBASE_TEMP_DIRECTORY));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Check the return value from mkdirs().&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      setRetCode(-1);
+      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Another balancer is running - Exiting &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; instance&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;log level should be error above.&lt;/p&gt;
</comment>
                            <comment id="14050284" author="bharathv" created="Wed, 2 Jul 2014 16:30:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;The lock file is used by hbck. Should the name of lock file reflect this ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed. Typo, will make this change.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Check the return value from mkdirs().&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Any particular reason why we should check that? It silently fails if the directory already exists. May be I can put a check like if(!fs.exists(dir)) &lt;/p&gt;
{fs.mkdirs(dir);}
&lt;p&gt; ?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;log level should be error above.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed, will make this change too.&lt;/p&gt;</comment>
                            <comment id="14050296" author="yuzhihong@gmail.com" created="Wed, 2 Jul 2014 16:35:55 +0000"  >&lt;p&gt;If the return value from mkdirs() is false, directory isn&apos;t created successfully.&lt;br/&gt;
See javadoc of mkdirs():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the directory creation succeeds; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; otherwise
   * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; mkdirs(FileSystem fs, Path dir, FsPermission permission)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14050390" author="yuzhihong@gmail.com" created="Wed, 2 Jul 2014 17:41:41 +0000"  >&lt;p&gt;If directory creation had problem, FSUtils.create() is likely to fail.&lt;br/&gt;
I think no extra action is needed for the mkdirs() call.&lt;/p&gt;</comment>
                            <comment id="14051037" author="bharathv" created="Thu, 3 Jul 2014 04:01:52 +0000"  >&lt;p&gt;v1 addresses comments from Ted. &lt;/p&gt;</comment>
                            <comment id="14094167" author="busbey" created="Tue, 12 Aug 2014 15:29:50 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;busbey2-MBA:hbase busbey$ git status
On branch master
Your branch is up-to-date with &apos;origin/master&apos;.

nothing to commit, working directory clean
busbey2-MBA:hbase busbey$ git apply --check ~/Downloads/HBASE-11405-trunk.patch.1 
error: patch failed: hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java:105
error: hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java: patch does not apply
error: patch failed: hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java:36
error: hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java: patch does not apply
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Patch no longer applies to master. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bharathv&quot; class=&quot;user-hover&quot; rel=&quot;bharathv&quot;&gt;bharath v&lt;/a&gt; can you rebase?&lt;/p&gt;

&lt;p&gt;Could you then also upload to ReviewBoard so it&apos;s easier to give review feedback?&lt;/p&gt;</comment>
                            <comment id="14106658" author="bharathv" created="Fri, 22 Aug 2014 09:16:15 +0000"  >&lt;p&gt;Rebased the patch to trunk.&lt;/p&gt;</comment>
                            <comment id="14106869" author="hadoopqa" created="Fri, 22 Aug 2014 14:08:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12663629/HBASE-11405-trunk-rebased.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12663629/HBASE-11405-trunk-rebased.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12663629&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10533//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10533//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14130514" author="jmhsieh" created="Thu, 11 Sep 2014 19:02:45 +0000"  >&lt;p&gt;The unit test or the structure of the code likely needs to be modified &amp;#8211; I get this when I try to run the test and this is likely due to the shutdown hook.&lt;/p&gt;



&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jon@swoop:~/proj/hbase-trunk$ mvn clean test -Dtest=TestHBaseFsck
....
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.hadoop.hbase.util.TestHBaseFsck

Results :

Tests run: 0, Failures: 0, Errors: 0, Skipped: 0
...
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.17:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project hbase-server: ExecutionException: java.lang.RuntimeException: The forked VM terminated without properly saying goodbye. VM crash or &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit called?
[ERROR] Command was /bin/sh -c cd /home/jon/proj/hbase-trunk/hbase-server &amp;amp;&amp;amp; /opt/jdk1.7.0_25/jre/bin/java -enableassertions -XX:MaxDirectMemorySize=1G -Xmx1900m -XX:MaxPermSize=256m -Djava.security.egd=file:/dev/./urandom -Djava.net.preferIPv4Stack=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Djava.awt.headless=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -jar /home/jon/proj/hbase-trunk/hbase-server/target/surefire/surefirebooter6944807203322450992.jar /home/jon/proj/hbase-trunk/hbase-server/target/surefire/surefire1768607263272388944tmp /home/jon/proj/hbase-trunk/hbase-server/target/surefire/surefire_084228475421972179tmp
[ERROR] -&amp;gt; [Help 1]
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14130517" author="jmhsieh" created="Thu, 11 Sep 2014 19:04:03 +0000"  >&lt;p&gt;attached updated patch with minor imports fixes.&lt;/p&gt;</comment>
                            <comment id="14130524" author="jmhsieh" created="Thu, 11 Sep 2014 19:06:17 +0000"  >
&lt;p&gt;Let&apos;s tell the user where the lock file is in case it was left by an hbck instance terminated with kill -9 that left the tmp file behind.  Also say to delete if you are sure the other hbck is dead.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-comment&quot;&gt;// Check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; another instance of balancer is running
&lt;/span&gt;+    hbckOutFd = checkAndMarkRunningHbck(); 
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (hbckOutFd == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+      LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Another balancer is running - Exiting &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; instance&quot;&lt;/span&gt;);
+      setRetCode(-1);
+      &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().exit(-1);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14130616" author="hadoopqa" created="Thu, 11 Sep 2014 20:01:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12668135/hbase-11405.rebase.140911.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12668135/hbase-11405.rebase.140911.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12668135&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.http.TestHttpServerLifecycle.testStartedServerWithRequestLog(TestHttpServerLifecycle.java:92)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10842//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14130684" author="busbey" created="Thu, 11 Sep 2014 20:49:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bharathv&quot; class=&quot;user-hover&quot; rel=&quot;bharathv&quot;&gt;bharath v&lt;/a&gt; are you still working on this? would you mind if I took it over?&lt;/p&gt;</comment>
                            <comment id="14130699" author="yuzhihong@gmail.com" created="Thu, 11 Sep 2014 20:56:38 +0000"  >&lt;p&gt;I ran TestHBaseFsck#testParallelHbck and was able to reproduce the error Jon mentioned above.&lt;br/&gt;
I think it was caused by the following statement:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().exit(-1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14130703" author="yuzhihong@gmail.com" created="Thu, 11 Sep 2014 20:58:27 +0000"  >&lt;p&gt;Patch v3 removes the Runtime.getRuntime().exit() call.&lt;br/&gt;
IOE is thrown instead.&lt;/p&gt;

&lt;p&gt;Test case is adjusted accordingly.&lt;/p&gt;</comment>
                            <comment id="14130739" author="hadoopqa" created="Thu, 11 Sep 2014 21:24:09 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12668161/11405-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12668161/11405-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12668161&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestClassFinder&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10846//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14131827" author="bharathv" created="Fri, 12 Sep 2014 17:52:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;jon@cloudera.com&quot;&gt;Jonathan Hsieh&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt;. The tests fail because we abruptly kill the jvm. Ted&apos;s version fixes that. I just added a few log lines as per Jon&apos;s suggestion. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; Mind taking a look at this version? &lt;a href=&quot;https://reviews.apache.org/r/25587&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/25587&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14132163" author="yuzhihong@gmail.com" created="Fri, 12 Sep 2014 21:46:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bharathv&quot; class=&quot;user-hover&quot; rel=&quot;bharathv&quot;&gt;bharath v&lt;/a&gt;:&lt;br/&gt;
Mind attaching patch here ?&lt;/p&gt;</comment>
                            <comment id="14133630" author="bharathv" created="Mon, 15 Sep 2014 06:52:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt; Sorry, attached it now. Made some minor changes &lt;span class=&quot;error&quot;&gt;&amp;#91;Comments on review board&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; Since we are throwing an IOEx , doFsck won&apos;t return an HBaseFsck object and hence it doesn&apos;t matter what return value we set. Since we are doing&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e.getMessage().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;Duplicate hbck&quot;&lt;/span&gt;)) {
            fail = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          }
        }
        &lt;span class=&quot;code-comment&quot;&gt;// If we reach here, then an exception was caught
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fail) fail();
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It actually confirms that the issue is due to multiple hbcks. This approach looks good to me. What do you think?&lt;/p&gt;</comment>
                            <comment id="14133756" author="hadoopqa" created="Mon, 15 Sep 2014 10:06:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12668717/11405-v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12668717/11405-v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12668717&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.regionserver.TestRegionReplicaReplicationEndpoint&lt;br/&gt;
                  org.apache.hadoop.hbase.util.TestHBaseFsck&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestReplicaWithCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestPerTableCFReplication&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10884//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14134008" author="bharathv" created="Mon, 15 Sep 2014 15:27:53 +0000"  >&lt;p&gt;I believe the issue with failing tests is probably because surefire is running tests in parallel (which is stopping parallel hbcks since they are all using the same cluster object). If I run the failed tests individually, they pass. There is a mvn profile &quot;nonParallelTests&quot; but it doesn&apos;t work for me either. Any ideas?&lt;/p&gt;</comment>
                            <comment id="14134012" author="bharathv" created="Mon, 15 Sep 2014 15:29:25 +0000"  >&lt;p&gt;v6 summary&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Moved unlockHbck() from exec() to onlineHbck() method, since some of the tests directly call onlineHbck() rather than going via exec. This makes sure we cleanup the lock in tests&lt;/li&gt;
	&lt;li&gt;Small bug in compareAndSet(), misread the doc, fixed it, also setting it to (false) inside the block to make sure tests using the same HBck object doesn&apos;t fail.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14137859" author="jmhsieh" created="Wed, 17 Sep 2014 19:54:29 +0000"  >&lt;p&gt;thanks bharath, and thanks sean and ted for reviews. committed to branch-1 and master.&lt;/p&gt;</comment>
                            <comment id="14137869" author="jmhsieh" created="Wed, 17 Sep 2014 20:00:45 +0000"  >&lt;p&gt;Sorry, reverted and reopened since sean had more comments on review board.&lt;/p&gt;</comment>
                            <comment id="14137896" author="hadoopqa" created="Wed, 17 Sep 2014 20:16:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12668781/11405-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12668781/11405-v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12668781&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestEndToEndSplitTransaction&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestReplicaWithCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTSVWithVisibilityLabels&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestPerTableCFReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.security.access.TestTablePermissions&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10948//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14138139" author="hudson" created="Wed, 17 Sep 2014 22:41:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5519 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5519/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5519/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Bharath Vissapragada) (jmhsieh: rev f4ecb1816b170e28d9afc96c137c9086222be456)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Bharath Vissapragada)&quot; (jmhsieh: rev 2e4218648ade93f6a0172c1d807f63b702064804)&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14138243" author="hudson" created="Thu, 18 Sep 2014 00:04:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #194 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/194/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/194/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Bharath Vissapragada) (jmhsieh: rev 3b30a104247e65b6443bc94545235d789cf13185)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Bharath Vissapragada)&quot; (jmhsieh: rev 27eaba2539f5f09ba2cbd66f3c1c3bbe66403032)&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14139551" author="bharathv" created="Thu, 18 Sep 2014 21:31:36 +0000"  >&lt;p&gt;v7&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Addressed Sean&apos;s comments on the RB.&lt;/li&gt;
	&lt;li&gt;Few minor changes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14139673" author="yuzhihong@gmail.com" created="Thu, 18 Sep 2014 23:04:43 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~ busbey&amp;#93;&lt;/span&gt;:&lt;br/&gt;
Have all of your comments been addressed ?&lt;/p&gt;</comment>
                            <comment id="14139683" author="busbey" created="Thu, 18 Sep 2014 23:11:07 +0000"  >&lt;p&gt;Yep. I&apos;m +1 on the latest RB version, which I believe is the same as v7.&lt;/p&gt;</comment>
                            <comment id="14139818" author="yuzhihong@gmail.com" created="Fri, 19 Sep 2014 01:02:22 +0000"  >&lt;p&gt;Integrated to branch-1 and master.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, bharath.&lt;/p&gt;</comment>
                            <comment id="14139863" author="hudson" created="Fri, 19 Sep 2014 01:49:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #202 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/202/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/202/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (bharath v) (tedyu: rev 5a0b2cfbf536a49963d55ffb1573eb45bcad5c9b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14139870" author="busbey" created="Fri, 19 Sep 2014 02:00:43 +0000"  >&lt;p&gt;The pull back to branch-1 broke compilation. Looks like hte imports are different in the test class there.&lt;/p&gt;</comment>
                            <comment id="14139872" author="jmhsieh" created="Fri, 19 Sep 2014 02:09:43 +0000"  >&lt;p&gt;I&apos;ve reverted this from branch-1 for the time being.  &lt;/p&gt;

&lt;p&gt;Reminder,  please test before committing to branches!&lt;/p&gt;</comment>
                            <comment id="14139874" author="hudson" created="Fri, 19 Sep 2014 02:13:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5529 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5529/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (bharath v) (tedyu: rev 4d29a21ff72edb0f24ae7f3747b7dcd25ab46da0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14139877" author="yuzhihong@gmail.com" created="Fri, 19 Sep 2014 02:14:20 +0000"  >&lt;p&gt;Will pay attention next time.&lt;/p&gt;</comment>
                            <comment id="14139988" author="hudson" created="Fri, 19 Sep 2014 04:45:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #203 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/203/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/203/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (bharath v)&quot; (jmhsieh: rev 9121847555ec1768a6a44bcdc0889b1d6b80cd7c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14140830" author="yuzhihong@gmail.com" created="Fri, 19 Sep 2014 16:34:41 +0000"  >&lt;p&gt;With rebased patch for branch-1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.util.TestHBaseFsck
Tests run: 44, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 334.241 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14140840" author="yuzhihong@gmail.com" created="Fri, 19 Sep 2014 16:41:00 +0000"  >&lt;p&gt;Integrated to branch-1 again.&lt;/p&gt;</comment>
                            <comment id="14140932" author="lhofhansl" created="Fri, 19 Sep 2014 17:34:10 +0000"  >&lt;p&gt;Is this not an issue in 0.94 and 0.98?&lt;/p&gt;</comment>
                            <comment id="14140937" author="busbey" created="Fri, 19 Sep 2014 17:37:28 +0000"  >&lt;p&gt;definitely present in both 0.94 and 0.98. Do you prefer a backport or known issues text? I can pull together either.&lt;/p&gt;</comment>
                            <comment id="14140957" author="yuzhihong@gmail.com" created="Fri, 19 Sep 2014 17:46:26 +0000"  >&lt;p&gt;11405-1.0.txt applies cleanly on 0.98&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
Do you want this ?&lt;/p&gt;</comment>
                            <comment id="14141007" author="lhofhansl" created="Fri, 19 Sep 2014 18:09:54 +0000"  >&lt;p&gt;We can attach backport patches here since neither 0.99.1 nor 2.0.0 are released.&lt;/p&gt;</comment>
                            <comment id="14141144" author="hudson" created="Fri, 19 Sep 2014 19:36:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #206 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/206/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/206/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (bharath v) (tedyu: rev 0eba052ad6c198cee3e5f60aeb643beb3b60c704)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141586" author="apurtell" created="Sat, 20 Sep 2014 00:08:38 +0000"  >&lt;p&gt;+1 for 0.98&lt;br/&gt;
Why was this branch left out of consideration initially (along with 0.94)? &lt;/p&gt;</comment>
                            <comment id="14141588" author="apurtell" created="Sat, 20 Sep 2014 00:09:25 +0000"  >&lt;p&gt;Reopened and updated fix versions&lt;/p&gt;</comment>
                            <comment id="14141696" author="yuzhihong@gmail.com" created="Sat, 20 Sep 2014 02:53:29 +0000"  >&lt;p&gt;Integrated to 0.98 as well.&lt;/p&gt;

&lt;p&gt;I can prepare patch for 0.94 if Sean is busy.&lt;/p&gt;</comment>
                            <comment id="14141699" author="busbey" created="Sat, 20 Sep 2014 03:12:40 +0000"  >&lt;p&gt;I&apos;m chasing down a failure on the hadoop-1 profile and working on 0.94.&lt;br/&gt;
Should be later tonight.&lt;/p&gt;

&lt;p&gt;If someone else can get it done earlier, that&apos;d be great.&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
Sean&lt;/p&gt;
</comment>
                            <comment id="14141701" author="yuzhihong@gmail.com" created="Sat, 20 Sep 2014 03:16:04 +0000"  >&lt;p&gt;You mean this one ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testParallelHbck(org.apache.hadoop.hbase.util.TestHBaseFsck)  Time elapsed: 60.152 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError
  at org.apache.hadoop.hbase.util.TestHBaseFsck.testParallelHbck(TestHBaseFsck.java:552)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Sigh - let me revert from 0.98 for now.&lt;/p&gt;</comment>
                            <comment id="14141717" author="hudson" created="Sat, 20 Sep 2014 03:47:33 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #504 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/504/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/504/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (bharath v) (tedyu: rev c8d018fbcbb8cfa6129aaf9030b252cfc81605cb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Revert due to TestHBaseFsck#testParallelHbck failure (tedyu: rev 77c04a176f55ca3cea69ac938308455dc089d97c)&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141752" author="hudson" created="Sat, 20 Sep 2014 05:10:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #529 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/529/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (bharath v) (tedyu: rev c8d018fbcbb8cfa6129aaf9030b252cfc81605cb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Revert due to TestHBaseFsck#testParallelHbck failure (tedyu: rev 77c04a176f55ca3cea69ac938308455dc089d97c)&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141925" author="busbey" created="Sat, 20 Sep 2014 11:25:57 +0000"  >&lt;p&gt;okay, the test failure is caused because on &lt;a href=&quot;https://github.com/apache/hadoop/blob/release-1.2.1/src/hdfs/org/apache/hadoop/hdfs/DFSClient.java#L163&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hadoop 1 dfs client transparently retries the file create for up to 5 minutes&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Looking at the logs of the hadoop 1 run, I can see the second hbck instance fail to create the file. Then later after the first one cleans up, the second picks up again and keeps going. Thus both succeed and the assert fails. Same failure on 0.94.&lt;/p&gt;

&lt;p&gt;I&apos;d rather not insert a 5 minute sleep in the hbck to ensure the second instance fails. Anyone have some idea of a different way we can test for the branches that support hadoop 1?&lt;/p&gt;</comment>
                            <comment id="14142111" author="apurtell" created="Sat, 20 Sep 2014 17:07:31 +0000"  >&lt;p&gt;Just a shot in the dark: Use mockito to swap in a different retry policy for creates? &lt;/p&gt;</comment>
                            <comment id="14146961" author="busbey" created="Wed, 24 Sep 2014 22:09:51 +0000"  >&lt;p&gt;Here&apos;s an amended version specific to each of 0.98 and 0.94 that works under profiles for hadoop 1.0, 1.1, and 2.x. Due to the amount of change, I added an Amending-Author to the commit message.&lt;/p&gt;

&lt;p&gt;I&apos;ve run through &lt;tt&gt;-Dtest=TestHBaseFsck&lt;/tt&gt; for the above profiles and &lt;tt&gt;-PrunSmallTests&lt;/tt&gt; for whatever the default profile is on each branch. NB running TestHBaseFsck on 0.94 required &lt;tt&gt;-PlocalTests&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Fixing this involved exposing a previously private method for HBaseTestingUtility under 0.94. Since nothing else needed it in 0.98 I marked it deprecated with a note that it would disappear with Hadoop 1.x support. Since the method isn&apos;t in branch-1 or later, that should work out well.&lt;/p&gt;

&lt;p&gt;One worry: some of the TestHBaseFsck tests get a bit flaky on 0.94 with this change on my laptop (which admittedly is underpowered). However, even leaving in a single retry period causes the parallel test to fail because the first invocation finished in &amp;lt; 1 sec.&lt;/p&gt;</comment>
                            <comment id="14147049" author="apurtell" created="Wed, 24 Sep 2014 23:05:14 +0000"  >&lt;p&gt;The 0.98 patch lgtm&lt;/p&gt;</comment>
                            <comment id="14147915" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 16:17:59 +0000"  >&lt;p&gt;Rebased patch for 0.98&lt;/p&gt;</comment>
                            <comment id="14147933" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 16:28:51 +0000"  >&lt;p&gt;Integrated to 0.98&lt;/p&gt;

&lt;p&gt;Running test for 0.94 now.&lt;/p&gt;</comment>
                            <comment id="14147953" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 16:48:42 +0000"  >&lt;p&gt;Integrated to 0.94 as well.&lt;/p&gt;

&lt;p&gt;Thanks Sean and bharath&lt;/p&gt;</comment>
                            <comment id="14148036" author="hudson" created="Thu, 25 Sep 2014 17:49:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #529 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/529/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Sean Busbey and bharath v) (tedyu: rev b65849bcde31a0c0c4c8eda0cc3678d441c9cd1c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14148073" author="hudson" created="Thu, 25 Sep 2014 18:16:04 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1418 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1418/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Sean Busbey and bharath v) (tedyu: rev b65849bcde31a0c0c4c8eda0cc3678d441c9cd1c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14148079" author="hudson" created="Thu, 25 Sep 2014 18:19:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #188 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/188/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Sean Busbey and bharath v) (tedyu: rev b65849bcde31a0c0c4c8eda0cc3678d441c9cd1c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14148162" author="hudson" created="Thu, 25 Sep 2014 19:11:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #542 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/542/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/542/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Sean Busbey and bharath v) (tedyu: rev f73f18abbb26e37e955e77e1a7698d1a50aaa32c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14148205" author="hudson" created="Thu, 25 Sep 2014 19:41:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #516 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/516/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/516/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11405&quot; title=&quot;Multiple invocations of hbck in parallel disables balancer permanently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11405&quot;&gt;&lt;del&gt;HBASE-11405&lt;/del&gt;&lt;/a&gt; Multiple invocations of hbck in parallel disables balancer permanently (Sean Busbey and bharath v) (tedyu: rev f73f18abbb26e37e955e77e1a7698d1a50aaa32c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12671248" name="11405-0.98-v2.patch" size="13670" author="yuzhihong@gmail.com" created="Thu, 25 Sep 2014 16:17:59 +0000"/>
                            <attachment id="12670028" name="11405-1.0.txt" size="8631" author="yuzhihong@gmail.com" created="Fri, 19 Sep 2014 16:35:37 +0000"/>
                            <attachment id="12668161" name="11405-v3.txt" size="8345" author="yuzhihong@gmail.com" created="Thu, 11 Sep 2014 20:58:27 +0000"/>
                            <attachment id="12668717" name="11405-v5.patch" size="8625" author="bharathv" created="Mon, 15 Sep 2014 06:46:50 +0000"/>
                            <attachment id="12668781" name="11405-v6.patch" size="8889" author="bharathv" created="Mon, 15 Sep 2014 15:29:25 +0000"/>
                            <attachment id="12669812" name="11405v7.patch" size="8632" author="bharathv" created="Thu, 18 Sep 2014 21:31:36 +0000"/>
                            <attachment id="12671067" name="HBASE-11405-0.94.patch.txt" size="14012" author="busbey" created="Wed, 24 Sep 2014 22:09:51 +0000"/>
                            <attachment id="12671066" name="HBASE-11405-0.98.patch.txt" size="14331" author="busbey" created="Wed, 24 Sep 2014 22:09:51 +0000"/>
                            <attachment id="12663629" name="HBASE-11405-trunk-rebased.patch" size="8085" author="bharathv" created="Fri, 22 Aug 2014 09:16:15 +0000"/>
                            <attachment id="12653590" name="HBASE-11405-trunk.patch" size="8299" author="bharathv" created="Wed, 2 Jul 2014 13:52:42 +0000"/>
                            <attachment id="12653752" name="HBASE-11405-trunk.patch.1" size="8156" author="bharathv" created="Thu, 3 Jul 2014 04:01:52 +0000"/>
                            <attachment id="12668135" name="hbase-11405.rebase.140911.patch" size="8140" author="jmhsieh" created="Thu, 11 Sep 2014 19:04:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jun 2014 07:22:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1x3rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>