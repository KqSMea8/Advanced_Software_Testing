<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:21:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4712/HBASE-4712.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4712] Document rules for writing tests</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4712</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We saw that some tests could be improved. Documenting the general rules could help.&lt;/p&gt;

&lt;p&gt;Proposal:&lt;br/&gt;
HBase tests are divided in three categories: small, medium and large, with corresponding JUnit categories: SmallTest, MediumTest, LargeTest&lt;br/&gt;
Small tests are executed in parallel in a shared JVM. They must last less than 15 seconds. They must NOT use a cluster.&lt;br/&gt;
Medium tests are executed in separate JVM. They must last less than 50 seconds. They can use a cluster. They must not fail occasionally.&lt;/p&gt;

&lt;p&gt;Small and medium tests must not need more than 30 minutes to run altogether.&lt;br/&gt;
Small and medium tests should be executed by the developers before submitting a patch.&lt;/p&gt;

&lt;p&gt;Large tests are everything else. They are typically integration tests, non-regression tests for specific bugs, timeout tests, performance tests.&lt;/p&gt;

&lt;p&gt;Tests rules &amp;amp; hints are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;As most as possible, tests should be written as small tests.&lt;/li&gt;
	&lt;li&gt;All tests should be written to support parallel execution on the same machine, hence should not use shared resources as fixed ports or fixed file names.&lt;/li&gt;
	&lt;li&gt;All tests should be written to be as fast as possible.&lt;/li&gt;
	&lt;li&gt;Tests should not overlog. More than 100 lines/second makes the logs complex to read and use i/o that are hence not available for the other tests.&lt;/li&gt;
	&lt;li&gt;Tests can be written with HBaseTestingUtility . This class offers helper function to create a temp directory and do the cleanup, or to start a cluster.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Sleeps:&lt;/li&gt;
	&lt;li&gt;Tests should not do a &apos;Thread.sleep&apos; without testing an ending condition. This allows understanding what the test is waiting for. Moreover, the test will work whatever the machine performances.&lt;/li&gt;
	&lt;li&gt;Sleep should be minimal to be as fast as possible. Waiting for a variable should be done in a 40ms sleep loop. Waiting for a socket operation should be done in a 200 ms sleep loop.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Tests using cluster:&lt;/li&gt;
	&lt;li&gt;Tests using a HRegion do not have to start a cluster: A region can use the local file system.&lt;/li&gt;
	&lt;li&gt;Start/stopping a cluster cost around 10 seconds. They should not be started per test method but per class.&lt;/li&gt;
	&lt;li&gt;Started cluster must be shutdown using HBaseTestingUtility#shutdownMiniCluster, which cleans the directories.&lt;/li&gt;
	&lt;li&gt;As most as possible, tests should use the default settings for the cluster. When they don&apos;t, they should document it. This will allow to share the cluster later.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12529627">HBASE-4712</key>
            <summary>Document rules for writing tests</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Nov 2011 08:23:06 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:07 +0000</updated>
                            <resolved>Tue, 6 Dec 2011 21:49:27 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.94.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13141281" author="stack" created="Tue, 1 Nov 2011 16:20:37 +0000"  >&lt;p&gt;@N You&apos;ve written it as a proposal which is good.  Float it on dev list and get some edits then we&apos;ll commit what folks agree on.  Good stuff.&lt;/p&gt;</comment>
                            <comment id="13143298" author="stack" created="Thu, 3 Nov 2011 16:42:31 +0000"  >&lt;p&gt;Why the 15 and 50 second limits.  Are they fuzzy limits?  If hard, why these numbers?&lt;/p&gt;

&lt;p&gt;Otherwise, excellent.&lt;/p&gt;</comment>
                            <comment id="13143320" author="nkeywal" created="Thu, 3 Nov 2011 17:05:18 +0000"  >&lt;p&gt;For 15s, it&apos;s fuzzy to help parallelization. But there are only a few tests that don&apos;t use a cluster and last more than 15s, I could give them a try.&lt;br/&gt;
org.apache.hadoop.hbase.io.hfile.slab.TestSingleSizeCache	5	24.294&lt;br/&gt;
org.apache.hadoop.hbase.io.hfile.slab.TestSlabCache	7	19.818&lt;br/&gt;
org.apache.hadoop.hbase.io.hfile.TestHFileBlock	7	25.226&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.TestCompoundBloomFilter	3	22.694&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.TestMemStore	21	28.672&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.TestMultiColumnScanner	6	19.568&lt;br/&gt;
org.apache.hadoop.hbase.util.TestIdLock	1	15.198&lt;/p&gt;

&lt;p&gt;Same for 50, and as well the longer it last, the more chance you have to get a flaky test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
The tests over 50s are:&lt;br/&gt;
org.apache.hadoop.hbase.catalog.TestCatalogTrackerOnCluster	1	84.463&lt;br/&gt;
org.apache.hadoop.hbase.client.TestAdmin	33	369.833&lt;br/&gt;
org.apache.hadoop.hbase.client.TestFromClientSide	49	154.41&lt;br/&gt;
org.apache.hadoop.hbase.client.TestMultipleTimestamps	8	66.497&lt;br/&gt;
org.apache.hadoop.hbase.client.TestShell	1	69.65&lt;br/&gt;
org.apache.hadoop.hbase.mapred.TestTableMapReduce	1	63.846&lt;br/&gt;
org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat	8	152.609&lt;br/&gt;
org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery	3	74.628&lt;br/&gt;
org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan	11	516.619&lt;br/&gt;
org.apache.hadoop.hbase.mapreduce.TestTableMapReduce	1	92.144&lt;br/&gt;
org.apache.hadoop.hbase.master.TestDistributedLogSplitting	4	112.606&lt;br/&gt;
org.apache.hadoop.hbase.master.TestMasterFailover	4	76.658&lt;br/&gt;
org.apache.hadoop.hbase.master.TestRollingRestart	1	54.738&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.wal.TestHLogSplit	28	230.379&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.wal.TestHLog	9	59.889&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.wal.TestLogRolling	3	310.537&lt;br/&gt;
org.apache.hadoop.hbase.replication.TestMasterReplication	2	75.346&lt;br/&gt;
org.apache.hadoop.hbase.replication.TestReplication	7	163.158&lt;br/&gt;
org.apache.hadoop.hbase.TestFullLogReconstruction	1	57.742&lt;br/&gt;
org.apache.hadoop.hbase.TestHBaseTestingUtility	7	73.654&lt;br/&gt;
org.apache.hadoop.hbase.TestRegionRebalancing	1	58.25&lt;br/&gt;
org.apache.hadoop.hbase.TestZooKeeper	7	86.267&lt;br/&gt;
org.apache.hadoop.hbase.util.TestMergeTool	1	257.223&lt;/p&gt;

</comment>
                            <comment id="13143323" author="stack" created="Thu, 3 Nov 2011 17:10:05 +0000"  >&lt;p&gt;Grand.&lt;/p&gt;</comment>
                            <comment id="13153539" author="nkeywal" created="Sat, 19 Nov 2011 18:10:28 +0000"  >&lt;p&gt;New proposal:&lt;/p&gt;

&lt;p&gt;1) Running tests&lt;br/&gt;
HBase tests are divided in three categories: small, medium and large, with corresponding JUnit categories: SmallTests, MediumTests, LargeTests.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Small tests are executed in a shared JVM. We put in this category all the tests that can be executed quickly (the maximum execution time for a test is 15 seconds and they do not use a cluster) in a shared jvm.&lt;/li&gt;
	&lt;li&gt;Medium tests represents tests that must be executed before proposing a patch. They are designed to run in less than 30 minutes altogether, and are quite stable in their results. They&apos;re designed to less than 50 seconds. They can use a cluster, and each of them are executed in a separate JVM.&lt;/li&gt;
	&lt;li&gt;Large tests are everything else. They are typically integration tests, regression tests for specific bugs, timeout tests, performance tests. Some of them can be flaky. They are executed before a commit on the pre-integration machines. They can be run on the developper as well.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Commands are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mvn test               - execute all tests in a separate JVM. All results are presented in a single report.&lt;/li&gt;
	&lt;li&gt;mvn -P runDevTests     - execute small tests in a single JVM and medium tests in separates jvm. There are two reports.&lt;/li&gt;
	&lt;li&gt;mvn -P runAllTests     - execute small tests in a single JVM and medium and large tests in separates jvm. There are two reports, one for small, one for medium and large.&lt;/li&gt;
	&lt;li&gt;mvn -P runSmallTests   - execute small tests in a single JVM.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It&apos;s as well possible to use the script &apos;hbasetests.sh&apos;. This script runs the medium and large tests in parallel with two maven instances, and provide a single report. It must be executed from the directory which contains the pom.xml. Commands are:&lt;br/&gt;
./dev-support/hbasetests.sh              - execute small and medium tests&lt;br/&gt;
./dev-support/hbasetests.sh runAllTests  - execute all tests&lt;br/&gt;
./dev-support/hbasetests.sh replayFailed - rerun the failed tests a second time, in a separate jvm and without parallelisation.&lt;/p&gt;

&lt;p&gt;2) Writing tests&lt;br/&gt;
Tests rules &amp;amp; hints are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;As most as possible, tests should be written as small tests.&lt;/li&gt;
	&lt;li&gt;All tests must be written to support parallel execution on the same machine, hence should not use shared resources as fixed ports or fixed file names.&lt;/li&gt;
	&lt;li&gt;Tests should not overlog. More than 100 lines/second makes the logs complex to read and use i/o that are hence not available for the other tests.&lt;/li&gt;
	&lt;li&gt;Tests can be written with HBaseTestingUtility . This class offers helper functions to create a temp directory and do the cleanup, or to start a cluster.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Categories and executin time&lt;/li&gt;
	&lt;li&gt;All tests must be categorized, if not they could be skipped.&lt;/li&gt;
	&lt;li&gt;All tests should be written to be as fast as possible.&lt;/li&gt;
	&lt;li&gt;Small tests should last less than 15 seconds, and must not have any side effect.&lt;/li&gt;
	&lt;li&gt;Medium tests should last less than 45 seconds.&lt;/li&gt;
	&lt;li&gt;large tests should last less than 3 minutes, this ensure a good parallelisation for the ones using it, and ease the analysis when the test fails.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Sleeps:&lt;/li&gt;
	&lt;li&gt;Whenever possible, tests should not use sleep, but rather waiting for the real event. This is faster and clearer for the reader.&lt;/li&gt;
	&lt;li&gt;Tests should not do a &apos;Thread.sleep&apos; without testing an ending condition. This allows understanding what the test is waiting for. Moreover, the test will work whatever the machine performances.&lt;/li&gt;
	&lt;li&gt;Sleep should be minimal to be as fast as possible. Waiting for a variable should be done in a 40ms sleep loop. Waiting for a socket operation should be done in a 200 ms sleep loop.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Tests using cluster:&lt;/li&gt;
	&lt;li&gt;Tests using a HRegion do not have to start a cluster: A region can use the local file system.&lt;/li&gt;
	&lt;li&gt;Start/stopping a cluster cost around 10 seconds. They should not be started per test method but per class.&lt;/li&gt;
	&lt;li&gt;Started cluster must be shutdown using HBaseTestingUtility#shutdownMiniCluster, which cleans the directories.&lt;/li&gt;
	&lt;li&gt;As most as possible, tests should use the default settings for the cluster. When they don&apos;t, they should document it. This will allow to share the cluster later.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;@committers: Please tell me where I should put this, I will put it as a patch (with the new comments taken into account of course!)&lt;/p&gt;</comment>
                            <comment id="13153609" author="stack" created="Sat, 19 Nov 2011 22:26:36 +0000"  >&lt;p&gt;This is excellent.  Thanks for writing it up Nicolas.  I believe it belongs in this chapter: &lt;a href=&quot;http://hbase.apache.org/book.html#developer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#developer&lt;/a&gt;  I can get it.  Lets leave it hang out here a little while longer in case there are comments after your email today.&lt;/p&gt;

&lt;p&gt;Do you think the long tests play into &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4821&quot; title=&quot;A fully automated comprehensive distributed integration test for HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4821&quot;&gt;HBASE-4821&lt;/a&gt;?  Or at least, we should be able to run the long tests in whatever comes of hbase-4812.&lt;/p&gt;</comment>
                            <comment id="13153612" author="stack" created="Sat, 19 Nov 2011 22:31:22 +0000"  >&lt;p&gt;On commit, add to the doc this note from mail on list:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;By default there all executed in different JVM, and the second report is skipped. So you will see a new message at the end of the report: &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Tests are skipped&quot;. It&apos;s harmless.&quot;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13158608" author="nkeywal" created="Mon, 28 Nov 2011 18:14:45 +0000"  >&lt;p&gt;Udpated doc, taking into account the possibility to use mvn verify for large test. Will send it to the list after a sucessful pre-integration (hadoop qa fails often these days).&lt;br/&gt;
-&lt;br/&gt;
1) Running tests&lt;br/&gt;
HBase tests are divided in three categories: small, medium and large, with corresponding JUnit categories: SmallTests, MediumTests, LargeTests.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Small tests are executed in a shared JVM. We put in this category all the tests that can be executed quickly (the maximum execution time for a test is 15 seconds, and they do not use a cluster) in a shared jvm.&lt;/li&gt;
	&lt;li&gt;Medium tests represents tests that must be executed before proposing a patch. They are designed to run in less than 30 minutes altogether, and are quite stable in their results. They&apos;re designed to last less than 50 seconds individually. They can use a cluster, and each of them is executed in a separate JVM.&lt;/li&gt;
	&lt;li&gt;Large tests are everything else. They are typically integration tests, regression tests for specific bugs, timeout tests, performance tests. Some of them can be flaky. They are executed before a commit on the pre-integration machines. They can be run on the developer machine as well.&lt;br/&gt;
Commands are:&lt;br/&gt;
1) mvn test&lt;/li&gt;
	&lt;li&gt;execute small tests in a single JVM and medium tests in a separate JVM for each test&lt;/li&gt;
	&lt;li&gt;medium tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;large tests are NOT executed&lt;/li&gt;
	&lt;li&gt;there is one report for small tests, and one report for medium tests &lt;del&gt;if they are executed&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2) mvn verify&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM then medium tests in a separate JVM for each test, then large tests in a separate JVM as well.&lt;/li&gt;
	&lt;li&gt;medium tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;large tests are NOT executed if there is an error in a small or medium test&lt;/li&gt;
	&lt;li&gt;there is one report by test category, small, medium and large&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;3) mvn test -P localTests -Dtest=myTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove any category effect (without this specific profile, the profiles are taken into account)&lt;/li&gt;
	&lt;li&gt;use actually the official release of surefire &amp;amp; the old connector to junit&lt;/li&gt;
	&lt;li&gt;tests are executed in separated JVM&lt;/li&gt;
	&lt;li&gt;You will see a new message at the end of the report: &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Tests are skipped&quot;. It&apos;s harmless.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4) mvn test -P runAllTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM then medium &amp;amp; large tests in a separate JVM for each test&lt;/li&gt;
	&lt;li&gt;medium and large tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;large tests are NOT executed if there is an error in a small or medium test&lt;/li&gt;
	&lt;li&gt;there are one report for small tests, and one report for medium &amp;amp; large tests &lt;del&gt;if they are executed&lt;/del&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;5) Various other profiles&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mvn test -P runSmallTests   - execute small tests only,  in a single JVM.&lt;/li&gt;
	&lt;li&gt;mvn test -P runMediumTests   - execute medium tests in a single JVM.&lt;/li&gt;
	&lt;li&gt;mvn test -P runLargeTests   - execute medium tests in a single JVM.&lt;br/&gt;
It&apos;s as well possible to use the script &apos;hbasetests.sh&apos;. This script runs the medium and large tests in parallel with two maven instances, and provide a single report. It must be executed from the directory which contains the pom.xml. Commands are:&lt;br/&gt;
./dev-support/hbasetests.sh              - execute small and medium tests&lt;br/&gt;
./dev-support/hbasetests.sh runAllTests  - execute all tests&lt;br/&gt;
./dev-support/hbasetests.sh replayFailed - rerun the failed tests a second time, in a separate jvm and without parallelisation.&lt;br/&gt;
2) Writing tests&lt;br/&gt;
Tests rules &amp;amp; hints are:&lt;/li&gt;
	&lt;li&gt;As most as possible, tests should be written as small tests.&lt;/li&gt;
	&lt;li&gt;All tests must be written to support parallel execution on the same machine, hence should not use shared resources as fixed ports or fixed file names.&lt;/li&gt;
	&lt;li&gt;Tests should not overlog. More than 100 lines/second makes the logs complex to read and use i/o that are hence not available for the other tests.&lt;/li&gt;
	&lt;li&gt;Tests can be written with HBaseTestingUtility . This class offers helper functions to create a temp directory and do the cleanup, or to start a cluster.&lt;/li&gt;
	&lt;li&gt;Categories and execution time&lt;/li&gt;
	&lt;li&gt;All tests must be categorized, if not they could be skipped.&lt;/li&gt;
	&lt;li&gt;All tests should be written to be as fast as possible.&lt;/li&gt;
	&lt;li&gt;Small tests should last less than 15 seconds, and must not have any side effect.&lt;/li&gt;
	&lt;li&gt;Medium tests should last less than 45 seconds.&lt;/li&gt;
	&lt;li&gt;large tests should last less than 3 minutes, this ensure a good parallelization for the ones using it, and ease the analysis when the test fails.&lt;/li&gt;
	&lt;li&gt;Sleeps:&lt;/li&gt;
	&lt;li&gt;Whenever possible, tests should not use sleep, but rather waiting for the real event. This is faster and clearer for the reader.&lt;/li&gt;
	&lt;li&gt;Tests should not do a &apos;Thread.sleep&apos; without testing an ending condition. This allows understanding what the test is waiting for. Moreover, the test will work whatever the machine performances.&lt;/li&gt;
	&lt;li&gt;Sleep should be minimal to be as fast as possible. Waiting for a variable should be done in a 40ms sleep loop. Waiting for a socket operation should be done in a 200 ms sleep loop.&lt;/li&gt;
	&lt;li&gt;Tests using  a cluster:&lt;/li&gt;
	&lt;li&gt;Tests using a HRegion do not have to start a cluster: A region can use the local file system.&lt;/li&gt;
	&lt;li&gt;Start/stopping a cluster cost around 10 seconds. They should not be started per test method but per test class.&lt;/li&gt;
	&lt;li&gt;Started cluster must be shutdown using HBaseTestingUtility#shutdownMiniCluster, which cleans the directories.&lt;/li&gt;
	&lt;li&gt;As most as possible, tests should use the default settings for the cluster. When they don&apos;t, they should document it. This will allow to share the cluster later.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13160211" author="nkeywal" created="Wed, 30 Nov 2011 18:25:45 +0000"  >&lt;p&gt;Updated version. I suppose there is a tool to put that in the existing xml. I naively thought that open office would do it, but it&apos;s not the case...&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
1) Running tests&lt;br/&gt;
HBase tests are divided in three categories: small, medium and large, with corresponding JUnit categories: SmallTests, MediumTests, LargeTests.&lt;/p&gt;

&lt;p&gt;Small tests are executed in a shared JVM. We put in this category all the tests that can be executed quickly (the maximum execution time for a test is 15 seconds, and they do not use a cluster) in a shared jvm.&lt;br/&gt;
Medium tests represents tests that must be executed before proposing a patch. They are designed to run in less than 30 minutes altogether, and are quite stable in their results. They&apos;re designed to last less than 50 seconds individually. They can use a cluster, and each of them is executed in a separate JVM.&lt;br/&gt;
Large tests are everything else. They are typically integration tests, regression tests for specific bugs, timeout tests, performance tests. Some of them can be flaky. They are executed before a commit on the pre-integration machines. They can be run on the developer machine as well.&lt;/p&gt;

&lt;p&gt;Commands are:&lt;br/&gt;
1.1) mvn test&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM and medium tests in a separate JVM for each test&lt;/li&gt;
	&lt;li&gt;medium tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;large tests are NOT executed&lt;/li&gt;
	&lt;li&gt;there is one report for small tests, and one report for medium tests if they are executed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.2) mvn test -P runAllTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM then medium and large tests in a separate JVM for each test.&lt;/li&gt;
	&lt;li&gt;medium and large tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;there is one report for small tests, and one report for medium and large tests if they are executed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.3) mvn test -P localTests -Dtest=myTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove any category effect (without this specific profile, the profiles are taken into account)&lt;/li&gt;
	&lt;li&gt;use actually the official release of surefire &amp;amp; the old connector to junit&lt;/li&gt;
	&lt;li&gt;tests are executed in separated JVM&lt;/li&gt;
	&lt;li&gt;you will see a new message at the end of the report: &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Tests are skipped&quot;. It&apos;s harmless.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.4) mvn test -P runAllTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM then medium &amp;amp; large tests in a separate JVM for each test&lt;/li&gt;
	&lt;li&gt;medium and large tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;large tests are NOT executed if there is an error in a small or medium test&lt;/li&gt;
	&lt;li&gt;there are one report for small tests, and one report for medium &amp;amp; large tests if they are executed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.5) Various other profiles&lt;br/&gt;
mvn test -P runSmallTests - execute small tests only, in a single JVM.&lt;br/&gt;
mvn test -P runMediumTests - execute medium tests in a single JVM.&lt;br/&gt;
mvn test -P runLargeTests - execute medium tests in a single JVM.&lt;/p&gt;

&lt;p&gt;It&apos;s as well possible to use the script &apos;hbasetests.sh&apos;. This script runs the medium and large tests in parallel with two maven instances, and provide a single report. It must be executed from the directory which contains the pom.xml. Commands are:&lt;br/&gt;
./dev-support/hbasetests.sh - execute small and medium tests&lt;br/&gt;
./dev-support/hbasetests.sh runAllTests - execute all tests&lt;br/&gt;
./dev-support/hbasetests.sh replayFailed - rerun the failed tests a second time, in a separate jvm and without parallelisation.&lt;/p&gt;

&lt;p&gt;2) Writing tests&lt;br/&gt;
Tests rules &amp;amp; hints are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;As most as possible, tests should be written as small tests.&lt;/li&gt;
	&lt;li&gt;All tests must be written to support parallel execution on the same machine, hence should not use shared resources as fixed ports or fixed file names.&lt;/li&gt;
	&lt;li&gt;Tests should not overlog. More than 100 lines/second makes the logs complex to read and use i/o that are hence not available for the other tests.&lt;/li&gt;
	&lt;li&gt;Tests can be written with HBaseTestingUtility . This class offers helper functions to create a temp directory and do the cleanup, or to start a cluster.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Categories and execution time&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;All tests must be categorized, if not they could be skipped.&lt;/li&gt;
	&lt;li&gt;All tests should be written to be as fast as possible.&lt;/li&gt;
	&lt;li&gt;Small tests should last less than 15 seconds, and must not have any side effect.&lt;/li&gt;
	&lt;li&gt;Medium tests should last less than 45 seconds.&lt;/li&gt;
	&lt;li&gt;large tests should last less than 3 minutes, this ensure a good parallelization for people using it, and ease the analysis when the test fails.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sleeps&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Whenever possible, tests should not use Thread.sleep, but rather waiting for the real event they need. This is faster and clearer for the reader.&lt;/li&gt;
	&lt;li&gt;Tests should not do a &apos;Thread.sleep&apos; without testing an ending condition. This allows understanding what the test is waiting for. Moreover, the test will work whatever the machine performances.&lt;/li&gt;
	&lt;li&gt;Sleep should be minimal to be as fast as possible. Waiting for a variable should be done in a 40ms sleep loop. Waiting for a socket operation should be done in a 200 ms sleep loop.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests using a cluster&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Tests using a HRegion do not have to start a cluster: A region can use the local file system.&lt;/li&gt;
	&lt;li&gt;Start/stopping a cluster cost around 10 seconds. They should not be started per test method but per test class.&lt;/li&gt;
	&lt;li&gt;Started cluster must be shutdown using HBaseTestingUtility#shutdownMiniCluster, which cleans the directories.&lt;/li&gt;
	&lt;li&gt;As most as possible, tests should use the default settings for the cluster. When they don&apos;t, they should document it. This will allow to share the cluster later.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13160415" author="stack" created="Wed, 30 Nov 2011 22:43:51 +0000"  >&lt;p&gt;I am +1 on this patch/doc.  Will commit in a while (will ping Jesse first to make sure he is cool w/ it).  Jesse&apos;s IntegrationTest* stuff in failsafe is something distinct.  We can add a section later making it clear the diff between this work here and Jesse&apos;s.&lt;/p&gt;</comment>
                            <comment id="13161464" author="jesse_yates" created="Fri, 2 Dec 2011 07:17:29 +0000"  >&lt;p&gt;Couple of comments:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;there is one report for small tests and one report for medium and large tests if they are executed&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is that one report each for the medium and large or one report for the two? Just need a single word of clarification in there &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;1.3) mvn test -P localTests -Dtest=myTests&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is this new behavior from what&apos;s in trunk currently? Because I&apos;m pretty sure I can just run &lt;br/&gt;
mvn test -Dtest=myTest and get it to run them.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;mvn test -P runMediumTests - execute medium tests in a single JVM.&lt;br/&gt;
mvn test -P runLargeTests - execute medium tests in a single JVM.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think we really want to have these options available, right? A lot of the large tests depend on the fact that jvms are forked.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;Categories and execution time&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A simple example or two here with the annotations would make this super obvious. For example:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt; a small test would look like this:&lt;/p&gt;

&lt;p&gt;&amp;lt;code&amp;gt;&lt;/p&gt;

&lt;p&gt;@SmallTest&lt;br/&gt;
public class TestMyClass&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {
...
}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt;Or you could test each method:&lt;/p&gt;


&lt;p&gt;public class TestMyClass&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {

	@SmallTest
	public void testMyMethod() ...
}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;&amp;lt;/code&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is assuming the per-method annotation still work as Todd suggested a while ago?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Tests using a HRegion do not have to start a cluster: A region can use the local file system.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Do we need to add a MiniRegion just for testing these situations?&lt;/p&gt;

&lt;p&gt;Otherwise, I&apos;m fine with the rest of the comments.&lt;/p&gt;

&lt;p&gt;However, with recent discussions(&lt;a href=&quot;http://search-hadoop.com/m/q41O6YiyfN&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/q41O6YiyfN&lt;/a&gt;), there may be some changes coming to this soon.&lt;/p&gt;</comment>
                            <comment id="13161470" author="jesse_yates" created="Fri, 2 Dec 2011 07:37:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;As most as possible, tests should use the default settings for the cluster. When they don&apos;t, they should document it. This will allow to share the cluster later.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It would be cool if we could actually do that with the annotation. For instance:&lt;br/&gt;
@LargeTest(modifications=false)&lt;/p&gt;

&lt;p&gt;would be a large test that hasn&apos;t made modifications to the minicluster. Makes it really easy to parallelize in the same jvm later. Another component I could see needing for the same jvm minicluster is a getUniqueTable() method. But lets put that off until we actually get there &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13161498" author="nkeywal" created="Fri, 2 Dec 2011 09:13:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is that one report each for the medium and large or one report for the two? Just need a single word of clarification in there &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;One report for the two. I will reformulate this part.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is this new behavior from what&apos;s in trunk currently? Because I&apos;m pretty sure I can just run mvn test -Dtest=myTest and get it to run them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, it would change from what we have in trunk today. This profile deactivates categories, if not re they are still taken into account even if you specify &quot;-Dtest=myTest&quot;, so if your test is in largeTests it&apos;s not executed.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I don&apos;t think we really want to have these options available, right? A lot of the large tests depend on the fact that jvms are forked.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;My bad, copy/paste error, I am going to fix it&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;A simple example or two here with the annotations would make this super obvious. For example:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok, will add an example.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Do we need to add a MiniRegion just for testing these situations?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It runs like that out of the box (the region can use the local system), see for example TestScanner.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It would be cool if we could actually do that with the annotation. For instance: @LargeTest(modifications=false)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If we can&apos;t check automatically that the annotation &quot;does not lie&quot;, we have the risk of having to look at the source code to check if it&apos;s true. As well, we can have test with a default cluster but that cannot run with other tests (if they try to timout the master for example), so I believe we will have to be explicit (something like sharedCluster=true). Note as well that a test can belong to multiple categories.&lt;/p&gt;

&lt;p&gt;Thanks for the review!&lt;/p&gt;</comment>
                            <comment id="13161499" author="nkeywal" created="Fri, 2 Dec 2011 09:14:18 +0000"  >&lt;p&gt;updated version after Jesse&apos;s comments:&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
1) Running tests&lt;br/&gt;
HBase tests are divided in three categories: small, medium and large, with corresponding JUnit categories: SmallTests, MediumTests, LargeTests.&lt;/p&gt;

&lt;p&gt;This appears like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@Category(SmallTests.class)
public class TestHRegionInfo {

  @Test
  public void testCreateHRegionInfoName() throws Exception {
    // ...
  }
}  
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Small tests are executed in a shared JVM. We put in this category all the tests that can be executed quickly (the maximum execution time for a test is 15 seconds, and they do not use a cluster) in a shared jvm.&lt;br/&gt;
Medium tests represents tests that must be executed before proposing a patch. They are designed to run in less than 30 minutes altogether, and are quite stable in their results. They&apos;re designed to last less than 50 seconds individually. They can use a cluster, and each of them is executed in a separate JVM.&lt;br/&gt;
Large tests are everything else. They are typically integration tests, regression tests for specific bugs, timeout tests, performance tests. Some of them can be flaky. They are executed before a commit on the pre-integration machines. They can be run on the developer machine as well.&lt;/p&gt;

&lt;p&gt;Commands are:&lt;br/&gt;
1.1) mvn test&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM and medium tests in a separate JVM for each test&lt;/li&gt;
	&lt;li&gt;medium tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;large tests are NOT executed&lt;/li&gt;
	&lt;li&gt;there are two reports, one report for small tests, and one report for medium tests if they are executed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.2) mvn test -P runAllTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;execute small tests in a single JVM then medium and large tests in a separate JVM for each test.&lt;/li&gt;
	&lt;li&gt;medium and large tests are NOT executed if there is an error in a small test&lt;/li&gt;
	&lt;li&gt;there are two reports, one report for small tests, and one report for medium and large tests if they are executed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.3) mvn test -P localTests -Dtest=myTests&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove any category effect (without this specific profile, the profiles are taken into account)&lt;/li&gt;
	&lt;li&gt;use actually the official release of surefire &amp;amp; the old connector to junit&lt;/li&gt;
	&lt;li&gt;tests are executed in separated JVM&lt;/li&gt;
	&lt;li&gt;you will see a new message at the end of the report: &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Tests are skipped&quot;. It&apos;s harmless.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1.4) Various other profiles&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mvn test -P runSmallTests - execute small tests only, in a single JVM.&lt;/li&gt;
	&lt;li&gt;mvn test -P runMediumTests - execute medium tests in a separate JVM.&lt;/li&gt;
	&lt;li&gt;mvn test -P runLargeTests - execute large tests in a separate JVM.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It&apos;s as well possible to use the script &apos;hbasetests.sh&apos;. This script runs the medium and large tests in parallel with two maven instances, and provide a single report. It must be executed from the directory which contains the pom.xml. Commands are:&lt;br/&gt;
./dev-support/hbasetests.sh - execute small and medium tests&lt;br/&gt;
./dev-support/hbasetests.sh runAllTests - execute all tests&lt;br/&gt;
./dev-support/hbasetests.sh replayFailed - rerun the failed tests a second time, in a separate jvm and without parallelisation.&lt;/p&gt;

&lt;p&gt;2) Writing tests&lt;br/&gt;
Tests rules &amp;amp; hints are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;As most as possible, tests should be written as small tests.&lt;/li&gt;
	&lt;li&gt;All tests must be written to support parallel execution on the same machine, hence should not use shared resources as fixed ports or fixed file names.&lt;/li&gt;
	&lt;li&gt;Tests should not overlog. More than 100 lines/second makes the logs complex to read and use i/o that are hence not available for the other tests.&lt;/li&gt;
	&lt;li&gt;Tests can be written with HBaseTestingUtility . This class offers helper functions to create a temp directory and do the cleanup, or to start a cluster.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Categories and execution time&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;All tests must be categorized, if not they could be skipped.&lt;/li&gt;
	&lt;li&gt;All tests should be written to be as fast as possible.&lt;/li&gt;
	&lt;li&gt;Small tests should last less than 15 seconds, and must not have any side effect.&lt;/li&gt;
	&lt;li&gt;Medium tests should last less than 45 seconds.&lt;/li&gt;
	&lt;li&gt;large tests should last less than 3 minutes, this ensure a good parallelization for people using it, and ease the analysis when the test fails.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sleeps&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Whenever possible, tests should not use Thread.sleep, but rather waiting for the real event they need. This is faster and clearer for the reader.&lt;/li&gt;
	&lt;li&gt;Tests should not do a &apos;Thread.sleep&apos; without testing an ending condition. This allows understanding what the test is waiting for. Moreover, the test will work whatever the machine performances.&lt;/li&gt;
	&lt;li&gt;Sleep should be minimal to be as fast as possible. Waiting for a variable should be done in a 40ms sleep loop. Waiting for a socket operation should be done in a 200 ms sleep loop.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests using a cluster&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Tests using a HRegion do not have to start a cluster: A region can use the local file system instead of a distributed one.&lt;/li&gt;
	&lt;li&gt;Start/stopping a cluster cost around 10 seconds. They should not be started per test method but per test class.&lt;/li&gt;
	&lt;li&gt;Started cluster must be shutdown using HBaseTestingUtility#shutdownMiniCluster, which cleans the directories.&lt;/li&gt;
	&lt;li&gt;As most as possible, tests should use the default settings for the cluster. When they don&apos;t, they should document it. This will allow to share the cluster later.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13163888" author="stack" created="Tue, 6 Dec 2011 21:48:12 +0000"  >&lt;p&gt;Here is the nkeywal doc hacked into docbook.  I also moved stuff around breaking out a &apos;Tests&apos; subsection under developer chapter and stuck Jesse&apos;s integration stuff in here too (with some attempt at lead-in text distingushing the two)&lt;/p&gt;</comment>
                            <comment id="13163890" author="stack" created="Tue, 6 Dec 2011 21:49:27 +0000"  >&lt;p&gt;Committed to trunk.  Thanks for the doc. N.&lt;/p&gt;</comment>
                            <comment id="13164013" author="hudson" created="Wed, 7 Dec 2011 00:47:26 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2522 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2522/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2522/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4712&quot; title=&quot;Document rules for writing tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4712&quot;&gt;&lt;del&gt;HBASE-4712&lt;/del&gt;&lt;/a&gt; Document rules for writing tests&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/developer.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13164279" author="hudson" created="Wed, 7 Dec 2011 11:10:51 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #24 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/24/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/24/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4712&quot; title=&quot;Document rules for writing tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4712&quot;&gt;&lt;del&gt;HBASE-4712&lt;/del&gt;&lt;/a&gt; Document rules for writing tests&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/developer.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13164744" author="stack" created="Wed, 7 Dec 2011 21:47:48 +0000"  >&lt;p&gt;Corrections from Jesse Yates&lt;/p&gt;</comment>
                            <comment id="13164748" author="stack" created="Wed, 7 Dec 2011 21:48:52 +0000"  >&lt;p&gt;I committed Jesse&apos;s addendum to TRUNK.&lt;/p&gt;</comment>
                            <comment id="13164873" author="hudson" created="Thu, 8 Dec 2011 00:29:52 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2525 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2525/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2525/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4712&quot; title=&quot;Document rules for writing tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4712&quot;&gt;&lt;del&gt;HBASE-4712&lt;/del&gt;&lt;/a&gt; Document rules for writing tests; Addendum via Jesse Yates&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/developer.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13165039" author="hudson" created="Thu, 8 Dec 2011 06:47:18 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #25 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/25/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/25/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4712&quot; title=&quot;Document rules for writing tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4712&quot;&gt;&lt;del&gt;HBASE-4712&lt;/del&gt;&lt;/a&gt; Document rules for writing tests; Addendum via Jesse Yates&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/developer.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12532326">HBASE-4847</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12527439">HBASE-4602</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506312" name="4712.txt" size="16605" author="stack" created="Tue, 6 Dec 2011 21:48:12 +0000"/>
                            <attachment id="12506523" name="test-doc-cleanup.txt" size="2559" author="stack" created="Wed, 7 Dec 2011 21:47:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Nov 2011 16:20:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08qrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>