<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:53:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8224/HBASE-8224.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8224] Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8224</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;So we can publish both the hadoop1 and the hadoop2 jars to a maven repository, and so we can publish two packages, one for hadoop1 and one for hadoop2, given how maven works, our only alternative (to the best of my knowledge and after consulting others) is by amending the version string to include hadoop1 or hadoop2.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12639872">HBASE-8224</key>
            <summary>Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Mar 2013 19:48:57 +0000</created>
                <updated>Mon, 23 Sep 2013 19:22:34 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 23:30:03 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13617707" author="stack" created="Fri, 29 Mar 2013 20:50:57 +0000"  >&lt;p&gt;Wing Yew up on mailing lists suggests it could work with classifiers:&lt;/p&gt;

&lt;p&gt;you could take a look at&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/avro/tags/release-1.7.3/lang/java/mapred/pom.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/avro/tags/release-1.7.3/lang/java/mapred/pom.xml&lt;/a&gt;&lt;br/&gt;
to see how they do it with classifiers.&lt;/p&gt;

&lt;p&gt;My understanding was that we could not use classifiers but I could try the above suggestion; would be easier than changing version.&lt;/p&gt;</comment>
                            <comment id="13617893" author="stack" created="Fri, 29 Mar 2013 23:54:31 +0000"  >&lt;p&gt;I tried adding classifiers.  Was fine till I got to the assembly step:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) on project hbase-assembly: Failed to create assembly: Error adding file &apos;org.apache.hbase:hbase-common:jar:0.97.0-SNAPSHOT&apos; to archive: /Users/stack/checkouts/hbase/hbase-common/target/classes isn&apos;t a file. -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I couldn&apos;t get over the above.  There is no vocabulary around moduleSet and dependencySet to  deal w/ classifiers; they seem blind unless I try and call out what to include individually (failed trying to do this too).&lt;/p&gt;

&lt;p&gt;Giving up on this avenue.  Going to add to our version.&lt;/p&gt;</comment>
                            <comment id="13617895" author="stack" created="Fri, 29 Mar 2013 23:58:23 +0000"  >&lt;p&gt;Or, what am I going to do?  If version is 0.97.0-hadoop1-SNAPSHOT and on command-line you specify -Dhadoop.profile=2.0?  You&apos;ll get a jar that has -hadoop1 suffix though it was built against hadoop2 (I tried having the hadoop.profile property included in pom.version but it just says not allowed and fails)&lt;/p&gt;</comment>
                            <comment id="13617896" author="stack" created="Fri, 29 Mar 2013 23:59:57 +0000"  >&lt;p&gt;Enis turned up the old issue where we fought classifiers and lost.&lt;/p&gt;</comment>
                            <comment id="13617953" author="enis" created="Sat, 30 Mar 2013 01:53:43 +0000"  >&lt;p&gt;In one of the comments here: &lt;a href=&quot;http://maven.40175.n5.nabble.com/How-to-deploy-with-classifier-td5523009.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.40175.n5.nabble.com/How-to-deploy-with-classifier-td5523009.html&lt;/a&gt; , they basically say that one module should correspond to one artifact, and a bunch of discussions around the jdk14, jdk15 classifiers.&lt;br/&gt;
How about creating one empty module per hbase module, and put the hadoop2 poms there. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase-client
hbase-hadoop-2-support/hbase-client-hadoop2
hbase-server
hbase-hadoop-2-support/hbase-server-hadoop2
....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then we do not even have to change the version, or have a profile for Hadoop2. All will be build. Wdyt boss. Overkill? &lt;/p&gt;
</comment>
                            <comment id="13617989" author="stack" created="Sat, 30 Mar 2013 05:42:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; We have 11 modules of which at least 5 would need the shadow module you suggest.  That is a bunch of modules.  And then there is hadoop3 one day?&lt;/p&gt;

&lt;p&gt;I tried again to make the classifiers work (if they worked, it&apos;d be &apos;elegant&apos; &amp;#8211; caveat we are talking maven world here).  I tried adding the dependencies to hbase-assembly so we could then do dependencySet in the assembly descriptor.  I could get the hbase-*-hadoop?.jars to show up but they would come w/o their dependencies.  I tried getting arty w/ maven coordinate specifications and dependencySet but it started to turn erratic on me.&lt;/p&gt;

&lt;p&gt;Things I&apos;ve learned (not sure if they are hard and fast rules &amp;#8211; but I have not been able to get past them):&lt;/p&gt;

&lt;p&gt;+ We cannot read the pom.version off the command-line.  It has to be hard-coded in the top-level pom and in all submodules.  I cannot interpolate a property into the pom.version either (to add hadoop1 or hadoop2 suffix); mvn just complains.&lt;br/&gt;
+ We could add hadoop? to the version but there is no connection between version and hadoop profile so we could have a hadoop1 added to jar names though we build the assembly with the hadoop2 profile (Maybe this is not too bad.... Serves you right if you end up w/ this combo).&lt;/p&gt;

&lt;p&gt;How we going to change the version though given the above?  Making the assembly package, its not too bad.  Could just name the assembly/package for the hadoop version and leave the jar alone unadorned with hadoop version.  Publishing to maven we&apos;d do something crazy like change the version number, commit, build and upload for hadoop1, then commit again, build, and upload for hadoop2?&lt;/p&gt;

&lt;p&gt;Any other ideas?&lt;/p&gt;</comment>
                            <comment id="13618979" author="stack" created="Mon, 1 Apr 2013 17:58:56 +0000"  >&lt;p&gt;Parent version must be hard-coded throughout (&lt;a href=&quot;http://jira.codehaus.org/browse/MNG-624&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jira.codehaus.org/browse/MNG-624&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The versions plugin rewrites the pom version in parent and in submodules for you (have to use 1.3.1, the 2.0 is broke NPE&apos;ing &amp;#8211; &lt;a href=&quot;https://jira.codehaus.org/browse/MVERSIONS-201&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.codehaus.org/browse/MVERSIONS-201&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ mvn clean org.codehaus.mojo:versions-maven-plugin:1.3.1:set -DnewVersion=1.2.3-hadoop2-SNAPSHOT -Dhadoop.profile=2.0 install -DskipTests assembly:single
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, unless someone has a better idea, I&apos;m thinking that when we build to publish, we use this ugly versions plugin to create jars w/ -hadoop1 suffix and -hadoop2 suffix.  I suppose will have to commit what the versions plugin writes and then tag.  Do it once for hadoop1 and once for hadoop2.&lt;/p&gt;

&lt;p&gt;Let me try this for first 0.95RC&lt;/p&gt;</comment>
                            <comment id="13618982" author="enis" created="Mon, 1 Apr 2013 18:04:47 +0000"  >&lt;p&gt;Sounds good to me. Can we automagically invoke this thing when the hadoop2 profile is on? &lt;/p&gt;</comment>
                            <comment id="13619017" author="stack" created="Mon, 1 Apr 2013 18:28:46 +0000"  >&lt;p&gt;The plugin examples are all about command-line.  I tried to add a &apos;configuration&apos; after adding plugin to the hadoop2 profile and got this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR]   The project org.apache.hbase:hbase:0.97.0-SNAPSHOT (/Users/stack/checkouts/hbase/pom.xml) has 1 error
[ERROR]     Malformed POM /Users/stack/checkouts/hbase/pom.xml: Unrecognised tag: &apos;configuration&apos; (position: START_TAG seen ...&amp;lt;/version&amp;gt;\n            &amp;lt;configuration&amp;gt;... @1380:28)  @ /Users/stack/checkouts/hbase/pom.xml, line 1380, column 28 -&amp;gt; [Help 2]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... so it doesn&apos;t seem to like it.&lt;/p&gt;

&lt;p&gt;Might be dodgy doing this automatically given it changes all poms and leaves them changed... (this is all so dirty!)  Thanks Enis.&lt;/p&gt;</comment>
                            <comment id="13619157" author="enis" created="Mon, 1 Apr 2013 21:00:35 +0000"  >&lt;p&gt;I&apos;ve talked with one of our build guys, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gkesavan&quot; class=&quot;user-hover&quot; rel=&quot;gkesavan&quot;&gt;Giridharan Kesavan&lt;/a&gt; about this. He says that we should rather change the artifact name, instead of the version string. &lt;/p&gt;</comment>
                            <comment id="13619255" author="stack" created="Mon, 1 Apr 2013 22:26:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; How would that work?  What would the artifact be?  Would we have two poms or would be branch to do hadoop2 builds making artifact name change in branch?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13619269" author="enis" created="Mon, 1 Apr 2013 22:50:34 +0000"  >&lt;p&gt;He was talking about the artifact name containing the hadoop1 or 2 suffix, instead of the version. It is close to the one I was talking about above, where we have two poms per module. &lt;/p&gt;

&lt;p&gt;The module artifacts will be named hbase-client-hadoop1, and the version will still be 0.95.0. So the final artifact name will be hbase-client-hadoop1-0.95.0.jar.&lt;/p&gt;

&lt;p&gt;We can supply an alternate file using mvn -f flag. But having the build is already modular, we have to test it.&lt;/p&gt;</comment>
                            <comment id="13619330" author="enis" created="Mon, 1 Apr 2013 23:39:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; could you please take a quick look at the prototype patch. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 mvn clean install -DskipTests  
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;builds with hadoop1 suffix: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/target/hbase-server-hadoop1-0.97-SNAPSHOT.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop1/0.97-SNAPSHOT/hbase-server-hadoop1-0.97-SNAPSHOT.jar
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/pom.xml to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop1/0.97-SNAPSHOT/hbase-server-hadoop1-0.97-SNAPSHOT.pom
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/target/hbase-server-hadoop1-0.97-SNAPSHOT-tests.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop1/0.97-SNAPSHOT/hbase-server-hadoop1-0.97-SNAPSHOT-tests.jar
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/target/hbase-server-hadoop1-0.97-SNAPSHOT-sources.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop1/0.97-SNAPSHOT/hbase-server-hadoop1-0.97-SNAPSHOT-sources.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For hadoop2 profile:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn install -DskipTests -Dhadoop.profile=2.0 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;results in&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/target/hbase-server-hadoop2-0.97-SNAPSHOT.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop2/0.97-SNAPSHOT/hbase-server-hadoop2-0.97-SNAPSHOT.jar
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/pom.xml to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop2/0.97-SNAPSHOT/hbase-server-hadoop2-0.97-SNAPSHOT.pom
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/target/hbase-server-hadoop2-0.97-SNAPSHOT-tests.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop2/0.97-SNAPSHOT/hbase-server-hadoop2-0.97-SNAPSHOT-tests.jar
[INFO] Installing /Users/enis/projects/svn-repos/hbase/hbase-server/target/hbase-server-hadoop2-0.97-SNAPSHOT-sources.jar to /Users/enis/.m2/repository/org/apache/hbase/hbase-server-hadoop2/0.97-SNAPSHOT/hbase-server-hadoop2-0.97-SNAPSHOT-sources.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not sure whether this will work with the assembly or maven publish, but install seems fine. &lt;/p&gt;</comment>
                            <comment id="13619349" author="stack" created="Mon, 1 Apr 2013 23:58:13 +0000"  >&lt;p&gt;Oh, interpolating into artifactid works?  Let me mess with it... will report back.  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13619352" author="stack" created="Tue, 2 Apr 2013 00:05:47 +0000"  >&lt;p&gt;Here is what I did making the release just now:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  2  3491  rm -rf ~/Downloads/hbase-0.95.0/*
  3  3490  mvn clean -Prelease -Dassembly.file=src/assembly/src.xml install -DskipTests assembly:single
  4  3492  cp hbase-assembly/target/hbase-0.95.0-src.tar.gz ~/Downloads/hbase-0.95.0/
  5  3493  svn revert -R .
  6  3494  svn cleanup
  7  3495  mvn clean org.codehaus.mojo:versions-maven-plugin:1.3.1:set -DnewVersion=0.95.0-hadoop1
  8  3496  mvn clean -Prelease  install -DskipTests javadoc:aggregate site assembly:single
  9  3497  cp hbase-assembly/target/hbase-0.95.0-hadoop1-bin.tar.gz ~/Downloads/hbase-0.95.0/
 10  3498  svn revert -R .
 11  3499  svn cleanup
 12  3501  mvn clean -Prelease -Dhadoop.profile=2.0 install -DskipTests javadoc:aggregate site assembly:single
 13  3502  mv hbase-assembly/target/hbase-0.95.0-hadoop2-bin.tar.gz ~/Downloads/hbase-0.95.0/
 14  3513  tail -f logs/hbase-stack-master-durruti.local.log.
 15  3518  svn copy https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hbase/branches/0.95 https://svn.apache.org/repos/asf/hbase/tags/0.95.0RC0 -m &lt;span class=&quot;code-quote&quot;&gt;&quot;Tag 0.95.0RC0&quot;&lt;/span&gt;
&lt;/span&gt; 16  3520  cd Downloads/hbase-0.95.0/
 17  3522  gpg --print-mds hbase-0.95.0-src.tar.gz &amp;gt; hbase-0.95.0-src.tar.gz.mds
 18  3524  gpg --print-mds hbase-0.95.0-hadoop1-bin.tar.gz &amp;gt; hbase-0.95.0-hadoop1-bin.tar.gz.mds
 19  3525  gpg --print-mds hbase-0.95.0-hadoop2-bin.tar.gz &amp;gt; hbase-0.95.0-hadoop2-bin.tar.gz.mds
 20  3527  gpg --armor --output hbase-0.95.0-src.tar.gz.asc --detach-sig hbase-0.95.0-src.tar.gz
 21  3530  gpg --armor --output hbase-0.95.0-hadoop1-bin.tar.gz.asc --detach-sig hbase-0.95.0-hadoop1-bin.tar.gz
 22  3531  gpg --armor --output hbase-0.95.0-hadoop2-bin.tar.gz.asc --detach-sig hbase-0.95.0-hadoop2-bin.tar.gz
 23  3533  cd ../
 24  3534  mv hbase-0.95.0 hbase-0.95.0RC0
 25  3535  tar cfz hbase-0.95.0RC0.tgz  hbase-0.95.0RC0
 26  3539  scp hbase-0.95.0RC0.tgz people.apache.org:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I set the version using mvn versions and then I&apos;d do my build of src tgz, copy it over to a 0.95 dir; then clean up the changes made by the mvn versions by doing svn revert.... ; then run it again to set hadoop1, and do similar for hadoop2.&lt;/p&gt;

&lt;p&gt;Let me push up to mvn repo....too.&lt;/p&gt;</comment>
                            <comment id="13619384" author="enis" created="Tue, 2 Apr 2013 00:51:32 +0000"  >&lt;p&gt;I did a bit more digging, but ran into a fundamental problem. Overriding the artifactId from a property coming from the profile works, but when a project depends on the installed artifact:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.apache.hbase&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;hbase-server-hadoop2&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;0.97-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt;
  &amp;lt;/dependencies&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;then, there is no profile information, so it will just try to fetch the jars from hadoop1 versions. I tried to circumvent this with putting a parent pom for hadoop2 profile (pom-hadoop2.xml) which is a child of pom.xml, but also declares child modules hbase-client, etc. This also fails to work because the parent artifactId does not accept variables. &lt;/p&gt;


</comment>
                            <comment id="13619483" author="stack" created="Tue, 2 Apr 2013 03:38:21 +0000"  >&lt;p&gt;Thank you for sharing the pain &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here is how I did snapshot upload to maven repo:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 3547  svn revert -R .
 3548  svn cleanup
 3549  mvn clean org.codehaus.mojo:versions-maven-plugin:1.3.1:set -DnewVersion=0.95.0-hadoop1-SNAPSHOT
 3551  mvn -DskipTests install deploy
 3552  svn revert -R .
 3553  svn cleanup
 3554  mvn clean org.codehaus.mojo:versions-maven-plugin:1.3.1:set -DnewVersion=0.95.0-hadoop2-SNAPSHOT
 3555  mvn -DskipTests -Dhadoop.profile=2.0 install deploy
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks ok... &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hbase/hbase-client/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hbase/hbase-client/&lt;/a&gt;  POMs don&apos;t explicitly reference a hadoop version though which is a little disconcerting.  &lt;/p&gt;</comment>
                            <comment id="13666751" author="stack" created="Fri, 24 May 2013 22:29:20 +0000"  >&lt;p&gt;I just published snapshots again using above technique. Let me see if I can get downstreamers to take a look.&lt;/p&gt;</comment>
                            <comment id="13684536" author="brocknoland" created="Sun, 16 Jun 2013 00:51:08 +0000"  >&lt;p&gt;Stack have you received any feedback on the hadoop2 artifact?&lt;/p&gt;</comment>
                            <comment id="13685877" author="stack" created="Mon, 17 Jun 2013 19:23:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; No sir.  I have deployed a hbase-hadoop2 SNAPSHOT but do not think it will work.  I believe downstreamers will still have the included hbase transitively include hadoop1 rather than hadoop2 going by the pom (see &lt;a href=&quot;http://search-hadoop.com/m/PHo512tP1po/pom+hadoop2+hbase&amp;amp;subj=Re+VOTE+hbase+0+95+1+release+candidate+1+is+available+for+download&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/PHo512tP1po/pom+hadoop2+hbase&amp;amp;subj=Re+VOTE+hbase+0+95+1+release+candidate+1+is+available+for+download&lt;/a&gt; for Nicolas&apos;s reporting this and then Elliott&apos;s workaround).  You have any input/opinion sir?&lt;/p&gt;</comment>
                            <comment id="13685923" author="brocknoland" created="Mon, 17 Jun 2013 20:14:07 +0000"  >&lt;p&gt;I have a pom which depends on the hadoop2 client jar:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.hbase&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;hbase-client&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;0.95.1-hadoop2-SNAPSHOT&amp;lt;/version&amp;gt;
  &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and it works fine if I specify -Dhadoop.profile=2.0&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[brock@bigboy hbase-client-hadoop2-example]$ mvn dependency:tree -Dhadoop.profile=2.0
...
[INFO] --- maven-dependency-plugin:2.1:tree (default-cli) @ hbase-client-hadoop2-example ---
[INFO] org.apache.hbase:hbase-client-hadoop2-example:jar:1.0
[INFO] \- org.apache.hbase:hbase-client:jar:0.95.1-hadoop2-SNAPSHOT:compile
...
[INFO]    +- org.apache.hadoop:hadoop-client:jar:2.0.2-alpha:compile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However if hadoop.profile is left off, then it pulls in 1.X. Should make hadoop.profile required?&lt;/p&gt;</comment>
                            <comment id="13685951" author="stack" created="Mon, 17 Jun 2013 20:40:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Good to know.  Thank you for trying.  Please explain more what you mean by &apos;Should make hadoop.profile required?&apos;?  You are saying you should not have to add this when building?  Specifying version hbase-0.95.1-hadoop2 should be enough?  I agree.&lt;/p&gt;</comment>
                            <comment id="13685971" author="brocknoland" created="Mon, 17 Jun 2013 20:54:41 +0000"  >&lt;p&gt;I agree that ideally specifying hbase-0.95.1-hadoop2 should be enough. If we can do that it&apos;d be awesome!&lt;/p&gt;

&lt;p&gt;Just throwing out ideas here...in the absence of that solution, maybe we should have no default hadoop.profile so that users of hadoop2 know they must specify -Dhaoop.profile=2.0 while users of hadoop1 must specify -Dhaoop.profile=1.0? It&apos;s a slight downgrade in terms of usability for 1.0 users but a step up in terms of usability for hadoop2 users.&lt;/p&gt;</comment>
                            <comment id="13686140" author="brocknoland" created="Mon, 17 Jun 2013 23:04:46 +0000"  >&lt;p&gt;Like you did with 0.95.X-SNAPSHOT, I don&apos;t suppose it would be possible to publish a hadoop1 and hadoop2 artifact for 0.94.X-SNAPSHOT?&lt;/p&gt;

&lt;p&gt;As hive uses Ivy the pom issues discussed above do not cause us problems, but 0.95 causes compile errors for Hive due to Put/Result not being a Writable and moving around of some exception classes.&lt;/p&gt;</comment>
                            <comment id="13704247" author="stack" created="Wed, 10 Jul 2013 06:01:03 +0000"  >&lt;p&gt;This issue I am using for figuring build against h1 and h2 and then publishing to mvn repo.&lt;/p&gt;</comment>
                            <comment id="13711716" author="apurtell" created="Wed, 17 Jul 2013 22:18:45 +0000"  >&lt;p&gt;We should simultaneously develop Bigtop packaging for HBase 0.96+. There are overlapping issues with what would be convenient for packaging (and user installs) and Maven publishing mechanics. Let&apos;s use &lt;a href=&quot;https://issues.apache.org/jira/browse/BIGTOP-1029&quot; title=&quot;Add support for HBase 0.96+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BIGTOP-1029&quot;&gt;&lt;del&gt;BIGTOP-1029&lt;/del&gt;&lt;/a&gt; and this issue as a bridge.&lt;/p&gt;</comment>
                            <comment id="13725026" author="stack" created="Wed, 31 Jul 2013 08:36:49 +0000"  >&lt;p&gt;So our poms in repo, even if local repo, include the compat.module variable. It is not being interpolated.  Here is a build of hbase against hadoop2 profile:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
durruti:hbase stack$ grep -r &apos;compat.module&apos; .
./hbase/0.95.2-SNAPSHOT/hbase-0.95.2-SNAPSHOT.pom:        &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase/0.95.2-SNAPSHOT/hbase-0.95.2-SNAPSHOT.pom:        &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase/0.95.2-SNAPSHOT/hbase-0.95.2-SNAPSHOT.pom:        &amp;lt;compat.module&amp;gt;hbase-hadoop1-compat&amp;lt;/compat.module&amp;gt;
./hbase/0.95.2-SNAPSHOT/hbase-0.95.2-SNAPSHOT.pom:        &amp;lt;!-- Need to set &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the Hadoop 1 compat module --&amp;gt;
./hbase/0.95.2-SNAPSHOT/hbase-0.95.2-SNAPSHOT.pom:        &amp;lt;compat.module&amp;gt;hbase-hadoop1-compat&amp;lt;/compat.module&amp;gt;
./hbase/0.95.2-SNAPSHOT/hbase-0.95.2-SNAPSHOT.pom:        &amp;lt;compat.module&amp;gt;hbase-hadoop2-compat&amp;lt;/compat.module&amp;gt;
./hbase-assembly/0.95.2-SNAPSHOT/hbase-assembly-0.95.2-SNAPSHOT.pom:        &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase-assembly/0.95.2-SNAPSHOT/hbase-assembly-0.95.2-SNAPSHOT.pom:        &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase-it/0.95.2-SNAPSHOT/hbase-it-0.95.2-SNAPSHOT.pom:          &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase-it/0.95.2-SNAPSHOT/hbase-it-0.95.2-SNAPSHOT.pom:          &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase-prefix-tree/0.95.2-SNAPSHOT/hbase-prefix-tree-0.95.2-SNAPSHOT.pom:      &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase-server/0.95.2-SNAPSHOT/hbase-server-0.95.2-SNAPSHOT.pom:      &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
./hbase-server/0.95.2-SNAPSHOT/hbase-server-0.95.2-SNAPSHOT.pom:      &amp;lt;artifactId&amp;gt;${compat.module}&amp;lt;/artifactId&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve been playing w/ replacing the above variable and then building w/ new poms. Here is my little script:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ hadoop=hadoop2; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; i in `find . -name pom.xml`; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; echo $i; fn=&lt;span class=&quot;code-quote&quot;&gt;&quot;pom.xml.${hadoop}&quot;&lt;/span&gt;; sed &lt;span class=&quot;code-quote&quot;&gt;&quot;s/\${compat.module}/hbase-${hadoop}-compat/;s/relativePath&amp;gt;\.\./..\/relativePatch&amp;gt;$fn/;s/\(module&amp;gt;[^&amp;lt;]*\)/\1\/$fn/&quot;&lt;/span&gt;  $i &amp;gt; $i.${hadoop}; done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This puts a file beside the original pom.xml named pom.xml.hadoop2.  This file has a couple of substitutions done on original pom (I tried to put it into target dir so I did not mod the original srcs but mvn wants the modules under it &amp;#8211; and then child modules want to ref the parent &amp;#8211; I suppose I could make this work w/ more hackery).&lt;/p&gt;

&lt;p&gt;Now building I do this:&lt;/p&gt;

&lt;p&gt;mvn clean install -DskipTests -Dhadoop.profile=2.0 -f pom.xml.hadoop2&lt;/p&gt;

&lt;p&gt;And repo seems better.&lt;/p&gt;

&lt;p&gt;My downstream project is failing still though it now no longer has hadoop1 on refernces or fail because it wants hadoop1 dependency.&lt;/p&gt;

&lt;p&gt;It is failing here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  4 -------------------------------------------------------------------------------
  3 Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.67 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
  2 testSpinUpMiniHBaseCluster(org.hbase.downstreamer.TestHBaseMiniCluster)  Time elapsed: 0.631 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
  1 java.lang.UnsupportedOperationException: Not implemented by the DistributedFileSystem FileSystem implementation
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... which uusually means I was compiled against wrong version....  Looking.&lt;/p&gt;</comment>
                            <comment id="13725633" author="stack" created="Wed, 31 Jul 2013 19:35:12 +0000"  >&lt;p&gt;The profile activation mess is biting us.  We will always pull in hadoop1 default in a downstream project even when built w/ custom hadoop2 pom.xml which hard codes our compatibility module at hadoop2, etc., because resultant module poms have two profiles and no profile means default hadoop.profile=1.0.&lt;/p&gt;

&lt;p&gt;Trying to hack about in downstream projects w/ excludes is awful; we shouldn&apos;t have downstreamers have to do this (could exlude hadoop1 everywhere and do explicit include of hadoop2 but it is awfully arcane).&lt;/p&gt;

&lt;p&gt;We cannot expect downstreamers specify a profile building: e.g. downstream projects &apos;work&apos; if we add -Dhadoop.profile=2.0 but that is again asking too much of downstreamers; they should just select the hbase jars they want and we should transitively include (caveat maven transitive include mechanism, especially regards test-jars is random seemingly).&lt;/p&gt;

&lt;p&gt;Given maven poms do not support xinclude and given that pom element duplication is rife already, I think I have to script -hadoop1 and -hadoop2 build/publication (unless anyone has better ideas).&lt;/p&gt;</comment>
                            <comment id="13725671" author="ndimiduk" created="Wed, 31 Jul 2013 20:20:50 +0000"  >&lt;p&gt;Is it too little too late to ask &quot;why do we do profile activation this way?&quot; Are we using profiles in a way that Maven doesn&apos;t intend?&lt;/p&gt;</comment>
                            <comment id="13725705" author="brocknoland" created="Wed, 31 Jul 2013 20:49:31 +0000"  >&lt;p&gt;FWIW, from a hive perspective, it looks like if the automatic profile activation was removed it would be easier for us.  Today when we ant to build with hadoop2, we need to set a system property which in ant, unlike maven, is not trivial. Since we are using the maven ant plugin I believe we could use artifact:pom:profile to simply activate the profile we&apos;d like at the appropriate time.&lt;/p&gt;</comment>
                            <comment id="13725738" author="enis" created="Wed, 31 Jul 2013 21:27:21 +0000"  >&lt;p&gt;The other approach would be to have two different poms for hadoop1 and hadoop2. There will be some duplication, but it will be clean in terms of profiles and dependencies. &lt;/p&gt;</comment>
                            <comment id="13725750" author="stack" created="Wed, 31 Jul 2013 21:44:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; Short answer, yes.  Our published poms have uninterpreted variables and a selection of profiles to choose defaulting to a hadoop1 if non-chosen.  Profiles are how you customize your build.  We want to customize the customization.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Thanks boss.  Let me see if can make it so default profile matches the -hadoop1 or -hadoop2 ending.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Yeah, that is the road I took last night using a script to generate pom.xml.hadoop1 and pom.xml.hadoop2 then building passing the particular pom w/ the -f flag.  Tricky parts are the fact that modules refer to parent and they also need to run the custom pom, there are lots of changes to make, and we are polluting our src tree.  Working on it.&lt;/p&gt;</comment>
                            <comment id="13726092" author="stack" created="Thu, 1 Aug 2013 06:14:41 +0000"  >&lt;p&gt;This patch includes latest over on hbase-8488 so ignore the changes to do w/ dependency inclusion and purge of slf4j for now (I&apos;ll fix up the patch later).&lt;/p&gt;

&lt;p&gt;Patch adds a script into dev-support called generate-hadoopX-poms.sh&lt;/p&gt;

&lt;p&gt;Run the script to generate a hadoop1 or hadoop2 pom from the original pom.  The new pom shows up to the side of the original.  Next build telling mvn to use this new pom.  This seems to generate artifacts that are w/o pollution: i.e. no need for downstreamer to add a -Dhadoop.profile=2.0, etc.&lt;/p&gt;

&lt;p&gt;I used this script to deploy new hbase-hadoop1 and hbase-hadoop2 snapshots up at &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hbase/hbase/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hbase/hbase/&lt;/a&gt; (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; &amp;#8211; you have a chance to take a look at them?).&lt;/p&gt;

&lt;p&gt;Here is roughly what you do to build artifacts to publish:&lt;/p&gt;

&lt;p&gt;$ bash -x ./dev-support/generate-hadoopX-poms.sh 0.95.2-SNAPSHOT 0.95.2-hadoop1-SNAPSHOT&lt;br/&gt;
$ $ mvn clean install deploy -DskipTests -Pgpg -f pom.xml.hadoop1&lt;/p&gt;

&lt;p&gt;The head of the script has more on how it works.&lt;/p&gt;

&lt;p&gt;I&apos;ll write it up better in the manual after I&apos;ve played some more (need to look at assembly&apos;s and at maven release).&lt;/p&gt;</comment>
                            <comment id="13726115" author="stack" created="Thu, 1 Aug 2013 06:35:18 +0000"  >&lt;p&gt;I updated my downstreamer w/ notes on dependencies.  Some should be coming in transitively and actually are if I poke w/ dependency:tree (e.g. hbase-hadoop-compat) but building there is strange metrics fail if I don&apos;t include explicitly.  The poms have notes on the listed dependencies.  See &lt;a href=&quot;https://github.com/saintstack/hbase-downstreamer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/saintstack/hbase-downstreamer&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13726557" author="brocknoland" created="Thu, 1 Aug 2013 16:02:39 +0000"  >&lt;p&gt;The patch is not complete, still cleanup and some items pending &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt;, but reviewers can provide feedback on the meat of the patch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D11913&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11913&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13726558" author="brocknoland" created="Thu, 1 Aug 2013 16:03:26 +0000"  >&lt;p&gt;Ignore that last comment. Wrong JIRA&lt;/p&gt;</comment>
                            <comment id="13726926" author="stack" created="Thu, 1 Aug 2013 21:34:04 +0000"  >&lt;p&gt;Adds script to generate hadoop1 and hadoop2 poms that have modules&lt;br/&gt;
and profiles appropriately set.&lt;/p&gt;

&lt;p&gt;Also cleaned up our dependency settings after review of dependency:tree&lt;br/&gt;
and dependency:analyze w/ hadoop1 and hadoop2 setups.&lt;/p&gt;

&lt;p&gt;Purged our use of slf4j.  We don&apos;t need it.&lt;/p&gt;

&lt;p&gt;A dev-support/generate-hadoopX-poms.sh&lt;br/&gt;
  Script to generate pom.xml.hadoop1 or pom.xml.hadoop2 everywhere&lt;br/&gt;
  which we pass to maven w/ -f flag when we want to publish coherent&lt;br/&gt;
  hbase-hadoop1 and hbase-hadoop2.&lt;/p&gt;

&lt;p&gt;M hbase-client/pom.xml&lt;br/&gt;
  Set marker string under hadoop1.1 profile.  Ditto for hadoop2 profile&lt;br/&gt;
  for use by above script so it can find where to set profiles.&lt;/p&gt;

&lt;p&gt;  Declare depenencies we were using anyways.&lt;/p&gt;

&lt;p&gt;M hbase-common/pom.xml&lt;br/&gt;
M hbase-examples/pom.xml&lt;br/&gt;
M hbase-prefix-tree/pom.xml&lt;br/&gt;
M hbase-it/pom.xml&lt;br/&gt;
M hbase-server/pom.xml&lt;br/&gt;
  Purge unused slf4js.&lt;/p&gt;

&lt;p&gt;  Declare depenencies we were using anyways.&lt;/p&gt;

&lt;p&gt;  Set marker string under hadoop1.1 profile.  Ditto for hadoop2 profile&lt;br/&gt;
  for use by above script so it can find where to set profiles.&lt;/p&gt;

&lt;p&gt;M hbase-common/src/main/java/org/apache/hadoop/hbase/util/JVM.java&lt;br/&gt;
  Remove unwarranted user of slf4j. Use our usual logging instead.&lt;/p&gt;

&lt;p&gt;M hbase-hadoop1-compat/pom.xml&lt;br/&gt;
M hbase-hadoop2-compat/pom.xml&lt;br/&gt;
  Moved the dependency up into parent pom rather than have it repeat&lt;br/&gt;
  twice, once here and once in hadoop2-compat.&lt;/p&gt;

&lt;p&gt;  Declare depenencies we were using anyways.&lt;/p&gt;

&lt;p&gt;M hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/HThreadedSelectorServerArgs.java&lt;br/&gt;
M hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;br/&gt;
  Use commons logging instead of slf4j.&lt;/p&gt;

&lt;p&gt;M pom.xml&lt;br/&gt;
  Added to dependencymanagement libs we were using already but undeclared.&lt;br/&gt;
  Removed our depnding on an explicit slf4j version &amp;#8211; let the transitive includes&lt;br/&gt;
  sort it out since we don&apos;t use it anymore.&lt;/p&gt;

&lt;p&gt;  Declare depenencies we were using anyways.&lt;/p&gt;

&lt;p&gt;  Add some excludes for stuff we don&apos;t need.&lt;/p&gt;

&lt;p&gt;  Set marker string under hadoop1.1 profile.  Ditto for hadoop2 profile&lt;br/&gt;
  for use by above script so it can find where to set profiles.&lt;/p&gt;</comment>
                            <comment id="13726927" author="stack" created="Thu, 1 Aug 2013 21:34:41 +0000"  >&lt;p&gt;Trying against hadoopqa.&lt;/p&gt;</comment>
                            <comment id="13726929" author="stack" created="Thu, 1 Aug 2013 21:35:51 +0000"  >&lt;p&gt;I tested building assemblies.  They seem to work.  Now let me try and use the mvn release plugin.  See what it thinks.&lt;/p&gt;</comment>
                            <comment id="13727018" author="hadoopqa" created="Thu, 1 Aug 2013 22:46:42 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12595489/8224.gen.scriptv3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12595489/8224.gen.scriptv3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6560//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13727151" author="stack" created="Fri, 2 Aug 2013 00:23:37 +0000"  >&lt;p&gt;Played w/ maven release plugin.  Updating my patch (I have to set into the pom, the name of the pom itself!!!!! for the release plugin).  Basically works.  Making a release, I&apos;ll operate on a copy of the release branch.  I&apos;ll need to replace the pom.xml w/ the pom.xml.hadoop1 or pom.xml.hadoop2 and check them into the tag (else release plugin&apos;s checkin of the updated release version on the end of the release:prepare fails &amp;#8211; we&apos;ll see).  Here are commands I used doing clean, prepare, and perform.  Will add the below to updated doc in refguide.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 2246  ~/bin/mvn/bin/mvn -f pom.xml.hadoop2  release:clean -Dproject.scm.developerConnection=&lt;span class=&quot;code-quote&quot;&gt;&quot;scm:svn:https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hbase/branches/testing_remove&quot;&lt;/span&gt; -DtagBase=&lt;span class=&quot;code-quote&quot;&gt;&quot;https://svn.apache.org/repos/asf/hbase/tags&quot;&lt;/span&gt; -DreleaseVersion=0.95.2-hadoop2 -DremoteTagging=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; -DsuppressCommitBeforeTag=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;  -DautoVersionSubmodules=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/span&gt; 2251  ~/bin/mvn/bin/mvn -f pom.xml.hadoop2  release:prepare -Dproject.scm.developerConnection=&lt;span class=&quot;code-quote&quot;&gt;&quot;scm:svn:https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hbase/branches/testing_remove&quot;&lt;/span&gt; -DtagBase=&lt;span class=&quot;code-quote&quot;&gt;&quot;https://svn.apache.org/repos/asf/hbase/tags&quot;&lt;/span&gt; -DreleaseVersion=0.95.2-hadoop2 -DremoteTagging=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; -DsuppressCommitBeforeTag=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;  -DautoVersionSubmodules=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -DcheckModificationExcludeList=&lt;span class=&quot;code-quote&quot;&gt;&quot;**pom.xml.*&quot;&lt;/span&gt;
&lt;/span&gt; 2252  ~/bin/mvn/bin/mvn -f pom.xml.hadoop2  release:perform -Dproject.scm.developerConnection=&lt;span class=&quot;code-quote&quot;&gt;&quot;scm:svn:https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hbase/branches/testing_remove&quot;&lt;/span&gt; -DtagBase=&lt;span class=&quot;code-quote&quot;&gt;&quot;https://svn.apache.org/repos/asf/hbase/tags&quot;&lt;/span&gt; -DreleaseVersion=0.95.2-hadoop2 -DremoteTagging=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; -DsuppressCommitBeforeTag=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;  -DautoVersionSubmodules=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -DcheckModificationExcludeList=&lt;span class=&quot;code-quote&quot;&gt;&quot;**pom.xml.*&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Some of the above config is redundant.  TBD.&lt;/p&gt;

&lt;p&gt;I&apos;d like to check in what I have so far.&lt;/p&gt;</comment>
                            <comment id="13727154" author="stack" created="Fri, 2 Aug 2013 00:26:39 +0000"  >&lt;p&gt;Same as v4 only have the script write into the generated pom, the name of the pom itself.&lt;/p&gt;</comment>
                            <comment id="13727233" author="stack" created="Fri, 2 Aug 2013 02:42:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Do the SNAPSHOTs work for you boss?&lt;/p&gt;</comment>
                            <comment id="13727300" author="hadoopqa" created="Fri, 2 Aug 2013 04:06:57 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12595528/8224v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12595528/8224v5.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6563//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13727784" author="brocknoland" created="Fri, 2 Aug 2013 16:33:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; yes it does seem to be working! Thx!!&lt;/p&gt;</comment>
                            <comment id="13727869" author="ndimiduk" created="Fri, 2 Aug 2013 17:49:23 +0000"  >&lt;p&gt;I&apos;m giving this a spin too. Will let you know what I find.&lt;/p&gt;

&lt;p&gt;What&apos;s with sneaking in the unrelated formatting changes in the v5 patch? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13727932" author="ndimiduk" created="Fri, 2 Aug 2013 18:31:02 +0000"  >&lt;p&gt;Green lights from me. I don&apos;t know the release plugin well enough to test that side out. Also, I saw your earlier comment about the other changes, so don&apos;t mind me.&lt;/p&gt;

&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="13727969" author="stack" created="Fri, 2 Aug 2013 19:08:41 +0000"  >&lt;p&gt;Thanks for the reviews lads and for trying out the product.  mvn release struggle is still an issue and I&apos;ll update the refguide as I run 0.95.2 so it is informed by an actual release.&lt;/p&gt;

&lt;p&gt;As to doing same for 0.94, I commented over on the 0.94-specific issue. It should be easier there to do same thing since not modularized.&lt;/p&gt;

&lt;p&gt;On packaging for bigtop, this should help.  Lets open new issue for any specifics needed.&lt;/p&gt;</comment>
                            <comment id="13728157" author="hudson" created="Fri, 2 Aug 2013 21:39:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #396 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/396/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/396/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string (stack: rev 1509811)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-common/src/main/java/org/apache/hadoop/hbase/util/JVM.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-hadoop1-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-prefix-tree/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/constraint/package-info.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/HThreadedSelectorServerArgs.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728178" author="hudson" created="Fri, 2 Aug 2013 21:57:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #649 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/649/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/649/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string (stack: rev 1509813)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/util/JVM.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop1-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-prefix-tree/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/constraint/package-info.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/HThreadedSelectorServerArgs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728182" author="hudson" created="Fri, 2 Aug 2013 21:58:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4334 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4334/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4334/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string (stack: rev 1509813)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/util/JVM.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop1-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-prefix-tree/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/constraint/package-info.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/HThreadedSelectorServerArgs.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728337" author="hudson" created="Sat, 3 Aug 2013 00:47:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #215 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/215/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string (stack: rev 1509811)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-common/src/main/java/org/apache/hadoop/hbase/util/JVM.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-hadoop1-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-prefix-tree/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/constraint/package-info.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/thrift/HThreadedSelectorServerArgs.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestMasterNoCluster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13732069" author="jmhsieh" created="Wed, 7 Aug 2013 14:51:59 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, the svn commit seems to be missing the dev-support scripts.  Can you or someone who tested it commit the correct version?&lt;/p&gt;</comment>
                            <comment id="13732291" author="sershe" created="Wed, 7 Aug 2013 18:38:12 +0000"  >&lt;p&gt;Do you guys want to populate release notes, so that the potential consumers of these who were not involved in the JIRA could understand what changed? Thanks&lt;/p&gt;</comment>
                            <comment id="13732603" author="stack" created="Wed, 7 Aug 2013 19:18:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt; Sorry about that.  Fixed.  Let me add release note too (doc is to follow when I exercise first release using this script).&lt;/p&gt;</comment>
                            <comment id="13732733" author="hudson" created="Wed, 7 Aug 2013 20:59:28 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4352 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4352/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4352/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string; ADD MISSED FILE (stack: rev 1511444)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/dev-support/generate-hadoopX-poms.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13732898" author="hudson" created="Wed, 7 Aug 2013 23:08:01 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95 #413 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/413/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/413/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string (stack: rev 1511443)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/dev-support/generate-hadoopX-poms.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13732924" author="stack" created="Wed, 7 Aug 2013 23:30:03 +0000"  >&lt;p&gt;Reclosing after adding missing file and filling in the release note.  Reopen again if I have it wrong.&lt;/p&gt;</comment>
                            <comment id="13733007" author="hudson" created="Thu, 8 Aug 2013 00:48:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.95-on-hadoop2 #223 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/223/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/223/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string (stack: rev 1511443)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/dev-support/generate-hadoopX-poms.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13733042" author="hudson" created="Thu, 8 Aug 2013 01:40:54 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #656 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/656/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/656/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8224&quot; title=&quot;Publish hbase build against h1 and h2 adding &amp;#39;-hadoop1&amp;#39; or &amp;#39;-hadoop2&amp;#39; to version string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8224&quot;&gt;&lt;del&gt;HBASE-8224&lt;/del&gt;&lt;/a&gt; Publish hbase build against h1 and h2 adding &apos;-hadoop1&apos; or &apos;-hadoop2&apos; to version string; ADD MISSED FILE (stack: rev 1511444)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/dev-support/generate-hadoopX-poms.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12610016">HBASE-6929</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12643803">HIVE-4388</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12645915">HBASE-8488</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12658402">BIGTOP-1029</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12576202" name="8224-adding.classifiers.txt" size="2270" author="stack" created="Fri, 29 Mar 2013 23:54:31 +0000"/>
                            <attachment id="12595358" name="8224.gen.script.txt" size="28727" author="stack" created="Thu, 1 Aug 2013 06:14:41 +0000"/>
                            <attachment id="12595489" name="8224.gen.scriptv3.txt" size="53360" author="stack" created="Thu, 1 Aug 2013 21:34:04 +0000"/>
                            <attachment id="12595488" name="8224.gen.scriptv3.txt" size="54761" author="stack" created="Thu, 1 Aug 2013 21:34:04 +0000"/>
                            <attachment id="12595528" name="8224v5.txt" size="54129" author="stack" created="Fri, 2 Aug 2013 00:26:39 +0000"/>
                            <attachment id="12576458" name="hbase-8224-proto1.patch" size="1711" author="enis" created="Mon, 1 Apr 2013 23:39:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 30 Mar 2013 01:53:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j9t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>When we publish artifacts, we add a -hadoop1 or -hadoop2 to the version to distingush hbase compiled against hadoop1 from that compiled against hadoop2.  This issue adds a script that runs against checked out poms to derive poms that have the -hadoop1 or -hadoop2 modification made and they add/remove to the poms the appropriate set of modules to bundle.  See refguide for final doc on how to make use of this script building (TODO); refguide will replace the notes here.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>