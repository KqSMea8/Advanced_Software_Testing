<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:25:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11622/HBASE-11622.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11622] completebulkload/loadIncrementalHFiles cannot specify table with namespace</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11622</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;m using completebulkload to load 500GB of data to a table (presplitted). However, it reports the following errors:&lt;/p&gt;

&lt;p&gt;Looks like completebulkload didn&apos;t recognize the namespace part (namespace:table).&lt;/p&gt;

&lt;p&gt;Caused by: java.net.URISyntaxException: Relative path in absolute URI: grapple:vertices,37.bottom&lt;br/&gt;
        at java.net.URI.checkPath(URI.java:1804)&lt;br/&gt;
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:752)&lt;br/&gt;
        at org.apache.hadoop.fs.Path.initialize(Path.java:203)&lt;/p&gt;

&lt;p&gt;By looking at the source code of LoadIncrementalHFiles.java, it seems the temporary path created for splitting will contain &apos;:&apos;,&lt;/p&gt;

&lt;p&gt;The error part should be this:&lt;br/&gt;
String uniqueName = getUniqueName(table.getName());&lt;br/&gt;
    HColumnDescriptor familyDesc = table.getTableDescriptor().getFamily(item.family);&lt;br/&gt;
    Path botOut = new Path(tmpDir, uniqueName + &quot;.bottom&quot;);&lt;br/&gt;
    Path topOut = new Path(tmpDir, uniqueName + &quot;.top&quot;);&lt;br/&gt;
    splitStoreFile(getConf(), hfilePath, familyDesc, splitKey,&lt;br/&gt;
        botOut, topOut);&lt;/p&gt;

&lt;p&gt;uniqueName will be &quot;namespce:table&quot; so &quot;new Path(...)&quot; will fail.&lt;/p&gt;

&lt;p&gt;A bug?&lt;/p&gt;

&lt;p&gt;P.S.&lt;br/&gt;
Comment from Matteo Bertozzi:&lt;/p&gt;

&lt;p&gt;we don&apos;t need the name to be related to the table name.&lt;br/&gt;
We can replace the getUniqueName() using something like this&lt;/p&gt;

&lt;p&gt;  String getUniqueName(TableName tableName) &lt;/p&gt;
{
    String name = UUID.randomUUID().toString().replaceAll(&quot;-&quot;, &quot;&quot;) +
                  &quot;,&quot; + regionCount.incrementAndGet();
    return name;
  }</description>
                <environment></environment>
        <key id="12730971">HBASE-11622</key>
            <summary>completebulkload/loadIncrementalHFiles cannot specify table with namespace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="huangjs">Jianshi Huang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jul 2014 02:01:52 +0000</created>
                <updated>Thu, 31 Jul 2014 14:22:14 +0000</updated>
                            <resolved>Thu, 31 Jul 2014 02:31:59 +0000</resolved>
                                    <version>0.98.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12730580">HBASE-11609</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ydov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>