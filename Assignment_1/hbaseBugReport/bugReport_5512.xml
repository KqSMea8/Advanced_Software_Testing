<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:28:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5512/HBASE-5512.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5512] Add support for INCLUDE_AND_SEEK_USING_HINT</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5512</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This came up from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2038&quot; title=&quot;Coprocessors: Region level indexing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2038&quot;&gt;&lt;del&gt;HBASE-2038&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
From Anoop:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;What we wanted from the filter is include a row and then seek to the next row which we are interested in. I cant see such a facility with our Filter right now. Correct me if I am wrong. So suppose we already seeked to one row and this need to be included in the result, then the Filter should return INCLUDE. Then when the next next() call happens, then only we can return a SEEK_USING_HINT. So one extra row reading is needed. This might create even one unwanted HFileBlock fetch (who knows).&lt;br/&gt;
Can we add reseek() at higher level?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;From Lars:&lt;br/&gt;
Yep, for that we&apos;d need to add INCLUDE_AND_SEEK_USING_HINT (similar to the INCLUDE_AND_SEEK_NEXT_ROW that we already have). Shouldn&apos;t be hard to add, I&apos;m happy to do that, if that&apos;s the route we want to go with this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12544977">HBASE-5512</key>
            <summary>Add support for INCLUDE_AND_SEEK_USING_HINT</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zhihyu@ebaysf.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2012 19:20:47 +0000</created>
                <updated>Wed, 15 Jan 2014 21:58:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2012 07:10:27 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13221219" author="lhofhansl" created="Fri, 2 Mar 2012 19:59:31 +0000"  >&lt;p&gt;I misspoke slightly. Filters can only return INCLUDE, SKIP, NEXT_COL, NEXT_ROW, and SEEK_NEXT_USING_HINT.&lt;br/&gt;
ColumnTrackerd have the additional options of INCLUDE_AND_XXX.&lt;/p&gt;</comment>
                            <comment id="13221401" author="lhofhansl" created="Sat, 3 Mar 2012 01:03:01 +0000"  >&lt;p&gt;Working on a test.&lt;/p&gt;</comment>
                            <comment id="13221409" author="lhofhansl" created="Sat, 3 Mar 2012 01:12:09 +0000"  >&lt;p&gt;Not ready (especially the test)... just storing the patch here.&lt;/p&gt;</comment>
                            <comment id="13221559" author="anoopsamjohn" created="Sat, 3 Mar 2012 11:36:27 +0000"  >&lt;p&gt;ScanQueryMatcher:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (filterResponse == ReturnCode.INCLUDE_AND_SEEK_NEXT_USING_HINT) {
+        
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You need make filterSeek=true? &lt;/p&gt;</comment>
                            <comment id="13221638" author="ram_krish" created="Sat, 3 Mar 2012 16:54:53 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
First of all thanks for the patch Lars.&lt;br/&gt;
Anoop and myself were planning to work on this.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13221760" author="lhofhansl" created="Sun, 4 Mar 2012 01:13:59 +0000"  >&lt;p&gt;@Anoop: Good observation &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (As I said I just needed to store the partial patch somewhere).&lt;br/&gt;
@Ram: Sure. Would you prefer to continue to work on this?&lt;/p&gt;

&lt;p&gt;Also see last comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2038&quot; title=&quot;Coprocessors: Region level indexing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2038&quot;&gt;&lt;del&gt;HBASE-2038&lt;/del&gt;&lt;/a&gt;. Not entirely sure how much mileage we get from this.&lt;/p&gt;</comment>
                            <comment id="13221778" author="lhofhansl" created="Sun, 4 Mar 2012 03:40:21 +0000"  >&lt;p&gt;This version should work.&lt;br/&gt;
(but see caveats raised before)&lt;/p&gt;</comment>
                            <comment id="13221915" author="zhihyu@ebaysf.com" created="Sun, 4 Mar 2012 15:22:44 +0000"  >&lt;p&gt;CustomIncludeAndNextUsingHintFilter.java misses license and class javadoc.&lt;br/&gt;
In ScanQueryMatcher.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; filterSeek = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can the above variable be named such that the name reflects semantics for INCLUDE_AND_NEXT_USING_HINT ?&lt;br/&gt;
That would make understanding the following code easier:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (filterSeek) {
+      &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;(colChecker) {
+      &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; INCLUDE:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13221917" author="zhihyu@ebaysf.com" created="Sun, 4 Mar 2012 15:28:55 +0000"  >&lt;p&gt;For CustomIncludeAndNextUsingHintFilter.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; KeyValue getNextKeyHint(KeyValue kv) {
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (count &amp;gt;= seekHints.length) 
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Braces should be added around return.&lt;/p&gt;</comment>
                            <comment id="13221926" author="hadoopqa" created="Sun, 4 Mar 2012 16:13:46 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12516970/5512-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12516970/5512-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -129 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 154 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1091//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1091//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1091//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1091//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1091//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1091//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13222180" author="lhofhansl" created="Mon, 5 Mar 2012 06:35:55 +0000"  >&lt;p&gt;Let&apos;s wait for more input in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2038&quot; title=&quot;Coprocessors: Region level indexing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2038&quot;&gt;&lt;del&gt;HBASE-2038&lt;/del&gt;&lt;/a&gt;. I&apos;m feeling half way inclined to -1 my own patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Imagine we wanted to add INCLUDE_AND_NEXT_ROW as well as INCLUDE_AND_NEXT_COL to filter. These outcomes would have to merged with whatever the colum tracker returns.&lt;br/&gt;
It&apos;s not complicated, but will make the code hard to read with questionable gain (as I say in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2038&quot; title=&quot;Coprocessors: Region level indexing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2038&quot;&gt;&lt;del&gt;HBASE-2038&lt;/del&gt;&lt;/a&gt;). I think Anoop wants to do some performance testing.&lt;/p&gt;</comment>
                            <comment id="13222290" author="anoopsamjohn" created="Mon, 5 Mar 2012 12:08:20 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
      As u said under HBASE_2038 I dont think we can use this way to do the IHBase work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  Mainly how the filter can return INCLUDE_AND_SEEK..   WHat we wanted ideally is at the row level say include this row and seek to next row. But any way at row level the filter contains boolean return either include the row or not.&lt;/p&gt;

&lt;p&gt;I feel making an attempt to support the seek() reseek() at the region scanner level..&lt;/p&gt;</comment>
                            <comment id="13225902" author="lhofhansl" created="Fri, 9 Mar 2012 07:10:28 +0000"  >&lt;p&gt;Marking as won&apos;t fix, as we now question the usefulnes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516970" name="5512-v2.txt" size="6404" author="lhofhansl" created="Sun, 4 Mar 2012 03:40:19 +0000"/>
                            <attachment id="12516917" name="5512.txt" size="5992" author="lhofhansl" created="Sat, 3 Mar 2012 01:12:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Mar 2012 19:59:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230163</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0htkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102052</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>