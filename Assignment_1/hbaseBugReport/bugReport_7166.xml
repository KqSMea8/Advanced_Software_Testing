<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:43:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7166/HBASE-7166.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7166] TestSplitTransactionOnCluster tests are flaky</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7166</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There&apos;s a variety of tests in this class that fail occasionally.&lt;br/&gt;
I think this is caused by incorrect waiting for the split to finish.&lt;/p&gt;

&lt;p&gt;The local split method in the test does not wait until both daughters are online, and in some tests there&apos;s an assert following immediately that the two daughters exist.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616186">HBASE-7166</key>
            <summary>TestSplitTransactionOnCluster tests are flaky</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Nov 2012 04:39:09 +0000</created>
                <updated>Tue, 26 Feb 2013 08:23:08 +0000</updated>
                            <resolved>Thu, 15 Nov 2012 22:24:08 +0000</resolved>
                                                    <fixVersion>0.94.4</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                            <comments>
                            <comment id="13497761" author="lhofhansl" created="Thu, 15 Nov 2012 04:51:24 +0000"  >&lt;p&gt;There appear to be different attempts to fix this. Some in trunk only, and slightly different in different tests.&lt;/p&gt;</comment>
                            <comment id="13497790" author="lhofhansl" created="Thu, 15 Nov 2012 06:05:02 +0000"  >&lt;p&gt;Is this test known to have problems with (Open)Jdk7? It seems I cannot run this test at all at home in 0.94.&lt;/p&gt;</comment>
                            <comment id="13497811" author="lhofhansl" created="Thu, 15 Nov 2012 07:01:58 +0000"  >&lt;p&gt;Here&apos;s a 0.94 patch, that just waits a bit for the split to finish. Waits up to 10s, which should be good enough.&lt;br/&gt;
(Tested on my work machine with JDK 6)&lt;/p&gt;</comment>
                            <comment id="13498187" author="lhofhansl" created="Thu, 15 Nov 2012 18:12:22 +0000"  >&lt;p&gt;Here&apos;s a 0.96 patch.&lt;br/&gt;
I ran TestSplitTransactionOnCluster locally.&lt;/p&gt;</comment>
                            <comment id="13498194" author="lhofhansl" created="Thu, 15 Nov 2012 18:18:03 +0000"  >&lt;p&gt;Oops. Didn&apos;t save a file.&lt;/p&gt;</comment>
                            <comment id="13498215" author="lhofhansl" created="Thu, 15 Nov 2012 18:34:56 +0000"  >&lt;p&gt;This one fixes yet another race where a ZK node does not disappear in time.&lt;/p&gt;

&lt;p&gt;I think these changes are uncontroversial. Will commit soon, unless there are objections.&lt;/p&gt;</comment>
                            <comment id="13498223" author="lhofhansl" created="Thu, 15 Nov 2012 18:37:57 +0000"  >&lt;p&gt;Same for 0.94&lt;/p&gt;</comment>
                            <comment id="13498260" author="yuzhihong@gmail.com" created="Thu, 15 Nov 2012 19:21:36 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;HRegion&amp;gt; assertDaughters(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] tableName)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I wouldn&apos;t expect an assertion to return a List. Rename the method to getDaughters() ?&lt;/p&gt;</comment>
                            <comment id="13498284" author="lhofhansl" created="Thu, 15 Nov 2012 19:56:05 +0000"  >&lt;p&gt;It does assert in that method, though.&lt;br/&gt;
Happy to change the name on commit. Fine otherwise?&lt;/p&gt;</comment>
                            <comment id="13498290" author="yuzhihong@gmail.com" created="Thu, 15 Nov 2012 19:59:37 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(1000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Would suggest shortening the sleep interval. You can increase number of iterations if 10 second wait is needed.&lt;/p&gt;</comment>
                            <comment id="13498392" author="lhofhansl" created="Thu, 15 Nov 2012 22:16:06 +0000"  >&lt;p&gt;Fair enough... Going to commit with Ted suggestions. Thanks Ted.&lt;/p&gt;</comment>
                            <comment id="13498401" author="lhofhansl" created="Thu, 15 Nov 2012 22:23:53 +0000"  >&lt;p&gt;*v3 is what I committed.&lt;br/&gt;
Hopefully this will decrease the failure rate of these tests.&lt;/p&gt;</comment>
                            <comment id="13498402" author="lhofhansl" created="Thu, 15 Nov 2012 22:24:08 +0000"  >&lt;p&gt;Committed to 0.94 and 0.96&lt;/p&gt;</comment>
                            <comment id="13498480" author="hudson" created="Fri, 16 Nov 2012 00:43:32 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3548 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3548/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3548/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7166&quot; title=&quot;TestSplitTransactionOnCluster tests are flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7166&quot;&gt;&lt;del&gt;HBASE-7166&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster tests are flaky (Revision 1410060)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13498512" author="hudson" created="Fri, 16 Nov 2012 01:26:16 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #595 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/595/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7166&quot; title=&quot;TestSplitTransactionOnCluster tests are flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7166&quot;&gt;&lt;del&gt;HBASE-7166&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster tests are flaky (Revision 1410064)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13498516" author="hudson" created="Fri, 16 Nov 2012 01:31:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #263 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/263/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/263/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7166&quot; title=&quot;TestSplitTransactionOnCluster tests are flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7166&quot;&gt;&lt;del&gt;HBASE-7166&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster tests are flaky (Revision 1410060)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13498542" author="lhofhansl" created="Fri, 16 Nov 2012 02:19:57 +0000"  >&lt;p&gt;Yeah baby, the first successful jenkins run in trunk since almost 30 builds!&lt;br/&gt;
(0.94 failed on something else &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13498596" author="stack" created="Fri, 16 Nov 2012 04:20:04 +0000"  >&lt;p&gt;/me sweet!&lt;/p&gt;</comment>
                            <comment id="13529455" author="hudson" created="Tue, 11 Dec 2012 23:08:28 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #86 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/86/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/86/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7166&quot; title=&quot;TestSplitTransactionOnCluster tests are flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7166&quot;&gt;&lt;del&gt;HBASE-7166&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster tests are flaky (Revision 1410064)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13544480" author="hudson" created="Sat, 5 Jan 2013 00:42:43 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #10 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7166&quot; title=&quot;TestSplitTransactionOnCluster tests are flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7166&quot;&gt;&lt;del&gt;HBASE-7166&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster tests are flaky (Revision 1410064)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12553680" name="7166-0.94-v2.txt" size="4190" author="lhofhansl" created="Thu, 15 Nov 2012 18:37:57 +0000"/>
                            <attachment id="12553707" name="7166-0.94-v3.txt" size="4235" author="lhofhansl" created="Thu, 15 Nov 2012 22:23:53 +0000"/>
                            <attachment id="12553626" name="7166-0.94.txt" size="3542" author="lhofhansl" created="Thu, 15 Nov 2012 07:01:58 +0000"/>
                            <attachment id="12553676" name="7166-trunk-v2.txt" size="4686" author="lhofhansl" created="Thu, 15 Nov 2012 18:34:56 +0000"/>
                            <attachment id="12553706" name="7166-trunk-v3.txt" size="4731" author="lhofhansl" created="Thu, 15 Nov 2012 22:20:17 +0000"/>
                            <attachment id="12553670" name="7166-trunk.txt" size="4048" author="lhofhansl" created="Thu, 15 Nov 2012 18:18:03 +0000"/>
                            <attachment id="12553668" name="7166-trunk.txt" size="3644" author="lhofhansl" created="Thu, 15 Nov 2012 18:12:22 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12625158">HBASE-7431</subtask>
                            <subtask id="12625288">HBASE-7438</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Nov 2012 19:21:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kkyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>