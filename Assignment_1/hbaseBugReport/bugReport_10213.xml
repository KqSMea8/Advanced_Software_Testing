<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:11:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10213/HBASE-10213.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10213] Add read log size per second metrics for replication source</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10213</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The current metrics of replication source contain logEditsReadRate, shippedBatchesRate, etc, which could indicate how fast the data replicated to peer cluster to some extent. However, it is not clear enough to know how many bytes replicating to peer cluster from these metrics. In production environment, it may be important to know the size of replicating data per second because the services may be affected if the network become busy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685768">HBASE-10213</key>
            <summary>Add read log size per second metrics for replication source</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cuijianwei">Jianwei Cui</assignee>
                                    <reporter username="cuijianwei">Jianwei Cui</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2013 09:34:06 +0000</created>
                <updated>Sat, 21 Feb 2015 23:29:00 +0000</updated>
                            <resolved>Tue, 7 Jan 2014 22:15:26 +0000</resolved>
                                    <version>0.94.14</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.99.0</fixVersion>
                                    <component>metrics</component>
                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13853818" author="cuijianwei" created="Fri, 20 Dec 2013 09:37:16 +0000"  >&lt;p&gt;This patch adds a metric &apos;logReadRateInByte&apos; to show how many bytes read by the source per second.&lt;/p&gt;</comment>
                            <comment id="13853941" author="hadoopqa" created="Fri, 20 Dec 2013 13:07:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12619783/HBASE-10213-0.94-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12619783/HBASE-10213-0.94-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12619783&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8242//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8242//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13854189" author="apurtell" created="Fri, 20 Dec 2013 17:16:23 +0000"  >&lt;p&gt;To get a good HadoopQA result, it will need a patch against trunk. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
index 3831bba..8315c3a 100644
--- src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java
+++ src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java
@@ -458,6 +458,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class ReplicationSource &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException{
     &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; seenEntries = 0;
     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.repLogReader.seek();
+    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; persitionBeforeRead = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.repLogReader.getPosition();
     HLog.Entry entry =
         &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.repLogReader.readNextAndSetPosition();
     &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (entry != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&quot;persitionBeforeRead&quot; should be &quot;positionBeforeRead&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
index da0905c..e32a3bc 100644
--- src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceMetrics.java
+++ src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSourceMetrics.java
@@ -66,6 +66,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class ReplicationSourceMetrics &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Updater {
    */
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MetricsIntValue sizeOfLogQueue =
       &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsIntValue(&lt;span class=&quot;code-quote&quot;&gt;&quot;sizeOfLogQueue&quot;&lt;/span&gt;, registry);
+  
+  /** Rate of log entries read by the source */
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MetricsRate logReadRateInByte = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsRate(&lt;span class=&quot;code-quote&quot;&gt;&quot;logReadRateInByte&quot;&lt;/span&gt;, registry);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The usual convention for names with units is to pluralize the unit, so &quot;logReadRateInBytes&quot;&lt;/p&gt;</comment>
                            <comment id="13856107" author="cuijianwei" created="Tue, 24 Dec 2013 04:03:28 +0000"  >&lt;p&gt;Thanks for your comment &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;. I update the patch for 0.94 and add a patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13856163" author="hadoopqa" created="Tue, 24 Dec 2013 05:44:29 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12620302/HBASE-10213-trunk-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12620302/HBASE-10213-trunk-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12620302&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8277//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13856445" author="apurtell" created="Tue, 24 Dec 2013 20:11:20 +0000"  >&lt;p&gt;lgtm, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13859232" author="eclark" created="Tue, 31 Dec 2013 01:25:50 +0000"  >&lt;p&gt;+1 I need to go and make these not use the HashMap but this follows what&apos;s there now.&lt;/p&gt;</comment>
                            <comment id="13859239" author="yuzhihong@gmail.com" created="Tue, 31 Dec 2013 01:35:37 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Jianwei.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;: Do you want this in 0.98 ?&lt;/p&gt;</comment>
                            <comment id="13859281" author="apurtell" created="Tue, 31 Dec 2013 02:59:20 +0000"  >&lt;p&gt;Committed to 0.98. Thanks Ted.&lt;/p&gt;

&lt;p&gt;I fixed a spelling error on commit. Attached is an addendum for trunk to match what went into 0.98. I committed this trivial change to trunk using CTR as r1554361.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;: We can close this after a decision on 0.96 and 0.94. Almost feel bad pinging you, should be no big deal.&lt;/p&gt;</comment>
                            <comment id="13859282" author="yuzhihong@gmail.com" created="Tue, 31 Dec 2013 03:03:07 +0000"  >&lt;p&gt;Thanks for the catch, Andy.&lt;/p&gt;

&lt;p&gt;It would be not so good if a public method has spelling mistake.&lt;/p&gt;</comment>
                            <comment id="13859284" author="cuijianwei" created="Tue, 31 Dec 2013 03:15:07 +0000"  >&lt;p&gt;Thanks for the comment &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt;. I should pay more attention on spelling.&lt;/p&gt;</comment>
                            <comment id="13859321" author="hudson" created="Tue, 31 Dec 2013 04:13:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4770 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4770/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4770/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10213&quot; title=&quot;Add read log size per second metrics for replication source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10213&quot;&gt;&lt;del&gt;HBASE-10213&lt;/del&gt;&lt;/a&gt; Add read log size per second metrics for replication source (tedyu: rev 1554347)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13859339" author="hudson" created="Tue, 31 Dec 2013 05:15:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #46 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/46/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/46/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10213&quot; title=&quot;Add read log size per second metrics for replication source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10213&quot;&gt;&lt;del&gt;HBASE-10213&lt;/del&gt;&lt;/a&gt;. Add read log size per second metrics for replication source (cuijianwei) (apurtell: rev 1554359)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13859359" author="hudson" created="Tue, 31 Dec 2013 06:17:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4771 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4771/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4771/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10213&quot; title=&quot;Add read log size per second metrics for replication source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10213&quot;&gt;&lt;del&gt;HBASE-10213&lt;/del&gt;&lt;/a&gt;. Spelling fix for method o.a.h.h.replication.regionserver.MetricsSource#incrLogReadInBytes (apurtell: rev 1554361)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13859458" author="hudson" created="Tue, 31 Dec 2013 11:58:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #30 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/30/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/30/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10213&quot; title=&quot;Add read log size per second metrics for replication source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10213&quot;&gt;&lt;del&gt;HBASE-10213&lt;/del&gt;&lt;/a&gt;. Spelling fix for method o.a.h.h.replication.regionserver.MetricsSource#incrLogReadInBytes (apurtell: rev 1554361)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10213&quot; title=&quot;Add read log size per second metrics for replication source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10213&quot;&gt;&lt;del&gt;HBASE-10213&lt;/del&gt;&lt;/a&gt; Add read log size per second metrics for replication source (tedyu: rev 1554347)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13859805" author="hudson" created="Wed, 1 Jan 2014 00:43:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #44 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/44/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/44/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10213&quot; title=&quot;Add read log size per second metrics for replication source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10213&quot;&gt;&lt;del&gt;HBASE-10213&lt;/del&gt;&lt;/a&gt;. Add read log size per second metrics for replication source (cuijianwei) (apurtell: rev 1554359)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/MetricsSource.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.98/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13864755" author="apurtell" created="Tue, 7 Jan 2014 22:15:26 +0000"  >&lt;p&gt;This has been committed to trunk and 0.98 and this issue is now just sitting here unresolved. Resolving. Reopen for commit to another branch or open a new JIRA for a backport at your option.&lt;/p&gt;</comment>
                            <comment id="13877435" author="fenghh" created="Tue, 21 Jan 2014 12:38:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;However, it is not clear enough to know how many bytes replicating to peer cluster from these metrics. In production environment, it may be important to know the size of replicating data per second&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;the intention of this jira is good&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, but by examining the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;metrics.incrLogReadInByes(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.repLogReader.getPosition() - positionBeforeRead);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the metric above only reflects the log read/parse rate, not the desired replicating data to peer cluster rate, since the read/parsed log files may contain many kvs from column-families with replication scope=0 which will be filtered out and removed from the entries list before the real replicating to peer cluster occurs...&lt;br/&gt;
why not use currentSize, the size of all entries which will be really replicated to the peer cluster?&lt;/p&gt;</comment>
                            <comment id="13877443" author="cuijianwei" created="Tue, 21 Jan 2014 13:16:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fenghh&quot; class=&quot;user-hover&quot; rel=&quot;fenghh&quot;&gt;Honghua Feng&lt;/a&gt;, thanks for your comment. We need to consider the filtered kvs when computing how much data replicate to peer cluster. The &apos;logReadRateInByte&apos; only computes how much we read from HLog in source cluster. Maybe, we only another metrics such as &apos;logReplicateRateInByte&apos;?&lt;/p&gt;</comment>
                            <comment id="14330509" author="enis" created="Sat, 21 Feb 2015 23:29:00 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12620900" name="10213-trunk-addendum-1.patch" size="1428" author="apurtell" created="Tue, 31 Dec 2013 02:59:29 +0000"/>
                            <attachment id="12619783" name="HBASE-10213-0.94-v1.patch" size="2349" author="cuijianwei" created="Fri, 20 Dec 2013 09:37:16 +0000"/>
                            <attachment id="12620301" name="HBASE-10213-0.94-v2.patch" size="2351" author="cuijianwei" created="Tue, 24 Dec 2013 04:03:28 +0000"/>
                            <attachment id="12620302" name="HBASE-10213-trunk-v1.patch" size="3033" author="cuijianwei" created="Tue, 24 Dec 2013 04:03:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Dec 2013 13:07:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qw9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>