<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7981/HBASE-7981.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7981] TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7981</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/11/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testShutdownFixupWhenDaughterHasSplit/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/11/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testShutdownFixupWhenDaughterHasSplit/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hard to tell which region is missing post crash.  Not logged.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634985">HBASE-7981</key>
            <summary>TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Mar 2013 21:01:11 +0000</created>
                <updated>Mon, 23 Sep 2013 18:23:55 +0000</updated>
                            <resolved>Thu, 7 Mar 2013 05:38:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13591520" author="stack" created="Sat, 2 Mar 2013 21:03:32 +0000"  >&lt;p&gt;Added logging to test that failed.&lt;/p&gt;</comment>
                            <comment id="13591525" author="stack" created="Sat, 2 Mar 2013 21:25:07 +0000"  >&lt;p&gt;A different test in TestSplitTransactionOnCluster failed in build #7 &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/7/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testShouldThrowIOExceptionIfStoreFileSizeIsEmptyAndSHouldSuccessfullyExecuteRollback/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/7/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testShouldThrowIOExceptionIfStoreFileSizeIsEmptyAndSHouldSuccessfullyExecuteRollback/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13591528" author="stack" created="Sat, 2 Mar 2013 21:27:01 +0000"  >&lt;p&gt;More logging in the second test so can see why the move was not acted on.&lt;/p&gt;</comment>
                            <comment id="13591530" author="stack" created="Sat, 2 Mar 2013 21:28:38 +0000"  >&lt;p&gt;Committed both of these patches to 0.95 and to trunk so next time fail happens can see more info.&lt;/p&gt;</comment>
                            <comment id="13591606" author="hudson" created="Sun, 3 Mar 2013 02:45:46 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #12 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; ADDED LOGGING (Revision 1451944)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 (Revision 1451942)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13591632" author="hudson" created="Sun, 3 Mar 2013 04:35:55 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #428 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/428/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/428/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; ADDED LOGGING (Revision 1451945)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13591633" author="hudson" created="Sun, 3 Mar 2013 04:41:53 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3909 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3909/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3909/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; ADDED LOGGING (Revision 1451945)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13593752" author="stack" created="Tue, 5 Mar 2013 18:48:08 +0000"  >&lt;p&gt;I committed this extra debug to 0.95.&lt;/p&gt;</comment>
                            <comment id="13593755" author="stack" created="Tue, 5 Mar 2013 18:49:23 +0000"  >&lt;p&gt;It failed in &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/24/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testShutdownFixupWhenDaughterHasSplit/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/24/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testShutdownFixupWhenDaughterHasSplit/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Adding more logging to trunk and 0.95.  Add logging of regions that are present post-crash (we see there are three regions pre-crash; post-crash there are four.... my guess is that the test needs to just allow that &lt;/p&gt;</comment>
                            <comment id="13593832" author="hudson" created="Tue, 5 Mar 2013 19:53:11 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #26 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/26/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/26/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; MORE DEBUG (Revision 1452940)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13593965" author="hudson" created="Tue, 5 Mar 2013 21:57:26 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3915 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3915/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3915/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; MORE DEBUG (Revision 1452941)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13594226" author="hudson" created="Wed, 6 Mar 2013 01:50:20 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #431 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/431/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/431/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; MORE DEBUG (Revision 1452941)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13594240" author="hudson" created="Wed, 6 Mar 2013 02:02:00 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #12 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7981&quot; title=&quot;TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7981&quot;&gt;&lt;del&gt;HBASE-7981&lt;/del&gt;&lt;/a&gt; TestSplitTransactionOnCluster.testShutdownFixupWhenDaughterHasSplit failed in 0.95 build #11 &amp;#8211; MORE DEBUG (Revision 1452940)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13594509" author="ram_krish" created="Wed, 6 Mar 2013 09:12:15 +0000"  >&lt;p&gt;This patch solves the problem for the failure of the test testShouldThrowIOExceptionIfStoreFileSizeIsEmptyAndShouldSuccessfullyExecuteRollback&lt;/p&gt;</comment>
                            <comment id="13594572" author="hadoopqa" created="Wed, 6 Mar 2013 10:20:49 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572291/HBASE-7981.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572291/HBASE-7981.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.backup.TestHFileArchiving&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4695//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13594873" author="stack" created="Wed, 6 Mar 2013 17:13:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; Tell me more about this patch?  Ups the timeout.  Fixes a failing test?  Which build?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13595371" author="v.himanshu" created="Thu, 7 Mar 2013 00:58:37 +0000"  >&lt;p&gt;I think it is the way it looks for the daughter regions in the meta table is buggy: the regionname() it uses to navigate the scan in the meta scanner makes it work like the region doesn&apos;t exist and then it creates a region for that.&lt;br/&gt;
For example, in the above example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
************* 345c528e4c394953bca5695d4774daef *******
First split:

******** e74872f8b6cd6edc95f8c2b2d7924fa5 ********** 38ba9b561bbf6db5e172ee2118fc2cff *******

Second split:

***e74872f8b6cd6edc95f8c2b2d7924fa5 *** 914d5913260dc2e1698a523001905127 *** bdb74bd7defe897e6277e476b47e9b56 ***
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The servershutdownhandler starts to look for the daughter regions and so on. It is able to find the very first region in the meta: 345c528e4c394953bca5695d4774daef. Then, it looks for its daughters. It found the first one.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-03-05 14:24:47,262 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,41462,1362493469668-2] handler.ServerShutdownHandler(375): Daughter testShutdownFixupWh     enDaughterHasSplit,,1362493482343.e74872f8b6cd6edc95f8c2b2d7924fa5. present
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then it looks for the second one:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 2013-03-05 14:24:47,262 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,41462,1362493469668-2] client.ClientScanner(96): Creating scanner over .META. starting      at key &apos;testShutdownFixupWhenDaughterHasSplit,mnk,1362493482343.38ba9b561bbf6db5e172ee2118fc2cff.,,00000000000000&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It use the start key as &apos;testShutdownFixupWhenDaughterHasSplit,mnk,1362493482343.38ba9b561bbf6db5e172ee2118fc2cff.,,00000000000000&apos;. I don&apos;t know why it append that 00000000000 after wards, but it is not able to find this daughter, and then adds it to meta. &lt;br/&gt;
This causes that we have one extra region in the meta in OPEN state. It doesn&apos;t always append that 00000000 suffix. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-03-05 14:24:47,262 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,41462,1362493469668-2] client.ClientScanner(209): Advancing internal scanner to startKey at &apos;testShutdownFixupWhenDaughterHasSplit,mnk,1362493482343.38ba9b561bbf6db5e172ee2118fc2cff.,,00000000000000&apos;
2013-03-05 14:24:47,265 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,41462,1362493469668-2] client.ClientScanner(196): Finished with scanning at {NAME =&amp;gt; &apos;.META.,,1&apos;, STARTKEY =&amp;gt; &apos;&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 1028785192,}
2013-03-05 14:24:47,265 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,41462,1362493469668-2] hbase.HRegionInfo(964): Current INFO from scan results = {NAME =&amp;gt; &apos;testShutdownFixupWhenDaughterHasSplit,suc,1362493483680.914d5913260dc2e1698a523001905127.&apos;, STARTKEY =&amp;gt; &apos;suc&apos;, ENDKEY =&amp;gt; &apos;&apos;, ENCODED =&amp;gt; 914d5913260dc2e1698a523001905127,}
2013-03-05 14:24:47,265 INFO  [MASTER_SERVER_OPERATIONS-janus.apache.org,41462,1362493469668-2] handler.ServerShutdownHandler(364): Fixup; missing daughter test     ShutdownFixupWhenDaughterHasSplit,mnk,1362493482343.38ba9b561bbf6db5e172ee2118fc2cff.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13595384" author="yuzhihong@gmail.com" created="Thu, 7 Mar 2013 01:09:30 +0000"  >&lt;p&gt;Thanks for the analysis.&lt;/p&gt;

&lt;p&gt;I think the 00000000000 suffix was due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7928&quot; title=&quot;Scanning .META. with startRow and/or stopRow is not giving proper results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7928&quot;&gt;&lt;del&gt;HBASE-7928&lt;/del&gt;&lt;/a&gt; which has been backed out.&lt;/p&gt;</comment>
                            <comment id="13595427" author="v.himanshu" created="Thu, 7 Mar 2013 01:57:02 +0000"  >&lt;p&gt;Yes its 7928. Good to know. I think we can close this one.&lt;/p&gt;</comment>
                            <comment id="13595478" author="ram_krish" created="Thu, 7 Mar 2013 02:54:03 +0000"  >&lt;p&gt;The timeout was increased for debugging purpose. I have removed that.&lt;br/&gt;
The idea here is when the region is tried to move away from the RS that holds the META, the region is actually closed. So the isClosed returns true.&lt;br/&gt;
The new check that is added to see if region is splittable internally checks for isClosed.  But we are doing it on the older list of regions.  We need to refresh the regions list.  The failure will happen only when there is a movement of region takes places from RS having META to another RS.&lt;/p&gt;</comment>
                            <comment id="13595484" author="ram_krish" created="Thu, 7 Mar 2013 03:00:18 +0000"  >&lt;p&gt;Sorry about that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7928&quot; title=&quot;Scanning .META. with startRow and/or stopRow is not giving proper results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7928&quot;&gt;&lt;del&gt;HBASE-7928&lt;/del&gt;&lt;/a&gt;.  Initially my patch was only checking for single &apos;,&apos; and was acting if even &apos;,&apos; was not there.  Then i changed it to &apos;,,&apos;. Sorry for the trouble and head ache of everyone there. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13595508" author="v.himanshu" created="Thu, 7 Mar 2013 03:32:21 +0000"  >&lt;p&gt;Ram: Isn&apos;t ensureTableRegionNotOnSameServerAsMeta() will take care that the region which we will split is not co-hosted with a meta region?&lt;br/&gt;
Also, I don&apos;t see the issue was whether the region was splittable or not. The split happens good; its in the servershutdownhandler which creates a OPEN state entry for a region which was not required (as I tried to explain above).&lt;br/&gt;
Is there something I am missing?&lt;/p&gt;</comment>
                            <comment id="13595512" author="ram_krish" created="Thu, 7 Mar 2013 03:41:25 +0000"  >&lt;p&gt;Himanshu,&lt;br/&gt;
Actually the patch that i attached is for the testcase testShouldThrowIOExceptionIfStoreFileSizeIsEmptyAndShouldSuccessfullyExecuteRollback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/32/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/32/testReport/&lt;/a&gt; shows the error that i pointed out.  &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Isn&apos;t ensureTableRegionNotOnSameServerAsMeta() will take care that the region which we will split is not co-hosted with a meta region.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.&lt;br/&gt;
That causes this problem.  The regions list is collected even before this ensureTableRegionNotOnSameServerAsMeta() is called.  So when we try to work on that region object the isClosed becomes true.&lt;/p&gt;
</comment>
                            <comment id="13595524" author="stack" created="Thu, 7 Mar 2013 04:13:58 +0000"  >&lt;p&gt;Patch makes sense &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; +1 on commit.  Should you commit on another issue though since this is about testShutdownFixupWhenDaughterHasSplit?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13595528" author="stack" created="Thu, 7 Mar 2013 04:15:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hvashish%40cs.ualberta.ca&quot; class=&quot;user-hover&quot; rel=&quot;hvashish@cs.ualberta.ca&quot;&gt;Himanshu Vashishtha&lt;/a&gt; Nice debugging.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; np on hbase-7928.  I +1&apos;d it (smile).  If still interested, look at how we do meta row key checking over in KeyValue row comparators.&lt;/p&gt;</comment>
                            <comment id="13595555" author="v.himanshu" created="Thu, 7 Mar 2013 05:14:14 +0000"  >&lt;p&gt;Yes, I think we can close this out now.&lt;/p&gt;</comment>
                            <comment id="13595567" author="ram_krish" created="Thu, 7 Mar 2013 05:38:20 +0000"  >&lt;p&gt;Revert of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7928&quot; title=&quot;Scanning .META. with startRow and/or stopRow is not giving proper results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7928&quot;&gt;&lt;del&gt;HBASE-7928&lt;/del&gt;&lt;/a&gt; will make the test case pass.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8021&quot; title=&quot;TestSplitTransactionOnCluster.testShouldThrowIOExceptionIfStoreFileSizeIsEmptyAndShouldSuccessfullyExecuteRollback() fails consistently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8021&quot;&gt;&lt;del&gt;HBASE-8021&lt;/del&gt;&lt;/a&gt; has been raised to solve TestSplitTransactionOnCluster.testShouldThrowIOExceptionIfStoreFileSizeIsEmptyAndShouldSuccessfullyExecuteRollback() &lt;/p&gt;</comment>
                            <comment id="13598587" author="ram_krish" created="Mon, 11 Mar 2013 07:08:43 +0000"  >&lt;p&gt;Tried to checkout the KeyComparator but it ends up trickier because we are not very sure if explicitly user has tried to set up the startkey and endkey.    Will check on this more.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12629437">HBASE-7686</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571759" name="7981.extra.logging.txt" size="2505" author="stack" created="Sat, 2 Mar 2013 21:27:01 +0000"/>
                            <attachment id="12571757" name="7981.extra.logging.txt" size="2505" author="stack" created="Sat, 2 Mar 2013 21:03:32 +0000"/>
                            <attachment id="12572134" name="7981v2.extra.logging.txt" size="6089" author="stack" created="Tue, 5 Mar 2013 18:48:08 +0000"/>
                            <attachment id="12572291" name="HBASE-7981.patch" size="1383" author="ram_krish" created="Wed, 6 Mar 2013 09:12:15 +0000"/>
                            <attachment id="12572477" name="HBASE-7981_1.patch" size="1047" author="ram_krish" created="Thu, 7 Mar 2013 02:54:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 3 Mar 2013 02:45:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iftj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>