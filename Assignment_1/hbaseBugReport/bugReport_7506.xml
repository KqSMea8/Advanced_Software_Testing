<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:46:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7506/HBASE-7506.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7506] Judgment of carrying ROOT/META will become wrong when expiring server</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7506</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We will check whether server carrying ROOT/META when expiring the server.&lt;br/&gt;
See ServerManager#expireServer.&lt;/p&gt;

&lt;p&gt;If the dead server carrying META, we assign meta directly in the process of ServerShutdownHandler.&lt;br/&gt;
If the dead server carrying ROOT, we will offline ROOT and then verifyAndAssignRootWithRetries()&lt;/p&gt;

&lt;p&gt;How judgement of carrtying ROOT/META become wrong?&lt;br/&gt;
If region is in RIT, and isCarryingRegion() return true after addressing from zk.&lt;br/&gt;
However, once RIT time out(could be caused by this.allRegionServersOffline &amp;amp;&amp;amp; !noRSAvailable, see AssignmentManager#TimeoutMonitor)   and we assign it to otherwhere, this judgement become wrong.&lt;br/&gt;
See AssignmentManager#isCarryingRegion for details&lt;/p&gt;

&lt;p&gt;With the wrong judgement of carrtying ROOT/META, we would assign ROOT/META twice.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626324">HBASE-7506</key>
            <summary>Judgment of carrying ROOT/META will become wrong when expiring server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjushch">chunhui shen</assignee>
                                    <reporter username="zjushch">chunhui shen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2013 10:15:08 +0000</created>
                <updated>Tue, 26 Feb 2013 08:27:11 +0000</updated>
                            <resolved>Fri, 11 Jan 2013 07:21:11 +0000</resolved>
                                    <version>0.94.3</version>
                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13546048" author="ram_krish" created="Mon, 7 Jan 2013 17:14:12 +0000"  >&lt;p&gt;You got this in trunk?  Am not able to visualise the problem due to not so good grip on the Trunk code base wrt recent changes.&lt;br/&gt;
May be Jimmy can look this.&lt;br/&gt;
Will try to look into it once again later tomorrow.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;&lt;br/&gt;
Want to take a look at this?&lt;/p&gt;</comment>
                            <comment id="13546123" author="jxiang" created="Mon, 7 Jan 2013 18:31:44 +0000"  >&lt;p&gt;This is subtle. This part is not touched wrt recent changes. I agree it is possible root/meta could be assigning to the dead rs, which is processing by SSH.&lt;br/&gt;
The existing code assigns root/meta again is not efficient, but won&apos;t cause any problem in such a case.&lt;/p&gt;

&lt;p&gt;It makes sense to check it again. However, if they are still RIT at this re-checking moment, it is probably not efficient to re-assign them than wait, right?&lt;/p&gt;

&lt;p&gt;So I think we can do the following:&lt;/p&gt;

&lt;p&gt;1. remove class MetaServerShutdownHandler;&lt;br/&gt;
2. in ServerShutdownHandler, make isCarryingRoot and isCarryingMeta local variables to process method, dynamically set it based on AM, as in Chunhui&apos;s patch;&lt;br/&gt;
3. in verifyAndAssignRootWithRetries, check if root is RIT, if so, should we time it out and wait, or just force-reassgin?&lt;br/&gt;
4. Can we have a similar verifyAndAssignMetaWithRetries in SSH?  If meta can be verified, no need to re-assign?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, what do you think?&lt;/p&gt;

&lt;p&gt;Adding &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; too.&lt;/p&gt;</comment>
                            <comment id="13546614" author="zjushch" created="Tue, 8 Jan 2013 05:20:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;3.in verifyAndAssignRootWithRetries, check if root is RIT&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;del&gt;ROOT&lt;/del&gt; won&apos;t be in RIT, because we offline it&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isCarryingRoot()) { &lt;span class=&quot;code-comment&quot;&gt;// -ROOT-
&lt;/span&gt;        LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Server &quot;&lt;/span&gt; + serverName +
            &lt;span class=&quot;code-quote&quot;&gt;&quot; was carrying ROOT. Trying to assign.&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.services.getAssignmentManager().
          regionOffline(HRegionInfo.ROOT_REGIONINFO);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;1. remove class MetaServerShutdownHandler;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;MetaServerShutdownHandler and ServerShutdownHandler will be submit to different ExecutorService, that&apos;s why we using MetaServerShutdownHandler &lt;/p&gt;
</comment>
                            <comment id="13546621" author="yuzhihong@gmail.com" created="Tue, 8 Jan 2013 05:29:52 +0000"  >&lt;p&gt;I think we should keep MetaServerShutdownHandler.&lt;br/&gt;
Take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3809&quot; title=&quot;.META. may not come back online if &amp;gt; number of executors servers crash and one of those &amp;gt; number of executors was carrying meta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3809&quot;&gt;&lt;del&gt;HBASE-3809&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13547056" author="jxiang" created="Tue, 8 Jan 2013 17:57:21 +0000"  >&lt;p&gt;The only reason we have MetaServerShutdownHandler is because of the event type: EventType.M_META_SERVER_SHUTDOWN. ServerShutdownHandler already has an event type member variable.&lt;/p&gt;

&lt;p&gt;If isCarryingRoot/isCarryingMeta is useful, it makes sense to have MetaServerShutdownHandler.  Now since they are not used any more, why do we still need this class?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;ROOT won&apos;t be in RIT, because we offline it&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Make sense.  That means we should not verify any more, right?&lt;/p&gt;</comment>
                            <comment id="13547064" author="yuzhihong@gmail.com" created="Tue, 8 Jan 2013 18:08:11 +0000"  >&lt;p&gt;@Jimmy:&lt;br/&gt;
w.r.t. MetaServerShutdownHandler, see point 1 from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3809?focusedCommentId=13546633&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13546633&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-3809?focusedCommentId=13546633&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13546633&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13547182" author="jxiang" created="Tue, 8 Jan 2013 19:48:18 +0000"  >&lt;p&gt;@Ted, I read point 1 of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3809&quot; title=&quot;.META. may not come back online if &amp;gt; number of executors servers crash and one of those &amp;gt; number of executors was carrying meta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3809&quot;&gt;&lt;del&gt;HBASE-3809&lt;/del&gt;&lt;/a&gt;. Different thread pool is used just based on the EventType, not class name.  So it should be fine.&lt;/p&gt;</comment>
                            <comment id="13547561" author="zjushch" created="Wed, 9 Jan 2013 02:39:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;That means we should not verify any more, right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We should also verify for better, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7504&quot; title=&quot;-ROOT- may be offline forever after FullGC of  RS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7504&quot;&gt;&lt;del&gt;HBASE-7504&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;I think we could remove MetaServerShutdownHandler class, if we pass the carryingRoot,carryingMeta to ServerShutdownHandler. Like the following&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ServerShutdownHandler(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Server server, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MasterServices services,
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DeadServer deadServers, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ServerName serverName,
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; shouldSplitHlog,&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; carryingRoot, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; carryingMeta){
&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(server, (carryingRoot||carryingMeta)?EventType.M_META_SERVER_SHUTDOWN:EventType.M_SERVER_SHUTDOWN);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13548354" author="zjushch" created="Wed, 9 Jan 2013 10:28:47 +0000"  >&lt;p&gt;As Jimmy&apos;s comment, Removing MetaServerShutdownHandler in patch v2&lt;/p&gt;</comment>
                            <comment id="13548792" author="jxiang" created="Wed, 9 Jan 2013 18:33:55 +0000"  >&lt;p&gt;@Chunhui,  that&apos;s not what I meant. Sorry if I confused you. After second thought, I prefer v1, no need to touch many places.&lt;/p&gt;

&lt;p&gt;+1 for v1.&lt;/p&gt;</comment>
                            <comment id="13549339" author="ram_krish" created="Thu, 10 Jan 2013 03:48:11 +0000"  >&lt;p&gt;In v1 patch we are once again verifying if the ROOT and META assignment is what we thought.  Seems simple.&lt;br/&gt;
+1 on v1.&lt;/p&gt;</comment>
                            <comment id="13549435" author="hadoopqa" created="Thu, 10 Jan 2013 08:41:35 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564138/7506-trunkv1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564138/7506-trunkv1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitTransaction&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hdfs.server.balancer.TestBalancerWithNodeGroup.testBalancerWithRackLocality(TestBalancerWithNodeGroup.java:220)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3958//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13550845" author="stack" created="Fri, 11 Jan 2013 05:38:15 +0000"  >&lt;p&gt;Are you going to commit &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zjushch&quot; class=&quot;user-hover&quot; rel=&quot;zjushch&quot;&gt;chunhui shen&lt;/a&gt;?  You have two +1s.&lt;/p&gt;</comment>
                            <comment id="13550849" author="zjushch" created="Fri, 11 Jan 2013 05:45:21 +0000"  >&lt;p&gt;Patch v1 integrated to trunk, 0.94 branch&lt;/p&gt;

&lt;p&gt;Thanks for the review ram,jimmy, ted&lt;/p&gt;</comment>
                            <comment id="13550857" author="hadoopqa" created="Fri, 11 Jan 2013 05:52:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12564363/7506-94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12564363/7506-94.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3977//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3977//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13550910" author="hudson" created="Fri, 11 Jan 2013 07:14:10 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3728 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3728/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3728/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7506&quot; title=&quot;Judgment of carrying ROOT/META will become wrong when expiring server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7506&quot;&gt;&lt;del&gt;HBASE-7506&lt;/del&gt;&lt;/a&gt; Judgment of carrying ROOT/META will become wrong when expiring server (Chunhui) (Revision 1431901)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
zjushch : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550916" author="stack" created="Fri, 11 Jan 2013 07:21:11 +0000"  >&lt;p&gt;This was committed to trunk and 0.94.  Resolving.&lt;/p&gt;</comment>
                            <comment id="13550960" author="hudson" created="Fri, 11 Jan 2013 08:06:32 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #723 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/723/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/723/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7506&quot; title=&quot;Judgment of carrying ROOT/META will become wrong when expiring server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7506&quot;&gt;&lt;del&gt;HBASE-7506&lt;/del&gt;&lt;/a&gt; Judgment of carrying ROOT/META will become wrong when expiring server (Chunhui) (Revision 1431903)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
zjushch : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13554225" author="hudson" created="Tue, 15 Jan 2013 19:40:18 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #95 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/95/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/95/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7506&quot; title=&quot;Judgment of carrying ROOT/META will become wrong when expiring server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7506&quot;&gt;&lt;del&gt;HBASE-7506&lt;/del&gt;&lt;/a&gt; Judgment of carrying ROOT/META will become wrong when expiring server (Chunhui) (Revision 1431903)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
zjushch : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13570998" author="hudson" created="Tue, 5 Feb 2013 03:58:30 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #11 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7506&quot; title=&quot;Judgment of carrying ROOT/META will become wrong when expiring server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7506&quot;&gt;&lt;del&gt;HBASE-7506&lt;/del&gt;&lt;/a&gt; Judgment of carrying ROOT/META will become wrong when expiring server (Chunhui) (Revision 1431903)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
zjushch : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12564363" name="7506-94.patch" size="2292" author="zjushch" created="Fri, 11 Jan 2013 05:47:52 +0000"/>
                            <attachment id="12563544" name="7506-trunk v1.patch" size="3196" author="zjushch" created="Mon, 7 Jan 2013 10:18:06 +0000"/>
                            <attachment id="12564138" name="7506-trunkv1.patch" size="3196" author="zjushch" created="Thu, 10 Jan 2013 08:17:23 +0000"/>
                            <attachment id="12563922" name="7506-trunkv2.patch" size="8802" author="zjushch" created="Wed, 9 Jan 2013 10:28:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Jan 2013 17:14:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i176cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>