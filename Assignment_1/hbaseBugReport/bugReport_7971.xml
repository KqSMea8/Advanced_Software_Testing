<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7971/HBASE-7971.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7971] mvn clean compile on trunk and 0.95 does not produce target/cached_classpath.txt</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7971</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The usual workflow of &lt;tt&gt;mvn clean compile&lt;/tt&gt; followed by &lt;tt&gt;./bin/hbase foo&lt;/tt&gt; no longer works. It looks like it was broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7637&quot; title=&quot;hbase-hadoop1-compat conflicts with -Dhadoop.profile=2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7637&quot;&gt;&lt;del&gt;HBASE-7637&lt;/del&gt;&lt;/a&gt;, switching the phase in hbase-it/pom.xml from &lt;tt&gt;compile&lt;/tt&gt; to &lt;tt&gt;test&lt;/tt&gt;. Before I propose the obvious patch, a couple questions:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;: why is this done in hbase-it instead of anywhere else, such as the top-level pom?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;: why does this execution in the compile phase break hadoop-2 profile while running it in test does not?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634883">HBASE-7971</key>
            <summary>mvn clean compile on trunk and 0.95 does not produce target/cached_classpath.txt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="9">Unresolved</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2013 19:24:15 +0000</created>
                <updated>Tue, 9 Jul 2013 17:00:36 +0000</updated>
                            <resolved>Tue, 9 Jul 2013 17:00:27 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.95.0</version>
                                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13590858" author="ndimiduk" created="Fri, 1 Mar 2013 19:28:26 +0000"  >&lt;p&gt;Read more carefully the comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7637&quot; title=&quot;hbase-hadoop1-compat conflicts with -Dhadoop.profile=2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7637&quot;&gt;&lt;del&gt;HBASE-7637&lt;/del&gt;&lt;/a&gt;. Updating as appropriate.&lt;/p&gt;</comment>
                            <comment id="13590861" author="ndimiduk" created="Fri, 1 Mar 2013 19:32:40 +0000"  >&lt;p&gt;Neither &lt;tt&gt;mvn test -DskipTests&lt;/tt&gt; nor &lt;tt&gt;mvn clean package -DskipTests&lt;/tt&gt; produce the file as described in the other ticket.&lt;/p&gt;</comment>
                            <comment id="13590899" author="ndimiduk" created="Fri, 1 Mar 2013 20:13:07 +0000"  >&lt;p&gt;You guys appear to have necessary magic such that compiling against hadoop-1 does not build the hadoop-2 compat jar and vice versa. So, I think creation of this file can be moved back to the compile phase.&lt;/p&gt;

&lt;p&gt;However, the new structure is such that the top-level hbase project shows up last in the reactor list. That means `mvn clean compile` will command hbase-it module to generate the file in the correct place and then command hbase module to delete it. I propose we keep the cached_classpath file in hbase-it/target and update bin/hbase to look there.&lt;/p&gt;</comment>
                            <comment id="13590903" author="stack" created="Fri, 1 Mar 2013 20:25:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;....and then command hbase module to delete it. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How is this....How is the remove done?&lt;/p&gt;

&lt;p&gt;St.Ack&lt;/p&gt;</comment>
                            <comment id="13590909" author="ndimiduk" created="Fri, 1 Mar 2013 20:34:08 +0000"  >&lt;p&gt;This happens because I habitually invoke `mvn clean &amp;lt;other-targets&amp;gt;`.&lt;/p&gt;</comment>
                            <comment id="13590953" author="hadoopqa" created="Fri, 1 Mar 2013 21:23:42 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571641/0001-HBASE-7971-fix-cached_classpath.txt-dev-sandbox.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571641/0001-HBASE-7971-fix-cached_classpath.txt-dev-sandbox.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4626//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13590960" author="stack" created="Fri, 1 Mar 2013 21:34:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;This happens because I habitually invoke `mvn clean &amp;lt;other-targets&amp;gt;`.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;And &apos;clean &amp;lt;other-targets&amp;gt;&apos; removes the top-level target&apos;s contents?&lt;/p&gt;

&lt;p&gt;Just trying to follow along.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It looks like it was broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7637&quot; title=&quot;hbase-hadoop1-compat conflicts with -Dhadoop.profile=2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7637&quot;&gt;&lt;del&gt;HBASE-7637&lt;/del&gt;&lt;/a&gt;, switching the phase in hbase-it/pom.xml from compile to test.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So cached_classpath.txt is only getting generated when we invoke test?  That seems awkward/broke.&lt;/p&gt;

&lt;p&gt;cached_classpath.txt is odd.... needs to run last.  I think that is why it is in hbase-it which yeah, is a &apos;test&apos;.  Another module to do this would be ridiculous, right?&lt;/p&gt;


</comment>
                            <comment id="13590989" author="ndimiduk" created="Fri, 1 Mar 2013 22:02:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;And &apos;clean &amp;lt;other-targets&amp;gt;&apos; removes the top-level target&apos;s contents?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep. Maven tells you what it&apos;s doing, it just suffers from the Java-ism of being so verbose nobody actually pays attention. Invoke `mvn clean &amp;lt;your-favorite-phase&amp;gt;` and look at the spew maven generates. It first decided which modules to act upon and in what order. It then loops through them in  order and for each one, resolves the phase invocation tree into an ordered list. Finally it executes those phases in order. More succinctly:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;for (module in reactor.resolveModuleOrder())
  for (phase in module.resolvePhaseOrder())
    phase.exec()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For hbase-it, that means it runs, say, &lt;span class=&quot;error&quot;&gt;&amp;#91;clean compile test package it-test&amp;#93;&lt;/span&gt; (plus all the pre and post subphases) as you&apos;d expect. This dutifully produces $BASEDIR/target/cached_classpath.txt during the compile (before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7637&quot; title=&quot;hbase-hadoop1-compat conflicts with -Dhadoop.profile=2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7637&quot;&gt;&lt;del&gt;HBASE-7637&lt;/del&gt;&lt;/a&gt;) or test (after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7637&quot; title=&quot;hbase-hadoop1-compat conflicts with -Dhadoop.profile=2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7637&quot;&gt;&lt;del&gt;HBASE-7637&lt;/del&gt;&lt;/a&gt;) phase. The top-level hbase pseudo-module is the last item in the reactor list, so it&apos;s run last. It executes the same phases in the same order: &lt;span class=&quot;error&quot;&gt;&amp;#91;clean compile test package it-test&amp;#93;&lt;/span&gt;. The module contains a target dir, so clean dutifully nukes $BASEDIR/target and then has nothing to do for the remaining phases.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;cached_classpath.txt is odd.... needs to run last.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right. I believe it&apos;s currently implemented in hbase-it because that module by definition needs to depend on everything else (except hbase-examples, I suppose). Since hbase-it manages that file, I think it makes sense to keep it under that module&apos;s target dir anyway. Hence the attached patch.&lt;/p&gt;</comment>
                            <comment id="13591081" author="stack" created="Fri, 1 Mar 2013 23:21:13 +0000"  >&lt;p&gt;Thanks Nick.&lt;/p&gt;

&lt;p&gt;Then I am +1 on the patch if you provide some text in bin/hbase ... a comment... that says why we are doing a crazy reach down into a seemingly unrelated module named  hbase-it... else someone will come along later, someone who is less conscientious (e.g. me) and will spend hours trying to remove it... only to eventually trip over your explaination above.. &lt;/p&gt;</comment>
                            <comment id="13591116" author="ndimiduk" created="Fri, 1 Mar 2013 23:55:07 +0000"  >&lt;p&gt;Updated the patch accordingly. I&apos;d like someone more familiar with the details of this cached_classpath.txt file provide a +1 as well, to make sure I&apos;m not breaking some other subtle requirement. (cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13591138" author="stack" created="Sat, 2 Mar 2013 00:18:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13591169" author="hadoopqa" created="Sat, 2 Mar 2013 00:59:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571684/0001-HBASE-7971-fix-cached_classpath.txt-dev-sandbox.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571684/0001-HBASE-7971-fix-cached_classpath.txt-dev-sandbox.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.access.TestAccessControlFilter&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4630//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13591218" author="enis" created="Sat, 2 Mar 2013 02:15:02 +0000"  >&lt;p&gt;I am confused for the patch. You are generating hbase/target/cached_classpath.txt, but referring to hbase/hbase-it/target/cached_classpath.txt. &lt;/p&gt;

&lt;p&gt;One other thing is that, this cached classpath won&apos;t contain test artifacts, because it is invoked from compile. Specifically, we want to include hbase-it-tests.jar. &lt;/p&gt;</comment>
                            <comment id="13591393" author="nkeywal" created="Sat, 2 Mar 2013 11:54:11 +0000"  >&lt;p&gt;as Enis: we need the tests because we can launch a mini cluster.&lt;br/&gt;
the whole mechanism is too brittle imho. Would it not make sense to remove it, and have the start script relying on the assembly? This would be more natural, predictable, and would help us to identify bugs like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7968&quot; title=&quot;Packaging of Trunk and 0.95 does not create the dependent jars in the lib folder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7968&quot;&gt;&lt;del&gt;HBASE-7968&lt;/del&gt;&lt;/a&gt; immediately. I&apos;m not sure the performance gain justifies our shortcut anymore with modern computers.&lt;/p&gt;</comment>
                            <comment id="13592427" author="ndimiduk" created="Mon, 4 Mar 2013 18:12:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;You are generating hbase/target/cached_classpath.txt, but referring to hbase/hbase-it/target/cached_classpath.txt.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Nope, it&apos;s generating and consuming hbase/hbase-it/target/cached_classpath.txt. The modified pom is not the top-level one, but for hbase-it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;One other thing is that, this cached classpath won&apos;t contain test artifacts, because it is invoked from compile.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What invokes bin/hbase and also depends on the test jars? git-grep shows this file being produced in hbase-it.pom and consumed only in the launch scripts, bin/hbase and bin/hbase.cmd.&lt;/p&gt;

&lt;p&gt;This looks discouraging:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ git grep -n bin\/hbase
...
hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java:133:   * CommandProvider to manage the service using bin/hbase-* scripts
hbase-it/src/test/java/org/apache/hadoop/hbase/HBaseClusterManager.java:150:      return String.format(&quot;%s/bin/hbase-daemon.sh %s %s %s&quot;, getHBaseHome(), getConfig(),
...
hbase-server/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java:1596:    System.err.println(&quot; $ bin/hbase &quot; + this.getClass().getName()
hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/OOMERegionServer.java:38: * &amp;lt;code&amp;gt;${HBASE_HOME}/bin/hbase ./bin/hbase org.apache.hadoop.hbase.OOMERegionServer start&amp;lt;/code&amp;gt;.
hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/HLogPerformanceEvaluation.java:273:    System.err.printf(&quot;Usage: bin/hbase %s [options]\n&quot;, getClass().getName());
hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/HLogPerformanceEvaluation.java:291:    System.err.println(&quot; $ ./bin/hbase org.apache.hadoop.hbase.regionserver.wal.HLogPerformanceEval
hbase-server/src/test/java/org/apache/hadoop/hbase/rest/PerformanceEvaluation.java:1148:    System.err.println(&quot; $ bin/hbase &quot; + this.getClass().getName()
hbase-server/src/test/java/org/apache/hadoop/hbase/util/ProcessBasedLocalHBaseCluster.java:114:    hbaseDaemonScript = hbaseHome + &quot;/bin/hbase-daemon.sh&quot;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13592992" author="ndimiduk" created="Tue, 5 Mar 2013 03:06:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;What invokes bin/hbase and also depends on the test jars?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;To answer my own question: I see the &lt;tt&gt;IntegrationTestsDriver&lt;/tt&gt; depends on the classpath produced by &lt;tt&gt;bin/hbase&lt;/tt&gt;, at least according to instructions in &lt;a href=&quot;http://hbase.apache.org/book/hbase.tests.html#integration.tests&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book/hbase.tests.html#integration.tests&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13599390" author="ndimiduk" created="Mon, 11 Mar 2013 22:09:31 +0000"  >&lt;p&gt;Looks like this is broken on trunk anyway:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn clean install -DskipTests
...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
$ ls target/cached_classpath.txt 
target/cached_classpath.txt
$ ./bin/hbase org.apache.hadoop.hbase.mapreduce.IntegrationTestImportTsv
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/mapreduce/IntegrationTestImportTsv
Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hbase.mapreduce.IntegrationTestImportTsv
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13703499" author="ndimiduk" created="Tue, 9 Jul 2013 17:00:27 +0000"  >&lt;p&gt;Superseded by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8200&quot; title=&quot;Integration Test classes are not part of the default HBase classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8200&quot;&gt;&lt;del&gt;HBASE-8200&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12639174">HBASE-8200</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571684" name="0001-HBASE-7971-fix-cached_classpath.txt-dev-sandbox.patch" size="2126" author="ndimiduk" created="Fri, 1 Mar 2013 23:55:07 +0000"/>
                            <attachment id="12571641" name="0001-HBASE-7971-fix-cached_classpath.txt-dev-sandbox.patch" size="1844" author="ndimiduk" created="Fri, 1 Mar 2013 20:19:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Mar 2013 20:25:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1if6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>