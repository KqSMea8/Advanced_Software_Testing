<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:49:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14041/HBASE-14041.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14041] Client MetaCache is cleared if a ThrottlingException is thrown</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14041</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;During performance test with the request throttling, I saw that hbase:meta table had been read a lot. Currently the MetaCache of the client is cleared, if a ThrottlingException is thrown. It seems to be not needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12843404">HBASE-14041</key>
            <summary>Client MetaCache is cleared if a ThrottlingException is thrown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Eungsop Yoo">Eungsop Yoo</assignee>
                                    <reporter username="Eungsop Yoo">Eungsop Yoo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jul 2015 05:33:41 +0000</created>
                <updated>Wed, 15 Jul 2015 13:31:41 +0000</updated>
                            <resolved>Wed, 15 Jul 2015 08:42:51 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="14618047" author="ashish singhi" created="Wed, 8 Jul 2015 06:22:55 +0000"  >&lt;p&gt;Nice find.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;if (cause instanceof RegionTooBusyException || cause instanceof RegionOpeningException || cause instanceof ThrottlingException)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You need to format the code, it is crossing more than 100 characters.&lt;/p&gt;

&lt;p&gt;Can you update the javadoc for findException method ?&lt;/p&gt;</comment>
                            <comment id="14618189" author="eungsop yoo" created="Wed, 8 Jul 2015 08:09:07 +0000"  >&lt;p&gt;I have attached the new version of patch.&lt;/p&gt;</comment>
                            <comment id="14618230" author="ashish singhi" created="Wed, 8 Jul 2015 08:46:04 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14618248" author="hadoopqa" created="Wed, 8 Jul 2015 08:59:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12744166/0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12744166/0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f5ad736282c8c9c27b14131919d60b72834ec9e4.&lt;br/&gt;
  ATTACHMENT ID: 12744166&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14700//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14700//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14619061" author="stack" created="Wed, 8 Jul 2015 17:58:39 +0000"  >&lt;p&gt;+1 on patch. Lets get hadoopqa to pass so we can commit (patch failed to apply to master).  I wonder if there are more cases of our clearing cache beyond this nice find?&lt;/p&gt;</comment>
                            <comment id="14619851" author="anoop.hbase" created="Thu, 9 Jul 2015 04:11:30 +0000"  >&lt;p&gt;We start doing more Exception type comparison.. (this or that or that)...  May be need some mid level parent Exception type checking against it is enough?   Surely another jira as an IA..   Just pointing out here.  +1 and nice catch.&lt;/p&gt;</comment>
                            <comment id="14619852" author="anoop.hbase" created="Thu, 9 Jul 2015 04:13:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Eungsop+Yoo&quot; class=&quot;user-hover&quot; rel=&quot;Eungsop Yoo&quot;&gt;Eungsop Yoo&lt;/a&gt;  can you make patch so that it can cleanly apply to master branch?&lt;/p&gt;</comment>
                            <comment id="14619889" author="eungsop yoo" created="Thu, 9 Jul 2015 04:56:55 +0000"  >&lt;p&gt;I made the new patch on master branch. The previous patches were not.&lt;/p&gt;</comment>
                            <comment id="14620042" author="hadoopqa" created="Thu, 9 Jul 2015 07:29:50 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12744408/0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12744408/0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t-v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 41c8ec7aeae859808a217bd7a561e81be7e3c7ac.&lt;br/&gt;
  ATTACHMENT ID: 12744408&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14715//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14627721" author="busbey" created="Wed, 15 Jul 2015 08:42:51 +0000"  >&lt;p&gt;thanks for the patch. Pushed to all target fix versions.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; let me know if you&apos;d like this in branch-1.1.&lt;/p&gt;</comment>
                            <comment id="14627754" author="hudson" created="Wed, 15 Jul 2015 09:06:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6649 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6649/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6649/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14041&quot; title=&quot;Client MetaCache is cleared if a ThrottlingException is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14041&quot;&gt;&lt;del&gt;HBASE-14041&lt;/del&gt;&lt;/a&gt; Do not clear MetaCache if a ThrottlingException is thrown (busbey: rev a63e3ac83ffb91948f464e4f62111d29adc02812)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionImplementation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14627817" author="hudson" created="Wed, 15 Jul 2015 09:49:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #40 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/40/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/40/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14041&quot; title=&quot;Client MetaCache is cleared if a ThrottlingException is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14041&quot;&gt;&lt;del&gt;HBASE-14041&lt;/del&gt;&lt;/a&gt; Do not clear MetaCache if a ThrottlingException is thrown (busbey: rev 173f343aea56285f1d83ea3346a797113c02c12e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14627931" author="hudson" created="Wed, 15 Jul 2015 11:51:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #69 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/69/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/69/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14041&quot; title=&quot;Client MetaCache is cleared if a ThrottlingException is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14041&quot;&gt;&lt;del&gt;HBASE-14041&lt;/del&gt;&lt;/a&gt; Do not clear MetaCache if a ThrottlingException is thrown (busbey: rev de862f38b926536825b24bb923de83a5826de441)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14627999" author="hudson" created="Wed, 15 Jul 2015 12:51:17 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #55 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/55/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/55/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14041&quot; title=&quot;Client MetaCache is cleared if a ThrottlingException is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14041&quot;&gt;&lt;del&gt;HBASE-14041&lt;/del&gt;&lt;/a&gt; Do not clear MetaCache if a ThrottlingException is thrown (busbey: rev 173f343aea56285f1d83ea3346a797113c02c12e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14628054" author="hudson" created="Wed, 15 Jul 2015 13:31:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #53 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/53/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/53/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14041&quot; title=&quot;Client MetaCache is cleared if a ThrottlingException is thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14041&quot;&gt;&lt;del&gt;HBASE-14041&lt;/del&gt;&lt;/a&gt; Do not clear MetaCache if a ThrottlingException is thrown (busbey: rev de862f38b926536825b24bb923de83a5826de441)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12744166" name="0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t-v2.patch" size="2819" author="Eungsop Yoo" created="Wed, 8 Jul 2015 08:09:07 +0000"/>
                            <attachment id="12744408" name="0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t-v3.patch" size="2920" author="Eungsop Yoo" created="Thu, 9 Jul 2015 04:56:55 +0000"/>
                            <attachment id="12744142" name="0001-Do-not-clear-MetaCache-if-a-ThrottlingException-is-t.patch" size="2329" author="Eungsop Yoo" created="Wed, 8 Jul 2015 05:34:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jul 2015 06:22:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gz3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>