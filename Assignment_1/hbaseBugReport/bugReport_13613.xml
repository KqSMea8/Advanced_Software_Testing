<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:45:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13613/HBASE-13613.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13613] Add test to verify DDL operations from admin when the master is restarted</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13613</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Following an offline conversation with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syuanjiang&quot; class=&quot;user-hover&quot; rel=&quot;syuanjiang&quot;&gt;Stephen Yuan Jiang&lt;/a&gt; we should add back TestMasterRestartWithProcedures. &lt;br/&gt;
more or less it is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; but running in a controlled unit-test form. it is exercising the kill in a random point of execution + wal replay of the procedure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12826846">HBASE-13613</key>
            <summary>Add test to verify DDL operations from admin when the master is restarted</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12860479">HBASE-14336</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 May 2015 04:35:27 +0000</created>
                <updated>Wed, 16 Dec 2015 22:37:57 +0000</updated>
                            <resolved>Wed, 16 Dec 2015 22:27:48 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                                    <component>proc-v2</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14526292" author="syuanjiang" created="Mon, 4 May 2015 06:00:08 +0000"  >&lt;p&gt;+1 - LGTM&lt;/p&gt;</comment>
                            <comment id="14526343" author="hadoopqa" created="Mon, 4 May 2015 07:17:36 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12730113/HBASE-13613-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12730113/HBASE-13613-v0.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 1f02fffd044245fe777c2194517234950d530b35.&lt;br/&gt;
  ATTACHMENT ID: 12730113&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13933//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14529394" author="srikanth235" created="Tue, 5 May 2015 22:12:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14587260" author="ndimiduk" created="Tue, 16 Jun 2015 00:57:35 +0000"  >&lt;p&gt;This good to go fellas?&lt;/p&gt;</comment>
                            <comment id="14590218" author="ndimiduk" created="Wed, 17 Jun 2015 18:12:12 +0000"  >&lt;p&gt;Test times out for me locally on master.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 187.375 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures
testMasterProcsWithMasterRestarting(org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures)  Time elapsed: 186.938 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.Exception: test timed out after 180000 milliseconds
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hbase.client.RpcRetryingCallerImpl.callWithRetries(RpcRetryingCallerImpl.java:160)
        at org.apache.hadoop.hbase.client.HBaseAdmin.executeCallable(HBaseAdmin.java:3906)
        at org.apache.hadoop.hbase.client.HBaseAdmin.access$400(HBaseAdmin.java:186)
        at org.apache.hadoop.hbase.client.HBaseAdmin$ProcedureFuture.getProcedureResult(HBaseAdmin.java:4179)
        at org.apache.hadoop.hbase.client.HBaseAdmin$ProcedureFuture.waitProcedureResult(HBaseAdmin.java:4131)
        at org.apache.hadoop.hbase.client.HBaseAdmin$ProcedureFuture.get(HBaseAdmin.java:4087)
        at org.apache.hadoop.hbase.client.HBaseAdmin.createTable(HBaseAdmin.java:563)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures$1.call(TestMasterRestartWithProcedures.java:106)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures$1.call(TestMasterRestartWithProcedures.java:101)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures.runRollbackableOperation(TestMasterRestartWithProcedures.java:171)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures.testMasterProcsWithMasterRestarting(TestMasterRestartWithProcedures.java:101)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s the run log.&lt;/p&gt;</comment>
                            <comment id="14590753" author="hadoopqa" created="Wed, 17 Jun 2015 22:32:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12740167/org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12740167/org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures-output.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 623fd63827b2953c150597f24c7205737119bebe.&lt;br/&gt;
  ATTACHMENT ID: 12740167&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 555 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14448//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14448//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14595963" author="busbey" created="Mon, 22 Jun 2015 14:11:53 +0000"  >&lt;p&gt;this passes locally for me on master just fine. Leaving in scope for 1.2.0 for now. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; feel free to bump out if you won&apos;t have time to figure out what went wrong in Nick&apos;s case.&lt;/p&gt;</comment>
                            <comment id="14654591" author="ndimiduk" created="Wed, 5 Aug 2015 00:35:54 +0000"  >&lt;p&gt;Now when i run, I see&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn clean test -Dtest=TestMasterRestartWithProcedures
...
Running org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 188.423 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures
testMasterProcsWithMasterRestarting(org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures)  Time elapsed: 187.858 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.Exception: test timed out after 180000 milliseconds
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hbase.client.RpcRetryingCallerImpl.callWithRetries(RpcRetryingCallerImpl.java:160)
        at org.apache.hadoop.hbase.client.HBaseAdmin.executeCallable(HBaseAdmin.java:3989)
        at org.apache.hadoop.hbase.client.HBaseAdmin.access$500(HBaseAdmin.java:186)
        at org.apache.hadoop.hbase.client.HBaseAdmin$ProcedureFuture.getProcedureResult(HBaseAdmin.java:4364)
        at org.apache.hadoop.hbase.client.HBaseAdmin$ProcedureFuture.waitProcedureResult(HBaseAdmin.java:4316)
        at org.apache.hadoop.hbase.client.HBaseAdmin$ProcedureFuture.get(HBaseAdmin.java:4272)
        at org.apache.hadoop.hbase.client.HBaseAdmin.createTable(HBaseAdmin.java:567)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures$1.call(TestMasterRestartWithProcedures.java:106)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures$1.call(TestMasterRestartWithProcedures.java:101)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures.runRollbackableOperation(TestMasterRestartWithProcedures.java:171)
        at org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures.testMasterProcsWithMasterRestarting(TestMasterRestartWithProcedures.java:101)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15060996" author="busbey" created="Wed, 16 Dec 2015 22:16:17 +0000"  >&lt;p&gt;moving out of patch available pending feedback on above.&lt;/p&gt;</comment>
                            <comment id="15061024" author="mbertozzi" created="Wed, 16 Dec 2015 22:27:48 +0000"  >&lt;p&gt;closing this one, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13470&quot; title=&quot;High level Integration test for master DDL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13470&quot;&gt;&lt;del&gt;HBASE-13470&lt;/del&gt;&lt;/a&gt; implemented an integration test which is better  IntegrationTestDDLMasterFailover.&lt;br/&gt;
also we have the TestMasterFailover which test the master restart of the DDLs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12730113" name="HBASE-13613-v0.patch" size="8452" author="mbertozzi" created="Mon, 4 May 2015 04:36:13 +0000"/>
                            <attachment id="12740167" name="org.apache.hadoop.hbase.master.procedure.TestMasterRestartWithProcedures-output.txt" size="4408974" author="ndimiduk" created="Wed, 17 Jun 2015 18:12:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 May 2015 06:00:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e8dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>