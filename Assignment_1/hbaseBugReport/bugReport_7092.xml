<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:42:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7092/HBASE-7092.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7092] RegionServer OOM related to onlineregions</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7092</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;One instance of &quot;java.util.concurrent.ConcurrentHashMap&quot; loaded by &quot;&amp;lt;system class loader&amp;gt;&quot; occupies 3,972,154,848 (92.88%) bytes. The instance is referenced by org.apache.hadoop.hbase.regionserver.HRegionServer @ 0x7038d3798 , loaded by &quot;sun.misc.Launcher$AppClassLoader @ 0x703994668&quot;. The memory is accumulated in one instance of &quot;java.util.concurrent.ConcurrentHashMap$Segment[]&quot; loaded by &quot;&amp;lt;system class loader&amp;gt;&quot;.&lt;/p&gt;

&lt;p&gt;Keywords&lt;br/&gt;
sun.misc.Launcher$AppClassLoader @ 0x703994668&lt;br/&gt;
java.util.concurrent.ConcurrentHashMap&lt;br/&gt;
java.util.concurrent.ConcurrentHashMap$Segment[]&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614620">HBASE-7092</key>
            <summary>RegionServer OOM related to onlineregions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Nov 2012 00:16:47 +0000</created>
                <updated>Mon, 23 Sep 2013 18:23:58 +0000</updated>
                            <resolved>Mon, 5 Nov 2012 19:46:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489866" author="jxiang" created="Sat, 3 Nov 2012 00:18:42 +0000"  >&lt;p&gt;Started a 4 nodes cluster with JDK1.7. Ran ycsb for a short time and all regionserver died due to OOM.&lt;/p&gt;</comment>
                            <comment id="13489908" author="stack" created="Sat, 3 Nov 2012 02:46:33 +0000"  >&lt;p&gt;You have a heap dump Jimmy that we could take a look at ?  What jdk1.7 version?&lt;/p&gt;</comment>
                            <comment id="13490202" author="jxiang" created="Sun, 4 Nov 2012 15:41:43 +0000"  >&lt;p&gt;I do have a heap dump which is more than 4GB.  I am using 1.7_9.  I will try 1.6 and see if I get the same issue so that I can find out it is really a jdk issue or a new code issue.&lt;/p&gt;</comment>
                            <comment id="13490810" author="jxiang" created="Mon, 5 Nov 2012 18:43:36 +0000"  >&lt;p&gt;I got the same issue with jdk 1.6.  So it is not a jdk issue.  Uploaded the head-dump image shows it may related to onlineregions.&lt;/p&gt;</comment>
                            <comment id="13490860" author="jxiang" created="Mon, 5 Nov 2012 19:46:13 +0000"  >&lt;p&gt;Found out the root cause: I have too many regions in each region server.  Each region allocates too much block cache.&lt;/p&gt;

&lt;p&gt;So it is a configuration issue.  Closed as Invalid.&lt;/p&gt;</comment>
                            <comment id="13490915" author="jxiang" created="Mon, 5 Nov 2012 20:49:39 +0000"  >&lt;p&gt;Actually, it is not block cache.  It is memstore buffer.&lt;/p&gt;</comment>
                            <comment id="13491712" author="stack" created="Tue, 6 Nov 2012 19:02:47 +0000"  >&lt;p&gt;How many regions per server?   4G or RAM?  I should add a note to important configs. in refguide Jimmy?  In 0.96 slab is on by default.&lt;/p&gt;</comment>
                            <comment id="13491715" author="jxiang" created="Tue, 6 Nov 2012 19:07:13 +0000"  >&lt;p&gt;I have about 2600 regions per server, and just 4G max heap. Slab is on by default in hbase-default.xml, not the code.&lt;/p&gt;</comment>
                            <comment id="13491786" author="stack" created="Tue, 6 Nov 2012 20:20:53 +0000"  >&lt;p&gt;I added a note to the MSLAB section that lots of regions could cause you OOME (MSLAB is on since 0.92, not 0.96 as I said above)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552135" name="heap-dump.png" size="193587" author="jxiang" created="Mon, 5 Nov 2012 18:40:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 3 Nov 2012 02:46:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eomn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>