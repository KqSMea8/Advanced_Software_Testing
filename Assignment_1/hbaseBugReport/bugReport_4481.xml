<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:19:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4481/HBASE-4481.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4481] TestMergeTool failed in 0.92 build 20</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4481</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestMergeTool failed due to the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.StringIndexOutOfBoundsException: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; index out of range: -1
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.substring(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:1937)
	at org.apache.hadoop.hbase.ServerName.parseHostname(ServerName.java:81)
	at org.apache.hadoop.hbase.ServerName.&amp;lt;init&amp;gt;(ServerName.java:63)
	at org.apache.hadoop.hbase.MasterAddressTracker.getMasterAddress(MasterAddressTracker.java:62)
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:583)
	at org.apache.hadoop.hbase.client.HBaseAdmin.&amp;lt;init&amp;gt;(HBaseAdmin.java:108)
	at org.apache.hadoop.hbase.client.HBaseAdmin.checkHBaseAvailable(HBaseAdmin.java:1588)
	at org.apache.hadoop.hbase.util.Merge.run(Merge.java:94)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)
	at org.apache.hadoop.hbase.util.TestMergeTool.mergeAndVerify(TestMergeTool.java:186)
	at org.apache.hadoop.hbase.util.TestMergeTool.testMergeTool(TestMergeTool.java:264)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Log can be found at:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-0.92/20/testReport/junit/org.apache.hadoop.hbase.util/TestMergeTool/testMergeTool/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-0.92/20/testReport/junit/org.apache.hadoop.hbase.util/TestMergeTool/testMergeTool/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12524572">HBASE-4481</key>
            <summary>TestMergeTool failed in 0.92 build 20</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Sep 2011 18:29:03 +0000</created>
                <updated>Tue, 28 Aug 2012 05:15:27 +0000</updated>
                            <resolved>Tue, 28 Aug 2012 05:15:27 +0000</resolved>
                                    <version>0.92.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13114314" author="yuzhihong@gmail.com" created="Sun, 25 Sep 2011 18:38:06 +0000"  >&lt;p&gt;Patch for debugging this issue.&lt;/p&gt;</comment>
                            <comment id="13114818" author="stack" created="Mon, 26 Sep 2011 17:24:53 +0000"  >&lt;p&gt;This looks we are attaching to a zk that has vestiges of a 0.90 run left up in it.&lt;/p&gt;</comment>
                            <comment id="13114819" author="stack" created="Mon, 26 Sep 2011 17:25:12 +0000"  >&lt;p&gt;... does this test pick up the right zk client port?&lt;/p&gt;</comment>
                            <comment id="13121079" author="stack" created="Wed, 5 Oct 2011 16:09:00 +0000"  >&lt;p&gt;This test failed in &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2296&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2296&lt;/a&gt;  Indeed its finding a running zk and so thinks hbase is not down.  The stack trace is different because its a zk with palatable values as opposed to those seen above by Ted:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-------------------------------------------------------------------------------
Test set: org.apache.hadoop.hbase.util.TestMergeTool
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.871 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
testMergeTool(org.apache.hadoop.hbase.util.TestMergeTool)  Time elapsed: 5.637 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: &apos;merging regions 0 and 1&apos; failed with errCode -1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13121081" author="stack" created="Wed, 5 Oct 2011 16:09:49 +0000"  >&lt;p&gt;Here is a little patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
pynchon-590:clean-trunk stack$ svn diff
Index: src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java
===================================================================
--- src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java       (revision 1179278)
+++ src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java       (working copy)
@@ -60,6 +60,11 @@
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
     &lt;span class=&quot;code-comment&quot;&gt;// Set the timeout down &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; test will take a &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; to complete.
&lt;/span&gt;     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf.setLong(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.zookeeper.recoverable.waittime&quot;&lt;/span&gt;, 1000);
+    &lt;span class=&quot;code-comment&quot;&gt;// Make it so we &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; and connect to a zk that is not there (&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; we might
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// find a zk ensemble put up by another concurrent test and &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; will
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// mess up &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; test.  Choose unlikely port. Default test port is 21818.
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// Default zk port is 2181.
&lt;/span&gt;+    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf.setInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.zookeeper.property.clientPort&quot;&lt;/span&gt;, 10001);
 
     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.hstore.compactionThreshold&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;);
 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let me apply it and see if it helps.&lt;/p&gt;</comment>
                            <comment id="13121083" author="stack" created="Wed, 5 Oct 2011 16:10:44 +0000"  >&lt;p&gt;Marking critical so it gets on our radar.&lt;/p&gt;</comment>
                            <comment id="13121089" author="stack" created="Wed, 5 Oct 2011 16:13:42 +0000"  >&lt;p&gt;Committed to two branches and trunk.  Lets see if it improves things.&lt;/p&gt;</comment>
                            <comment id="13121312" author="hudson" created="Wed, 5 Oct 2011 18:14:58 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #45 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/45/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/45/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4481&quot; title=&quot;TestMergeTool failed in 0.92 build 20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4481&quot;&gt;&lt;del&gt;HBASE-4481&lt;/del&gt;&lt;/a&gt; TestMergeTool failed in 0.92 build 20&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13121445" author="hudson" created="Wed, 5 Oct 2011 20:32:12 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2297 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2297/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2297/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4481&quot; title=&quot;TestMergeTool failed in 0.92 build 20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4481&quot;&gt;&lt;del&gt;HBASE-4481&lt;/del&gt;&lt;/a&gt; TestMergeTool failed in 0.92 build 20&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13442836" author="jesse_yates" created="Tue, 28 Aug 2012 00:24:52 +0000"  >&lt;p&gt;Can we close this out?&lt;/p&gt;</comment>
                            <comment id="13442962" author="stack" created="Tue, 28 Aug 2012 05:15:27 +0000"  >&lt;p&gt;Closing.  Stale.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12496402" name="4481-dbg.txt" size="619" author="yuzhihong@gmail.com" created="Sun, 25 Sep 2011 18:38:06 +0000"/>
                            <attachment id="12497807" name="4481.txt" size="908" author="stack" created="Wed, 5 Oct 2011 16:14:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Sep 2011 17:24:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hr1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>