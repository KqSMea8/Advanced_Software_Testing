<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8944/HBASE-8944.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8944] Document workaround for MiniDFSCluster exceptions when running tests</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8944</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The HBaseTestingUtility appears to have an unhandled NullPointerException in certain environments.   It works on Apache HBase 0.94.6.1 on Mac OSX but not in certain Linux environments such as CentOS. &lt;/p&gt;

&lt;p&gt;In Java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HBaseTestingUtility testingUtility = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HBaseTestingUtility();
testingUtility.startMiniCluster(1);  &lt;span class=&quot;code-comment&quot;&gt;// blows up on CentOS Linux but not Mac OSX&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Creates this exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR in (create-table) (MiniDFSCluster.java:426)
Uncaught exception, not in assertion.
expected: nil
  actual: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
 at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes (MiniDFSCluster.java:426)
    org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt; (MiniDFSCluster.java:284)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniDFSCluster (HBaseTestingUtility.java:444)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster (HBaseTestingUtility.java:612)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster (HBaseTestingUtility.java:568)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster (HBaseTestingUtility.java:555)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I also created a stack overflow ticket here, with more info:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/17625938/hbase-minidfscluster-java-fails-in-certain-environments&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/17625938/hbase-minidfscluster-java-fails-in-certain-environments&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;p&gt;1.  Download a copy of CentOS&lt;br/&gt;
2.  Install Java&lt;br/&gt;
3.  Fire up a minicluster as part of the HBaseTestingUtility&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657600">HBASE-8944</key>
            <summary>Document workaround for MiniDFSCluster exceptions when running tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="mobiusinversion">David Williams</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Jul 2013 18:31:10 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:53 +0000</updated>
                            <resolved>Mon, 15 Jul 2013 19:13:18 +0000</resolved>
                                    <version>0.94.6</version>
                    <version>0.94.6.1</version>
                                    <fixVersion>0.98.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13708695" author="stack" created="Mon, 15 Jul 2013 17:40:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mobiusinversion&quot; class=&quot;user-hover&quot; rel=&quot;mobiusinversion&quot;&gt;David Williams&lt;/a&gt; What hdfs/hadoop are you running?  Looking at the hdfs src, cut and paste what is at #426 in org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes if you don&apos;t mind.&lt;/p&gt;</comment>
                            <comment id="13708743" author="mobiusinversion" created="Mon, 15 Jul 2013 17:59:00 +0000"  >&lt;p&gt;Hi Stack, I&apos;m checking out the source tree now.  The sources aren&apos;t included on Maven Central. Should know more when its down checking out.  I am going to need to identify which branch the 1.2.0 build is based on. &lt;/p&gt;</comment>
                            <comment id="13708748" author="stack" created="Mon, 15 Jul 2013 18:02:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mobiusinversion&quot; class=&quot;user-hover&quot; rel=&quot;mobiusinversion&quot;&gt;David Williams&lt;/a&gt; So a 0.94.6.1 against an hadoop 1.2?  If so, you are into new territory so you very well may have uncovered an incompatibility.  Lets figure it.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13708760" author="apurtell" created="Mon, 15 Jul 2013 18:12:41 +0000"  >&lt;p&gt;Isn&apos;t this &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2556&quot; title=&quot;HDFS tests fail on systems with umask 0002&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2556&quot;&gt;HDFS-2556&lt;/a&gt;? Try &lt;tt&gt;umask 022&lt;/tt&gt; before running tests to confirm.&lt;/p&gt;</comment>
                            <comment id="13708783" author="mobiusinversion" created="Mon, 15 Jul 2013 18:27:16 +0000"  >&lt;p&gt;Great, sounds good.  I testes 0.94.6.1 against Hadoop 1.1.2 and 1.0.4.  Using 1.1.2 the tests pass on Mac OSX but not CentOS.  Using 1.0.4 the tests fail as well on Mac OSX with this error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR in (create-table) (MiniHBaseCluster.java:224)
Uncaught exception, not in assertion.
expected: nil
  actual: java.io.IOException: Shutting down
 at org.apache.hadoop.hbase.MiniHBaseCluster.init (MiniHBaseCluster.java:224)
    org.apache.hadoop.hbase.MiniHBaseCluster.&amp;lt;init&amp;gt; (MiniHBaseCluster.java:87)
    org.apache.hadoop.hbase.MiniHBaseCluster.&amp;lt;init&amp;gt; (MiniHBaseCluster.java:78)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniHBaseCluster (HBaseTestingUtility.java:657)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster (HBaseTestingUtility.java:627)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster (HBaseTestingUtility.java:575)
    org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster (HBaseTestingUtility.java:562)
    hbase.table_test$test_config.doInvoke (table_test.clj:10)
    clojure.lang.RestFn.invoke (RestFn.java:397)
    hbase.table_test/fn (table_test.clj:19)
    clojure.test$test_var$fn__7145.invoke (test.clj:701)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So so far the results look something like this:&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;hbase version&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;hadoop version&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Mac OSX&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;CentOS&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.94.9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.2.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;pass&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fail&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.94.9&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.1.2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;pass&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fail&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.94.6.1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.2.0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;pass&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fail&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.94.6.1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.1.2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;pass&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fail&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0.94.6.1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1.0.4&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fail&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;fail&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
</comment>
                            <comment id="13708785" author="mobiusinversion" created="Mon, 15 Jul 2013 18:28:00 +0000"  >&lt;p&gt;Update, based on Andrew Purtell&apos;s input, running&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ umask 022
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fixes this issue on Linux&lt;/p&gt;</comment>
                            <comment id="13708787" author="mobiusinversion" created="Mon, 15 Jul 2013 18:29:00 +0000"  >&lt;p&gt;Also for all version combinations above.&lt;/p&gt;</comment>
                            <comment id="13708806" author="apurtell" created="Mon, 15 Jul 2013 18:50:38 +0000"  >&lt;p&gt;Thanks for taking the time to check &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mobiusinversion&quot; class=&quot;user-hover&quot; rel=&quot;mobiusinversion&quot;&gt;David Williams&lt;/a&gt;. As this is &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2556&quot; title=&quot;HDFS tests fail on systems with umask 0002&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2556&quot;&gt;HDFS-2556&lt;/a&gt;, would you consider the attached update to our troubleshooting manual section sufficient here?&lt;/p&gt;</comment>
                            <comment id="13708811" author="mobiusinversion" created="Mon, 15 Jul 2013 18:52:23 +0000"  >&lt;p&gt;Hi Andrew, yes, absolutely.  And thanks for taking the time to check this out.  &lt;/p&gt;</comment>
                            <comment id="13708817" author="stack" created="Mon, 15 Jul 2013 18:54:36 +0000"  >&lt;p&gt;+1 on patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13708841" author="apurtell" created="Mon, 15 Jul 2013 19:12:31 +0000"  >&lt;p&gt;What I committed to trunk. Adds a new section to troubleshooting section for unit and integration tests. Eyeballed output html locally with Firefox.&lt;/p&gt;</comment>
                            <comment id="13709053" author="hudson" created="Mon, 15 Jul 2013 22:13:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4255 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4255/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4255/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8944&quot; title=&quot;Document workaround for MiniDFSCluster exceptions when running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8944&quot;&gt;&lt;del&gt;HBASE-8944&lt;/del&gt;&lt;/a&gt;. Document workaround for MiniDFSCluster exceptions when running tests (apurtell: rev 1503429)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/troubleshooting.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709272" author="hudson" created="Tue, 16 Jul 2013 00:40:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #617 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/617/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/617/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8944&quot; title=&quot;Document workaround for MiniDFSCluster exceptions when running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8944&quot;&gt;&lt;del&gt;HBASE-8944&lt;/del&gt;&lt;/a&gt;. Document workaround for MiniDFSCluster exceptions when running tests (apurtell: rev 1503429)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/docbkx/troubleshooting.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15016090" author="lars_francke" created="Fri, 20 Nov 2015 11:53:53 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12592381" name="8944.patch" size="2004" author="apurtell" created="Mon, 15 Jul 2013 19:12:31 +0000"/>
                            <attachment id="12592374" name="8944.patch" size="1484" author="apurtell" created="Mon, 15 Jul 2013 18:50:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 15 Jul 2013 17:40:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m9ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>