<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:30:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12190/HBASE-12190.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12190] Split thread pool larger than one results in fatal failure during region splits</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12190</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have been playing with different sizes for long/short compaction and split thread poll sizes. It is definitely clear, that any size of split thread pool large than 1 (one) results in a fatal errors during region splits.&lt;/p&gt;

&lt;p&gt;Here is the log file snippet of a local test case :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-10-07 11:04:48,441 [INFO|org.apache.hadoop.hbase.regionserver.HRegionFileSystem|HRegionFileSystem] The hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50215/user/vrodionov/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TABLE_A/0ace9f564c05043a45cb44b2867432f8/.splits directory exists.  Hence deleting it to recreate it
&lt;/span&gt;put: 230000
2014-10-07 11:04:48,697 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741862_1038{blockUCState=COMMITTED, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-0b95bff8-1354-42cc-bd16-a5eafcb5bb27:NORMAL|RBW]]} size 22106983
2014-10-07 11:04:49,100 [INFO|org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher|DefaultStoreFlusher] Flushed, sequenceid=495, memsize=63.2 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50215/user/vrodionov/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TABLE_A/0ace9f564c05043a45cb44b2867432f8/.tmp/8d746dd585df4669a505fe2ba0ddafe1
&lt;/span&gt;2014-10-07 11:04:49,110 [INFO|org.apache.hadoop.hbase.regionserver.HStore|HStore] Added hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50215/user/vrodionov/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TABLE_A/0ace9f564c05043a45cb44b2867432f8/fam_a/8d746dd585df4669a505fe2ba0ddafe1, entries=360000, sequenceid=495, filesize=21.1 M
&lt;/span&gt;2014-10-07 11:04:49,111 [INFO|org.apache.hadoop.hbase.regionserver.HRegion|HRegion] Finished memstore flush of ~63.17 MB/66240000, currentsize=42.11 MB/44160000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8. in 674ms, sequenceid=495, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2014-10-07 11:04:49,111 [INFO|org.apache.hadoop.hbase.regionserver.HRegion|HRegion] Started memstore flush &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8., current region memstore size 42.11 MB
2014-10-07 11:04:49,267 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741863_1039{blockUCState=COMMITTED, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-414e0e79-1c18-4469-9458-6842a0b96131:NORMAL|RBW]]} size 14745108
2014-10-07 11:04:49,669 [INFO|org.apache.hadoop.hbase.regionserver.DefaultStoreFlusher|DefaultStoreFlusher] Flushed, sequenceid=514, memsize=42.1 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50215/user/vrodionov/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TABLE_A/0ace9f564c05043a45cb44b2867432f8/.tmp/785a7048b1b849509e3e622cdaceb033
&lt;/span&gt;2014-10-07 11:04:49,682 [INFO|org.apache.hadoop.hbase.regionserver.HStore|HStore] Added hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:50215/user/vrodionov/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TABLE_A/0ace9f564c05043a45cb44b2867432f8/fam_a/785a7048b1b849509e3e622cdaceb033, entries=240000, sequenceid=514, filesize=14.1 M
&lt;/span&gt;2014-10-07 11:04:49,683 [INFO|org.apache.hadoop.hbase.regionserver.HRegion|HRegion] Finished memstore flush of ~42.11 MB/44160000, currentsize=0 B/0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8. in 572ms, sequenceid=514, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2014-10-07 11:04:49,686 [INFO|org.apache.hadoop.hbase.regionserver.HStore|HStore] Closed fam_a
2014-10-07 11:04:49,687 [INFO|org.apache.hadoop.hbase.regionserver.HRegion|HRegion] Closed TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8.
2014-10-07 11:04:49,687 [WARN|org.apache.hadoop.hbase.regionserver.HRegion|HRegion] Region TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8. already closed
2014-10-07 11:04:49,688 [INFO|org.apache.hadoop.hbase.regionserver.SplitRequest|SplitRequest] Running rollback/cleanup of failed split of TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8.; Failed to close region: already closed by another thread
java.io.IOException: Failed to close region: already closed by another thread
	at org.apache.hadoop.hbase.regionserver.SplitTransaction.&amp;lt;clinit&amp;gt;(SplitTransaction.java:190)
	at org.apache.hadoop.hbase.regionserver.SplitRequest.run(SplitRequest.java:65)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
2014-10-07 11:04:49,690 [ERROR|org.apache.hadoop.hbase.master.AssignmentManager|AssignmentManager] Failed to transition region from {0ace9f564c05043a45cb44b2867432f8 state=SPLITTING, ts=1412705087544, server=10.1.2.105,50226,1412705045018} on SPLIT_REVERTED by 10.1.2.105,50226,1412705045018: Some daughter is not known to be splitting on 10.1.2.105,50226,1412705045018, a=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, b=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2014-10-07 11:04:49,690 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] Failed to transition {ENCODED =&amp;gt; 0ace9f564c05043a45cb44b2867432f8, NAME =&amp;gt; &apos;TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8.&apos;, STARTKEY =&amp;gt; &apos;row000000037607&apos;, ENDKEY =&amp;gt; &apos;&apos;} to SPLIT_REVERTED: Some daughter is not known to be splitting on 10.1.2.105,50226,1412705045018, a=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, b=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2014-10-07 11:04:49,692 [FATAL|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] ABORTING region server 10.1.2.105,50226,1412705045018: Abort; we got an error after point-of-no-&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
2014-10-07 11:04:49,692 [FATAL|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] RegionServer abort: loaded coprocessors are: [org.apache.hadoop.hbase.coprocessor.MultiRowMutationEndpoint]
2014-10-07 11:04:49,699 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741864_1040{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-0b95bff8-1354-42cc-bd16-a5eafcb5bb27:NORMAL|RBW]]} size 0
2014-10-07 11:04:49,700 [ERROR|org.apache.hadoop.hbase.master.MasterRpcServices|MasterRpcServices] Region server 10.1.2.105,50226,1412705045018 reported a fatal error:
ABORTING region server 10.1.2.105,50226,1412705045018: Abort; we got an error after point-of-no-&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
2014-10-07 11:04:49,702 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] STOPPED: Abort; we got an error after point-of-no-&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
2014-10-07 11:04:49,702 [INFO|org.apache.hadoop.hbase.regionserver.SplitLogWorker|SplitLogWorker] Sending interrupt to stop the worker thread
2014-10-07 11:04:49,702 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] Stopping infoServer
2014-10-07 11:04:49,702 [INFO|org.apache.hadoop.hbase.regionserver.SplitLogWorker|SplitLogWorker] SplitLogWorker interrupted. Exiting. 
2014-10-07 11:04:49,702 [INFO|org.apache.hadoop.hbase.regionserver.SplitLogWorker|SplitLogWorker] SplitLogWorker 10.1.2.105,50226,1412705045018 exiting
2014-10-07 11:04:49,704 [INFO|org.mortbay.log|Slf4jLog] Stopped SelectChannelConnector@0.0.0.0:0
2014-10-07 11:04:49,706 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741865_1041{blockUCState=COMMITTED, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-414e0e79-1c18-4469-9458-6842a0b96131:NORMAL|RBW]]} size 35
2014-10-07 11:04:49,807 [INFO|org.apache.hadoop.hbase.regionserver.snapshot.RegionServerSnapshotManager|RegionServerSnapshotManager] Stopping RegionServerSnapshotManager abruptly.
2014-10-07 11:04:49,808 [INFO|org.apache.hadoop.hbase.regionserver.ServerNonceManager$1|Chore] regionserver&lt;span class=&quot;code-comment&quot;&gt;//10.1.2.105:0.nonceCleaner exiting
&lt;/span&gt;2014-10-07 11:04:49,808 [INFO|org.apache.hadoop.hbase.procedure.flush.RegionServerFlushTableProcedureManager|RegionServerFlushTableProcedureManager] Stopping region server flush procedure manager abruptly.
2014-10-07 11:04:49,808 [INFO|org.apache.hadoop.hbase.regionserver.MemStoreFlusher|MemStoreFlusher$FlushHandler] MemStoreFlusher.1 exiting
2014-10-07 11:04:49,808 [INFO|org.apache.hadoop.hbase.regionserver.MemStoreFlusher|MemStoreFlusher$FlushHandler] MemStoreFlusher.0 exiting
2014-10-07 11:04:49,807 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer$CompactionChecker|Chore] regionserver&lt;span class=&quot;code-comment&quot;&gt;//10.1.2.105:0.compactionChecker exiting
&lt;/span&gt;2014-10-07 11:04:49,809 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] aborting server 10.1.2.105,50226,1412705045018
2014-10-07 11:04:49,809 [INFO|org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation|ConnectionManager$HConnectionImplementation] Closing zookeeper sessionid=0x148ebc846910005
2014-10-07 11:04:49,812 [INFO|org.apache.hadoop.hbase.regionserver.HStore|HStore] Closed fam_a
2014-10-07 11:04:49,813 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] Waiting on 1 regions to close
2014-10-07 11:04:49,813 [INFO|org.apache.hadoop.hbase.regionserver.HRegion|HRegion] Closed TABLE_A,,1412705075738.3b2edac70735ec721cd1ccba05211e33.
2014-10-07 11:04:50,014 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer|HRegionServer] stopping server 10.1.2.105,50226,1412705045018; all regions closed.
2014-10-07 11:04:50,019 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741860_1036{blockUCState=COMMITTED, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-0b95bff8-1354-42cc-bd16-a5eafcb5bb27:NORMAL|RBW]]} size 37803365
2014-10-07 11:04:50,118 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741866_1042{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-0b95bff8-1354-42cc-bd16-a5eafcb5bb27:NORMAL|RBW]]} size 0
2014-10-07 11:04:50,130 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741867_1043{blockUCState=COMMITTED, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-414e0e79-1c18-4469-9458-6842a0b96131:NORMAL|RBW]]} size 35
2014-10-07 11:04:50,522 [INFO|org.apache.hadoop.hbase.regionserver.Leases|Leases] RS:0;10.1.2.105:50226 closing leases
2014-10-07 11:04:50,522 [INFO|org.apache.hadoop.hbase.regionserver.Leases|Leases] RS:0;10.1.2.105:50226 closed leases
2014-10-07 11:04:50,546 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741868_1044{blockUCState=COMMITTED, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-0b95bff8-1354-42cc-bd16-a5eafcb5bb27:NORMAL|RBW]]} size 35
2014-10-07 11:04:50,960 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741869_1045{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-414e0e79-1c18-4469-9458-6842a0b96131:NORMAL|RBW]]} size 0
2014-10-07 11:04:50,966 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741870_1046{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-0b95bff8-1354-42cc-bd16-a5eafcb5bb27:NORMAL|RBW]]} size 0
2014-10-07 11:04:50,974 [INFO|BlockStateChange|BlockManager] BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:50216 is added to blk_1073741871_1047{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[[DISK]DS-414e0e79-1c18-4469-9458-6842a0b96131:NORMAL|RBW]]} size 0
2014-10-07 11:04:50,975 [INFO|org.apache.hadoop.hbase.regionserver.SplitRequest|SplitRequest] Skip rollback/cleanup of failed split of TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8. because server is stopped
java.io.IOException: Failed to notify master that split passed PONR: TABLE_A,row000000037607,1412705075738.0ace9f564c05043a45cb44b2867432f8.
	at org.apache.hadoop.hbase.regionserver.SplitTransaction.createDaughters(SplitTransaction.java:274)
	at org.apache.hadoop.hbase.regionserver.SplitTransaction.execute(SplitTransaction.java:407)
	at org.apache.hadoop.hbase.regionserver.SplitRequest.run(SplitRequest.java:82)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
2014-10-07 11:04:55,340 [INFO|org.apache.hadoop.hbase.regionserver.HRegionServer$PeriodicMemstoreFlusher|Chore] regionserver&lt;span class=&quot;code-comment&quot;&gt;//10.1.2.105:0.periodicFlusher exiting
&lt;/span&gt;2014-10-07 11:04:55,340 [INFO|org.apache.hadoop.hbase.regionserver.Leases|Leases] regionserver&lt;span class=&quot;code-comment&quot;&gt;//10.1.2.105:0.leaseChecker closing leases
&lt;/span&gt;2014-10-07 11:04:55,341 [INFO|org.apache.hadoop.hbase.regionserver.Leases|Leases] regionserver&lt;span class=&quot;code-comment&quot;&gt;//10.1.2.105:0.leaseChecker closed leases
&lt;/span&gt;2014-10-07 11:04:57,509 [INFO|org.apache.hadoop.hbase.regionserver.LogRoller|LogRoller] LogRoller exiting.
2014-10-07 11:04:57,509 [INFO|org.apache.hadoop.hbase.regionserver.CompactSplitThread|CompactSplitThread] Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Split &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-10-07 11:04:57,509 [INFO|org.apache.hadoop.hbase.regionserver.CompactSplitThread|CompactSplitThread] Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Merge &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-10-07 11:04:57,509 [INFO|org.apache.hadoop.hbase.regionserver.CompactSplitThread|CompactSplitThread] Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Large Compaction &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-10-07 11:04:57,509 [INFO|org.apache.hadoop.hbase.regionserver.CompactSplitThread|CompactSplitThread] Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Small Compaction &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; to finish...
2014-10-07 11:04:57,512 [INFO|org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation|ConnectionManager$HConnectionImplementation] Closing zookeeper sessionid=0x148ebc846910006
2014-10-07 11:04:57,512 [INFO|org.apache.hadoop.hbase.ipc.RpcServer|RpcServer] Stopping server on 50226
2014-10-07 11:04:57,513 [INFO|org.apache.hadoop.hbase.ipc.RpcServer|RpcServer$Listener] RpcServer.listener,port=50226: stopping
2014-10-07 11:04:57,513 [INFO|org.apache.hadoop.hbase.ipc.RpcServer|RpcServer$Responder] RpcServer.responder: stopped
2014-10-07 11:04:57,513 [INFO|org.apache.hadoop.hbase.ipc.RpcServer|RpcServer$Responder] RpcServer.responder: stopping
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </description>
                <environment></environment>
        <key id="12746462">HBASE-12190</key>
            <summary>Split thread pool larger than one results in fatal failure during region splits</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vrodionov">Vladimir Rodionov</assignee>
                                    <reporter username="vrodionov">Vladimir Rodionov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Oct 2014 18:13:55 +0000</created>
                <updated>Tue, 7 Oct 2014 18:29:16 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14162235" author="vrodionov" created="Tue, 7 Oct 2014 18:16:34 +0000"  >&lt;p&gt;For above test run I set the following config:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    conf.set(HConstants.HBASE_REGION_SPLIT_POLICY_KEY,&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&quot;&lt;/span&gt;);
    conf.setInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.regionserver.thread.compaction.large&quot;&lt;/span&gt;, 4);
    conf.setInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.regionserver.thread.compaction.small&quot;&lt;/span&gt;, 4);
    conf.setInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.regionserver.thread.split&quot;&lt;/span&gt;, 2);
    &lt;span class=&quot;code-comment&quot;&gt;// Set max region file size to ~ 200M
&lt;/span&gt;    conf.setLong(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.hregion.max.filesize&quot;&lt;/span&gt;, 200000000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14162236" author="vrodionov" created="Tue, 7 Oct 2014 18:17:22 +0000"  >&lt;p&gt;When I set &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    conf.setInt(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.regionserver.thread.split&quot;&lt;/span&gt;, 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Everything works fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20w5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>