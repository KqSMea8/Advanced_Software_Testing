<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:03:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15411/HBASE-15411.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15411] Rewrite backup with Procedure V2 - phase 1</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15411</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently full / incremental backup is driven by BackupHandler (see call() method for flow).&lt;/p&gt;

&lt;p&gt;This issue is to rewrite the flow using Procedure V2.&lt;/p&gt;

&lt;p&gt;States (enum) for full / incremental backup would be introduced in Backup.proto which correspond to the steps performed in BackupHandler#call().&lt;br/&gt;
executeFromState() would pace the backup based on the current state.&lt;br/&gt;
serializeStateData() / deserializeStateData() would be used to persist state into procedure WAL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947773">HBASE-15411</key>
            <summary>Rewrite backup with Procedure V2 - phase 1</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 19:49:35 +0000</created>
                <updated>Tue, 5 Apr 2016 03:41:22 +0000</updated>
                            <resolved>Tue, 5 Apr 2016 03:41:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="15183617" author="yuzhihong@gmail.com" created="Mon, 7 Mar 2016 20:13:26 +0000"  >&lt;p&gt;Work in progress full backup procedure.&lt;/p&gt;</comment>
                            <comment id="15183938" author="yuzhihong@gmail.com" created="Mon, 7 Mar 2016 22:54:11 +0000"  >&lt;p&gt;Tentative patch based on patch v38 from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Since enum cannot be subclassed, I am still looking for a good way of letting IncrementalTableBackupProcedure reuse code with FullTableBackupProcedure.&lt;/p&gt;

&lt;p&gt;Currently code reuse is done through static methods.&lt;/p&gt;</comment>
                            <comment id="15187549" author="yuzhihong@gmail.com" created="Wed, 9 Mar 2016 18:09:42 +0000"  >&lt;p&gt;Patch v3 adds fullTableBackup() to HBaseAdmin and master.&lt;/p&gt;</comment>
                            <comment id="15188516" author="yuzhihong@gmail.com" created="Thu, 10 Mar 2016 02:18:05 +0000"  >&lt;p&gt;Patch v5 lets FullTableBackupProcedure implement TableProcedureInterface.&lt;/p&gt;

&lt;p&gt;Still encounters the following when running TestFullBackup#testFullBackupSingle :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2016-03-09 18:03:19,414 ERROR [ProcedureExecutor-0] server.NIOServerCnxnFactory$1(44): &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[ProcedureExecutor-0,5,main] died
java.lang.UnsupportedOperationException: RQs &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; non-table/non-server procedures are not implemented yet
  at org.apache.hadoop.hbase.master.procedure.MasterProcedureScheduler.doAdd(MasterProcedureScheduler.java:117)
  at org.apache.hadoop.hbase.master.procedure.MasterProcedureScheduler.addFront(MasterProcedureScheduler.java:92)
  at org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execProcedure(ProcedureExecutor.java:1175)
  at org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:855)
  at org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:808)
  at org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:75)
  at org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:494)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15188629" author="enis" created="Thu, 10 Mar 2016 03:58:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;Still encounters the following when running TestFullBackup#testFullBackupSingle :&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In the offline discussion, I think the plan was to submit the proc to the queue for the &lt;tt&gt;hbase:backup&lt;/tt&gt; table as a pseudo-global queue. cc. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=syuanjiang&quot; class=&quot;user-hover&quot; rel=&quot;syuanjiang&quot;&gt;Stephen Yuan Jiang&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="15189706" author="yuzhihong@gmail.com" created="Thu, 10 Mar 2016 18:43:19 +0000"  >&lt;p&gt;Patch v6 corrects the above problem by making SnapshotTableProcedure implement TableProcedureInterface.&lt;/p&gt;</comment>
                            <comment id="15191364" author="yuzhihong@gmail.com" created="Fri, 11 Mar 2016 18:46:45 +0000"  >&lt;p&gt;In test run of TestFullBackup#testFullBackupSingle, even though snapshot succeeded:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2016-03-10 20:33:13,000 DEBUG [B.defaultRpcServer.handler=1,queue=0,port=56481] snapshot.SnapshotManager(359): Snapshot &apos;{ ss=snapshot_1457670792650_default_test-1457670784996   table=test-1457670784996 type=FLUSH }&apos; has completed, notifying client.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;there was no occurrence of the following log at the beginning of state 3 (test finished soon after taking snapshot):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; SNAPSHOT_COPY:
          &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; snapshot copy
&lt;/span&gt;          LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;snapshot copy&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Tried moving snapshot action into FullTableBackupProcedure - result was the same.&lt;/p&gt;</comment>
                            <comment id="15191615" author="yuzhihong@gmail.com" created="Fri, 11 Mar 2016 22:33:46 +0000"  >&lt;p&gt;Patch v7 renames the HBaseAdmin method to backupTables and adds BackupType enum to this method so that the same method can be used to request both types of backups.&lt;/p&gt;</comment>
                            <comment id="15191795" author="yuzhihong@gmail.com" created="Sat, 12 Mar 2016 19:18:55 +0000"  >&lt;p&gt;Patch v9 makes full table backup work.&lt;/p&gt;</comment>
                            <comment id="15193709" author="yuzhihong@gmail.com" created="Mon, 14 Mar 2016 17:36:38 +0000"  >&lt;p&gt;Patch v11 makes incremental backup work.&lt;/p&gt;

&lt;p&gt;Existing tests are switched to using Admin API calls.&lt;/p&gt;</comment>
                            <comment id="15194109" author="yuzhihong@gmail.com" created="Mon, 14 Mar 2016 20:57:58 +0000"  >&lt;p&gt;Patch v12 accommodates the BackupUtil refactoring over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15198046" author="yuzhihong@gmail.com" created="Wed, 16 Mar 2016 20:03:18 +0000"  >&lt;p&gt;Patch v13 changes to using shared lock on hbase:backup table.&lt;/p&gt;

&lt;p&gt;Also adds place holders for workers and bandwidth parameters for Admin API (implementation being part of phase 2).&lt;/p&gt;</comment>
                            <comment id="15198407" author="yuzhihong@gmail.com" created="Wed, 16 Mar 2016 23:28:01 +0000"  >&lt;p&gt;Patch v14 simplifies restore related tests by dropping HBackupFileSystem since HBackupFileSystem is no longer needed in client API.&lt;/p&gt;</comment>
                            <comment id="15198611" author="hadoopqa" created="Thu, 17 Mar 2016 02:07:23 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 1s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; The patch file was not named according to hbase&apos;s naming conventions. Please see &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for instructions. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 4s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12793882/15411-v14.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12793882/15411-v14.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1029/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1029/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.2.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15200017" author="yuzhihong@gmail.com" created="Thu, 17 Mar 2016 17:43:14 +0000"  >&lt;p&gt;I tried extracting common code between FullTableBackupProcedure and IncrementalTableBackupProcedure into TableBackupProcedure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; class TableBackupProcedure
    &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; StateMachineProcedure&amp;lt;MasterProcedureEnv, IncrementalTableBackupState&amp;gt; 
    &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; TableProcedureInterface {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But I realized the above wouldn&apos;t work because FullTableBackupProcedure and IncrementalTableBackupProcedure use different enums for their states:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class FullTableBackupProcedure
    &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; StateMachineProcedure&amp;lt;MasterProcedureEnv, FullTableBackupState&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since extending multiple base classes is not supported by Java, I don&apos;t see how the common base class can be formed.&lt;/p&gt;</comment>
                            <comment id="15200080" author="yuzhihong@gmail.com" created="Thu, 17 Mar 2016 18:10:48 +0000"  >&lt;p&gt;Patch v15 adds workers and bandwidth parameters to FullTableBackupProcedure and IncrementalTableBackupProcedure ctors&lt;/p&gt;</comment>
                            <comment id="15200137" author="vrodionov" created="Thu, 17 Mar 2016 18:40:02 +0000"  >&lt;p&gt;Moved to Phase 1.&lt;/p&gt;</comment>
                            <comment id="15200166" author="hadoopqa" created="Thu, 17 Mar 2016 18:57:15 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 1s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; The patch file was not named according to hbase&apos;s naming conventions. Please see &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for instructions. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 3s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12794027/15411-v15.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12794027/15411-v15.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1047/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1047/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.2.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15202452" author="hadoopqa" created="Sat, 19 Mar 2016 01:12:34 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 2s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; The patch file was not named according to hbase&apos;s naming conventions. Please see &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for instructions. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 6s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12794256/15411-v16.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12794256/15411-v16.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1075/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1075/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.2.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15204780" author="yuzhihong@gmail.com" created="Mon, 21 Mar 2016 18:09:46 +0000"  >&lt;p&gt;Patch v18 adds abortBackup to Admin API.&lt;/p&gt;</comment>
                            <comment id="15204800" author="hadoopqa" created="Mon, 21 Mar 2016 18:19:03 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 1s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; The patch file was not named according to hbase&apos;s naming conventions. Please see &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for instructions. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 3s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12794552/15411-v18.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12794552/15411-v18.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1118/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1118/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.2.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15205587" author="enis" created="Tue, 22 Mar 2016 01:30:02 +0000"  >&lt;p&gt;To those of us following the backup work, this patch comes on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt; patch and moves the backup execution to the server side. Phase 2 combined patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14123&quot; title=&quot;HBase Backup/Restore Phase 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14123&quot;&gt;HBASE-14123&lt;/a&gt;) comes on top of this. So ordering is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt; -&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; -&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14123&quot; title=&quot;HBase Backup/Restore Phase 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14123&quot;&gt;HBASE-14123&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Phase 1 patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt;) is not committed yet, since I would like to see the actual fixes to move the logic to server side and make sure that the backup file layout and PB data structures, file manifests, etc, are as feature-proof as it can be. &lt;/p&gt;

&lt;p&gt;However, there is still some need to put this and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14123&quot; title=&quot;HBase Backup/Restore Phase 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14123&quot;&gt;HBASE-14123&lt;/a&gt; on review board so that reviewers can get a sense of what is going on. Let me see what can be done there. &lt;/p&gt;</comment>
                            <comment id="15205671" author="enis" created="Tue, 22 Mar 2016 02:55:07 +0000"  >&lt;p&gt;To create an RB for reviewing this, I have committed the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt; (v42) to the apache branch &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt;. We can use this branch at Apache as a working branch for now (meaning that we can use this for rebases and committing patches before full-review cycle. &lt;/p&gt;

&lt;p&gt;Review board is here: &lt;a href=&quot;https://reviews.apache.org/r/45146/diff/1#index_header&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/45146/diff/1#index_header&lt;/a&gt;. I&apos;m not sure whether I can change ownership of the RB for future patch iterations, if not, you can re-create another RB. &lt;/p&gt;

&lt;p&gt;It seems that if you do&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
git diff --full-index
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;RB will automatically pick up the correct base for the patch. &lt;/p&gt;</comment>
                            <comment id="15205738" author="yuzhihong@gmail.com" created="Tue, 22 Mar 2016 03:57:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;Lets gather these arguments in a client-public class like BackupRequest&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I went through existing methods in Admin.java but didn&apos;t see such pattern. Since BackupRequest is not protobuf&apos;ed, when new field is introduced, compilation would break anyway.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Where is the removed code, for example BackupHandler etc?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, the code in FullTableBackupProcedure.java came from BackupHandler.&lt;br/&gt;
I would suggest keeping FullTableBackupProcedure and BackupHandler close for phase I so that Vlad&apos;s work in phase 2 can be easily picked up.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;This workers is being carried all the way from the client.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The workers parameter would be used once we come to rebasing Vlad&apos;s phase 2 work.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we want exclusive lock on the table, not shared, no?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;After offline discussion with Stephen, we chose shared locks.&lt;/p&gt;</comment>
                            <comment id="15205744" author="yuzhihong@gmail.com" created="Tue, 22 Mar 2016 04:04:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;This connection and Admin is leaked&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In the next patch, try-with-resources is used to prevent the leak.&lt;/p&gt;</comment>
                            <comment id="15205755" author="yuzhihong@gmail.com" created="Tue, 22 Mar 2016 04:13:53 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://reviews.apache.org/r/45149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/45149/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let&apos;s continue review there.&lt;/p&gt;</comment>
                            <comment id="15208725" author="yuzhihong@gmail.com" created="Wed, 23 Mar 2016 16:40:17 +0000"  >&lt;p&gt;Had some issue uploading to review board:&lt;/p&gt;

&lt;p&gt;error: unable to find b9d71f60b5cfc4b6c244f1e13060579cc10798c1 fatal: git cat-file b9d71f60b5cfc4b6c244f1e13060579cc10798c1: bad file&lt;/p&gt;

&lt;p&gt;The above corresponds to BackupHandler.java&lt;/p&gt;

&lt;p&gt;Changes in patch v22:&lt;br/&gt;
Refactored non-static methods out of HBackupFileSystem, into RestoreUtil where they&apos;re used.&lt;br/&gt;
Reverted to using exclusive lock for the procedures&lt;br/&gt;
Dropped BackupHandler#call method since that code is now in procedures&lt;/p&gt;</comment>
                            <comment id="15208767" author="hadoopqa" created="Wed, 23 Mar 2016 16:58:41 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt;0&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; 0m 1s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;blue&quot;&gt; The patch file was not named according to hbase&apos;s naming conventions. Please see &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for instructions. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 5s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.0/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12795017/15411-v22.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12795017/15411-v22.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15411&quot; title=&quot;Rewrite backup with Procedure V2 - phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15411&quot;&gt;&lt;del&gt;HBASE-15411&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1156/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1156/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.2.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15209276" author="enis" created="Wed, 23 Mar 2016 22:13:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;Had some issue uploading to review board: error: unable to find b9d71f60b5cfc4b6c244f1e13060579cc10798c1 fatal: git cat-file b9d71f60b5cfc4b6c244f1e13060579cc10798c1: bad file&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;RB have to find the base commit that the review patch sits on top of. If you have rebased the patch on top of a commit which is not in the apache repository, RB obviously cannot find the commit. &lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt; branch is a working branch, you can push the base commits (for example &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14030&quot; title=&quot;HBase Backup/Restore Phase 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14030&quot;&gt;&lt;del&gt;HBASE-14030&lt;/del&gt;&lt;/a&gt;) there and create the next version of the patch from that base commit. &lt;/p&gt;</comment>
                            <comment id="15209603" author="yuzhihong@gmail.com" created="Thu, 24 Mar 2016 02:19:49 +0000"  >&lt;p&gt;git is quite smart: when BackupHandler is removed from git, it shows BackupHandler being renamed to FullTableBackupProcedure&lt;/p&gt;</comment>
                            <comment id="15209640" author="yuzhihong@gmail.com" created="Thu, 24 Mar 2016 02:58:55 +0000"  >&lt;p&gt;One comment is for not going through Connection when doing snapshot.&lt;br/&gt;
Here is code from MasterRpcServices#snapshot() :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      master.snapshotManager.takeSnapshot(snapshot);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;One option is for HMaster to pass snapshotManager to FullTableBackupProcedure.&lt;br/&gt;
But this won&apos;t work because FullTableBackupProcedure#executeFromState() may stop anywhere.&lt;br/&gt;
After which:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; FullTableBackupProcedure() {
    &lt;span class=&quot;code-comment&quot;&gt;// Required by the Procedure framework to create the procedure on replay&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Meaning we should be prepared that full back continue from any state.&lt;/p&gt;

&lt;p&gt;Suggestion for other approach is welcome.&lt;/p&gt;</comment>
                            <comment id="15210520" author="yuzhihong@gmail.com" created="Thu, 24 Mar 2016 16:34:44 +0000"  >&lt;p&gt;The following 3 files were removed in patch v24:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 1566  grm hbase-server/src/main/java/org/apache/hadoop/hbase/backup/BackupClient.java
 1568  grm hbase-server/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupClientImpl.java
 1570  grm hbase-server/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupHandler.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15210957" author="yuzhihong@gmail.com" created="Thu, 24 Mar 2016 21:12:54 +0000"  >&lt;p&gt;The two enum&apos;s in BackupHandler are moved to BackupContext.&lt;/p&gt;</comment>
                            <comment id="15212026" author="yuzhihong@gmail.com" created="Fri, 25 Mar 2016 16:31:24 +0000"  >&lt;p&gt;w.r.t. switching to env.getMasterServices().getSnapshotManager().takeSnapshot(backupSnapshot) in FullTableBackupProcedure, I want to get clarification on where the waiting logic should be placed.&lt;br/&gt;
Specifically, in HBaseAdmin, we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Waiting a max of &quot;&lt;/span&gt; + max + &lt;span class=&quot;code-quote&quot;&gt;&quot; ms &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; snapshot &apos;&quot;&lt;/span&gt; +
        ClientSnapshotDescriptionUtils.toString(snapshot) + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&apos; to complete. (max &quot;&lt;/span&gt; +
        maxPauseTime + &lt;span class=&quot;code-quote&quot;&gt;&quot; ms per retry)&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (tries == 0
        || ((EnvironmentEdgeManager.currentTime() - start) &amp;lt; max &amp;amp;&amp;amp; !done.getDone())) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Where should the above waiting logic be placed after the switch to calling getSnapshotManager().takeSnapshot() ?&lt;/p&gt;</comment>
                            <comment id="15212530" author="yuzhihong@gmail.com" created="Fri, 25 Mar 2016 22:44:00 +0000"  >&lt;p&gt;Here are the existing Util classes in hbase-client:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/client/RegionReplicaUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/client/ResultStatsUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/exceptions/ClientExceptionsUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/ipc/IPCUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/quotas/QuotaTableUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/security/EncryptionUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/security/SaslUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/security/SecureBulkLoadUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/test/java/org/apache/hadoop/hbase/exceptions/TestClientExceptionsUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/test/java/org/apache/hadoop/hbase/ipc/TestIPCUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/test/java/org/apache/hadoop/hbase/security/TestEncryptionUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/test/java/org/apache/hadoop/hbase/security/TestSaslUtil.java
&lt;/span&gt;hbase-client&lt;span class=&quot;code-comment&quot;&gt;//src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKUtil.java&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I don&apos;t think the waiting logic should go to any of the above class.&lt;/p&gt;

&lt;p&gt;Maybe create hbase-client/src/main/java/org/apache/hadoop/hbase/client/AdminUtil.java ?&lt;/p&gt;</comment>
                            <comment id="15213624" author="yuzhihong@gmail.com" created="Sun, 27 Mar 2016 21:20:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;:&lt;br/&gt;
This is how I plan to move the waiting logic to util class:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://pastebin.com/2btJ20DF&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/2btJ20DF&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See if the above formation is Okay with you.&lt;br/&gt;
I can create a separate JIRA for this refactor if needed.&lt;/p&gt;</comment>
                            <comment id="15214960" author="yuzhihong@gmail.com" created="Mon, 28 Mar 2016 21:53:48 +0000"  >&lt;p&gt;TestFullBackup based on patch v27:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.backup.TestFullBackup
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 82.667 sec - in org.apache.hadoop.hbase.backup.TestFullBackup
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15216742" author="yuzhihong@gmail.com" created="Tue, 29 Mar 2016 19:53:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;:&lt;br/&gt;
Any more review comment ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15218716" author="yuzhihong@gmail.com" created="Wed, 30 Mar 2016 19:56:49 +0000"  >&lt;p&gt;Planning to check into &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7921&quot; title=&quot;TestHFileBlock.testGzipCompression should ignore the block checksum&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7921&quot;&gt;&lt;del&gt;HBASE-7921&lt;/del&gt;&lt;/a&gt; branch tomorrow morning if there is no further review comment.&lt;/p&gt;</comment>
                            <comment id="15218777" author="enis" created="Wed, 30 Mar 2016 20:23:19 +0000"  >&lt;p&gt;I&apos;ll take a look. Did you address all the review comments in RB? &lt;/p&gt;</comment>
                            <comment id="15218782" author="yuzhihong@gmail.com" created="Wed, 30 Mar 2016 20:25:29 +0000"  >&lt;p&gt;All comments addressed except for more robust failure handling which would be done in phase 2.&lt;/p&gt;</comment>
                            <comment id="15219215" author="yuzhihong@gmail.com" created="Thu, 31 Mar 2016 02:26:00 +0000"  >&lt;p&gt;One of the review comments was to drop call to Admin#execProcedure().&lt;br/&gt;
This boils down to calling MasterProcedureManager#execProcedure().&lt;/p&gt;

&lt;p&gt;I want to get confirmation whether we can use MasterProcedureUtil for this purpose or, create another helper class in hbase-server module.&lt;/p&gt;</comment>
                            <comment id="15220106" author="yuzhihong@gmail.com" created="Thu, 31 Mar 2016 16:14:02 +0000"  >&lt;p&gt;Currently the following member of Master is not exposed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  MasterProcedureManagerHost mpmHost;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is it Okay to expose it through a method similar to MasterServices#getSnapshotManager() ?&lt;/p&gt;</comment>
                            <comment id="15220119" author="yuzhihong@gmail.com" created="Thu, 31 Mar 2016 16:18:36 +0000"  >&lt;p&gt;Alternatively, we can expose the following method of MasterProcedureManagerHost instead of exposing MasterProcedureManagerHost itself:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MasterProcedureManager getProcedureManager(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; signature) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If this route is taken, I suggest logging a separate JIRA so that the refactoring gets checked by more people.&lt;/p&gt;</comment>
                            <comment id="15220234" author="syuanjiang" created="Thu, 31 Mar 2016 17:10:55 +0000"  >&lt;p&gt;Today, we directly access the &lt;tt&gt;mpmHost&lt;/tt&gt; from master.  I think it is reasonable to add a accessor (&apos;getMasterProcedureManagerHost()&apos;) to do the same thing.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ExecProcedureResponse execProcedure(RpcController controller,
      ExecProcedureRequest request) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServiceException {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      ...
      ProcedureDescription desc = request.getProcedure();
      MasterProcedureManager mpm = master.mpmHost.getProcedureManager(
        desc.getSignature());
      ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A separate JIRA just similar to MasterServices#getSnapshotManager() is good.&lt;/p&gt;</comment>
                            <comment id="15220786" author="enis" created="Thu, 31 Mar 2016 22:37:10 +0000"  >&lt;p&gt;Sounds good. &lt;/p&gt;</comment>
                            <comment id="15222413" author="yuzhihong@gmail.com" created="Fri, 1 Apr 2016 22:04:36 +0000"  >&lt;p&gt;Thanks for the review, Matteo, Enis and Stephen.&lt;/p&gt;

&lt;p&gt;I pushed the modified version to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt; branch.&lt;/p&gt;</comment>
                            <comment id="15222452" author="yuzhihong@gmail.com" created="Fri, 1 Apr 2016 22:27:18 +0000"  >&lt;p&gt;Rerun all the backup tests:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.backup.TestFullRestore
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 144.992 sec - in org.apache.hadoop.hbase.backup.TestFullRestore
Running org.apache.hadoop.hbase.backup.TestFullBackup
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 96.622 sec - in org.apache.hadoop.hbase.backup.TestFullBackup
Running org.apache.hadoop.hbase.backup.TestBackupBoundaryTests
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 70.388 sec - in org.apache.hadoop.hbase.backup.TestBackupBoundaryTests
Running org.apache.hadoop.hbase.backup.TestRestoreBoundaryTests
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 91.084 sec - in org.apache.hadoop.hbase.backup.TestRestoreBoundaryTests
Running org.apache.hadoop.hbase.backup.TestIncrementalBackup
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 209.184 sec - in org.apache.hadoop.hbase.backup.TestIncrementalBackup
Running org.apache.hadoop.hbase.backup.TestBackupSystemTable
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 30.809 sec - in org.apache.hadoop.hbase.backup.TestBackupSystemTable
Running org.apache.hadoop.hbase.backup.TestHFileArchiving
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 90.075 sec - in org.apache.hadoop.hbase.backup.TestHFileArchiving
Running org.apache.hadoop.hbase.backup.TestRemoteRestore
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 66.449 sec - in org.apache.hadoop.hbase.backup.TestRemoteRestore
Running org.apache.hadoop.hbase.backup.TestRemoteBackup
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 59.732 sec - in org.apache.hadoop.hbase.backup.TestRemoteBackup
Running org.apache.hadoop.hbase.backup.TestBackupLogCleaner
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 75.088 sec - in org.apache.hadoop.hbase.backup.TestBackupLogCleaner
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12843261">HBASE-14030</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12955033">HBASE-15571</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12791853" name="15411-v1.txt" size="99076" author="yuzhihong@gmail.com" created="Mon, 7 Mar 2016 22:54:11 +0000"/>
                            <attachment id="12793352" name="15411-v11.txt" size="486346" author="yuzhihong@gmail.com" created="Mon, 14 Mar 2016 17:36:38 +0000"/>
                            <attachment id="12793396" name="15411-v12.txt" size="486596" author="yuzhihong@gmail.com" created="Mon, 14 Mar 2016 20:57:58 +0000"/>
                            <attachment id="12793842" name="15411-v13.txt" size="493396" author="yuzhihong@gmail.com" created="Wed, 16 Mar 2016 20:03:18 +0000"/>
                            <attachment id="12793882" name="15411-v14.txt" size="497268" author="yuzhihong@gmail.com" created="Wed, 16 Mar 2016 23:28:01 +0000"/>
                            <attachment id="12794027" name="15411-v15.txt" size="497397" author="yuzhihong@gmail.com" created="Thu, 17 Mar 2016 18:10:48 +0000"/>
                            <attachment id="12794256" name="15411-v16.txt" size="497989" author="yuzhihong@gmail.com" created="Fri, 18 Mar 2016 21:08:38 +0000"/>
                            <attachment id="12794552" name="15411-v18.txt" size="543547" author="yuzhihong@gmail.com" created="Mon, 21 Mar 2016 18:09:46 +0000"/>
                            <attachment id="12795017" name="15411-v22.txt" size="602811" author="yuzhihong@gmail.com" created="Wed, 23 Mar 2016 16:40:17 +0000"/>
                            <attachment id="12792302" name="15411-v3.txt" size="197269" author="yuzhihong@gmail.com" created="Wed, 9 Mar 2016 18:09:42 +0000"/>
                            <attachment id="12792420" name="15411-v5.txt" size="200947" author="yuzhihong@gmail.com" created="Thu, 10 Mar 2016 02:18:05 +0000"/>
                            <attachment id="12792559" name="15411-v6.txt" size="203583" author="yuzhihong@gmail.com" created="Thu, 10 Mar 2016 18:43:19 +0000"/>
                            <attachment id="12792914" name="15411-v7.txt" size="240166" author="yuzhihong@gmail.com" created="Fri, 11 Mar 2016 22:33:46 +0000"/>
                            <attachment id="12792963" name="15411-v9.txt" size="470588" author="yuzhihong@gmail.com" created="Sat, 12 Mar 2016 19:18:55 +0000"/>
                            <attachment id="12791816" name="FullTableBackupProcedure.java" size="24226" author="yuzhihong@gmail.com" created="Mon, 7 Mar 2016 20:13:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Mar 2016 03:58:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uakv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>