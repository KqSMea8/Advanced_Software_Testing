<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:12:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3772/HBASE-3772.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3772] Hadoop DNS.reverseDns() doesn&apos;t canonicalize host names, leading to possible discrepancy in RS hostname vs. Master seen hostname for RS</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3772</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I ran across this issue on a 0.20 based branch, so I&apos;m not sure if this is still an issue for 0.90+.  However, 0.90 and current trunk do still make use of DNS.getDefaultHost(), so I wanted to open this for discussion.&lt;/p&gt;

&lt;p&gt;In 0.20, the problem was:&lt;/p&gt;

&lt;p&gt; 1. configure hbase-site.xml with hbase.regionserver.dns.interface=xxx&lt;br/&gt;
 2. IP bound on interface xxx has reverse DNS correctly configured&lt;br/&gt;
 3. DNS.getDefaultHost() calls DNS.reverseDns() for this IP, which does a JNDI bind to the DNS provider, returning the &lt;b&gt;absolute&lt;/b&gt; hostname: host1.my.domain.&lt;br/&gt;
 4. RS reports startup to master as host1.my.domain.,60020,1234...&lt;br/&gt;
 5. BaseScanner when scanning .META. sees region assignments as not valid because the resolved hostname from IP goes through InetSocketAddress.getHostName() which returns the canonicalized form (host1.my.domain != host1.my.domain. though they are equivalent)&lt;/p&gt;

&lt;p&gt;I know the master &amp;lt;-&amp;gt; RS negotiated hostname has completely changed for 0.90.  So hopefully this is no longer an issue and we can close as invalid and go have a beer.  But given the underlying problem in DNS.getDefaultHost(), I wanted to confirm this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12504095">HBASE-3772</key>
            <summary>Hadoop DNS.reverseDns() doesn&apos;t canonicalize host names, leading to possible discrepancy in RS hostname vs. Master seen hostname for RS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ghelmling">Gary Helmling</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2011 19:39:36 +0000</created>
                <updated>Sat, 10 Mar 2012 23:22:41 +0000</updated>
                            <resolved>Sat, 10 Mar 2012 23:22:41 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13019010" author="ghelmling" created="Tue, 12 Apr 2011 19:52:17 +0000"  >&lt;p&gt;Looking further at HMaster and HRegionServer, both launder the returned hostname through HServerAddress, which uses InetSocketAddress to resolve the hostname.  So I believe we will &lt;b&gt;not&lt;/b&gt; see this issue in 0.90/trunk.  Anyone want to confirm?&lt;/p&gt;</comment>
                            <comment id="13019043" author="stack" created="Tue, 12 Apr 2011 21:01:33 +0000"  >&lt;p&gt;I haven&apos;t seen it.  I&apos;ve just seen issues where HSA resolves differently on either side of the connection whether one side finds FQDN and the other only a hostname or other side is failing reverse DNS and so just uses IP.  hbase-1502 is going to deprecated HSA and just pass Strings rather than have an HSA do resolve on deserialization (ISA creation).&lt;/p&gt;</comment>
                            <comment id="13226958" author="stack" created="Sat, 10 Mar 2012 23:22:41 +0000"  >&lt;p&gt;Resolving &apos;cannot reproduce&apos;.  I don&apos;t think we have this issue anymore.  We can open new issue if we run into it again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Apr 2011 21:01:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hntj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>