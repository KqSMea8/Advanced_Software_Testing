<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5842/HBASE-5842.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5842] Passing shell commands as an argument</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5842</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Many times we&apos;ve required scans of .META. to analyze issues with the cluster we work on, and to have the result in a file we can pass around we usually end up doing something like:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;echo &quot;scan &apos;.META.&apos;| hbase shell &amp;gt; meta-scan.txt&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This can rather be simplified as something like the following instead, with support for a commands reading argument:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;hbase shell -c &quot;scan &apos;.META.&apos;&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Note though: File reading is possible already, i.e. {{hbase shell file.hs}}, but then thats two steps and we usually don&amp;#39;t keep a file around for just a meta table scan.&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12551758">HBASE-5842</key>
            <summary>Passing shell commands as an argument</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Apr 2012 09:46:45 +0000</created>
                <updated>Thu, 14 Aug 2014 18:42:16 +0000</updated>
                            <resolved>Thu, 14 Aug 2014 18:42:16 +0000</resolved>
                                    <version>0.94.0</version>
                                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13258360" author="jmhsieh" created="Fri, 20 Apr 2012 16:34:00 +0000"  >&lt;p&gt;Harsh,  I would add that the output from the shell of that particular example is too clever with formatting and ends up being cumbersome to use with standard unix parsing tools.&lt;/p&gt;

&lt;p&gt;For that particular command, I&apos;ve hacked the HFile tool do dump contents in an grep&apos;able format.  &lt;/p&gt;

&lt;p&gt;Are you looking for that command in particular or are there more cases?&lt;/p&gt;

&lt;p&gt;Maybe we should add a hbase-admin command that has shortcuts to utility methods like HLog, HFile, and something like DumpMeta?&lt;/p&gt;
</comment>
                            <comment id="13260267" author="stack" created="Tue, 24 Apr 2012 06:05:35 +0000"  >&lt;p&gt;We used to have it so you could pass a formatter class that the shell would use.  Default is console formatting.  We used to have an html output one which was useful when you could type in shell commands on ui and get results as an html page.  Another formatter would emit results per line so greppable.&lt;/p&gt;</comment>
                            <comment id="13262334" author="jmhsieh" created="Thu, 26 Apr 2012 02:45:22 +0000"  >&lt;p&gt;A greppable dump would be really helpful for system tests and for surgery. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  What versions of hbase did this exist in?&lt;/p&gt;</comment>
                            <comment id="13262380" author="qwertymaniac" created="Thu, 26 Apr 2012 05:08:50 +0000"  >&lt;p&gt;It exists in 0.90+ AFAIK. However this JIRA is about adding in a -c option not just for META scan but also to run any other series of ;-separated commands without having to echo and pipe it into the shell.&lt;/p&gt;</comment>
                            <comment id="13265441" author="stack" created="Mon, 30 Apr 2012 22:13:43 +0000"  >&lt;p&gt;@Jon &lt;a href=&quot;http://svn.apache.org/viewvc/hbase/tags/0.18.1/bin/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/tags/0.18.1/bin/&lt;/a&gt; has a Formatter.rb class.  You have to go back further to find our being able to format output as html: &lt;a href=&quot;http://svn.apache.org/viewvc/hbase/tags/0.1.3/src/java/org/apache/hadoop/hbase/hql/TableFormatterFactory.java?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/tags/0.1.3/src/java/org/apache/hadoop/hbase/hql/TableFormatterFactory.java?view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Harsh -c sounds good.... easier than echo blah blah.&lt;/p&gt;</comment>
                            <comment id="14095488" author="busbey" created="Wed, 13 Aug 2014 14:01:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=qwertymaniac&quot; class=&quot;user-hover&quot; rel=&quot;qwertymaniac&quot;&gt;Harsh J&lt;/a&gt; do the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11658&quot; title=&quot;Piped commands to hbase shell should return non-zero if shell command failed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11658&quot;&gt;&lt;del&gt;HBASE-11658&lt;/del&gt;&lt;/a&gt; satisfy your needs here?&lt;/p&gt;</comment>
                            <comment id="14097361" author="qwertymaniac" created="Thu, 14 Aug 2014 18:42:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; - It partially improves the first form, but I still feel a &lt;tt&gt;-c&lt;/tt&gt; option may be preferable, no?&lt;/p&gt;

&lt;p&gt;That said I&apos;ve not seen need for scanning meta lately (HBase has improved a lot!) so I&apos;ll resolve this one as &apos;Later&apos; as there&apos;s no demand on this.&lt;/p&gt;

&lt;p&gt;I cannot also think of many other reasons one would need to be piping to the current shell instead of using the file option (if at all).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Apr 2012 16:34:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02fyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>