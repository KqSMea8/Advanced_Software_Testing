<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5876/HBASE-5876.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5876] TestImportExport has been failing against hadoop 0.23 profile</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5876</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestImportExport has been failing against hadoop 0.23 profile&lt;/p&gt;</description>
                <environment></environment>
        <key id="12552707">HBASE-5876</key>
            <summary>TestImportExport has been failing against hadoop 0.23 profile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="zhihyu@ebaysf.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Apr 2012 19:03:00 +0000</created>
                <updated>Tue, 26 Feb 2013 08:16:14 +0000</updated>
                            <resolved>Thu, 5 Jul 2012 07:31:41 +0000</resolved>
                                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13262006" author="umamaheswararao" created="Wed, 25 Apr 2012 19:54:50 +0000"  >&lt;blockquote&gt;
&lt;p&gt;2012-04-26 01:23:47,790 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; common.Util(58): Syntax error in URI E:\Repoitories\Hbase\target\test-data\79fa72c8-f019-4c29-be3d-cc67230f70cd\dfscluster_177a4b0f-5ebc-4dfc-9d89-867fefec2c6a\dfs\name2. Please check hdfs configuration.&lt;br/&gt;
java.net.URISyntaxException: Illegal character in opaque part at index 2: E:\Repoitories\Hbase\target\test-data\79fa72c8-f019-4c29-be3d-cc67230f70cd\dfscluster_177a4b0f-5ebc-4dfc-9d89-867fefec2c6a\dfs\name2&lt;br/&gt;
	at java.net.URI$Parser.fail(Unknown Source)&lt;br/&gt;
	at java.net.URI$Parser.checkChars(Unknown Source)&lt;br/&gt;
	at java.net.URI$Parser.parse(Unknown Source)&lt;br/&gt;
	at java.net.URI.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.common.Util.stringAsURI(Util.java:56)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.common.Util.stringCollectionAsURIs(Util.java:106)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getStorageDirs(FSNamesystem.java:761)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getNamespaceEditsDirs(FSNamesystem.java:806)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;URI creation is failing with passed directory here. Let me take a look.&lt;/p&gt;</comment>
                            <comment id="13262020" author="umamaheswararao" created="Wed, 25 Apr 2012 20:06:29 +0000"  >&lt;p&gt;@Ted, is it the same issue you are facing?&lt;br/&gt;
This failure is on my windows box. Actually problem due to backward slash in windows i think. Simple URI creation also fails with the same reason. Once I changed it to forward slash &apos;/&apos; , it started working.&lt;/p&gt;</comment>
                            <comment id="13262024" author="zhihyu@ebaysf.com" created="Wed, 25 Apr 2012 20:13:39 +0000"  >&lt;p&gt;I face different issue on Macbook. See:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5870?focusedCommentId=13261773&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13261773&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-5870?focusedCommentId=13261773&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13261773&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13263875" author="umamaheswararao" created="Fri, 27 Apr 2012 18:33:46 +0000"  >&lt;p&gt;Thanks a lot, Jon for signing up this. Actually I thought to take a look on this weekend. Unfortunately I may not be able to look on this weekend as came out of station. Thanks for taking this&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13264138" author="jmhsieh" created="Sat, 28 Apr 2012 00:09:12 +0000"  >&lt;p&gt;I started going down the path and chatting with alejandro &amp;#8211; one of the guys involved with &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3169&quot; title=&quot;Create a new MiniMRCluster equivalent which only provides client APIs cross MR1 and MR2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3169&quot;&gt;&lt;del&gt;MAPREDUCE-3169&lt;/del&gt;&lt;/a&gt; (new MiniMRCluster for 23).  It is likely a problem with job submission and will take a little digging.&lt;/p&gt;</comment>
                            <comment id="13264212" author="yuzhihong@gmail.com" created="Sat, 28 Apr 2012 04:29:56 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK-on-Hadoop-23/156/testReport/org.apache.hadoop.hbase.mapreduce/TestImportTsv/testMROnTableWithCustomMapper/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK-on-Hadoop-23/156/testReport/org.apache.hadoop.hbase.mapreduce/TestImportTsv/testMROnTableWithCustomMapper/:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-04-27 00:47:47,745 ERROR [pool-1-thread-1] service.CompositeService(72): Error starting services org.apache.hadoop.mapred.MiniMRCluster
org.apache.hadoop.yarn.YarnException: java.io.IOException: ResourceManager failed to start. Final state is INITED
	at org.apache.hadoop.yarn.server.MiniYARNCluster$ResourceManagerWrapper.start(MiniYARNCluster.java:152)
	at org.apache.hadoop.yarn.service.CompositeService.start(CompositeService.java:68)
	at org.apache.hadoop.mapred.MiniMRClientClusterFactory.create(MiniMRClientClusterFactory.java:67)
	at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:180)
	at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:170)
	at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:162)
	at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:154)
	at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:147)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK-on-Hadoop-23/156/testReport/org.apache.hadoop.hbase.mapreduce/TestImportExport/testWithDeletes/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK-on-Hadoop-23/156/testReport/org.apache.hadoop.hbase.mapreduce/TestImportExport/testWithDeletes/:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.io.FileNotFoundException: File does not exist: /home/hudson/.m2/repository/org/apache/hadoop/hadoop-mapreduce-client-core/0.23.2-SNAPSHOT/hadoop-mapreduce-client-core-0.23.2-SNAPSHOT.jar
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:729)
	at org.apache.hadoop.mapreduce.filecache.ClientDistributedCacheManager.getFileStatus(ClientDistributedCacheManager.java:208)
	at org.apache.hadoop.mapreduce.filecache.ClientDistributedCacheManager.determineTimestamps(ClientDistributedCacheManager.java:71)
	at org.apache.hadoop.mapreduce.JobSubmitter.copyAndConfigureFiles(JobSubmitter.java:246)
	at org.apache.hadoop.mapreduce.JobSubmitter.copyAndConfigureFiles(JobSubmitter.java:284)
	at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:355)
	at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1221)
	at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1218)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1177)
	at org.apache.hadoop.mapreduce.Job.submit(Job.java:1218)
	at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1239)
	at org.apache.hadoop.hbase.mapreduce.TestImportExport.testWithDeletes(TestImportExport.java:181)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13265893" author="jmhsieh" created="Tue, 1 May 2012 16:36:54 +0000"  >&lt;p&gt;The first problem is that when running under the hadoop23 some how the TestImportExport job uses the &quot;local&quot; mapreduce.framework.name which assumes and eventually tries to read from a LocalFileSystem.  It should use the &quot;yarn&quot; mapreduce.framework.name which will read from the instantiated minimrcluster/minidfs cluster.  &lt;/p&gt;

&lt;p&gt;This gets past the job submission step but test still fails later on.  &lt;/p&gt;

&lt;p&gt;Work continues.&lt;/p&gt;</comment>
                            <comment id="13266983" author="jmhsieh" created="Wed, 2 May 2012 22:49:08 +0000"  >&lt;p&gt;This test was introduced for HBase 0.94 in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4682&quot; title=&quot;Support deleted rows using Import/Export&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4682&quot;&gt;&lt;del&gt;HBASE-4682&lt;/del&gt;&lt;/a&gt; and seems to have never succeeded against 0.23 hadoop.&lt;/p&gt;</comment>
                            <comment id="13267310" author="jmhsieh" created="Thu, 3 May 2012 08:49:59 +0000"  >&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5697&quot; title=&quot;Audit HBase for usage of deprecated hadoop 0.20.x property names.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5697&quot;&gt;&lt;del&gt;HBASE-5697&lt;/del&gt;&lt;/a&gt; &amp;#8211; it has to do with some sort of inconsistencies with old mr properties (fs.default.name) and new mr properties (fs.defaultFs).  When only using the new hadoop 23 properties, this test passes consistently.&lt;/p&gt;</comment>
                            <comment id="13267513" author="jmhsieh" created="Thu, 3 May 2012 15:41:07 +0000"  >&lt;p&gt;Problems in previous code:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;yarn execution framework not used because HBaseTestingUtility.startMiniCluster().getConfiguration() used instead of the HBaseTestingUtility.getConfiguration().&lt;/li&gt;
	&lt;li&gt;hadoop 1&apos;s mapred.output.dir and hadoop 2&apos;s  fileoutputformat.outputdir caused export job&apos;s data to get lost.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Currently running full builds against hadoop 1.0 and hadoop 0.23.x.&lt;/p&gt;</comment>
                            <comment id="13267954" author="jmhsieh" created="Thu, 3 May 2012 23:50:19 +0000"  >&lt;p&gt;This works against hadoop 1 and hadoop 23, but isn&apos;t pretty (manual selection of yarn).  &lt;/p&gt;

&lt;p&gt;Other tests use the configuration from HBaseTestingUtility instead of the conf associated with the MiniCluster.&lt;/p&gt;

&lt;p&gt;I spent a bit of time trying to fold this in to use HBaseTestingUtlity but it seems to be have problems with the mapred.local.dir and mapred.job.tracker.  &lt;/p&gt;</comment>
                            <comment id="13267965" author="zhihyu@ebaysf.com" created="Fri, 4 May 2012 00:05:21 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;// o.a.h.mapreduce.lib.output FileOutputFormat.OUTDIR
&lt;/span&gt;+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;mapreduce.output.fileoutputformat.outputdir&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Does the first line above note where the constant comes from ?&lt;/p&gt;</comment>
                            <comment id="13267984" author="hadoopqa" created="Fri, 4 May 2012 00:36:44 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525533/hbase-5876.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525533/hbase-5876.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1757//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1757//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1757//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1757//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1757//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1757//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268006" author="stack" created="Fri, 4 May 2012 01:14:18 +0000"  >&lt;p&gt;+1 on patch&lt;/p&gt;</comment>
                            <comment id="13268037" author="jmhsieh" created="Fri, 4 May 2012 01:59:40 +0000"  >&lt;p&gt;@Ted.  Yes.  If I actually use the constant the code will not compile under hadoop 1.x.  I&apos;ll add to the comment about that before I commit.&lt;/p&gt;</comment>
                            <comment id="13268051" author="jmhsieh" created="Fri, 4 May 2012 02:40:11 +0000"  >&lt;p&gt;0.94 branch (around rc3 time frame) compiles but has failing TestImportExport unit test against hadoop 23.  This patch for 0.94 fixes that.&lt;/p&gt;</comment>
                            <comment id="13268052" author="jmhsieh" created="Fri, 4 May 2012 02:40:57 +0000"  >&lt;p&gt;v2 of the trunk patch includes better comments about where some of the magic property strings come from.&lt;/p&gt;</comment>
                            <comment id="13268058" author="jmhsieh" created="Fri, 4 May 2012 02:57:23 +0000"  >&lt;p&gt;Uploaded correct 0.94 version of the patch.  This patch didn&apos;t need to JobConf stuff &amp;#8211; makes me thing that the trunk one could be simplified and that another patch forced it to be more complicated.&lt;/p&gt;</comment>
                            <comment id="13268079" author="hadoopqa" created="Fri, 4 May 2012 03:26:31 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525556/hbase-5876-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525556/hbase-5876-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1760//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1760//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1760//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1760//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1760//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1760//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268098" author="hadoopqa" created="Fri, 4 May 2012 03:51:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12525558/hbase-5876-94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12525558/hbase-5876-94.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.hfile.TestForceCacheImportantBlocks&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1761//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1761//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1761//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1761//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1761//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1761//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13268184" author="jmhsieh" created="Fri, 4 May 2012 07:08:58 +0000"  >&lt;p&gt;Thanks for reviews ted and stack.   Committed to 0.94 and 0.96/trunk.&lt;/p&gt;</comment>
                            <comment id="13268194" author="hudson" created="Fri, 4 May 2012 07:59:30 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #178 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/178/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/178/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5876&quot; title=&quot;TestImportExport has been failing against hadoop 0.23 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5876&quot;&gt;&lt;del&gt;HBASE-5876&lt;/del&gt;&lt;/a&gt; TestImportExport has been failing against hadoop 0.23 profile (Revision 1333777)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13268209" author="hudson" created="Fri, 4 May 2012 08:46:01 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2847 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2847/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2847/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5876&quot; title=&quot;TestImportExport has been failing against hadoop 0.23 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5876&quot;&gt;&lt;del&gt;HBASE-5876&lt;/del&gt;&lt;/a&gt; TestImportExport has been failing against hadoop 0.23 profile (Revision 1333778)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/MapreduceTestingShim.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13268773" author="zhihyu@ebaysf.com" created="Fri, 4 May 2012 22:44:55 +0000"  >&lt;p&gt;Strange, I saw this after the fix went in:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK-on-Hadoop-23/167/testReport/junit/org.apache.hadoop.hbase.mapreduce/TestImportExport/testSimpleCase/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK-on-Hadoop-23/167/testReport/junit/org.apache.hadoop.hbase.mapreduce/TestImportExport/testSimpleCase/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13268788" author="jmhsieh" created="Fri, 4 May 2012 22:59:31 +0000"  >&lt;p&gt;Ted noticed that the test is still failing.  Reopening and reinvestigating.&lt;/p&gt;</comment>
                            <comment id="13268833" author="hudson" created="Sat, 5 May 2012 00:58:51 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #26 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/26/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/26/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5876&quot; title=&quot;TestImportExport has been failing against hadoop 0.23 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5876&quot;&gt;&lt;del&gt;HBASE-5876&lt;/del&gt;&lt;/a&gt; TestImportExport has been failing against hadoop 0.23 profile (Revision 1333777)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13268908" author="hudson" created="Sat, 5 May 2012 05:59:13 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #192 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/192/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/192/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5876&quot; title=&quot;TestImportExport has been failing against hadoop 0.23 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5876&quot;&gt;&lt;del&gt;HBASE-5876&lt;/del&gt;&lt;/a&gt; TestImportExport has been failing against hadoop 0.23 profile (Revision 1333778)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/MapreduceTestingShim.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13269013" author="jmhsieh" created="Sat, 5 May 2012 17:11:27 +0000"  >&lt;p&gt;Interesting, the old version of TestImportExport against hadoop 1.0 (before my previous attempt) used the LocalMRRunner instead of the RPC to the MiniMRCluster.  TestImportTsv always uses the RPC/MiniMRCluster. &lt;/p&gt;

&lt;p&gt;Use of the localmrrunner when miniMRcluster is spun up seems wrong. I&apos;m going to force usage of the minimrcluster/rpc/runner in TestImportExport.&lt;/p&gt;</comment>
                            <comment id="13404557" author="lhofhansl" created="Sat, 30 Jun 2012 16:41:39 +0000"  >&lt;p&gt;Change for this issue were committed to both 0.96 and 0.94. Is this fixed, or should we close this issue?&lt;/p&gt;</comment>
                            <comment id="13404622" author="jmhsieh" created="Sat, 30 Jun 2012 20:57:50 +0000"  >&lt;p&gt;I believe this is still broken &amp;#8211; and I haven&apos;t gotten back to fixing it.  I believe the export part of the test wrote to either hdfs/localfs and then the re-import part tried to read from the other, causing the test to fail.  IIRC something happened with the mini mr dirs between 0.92 and 0.94 which broke the test.  &lt;/p&gt;

&lt;p&gt;I&apos;ll give it another stab, and I don&apos;t get it done this weekend I&apos;ll revert it.&lt;/p&gt;</comment>
                            <comment id="13405184" author="jmhsieh" created="Mon, 2 Jul 2012 18:08:05 +0000"  >&lt;p&gt;An update: I have a patch that works with both 0.94 (default 1.0.x and -Dhadoop.profile=23) and trunk (default 1.0.x and -Dhadoop.profile=2.0) but reopens the problem of having &lt;b&gt;partition&lt;/b&gt; dirs in the project root directory instead of the target dir. &lt;/p&gt;

&lt;p&gt;I&apos;m looking into fixing that problem now &amp;#8211; I believe it is hadoop.tmp.dir and using oozie&apos;s minicluster setup as an examplar&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/oozie/blob/trunk/core/src/test/java/org/apache/oozie/test/XTestCase.java#L656&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/oozie/blob/trunk/core/src/test/java/org/apache/oozie/test/XTestCase.java#L656&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13405440" author="jmhsieh" created="Mon, 2 Jul 2012 23:26:36 +0000"  >&lt;p&gt;Updated patches that have tests passing for 0.94 and trunk. (0.92 was good).&lt;/p&gt;</comment>
                            <comment id="13406455" author="ram_krish" created="Wed, 4 Jul 2012 11:37:01 +0000"  >&lt;p&gt;I tried running the patch for 0.94 on hadoop 2.0. It passed(but not much aware of the changes). &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13406709" author="jmhsieh" created="Wed, 4 Jul 2012 20:13:12 +0000"  >&lt;p&gt;Its been a few days, I&apos;m going to commit later today unless I hear anything suggesting not to.&lt;/p&gt;</comment>
                            <comment id="13406878" author="jmhsieh" created="Thu, 5 Jul 2012 06:50:09 +0000"  >&lt;p&gt;Since its been along time since other parts of this code was committed, I&apos;m going to complete this as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6330&quot; title=&quot;TestImportExport has been failing against hadoop 0.23/2.0 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6330&quot;&gt;&lt;del&gt;HBASE-6330&lt;/del&gt;&lt;/a&gt;, and close this one out.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12560126">HBASE-6196</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12552454">HBASE-5870</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12596835">HBASE-6307</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12534481" name="hbase-5876-94-v3.patch" size="9768" author="jmhsieh" created="Mon, 2 Jul 2012 23:26:36 +0000"/>
                            <attachment id="12525558" name="hbase-5876-94.patch" size="1859" author="jmhsieh" created="Fri, 4 May 2012 02:57:23 +0000"/>
                            <attachment id="12534482" name="hbase-5876-trunk-v3.patch" size="10183" author="jmhsieh" created="Mon, 2 Jul 2012 23:26:36 +0000"/>
                            <attachment id="12525556" name="hbase-5876-v2.patch" size="5032" author="jmhsieh" created="Fri, 4 May 2012 02:40:57 +0000"/>
                            <attachment id="12525533" name="hbase-5876.patch" size="4435" author="jmhsieh" created="Thu, 3 May 2012 23:50:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Apr 2012 19:54:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i068on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>