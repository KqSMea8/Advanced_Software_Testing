<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:08:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9841/HBASE-9841.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9841] Provide tracking URL for cluster which is immune to master failover</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9841</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently each master provides web UI whose URL would not survive master failure.&lt;/p&gt;

&lt;p&gt;Here is the use case from Hoya point of view:&lt;br/&gt;
When starting the HBase cluster, Hoya requests two containers for HMaster and multiple containers for region servers. It is unknown at time of request which nodes would host HMasters.&lt;br/&gt;
After cluster starts running, the container for active master may go down. This would make the standby master active meanwhile YARN would start another container hosting HMaster to serve as the new standby master.&lt;/p&gt;

&lt;p&gt;It is desirable for HBase to provide an API which would tell Hoya about the location of the active master.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675834">HBASE-9841</key>
            <summary>Provide tracking URL for cluster which is immune to master failover</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Oct 2013 16:09:22 +0000</created>
                <updated>Sun, 10 Nov 2013 18:39:22 +0000</updated>
                            <resolved>Sun, 10 Nov 2013 18:39:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13805423" author="stack" created="Fri, 25 Oct 2013 16:16:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;One solution is to run light weight web server on designated server which serves the URL on well known port.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;And you&apos;d have us check such code into hbase?&lt;/p&gt;

&lt;p&gt;Can we resolve this as won&apos;t do?&lt;/p&gt;</comment>
                            <comment id="13805429" author="yuzhihong@gmail.com" created="Fri, 25 Oct 2013 16:28:57 +0000"  >&lt;p&gt;This initiative came up during development of Hoya where in case of master failure, YARN can choose arbitrary host to start a new master.&lt;br/&gt;
This means after Hoya runs for considerable amount of time, it is not easy to locate the active master.&lt;/p&gt;

&lt;p&gt;Another option Jonathan H brought up during the meetup yesterday is to let standby master provide URL to the active master.&lt;/p&gt;</comment>
                            <comment id="13805433" author="stack" created="Fri, 25 Oct 2013 16:35:53 +0000"  >&lt;p&gt;Active master is published in ZK.  Can&apos;t HOYA read it?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Another option Jonathan H brought up during the meetup yesterday is to let standby master provide URL to the active master.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Eh.  This is not what you want, right?  This server can go down too.&lt;/p&gt;

&lt;p&gt;Can we close this issue since it is not known what is wanted.&lt;/p&gt;</comment>
                            <comment id="13805808" author="yuzhihong@gmail.com" created="Fri, 25 Oct 2013 23:16:59 +0000"  >&lt;p&gt;MasterAddressTracker has method, getMasterAddress().&lt;/p&gt;

&lt;p&gt;However MasterAddressTracker is marked private.&lt;/p&gt;

&lt;p&gt;Which public class / method can provide this information ?&lt;/p&gt;</comment>
                            <comment id="13806186" author="stack" created="Sat, 26 Oct 2013 23:33:02 +0000"  >&lt;p&gt;Why can&apos;t you read znodes in zk?&lt;/p&gt;</comment>
                            <comment id="13806187" author="stack" created="Sat, 26 Oct 2013 23:38:56 +0000"  >&lt;p&gt;Resolving as won&apos;t fix.  Ill-specified, filed doesn&apos;t know how to go about the task and it seems like a facility that would live outside of hbase anyways going by description.&lt;/p&gt;

&lt;p&gt;Could see a little lib function that clients might use... that reads zk znodes and produces an URL....&lt;/p&gt;</comment>
                            <comment id="13806189" author="yuzhihong@gmail.com" created="Sat, 26 Oct 2013 23:53:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why can&apos;t you read znodes in zk?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Which API should I use ?&lt;br/&gt;
The server name in znode is protobuf encoded. Do you want clients to have logic that decodes the protobuf ?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;a little lib function that clients might use... that reads zk znodes and produces an URL&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Is that a new function ?&lt;/p&gt;</comment>
                            <comment id="13806191" author="yuzhihong@gmail.com" created="Sun, 27 Oct 2013 00:07:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Ill-specified&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Interesting to see such a term in open source development.&lt;/p&gt;</comment>
                            <comment id="13806210" author="stack" created="Sun, 27 Oct 2013 02:56:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Ill-specified&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Interesting to see such a term in open source development.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Open-source is not license for nonsense.  Suggest you go elsewhere if &apos;ill-specified&apos; engineering is what you are about.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Which API should I use ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;See zk api.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The server name in znode is protobuf encoded. Do you want clients to have logic that decodes the protobuf ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Have your downstream lib depend on hbase-protocol and/or hbase-client if you would use hbase decodings.  Doing this though might  complicate more than it helps given how little is in the znode.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is that a new function ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It is certainly not going to be a &quot;...light weight web server on designated server which serves the URL on well known port&quot; or &quot;... let standby master provide URL to the active master.&quot;  Our client figures where masters are as they move around so I&apos;d imagine you&apos;d extract that piece and turn it into an URL or whatever the form your digesting service needs it to be in.  It would be deployed on the service, not in HBase.&lt;/p&gt;</comment>
                            <comment id="13806213" author="lhofhansl" created="Sun, 27 Oct 2013 03:34:13 +0000"  >&lt;p&gt;Not sure I follow entirely, Ted. Is this about the master reelecting a new leader when the current active one dies?&lt;/p&gt;

&lt;p&gt;We already show the current active master&apos;s URL in the Web UI of the standby masters. Can you we use that? Make it more prominent there?&lt;br/&gt;
Or add a simple Servlet that from any master will return the URL of the active one? Would that be good enough? Would be an extremely simple change.&lt;/p&gt;</comment>
                            <comment id="13806223" author="yuzhihong@gmail.com" created="Sun, 27 Oct 2013 04:59:57 +0000"  >&lt;p&gt;Here is the use case from Hoya point of view:&lt;br/&gt;
When starting the HBase cluster, Hoya requests two containers for HMaster and multiple containers for region servers. It is unknown at time of request which nodes would host HMasters.&lt;br/&gt;
After cluster starts running, the container for active master may go down. This would make the standby master active meanwhile YARN would start another container hosting HMaster to serve as the new standby master.&lt;br/&gt;
It is desirable for HBase to provide an API which would tell Hoya about the location of the active master.&lt;/p&gt;

&lt;p&gt;Parsing the URL or decoding the server name from znode would work. But it is not straightforward.&lt;/p&gt;

&lt;p&gt;I was discussing with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt; at the meetup and he may be able to offer some idea.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Oct 2013 16:16:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p9bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>355620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>