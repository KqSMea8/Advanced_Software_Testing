<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:01:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9109/HBASE-9109.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9109] Null pointer exception while invoking coprocessor.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9109</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This problem is observed when region server dies while an endpoint coprocessor is executing. On the client side channel.getLastRegion() returns null and we get null pointer exception while updating result map. &lt;br/&gt;
Following stack-trace is seen on client:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.NullPointerException&lt;br/&gt;
at org.apache.hadoop.hbase.util.Bytes.compareTo(Bytes.java:981)&lt;br/&gt;
at org.apache.hadoop.hbase.util.Bytes$ByteArrayComparator.compare(Bytes.java:128)&lt;br/&gt;
at org.apache.hadoop.hbase.util.Bytes$ByteArrayComparator.compare(Bytes.java:119)&lt;br/&gt;
at java.util.TreeMap.put(TreeMap.java:530)&lt;br/&gt;
at java.util.Collections$SynchronizedMap.put(Collections.java:1979)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HTable$17.update(HTable.java:1372)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HTable$18.call(HTable.java:1401)&lt;br/&gt;
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&lt;br/&gt;
at java.util.concurrent.FutureTask.run(FutureTask.java:138)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS - CentOS release 6.2 (Final)&lt;br/&gt;
JAVA - java version &quot;1.6.0_22&quot;&lt;br/&gt;
       OpenJDK Runtime Environment (IcedTea6 1.10.4) (rhel-1.41.1.10.4.el6-x86_64)&lt;br/&gt;
        OpenJDK 64-Bit Server VM (build 20.0-b11, mixed mode)&lt;br/&gt;
Configuration: 3 node cluster with Hadoop-3.0&lt;/p&gt;</environment>
        <key id="12661134">HBASE-9109</key>
            <summary>Null pointer exception while invoking coprocessor.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mayur.shardul">Mayur</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Aug 2013 14:34:37 +0000</created>
                <updated>Mon, 11 Nov 2013 20:25:01 +0000</updated>
                            <resolved>Mon, 11 Nov 2013 20:25:01 +0000</resolved>
                                    <version>0.98.0</version>
                                                    <component>Client</component>
                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13726546" author="yuzhihong@gmail.com" created="Thu, 1 Aug 2013 15:51:02 +0000"  >&lt;p&gt;Why did the region server crash, do you know ?&lt;/p&gt;</comment>
                            <comment id="13726553" author="mayur.shardul" created="Thu, 1 Aug 2013 15:54:48 +0000"  >&lt;p&gt;Initially it died because of wrong heap size, we corrected the size later but this issue surfaced. The issue is reproducible by killing a region server manually.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Mayur&lt;/p&gt;</comment>
                            <comment id="13727588" author="asha koshti" created="Fri, 2 Aug 2013 11:26:47 +0000"  >&lt;p&gt;Even i am facing the issue in  using coprocessor for doing sum.&lt;/p&gt;

&lt;p&gt;AggregationClient aClient = new AggregationClient(conf);&lt;br/&gt;
final ColumnInterpreter&amp;lt;Long, Long&amp;gt; ci = new LongColumnInterpreter();&lt;br/&gt;
Scan scan = new Scan();&lt;br/&gt;
scan.addColumn(Bytes.toBytes(&quot;info&quot;),Bytes.toBytes(&quot;hits&quot;));&lt;br/&gt;
long sum = aClient.sum(Bytes.toBytes(&quot;demo&quot;), ci, scan);&lt;/p&gt;</comment>
                            <comment id="13727700" author="yuzhihong@gmail.com" created="Fri, 2 Aug 2013 14:21:37 +0000"  >&lt;p&gt;@Asha:&lt;br/&gt;
TestAggregateProtocol.java uses code very close to the snippet you gave. The test passes consistently.&lt;/p&gt;

&lt;p&gt;Mind giving us some more detail ?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Aug 2013 15:51:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mv93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>