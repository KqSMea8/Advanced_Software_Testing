<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:40:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6860/HBASE-6860.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6860] [replication] HBASE-6550 is too aggressive, DDOSes .META.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6860</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I was doing maintenance on clusters and rebooting a replication slave was giving me a lot of issues because the master wasn&apos;t able to read .META. while it was bombarded with getClosestRowBefore() coming from all the ReplicationSinks. Since no regions are assigned, and it doesn&apos;t retry, it goes straight back to the source which retries again.&lt;/p&gt;

&lt;p&gt;Also it seems that in some cases with retries=1 we don&apos;t even recover from a stale .META. cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608699">HBASE-6860</key>
            <summary>[replication] HBASE-6550 is too aggressive, DDOSes .META.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Sep 2012 21:37:21 +0000</created>
                <updated>Sun, 7 Apr 2013 05:15:29 +0000</updated>
                            <resolved>Fri, 21 Sep 2012 21:43:29 +0000</resolved>
                                                    <fixVersion>0.94.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13460839" author="jdcryans" created="Fri, 21 Sep 2012 21:39:41 +0000"  >&lt;p&gt;I pretty much can&apos;t get my cluster up without this patch.&lt;/p&gt;</comment>
                            <comment id="13460843" author="stack" created="Fri, 21 Sep 2012 21:41:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;With this config in place, cluster comes up.&lt;/p&gt;</comment>
                            <comment id="13460846" author="lhofhansl" created="Fri, 21 Sep 2012 21:42:33 +0000"  >&lt;p&gt;Is that 10000 seconds? I assume it&apos;s milliseconds, right?&lt;/p&gt;</comment>
                            <comment id="13460847" author="jdcryans" created="Fri, 21 Sep 2012 21:43:29 +0000"  >&lt;p&gt;Committed to trunk and 0.94, thanks Stack.&lt;/p&gt;</comment>
                            <comment id="13460848" author="jdcryans" created="Fri, 21 Sep 2012 21:43:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; yes ms.&lt;/p&gt;</comment>
                            <comment id="13460850" author="lhofhansl" created="Fri, 21 Sep 2012 21:44:08 +0000"  >&lt;p&gt;Just checked... Yeah it&apos;s ms. 20ms was &lt;b&gt;way&lt;/b&gt; too short.&lt;/p&gt;</comment>
                            <comment id="13460851" author="lhofhansl" created="Fri, 21 Sep 2012 21:44:39 +0000"  >&lt;p&gt;+1... Being able to start a cluster is cool.&lt;/p&gt;</comment>
                            <comment id="13460860" author="lhofhansl" created="Fri, 21 Sep 2012 21:51:44 +0000"  >&lt;p&gt;Going to commit, J-D?&lt;/p&gt;</comment>
                            <comment id="13460864" author="jdcryans" created="Fri, 21 Sep 2012 21:56:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6860?focusedCommentId=13460847&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13460847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-6860?focusedCommentId=13460847&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13460847&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13460865" author="lhofhansl" created="Fri, 21 Sep 2012 21:56:55 +0000"  >&lt;p&gt;Wow... That timewarped in there it seems. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13460870" author="hudson" created="Fri, 21 Sep 2012 22:00:38 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #55 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/55/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/55/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6860&quot; title=&quot;[replication] HBASE-6550 is too aggressive, DDOSes .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6860&quot;&gt;&lt;del&gt;HBASE-6860&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6550&quot; title=&quot;Refactoring ReplicationSink to make it more responsive of cluster health&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6550&quot;&gt;&lt;del&gt;HBASE-6550&lt;/del&gt;&lt;/a&gt; is too aggressive, DDOSes .META. (Revision 1388695)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13460879" author="hudson" created="Fri, 21 Sep 2012 22:12:58 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3368 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3368/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3368/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6860&quot; title=&quot;[replication] HBASE-6550 is too aggressive, DDOSes .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6860&quot;&gt;&lt;del&gt;HBASE-6860&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6550&quot; title=&quot;Refactoring ReplicationSink to make it more responsive of cluster health&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6550&quot;&gt;&lt;del&gt;HBASE-6550&lt;/del&gt;&lt;/a&gt; is too aggressive, DDOSes .META. (Revision 1388694)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13460885" author="v.himanshu" created="Fri, 21 Sep 2012 22:22:49 +0000"  >&lt;p&gt;Uhm... sorry for all this trouble people.&lt;/p&gt;</comment>
                            <comment id="13460894" author="lhofhansl" created="Fri, 21 Sep 2012 22:35:27 +0000"  >&lt;p&gt;No worries. We&apos;re better off than before &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13460930" author="hudson" created="Fri, 21 Sep 2012 23:18:01 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #186 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/186/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6860&quot; title=&quot;[replication] HBASE-6550 is too aggressive, DDOSes .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6860&quot;&gt;&lt;del&gt;HBASE-6860&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6550&quot; title=&quot;Refactoring ReplicationSink to make it more responsive of cluster health&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6550&quot;&gt;&lt;del&gt;HBASE-6550&lt;/del&gt;&lt;/a&gt; is too aggressive, DDOSes .META. (Revision 1388694)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13469917" author="hudson" created="Fri, 5 Oct 2012 00:37:53 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #8 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/8/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/8/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6860&quot; title=&quot;[replication] HBASE-6550 is too aggressive, DDOSes .META.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6860&quot;&gt;&lt;del&gt;HBASE-6860&lt;/del&gt;&lt;/a&gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;replication&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6550&quot; title=&quot;Refactoring ReplicationSink to make it more responsive of cluster health&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6550&quot;&gt;&lt;del&gt;HBASE-6550&lt;/del&gt;&lt;/a&gt; is too aggressive, DDOSes .META. (Revision 1388695)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jdcryans : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSink.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13624720" author="stack" created="Sun, 7 Apr 2013 05:15:29 +0000"  >&lt;p&gt;Fix up after bulk move overwrote some 0.94.2 fix versions w/ 0.95.0 (Noticed by Lars Hofhansl)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546094" name="HBASE-6860.patch" size="901" author="jdcryans" created="Fri, 21 Sep 2012 21:39:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Sep 2012 21:41:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02hsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>