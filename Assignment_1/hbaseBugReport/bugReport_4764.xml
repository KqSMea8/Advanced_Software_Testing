<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:21:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4764/HBASE-4764.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4764] naming errors for TestHLogUtils and SoftValueSortedMapTest</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4764</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;SoftValueSortedMapTest it&apos;s a test, but not a junit one, I tend to think it&apos;s not called. I don&apos;t know if it&apos;s used.&lt;/p&gt;

&lt;p&gt;TestHLogUtils has a wrong name: it&apos;s not a test, but an helper. It confuses the script looking for the tests. It would seems a better thing to rename it. Is there anything special to do to keep the history attached to this file?&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12530941">HBASE-4764</key>
            <summary>naming errors for TestHLogUtils and SoftValueSortedMapTest</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2011 23:55:30 +0000</created>
                <updated>Fri, 12 Oct 2012 05:34:57 +0000</updated>
                            <resolved>Tue, 15 Nov 2011 05:18:45 +0000</resolved>
                                    <version>0.94.0</version>
                                    <fixVersion>0.94.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13149099" author="nkeywal" created="Sat, 12 Nov 2011 15:51:19 +0000"  >&lt;p&gt;@committers: please tell if you&apos;re ok with:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;TestHLogUtils: renaming&lt;/li&gt;
	&lt;li&gt;SoftValueSortedMapTest: renaming + JUnitization if included tests works, deletion otherwise.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13149102" author="yuzhihong@gmail.com" created="Sat, 12 Nov 2011 16:21:10 +0000"  >&lt;p&gt;I think the proposal makes sense.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://markphip.blogspot.com/2006/12/subversion-moverename-feature.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://markphip.blogspot.com/2006/12/subversion-moverename-feature.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13149110" author="stack" created="Sat, 12 Nov 2011 17:13:35 +0000"  >&lt;p&gt;+1 on proposed changes&lt;/p&gt;</comment>
                            <comment id="13149903" author="hadoopqa" created="Mon, 14 Nov 2011 20:56:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12503651/4764_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12503651/4764_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 10 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -163 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 50 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/244//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/244//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/244//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/244//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/244//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/244//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13149913" author="yuzhihong@gmail.com" created="Mon, 14 Nov 2011 21:02:23 +0000"  >&lt;p&gt;TestMasterFailover hung.&lt;/p&gt;</comment>
                            <comment id="13149924" author="nkeywal" created="Mon, 14 Nov 2011 21:13:33 +0000"  >&lt;p&gt;It&apos;s just a renaming of a class that impacted only client.TestAdmin? I checked again the patch, it seems ok&lt;/p&gt;

&lt;p&gt;This said; I saw the tests randomly blocked in my env as well but not when I tested this patch. May be there is something else (I hope there is something else!). &lt;/p&gt;</comment>
                            <comment id="13149928" author="nkeywal" created="Mon, 14 Nov 2011 21:16:27 +0000"  >&lt;p&gt;@ted: If the process is still alive, can you jstack it? Dead processes can be identified by their ppid equals to 1, but it&apos;s still possible to jstack them with their pid.&lt;/p&gt;</comment>
                            <comment id="13149929" author="yuzhihong@gmail.com" created="Mon, 14 Nov 2011 21:18:19 +0000"  >&lt;p&gt;I don&apos;t have access to the build machine.&lt;/p&gt;</comment>
                            <comment id="13149937" author="nkeywal" created="Mon, 14 Nov 2011 21:26:43 +0000"  >&lt;p&gt;It&apos;s gonna be difficult &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I will have a look at my own stack, but I don&apos;t know if they have a lot of value. Here is an extract from yesterday:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
Thread 2916: (state = BLOCKED)
 - java.lang.Object.wait(long) @bci=0 (Interpreted frame)
 - org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker.blockUntilAvailable(long, boolean) @bci=113, line=134 (Interpreted frame)
 - org.apache.hadoop.hbase.zookeeper.RootRegionTracker.waitRootRegionLocation(long) @bci=32, line=83 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(byte[], byte[], boolean) @bci=75, line=753 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.relocateRegion(byte[], byte[]) @bci=4, line=739 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getRegionLocation(byte[], byte[], boolean) @bci=7, line=658 (Interpreted frame)
 - org.apache.hadoop.hbase.client.ServerCallable.connect(boolean) @bci=14, line=75 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getRegionServerWithRetries(org.apache.hadoop.hbase.client.ServerCallable) @bci=32, line=1241 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HTable.get(org.apache.hadoop.hbase.client.Get) @bci=29, line=589 (Interpreted frame)
 - org.apache.hadoop.hbase.catalog.MetaReader.get(org.apache.hadoop.hbase.client.HTable, org.apache.hadoop.hbase.client.Get) @bci=2, line=245 (Interpreted frame)
 - org.apache.hadoop.hbase.catalog.MetaReader.getRegion(org.apache.hadoop.hbase.catalog.CatalogTracker, byte[]) @bci=23, line=347 (Interpreted frame)
 - org.apache.hadoop.hbase.catalog.MetaReader.readRegionLocation(org.apache.hadoop.hbase.catalog.CatalogTracker, byte[]) @bci=2, line=287 (Interpreted frame)
 - org.apache.hadoop.hbase.catalog.MetaReader.getMetaRegionLocation(org.apache.hadoop.hbase.catalog.CatalogTracker) @bci=4, line=274 (Interpreted frame)
 - org.apache.hadoop.hbase.catalog.CatalogTracker.getMetaServerConnection() @bci=50, line=399 (Interpreted frame)
 - org.apache.hadoop.hbase.catalog.CatalogTracker.waitForMeta(long) @bci=45, line=458 (Interpreted frame)
 - org.apache.hadoop.hbase.master.handler.CreateTableHandler.&amp;lt;init&amp;gt;(org.apache.hadoop.hbase.Server, org.apache.hadoop.hbase.master.MasterFileSystem, org.apache.hadoop.hbase.master.ServerManager, org.apache.hadoop.hbase.HTableDescriptor, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.HRegionInfo[], org.apache.hadoop.hbase.catalog.CatalogTracker, org.apache.hadoop.hbase.master.AssignmentManager) @bci=65, line=80 (Interpreted frame)
 - org.apache.hadoop.hbase.master.HMaster.createTable(org.apache.hadoop.hbase.HTableDescriptor, byte[][]) @bci=69, line=998 (Interpreted frame)
 - sun.reflect.NativeMethodAccessorImpl.invoke0(java.lang.reflect.Method, java.lang.Object, java.lang.Object[]) @bci=0 (Interpreted frame)
 - sun.reflect.NativeMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) @bci=87, line=39 (Interpreted frame)
 - sun.reflect.DelegatingMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) @bci=6, line=25 (Compiled frame)
 - java.lang.reflect.Method.invoke(java.lang.Object, java.lang.Object[]) @bci=161, line=597 (Compiled frame)
 - org.apache.hadoop.hbase.ipc.WritableRpcEngine$Server.call(java.lang.Class, org.apache.hadoop.io.Writable, long, org.apache.hadoop.hbase.monitoring.MonitoredRPCHandler) @bci=279, line=364 (Interpreted frame)
 - org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run() @bci=236, line=1306 (Interpreted frame)


Thread 2378: (state = BLOCKED)
 - java.lang.Object.wait(long) @bci=0 (Interpreted frame)
 - org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker.blockUntilAvailable(long, boolean) @bci=113, line=134 (Interpreted frame)
 - org.apache.hadoop.hbase.zookeeper.RootRegionTracker.waitRootRegionLocation(long) @bci=32, line=83 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(byte[], byte[], boolean) @bci=75, line=753 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(byte[], byte[]) @bci=4, line=733 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(byte[], byte[], byte[], boolean, java.lang.Object) @bci=97, line=866 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(byte[], byte[], boolean) @bci=189, line=765 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(byte[], byte[]) @bci=4, line=733 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getRegionLocation(byte[], byte[], boolean) @bci=16, line=658 (Interpreted frame)
 - org.apache.hadoop.hbase.client.ServerCallable.connect(boolean) @bci=14, line=75 (Interpreted frame)
 - org.apache.hadoop.hbase.client.ScannerCallable.connect(boolean) @bci=13, line=72 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getRegionServerWithRetries(org.apache.hadoop.hbase.client.ServerCallable) @bci=32, line=1241 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner.metaScan(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.client.HConnection, org.apache.hadoop.hbase.client.MetaScanner$MetaScannerVisitor, byte[], byte[], int, byte[]) @bci=374, line=194 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner.access$000(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.client.HConnection, org.apache.hadoop.hbase.client.MetaScanner$MetaScannerVisitor, byte[], byte[], int, byte[]) @bci=10, line=52 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner$1.connect(org.apache.hadoop.hbase.client.HConnection) @bci=25, line=130 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner$1.connect(org.apache.hadoop.hbase.client.HConnection) @bci=2, line=127 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HConnectionManager.execute(org.apache.hadoop.hbase.client.HConnectionManager$HConnectable) @bci=27, line=339 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner.metaScan(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.client.MetaScanner$MetaScannerVisitor, byte[], byte[], int, byte[]) @bci=15, line=127 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner.metaScan(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.client.MetaScanner$MetaScannerVisitor, byte[], byte[], int) @bci=9, line=103 (Interpreted frame)
 - org.apache.hadoop.hbase.client.MetaScanner.metaScan(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.client.MetaScanner$MetaScannerVisitor, byte[]) @bci=6, line=81 (Interpreted frame)
 - org.apache.hadoop.hbase.client.HBaseAdmin.createTable(org.apache.hadoop.hbase.HTableDescriptor, byte[][]) @bci=121, line=394 (Interpreted frame)
 - org.apache.hadoop.hbase.TestMultiVersions.testScanMultipleVersions() @bci=88, line=195 (Interpreted frame)
 - sun.reflect.NativeMethodAccessorImpl.invoke0(java.lang.reflect.Method, java.lang.Object, java.lang.Object[]) @bci=0 (Interpreted frame)
 - sun.reflect.NativeMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) @bci=87, line=39 (Interpreted frame)
 - sun.reflect.DelegatingMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) @bci=6, line=25 (Compiled frame)
 - java.lang.reflect.Method.invoke(java.lang.Object, java.lang.Object[]) @bci=161, line=597 (Compiled frame)
 - org.junit.runners.model.FrameworkMethod$1.runReflectiveCall() @bci=15, line=45 (Interpreted frame)
 - org.junit.internal.runners.model.ReflectiveCallable.run() @bci=1, line=15 (Interpreted frame)
 - org.junit.runners.model.FrameworkMethod.invokeExplosively(java.lang.Object, java.lang.Object[]) @bci=10, line=42 (Interpreted frame)
 - org.junit.internal.runners.statements.InvokeMethod.evaluate() @bci=12, line=20 (Interpreted frame)
 - org.junit.internal.runners.statements.RunBefores.evaluate() @bci=49, line=28 (Interpreted frame)
 - org.junit.internal.runners.statements.RunAfters.evaluate() @bci=12, line=30 (Interpreted frame)
 - org.junit.runners.ParentRunner.runLeaf(org.junit.runners.model.Statement, org.junit.runner.Description, org.junit.runner.notification.RunNotifier) @bci=17, line=263 (Interpreted frame)
 - org.junit.runners.BlockJUnit4ClassRunner.runChild(org.junit.runners.model.FrameworkMethod, org.junit.runner.notification.RunNotifier) @bci=32, line=68 (Interpreted frame)
 - org.junit.runners.BlockJUnit4ClassRunner.runChild(java.lang.Object, org.junit.runner.notification.RunNotifier) @bci=6, line=47 (Interpreted frame)
 - org.junit.runners.ParentRunner$3.run() @bci=12, line=231 (Interpreted frame)
 - org.junit.runners.ParentRunner$1.schedule(java.lang.Runnable) @bci=1, line=60 (Interpreted frame)
 - org.junit.runners.ParentRunner.runChildren(org.junit.runner.notification.RunNotifier) @bci=40, line=229 (Interpreted frame)
 - org.junit.runners.ParentRunner.access$000(org.junit.runners.ParentRunner, org.junit.runner.notification.RunNotifier) @bci=2, line=50 (Interpreted frame)
 - org.junit.runners.ParentRunner$2.evaluate() @bci=8, line=222 (Interpreted frame)
 - org.junit.internal.runners.statements.RunBefores.evaluate() @bci=49, line=28 (Interpreted frame)
 - org.junit.internal.runners.statements.RunAfters.evaluate() @bci=12, line=30 (Interpreted frame)
 - org.junit.runners.ParentRunner.run(org.junit.runner.notification.RunNotifier) @bci=20, line=300 (Interpreted frame)
 - org.junit.runners.Suite.runChild(org.junit.runner.Runner, org.junit.runner.notification.RunNotifier) @bci=2, line=128 (Interpreted frame)
 - org.junit.runners.Suite.runChild(java.lang.Object, org.junit.runner.notification.RunNotifier) @bci=6, line=24 (Interpreted frame)
 - org.junit.runners.ParentRunner$3.run() @bci=12, line=231 (Interpreted frame)
 - org.junit.runners.ParentRunner$1.schedule(java.lang.Runnable) @bci=1, line=60 (Interpreted frame)
 - org.junit.runners.ParentRunner.runChildren(org.junit.runner.notification.RunNotifier) @bci=40, line=229 (Interpreted frame)
 - org.junit.runners.ParentRunner.access$000(org.junit.runners.ParentRunner, org.junit.runner.notification.RunNotifier) @bci=2, line=50 (Interpreted frame)
 - org.junit.runners.ParentRunner$2.evaluate() @bci=8, line=222 (Interpreted frame)
 - org.junit.runners.ParentRunner.run(org.junit.runner.notification.RunNotifier) @bci=20, line=300 (Interpreted frame)
 - org.junit.runner.JUnitCore.run(org.junit.runner.Runner) @bci=37, line=157 (Interpreted frame)
 - org.junit.runner.JUnitCore.run(org.junit.runner.Request) @bci=5, line=136 (Interpreted frame)
 - org.apache.maven.surefire.junitcore.JUnitCoreWrapper.execute(org.apache.maven.surefire.util.TestsToRun, org.apache.maven.surefire.junitcore.JUnitCoreParameters, java.util.List, org.junit.runner.manipulation.Filter) @bci=82, line=61 (Interpreted frame)
 - org.apache.maven.surefire.junitcore.JUnitCoreProvider.invoke(java.lang.Object) @bci=150, line=119 (Interpreted frame)
 - sun.reflect.NativeMethodAccessorImpl.invoke0(java.lang.reflect.Method, java.lang.Object, java.lang.Object[]) @bci=0 (Interpreted frame)
 - sun.reflect.NativeMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) @bci=87, line=39 (Interpreted frame)
 - sun.reflect.DelegatingMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) @bci=6, line=25 (Interpreted frame)
 - java.lang.reflect.Method.invoke(java.lang.Object, java.lang.Object[]) @bci=161, line=597 (Interpreted frame)
 - org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(java.lang.Object, java.lang.reflect.Method, java.lang.Object[]) @bci=3, line=164 (Interpreted frame)
 - org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(java.lang.Object) @bci=29, line=110 (Interpreted frame)
 - org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(java.lang.Object, java.lang.ClassLoader, java.lang.ClassLoader, java.lang.Object) @bci=41, line=175 (Interpreted frame)
 - org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(org.apache.maven.surefire.booter.TypeEncodedValue) @bci=64, line=81 (Interpreted frame)
 - org.apache.maven.surefire.booter.ForkedBooter.main(java.lang.String[]) @bci=101, line=68 (Interpreted frame)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13150001" author="nkeywal" created="Mon, 14 Nov 2011 22:22:13 +0000"  >&lt;p&gt;For example, after a look at the code where the above sample blocks; the current implementation is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    while (!this.stopped &amp;amp;&amp;amp; (notimeout || remaining &amp;gt; 0) &amp;amp;&amp;amp; this.data == null) {
      if (notimeout) {
        wait();
        continue;
      }
      wait(remaining);
      remaining = timeout - (System.currentTimeMillis() - startTime);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This means that if the notification is sent before we actually started waiting, we will wait forever. Probability is quite low and I don&apos;t think that&apos;s the root cause here, but who knows?. An implementation like this one would be more secure:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    long previousLogTime = 0;
    while (!this.stopped &amp;amp;&amp;amp; (notimeout || remaining &amp;gt; 0) &amp;amp;&amp;amp; this.data == null) {
      if (System.currentTimeMillis() &amp;gt; previousLogTime + 1000) {
        LOG.info(&quot;Waiting for node to be available &quot;);
        previousLogTime = System.currentTimeMillis();
      }

      wait(200);
      remaining = timeout - (System.currentTimeMillis() - startTime);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The is no notifications in getData(), don&apos;t know if it&apos;s voluntary.&lt;/p&gt;

&lt;p&gt;The recursive call to start in ZooKeeperNodeTracker#start() is not really necessary.&lt;/p&gt;

&lt;p&gt;But to conclude, we don&apos;t even know if it&apos;s a stack like this one on the build machine.&lt;/p&gt;


&lt;p&gt;Can we put a script in the cron tab? Something that would run every 10 minutes and look for dead processes? We could also hijack a maven task to run a script when it&apos;s launched and make it send a mail.&lt;/p&gt;</comment>
                            <comment id="13150031" author="stack" created="Mon, 14 Nov 2011 22:47:12 +0000"  >&lt;p&gt;@nkeywal We don&apos;t have access to the apache build boxes.  My blanket &quot;i want access&quot; was rebuked with a &quot;we have lots of build machines and giving you access to them all is untenable&quot; (Fair enough I suppose)&lt;/p&gt;</comment>
                            <comment id="13150041" author="nkeywal" created="Mon, 14 Nov 2011 22:55:51 +0000"  >&lt;p&gt;Ok, may be we can handle this with a post build task that would execute a&lt;br/&gt;
script?&lt;br/&gt;
However, we need to be careful not to break anything, but it should work I&lt;br/&gt;
think.&lt;/p&gt;

&lt;p&gt;On Mon, Nov 14, 2011 at 11:47 PM, stack (Commented) (JIRA)&lt;/p&gt;
</comment>
                            <comment id="13150100" author="nkeywal" created="Tue, 15 Nov 2011 00:16:46 +0000"  >&lt;p&gt;same patch try again&lt;/p&gt;</comment>
                            <comment id="13150170" author="hadoopqa" created="Tue, 15 Nov 2011 02:04:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12503694/4764_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12503694/4764_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 10 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -163 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 51 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/248//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/248//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/248//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/248//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/248//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/248//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13150242" author="stack" created="Tue, 15 Nov 2011 05:18:45 +0000"  >&lt;p&gt;Applied to trunk.  Thanks for patch N.&lt;/p&gt;</comment>
                            <comment id="13150269" author="hudson" created="Tue, 15 Nov 2011 07:05:18 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2441 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2441/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4764&quot; title=&quot;naming errors for TestHLogUtils and SoftValueSortedMapTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4764&quot;&gt;&lt;del&gt;HBASE-4764&lt;/del&gt;&lt;/a&gt; naming errors for TestHLogUtils and SoftValueSortedMapTest&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13150364" author="yuzhihong@gmail.com" created="Tue, 15 Nov 2011 10:42:14 +0000"  >&lt;p&gt;I think HLogUtilsForTests.java wasn&apos;t added to source repository, causing compilation error.&lt;/p&gt;</comment>
                            <comment id="13150369" author="nkeywal" created="Tue, 15 Nov 2011 10:46:29 +0000"  >&lt;p&gt;It worked on integration? Should I do something?&lt;/p&gt;</comment>
                            <comment id="13150376" author="yuzhihong@gmail.com" created="Tue, 15 Nov 2011 11:01:40 +0000"  >&lt;p&gt;HLogUtilsForTests.java has been added to source repository.&lt;/p&gt;</comment>
                            <comment id="13150432" author="hudson" created="Tue, 15 Nov 2011 12:42:16 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2442 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2442/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2442/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4764&quot; title=&quot;naming errors for TestHLogUtils and SoftValueSortedMapTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4764&quot;&gt;&lt;del&gt;HBASE-4764&lt;/del&gt;&lt;/a&gt; Addendum add HLogUtilsForTests.java&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/wal/HLogUtilsForTests.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLogUtils.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/util/SoftValueSortedMapTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12527439">HBASE-4602</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503694" name="4764_trunk.patch" size="7223" author="nkeywal" created="Tue, 15 Nov 2011 00:16:46 +0000"/>
                            <attachment id="12503651" name="4764_trunk.patch" size="7223" author="nkeywal" created="Mon, 14 Nov 2011 18:51:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 12 Nov 2011 16:21:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>