<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:44:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7347/HBASE-7347.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7347] Allow multiple readers per storefile</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7347</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently each store file is read only through the single reader regardless of how many concurrent read requests access that file.&lt;/p&gt;

&lt;p&gt;This issue is to explore alternate designs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12623791">HBASE-7347</key>
            <summary>Allow multiple readers per storefile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Dec 2012 18:08:09 +0000</created>
                <updated>Sun, 8 Dec 2013 02:01:36 +0000</updated>
                            <resolved>Sun, 8 Dec 2013 02:01:36 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                            <comments>
                            <comment id="13531364" author="lhofhansl" created="Thu, 13 Dec 2012 19:30:36 +0000"  >&lt;p&gt;Options might include:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Ad hoc fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7336&quot; title=&quot;HFileBlock.readAtOffset does not work well with multiple threads&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7336&quot;&gt;&lt;del&gt;HBASE-7336&lt;/del&gt;&lt;/a&gt; is good enough (using seek + read when possible without contention, false back to p-read when needed)&lt;/li&gt;
	&lt;li&gt;A separate reader for compactions (Stack suggested that)&lt;/li&gt;
	&lt;li&gt;A reader for each scanner that has cacheBlocks set to false (presumably because it is expected to be large scan, that would also cover compactions)&lt;/li&gt;
	&lt;li&gt;multiple readers for store files, round robin between them
	&lt;ul&gt;
		&lt;li&gt;based on size (i.e. a reader per each n GB)&lt;/li&gt;
		&lt;li&gt;based on access pattern (i.e. create readers, cache them for a bit, expire them)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What probably does not work:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Use p-read everywhere (does not perform well)&lt;/li&gt;
	&lt;li&gt;A reader per scanner (probably not efficient, open is a name node operation)&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13531389" author="tlipcon" created="Thu, 13 Dec 2012 19:46:16 +0000"  >&lt;p&gt;Hey Lars. Have you seen &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5979&quot; title=&quot;Non-pread DFSInputStreams should be associated with scanners, not HFile.Readers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5979&quot;&gt;HBASE-5979&lt;/a&gt;? There is some discussion there from earlier this year.&lt;/p&gt;</comment>
                            <comment id="13533593" author="mcorgan" created="Mon, 17 Dec 2012 01:15:38 +0000"  >&lt;p&gt;&lt;blockquote&gt;&lt;p&gt;Use p-read everywhere (does not perform well)&lt;/p&gt;&lt;/blockquote&gt;Is the problem with p-read that it doesn&apos;t pre-fetch any data?  It&apos;s probably not trivial logic, but if FSReaderV2 could read multiple blocks in a single p-read, then the scanner could request hundreds of consecutive blocks in a single FSDataInputStream.read call.  The scanner could start with 1 block, then keep doubling the number of blocks it requests up to a limit of a few megabytes.&lt;/p&gt;

&lt;p&gt;How much data does the FSDataInputStream.seek method end up pre-fetching behind the scenes?&lt;/p&gt;</comment>
                            <comment id="13842368" author="lhofhansl" created="Sun, 8 Dec 2013 02:01:36 +0000"  >&lt;p&gt;Closing. Any further discussion should be had in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5979&quot; title=&quot;Non-pread DFSInputStreams should be associated with scanners, not HFile.Readers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5979&quot;&gt;HBASE-5979&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12554581">HBASE-5979</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12623489">HBASE-7336</subtask>
                            <subtask id="12624360">HBASE-7371</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Dec 2012 19:46:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>297491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14p27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>