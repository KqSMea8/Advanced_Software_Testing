<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:42:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-269/HBASE-269.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-269] [hbase] RESTful interface</title>
                <link>https://issues.apache.org/jira/browse/HBASE-269</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;A RESTful interface would be one means of making hbase accessible to clients that are not java.  It might look something like the below:&lt;/p&gt;

&lt;p&gt;+ An HTTP GET of  &lt;a href=&quot;http://MASTER:PORT/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/&lt;/a&gt; outputs the master&apos;s attributes: online meta regions, list of tables, etc.: i.e. what you see now when you go to &lt;a href=&quot;http://MASTER:PORT/master.jsp&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/master.jsp&lt;/a&gt;.&lt;br/&gt;
+ An HTTP GET of &lt;a href=&quot;http://MASTER:PORT/TABLENAME:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/TABLENAME:&lt;/a&gt; 200 if tables exists and HTableDescription (mimetype: text/plain or text/xml) or 401 if no such table.  HTTP DELETE would drop the table.  HTTP PUT would add one.&lt;br/&gt;
+ An HTTP GET of &lt;a href=&quot;http://MASTER:PORT/TABLENAME/ROW:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/TABLENAME/ROW:&lt;/a&gt; 200 if row exists and 401 if not.&lt;br/&gt;
+ An HTTP GET of &lt;a href=&quot;http://MASTER:PORT/TABLENAME/ROW/COLUMNFAMILY:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/TABLENAME/ROW/COLUMNFAMILY:&lt;/a&gt; HColumnDescriptor (mimetype: text/plain or text/xml) or 401 if no such table.&lt;br/&gt;
+ An HTTP GET of &lt;a href=&quot;http://MASTER:PORT/TABLENAME/ROW/COLUMNNAME/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/TABLENAME/ROW/COLUMNNAME/:&lt;/a&gt; 200 and latest version (mimetype: binary/octet-stream) or 401 if no such cell. HTTP DELETE would delete the cell.  HTTP PUT would add a new version.&lt;br/&gt;
+ An HTTP GET of &lt;a href=&quot;http://MASTER:PORT/TABLENAME/ROW/COLUMNNAME/TIMESTAMP:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/TABLENAME/ROW/COLUMNNAME/TIMESTAMP:&lt;/a&gt; 200 (mimetype: binary/octet-stream) or 401 if no such cell. HTTP DELETE would remove.  HTTP PUT would put this record.&lt;br/&gt;
+ Browser originally goes against master but master then redirects to the hosting region server to serve, update, delete, etc. the addressed cell&lt;/p&gt;</description>
                <environment></environment>
        <key id="12380573">HBASE-269</key>
            <summary>[hbase] RESTful interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2007 05:20:06 +0000</created>
                <updated>Thu, 2 May 2013 02:29:11 +0000</updated>
                            <resolved>Fri, 30 Nov 2007 20:17:22 +0000</resolved>
                                                                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12535729" author="tomwhite" created="Wed, 17 Oct 2007 20:38:34 +0000"  >&lt;p&gt;Generally looks good. A few comments:&lt;/p&gt;

&lt;p&gt;1. 401 is &quot;Unauthorized&quot;, instead I would use 404 &quot;Not Found&quot; if a resource doesn&apos;t exist.&lt;br/&gt;
2. The result of a successful PUT is 201 &quot;Created&quot;.&lt;br/&gt;
3. What do you think the representation of the resources will be?&lt;/p&gt;

&lt;p&gt;And in case you haven&apos;t seen it already, I found &quot;RESTful Web Services&quot; by by Leonard Richardson and Sam Ruby (&lt;a href=&quot;http://www.oreilly.com/catalog/9780596529260/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.oreilly.com/catalog/9780596529260/&lt;/a&gt;) really useful.&lt;/p&gt;</comment>
                            <comment id="12535740" author="stack" created="Wed, 17 Oct 2007 20:56:14 +0000"  >&lt;p&gt;Thanks for feedback Tom.  &lt;/p&gt;

&lt;p&gt;401 rather than 404 was because I was watching TV at same time as writing the issue (smile).  Regards 3. above, if I understand your question, there is no typing of hbase content &amp;#8211; as far as hbase is concerned, its all bytes &amp;#8211; so returned cell data should default mimetype binary/octet-stream.  Later, might add switching resource format returned keyed off request headers.   &lt;/p&gt;

&lt;p&gt;For cluster, table, and column descriptors, default text/plain UTF-8 or perhaps text/xml if specified in request headers.&lt;/p&gt;

&lt;p&gt;Thanks too for pointer to Leonard&apos;s book.&lt;/p&gt;</comment>
                            <comment id="12540943" author="bryanduxbury" created="Thu, 8 Nov 2007 01:03:29 +0000"  >&lt;p&gt;Would the REST api support getting whole rows at a time? Perhaps off the GET /TABLE/ROW.  The data could be packed into an XML document. &lt;/p&gt;

&lt;p&gt;I&apos;d love to see this one get done, as it would get me the Ruby HBase client I&apos;ve always wanted. &lt;/p&gt;</comment>
                            <comment id="12541085" author="stack" created="Thu, 8 Nov 2007 17:27:38 +0000"  >&lt;p&gt;Have you seen how rows are dumped out in xhtml in hql.jsp?  Would that work for you? You can&apos;t wrap binary data in XML so I don&apos;t think row representation as XML would be a general soln.  If you explicitly request a cell, then we could pass back binary with (data length in http headers).   &lt;/p&gt;

&lt;p&gt;I&apos;m thinking that main difference between the REST implemenation and current UI HQL querying on the master would be that REST clients would go first to the master but would then be redirected to the regionserver hosting the row that is being read or updated (as opposed to all being done on master HQL&apos;ing).  I&apos;m thinking REST clients would have to be able to deal with retry if data had been moved by the time they arrived at what had been the data server.  The alternative would be something like having the regionserver redirect back to the master since it is arbiter of where everything is but I imagine that could get complicated quickly what with there often being some lag before master learns that data has moved and has had chance to orchestrate redeploy in the new location.&lt;/p&gt;</comment>
                            <comment id="12541089" author="jimk" created="Thu, 8 Nov 2007 17:36:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-280&quot; title=&quot;[Hbase Shell] Socket Sever for executing the hql query in other applications.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-280&quot;&gt;&lt;del&gt;HADOOP-2171&lt;/del&gt;&lt;/a&gt; talks about creating a shell server which I think would be better than burdening the master with having to handle REST requests.&lt;/p&gt;</comment>
                            <comment id="12541093" author="bryanduxbury" created="Thu, 8 Nov 2007 17:57:50 +0000"  >&lt;p&gt;I haven&apos;t seen the output of hql.jsp, but I&apos;ll try and track it down. You&apos;re right, you can&apos;t stick pure binary data in XML, but you can use Base64 encoded binary data. It&apos;s a little bigger, but it cuts down on the number of requests you would have to make, which I think will be the crucial bottleneck. Of course, single column requests for pure binary data should still be available.&lt;/p&gt;

&lt;p&gt;I agree with your idea of the REST requests redirecting around between the master and the region servers. That keeps the underlying architecture correct, just with a different  face on it. &lt;/p&gt;
</comment>
                            <comment id="12541097" author="stack" created="Thu, 8 Nov 2007 18:31:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-280&quot; title=&quot;[Hbase Shell] Socket Sever for executing the hql query in other applications.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-280&quot;&gt;&lt;del&gt;HADOOP-2171&lt;/del&gt;&lt;/a&gt; strikes me as a little odd.   A client sends HQL to a server that parses the HQL to run HTable client operations against hbase.    There are no load savings over running shell on client machine that I can see.&lt;/p&gt;

&lt;p&gt;I don&apos;t see a problem having the master handle REST requests.  Master is generally lightly loaded. It will take a lot of traffic to make it break a sweat.  The masters REST load would add the master fielding HTTP redirects &amp;#8211; a minor imposition.  Should  the REST load become burdensome, folks could put up an intermediary serve or take the load off the master by making their clients smarter doing HTable-like caching of data locations. &lt;/p&gt;</comment>
                            <comment id="12541107" author="stack" created="Thu, 8 Nov 2007 18:59:15 +0000"  >&lt;p&gt;See the master UI at &lt;a href=&quot;http://MASTER:PORT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT&lt;/a&gt; (default is localhost:60000).  On the master homepage, there is a HQL link that does read-only queries against tables making best effort at outputting results in XHTML (Maybe this is good enough to get you going?).&lt;/p&gt;

&lt;p&gt;We could Base64 the data.  We could also tie a boat anchor to the server too as a means of slowing it down (smile).  I suppose the RESTful way to do it is  just allow clients say what they can accept in request headers (Don&apos;t know if you can stipulate xml with base64 encoded content via http request headers).  If the server has support, do as the client asks.&lt;/p&gt;</comment>
                            <comment id="12541135" author="bryanduxbury" created="Thu, 8 Nov 2007 20:55:33 +0000"  >&lt;p&gt;Well, either Base64 encoding the data and sending it all together takes longer than requesting each column individually, or it&apos;s the other way around. I&apos;d be interested in seeing which way it really is. &lt;/p&gt;

&lt;p&gt;I think it is perfectly acceptable to do the column-only approach in the short term and evaluate the row oriented approach later.&lt;/p&gt;</comment>
                            <comment id="12542682" author="stack" created="Thu, 15 Nov 2007 06:10:46 +0000"  >&lt;p&gt;Bryan Duxbury added &lt;a href=&quot;http://wiki.apache.org/lucene-hadoop/Hbase/HbaseRest&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/lucene-hadoop/Hbase/HbaseRest&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12543732" author="stack" created="Mon, 19 Nov 2007 23:27:10 +0000"  >&lt;p&gt;First cut at RESTful interface.  Implements metainfo, gets, and scanners.  Does not yet support put.  Bunch of TODOs:&lt;/p&gt;

&lt;p&gt;+ Returning results multipart/related is crippled by lack of support in the container; jetty has a MultipartResponse class but can&apos;t set properly qualified Content-Type with boundary and start parameters... they get stripped.  Need to figure out how to fix this (maybe jetty 6 does it better).&lt;br/&gt;
+ Need to agree on timestamp format to use (ISO8601?)&lt;br/&gt;
+ Need to fix HTable so it has table metadata; until then, you need to specify a column getting a scanner.&lt;/p&gt;

&lt;p&gt;Here&apos;s some samples run against a simple table named &apos;x&apos; with column family &apos;x:&apos; with following contents:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Hbase&amp;gt; select * from x;
+-------------------------+-------------------------+-------------------------+
| Row                     | Column                  | Cell                    |
+-------------------------+-------------------------+-------------------------+
| x                       | x:                      | xyz                     |
+-------------------------+-------------------------+-------------------------+
| xyz                     | x:abc                   | abc                     |
+-------------------------+-------------------------+-------------------------+
| xyz                     | x:xyz                   | xyzxyz                  |
+-------------------------+-------------------------+-------------------------+
3 row(s) in set (0.19 sec)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In below session I&apos;m using curl.  Doesn&apos;t have DELETE and I fake PUT with the -T option uploading a file:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ curl http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/
&lt;/span&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;tables&amp;gt;
 &amp;lt;table&amp;gt;
x
 &amp;lt;/table&amp;gt;

$ curl --header &apos;Accept: text/plain&apos; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/
&lt;/span&gt;x

$ curl --header &apos;Accept: text/plain&apos; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x
&lt;/span&gt;name: x, families: {x:={name: x, max versions: 3, compression: NONE, in memory: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, max length: 2147483647, bloom filter: none}}

$ curl --header &apos;Accept: text/xml&apos; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x
&lt;/span&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;table&amp;gt;
 &amp;lt;name&amp;gt;
x
 &amp;lt;/name&amp;gt;
 &amp;lt;columnfamilies&amp;gt;
  &amp;lt;columnfamily&amp;gt;
   &amp;lt;name&amp;gt;
x:
   &amp;lt;/name&amp;gt;
   &amp;lt;compression&amp;gt;
NONE
   &amp;lt;/compression&amp;gt;
   &amp;lt;bloomfilter&amp;gt;
NONE
   &amp;lt;/bloomfilter&amp;gt;
   &amp;lt;max-versions&amp;gt;
3
   &amp;lt;/max-versions&amp;gt;
   &amp;lt;maximum-cell-size&amp;gt;
2147483647
   &amp;lt;/maximum-cell-size&amp;gt;
  &amp;lt;/columnfamily&amp;gt;
 &amp;lt;/columnfamilies&amp;gt;
&amp;lt;/table&amp;gt;

$ curl --header &apos;Accept: text/xml&apos; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/regions
&lt;/span&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;regions&amp;gt;
 &amp;lt;region/&amp;gt;

# only one region and its start key is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; table start key

$ curl --verbose --header &apos;Accept: text/xml&apos; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/scanner
&lt;/span&gt;* About to connect() to localhost port 60010
*   Trying ::1... * connected
* Connected to localhost (::1) port 60010
&amp;gt; GET /api/x/scanner HTTP/1.1
User-Agent: curl/7.13.1 (powerpc-apple-darwin8.0) libcurl/7.13.1 OpenSSL/0.9.7l zlib/1.2.3
Host: localhost:60010
Pragma: no-cache
Accept: text/xml

&amp;lt; HTTP/1.1 404 No+handler
&amp;lt; Date: Mon, 19 Nov 2007 23:22:23 GMT
&amp;lt; Server: Jetty/5.1.4 (Mac OS X/10.4.10 i386 java/1.5.0_07
&amp;lt; Content-Type: text/html
&amp;lt; Content-Length: 1228
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;title&amp;gt;Error 404 No handler&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
...

# Fails because currently you must specify a column name (To be fixed)

$ curl --verbose --header &apos;Accept: text/xml&apos; -T /tmp/diff.txt http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/scanner?column=x:
&lt;/span&gt;* About to connect() to localhost port 60010
*   Trying ::1... * connected
* Connected to localhost (::1) port 60010
&amp;gt; PUT /api/x/scanner?column=x: HTTP/1.1
User-Agent: curl/7.13.1 (powerpc-apple-darwin8.0) libcurl/7.13.1 OpenSSL/0.9.7l zlib/1.2.3
Host: localhost:60010
Pragma: no-cache
Accept: text/xml
Content-Length: 7096
Expect: 100-&lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;

&amp;lt; HTTP/1.1 100 Continue
&amp;lt; HTTP/1.1 201 Created
&amp;lt; Date: Mon, 19 Nov 2007 23:23:33 GMT
&amp;lt; Server: Jetty/5.1.4 (Mac OS X/10.4.10 i386 java/1.5.0_07
&amp;lt; Location: &lt;span class=&quot;code-comment&quot;&gt;//api /x/scanner/88316f77
&lt;/span&gt;&amp;lt; Content-Length: 0
* Connection #0 to host localhost left intact
* Closing connection #0

$ curl --verbose --header &apos;Accept: text/xml&apos; -T /tmp/diff.txt http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/scanner/88316f77 
&lt;/span&gt;* About to connect() to localhost port 60010
*   Trying ::1... * connected
* Connected to localhost (::1) port 60010
&amp;gt; PUT /api/x/scanner/88316f77 HTTP/1.1
User-Agent: curl/7.13.1 (powerpc-apple-darwin8.0) libcurl/7.13.1 OpenSSL/0.9.7l zlib/1.2.3
Host: localhost:60010
Pragma: no-cache
Accept: text/xml
Content-Length: 7096
Expect: 100-&lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;

&amp;lt; HTTP/1.1 100 Continue
&amp;lt; HTTP/1.1 200 OK
&amp;lt; Date: Mon, 19 Nov 2007 23:23:56 GMT
&amp;lt; Server: Jetty/5.1.4 (Mac OS X/10.4.10 i386 java/1.5.0_07
&amp;lt; Content-Type: text/xml;charset=UTF-8
&amp;lt; Transfer-Encoding: chunked
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;row&amp;gt;
 &amp;lt;name&amp;gt;
x
 &amp;lt;/name&amp;gt;
 &amp;lt;timestamp&amp;gt;
1195372581842
 &amp;lt;/timestamp&amp;gt;
 &amp;lt;column&amp;gt;
  &amp;lt;name&amp;gt;
x:
  &amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;
eHl6
  &amp;lt;/value&amp;gt;
 &amp;lt;/column&amp;gt;
* Connection #0 to host localhost left intact
* Closing connection #0
&amp;lt;/row&amp;gt;


$ curl --verbose --header &apos;Accept: multipart/related&apos; -T /&apos; -T /tmp/diff.txt http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/scanner/88316f77
&lt;/span&gt;* About to connect() to localhost port 60010
*   Trying ::1... * connected
* Connected to localhost (::1) port 60010
&amp;gt; PUT /api/x/scanner/88316f77 HTTP/1.1
User-Agent: curl/7.13.1 (powerpc-apple-darwin8.0) libcurl/7.13.1 OpenSSL/0.9.7l zlib/1.2.3
Host: localhost:60010
Pragma: no-cache
Accept: multipart/related
Content-Length: 7096
Expect: 100-&lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;

&amp;lt; HTTP/1.1 100 Continue
&amp;lt; HTTP/1.1 200 OK
&amp;lt; Date: Mon, 19 Nov 2007 23:24:26 GMT
&amp;lt; Server: Jetty/5.1.4 (Mac OS X/10.4.10 i386 java/1.5.0_07
&amp;lt; Content-Type: multipart/related
&amp;lt; Content-Length: 814
--org.mortbay.http.MultiPartResponse.boundary.f97mkcfm
Content-Type: application/octet-stream
Content-Description: row
Content-Transfer-Encoding: binary
Content-Length: 3

xyz
--org.mortbay.http.MultiPartResponse.boundary.f97mkcfm
Content-Type: application/octet-stream
Content-Description: timestamp
Content-Transfer-Encoding: binary
Content-Length: 13

1195372609009
--org.mortbay.http.MultiPartResponse.boundary.f97mkcfm
Content-Type: application/octet-stream
Content-Description: x:abc
Content-Transfer-Encoding: binary
Content-Length: 3

abc
--org.mortbay.http.MultiPartResponse.boundary.f97mkcfm
Content-Type: application/octet-stream
Content-Description: x:xyz
Content-Transfer-Encoding: binary
Content-Length: 6

xyzxyz
--org.mortbay.http.MultiPartResponse.boundary.f97mkcfm--
* Connection #0 to host localhost left intact
* Closing connection #0

$ curl --verbose --header &apos;Accept: multipart/related&apos;  http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/row/x           
&lt;/span&gt;* About to connect() to localhost port 60010
*   Trying ::1... * connected
* Connected to localhost (::1) port 60010
&amp;gt; GET /api/x/row/x HTTP/1.1
User-Agent: curl/7.13.1 (powerpc-apple-darwin8.0) libcurl/7.13.1 OpenSSL/0.9.7l zlib/1.2.3
Host: localhost:60010
Pragma: no-cache
Accept: multipart/related

&amp;lt; HTTP/1.1 200 OK
&amp;lt; Date: Mon, 19 Nov 2007 23:24:55 GMT
&amp;lt; Server: Jetty/5.1.4 (Mac OS X/10.4.10 i386 java/1.5.0_07
&amp;lt; Content-Type: multipart/related
&amp;lt; Content-Length: 240
--org.mortbay.http.MultiPartResponse.boundary.f97mkyj8
Content-Type: application/octet-stream
Content-Description: x:
Content-Transfer-Encoding: binary
Content-Length: 3

xyz
--org.mortbay.http.MultiPartResponse.boundary.f97mkyj8--
* Connection #0 to host localhost left intact
* Closing connection #0

$ curl --verbose --header  http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/row/x
&lt;/span&gt;curl: no URL specified!
curl: &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; &apos;curl --help&apos; or &apos;curl --manual&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more information
durruti:~/Documents/checkouts/hadoop-trunk stack$ curl --verbose  http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:60010/api/x/row/x
&lt;/span&gt;* About to connect() to localhost port 60010
*   Trying ::1... * connected
* Connected to localhost (::1) port 60010
&amp;gt; GET /api/x/row/x HTTP/1.1
User-Agent: curl/7.13.1 (powerpc-apple-darwin8.0) libcurl/7.13.1 OpenSSL/0.9.7l zlib/1.2.3
Host: localhost:60010
Pragma: no-cache
Accept: */*

&amp;lt; HTTP/1.1 200 OK
&amp;lt; Date: Mon, 19 Nov 2007 23:25:22 GMT
&amp;lt; Server: Jetty/5.1.4 (Mac OS X/10.4.10 i386 java/1.5.0_07
&amp;lt; Content-Type: text/xml;charset=UTF-8
&amp;lt; Transfer-Encoding: chunked
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;row&amp;gt;
 &amp;lt;column&amp;gt;
  &amp;lt;name&amp;gt;
x:
  &amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;
eHl6
  &amp;lt;/value&amp;gt;
 &amp;lt;/column&amp;gt;
* Connection #0 to host localhost left intact
* Closing connection #0
&amp;lt;/row&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12544545" author="bryanduxbury" created="Wed, 21 Nov 2007 18:15:28 +0000"  >&lt;p&gt;Updated patch for REST.java:&lt;/p&gt;

&lt;p&gt;-PUT/POST on a row without a timestamp works&lt;br/&gt;
-DELETE on a row without a timestamp works&lt;/p&gt;</comment>
                            <comment id="12544578" author="stack" created="Wed, 21 Nov 2007 19:51:45 +0000"  >&lt;p&gt;Patch looks great&lt;/p&gt;

&lt;p&gt;+ 80 characters per line (unless its just silly doing return) and no tabs (Spacings should be two-char rather than usual 4-char).&lt;br/&gt;
+ There is a define for COLUMN at top of the class.  Use that and you might avoid the &quot;column&quot; in one place and &quot;columns&quot; elsewhere.&lt;br/&gt;
+ I like the way you workaround lack of get(Text [] columns).&lt;br/&gt;
+ Cast here is unnecessary: +^I^I^I^I^IText current_column = (Text)columns_retrieved&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;;$&lt;br/&gt;
+ For the below, perhaps just let the exception out:&lt;/p&gt;

&lt;p&gt;+^I^I} catch (javax.xml.parsers.ParserConfigurationException e) {$&lt;br/&gt;
+^I^I^Iresponse.setStatus(500);$&lt;br/&gt;
+^I^I^Ireturn;$&lt;br/&gt;
+^I^I} catch (org.xml.sax.SAXException e){$&lt;br/&gt;
+^I^I^Iresponse.setStatus(500);$&lt;br/&gt;
+^I^I^Ireturn;$&lt;br/&gt;
+^I^I}$&lt;/p&gt;

&lt;p&gt;I think jetty will do the &apos;right&apos; thing (500 code plus stack trace).&lt;/p&gt;

&lt;p&gt;+ You should probably wrap the put after you call the startupdate in a try/finally.  If an exception, call abort.&lt;/p&gt;</comment>
                            <comment id="12545961" author="bryanduxbury" created="Tue, 27 Nov 2007 18:49:00 +0000"  >&lt;p&gt;Latest version of the REST functionality. Supports xml-formatted gets/puts, metadata requests, use of timestamps.&lt;/p&gt;</comment>
                            <comment id="12545994" author="stack" created="Tue, 27 Nov 2007 20:24:14 +0000"  >&lt;p&gt;Here&apos;s a version of patch w/o tabs, some formatting fixes, a license and fixed up javadoc comments &amp;#8211; in particular, the class comment has been changed because this patch addresses a few of the items mentioned in the TODO list.&lt;/p&gt;</comment>
                            <comment id="12546048" author="bryanduxbury" created="Tue, 27 Nov 2007 23:43:42 +0000"  >&lt;p&gt;Refactored REST.java into several classes for easier digestion. &lt;/p&gt;</comment>
                            <comment id="12546100" author="stack" created="Wed, 28 Nov 2007 04:31:28 +0000"  >&lt;p&gt;+ Each class needs a license.  Copy one from adjacent hbase classes.&lt;br/&gt;
+ You have tabs in this patch.  Need to replaced with two spaces.&lt;br/&gt;
+ Most of the imports per class are not pertinent (if you had eclipse working, it&apos;d help you here: smile)&lt;br/&gt;
+ You might instantiate HBaseConfiguration once and then pass it to each of the handler classes in their constructors.  Same for admin and table instances?  Otherwise, you&apos;ll have three copies of each?&lt;br/&gt;
+ Each of your new handlers needs at least a class comment as javadoc saying what each does.&lt;/p&gt;

&lt;p&gt;Otherwise, I think they way you have broken apart the fat REST class is a big improvement. &lt;/p&gt;</comment>
                            <comment id="12546314" author="bryanduxbury" created="Wed, 28 Nov 2007 17:48:05 +0000"  >&lt;p&gt;-Added licenses&lt;br/&gt;
-Handler constructors all take a HBaseConfiguration and HBaseAdmin instances now&lt;br/&gt;
-Removed all the unnecessary imports from all the classes&lt;br/&gt;
-Added class comments to all handlers&lt;/p&gt;


&lt;p&gt;Also, I don&apos;t seem to be able to detect these tabs you&apos;re talking about. I thought it might be TextMate screwing me here, but I cat&apos;d out the files and they look like they have two spaces to me.&lt;/p&gt;</comment>
                            <comment id="12546394" author="bryanduxbury" created="Wed, 28 Nov 2007 20:59:01 +0000"  >&lt;p&gt;Latest version of the patch just has some more polish and a little better behavior in the area of scanners.&lt;/p&gt;</comment>
                            <comment id="12546494" author="stack" created="Thu, 29 Nov 2007 00:04:04 +0000"  >&lt;p&gt;Removed tabs, unused imports, and minor formatting changes.  Also added override of NotSupported so could return messages that tell client why not supported (I was having trouble figuring why my curl upload wasn&apos;t working).&lt;/p&gt;

&lt;p&gt;I did some basic testing.  Was able to put, get, scan.   Its working good enough for a first version.  +1.&lt;/p&gt;</comment>
                            <comment id="12546548" author="viper799" created="Thu, 29 Nov 2007 03:15:52 +0000"  >&lt;p&gt;how is this feature going to handle calling rows with /&apos;s in the row keys?&lt;/p&gt;

&lt;p&gt;example above&lt;br/&gt;
GET &lt;a href=&quot;http://MASTER:PORT/TABLENAME/ROW/COLUMNNAME/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://MASTER:PORT/TABLENAME/ROW/COLUMNNAME/:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;my example call&lt;br/&gt;
GET &lt;a href=&quot;http://192.168.1.200:60010/webdata/com.example.www/:http/source/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://192.168.1.200:60010/webdata/com.example.www/:http/source/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;where &quot;com.example.www/:http&quot; is the row key and source is column &lt;/p&gt;

&lt;p&gt;the / in the row key will kill the request&lt;/p&gt;</comment>
                            <comment id="12546553" author="bryanduxbury" created="Thu, 29 Nov 2007 03:35:52 +0000"  >&lt;p&gt;Keys that have special characters should be URL encoded.&lt;/p&gt;


</comment>
                            <comment id="12546949" author="viper799" created="Fri, 30 Nov 2007 00:55:07 +0000"  >&lt;p&gt;I am still getting an error with urlencode looks like the : is throwing it off&lt;/p&gt;

&lt;p&gt;calling row key&lt;br/&gt;
com.example.www/:http&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; 
[root@PE1750-2 hbase]# curl --verbose http://192.168.1.200:60010/api/webdata/row/com.example.www%2F%3Ahttp
* About to connect() to 192.168.1.200 port 60010
*   Trying 192.168.1.200... * connected
* Connected to 192.168.1.200 (192.168.1.200) port 60010
&amp;gt; GET /api/webdata/row/com.example.www%2F%3Ahttp HTTP/1.1
User-Agent: curl/7.12.1 (i686-redhat-linux-gnu) libcurl/7.12.1 OpenSSL/0.9.7a zlib/1.2.1.2 libidn/0.5.6
Host: 192.168.1.200:60010
Pragma: no-cache
Accept: */*

&amp;lt; HTTP/1.1 500 For+input+string%3A+%22%3Ahttp%22
&amp;lt; Date: Fri, 30 Nov 2007 00:53:31 GMT
&amp;lt; Server: Jetty/5.1.4 (Linux/2.6.9-55.0.12.ELsmp i386 java/1.5.0_12
&amp;lt; Content-Type: text/html
&amp;lt; Content-Length: 1282
&amp;lt; Connection: close
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;Error 500 For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;:http&quot;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;HTTP ERROR: 500&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;pre&amp;gt;&lt;/span&gt;For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;:http&quot;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;RequestURI=/api/webdata/row/com.example.www/:http&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;i&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;small&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://jetty.mortbay.org&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Powered by Jetty://&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/small&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/i&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;

&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
* Closing connection #0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="12546955" author="bryanduxbury" created="Fri, 30 Nov 2007 01:27:48 +0000"  >&lt;p&gt;I will check into this.&lt;/p&gt;


</comment>
                            <comment id="12546996" author="stack" created="Fri, 30 Nov 2007 04:48:07 +0000"  >&lt;p&gt;Bryan:  Try request.getRequestURI() instead of request.getPathInfo in getPathSegments method; the%2F is decoded as a slash when getPathInfo is used which is messing up the parse.&lt;/p&gt;</comment>
                            <comment id="12547240" author="bryanduxbury" created="Fri, 30 Nov 2007 18:43:31 +0000"  >&lt;p&gt;Submitting preliminary REST implementation.&lt;/p&gt;</comment>
                            <comment id="12547263" author="hadoopqa" created="Fri, 30 Nov 2007 20:05:41 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12370483/rest-11-28-07.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12370483/rest-11-28-07.3.patch&lt;/a&gt;&lt;br/&gt;
against trunk revision r599879.&lt;/p&gt;

&lt;p&gt;    @author +1.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    javadoc +1.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    javac +1.  The applied patch does not generate any new compiler warnings.&lt;/p&gt;

&lt;p&gt;    findbugs +1.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    core tests +1.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    contrib tests -1.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1220/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12547267" author="stack" created="Fri, 30 Nov 2007 20:17:22 +0000"  >&lt;p&gt;Committed (Failed tests were unrelated to this patch which doesn&apos;t add any new tests and is code that doesn&apos;t run at unit test time).  Resolving.&lt;/p&gt;</comment>
                            <comment id="12547268" author="stack" created="Fri, 30 Nov 2007 20:17:49 +0000"  >&lt;p&gt;Thanks for the patch Bryan.&lt;/p&gt;</comment>
                            <comment id="12547421" author="hudson" created="Sat, 1 Dec 2007 12:14:36 +0000"  >&lt;p&gt;Integrated in Hadoop-Nightly #319 (See &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/319/&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12547547" author="viper799" created="Sun, 2 Dec 2007 00:46:41 +0000"  >&lt;p&gt;I am still getting the same error as above in my last post&lt;br/&gt;
I am downloading the latest patch from here and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-373&quot; title=&quot;[hbase] Add HTable.getRow(ROW, ts)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-373&quot;&gt;&lt;del&gt;HADOOP-2224&lt;/del&gt;&lt;/a&gt; and applying them to trunk ver 598780 the latest one i know to build successful.&lt;/p&gt;

&lt;p&gt;I can pulll records that row key does not have /&apos;s in them but not with /&apos;s&lt;br/&gt;
Is there something I am doing wrong?&lt;/p&gt;</comment>
                            <comment id="12547585" author="viper799" created="Sun, 2 Dec 2007 06:03:12 +0000"  >&lt;p&gt;I am also having problems getting the with put/post on rows/columns working&lt;/p&gt;

&lt;p&gt;I keep getting a return code of 200 and the row is not inserted. The Wiki page saids it should be 201 but the example on the same page is showing a return code of 200 also can you verily the return code and that its working?&lt;/p&gt;

&lt;p&gt;I would like to see some kind of example in some programming language on how you are posting so I could post in place of saving to file and using put&lt;/p&gt;

&lt;p&gt;I am trying to write a php class around this to use for my project I am working on so sorry for all the questions. &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

</comment>
                            <comment id="12547908" author="stack" created="Mon, 3 Dec 2007 17:25:52 +0000"  >&lt;p&gt;You are right that the code and spec. are out of sync Billy.  Inside in the putRowXml, there is following code on successful put around line #324 of the putRowXml:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// respond with a 200
&lt;/span&gt;      response.setStatus(200);      
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should be 201.&lt;/p&gt;

&lt;p&gt;Its odd that its returning success but nothing is added. Looking at code, that shouldn&apos;t be possible.&lt;/p&gt;

&lt;p&gt;Keep on asking questions (and finding bugs).  Thanks Billy.&lt;/p&gt;</comment>
                            <comment id="12547968" author="bryanduxbury" created="Mon, 3 Dec 2007 19:59:10 +0000"  >&lt;p&gt;Now that I think about it, I don&apos;t think that put/post should return a 201, because we&apos;re not always creating a new resource, in the HTTP sense. We should just change the spec to  say 200.&lt;/p&gt;</comment>
                            <comment id="12547969" author="viper799" created="Mon, 3 Dec 2007 20:02:12 +0000"  >&lt;p&gt;After lots of work trying to get the php curl to work with the post option. Looks like we will need support for content type &quot;x-www-form-urlencoded&quot;. I have tried many ways to get curl to encode the data and send as text/xml but using the post fields option in php curl sends the data with content type application/x-www-form-urlencoded. Sense that is not a supported content type I get back a http error&lt;br/&gt;
406 Unsupported Accept Header Content: application/x-www-form-urlencoded&lt;/p&gt;

&lt;p&gt;So is there a way we can add support for that?&lt;/p&gt;

&lt;p&gt;If so we could still use the xml format as the data put make sure to urldecode it first.&lt;br/&gt;
also can we have a set filed to post the xml to that the app knows about like &quot;xmldata&quot; or something like that for post&lt;/p&gt;

&lt;p&gt;So we can set the post field:&lt;/p&gt;

&lt;p&gt;Example &lt;br/&gt;
xmldata=&apos;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt; &amp;lt;column&amp;gt;  &amp;lt;name&amp;gt;a:  &amp;lt;/name&amp;gt;  &amp;lt;value&amp;gt;YQ==  &amp;lt;/value&amp;gt; &amp;lt;/column&amp;gt;&apos;;&lt;/p&gt;

&lt;p&gt;Then the app knows where to look for the xml data.&lt;/p&gt;</comment>
                            <comment id="12547972" author="viper799" created="Mon, 3 Dec 2007 20:09:02 +0000"  >&lt;p&gt;I got the put option working now its returning 200 and the data is in the table now so thats good.&lt;/p&gt;

&lt;p&gt;But to use the put option you have to save the data to a file before putting the data via php curl.&lt;br/&gt;
Thats an extra step on inserting data in to the tables I would like to skip and use post option.&lt;/p&gt;</comment>
                            <comment id="12547978" author="bryanduxbury" created="Mon, 3 Dec 2007 20:23:53 +0000"  >&lt;p&gt;I am unfamiliar with php&apos;s HTTP library. However, I don&apos;t think we  &lt;br/&gt;
should change the content-type accepted for XML formatted data. An  &lt;br/&gt;
XML entity body is definitely NOT x-www-form-urlencoded. Hacking it  &lt;br/&gt;
to work around that essentially breaks the HTTP spec.&lt;/p&gt;

&lt;p&gt;I would suggest finding out if you can get lower-level access to the  &lt;br/&gt;
HTTP session than what php&apos;s library is giving you. This is not  &lt;br/&gt;
incredibly complicated functionality.&lt;/p&gt;

&lt;p&gt;As a last resort, I invite you to submit a patch that can read the  &lt;br/&gt;
xml out of the postdata when encoded as x-www-form-urlencoded and  &lt;br/&gt;
we&apos;ll find a way to work it in.&lt;/p&gt;


</comment>
                            <comment id="12547984" author="viper799" created="Mon, 3 Dec 2007 20:52:24 +0000"  >&lt;p&gt;not sure how this happens but here is the screen output&lt;br/&gt;
I thank this is the reasion I was getting 200 html code btu could not see the results in shell.&lt;br/&gt;
I rak this after restarting all hadoop and hbase so nothing should be cached in any sense&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt; 
[root@PE1750-1 bin]# pwd
/hadoop/src/contrib/hbase/bin
[root@PE1750-1 bin]# curl -v http://192.168.1.200:60010/api/webdata/row/10/
* About to connect() to 192.168.1.200 port 60010
*   Trying 192.168.1.200... * connected
* Connected to 192.168.1.200 (192.168.1.200) port 60010
&amp;gt; GET /api/webdata/row/10/ HTTP/1.1
User-Agent: curl/7.12.1 (i686-redhat-linux-gnu) libcurl/7.12.1 OpenSSL/0.9.7a zlib/1.2.1.2 libidn/0.5.6
Host: 192.168.1.200:60010
Pragma: no-cache
Accept: */*

&amp;lt; HTTP/1.1 200 OK
&amp;lt; Date: Mon, 03 Dec 2007 20:51:30 GMT
&amp;lt; Server: Jetty/5.1.4 (Linux/2.6.9-55.0.12.ELsmp i386 java/1.5.0_12
&amp;lt; Content-Type: text/xml;charset=UTF-8
&amp;lt; Transfer-Encoding: chunked
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;row&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;column&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;
stime:
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;
NDU2
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/column&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;column&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;
stime:now
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;value&amp;gt;&lt;/span&gt;
Nzg5
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/column&amp;gt;&lt;/span&gt;
* Connection #0 to host 192.168.1.200 left intact
* Closing connection #0
[root@PE1750-1 bin]# ./hbase shell
Hbase Shell, 0.0.2 version.
Copyright (c) 2007 by udanax, licensed to Apache Software Foundation.
Type &apos;help;&apos; for usage.

hql &amp;gt; select * from webdata;
+-------------------------+-------------------------+-------------------------+
| Row                     | Column                  | Cell                    |
+-------------------------+-------------------------+-------------------------+
0 row(s) in set (0.58 sec)
hql &amp;gt; exit;
[root@PE1750-1 bin]#
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="12548132" author="viper799" created="Tue, 4 Dec 2007 05:18:11 +0000"  >&lt;p&gt;ok got a lot of work done on the php class to work with this interface&lt;/p&gt;

&lt;p&gt;got insert,select,delete,scanner working by using socket connection (cut curl out).&lt;/p&gt;

&lt;p&gt;Still got some features to add to it like formating options where output is going to be xml or other.&lt;br/&gt;
I guess when I am done I could make a new feature and upload a patch for the php class if you guys let php be added to the project.&lt;/p&gt;

&lt;p&gt;Any idea on when/if a way to get more then the latest version of max_versions returned will be added?&lt;br/&gt;
say I have a max_versions = 3 &lt;br/&gt;
How would I get the second oldest row?&lt;/p&gt;

&lt;p&gt;I have no need for it on this project but could see where it would be handy on others.&lt;br/&gt;
maybe a call like this&lt;br/&gt;
GET /&lt;span class=&quot;error&quot;&gt;&amp;#91;table_name&amp;#93;&lt;/span&gt;/row/&lt;span class=&quot;error&quot;&gt;&amp;#91;row_key&amp;#93;&lt;/span&gt;?columns=x:&amp;amp;versions=3&lt;/p&gt;


&lt;p&gt;so far found row keys that have /&apos;s in them do not get inserted return 500 error &lt;br/&gt;
and I found that row keys that have a ? in them get truncate at the ? so it gets inserted but &lt;br/&gt;
Say row key = &quot;aaa?bbb&quot;&lt;br/&gt;
the row would get inserted as row key &quot;aaa&quot; only&lt;/p&gt;</comment>
                            <comment id="12556797" author="bien" created="Tue, 8 Jan 2008 01:12:02 +0000"  >&lt;p&gt;Hey Billy,&lt;/p&gt;

&lt;p&gt;Could you post your PHP class?  I need to use hbase from a PHP client and was wondering I could start from yours.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12556828" author="viper799" created="Tue, 8 Jan 2008 06:18:18 +0000"  >&lt;p&gt;it is linked from this issue I just submitted it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-37&quot; title=&quot;PHP class for Rest Interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-37&quot;&gt;&lt;del&gt;HADOOP-2546&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12382734">HBASE-373</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12383924">HBASE-237</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12385748">HBASE-37</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12370345" name="rest-11-27-07-v2.patch" size="38591" author="stack" created="Tue, 27 Nov 2007 20:24:14 +0000"/>
                            <attachment id="12370357" name="rest-11-27-07.3.patc" size="48407" author="bryanduxbury" created="Tue, 27 Nov 2007 23:43:42 +0000"/>
                            <attachment id="12370336" name="rest-11-27-07.patch" size="37971" author="bryanduxbury" created="Tue, 27 Nov 2007 18:49:00 +0000"/>
                            <attachment id="12370448" name="rest-11-28-07.2.patch" size="51553" author="bryanduxbury" created="Wed, 28 Nov 2007 20:59:01 +0000"/>
                            <attachment id="12370483" name="rest-11-28-07.3.patch" size="52082" author="stack" created="Thu, 29 Nov 2007 00:04:03 +0000"/>
                            <attachment id="12370424" name="rest-11-28-07.patch" size="51085" author="bryanduxbury" created="Wed, 28 Nov 2007 17:48:05 +0000"/>
                            <attachment id="12369830" name="rest.patch" size="33995" author="stack" created="Mon, 19 Nov 2007 23:27:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Oct 2007 20:38:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h633:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>