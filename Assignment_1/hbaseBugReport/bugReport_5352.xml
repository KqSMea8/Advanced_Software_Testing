<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:26:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5352/HBASE-5352.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5352] ACL improvements</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5352</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In this issue I would like to open discussion for a few minor ACL related improvements. The proposed changes are as follows: &lt;/p&gt;

&lt;p&gt;1. Introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. We need this kind of operation for &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-245&quot; title=&quot;StorageHandler authorization providers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-245&quot;&gt;&lt;del&gt;HCATALOG-245&lt;/del&gt;&lt;/a&gt;, which introduces authorization providers for hbase over hcat. We cannot use getUserPermissions() since it requires ADMIN permissions on the global/table level.&lt;br/&gt;
2. getUserPermissions(tableName)/grant/revoke and drop/modify table operations should not check for global CREATE/ADMIN rights, but table CREATE/ADMIN rights. The reasoning is that if a user is able to admin or read from a table, she should be able to read the table&apos;s permissions. We can choose whether we want only READ or ADMIN permissions for getUserPermission(). Since we check for global permissions first for table permissions, configuring table access using global permissions will continue to work.  &lt;br/&gt;
3. Grant/Revoke global permissions - &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5342&quot; title=&quot;Grant/Revoke global permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5342&quot;&gt;&lt;del&gt;HBASE-5342&lt;/del&gt;&lt;/a&gt; (included for completeness)&lt;/p&gt;

&lt;p&gt;From all 3, we may want to backport the first one to 0.92 since without it, Hive/Hcatalog cannot use Hbase&apos;s authorization mechanism effectively. &lt;/p&gt;

&lt;p&gt;I will create subissues and convert &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5342&quot; title=&quot;Grant/Revoke global permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5342&quot;&gt;&lt;del&gt;HBASE-5342&lt;/del&gt;&lt;/a&gt; to a subtask when we get some feedback, and opinions for going further. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12541733">HBASE-5352</key>
            <summary>ACL improvements</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Feb 2012 01:43:20 +0000</created>
                <updated>Tue, 29 Apr 2014 21:12:23 +0000</updated>
                            <resolved>Tue, 29 Apr 2014 21:12:23 +0000</resolved>
                                    <version>0.92.1</version>
                    <version>0.94.0</version>
                                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                                                            <comments>
                            <comment id="13203267" author="apurtell" created="Wed, 8 Feb 2012 04:26:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;Introduce something like AccessControllerProtocol.checkPermissions(Permission[] permissions) API, so that clients can check access rights before carrying out the operations. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;getUserPermissions(tableName)/grant/revoke and drop/modify table operations should not check for global CREATE/ADMIN rights, but table CREATE/ADMIN rights. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This certainly makes sense for grant/revoke. &lt;/p&gt;

&lt;p&gt;However, creating, dropping, or modifying a table has global ramifications on the cluster. When making changes here it should remain possible to require global CREATE/ADMIN rights for those actions by policy. This way a site admin can prevent users from taking actions that perturb region assignment if desired.&lt;/p&gt;</comment>
                            <comment id="13282382" author="lakshman" created="Thu, 24 May 2012 12:20:35 +0000"  >&lt;p&gt;Enis &amp;amp; Matt, hope you don&apos;t mind if I add some sub-tasks related to ACL here.&lt;br/&gt;
Already added &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6086&quot; title=&quot;Admin operations on a table should be authorized against table permissions instead of global permissions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6086&quot;&gt;&lt;del&gt;HBASE-6086&lt;/del&gt;&lt;/a&gt;. Matt clarified this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5372&quot; title=&quot;Table mutation operations should check table level rights, not global rights &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5372&quot;&gt;&lt;del&gt;HBASE-5372&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also one more observation I wanted to validate with you.&lt;/p&gt;

&lt;p&gt;Currently, AccessController doesn&apos;t provide implementation for some methods like preFlush, preSplit and many others. That means, any unauthorized user can trigger these operations on a table.&lt;/p&gt;

&lt;p&gt;Do we need to handle this in a separate jira?&lt;/p&gt;</comment>
                            <comment id="13282823" author="mbertozzi" created="Thu, 24 May 2012 23:03:31 +0000"  >&lt;p&gt;@Laxman yeah create a sub-task for that, ACL can be not in sync with new features, so fill free to open a new sub-task to sync the coprocessor with the missing stuff.&lt;/p&gt;</comment>
                            <comment id="13283116" author="lakshman" created="Fri, 25 May 2012 04:32:18 +0000"  >&lt;p&gt;Yes Matt, there are many other apis which are not checked for authorization in AccessController. We may need to analyze all together once and handle them in phases. I will try to provide analysis of all the operations. We will discuss after that.&lt;/p&gt;

&lt;p&gt;Thanks for your quick response.&lt;/p&gt;</comment>
                            <comment id="13283124" author="apurtell" created="Fri, 25 May 2012 04:52:29 +0000"  >&lt;p&gt;Originally only the superuser could take such actions, so the AccessController did not need to deal with them. Now that the implementation is changing all of these cases need review. I suggest sub issues for each RPC interface. &lt;/p&gt;</comment>
                            <comment id="13292972" author="lakshman" created="Mon, 11 Jun 2012 18:47:52 +0000"  >&lt;p&gt;Request for review for subtask: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6092&quot; title=&quot;Authorize flush, split, compact operations in AccessController&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6092&quot;&gt;&lt;del&gt;HBASE-6092&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13397772" author="lakshman" created="Wed, 20 Jun 2012 18:56:02 +0000"  >&lt;p&gt;Patch available for: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6209&quot; title=&quot;ACL Corrections for AccessControllerProtocol apis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6209&quot;&gt;&lt;del&gt;HBASE-6209&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6238&quot; title=&quot;Grant on META not taking effect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6238&quot;&gt;&lt;del&gt;HBASE-6238&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6192&quot; title=&quot;Document ACL matrix in the book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6192&quot;&gt;&lt;del&gt;HBASE-6192&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
Please review.&lt;/p&gt;</comment>
                            <comment id="13398215" author="lakshman" created="Thu, 21 Jun 2012 05:51:57 +0000"  >&lt;p&gt;One observation related to operation vs ACL in our &lt;span class=&quot;error&quot;&gt;&amp;#91;Ram &amp;amp; Laxman&amp;#93;&lt;/span&gt; discussion today.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6252&quot; title=&quot;TABLE ADMIN should be allowed to relocate regions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6252&quot;&gt;&lt;del&gt;HBASE-6252&lt;/del&gt;&lt;/a&gt; : TABLE ADMIN should be allowed to do assign, unassign &amp;amp; move as these are table level operations.&lt;/p&gt;

&lt;p&gt;Any other opinion?&lt;/p&gt;</comment>
                            <comment id="13400591" author="lakshman" created="Mon, 25 Jun 2012 16:33:27 +0000"  >&lt;p&gt;Patch available for review : &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6257&quot; title=&quot;Avoid unnecessary flush &amp;amp; compact on Meta in admin.rb.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6257&quot;&gt;&lt;del&gt;HBASE-6257&lt;/del&gt;&lt;/a&gt; &lt;br/&gt;
Please review.&lt;/p&gt;</comment>
                            <comment id="13984796" author="apurtell" created="Tue, 29 Apr 2014 21:12:23 +0000"  >&lt;p&gt;This umbrella has seen it&apos;s day. Will spin out still relevant unfinished subtasks to top level issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12558151">HBASE-6098</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558155">HBASE-6101</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558146">HBASE-6096</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12542049">HBASE-5371</subtask>
                            <subtask id="12542052">HBASE-5372</subtask>
                            <subtask id="12541531">HBASE-5342</subtask>
                            <subtask id="12542208">HBASE-5385</subtask>
                            <subtask id="12556741">HBASE-6061</subtask>
                            <subtask id="12556750">HBASE-6062</subtask>
                            <subtask id="12557126">HBASE-6086</subtask>
                            <subtask id="12558033">HBASE-6092</subtask>
                            <subtask id="12560610">HBASE-6209</subtask>
                            <subtask id="12595084">HBASE-6238</subtask>
                            <subtask id="12595356">HBASE-6249</subtask>
                            <subtask id="12595385">HBASE-6252</subtask>
                            <subtask id="12595527">HBASE-6257</subtask>
                            <subtask id="12596371">HBASE-6292</subtask>
                            <subtask id="12595430">HBASE-6253</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Feb 2012 04:26:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02fvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>