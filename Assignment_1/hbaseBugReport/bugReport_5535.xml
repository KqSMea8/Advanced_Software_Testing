<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:28:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5535/HBASE-5535.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5535] Make the functions in task monitor synchronized</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5535</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There are some potential race condition in the task monitor. So update the functions in task monitor to be synchronized.&lt;/p&gt;

&lt;p&gt;The example of the problem caused by the race condition:&lt;br/&gt;
ERROR org.apache.hadoop.hbase.regionserver.MemStoreFlusher: Cache flush failed for region &lt;br/&gt;
java.lang.IndexOutOfBoundsException: Index: 1745, Size: 1744&lt;br/&gt;
at java.util.ArrayList.add(ArrayList.java:367)&lt;br/&gt;
at java.util.SubList.add(AbstractList.java:633)&lt;br/&gt;
at java.util.SubList.add(AbstractList.java:633)&lt;br/&gt;
at java.util.SubList.add(AbstractList.java:633)&lt;br/&gt;
at java.util.SubList.add(AbstractList.java:633)&lt;br/&gt;
at java.util.SubList.add(AbstractList.java:633)&lt;br/&gt;
at java.util.AbstractList.add(AbstractList.java:91)&lt;br/&gt;
at org.apache.hadoop.hbase.monitoring.TaskMonitor.createStatus(TaskMonitor.java:74)&lt;br/&gt;
at org.apache.hadoop.hbase.regionserver.HRegion.flushcache(HRegion.java:1139)&lt;br/&gt;
at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:260)&lt;br/&gt;
at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.flushRegion(MemStoreFlusher.java:234)&lt;br/&gt;
at org.apache.hadoop.hbase.regionserver.MemStoreFlusher.run(MemStoreFlusher.java:146)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545431">HBASE-5535</key>
            <summary>Make the functions in task monitor synchronized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Mar 2012 00:50:17 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:00 +0000</updated>
                            <resolved>Fri, 9 Mar 2012 22:49:18 +0000</resolved>
                                                    <fixVersion>0.92.2</fixVersion>
                    <fixVersion>0.94.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13225719" author="mikhail" created="Fri, 9 Mar 2012 00:34:40 +0000"  >&lt;p&gt;Liyin&apos;s two-line patch from our internal 89-fb repository.&lt;/p&gt;</comment>
                            <comment id="13225769" author="hadoopqa" created="Fri, 9 Mar 2012 01:25:35 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12517652/HBASE-5535-Make-the-functions-in-task-monitor-synchr-2012-03-08_16_33_42.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12517652/HBASE-5535-Make-the-functions-in-task-monitor-synchr-2012-03-08_16_33_42.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -123 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 159 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1141//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1141//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1141//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1141//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1141//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1141//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13226566" author="stack" created="Fri, 9 Mar 2012 22:49:18 +0000"  >&lt;p&gt;Thanks for the patch Liyin.  Committed 0.94 and trunk.  Will include in 0.92.2.&lt;/p&gt;</comment>
                            <comment id="13226601" author="hudson" created="Fri, 9 Mar 2012 23:43:39 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #25 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/25/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/25/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5535&quot; title=&quot;Make the functions in task monitor synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5535&quot;&gt;&lt;del&gt;HBASE-5535&lt;/del&gt;&lt;/a&gt; Make the functions in task monitor synchronized (Revision 1299089)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/monitoring/TaskMonitor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13226765" author="hudson" created="Sat, 10 Mar 2012 05:55:47 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #133 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5535&quot; title=&quot;Make the functions in task monitor synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5535&quot;&gt;&lt;del&gt;HBASE-5535&lt;/del&gt;&lt;/a&gt; Make the functions in task monitor synchronized (Revision 1299088)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/monitoring/TaskMonitor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13227976" author="hudson" created="Mon, 12 Mar 2012 22:14:58 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2676 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2676/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2676/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5535&quot; title=&quot;Make the functions in task monitor synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5535&quot;&gt;&lt;del&gt;HBASE-5535&lt;/del&gt;&lt;/a&gt; Make the functions in task monitor synchronized (Revision 1299088)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/monitoring/TaskMonitor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13241873" author="jmhsieh" created="Thu, 29 Mar 2012 22:25:49 +0000"  >&lt;p&gt;Stack, looks like this hasn&apos;t made it into the 0.92.2/0.92 branch.  Shall we just commit from this jira and add fix version?&lt;/p&gt;</comment>
                            <comment id="13242089" author="stack" created="Fri, 30 Mar 2012 06:00:55 +0000"  >&lt;p&gt;Committed to 0.92 branch at Jon&apos;s prompting (thanks for the reminder)&lt;/p&gt;</comment>
                            <comment id="13242160" author="hudson" created="Fri, 30 Mar 2012 08:28:20 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #346 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/346/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/346/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5535&quot; title=&quot;Make the functions in task monitor synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5535&quot;&gt;&lt;del&gt;HBASE-5535&lt;/del&gt;&lt;/a&gt; Make the functions in task monitor synchronized (Revision 1307281)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/monitoring/TaskMonitor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13242591" author="jmhsieh" created="Fri, 30 Mar 2012 17:45:41 +0000"  >&lt;p&gt;I looked at the code and this may have been an alternate solution to the also applied &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4386&quot; title=&quot;NPE in TaskMonitor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4386&quot;&gt;&lt;del&gt;HBASE-4386&lt;/del&gt;&lt;/a&gt;.  This doesn&apos;t really hurt the code (synchronized is slightly larger now) so we can leave it as is.&lt;/p&gt;</comment>
                            <comment id="13246960" author="hudson" created="Thu, 5 Apr 2012 02:52:07 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #104 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/104/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/104/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5535&quot; title=&quot;Make the functions in task monitor synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5535&quot;&gt;&lt;del&gt;HBASE-5535&lt;/del&gt;&lt;/a&gt; Make the functions in task monitor synchronized (Revision 1307281)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/monitoring/TaskMonitor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12517652" name="HBASE-5535-Make-the-functions-in-task-monitor-synchr-2012-03-08_16_33_42.patch" size="2738" author="mikhail" created="Fri, 9 Mar 2012 00:34:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Mar 2012 00:34:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0165z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>