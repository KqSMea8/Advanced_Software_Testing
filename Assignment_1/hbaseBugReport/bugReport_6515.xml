<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6515/HBASE-6515.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6515] Setting request size with protobuf</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6515</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While running replication on upstream code, I am hitting  the size-limit exception while sending WALEdits to a different cluster.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
com.google.protobuf.InvalidProtocolBufferException: IPC server unable to read call parameters: Protocol message was too large.  May be malicious.  Use CodedInputStream.setSizeLimit() to increase the size limit.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do we have a property to set some max size or something?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12601532">HBASE-6515</key>
            <summary>Setting request size with protobuf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="v.himanshu">Himanshu Vashishtha</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Aug 2012 06:26:42 +0000</created>
                <updated>Mon, 23 Sep 2013 18:42:18 +0000</updated>
                            <resolved>Mon, 23 Sep 2013 18:42:18 +0000</resolved>
                                    <version>0.95.2</version>
                                                    <component>IPC/RPC</component>
                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13429360" author="tlipcon" created="Mon, 6 Aug 2012 19:14:04 +0000"  >&lt;p&gt;Did you look into what the default max size is?&lt;/p&gt;

&lt;p&gt;I don&apos;t think we should arbitrarily raise the limit. Instead, if replication sends too-large RPCs, we should figure out how to make it do smaller batches to fit within the limit. RPC payloads in the 10s or 100s of MBs are not good.&lt;/p&gt;</comment>
                            <comment id="13429661" author="v.himanshu" created="Tue, 7 Aug 2012 01:58:44 +0000"  >&lt;p&gt;Not yet, but yes, will test in that direction. &lt;/p&gt;

&lt;p&gt;While using ycsb, I see it does support 6MB waledit object.&lt;/p&gt;

&lt;p&gt;HTable&apos;s write buffer can also play interesting role here; it creates one WALEdit object per table flush. Setting it to a higher value may cause this exception. Given that current rpc can handle 64 MB arrays, this is something to look for.&lt;br/&gt;
I will report back the default limit soon.&lt;/p&gt;</comment>
                            <comment id="13430421" author="v.himanshu" created="Tue, 7 Aug 2012 16:49:26 +0000"  >&lt;p&gt;The default max value is 64MB.&lt;/p&gt;</comment>
                            <comment id="13430463" author="v.himanshu" created="Tue, 7 Aug 2012 17:34:11 +0000"  >&lt;p&gt;One can set batch size of the WALEdit shipment by &quot;replication.source.size.capacity&quot; property, with its default being 64MB. &lt;br/&gt;
It looks like we should add a note that the maximum batchsize should be &amp;lt; 64MB, and change the default to a lower value, ...8MB?&lt;/p&gt;</comment>
                            <comment id="13775550" author="v.himanshu" created="Mon, 23 Sep 2013 18:42:10 +0000"  >&lt;p&gt;This issue gets resolved by fixing the payload size in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9394&quot; title=&quot;[replication] size accounting is completely off in the source&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9394&quot;&gt;&lt;del&gt;HBASE-9394&lt;/del&gt;&lt;/a&gt;! Resolving it as Duplicate. Thanks JD!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Aug 2012 19:14:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>