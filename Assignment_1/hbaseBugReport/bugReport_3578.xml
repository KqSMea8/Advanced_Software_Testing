<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:11:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3578/HBASE-3578.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3578] TableInputFormat does not setup the configuration for HBase mapreduce jobs correctly</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3578</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In 0.20.x and earlier TableMapReduceUtil (and other Input/OutputFormat classes) used to setup the HTable with a HBaseConfiguration object, now that has been deprecated in #&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2036&quot; title=&quot;Use Configuration instead of HBaseConfiguration &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2036&quot;&gt;&lt;del&gt;HBASE-2036&lt;/del&gt;&lt;/a&gt; they are constructed with Hadoop configuration objects which do not contain the configuration xml file resources required to setup HBase. I think it is currently expected this is done when constructing the job but as this needs to be done for every HBase mapreduce job it would be cleaner if the TableMapReduceUtil class did this whilst setting up the TableInput/OutputFormat classes. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12499910">HBASE-3578</key>
            <summary>TableInputFormat does not setup the configuration for HBase mapreduce jobs correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="danharvey">Dan Harvey</assignee>
                                    <reporter username="danharvey">Dan Harvey</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Feb 2011 11:51:09 +0000</created>
                <updated>Mon, 23 Sep 2013 19:08:40 +0000</updated>
                            <resolved>Mon, 28 Feb 2011 17:36:25 +0000</resolved>
                                    <version>0.90.0</version>
                    <version>0.90.1</version>
                                    <fixVersion>0.95.1</fixVersion>
                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13000246" author="danharvey" created="Mon, 28 Feb 2011 11:54:23 +0000"  >&lt;p&gt;I&apos;ve modified the TableMapReduceUtil class to setup the jobs with the new HBaseConfiguration api and tested that this works with mapreduce jobs without needed to pass in the configuration. I&apos;ve only tested this locally and not on a cluster.&lt;/p&gt;</comment>
                            <comment id="13000420" author="stack" created="Mon, 28 Feb 2011 17:36:25 +0000"  >&lt;p&gt;Committed trunk only.  Was thinking it not critical enough issue to go out on branch.  Let me know if you think otherwise Dan.  I added you as contributor to hbase and assigned you the issue.  Thanks for the patch Dan.&lt;/p&gt;</comment>
                            <comment id="13000454" author="danharvey" created="Mon, 28 Feb 2011 18:32:36 +0000"  >&lt;p&gt;Thanks that should be fine, it&apos;s not a critical issue just will make things cleaner to work with.&lt;/p&gt;

&lt;p&gt;For us as I didn&apos;t want to use a patched version of HBase in production with upgrading to 0.90 I&apos;ve modified all our jobs to configure things as needed, but it would be great if we didn&apos;t have to do this all the time.&lt;/p&gt;</comment>
                            <comment id="13002415" author="hudson" created="Fri, 4 Mar 2011 02:55:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1767 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/HBase-TRUNK/1767/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/HBase-TRUNK/1767/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13018633" author="davelatham" created="Mon, 11 Apr 2011 23:43:09 +0000"  >&lt;p&gt;We ran into this problem also, upgrading from 0.20 to 0.90.  I think it would make sense to be in the branch so that it breaks fewer jobs migrating to 0.90.&lt;/p&gt;</comment>
                            <comment id="13018704" author="stack" created="Tue, 12 Apr 2011 04:35:59 +0000"  >&lt;p&gt;Backported to branch (Sorry Dan &amp;#8211; should have listened to you first day)&lt;/p&gt;</comment>
                            <comment id="13018768" author="danharvey" created="Tue, 12 Apr 2011 09:07:56 +0000"  >&lt;p&gt;No worries, it wasn&apos;t critical but would make it easier for people to migrate from 0.20.x One of the few things I found that was an issue, along with a few more zookeeper exceptions being pushed though.&lt;/p&gt;</comment>
                            <comment id="13092950" author="je.ik" created="Mon, 29 Aug 2011 16:19:37 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I think solution to this issue causes problems when job wants to change hbase specific options. Eg.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Configuration conf = HBaseConfiguration.create();

// change keyvalue size
conf.setInt(&quot;hbase.client.keyvalue.maxsize&quot;, 20971520);

Job job = new Job(conf, ...);

TableMapReduceUtil.initTableMapperJob(...);

// the job doesn&apos;t have the option changed, uses it from hbase-site or hbase-default
job.submit();

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Although in this case it could be fixed by moving the set() after initTableMapperJob(), in case where user want&apos;s to change some option using GenericOptionsParser and -D this is impossible, making this cool feature useless.&lt;/p&gt;

&lt;p&gt;In the 0.20.x era this code behaved as expected. The solution of this problem should be that we don&apos;t overwrite the options, but just read them if they are missing. I attached patch I think will fix this.&lt;/p&gt;

</comment>
                            <comment id="13093059" author="stack" created="Mon, 29 Aug 2011 18:31:21 +0000"  >&lt;p&gt;@Jan Mind opening a new issue w/ your patch and above comment?  This issue is closed.  I took a look at your patch and it looks good.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12492097" name="HBASE-3578.patch" size="2916" author="je.ik" created="Mon, 29 Aug 2011 16:19:13 +0000"/>
                            <attachment id="12492094" name="HBASE-3578.patch" size="2916" author="je.ik" created="Mon, 29 Aug 2011 16:13:03 +0000"/>
                            <attachment id="12472168" name="mapreduce_configuration.patch" size="1153" author="danharvey" created="Mon, 28 Feb 2011 11:55:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Feb 2011 17:36:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hmv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>