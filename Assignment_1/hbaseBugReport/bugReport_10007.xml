<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:09:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10007/HBASE-10007.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10007] PerformanceEvaluation: Add sampling and latency collection to randomRead test</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10007</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As I mentioned over on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9940&quot; title=&quot;PerformanceEvaluation should have a test with many table options on (Bloom, compression, FAST_DIFF, etc.)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9940&quot;&gt;&lt;del&gt;HBASE-9940&lt;/del&gt;&lt;/a&gt;, I&apos;d like to have randomRead operate only on a sample of the total dataset. It would also be useful to collect latency measurements from individual responses. Throughput times are aggregated according to the amount of user data processed and the result is reported as well. This is a patch I&apos;ve been using for some performance tests I&apos;ve run &amp;#8211; maybe it&apos;ll be useful to someone else.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12680069">HBASE-10007</key>
            <summary>PerformanceEvaluation: Add sampling and latency collection to randomRead test</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2013 00:15:19 +0000</created>
                <updated>Mon, 16 Dec 2013 18:46:38 +0000</updated>
                            <resolved>Fri, 22 Nov 2013 21:22:08 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.96.1</fixVersion>
                    <fixVersion>0.94.15</fixVersion>
                                    <component>Performance</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13827165" author="ndimiduk" created="Wed, 20 Nov 2013 00:18:34 +0000"  >&lt;p&gt;Here&apos;s my patch for 0.96. Will clean it up for trunk as well.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; are these changes you&apos;d like in 0.94 as well?&lt;/p&gt;</comment>
                            <comment id="13827211" author="ndimiduk" created="Wed, 20 Nov 2013 01:26:58 +0000"  >&lt;p&gt;Updating the 0.96 patch with additional changes made while preparing the trunk patch, primarily around access modifiers of static constants. These appear to have become public API on trunk so this maintains consistency.&lt;/p&gt;</comment>
                            <comment id="13827213" author="hadoopqa" created="Wed, 20 Nov 2013 01:33:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12614760/HBASE-10007-0.96.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12614760/HBASE-10007-0.96.01.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7939//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7939//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13827728" author="jmspaggi" created="Wed, 20 Nov 2013 14:57:20 +0000"  >&lt;p&gt;I think might be nice to have it too in 0.94. That will allow to run some comparisons and validate optimizations impacts on the 2 branches...&lt;/p&gt;</comment>
                            <comment id="13827994" author="apurtell" created="Wed, 20 Nov 2013 19:10:08 +0000"  >&lt;p&gt;Might be overkill but have you thought about reservoir sampling? Could hold down the total size of that array of floats for really large/long tests. &lt;/p&gt;</comment>
                            <comment id="13828011" author="ndimiduk" created="Wed, 20 Nov 2013 19:23:39 +0000"  >&lt;p&gt;Okay &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; I&apos;ll post a patch for 0.94 as well. We can address bringing 0.94&apos;s version up to feature parity with 0.96/trunk in a separate ticket.&lt;/p&gt;

&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, I considered that. I&apos;m not a statistician, so I don&apos;t know if that approach would be sufficient to keep tabs on the extremes. I&apos;m also interested to pursue the technique employed by Gil&apos;s &lt;a href=&quot;http://latencyutils.github.io/LatencyUtils/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LatencyUtils&lt;/a&gt; project. Unless someone has immediate advice on the sampling implementation, I&apos;d prefer to implement this as a separate ticket.&lt;/p&gt;</comment>
                            <comment id="13828282" author="ndimiduk" created="Wed, 20 Nov 2013 23:26:54 +0000"  >&lt;p&gt;New patch for 0.94, updated patches for 0.96 and trunk. The latter two are just whitespace cleanup. I&apos;ve taken all three for a spin on a pseudo-distributed hadoop + local hbase in both mapreduce and threaded variations.&lt;/p&gt;</comment>
                            <comment id="13828291" author="apurtell" created="Wed, 20 Nov 2013 23:32:11 +0000"  >&lt;p&gt;Skimmed the trunk patch, +1&lt;/p&gt;</comment>
                            <comment id="13828302" author="hadoopqa" created="Wed, 20 Nov 2013 23:36:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12615026/HBASE-10007-0.94.00.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12615026/HBASE-10007-0.94.00.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7956//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7956//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13830257" author="ndimiduk" created="Fri, 22 Nov 2013 19:40:33 +0000"  >&lt;p&gt;Thanks for having a look &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this afternoon unless anyone speaks up.&lt;/p&gt;</comment>
                            <comment id="13830321" author="nkeywal" created="Fri, 22 Nov 2013 21:22:09 +0000"  >&lt;p&gt;Committed on behalf of Nick. &lt;/p&gt;</comment>
                            <comment id="13830526" author="hudson" created="Sat, 23 Nov 2013 02:42:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #345 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/345/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/345/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10007&quot; title=&quot;PerformanceEvaluation: Add sampling and latency collection to randomRead test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10007&quot;&gt;&lt;del&gt;HBASE-10007&lt;/del&gt;&lt;/a&gt; PerformanceEvaluation: Add sampling and latency collection to randomRead test (Nick Dimiduk) (nkeywal: rev 1544685)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13830542" author="hudson" created="Sat, 23 Nov 2013 03:40:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1211 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1211/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1211/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10007&quot; title=&quot;PerformanceEvaluation: Add sampling and latency collection to randomRead test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10007&quot;&gt;&lt;del&gt;HBASE-10007&lt;/del&gt;&lt;/a&gt; PerformanceEvaluation: Add sampling and latency collection to randomRead test (Nick Dimiduk) (nkeywal: rev 1544685)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13830545" author="hudson" created="Sat, 23 Nov 2013 03:59:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96 #200 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/200/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/200/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10007&quot; title=&quot;PerformanceEvaluation: Add sampling and latency collection to randomRead test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10007&quot;&gt;&lt;del&gt;HBASE-10007&lt;/del&gt;&lt;/a&gt; PerformanceEvaluation: Add sampling and latency collection to randomRead test (Nick Dimiduk) (nkeywal: rev 1544683)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13830546" author="hudson" created="Sat, 23 Nov 2013 04:00:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4693 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4693/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4693/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10007&quot; title=&quot;PerformanceEvaluation: Add sampling and latency collection to randomRead test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10007&quot;&gt;&lt;del&gt;HBASE-10007&lt;/del&gt;&lt;/a&gt; PerformanceEvaluation: Add sampling and latency collection to randomRead test (Nick Dimiduk) (nkeywal: rev 1544681)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13830574" author="hudson" created="Sat, 23 Nov 2013 05:21:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in hbase-0.96-hadoop2 #128 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/128/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10007&quot; title=&quot;PerformanceEvaluation: Add sampling and latency collection to randomRead test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10007&quot;&gt;&lt;del&gt;HBASE-10007&lt;/del&gt;&lt;/a&gt; PerformanceEvaluation: Add sampling and latency collection to randomRead test (Nick Dimiduk) (nkeywal: rev 1544683)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13830576" author="hudson" created="Sat, 23 Nov 2013 05:33:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #848 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/848/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/848/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10007&quot; title=&quot;PerformanceEvaluation: Add sampling and latency collection to randomRead test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10007&quot;&gt;&lt;del&gt;HBASE-10007&lt;/del&gt;&lt;/a&gt; PerformanceEvaluation: Add sampling and latency collection to randomRead test (Nick Dimiduk) (nkeywal: rev 1544681)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/PerformanceEvaluation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13849462" author="stack" created="Mon, 16 Dec 2013 18:46:38 +0000"  >&lt;p&gt;Released in 0.96.1.  Issue closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615026" name="HBASE-10007-0.94.00.patch" size="23389" author="ndimiduk" created="Wed, 20 Nov 2013 23:26:54 +0000"/>
                            <attachment id="12614746" name="HBASE-10007-0.96.00.patch" size="26603" author="ndimiduk" created="Wed, 20 Nov 2013 00:18:34 +0000"/>
                            <attachment id="12614760" name="HBASE-10007-0.96.01.patch" size="27034" author="ndimiduk" created="Wed, 20 Nov 2013 01:26:58 +0000"/>
                            <attachment id="12615024" name="HBASE-10007-0.96.02.patch" size="27206" author="ndimiduk" created="Wed, 20 Nov 2013 23:26:54 +0000"/>
                            <attachment id="12614754" name="HBASE-10007.00.patch" size="29180" author="ndimiduk" created="Wed, 20 Nov 2013 01:09:00 +0000"/>
                            <attachment id="12615025" name="HBASE-10007.01.patch" size="29260" author="ndimiduk" created="Wed, 20 Nov 2013 23:26:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Nov 2013 01:33:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pymn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>