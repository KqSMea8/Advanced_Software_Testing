<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:22 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13347/HBASE-13347.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13347] Deprecate FirstKeyValueMatchingQualifiersFilter</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13347</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The &lt;tt&gt;RowCounter&lt;/tt&gt; in the &lt;tt&gt;mapreduce&lt;/tt&gt; package uses &lt;tt&gt;FirstKeyValueMatchingQualifiersFilter&lt;/tt&gt; which was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6468&quot; title=&quot;RowCounter may return incorrect result if column name is specified in command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6468&quot;&gt;&lt;del&gt;HBASE-6468&lt;/del&gt;&lt;/a&gt;. However we do not need that since we match columns in the scan before we filter.&lt;/p&gt;

&lt;p&gt;Deprecate the filter in 2.0 and remove in 3.0.&lt;br/&gt;
Do cleanup of RowCounter that tries to use this filter but actually doesn&apos;t.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12786149">HBASE-13347</key>
            <summary>Deprecate FirstKeyValueMatchingQualifiersFilter</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhishek.chouhan">Abhishek Singh Chouhan</assignee>
                                    <reporter username="larsgeorge">Lars George</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2015 10:23:08 +0000</created>
                <updated>Tue, 24 Nov 2015 11:16:16 +0000</updated>
                            <resolved>Tue, 24 Nov 2015 04:24:13 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14383637" author="larsgeorge" created="Fri, 27 Mar 2015 10:34:45 +0000"  >&lt;p&gt;The patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6468&quot; title=&quot;RowCounter may return incorrect result if column name is specified in command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6468&quot;&gt;&lt;del&gt;HBASE-6468&lt;/del&gt;&lt;/a&gt; has the lines needed. They are missing in the committed code.&lt;/p&gt;</comment>
                            <comment id="14493718" author="abhishek.chouhan" created="Tue, 14 Apr 2015 07:28:08 +0000"  >&lt;p&gt;I was trying to figure out a case where this would give a wrong result.&lt;br/&gt;
As per the API doc  &quot;Only Filter.filterKeyValue(Cell) is called AFTER all tests for ttl, column match, deletes and max versions have been run.&quot;&lt;br/&gt;
Since we match the column before applying filter we would get correct row count irrespective of the filter we use(FirstKeyOnlyFilter or FirstKeyValueMatchingQualifiersFilter) although we might get the KV which does not have the column we specified as that might not be the first column in the KVs for that row.But for row count that would not matter?&lt;br/&gt;
Also there is a test for row counter &quot;testRowCounterHiddenColumn&quot; that is passing with the current code(giving the correct count).&lt;br/&gt;
I&apos;m new to HBase codebase so might be interpreting things wrongly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14518958" author="abhishek.chouhan" created="Wed, 29 Apr 2015 08:30:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; thoughts on this? Do we need the special filter for row counter?&lt;/p&gt;</comment>
                            <comment id="14975874" author="abhishek.chouhan" created="Tue, 27 Oct 2015 07:28:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; Thoughts on this?&lt;/p&gt;</comment>
                            <comment id="14978026" author="anoop.hbase" created="Wed, 28 Oct 2015 09:13:43 +0000"  >&lt;p&gt;Yes. As per the code the filterKeyValue() is been called after columns match.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// STEP 1: Check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the column is part of the requested columns
&lt;/span&gt;    MatchCode colChecker = columns.checkColumn(cell, typeByte);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (colChecker == MatchCode.INCLUDE) {
      ReturnCode filterResponse = ReturnCode.SKIP;
      &lt;span class=&quot;code-comment&quot;&gt;// STEP 2: Yes, the column is part of the requested columns. Check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; filter is present
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (filter != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-comment&quot;&gt;// STEP 3: Filter the key value and &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it filters out
&lt;/span&gt;        filterResponse = filter.filterKeyValue(cell);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So we actually don&apos;t want use FirstKeyValueMatchingQualifiersFilter as such.  May be we can avoid that and always set FirstKeyOnlyFilter.&lt;/p&gt;

&lt;p&gt;Can test with out any specific column add in Scan.  With one or more columns (cf:q).  With one or more families added.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;As per the API doc &quot;Only Filter.filterKeyValue(Cell) is called AFTER all tests for ttl, column match, deletes and max versions have been run.&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is not fully true.  Version check happens after filter call.  Even TTL check also I guess as one reported an issue in user@ related to that.&lt;/p&gt;</comment>
                            <comment id="14984355" author="aspigex" created="Sun, 1 Nov 2015 11:23:29 +0000"  >&lt;p&gt;I&apos;m tried to use &lt;a href=&quot;https://github.com/apache/hbase/blob/master/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hbase/blob/master/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java&lt;/a&gt; code and package a new jar then excuted following shell script:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
hadoop jar test.jar &amp;lt;tablename&amp;gt; --range=row001,row002 cf:c2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then I got &quot;NoSuchColumnFamilyException&quot;.&lt;/p&gt;

&lt;p&gt;Is that normally? &lt;br/&gt;
And I tried to add &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;after #L123 to avoid &quot;--range=*&quot; string be appended to qualifer.&lt;/p&gt;

&lt;p&gt;Then the problem seems solve.&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;br/&gt;
data in table:&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;row&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cf:c1&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cf:c2&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cf:c3&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;cf:c4&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;row001&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;row002&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v2&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;row003&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;row004&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;v4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Exception Message:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: Column family --range=row001,row002 does not exist in region frank_rowcounttest1,,1446191360354.6c52c71a82f0fa041c467002a2bf433c. in table &apos;frank_rowcounttest1&apos;, {NAME =&amp;gt; &apos;cf&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;1&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14989179" author="abhishek.chouhan" created="Wed, 4 Nov 2015 09:19:01 +0000"  >&lt;p&gt;Just checked this myself. Looks like a legit bug. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aspigex&quot; class=&quot;user-hover&quot; rel=&quot;aspigex&quot;&gt;Frank Chang&lt;/a&gt; you want to file a bug and fix this or want me to do it?&lt;/p&gt;</comment>
                            <comment id="14989183" author="abhishek.chouhan" created="Wed, 4 Nov 2015 09:19:55 +0000"  >&lt;p&gt;We should also add a test for the range feature.&lt;/p&gt;</comment>
                            <comment id="14989191" author="abhishek.chouhan" created="Wed, 4 Nov 2015 09:22:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;. Let me put up a patch that avoids using FirstKeyValueMatchingQualifiersFilter.&lt;/p&gt;</comment>
                            <comment id="14989248" author="aspigex" created="Wed, 4 Nov 2015 10:14:06 +0000"  >&lt;p&gt;Thanks your reply.&lt;br/&gt;
I would like to do this. But I&apos;m newbie of JIRA, would you tell me how to do?&lt;br/&gt;
Should I create new issue or just submit a patch at this issue?&lt;/p&gt;</comment>
                            <comment id="14989306" author="abhishek.chouhan" created="Wed, 4 Nov 2015 10:47:44 +0000"  >&lt;p&gt;Opening a new jira would be best since this one is aimed at a different issue.&lt;/p&gt;</comment>
                            <comment id="15013363" author="abhishek.chouhan" created="Thu, 19 Nov 2015 11:21:15 +0000"  >&lt;p&gt;Getting a QA for master branch.&lt;/p&gt;</comment>
                            <comment id="15013595" author="hadoopqa" created="Thu, 19 Nov 2015 14:11:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773225/HBASE-13347-master.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773225/HBASE-13347-master.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit c92737c0e912563aeba2112ab8df74af976e720a.&lt;br/&gt;
  ATTACHMENT ID: 12773225&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16591//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15015279" author="abhishek.chouhan" created="Fri, 20 Nov 2015 06:10:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; All the tests (including existing RowCounter Tests) passed. Mind taking a look at the patch?&lt;/p&gt;</comment>
                            <comment id="15015309" author="anoop.hbase" created="Fri, 20 Nov 2015 06:35:31 +0000"  >&lt;p&gt;We have this in code now&lt;br/&gt;
Set&amp;lt;byte []&amp;gt; qualifiers&lt;br/&gt;
but not adding any entry to that. That means we were always going with FirstKeyOnlyFilter and so this issue is not fixing any bug..  So there is no bug as such now?&lt;br/&gt;
This patch removed some unwanted ops thats it?&lt;/p&gt;</comment>
                            <comment id="15015313" author="abhishek.chouhan" created="Fri, 20 Nov 2015 06:43:30 +0000"  >&lt;p&gt;Yep. The FirstKeyValueMatchingQualifiersFilter looks obsolete since scan already takes care of giving only the rows that match the given qualifier. &lt;br/&gt;
On a side note, FirstKeyValueMatchingQualifiersFilter seems only to be used by rowCounter internally in the code, is there any particular use case that it solves? If not, maybe we can deprecate/remove that as well?&lt;/p&gt;</comment>
                            <comment id="15015319" author="anoop.hbase" created="Fri, 20 Nov 2015 06:48:29 +0000"  >&lt;p&gt;It is marked public stable so we can remove. Can deprecate in 2.0 and remove in 3.0&lt;/p&gt;

&lt;p&gt;My doubt was this.  This issue is raised as a bug but as per the current code (with out apply this patch), we seems to work correctly only.  Some other issue fixed this bug then (recently)?&lt;/p&gt;</comment>
                            <comment id="15015341" author="abhishek.chouhan" created="Fri, 20 Nov 2015 07:18:49 +0000"  >&lt;p&gt;So i went through the history of ScanQueryMatcher. Looks like this special filter was added when we used to filter first and then match columns, this changed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8930&quot; title=&quot;Filter evaluates KVs outside requested columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8930&quot;&gt;&lt;del&gt;HBASE-8930&lt;/del&gt;&lt;/a&gt; post which we have the current logic which checksColumns and then filters.&lt;/p&gt;</comment>
                            <comment id="15015379" author="anoop.hbase" created="Fri, 20 Nov 2015 07:45:06 +0000"  >&lt;p&gt;So there is no bug as such..  We just do some code cleanup in this Jira.  And we will deprecate that fancy Filter also..   We can change this Jira title and decr then.  Else it will give an indication that a bug existing in older versions (which is not). Mind doing that?&lt;/p&gt;

&lt;p&gt;We can aim this jira mainly to deprecate/remove that Filter.&lt;/p&gt;</comment>
                            <comment id="15015427" author="abhishek.chouhan" created="Fri, 20 Nov 2015 08:41:09 +0000"  >&lt;p&gt;As per my understanding the rowCounter cleanup can be pushed to existing versions too, whereas the deprecation would be for 2.0 ? Should i create another jira for the deprecation and use this to just do the minor cleanup?&lt;/p&gt;</comment>
                            <comment id="15015575" author="anoop.hbase" created="Fri, 20 Nov 2015 10:43:04 +0000"  >&lt;p&gt;I feel the we can do cleanup in 2.0 and branch-1 also.  (patch release versions no need)  and in 2.0 we can do the deprecation in this Jira.&lt;/p&gt;</comment>
                            <comment id="15015590" author="abhishek.chouhan" created="Fri, 20 Nov 2015 10:51:50 +0000"  >&lt;p&gt;Got it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15015615" author="anoop.hbase" created="Fri, 20 Nov 2015 11:11:29 +0000"  >&lt;p&gt;pls attach a trunk patch and branch-1 patch.  Will commit then.  &lt;/p&gt;</comment>
                            <comment id="15015657" author="abhishek.chouhan" created="Fri, 20 Nov 2015 11:48:06 +0000"  >&lt;p&gt;Patch for master that deprecates the special filter and also cleans up RowCounter.&lt;/p&gt;</comment>
                            <comment id="15016682" author="abhishek.chouhan" created="Fri, 20 Nov 2015 12:04:36 +0000"  >&lt;p&gt;Patch for branch-1 that does RowCounter Cleanup.&lt;/p&gt;</comment>
                            <comment id="15018098" author="hadoopqa" created="Fri, 20 Nov 2015 14:40:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773498/HBASE-13347-branch-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773498/HBASE-13347-branch-1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 86be690b0723e814a655ad0ae8a6577d7111c1f2.&lt;br/&gt;
  ATTACHMENT ID: 12773498&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16614//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15018225" author="hadoopqa" created="Fri, 20 Nov 2015 16:19:28 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773497/HBASE-13347-master-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773497/HBASE-13347-master-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 86be690b0723e814a655ad0ae8a6577d7111c1f2.&lt;br/&gt;
  ATTACHMENT ID: 12773497&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestWALLockup&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16613//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15021675" author="abhishek.chouhan" created="Mon, 23 Nov 2015 07:33:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Looks good?&lt;/p&gt;</comment>
                            <comment id="15023742" author="anoop.hbase" created="Tue, 24 Nov 2015 04:24:13 +0000"  >&lt;p&gt;Thanks Abhishek for the patch.&lt;br/&gt;
Pushed to branch-1 and master.&lt;/p&gt;</comment>
                            <comment id="15023897" author="hudson" created="Tue, 24 Nov 2015 07:12:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #333 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/333/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/333/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13347&quot; title=&quot;Deprecate FirstKeyValueMatchingQualifiersFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13347&quot;&gt;&lt;del&gt;HBASE-13347&lt;/del&gt;&lt;/a&gt; Deprecate FirstKeyValueMatchingQualifiersFilter. (Abhishek) (anoopsamjohn: rev 81e7eb2805656021a016431d3470e6685d863b6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15023899" author="hudson" created="Tue, 24 Nov 2015 07:12:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #494 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/494/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/494/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13347&quot; title=&quot;Deprecate FirstKeyValueMatchingQualifiersFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13347&quot;&gt;&lt;del&gt;HBASE-13347&lt;/del&gt;&lt;/a&gt; Deprecate FirstKeyValueMatchingQualifiersFilter. (Abhishek) (anoopsamjohn: rev daba867734b6ce09e61193e90fae2a97755fdb53)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFilterSerialization.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FirstKeyValueMatchingQualifiersFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15024295" author="hudson" created="Tue, 24 Nov 2015 11:16:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #393 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/393/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/393/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13347&quot; title=&quot;Deprecate FirstKeyValueMatchingQualifiersFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13347&quot;&gt;&lt;del&gt;HBASE-13347&lt;/del&gt;&lt;/a&gt; Deprecate FirstKeyValueMatchingQualifiersFilter. (Abhishek) (anoopsamjohn: rev 81e7eb2805656021a016431d3470e6685d863b6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/RowCounter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12600519">HBASE-6468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12773498" name="HBASE-13347-branch-1.patch" size="2090" author="abhishek.chouhan" created="Fri, 20 Nov 2015 12:04:36 +0000"/>
                            <attachment id="12773497" name="HBASE-13347-master-v2.patch" size="4638" author="abhishek.chouhan" created="Fri, 20 Nov 2015 11:48:06 +0000"/>
                            <attachment id="12773225" name="HBASE-13347-master.patch" size="2161" author="abhishek.chouhan" created="Thu, 19 Nov 2015 11:21:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Apr 2015 07:28:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27fyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>