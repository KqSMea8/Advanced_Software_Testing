<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:18:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4415/HBASE-4415.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4415] Add configuration script for setup HBase (hbase-setup-conf.sh)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4415</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The goal of this jura is to provide a installation script for configuring HBase environment and configuration.  By using the same pattern of *-setup-conf.sh for all Hadoop related projects.  For HBase, the usage of the script looks like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;usage: ./hbase-setup-conf.sh &amp;lt;parameters&amp;gt;

  Optional parameters:
    --hadoop-conf=/etc/hadoop            Set Hadoop configuration directory location
    --hadoop-home=/usr                       Set Hadoop directory location
    --hadoop-namenode=localhost              Set Hadoop namenode hostname
    --hadoop-replication=3                   Set HDFS replication
    --hbase-home=/usr                        Set HBase directory location
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location
    --hbase-log=/var/log/hbase               Set HBase log directory location
    --hbase-pid=/var/run/hbase               Set HBase pid directory location
    --hbase-user=hbase                       Set HBase user
    --java-home=/usr/java/default            Set JAVA_HOME directory location
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm
    --kerberos-principal-id=_HOST            Set Kerberos principal ID 
    --keytab-dir=/etc/security/keytabs       Set keytab directory
    --regionservers=localhost                Set regionservers hostnames
    --zookeeper-home=/usr                    Set ZooKeeper directory location
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Java 6, Linux&lt;/p&gt;</environment>
        <key id="12523143">HBASE-4415</key>
            <summary>Add configuration script for setup HBase (hbase-setup-conf.sh)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="eyang">Eric Yang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Sep 2011 02:12:12 +0000</created>
                <updated>Tue, 21 Apr 2015 00:45:15 +0000</updated>
                            <resolved>Tue, 21 Apr 2015 00:45:14 +0000</resolved>
                                    <version>0.90.4</version>
                    <version>0.92.0</version>
                                    <fixVersion>0.92.3</fixVersion>
                                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13105124" author="eyang" created="Thu, 15 Sep 2011 05:23:41 +0000"  >&lt;p&gt;HBase setup script with configuration templates&lt;/p&gt;</comment>
                            <comment id="13105676" author="eyang" created="Thu, 15 Sep 2011 20:51:27 +0000"  >&lt;p&gt;Fixed hadoop-conf location.&lt;/p&gt;</comment>
                            <comment id="13105677" author="eyang" created="Thu, 15 Sep 2011 20:52:13 +0000"  >&lt;p&gt;Fixed usage screen hadoop-conf location.&lt;/p&gt;</comment>
                            <comment id="13105784" author="eyang" created="Fri, 16 Sep 2011 00:05:38 +0000"  >&lt;p&gt;Review Board URL: &lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13105785" author="jiraposter@reviews.apache.org" created="Fri, 16 Sep 2011 00:06:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;

&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;

&lt;p&gt;  Optional parameters:&lt;br/&gt;
    --hadoop-conf=/etc/hadoop            Set Hadoop configuration directory location&lt;br/&gt;
    --hadoop-home=/usr                       Set Hadoop directory location&lt;br/&gt;
    --hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;br/&gt;
    --hadoop-replication=3                   Set HDFS replication&lt;br/&gt;
    --hbase-home=/usr                        Set HBase directory location&lt;br/&gt;
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;br/&gt;
    --hbase-log=/var/log/hbase               Set HBase log directory location&lt;br/&gt;
    --hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;br/&gt;
    --hbase-user=hbase                       Set HBase user&lt;br/&gt;
    --java-home=/usr/java/default            Set JAVA_HOME directory location&lt;br/&gt;
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;br/&gt;
    --kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;br/&gt;
    --keytab-dir=/etc/security/keytabs       Set keytab directory&lt;br/&gt;
    --regionservers=localhost                Set regionservers hostnames&lt;br/&gt;
    --zookeeper-home=/usr                    Set ZooKeeper directory location&lt;br/&gt;
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;br/&gt;
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/assembly/all.xml 1170899 &lt;br/&gt;
  /src/packages/hbase-setup-conf.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;
</comment>
                            <comment id="13105786" author="jiraposter@reviews.apache.org" created="Fri, 16 Sep 2011 00:08:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-16 00:06:21.722559)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;

&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;

&lt;p&gt;  Optional parameters:&lt;br/&gt;
    --hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;br/&gt;
    --hadoop-home=/usr                       Set Hadoop directory location&lt;br/&gt;
    --hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;br/&gt;
    --hadoop-replication=3                   Set HDFS replication&lt;br/&gt;
    --hbase-home=/usr                        Set HBase directory location&lt;br/&gt;
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;br/&gt;
    --hbase-log=/var/log/hbase               Set HBase log directory location&lt;br/&gt;
    --hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;br/&gt;
    --hbase-user=hbase                       Set HBase user&lt;br/&gt;
    --java-home=/usr/java/default            Set JAVA_HOME directory location&lt;br/&gt;
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;br/&gt;
    --kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;br/&gt;
    --keytab-dir=/etc/security/keytabs       Set keytab directory&lt;br/&gt;
    --regionservers=localhost                Set regionservers hostnames&lt;br/&gt;
    --zookeeper-home=/usr                    Set ZooKeeper directory location&lt;br/&gt;
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;br/&gt;
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/assembly/all.xml 1170899 &lt;br/&gt;
  /src/packages/hbase-setup-conf.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;
</comment>
                            <comment id="13107341" author="jiraposter@reviews.apache.org" created="Sun, 18 Sep 2011 04:43:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/#review1957&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/#review1957&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;Generally it might be good to be able to define prefixes similar to what autoconf scripts do. Such as:&lt;br/&gt;
--prefix=DIR        &lt;span class=&quot;error&quot;&gt;&amp;#91;PREFIX/etc&amp;#93;&lt;/span&gt;&lt;br/&gt;
--sysconfdir=DIR    &lt;span class=&quot;error&quot;&gt;&amp;#91;PREFIX/etc&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;And so on.&lt;/p&gt;

&lt;p&gt;The hbase-site.xml and hbase-env.sh templates now have to be maintained separately, hence this makes config changes harder to maintain.&lt;/p&gt;

&lt;p&gt;In general this seems to be mostly useful for beginners of HBase, right?&lt;br/&gt;
(Oldtimers will have a mechanism in place to setup HBase - puppet, chef, fabric, etc.&lt;/p&gt;

&lt;p&gt;So I wonder if a more useful avenue would be to post this as part of the HBase book or some other getting started spot on the HBase site.&lt;/p&gt;



&lt;p&gt;/src/packages/hbase-setup-conf.sh&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1925/#comment4436&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/#comment4436&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Isn&apos;t /usr a strange default for a Hadoop (or HBase or ZooKeeper) installation?&lt;br/&gt;
    Maybe the script should rather check for a value, and fail if none was given.&lt;/p&gt;



&lt;p&gt;/src/packages/hbase-setup-conf.sh&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1925/#comment4437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/#comment4437&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t see HBASE_LOG_DIR defaulted anywhere.&lt;br/&gt;
    Same for HBASE_PID_DIR.&lt;/p&gt;



&lt;p&gt;/src/packages/templates/conf/hbase-env.sh&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1925/#comment4438&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/#comment4438&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Wow 2007... that&apos;s old &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
    I think the latest convention is not to include he year.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Lars&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-09-16 00:06:21, Eric Yang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-09-16 00:06:21)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Optional parameters:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-home=/usr                       Set Hadoop directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-replication=3                   Set HDFS replication&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-home=/usr                        Set HBase directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-log=/var/log/hbase               Set HBase log directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-user=hbase                       Set HBase user&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--java-home=/usr/java/default            Set JAVA_HOME directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--keytab-dir=/etc/security/keytabs       Set keytab directory&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--regionservers=localhost                Set regionservers hostnames&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--zookeeper-home=/usr                    Set ZooKeeper directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/assembly/all.xml 1170899 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/packages/hbase-setup-conf.sh PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Eric&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13107509" author="stack" created="Sun, 18 Sep 2011 19:16:38 +0000"  >&lt;p&gt;Will the below break what we have now?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     &amp;lt;fileSet&amp;gt;
+      &amp;lt;directory&amp;gt;src/packages/templates/conf&amp;lt;/directory&amp;gt;
+      &amp;lt;outputDirectory&amp;gt;share/hbase/templates/conf&amp;lt;/outputDirectory&amp;gt;
+    &amp;lt;/fileSet&amp;gt;
+    &amp;lt;fileSet&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do we have to reproduce hbase-env.sh over in src/packages?  Similar for hbase-site.xml.&lt;/p&gt;

&lt;p&gt;Can you point me at why src/packages.  Is this from hadoop and its src for building rpms etc.?&lt;/p&gt;

&lt;p&gt;So, how would i use this new script?&lt;/p&gt;</comment>
                            <comment id="13107551" author="eyang" created="Sun, 18 Sep 2011 22:28:21 +0000"  >&lt;p&gt;&lt;b&gt;share/hbase/templates/conf&lt;/b&gt; is an newly added template directory.  People can still use the default files in conf directory for backward compatibility until hbase-setup-conf.sh become the standard method of configuring HBase cluster.  For now, there are two copies of hbase-env.sh, one in conf directory, and one in src/packages/templates/conf.  The copy in src/packages/templates/conf is designed to be consumed by hbase-setup-conf.sh, and it mimics the changes that happens to trunk/conf/hbase-env.sh.  If the community agrees that we can use one copy of base-env.sh and hbase-site.xml for both purpose of script automation and hand edit config file.  I am more than willing to unify them as one copy and place in src/packages/templates/conf for clarity to indicate this is for script automation.&lt;/p&gt;

&lt;p&gt;Standard Maven practice uses the following structure:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;src/main - application code
src/test - test code
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In Hadoop related projects, release packaging has introduced new directory structure:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;src/packages/tarball - tarball manifest file or related meta data
src/packages/rpm - rpm related meta data
src/packages/deb - debian related meta data
src/packages/template/conf - Configuration template files
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This practice is to improve the release packages.  In the past, Hadoop related projects are releasing a binary/source hybrid tar ball.  This has proven problematic to maintain for different architecture.  The intention is to improve the system so that we can create binary release for each architecture and decouple source and binary from tar ball releases.  There are some more work to be done for packaging separation, but it is not in scope for this jira.&lt;/p&gt;

&lt;p&gt;The script is designed to run as root.  For setting up a hbase cluster with hadoop 0.20.205.  There are a few assumption made for kerberos key tabs.  The key tab file names should be:&lt;/p&gt;

&lt;p&gt;namenode          - nn.service.keytab&lt;br/&gt;
secondarynamenode - sn.service.keytab&lt;br/&gt;
datanode          - dn.service.keytab&lt;br/&gt;
jobtracker        - jt.service.keytab&lt;br/&gt;
tasktracker       - tt.service.keytab&lt;br/&gt;
hbase             - hbase.service.keytab&lt;/p&gt;

&lt;p&gt;Compose a shell script that invokes each component&apos;s installation script and run them through pdsh, or use Apache Ambari (HMS):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;export namenode=nn1
export datanode=dn1,dn2,dn3,dn4
export secondary_namenode=sn1
export jobtracker=jt1
export tasktracker=tt1,tt2,tt3,tt4
export hbase_regionservers=rs1,rs2,rs3,rs4
export hbase_master=hbm

# Setup Hadoop configuration
/home/hms/apps/hadoop-0.20.205.0/sbin/hadoop-setup-conf.sh \
  --java-home=/home/hms/apps/jdk1.6.0_27 \
  --namenode-host=${namenode} \
  --secondarynamenode-host=${secondary_namenode} \
  --jobtracker-host=${jobtracker} \
  --conf-dir=/etc/hadoop \
  --hdfs-dir=/data/0/hadoop/var/hdfs,/data/1/hadoop/var/hdfs,/data/2/hadoop/var/hdfs,/data/3/hadoop/var/hdfs \
  --namenode-dir=/data/2/hadoop/var/hdfs/name \
  --mapred-dir=/data/0/tmp/mapred-local,/data/1/tmp/mapred-local,/data/2/tmp/mapred-local,/data/3/tmp/mapred-local \
  --datanode-dir=/data/0/hadoop/var/hdfs/data,/data/1/hadoop/var/hdfs/data,/data/2/hadoop/var/hdfs/data,/data/3/hadoop/var/hdfs/data \
  --log-dir=/home/hms/apps/hadoop-0.20.205.0/logs \
  --pid-dir=/home/hms/apps/hadoop-0.20.205.0/logs \
  --hdfs-user=hdfs \
  --mapreduce-user=mr \
  --kerberos-realm=APACHE.ORG \
  --hdfs-user-keytab=/home/hdfs/hdfs.headless.keytab \
  --mapreduce-user-keytab=/home/mr/mr.headless.keytab \
  --datanodes=${datanode} \
  --tasktrackers=${tasktracker} \
  --group=hadoop \
  --auto

# Format Hadoop HDFS
/home/hms/apps/hadoop-0.20.205.0/sbin/hadoop-setup-hdfs.sh \
  --config /etc/hadoop \
  --hdfs-user=hrt_hdfs \
  --mapreduce-user=hrt_mr \
  --kerberos-realm=APACHE.ORG \
  --hdfs-user-keytab=/home/hdfs/hdfs.headless.keytab \
  --format

# Start up secondary name node, datanodes, job tracker, task tracker through hadoop-daemon.sh

# Setup HBase
/home/hms/apps/hbase-0.90.3/sbin/hbase-setup-conf.sh \
  --hadoop-conf=/etc/hadoop \
  --hadoop-home=/home/hms/apps/hadoop-0.20.205.0 \
  --hadoop-namenode=${namenode} \
  --hbase-home=/home/hms/apps/hbase-0.90.3 \
  --hbase-conf=/home/hms/apps/hbase-0.90.3/conf \
  --hbase-log=/home/hms/apps/hbase-0.90.3/logs \
  --hbase-pid=/home/hms/apps/hbase-0.90.3/var/run \
  --java-home=/usr/java/default \
  --kerberos-realm=APACHE.ORG \
  --kerberos-principal-id=hbase/_HOST \
  --keytab-dir=/etc/security/keytabs \
  --regionservers=${hbase_regionservers} \
  --zookeeper-quorum=${hbase_master} \
  --zookeeper-snapshot=/home/hms/apps/var/lib/zookeeper
  --hbase-user=hbase
  --hadoop-replication=3

# Start HBase Master, region servers using hbase-daemon.sh.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hope this helps.&lt;/p&gt;</comment>
                            <comment id="13107552" author="eyang" created="Sun, 18 Sep 2011 22:29:38 +0000"  >&lt;p&gt;If no kerberos information is provided, the script will automatically setup as non-secure cluster.&lt;/p&gt;</comment>
                            <comment id="13107923" author="jiraposter@reviews.apache.org" created="Mon, 19 Sep 2011 15:53:08 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-09-18 04:41:44, Lars Hofhansl wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; Generally it might be good to be able to define prefixes similar to what autoconf scripts do. Such as:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; --prefix=DIR        &lt;span class=&quot;error&quot;&gt;&amp;#91;PREFIX/etc&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; --sysconfdir=DIR    &lt;span class=&quot;error&quot;&gt;&amp;#91;PREFIX/etc&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; And so on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; The hbase-site.xml and hbase-env.sh templates now have to be maintained separately, hence this makes config changes harder to maintain.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; In general this seems to be mostly useful for beginners of HBase, right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; (Oldtimers will have a mechanism in place to setup HBase - puppet, chef, fabric, etc.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; So I wonder if a more useful avenue would be to post this as part of the HBase book or some other getting started spot on the HBase site.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hadoop related software used to deploy in isolated directory and use environment variables to drive the location of the software.  GNU layout of single prefix does not work for tarball deployment because there are prefix directory per service.  This is the reason that --hadoop-home, --hbase-home are implemented instead of --prefix.&lt;/p&gt;

&lt;p&gt;This is both useful for beginner or for script automation.  I will include some documents for HBase book or HBase site.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-09-18 04:41:44, Lars Hofhansl wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; /src/packages/hbase-setup-conf.sh, line 177&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1925/diff/1/?file=41428#file41428line177&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff/1/?file=41428#file41428line177&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Isn&apos;t /usr a strange default for a Hadoop (or HBase or ZooKeeper) installation?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Maybe the script should rather check for a value, and fail if none was given.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Existing tarball deployment does not have a default location, hence, the default is set to /usr for rpm/debian package default location.  I will added a check for /usr/bin/hadoop and bail out if hadoop does not exist.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-09-18 04:41:44, Lars Hofhansl wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; /src/packages/hbase-setup-conf.sh, line 245&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1925/diff/1/?file=41428#file41428line245&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff/1/?file=41428#file41428line245&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I don&apos;t see HBASE_LOG_DIR defaulted anywhere.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Same for HBASE_PID_DIR.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good catch, I will make defaults for those two properties.  How about default HBASE_LOG_DIR to $&lt;/p&gt;
{HBASE_HOME}/var/log and ${HBASE_HOME}
&lt;p&gt;/var/run for consistency?&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-09-18 04:41:44, Lars Hofhansl wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; /src/packages/templates/conf/hbase-env.sh, line 3&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1925/diff/1/?file=41429#file41429line3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff/1/?file=41429#file41429line3&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Wow 2007... that&apos;s old &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I think the latest convention is not to include he year.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I will make the change to exclude the year.  Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Eric&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/#review1957&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/#review1957&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-09-16 00:06:21, Eric Yang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-09-16 00:06:21)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Optional parameters:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-home=/usr                       Set Hadoop directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hadoop-replication=3                   Set HDFS replication&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-home=/usr                        Set HBase directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-log=/var/log/hbase               Set HBase log directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--hbase-user=hbase                       Set HBase user&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--java-home=/usr/java/default            Set JAVA_HOME directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--keytab-dir=/etc/security/keytabs       Set keytab directory&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--regionservers=localhost                Set regionservers hostnames&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--zookeeper-home=/usr                    Set ZooKeeper directory location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;--zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/assembly/all.xml 1170899 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/packages/hbase-setup-conf.sh PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;/src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Eric&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13108305" author="eyang" created="Tue, 20 Sep 2011 01:15:27 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added check for Hadoop installation.&lt;/li&gt;
	&lt;li&gt;Added default locations for HBase log/pid directories.&lt;/li&gt;
	&lt;li&gt;Added instruction to run hbase-setup-conf.sh in HBase Book.&lt;/li&gt;
	&lt;li&gt;Removed copyright date from license file.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13108306" author="jiraposter@reviews.apache.org" created="Tue, 20 Sep 2011 01:17:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-20 01:17:07.234363)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added check for Hadoop installation.&lt;/li&gt;
	&lt;li&gt;Added default locations for HBase log/pid directories.&lt;/li&gt;
	&lt;li&gt;Added instruction to run hbase-setup-conf.sh in HBase Book.&lt;/li&gt;
	&lt;li&gt;Removed copyright date from license file.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;

&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;

&lt;p&gt;  Optional parameters:&lt;br/&gt;
    --hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;br/&gt;
    --hadoop-home=/usr                       Set Hadoop directory location&lt;br/&gt;
    --hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;br/&gt;
    --hadoop-replication=3                   Set HDFS replication&lt;br/&gt;
    --hbase-home=/usr                        Set HBase directory location&lt;br/&gt;
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;br/&gt;
    --hbase-log=/var/log/hbase               Set HBase log directory location&lt;br/&gt;
    --hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;br/&gt;
    --hbase-user=hbase                       Set HBase user&lt;br/&gt;
    --java-home=/usr/java/default            Set JAVA_HOME directory location&lt;br/&gt;
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;br/&gt;
    --kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;br/&gt;
    --keytab-dir=/etc/security/keytabs       Set keytab directory&lt;br/&gt;
    --regionservers=localhost                Set regionservers hostnames&lt;br/&gt;
    --zookeeper-home=/usr                    Set ZooKeeper directory location&lt;br/&gt;
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;br/&gt;
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/assembly/all.xml 1170899 &lt;br/&gt;
  /src/docbkx/getting_started.xml 1172936 &lt;br/&gt;
  /src/packages/hbase-setup-conf.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;
</comment>
                            <comment id="13108308" author="jiraposter@reviews.apache.org" created="Tue, 20 Sep 2011 01:21:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-20 01:20:32.140897)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Made a mistake in previous diff.  Upload the same patch without specifying parent patch.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added check for Hadoop installation.&lt;/li&gt;
	&lt;li&gt;Added default locations for HBase log/pid directories.&lt;/li&gt;
	&lt;li&gt;Added instruction to run hbase-setup-conf.sh in HBase Book.&lt;/li&gt;
	&lt;li&gt;Removed copyright date from license file.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;

&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;

&lt;p&gt;  Optional parameters:&lt;br/&gt;
    --hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;br/&gt;
    --hadoop-home=/usr                       Set Hadoop directory location&lt;br/&gt;
    --hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;br/&gt;
    --hadoop-replication=3                   Set HDFS replication&lt;br/&gt;
    --hbase-home=/usr                        Set HBase directory location&lt;br/&gt;
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;br/&gt;
    --hbase-log=/var/log/hbase               Set HBase log directory location&lt;br/&gt;
    --hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;br/&gt;
    --hbase-user=hbase                       Set HBase user&lt;br/&gt;
    --java-home=/usr/java/default            Set JAVA_HOME directory location&lt;br/&gt;
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;br/&gt;
    --kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;br/&gt;
    --keytab-dir=/etc/security/keytabs       Set keytab directory&lt;br/&gt;
    --regionservers=localhost                Set regionservers hostnames&lt;br/&gt;
    --zookeeper-home=/usr                    Set ZooKeeper directory location&lt;br/&gt;
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;br/&gt;
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/assembly/all.xml 1172936 &lt;br/&gt;
  /src/docbkx/getting_started.xml 1172936 &lt;br/&gt;
  /src/packages/hbase-setup-conf.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;
</comment>
                            <comment id="13113727" author="gkesavan" created="Fri, 23 Sep 2011 20:11:25 +0000"  >&lt;p&gt;can we have the option to set diff keytabs for hbasemaster and region servers?&lt;/p&gt;</comment>
                            <comment id="13113737" author="eyang" created="Fri, 23 Sep 2011 20:20:20 +0000"  >&lt;p&gt;Updated the setup script to use unique key tabs for HBase master and region servers.&lt;/p&gt;</comment>
                            <comment id="13113742" author="jiraposter@reviews.apache.org" created="Fri, 23 Sep 2011 20:23:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-23 20:22:38.162933)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated the ability to use different keytab for HBase master and region server.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;

&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;

&lt;p&gt;  Optional parameters:&lt;br/&gt;
    --hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;br/&gt;
    --hadoop-home=/usr                       Set Hadoop directory location&lt;br/&gt;
    --hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;br/&gt;
    --hadoop-replication=3                   Set HDFS replication&lt;br/&gt;
    --hbase-home=/usr                        Set HBase directory location&lt;br/&gt;
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;br/&gt;
    --hbase-log=/var/log/hbase               Set HBase log directory location&lt;br/&gt;
    --hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;br/&gt;
    --hbase-user=hbase                       Set HBase user&lt;br/&gt;
    --java-home=/usr/java/default            Set JAVA_HOME directory location&lt;br/&gt;
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;br/&gt;
    --kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;br/&gt;
    --keytab-dir=/etc/security/keytabs       Set keytab directory&lt;br/&gt;
    --regionservers=localhost                Set regionservers hostnames&lt;br/&gt;
    --zookeeper-home=/usr                    Set ZooKeeper directory location&lt;br/&gt;
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;br/&gt;
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/assembly/all.xml 1172936 &lt;br/&gt;
  /src/docbkx/getting_started.xml 1172936 &lt;br/&gt;
  /src/packages/hbase-setup-conf.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;
</comment>
                            <comment id="13113791" author="gkesavan" created="Fri, 23 Sep 2011 21:49:21 +0000"  >&lt;p&gt;hbase-setup-conf.sh script check for $HADOOP_HOME/bin/hadoop and looks for $HADOOP_HOME/hadoop-core*.jar &lt;/p&gt;

&lt;p&gt;when HADOOP_HOME is set to /usr the first condition passes and the second condition fails for not being able to find the hadoop-core jar as the core jar is installed by hadoop rpm at /usr/share/hadoop/hadoop-core-*.jar&lt;/p&gt;</comment>
                            <comment id="13113804" author="eyang" created="Fri, 23 Sep 2011 22:14:48 +0000"  >&lt;p&gt;Fixed location to find Hadoop jar file for both rpm and tarball deployment.&lt;/p&gt;</comment>
                            <comment id="13113828" author="jiraposter@reviews.apache.org" created="Fri, 23 Sep 2011 23:17:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-23 23:17:00.742946)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch for finding location of hadoop jar files.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Create a post installation script to streamline configuration tasks for HBase.&lt;/p&gt;

&lt;p&gt;usage: /usr/sbin/hbase-setup-conf.sh &amp;lt;parameters&amp;gt;&lt;/p&gt;

&lt;p&gt;  Optional parameters:&lt;br/&gt;
    --hadoop-conf=/etc/hadoop                Set Hadoop configuration directory location&lt;br/&gt;
    --hadoop-home=/usr                       Set Hadoop directory location&lt;br/&gt;
    --hadoop-namenode=localhost              Set Hadoop namenode hostname&lt;br/&gt;
    --hadoop-replication=3                   Set HDFS replication&lt;br/&gt;
    --hbase-home=/usr                        Set HBase directory location&lt;br/&gt;
    --hbase-conf=/etc/hbase                  Set HBase configuration directory location&lt;br/&gt;
    --hbase-log=/var/log/hbase               Set HBase log directory location&lt;br/&gt;
    --hbase-pid=/var/run/hbase               Set HBase pid directory location&lt;br/&gt;
    --hbase-user=hbase                       Set HBase user&lt;br/&gt;
    --java-home=/usr/java/default            Set JAVA_HOME directory location&lt;br/&gt;
    --kerberos-realm=KERBEROS.EXAMPLE.COM    Set Kerberos realm&lt;br/&gt;
    --kerberos-principal-id=_HOST            Set Kerberos principal ID &lt;br/&gt;
    --keytab-dir=/etc/security/keytabs       Set keytab directory&lt;br/&gt;
    --regionservers=localhost                Set regionservers hostnames&lt;br/&gt;
    --zookeeper-home=/usr                    Set ZooKeeper directory location&lt;br/&gt;
    --zookeeper-quorum=localhost             Set ZooKeeper Quorum&lt;br/&gt;
    --zookeeper-snapshot=/var/lib/zookeeper  Set ZooKeeper snapshot location&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; title=&quot;Add configuration script for setup HBase (hbase-setup-conf.sh)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4415&quot;&gt;&lt;del&gt;HBASE-4415&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4415&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-4415&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  /src/assembly/all.xml 1175049 &lt;br/&gt;
  /src/docbkx/getting_started.xml 1175049 &lt;br/&gt;
  /src/packages/hbase-setup-conf.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-env.sh PRE-CREATION &lt;br/&gt;
  /src/packages/templates/conf/hbase-site.xml PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1925/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1925/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;
</comment>
                            <comment id="13115085" author="gkesavan" created="Tue, 27 Sep 2011 00:53:20 +0000"  >&lt;p&gt;Eric,&lt;br/&gt;
Could you please add the following to the hbaese-setup-conf script?&lt;br/&gt;
set keytab directory permission to 700&lt;br/&gt;
set the service keytab owner to hbaseuser&lt;/p&gt;
</comment>
                            <comment id="13115122" author="eyang" created="Tue, 27 Sep 2011 01:43:03 +0000"  >&lt;p&gt;Added file permission setup for key tab files.&lt;/p&gt;</comment>
                            <comment id="13127731" author="eyang" created="Fri, 14 Oct 2011 17:52:11 +0000"  >&lt;p&gt;Improve handling of chmod/chown if hbase master keytab doesn&apos;t exist in regional server.&lt;/p&gt;</comment>
                            <comment id="13132076" author="hadoopqa" created="Thu, 20 Oct 2011 21:37:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12499070/HBASE-4415-6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12499070/HBASE-4415-6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13132205" author="hadoopqa" created="Thu, 20 Oct 2011 23:36:29 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12499070/HBASE-4415-6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12499070/HBASE-4415-6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 8 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestLogRolling&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/7//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/7//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13133174" author="eyang" created="Fri, 21 Oct 2011 22:56:21 +0000"  >&lt;p&gt;Failed core tests, and javadoc warnings don&apos;t seem to be related to this patch.&lt;/p&gt;</comment>
                            <comment id="13141391" author="yuzhihong@gmail.com" created="Tue, 1 Nov 2011 17:54:29 +0000"  >&lt;p&gt;In update-hbase-env.sh:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-. /etc/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/zookeeper-env.sh
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What&apos;s the rationale behind the above change ?&lt;/p&gt;</comment>
                            <comment id="13141407" author="apurtell" created="Tue, 1 Nov 2011 18:05:40 +0000"  >&lt;p&gt;For 0.92, this patch is missing the as-yet undocumented security configuration settings. They are in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2742&quot; title=&quot;Provide strong authentication with a secure RPC engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2742&quot;&gt;&lt;del&gt;HBASE-2742&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3025&quot; title=&quot;Coprocessor based simple access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3025&quot;&gt;&lt;del&gt;HBASE-3025&lt;/del&gt;&lt;/a&gt; at the moment, and are expected to go in to a 0.92 RC.&lt;/p&gt;

&lt;p&gt;I refer to HBase specific security features, not the Hadoop security integration, which this patch seems to cover.&lt;/p&gt;</comment>
                            <comment id="13142284" author="stack" created="Wed, 2 Nov 2011 16:47:30 +0000"  >&lt;p&gt;Ditto on what Ted asks above.&lt;/p&gt;

&lt;p&gt;Why would we have this duplicated (and now behind) hbase-env.sh over in src/packages/templates/conf/hbase-env.sh?  Why would we not copy it from original location?&lt;/p&gt;

&lt;p&gt;@Andrew I see this patch has:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &amp;lt;property&amp;gt;
+    &amp;lt;name&amp;gt;hbase.master.kerberos.principal&amp;lt;/name&amp;gt;
+    &amp;lt;value&amp;gt;${HBASE_M_K_PRINCIPAL}&amp;lt;/value&amp;gt;
+    &amp;lt;description&amp;gt;&amp;lt;/description&amp;gt;
+  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We need more than that now?&lt;/p&gt;</comment>
                            <comment id="13144405" author="eyang" created="Fri, 4 Nov 2011 22:18:49 +0000"  >&lt;p&gt;Ted, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4498&quot; title=&quot;HBase RPM/DEB packages attempt to setup ZooKeeper environment incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4498&quot;&gt;&lt;del&gt;HBASE-4498&lt;/del&gt;&lt;/a&gt; contains the explanation of reason to remove zookeeper-env.sh because ZooKeeper community do not support this in their RPM creation.&lt;/p&gt;

&lt;p&gt;Stack, hbase-env.sh in src/packages/templates/conf is used for hbase-setup-conf.sh as post installation process.  It is designed to be a template, where conf/hbase-env.sh can be edited in place, which I think they should be separated to be safe.  I am happy to convert it to use conf/hbase-env.sh location, but this would make conf/hbase-env.sh a template.  Is this something worth proceeding?&lt;/p&gt;</comment>
                            <comment id="13148627" author="stack" created="Fri, 11 Nov 2011 18:04:58 +0000"  >&lt;p&gt;@Eric I don&apos;t want to bring this set of patches into 0.92.  Though this patch was submitted a good while ago, its only gotten attention from us lot recently &amp;#8211; thanks for keeping it up since original submit and sorry that you have had to kick us to take a look &amp;#8211; but I think that there needs to be more review before it goes in (I can help get more reviews and I&apos;ll dig in more after I get an RC 0.92 out).  Its more of a new feature than it is a critical bug fix so I&apos;m fine w/ putting it off.  We&apos;ll can get it into trunk soon.  Good on you Eric.&lt;/p&gt;</comment>
                            <comment id="13151667" author="eyang" created="Thu, 17 Nov 2011 00:16:27 +0000"  >&lt;p&gt;Stack, no problem.  If there is any change required, let me know.&lt;/p&gt;</comment>
                            <comment id="13161162" author="gkesavan" created="Thu, 1 Dec 2011 21:07:46 +0000"  >&lt;p&gt;updating patch after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4894&quot; title=&quot;Remove sbin from tgz made building 0.92.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4894&quot;&gt;&lt;del&gt;HBASE-4894&lt;/del&gt;&lt;/a&gt; commit. &lt;/p&gt;</comment>
                            <comment id="13161229" author="arpitgupta" created="Thu, 1 Dec 2011 22:02:29 +0000"  >&lt;p&gt;now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2246&quot; title=&quot;Shortcut a local client reads to a Datanodes files directly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2246&quot;&gt;&lt;del&gt;HDFS-2246&lt;/del&gt;&lt;/a&gt; (short circuit read) has been committed to hadoop, we need to support enabling of the short circuit read for the client. Attaching a new patch that also adds the support to set short circuit read configs.&lt;/p&gt;</comment>
                            <comment id="13161285" author="hadoopqa" created="Thu, 1 Dec 2011 23:16:57 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12505810/HBASE-4415-8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12505810/HBASE-4415-8.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -160 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 71 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestInstantSchemaChange&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/419//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/419//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/419//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/419//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/419//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/419//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13161317" author="hadoopqa" created="Fri, 2 Dec 2011 00:00:58 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12505818/HBASE-4415-9.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12505818/HBASE-4415-9.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -160 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 71 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestInstantSchemaChange&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/420//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/420//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/420//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/420//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/420//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/420//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13234823" author="lhofhansl" created="Wed, 21 Mar 2012 18:33:06 +0000"  >&lt;p&gt;Moving to 0.94.1 for now&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12520987">HADOOP-7599</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12523121">PIG-2284</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12521518">HBASE-4337</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12525353">HBASE-4523</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12525595">HBASE-4535</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12494690" name="HBASE-4415-1.patch" size="16184" author="eyang" created="Thu, 15 Sep 2011 20:52:13 +0000"/>
                            <attachment id="12495177" name="HBASE-4415-2.patch" size="17862" author="eyang" created="Tue, 20 Sep 2011 01:15:27 +0000"/>
                            <attachment id="12496320" name="HBASE-4415-3.patch" size="17431" author="eyang" created="Fri, 23 Sep 2011 20:19:31 +0000"/>
                            <attachment id="12496333" name="HBASE-4415-4.patch" size="17972" author="eyang" created="Fri, 23 Sep 2011 22:14:48 +0000"/>
                            <attachment id="12496616" name="HBASE-4415-5.patch" size="18219" author="eyang" created="Tue, 27 Sep 2011 01:43:03 +0000"/>
                            <attachment id="12499070" name="HBASE-4415-6.patch" size="18604" author="eyang" created="Fri, 14 Oct 2011 17:52:11 +0000"/>
                            <attachment id="12505809" name="HBASE-4415-7.patch" size="2900" author="gkesavan" created="Thu, 1 Dec 2011 21:07:46 +0000"/>
                            <attachment id="12505810" name="HBASE-4415-8.patch" size="18544" author="gkesavan" created="Thu, 1 Dec 2011 21:14:40 +0000"/>
                            <attachment id="12505818" name="HBASE-4415-9.patch" size="20204" author="arpitgupta" created="Thu, 1 Dec 2011 22:02:28 +0000"/>
                            <attachment id="12494566" name="HBASE-4415.patch" size="16184" author="eyang" created="Thu, 15 Sep 2011 05:23:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Sep 2011 00:06:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00svb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>