<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:24:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5101/HBASE-5101.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5101] Add a max number of regions per regionserver limit</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5101</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In a testing environment, a cluster got to a state with more than 1500 regions per region server, and essentially became stuck and unavailable.  We could add a limit to the number of regions that a region server can serve to prevent this from happening.  This looks like it could be implemented in the core or as a coprocessor.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12536547">HBASE-5101</key>
            <summary>Add a max number of regions per regionserver limit</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Dec 2011 00:39:26 +0000</created>
                <updated>Thu, 29 Dec 2011 20:43:00 +0000</updated>
                            <resolved>Thu, 29 Dec 2011 20:42:37 +0000</resolved>
                                    <version>0.92.0</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13176949" author="apurtell@yahoo.com" created="Thu, 29 Dec 2011 02:19:30 +0000"  >&lt;p&gt;This would disable splitting on the RS at the limit?&lt;/p&gt;</comment>
                            <comment id="13176951" author="zhihyu@ebaysf.com" created="Thu, 29 Dec 2011 02:23:06 +0000"  >&lt;p&gt;@Jon:&lt;br/&gt;
Can you describe how the cluster got into this state ?&lt;br/&gt;
I guess a lot of region servers crashed ?&lt;br/&gt;
Otherwise there should have been better planning for the region size.&lt;/p&gt;</comment>
                            <comment id="13176959" author="jmhsieh" created="Thu, 29 Dec 2011 02:58:10 +0000"  >&lt;p&gt;@Andrew &lt;br/&gt;
I think that would be the idea. The hope is to avoid getting region servers into trouble and to give an admin some warning when they are approaching trouble (maybe reached some percentage of region limit).&lt;/p&gt;

&lt;p&gt;@Ted&lt;br/&gt;
I&apos;ve been purposely testing using a stress configuration with heavy write load that purposely requires flushes (4 MB), splits (64MB) and compactions all the time.  Along the way region servers crash (which is fine &amp;#8211; fault injection is part of this workload). &lt;/p&gt;

&lt;p&gt;I&apos;ve encountered some situations where folks don&apos;t know the distribution of their row keys (or don&apos;t have uniform row key distributions).  This could be a useful go-between in situations where region pre-splitting with dynamic splitting off may not be effective.  &lt;/p&gt;</comment>
                            <comment id="13176969" author="zhihyu@ebaysf.com" created="Thu, 29 Dec 2011 03:37:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;maybe reached some percentage of region limit&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;How do we calculate region limit ?&lt;/p&gt;</comment>
                            <comment id="13176970" author="zhihyu@ebaysf.com" created="Thu, 29 Dec 2011 03:41:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4365&quot; title=&quot;Add a decent heuristic for region size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4365&quot;&gt;&lt;del&gt;HBASE-4365&lt;/del&gt;&lt;/a&gt; is related to this JIRA.&lt;/p&gt;</comment>
                            <comment id="13177206" author="jmhsieh" created="Thu, 29 Dec 2011 14:39:07 +0000"  >&lt;p&gt;@Ted&lt;br/&gt;
First cut &amp;#8211; simply some configured number of max regions.  Maybe it would stop splitting at a point where it can handle if some number of rs&apos;s going down and its regions are reassigned.&lt;/p&gt;

&lt;p&gt;There could possibly be a limit on tables as well &amp;#8211; and we could put cap on the # of region servers/table and # of regions/region server.  &lt;/p&gt;</comment>
                            <comment id="13177224" author="zhihyu@ebaysf.com" created="Thu, 29 Dec 2011 15:25:32 +0000"  >&lt;p&gt;@Jon:&lt;br/&gt;
I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4365&quot; title=&quot;Add a decent heuristic for region size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4365&quot;&gt;&lt;del&gt;HBASE-4365&lt;/del&gt;&lt;/a&gt; tried to tackle the same problem in a different way.&lt;br/&gt;
Meaning, a new RegionSplitPolicy implementation should be created.&lt;br/&gt;
Shall we continue along that route ?&lt;/p&gt;</comment>
                            <comment id="13177352" author="tlipcon" created="Thu, 29 Dec 2011 19:50:01 +0000"  >&lt;p&gt;Isnt this hbase.regionserver.regionSplitLimit (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2844&quot; title=&quot;Capping the number of regions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2844&quot;&gt;&lt;del&gt;HBASE-2844&lt;/del&gt;&lt;/a&gt;)?&lt;/p&gt;</comment>
                            <comment id="13177377" author="jmhsieh" created="Thu, 29 Dec 2011 20:42:37 +0000"  >&lt;p&gt;This is a dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2844&quot; title=&quot;Capping the number of regions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2844&quot;&gt;&lt;del&gt;HBASE-2844&lt;/del&gt;&lt;/a&gt;, and later discussion lead to something similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2956&quot; title=&quot;Add &amp;quot;Capping of number of regions&amp;quot;, HBASE-2844, per table instead of globally to the regionserver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2956&quot;&gt;&lt;del&gt;HBASE-2956&lt;/del&gt;&lt;/a&gt;.  &lt;/p&gt;</comment>
                            <comment id="13177379" author="jmhsieh" created="Thu, 29 Dec 2011 20:43:00 +0000"  >&lt;p&gt;@Todd&lt;/p&gt;

&lt;p&gt;Looks like it, closing as a dupe.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Dec 2011 02:19:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>222230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hsrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>