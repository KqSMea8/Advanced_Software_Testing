<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7968/HBASE-7968.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7968] Packaging of Trunk and 0.95 does not create the dependent jars in the lib folder</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7968</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;After recent changes to trunk and 0.95 branch when i try to build and package, i do not find the dependent jars in the lib folder.&lt;/p&gt;

&lt;p&gt;Prior to the changes, it was working fine.&lt;br/&gt;
Am not a maven expert.  Will try to see what is going wrong here. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12634746">HBASE-7968</key>
            <summary>Packaging of Trunk and 0.95 does not create the dependent jars in the lib folder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2013 03:20:59 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:49 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 11:31:29 +0000</resolved>
                                    <version>0.98.0</version>
                    <version>0.95.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13590325" author="nkeywal" created="Fri, 1 Mar 2013 08:23:19 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Do you work on this one? I&apos;ve got an issue on integration tests that could be related, so if you found something I&apos;m interested!&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="13590330" author="ram_krish" created="Fri, 1 Mar 2013 08:37:44 +0000"  >&lt;p&gt;@N&lt;br/&gt;
Currently looking at this one.  But not very clear.  Will keep you posted.  You have any findings pls free to post here.&lt;/p&gt;</comment>
                            <comment id="13590373" author="ram_krish" created="Fri, 1 Mar 2013 09:37:19 +0000"  >&lt;p&gt;These are my observations but not found out the root problem&lt;br/&gt;
In case of 0.94 we have the all.xml which takes care of the final packaging. All the dependencies are copied into the lib folder.  Hope this is where it does&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependencySets&amp;gt;
    &amp;lt;dependencySet&amp;gt;
      &amp;lt;outputDirectory&amp;gt;/lib&amp;lt;/outputDirectory&amp;gt;
      &amp;lt;unpack&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/unpack&amp;gt;
      &amp;lt;scope&amp;gt;runtime&amp;lt;/scope&amp;gt;
      &amp;lt;excludes&amp;gt;
        &amp;lt;exclude&amp;gt;org.apache.hbase:hbase&amp;lt;/exclude&amp;gt;
      &amp;lt;/excludes&amp;gt;
      &amp;lt;fileMode&amp;gt;0644&amp;lt;/fileMode&amp;gt;
      &amp;lt;directoryMode&amp;gt;0644&amp;lt;/directoryMode&amp;gt;
    &amp;lt;/dependencySet&amp;gt;
  &amp;lt;/dependencySets&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In trunk/0.95 we have 3 sets of xml files &lt;br/&gt;
components.xml&lt;br/&gt;
hadoop-one-compat.xml&lt;br/&gt;
hadoop-two-compat.xml&lt;/p&gt;

&lt;p&gt;In the trunk pom.xml we tend to call the 2 and 3rd xml for packaging.  But not the first one. &lt;br/&gt;
What am not very clear is the things were working fine till we branched out 0.95 and trunk.  Is there something to do with this?  Not sure. &lt;/p&gt;
</comment>
                            <comment id="13590375" author="ram_krish" created="Fri, 1 Mar 2013 09:38:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7962&quot; title=&quot;Native folder not available under lib folder in the HBase trunk deployment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7962&quot;&gt;&lt;del&gt;HBASE-7962&lt;/del&gt;&lt;/a&gt; which i raised yesterday was even before the branching was done. &lt;/p&gt;</comment>
                            <comment id="13590430" author="nkeywal" created="Fri, 1 Mar 2013 11:15:45 +0000"  >&lt;p&gt;I&apos;m looking just now. I reproduce the issue. First, do you know if there any reason for not having the client, protocol, prefix-tree &amp;amp; cie modules in hadoop-one-compat.xml?&lt;/p&gt;</comment>
                            <comment id="13590441" author="ram_krish" created="Fri, 1 Mar 2013 11:34:36 +0000"  >&lt;p&gt;No N.  I am not sure.  But this has not changed for a long time.&lt;/p&gt;</comment>
                            <comment id="13590445" author="nkeywal" created="Fri, 1 Mar 2013 11:43:12 +0000"  >&lt;p&gt;As well, I have only the test jar in the final lib dir. I&apos;ve got warnings&lt;br/&gt;
&quot;following patterns were never triggered&quot; for all dependency sets in the&lt;br/&gt;
xml file when I build the assembly&lt;br/&gt;
Do you have the same messages?&lt;/p&gt;


&lt;p&gt;On Fri, Mar 1, 2013 at 12:35 PM, ramkrishna.s.vasudevan (JIRA) &amp;lt;&lt;/p&gt;
</comment>
                            <comment id="13590449" author="ram_krish" created="Fri, 1 Mar 2013 12:00:54 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
WARNING] 
[WARNING] Some problems were encountered &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; building the effective model &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hbase:hbase-server:jar:0.95-SNAPSHOT
[WARNING] &apos;version&apos; contains an expression but should be a constant. @ org.apache.hbase:hbase:${version}, /home/ram/HBase/0.95/0.95/pom.xml, line 42, column 12
[WARNING] 
[WARNING] Some problems were encountered &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; building the effective model &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hbase:hbase:pom:0.95-SNAPSHOT
[WARNING] &apos;version&apos; contains an expression but should be a constant. @ org.apache.hbase:hbase:${version}, /home/ram/HBase/0.95/0.95/pom.xml, line 42, column 12
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[WARNING] The following patterns were never triggered in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; artifact inclusion filter:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13590451" author="nkeywal" created="Fri, 1 Mar 2013 12:05:20 +0000"  >&lt;p&gt;The first one is supposed to be harmless. But maybe it is not, I&apos;m gonna try to solve it.&lt;br/&gt;
The second one is the issue imho. It seems the recommended way of doing the distribution is to have a specific module (&lt;a href=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/examples/multimodule/module-binary-inclusion-simple.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/plugins/maven-assembly-plugin/examples/multimodule/module-binary-inclusion-simple.html&lt;/a&gt;). I&apos;ve just tried, I have exactly the same error (The following patterns were never triggered in this artifact inclusion filter.&lt;/p&gt;

</comment>
                            <comment id="13590453" author="nkeywal" created="Fri, 1 Mar 2013 12:10:28 +0000"  >&lt;p&gt;I&apos;ve put 0.97-SNAPSHOT all over the place to remove the warning on version. Not warning anymore. But same problem at the end.&lt;/p&gt;</comment>
                            <comment id="13590460" author="nkeywal" created="Fri, 1 Mar 2013 12:24:06 +0000"  >&lt;p&gt;Ok, I&apos;ve got something working with the specific module for the distribution. Stay tuned, I&apos;m checking.&lt;/p&gt;</comment>
                            <comment id="13590481" author="nkeywal" created="Fri, 1 Mar 2013 12:52:51 +0000"  >&lt;p&gt;At then end, it wasn&apos;t the specific module that did it, but the version (the harmless stuff so &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;). &lt;br/&gt;
I don&apos;t understand why we don&apos;t have more modules in the assembly description, but I did not touch this as I don&apos;t have the whole picture here...&lt;/p&gt;</comment>
                            <comment id="13590506" author="nkeywal" created="Fri, 1 Mar 2013 13:18:25 +0000"  >&lt;p&gt;Doubled checked after a repository cleanup. The patch seems to fix the issue. Waiting feedback from the usual &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; if I need to add includes to the assembly description.&lt;/p&gt;</comment>
                            <comment id="13590606" author="ram_krish" created="Fri, 1 Mar 2013 15:06:12 +0000"  >&lt;p&gt;Adding the version solved the prob&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  Crazy!!!! I was trying  out something else &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13590749" author="stack" created="Fri, 1 Mar 2013 17:37:12 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;

&lt;p&gt;My change, &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7940&quot; title=&quot;Upgrade version to 0.97-SNAPSHOT in pom.xml files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7940&quot;&gt;&lt;del&gt;HBASE-7940&lt;/del&gt;&lt;/a&gt; Upgrade version to 0.97-SNAPSHOT in pom.xml files&apos;, where I try to have version in top-level pom broke this.  Sorry for causing you lads headache.  Thanks for fixing it.&lt;/p&gt;</comment>
                            <comment id="13590773" author="ndimiduk" created="Fri, 1 Mar 2013 17:58:27 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;

&lt;p&gt;I&apos;m no maven expert but my understanding is that the release plugin will manage the versions for you, hence the upstream frown on use of a variable in that context.&lt;/p&gt;

&lt;p&gt;As for why this patch solves this issue, I&apos;ll leave that for a maven maven to explain.&lt;/p&gt;</comment>
                            <comment id="13590774" author="jesse_yates" created="Fri, 1 Mar 2013 17:58:58 +0000"  >&lt;p&gt;+1 looks good to me too.&lt;/p&gt;</comment>
                            <comment id="13590797" author="nkeywal" created="Fri, 1 Mar 2013 18:20:32 +0000"  >&lt;p&gt;Thanks for the review, you confirm I don&apos;t need to put all the modules in the &amp;lt;include&amp;gt; of hadoop-one-compat.xml and hadoop-two-compat.xml?&lt;/p&gt;</comment>
                            <comment id="13590801" author="jesse_yates" created="Fri, 1 Mar 2013 18:29:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt; oh, looks like you are right - thanks for forcing the double check. The relevant comment being:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &amp;lt;!-- This should work with more than 1 source module --&amp;gt;
      &amp;lt;!-- For now, select which projects to include in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; module-set. --&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in hadoop-one/two-compat.xml I guess we just never fixed this when we added more modules in 0.95/96? I&apos;d say just add to the current patch commmit.&lt;/p&gt;</comment>
                            <comment id="13592108" author="ram_krish" created="Mon, 4 Mar 2013 10:45:27 +0000"  >&lt;p&gt;@N&lt;br/&gt;
You going to commit this patch?&lt;/p&gt;</comment>
                            <comment id="13592139" author="nkeywal" created="Mon, 4 Mar 2013 11:33:42 +0000"  >&lt;p&gt;0.95 done, it seems to fail on 0.97. Looking.&lt;/p&gt;</comment>
                            <comment id="13592141" author="nkeywal" created="Mon, 4 Mar 2013 11:40:41 +0000"  >&lt;p&gt;I had an svn error message but the commit was done. &lt;br/&gt;
So we&apos;re done. Sorry for the delay on committing, Ram, I was planning to do it this week end but I was finally not available, and I wanted to check as well that adding all the modules does not break anything for both hadoop 1 and hadoop 2 profiles on 95 and 97 (it seems to be ok... hopefully!).&lt;/p&gt;</comment>
                            <comment id="13592264" author="ram_krish" created="Mon, 4 Mar 2013 15:05:12 +0000"  >&lt;p&gt;Ok N.  Thanks for committing it.&lt;/p&gt;</comment>
                            <comment id="13593113" author="hudson" created="Tue, 5 Mar 2013 06:26:47 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #430 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/430/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7968&quot; title=&quot;Packaging of Trunk and 0.95 does not create the dependent jars in the lib folder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7968&quot;&gt;&lt;del&gt;HBASE-7968&lt;/del&gt;&lt;/a&gt; Packaging of Trunk and 0.95 does not create the dependent jars in the lib folder (Revision 1452261)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
nkeywal : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop1-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-hadoop2-compat/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-prefix-tree/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-protocol/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/assembly/hadoop-one-compat.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/assembly/hadoop-two-compat.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775137" author="stack" created="Mon, 23 Sep 2013 18:30:49 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571573" name="7968.v1.patch" size="4440" author="nkeywal" created="Fri, 1 Mar 2013 12:49:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Mar 2013 08:23:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iecf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>