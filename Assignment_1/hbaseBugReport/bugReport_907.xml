<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:48:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-907/HBASE-907.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-907] getScanner hangs with some startRows that are found if scanning entire table</title>
                <link>https://issues.apache.org/jira/browse/HBASE-907</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have a table with 8 byte binary row keys.  There are a a few hundred thousands rows, each with two families and between 1k and 50k of total data across about 15 columns.&lt;/p&gt;

&lt;p&gt;When attempting to get a scanner using a specified startRow, my client freezes on the HT.getScanner(cols,row) with no exception ever thrown and no debug output in any server logs.&lt;/p&gt;

&lt;p&gt;If I get a scanner with HT.getScanner(cols) and then iterate through, I will eventually reach the row I was seeking before successfully.&lt;/p&gt;

&lt;p&gt;Some rows can be found, some cannot.  At this point I&apos;m not able to distinguish anything special about the ones that cause the client the hang.&lt;/p&gt;

&lt;p&gt;At first I thought this was only a problem with 0.19 trunk as a downgrade to 0.18 resolved the issue for a particular key.  However other keys still have this issue on 0.18 branch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405339">HBASE-907</key>
            <summary>getScanner hangs with some startRows that are found if scanning entire table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="streamy">Jonathan Gray</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Sep 2008 03:09:04 +0000</created>
                <updated>Thu, 2 Feb 2012 15:20:04 +0000</updated>
                            <resolved>Tue, 14 Oct 2008 16:48:49 +0000</resolved>
                                    <version>0.18.0</version>
                    <version>0.18.1</version>
                    <version>0.19.0</version>
                                    <fixVersion>0.18.1</fixVersion>
                    <fixVersion>0.19.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12635276" author="streamy" created="Mon, 29 Sep 2008 03:12:57 +0000"  >&lt;p&gt;Just received an exception in my client, I don&apos;t think this ever happened when I was running 0.19 but maybe I didn&apos;t leave it long enough.  This took &amp;gt;10 minutes&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
        at java.lang.String.&amp;lt;init&amp;gt;(String.java:523)&lt;br/&gt;
        at org.apache.hadoop.hbase.util.Bytes.toString(Bytes.java:75)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RetriesExhaustedException.getMessage(RetriesExhaustedException.java:50)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.RetriesExhaustedException.&amp;lt;init&amp;gt;(RetriesExhaustedException.java:40)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.getRegionServerWithRetries(HConnectionManager.java:863)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable$ClientScanner.nextScanner(HTable.java:1163)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable$ClientScanner.initialize(HTable.java:1108)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.getScanner(HTable.java:733)&lt;br/&gt;
        at org.apache.hadoop.hbase.client.HTable.getScanner(HTable.java:575)&lt;br/&gt;
        at ItemTest.getItemSource(ItemTest.java:37)&lt;br/&gt;
        at ItemTest.main(ItemTest.java:13)&lt;/p&gt;</comment>
                            <comment id="12635277" author="streamy" created="Mon, 29 Sep 2008 03:16:48 +0000"  >&lt;p&gt;Restarting hbase fixes the issue.&lt;/p&gt;

&lt;p&gt;Could this be related to the old binary key issues?&lt;/p&gt;

&lt;p&gt;The inserts are being done differently than the ones I used in testing the other issues with splitting and binary keys.  These were done via MapReduce, but actually inserted using the API and not TableReduce.&lt;/p&gt;</comment>
                            <comment id="12635472" author="stack" created="Mon, 29 Sep 2008 18:27:24 +0000"  >&lt;p&gt;Our retry mechanism is masking real issue by throwing NPE on last retry.  Need to fix that.  That said, anything earlier in the log Jon?  Dumb exception should at least say what the problematic row was so could try it in client.&lt;/p&gt;</comment>
                            <comment id="12636128" author="streamy" created="Wed, 1 Oct 2008 19:11:45 +0000"  >&lt;p&gt;No longer able to recreate issue.&lt;/p&gt;

&lt;p&gt;Things have changed in the client code that triggered this.  Still unsure whether there was a bug in the client (not really sure how it would make rows visible with one method and not the other) or I have not gotten the table as big as it was when I experienced this.&lt;/p&gt;

&lt;p&gt;Would like to wait another week or two before closing this issue.  Definitely not a blocker at this point though.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12540938">HBASE-5322</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Sep 2008 18:27:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ha6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>