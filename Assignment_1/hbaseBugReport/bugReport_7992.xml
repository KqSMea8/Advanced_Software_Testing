<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:51:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7992/HBASE-7992.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7992] provide pre/post region offline hooks for HMaster.offlineRegion()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7992</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;presently no hooks to provide access control to offline region in master.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635181">HBASE-7992</key>
            <summary>provide pre/post region offline hooks for HMaster.offlineRegion()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh23">rajeshbabu</assignee>
                                    <reporter username="rajesh23">rajeshbabu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2013 19:06:00 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:27 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 15:23:57 +0000</resolved>
                                    <version>0.95.0</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="13592525" author="rajesh23" created="Mon, 4 Mar 2013 19:18:09 +0000"  >&lt;p&gt;I will provide patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7992&quot; title=&quot;provide pre/post region offline hooks for HMaster.offlineRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7992&quot;&gt;&lt;del&gt;HBASE-7992&lt;/del&gt;&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7993&quot; title=&quot;add access control to HMaster offline region.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7993&quot;&gt;&lt;del&gt;HBASE-7993&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13597887" author="rajesh23" created="Sat, 9 Mar 2013 09:17:23 +0000"  >&lt;p&gt;Patch for trunk. Including both &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7992&quot; title=&quot;provide pre/post region offline hooks for HMaster.offlineRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7992&quot;&gt;&lt;del&gt;HBASE-7992&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7993&quot; title=&quot;add access control to HMaster offline region.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7993&quot;&gt;&lt;del&gt;HBASE-7993&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13597892" author="hadoopqa" created="Sat, 9 Mar 2013 10:19:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572907/HBASE-7992_trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572907/HBASE-7992_trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitLogWorker&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4741//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13598582" author="anoopsamjohn" created="Mon, 11 Mar 2013 06:55:59 +0000"  >&lt;p&gt;Reviewing this.&lt;br/&gt;
You can avoid postRegionOffline from AccessController. AccessController extending BaseRegionObserver&lt;br/&gt;
Let me review more.&lt;/p&gt;</comment>
                            <comment id="13599592" author="rajesh23" created="Tue, 12 Mar 2013 01:58:05 +0000"  >&lt;p&gt;@Anoop,&lt;br/&gt;
Thanks for review. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;You can avoid postRegionOffline from AccessController. AccessController extending BaseRegionObserver&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;BaseRegionObserver only implementing RegionObserver interface. postRegionOffline in MasterObserver so we need to implement it in AccessController.&lt;/p&gt;</comment>
                            <comment id="13599668" author="anoop.hbase" created="Tue, 12 Mar 2013 03:47:32 +0000"  >&lt;p&gt;Oh you are correct.. Sorry.. We dont have Base MasterObserver. &lt;br/&gt;
Patch looks good. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; Can you review once?&lt;br/&gt;
BTW&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
   * Special method, only used by hbck.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void offline(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] regionName)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Are we clearly mentioning about this API some where? When to use this.&lt;/p&gt;</comment>
                            <comment id="13599869" author="ram_krish" created="Tue, 12 Mar 2013 09:51:26 +0000"  >&lt;p&gt;Rajesh, &lt;br/&gt;
Any specific use case for this? If this method is used only in hbck then should we configure some CPs while executing hbck so that this hook is called?  &lt;/p&gt;</comment>
                            <comment id="13599936" author="rajesh23" created="Tue, 12 Mar 2013 11:33:47 +0000"  >&lt;p&gt;@Anoop,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Are we clearly mentioning about this API some where? When to use this.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I didnt see any where. For this raised an IA(&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8076&quot; title=&quot;add better doc for HBaseAdmin#offline API.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8076&quot;&gt;&lt;del&gt;HBASE-8076&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
@Ram,&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Any specific use case for this? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No specific use case but as HMaster#offlineRegion is exposed to client,unathenticated user can use this HBaseAdmin#offline API and mark regions as offline even if we enable security. It will be more dangerous.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;If this method is used only in hbck then should we configure some CPs while executing hbck so that this hook is called?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;its presently used in hbck. IMHO it can be used in client but need to use carefully.&lt;/p&gt;

&lt;p&gt;Please correct me if wrong.&lt;/p&gt;</comment>
                            <comment id="13600513" author="apurtell" created="Tue, 12 Mar 2013 21:40:55 +0000"  >&lt;p&gt;The patch looks ok. The one concern I have is regarding here:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java	(revision 1454661)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java	(working copy)
@@ -2263,17 +2263,25 @@
       LOG.warn(&quot;moveRegion specifier type: expected: &quot; + RegionSpecifierType.REGION_NAME
         + &quot; actual: &quot; + type);
     }
-
+    OfflineRegionResponse orr = OfflineRegionResponse.newBuilder().build();
     try {
       Pair&amp;lt;HRegionInfo, ServerName&amp;gt; pair =
         MetaReader.getRegion(this.catalogTracker, regionName);
       if (pair == null) throw new UnknownRegionException(Bytes.toStringBinary(regionName));
       HRegionInfo hri = pair.getFirst();
+      if (cpHost != null) {
+        if (cpHost.preRegionOffline(hri)) {
+          return orr;
+        }
+      }
       this.assignmentManager.regionOffline(hri);
+      if (cpHost != null) {
+        cpHost.postRegionOffline(hri);
+      }
     } catch (IOException ioe) {
       throw new ServiceException(ioe);
     }
-    return OfflineRegionResponse.newBuilder().build();
+    return orr;
   }
 
   @Override
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So if a coprocessor calls bypass() then the OfflineRegionResponse response is returned even though the action is not taken. Should the CP be able to modify the response? Should there be a flag in the response that says the action was not taken? (Understood that in the access denied case an ADE will be thrown.)&lt;/p&gt;</comment>
                            <comment id="13600780" author="anoopsamjohn" created="Wed, 13 Mar 2013 03:49:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
When I saw the patch this doubt came to my mind too. I checked with other CP pre hooks like preMove(). Here also the CP can bypass the flow but reply wise there is no change. Ideally the reply should have a result flag and CP should be able to change this (as you said). CP can do some necessary action and bypass the core logic, still the operation may be treated as success only. What do you say Andrew? May be we can handle that in another JIRA as that will be of wider scope.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; Rajesh&apos;s reasoning above make sense IMO. We can better document this API as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8076&quot; title=&quot;add better doc for HBaseAdmin#offline API.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8076&quot;&gt;&lt;del&gt;HBASE-8076&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I am +1 for this patch.&lt;/p&gt;</comment>
                            <comment id="13600992" author="rajesh23" created="Wed, 13 Mar 2013 09:49:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;br/&gt;
Thanks for review.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Should the CP be able to modify the response? Should there be a flag in the response that says the action was not taken? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It may be big change, As Anoop suggested raised another JIRA(&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8087&quot; title=&quot;Add result information in ProtoBuf response object for master/rs ops&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8087&quot;&gt;&lt;del&gt;HBASE-8087&lt;/del&gt;&lt;/a&gt;) to solve this and I will work on that.&lt;/p&gt;</comment>
                            <comment id="13601236" author="apurtell" created="Wed, 13 Mar 2013 15:30:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;What do you say Andrew? May be we can handle that in another JIRA as that will be of wider scope.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, this instance should be dealt with in the context of this review. I am -1 only because these are new hooks with an issue called out in review. Don&apos;t push it off, address it here before the new changes go in. &lt;/p&gt;
</comment>
                            <comment id="13601240" author="apurtell" created="Wed, 13 Mar 2013 15:33:28 +0000"  >&lt;p&gt;I suggest one of the following approaches:&lt;/p&gt;

&lt;p&gt;1. Update the javadoc to indicate that bypass() will not work here. Remove the logic that does the bypass at the hook site to insure bypass is not possible. &lt;/p&gt;

&lt;p&gt;2. Modify the hook and the OfflineRegionResponse response so we can communicate back to the caller that the offlining was ignored.&lt;/p&gt;

&lt;p&gt;Probably option 1 is easiest. &lt;/p&gt;

&lt;p&gt;Either one of these is fine, I&apos;ll remove my veto.&lt;/p&gt;</comment>
                            <comment id="13602002" author="anoopsamjohn" created="Thu, 14 Mar 2013 03:20:33 +0000"  >&lt;p&gt;Got your point Andrew. Yes We can go with Option 1 for the scope of this issue. Thanks&lt;/p&gt;</comment>
                            <comment id="13603322" author="rajesh23" created="Fri, 15 Mar 2013 12:01:30 +0000"  >&lt;p&gt;Latest patch addressing Andrew&apos;s comments. &lt;/p&gt;

&lt;p&gt;followed first approach suggested:&lt;br/&gt;
1. Update the javadoc to indicate that bypass() will not work here. Remove the logic that does the bypass at the hook site to insure bypass is not possible. &lt;/p&gt;

&lt;p&gt;Please review. &lt;/p&gt;</comment>
                            <comment id="13603351" author="hadoopqa" created="Fri, 15 Mar 2013 13:10:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573869/HBASE-7992_trunk_2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573869/HBASE-7992_trunk_2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4836//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13603524" author="apurtell" created="Fri, 15 Mar 2013 17:03:52 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13604197" author="anoopsamjohn" created="Sat, 16 Mar 2013 10:18:20 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Any concerns from your side Ram? &lt;/p&gt;</comment>
                            <comment id="13605204" author="ram_krish" created="Mon, 18 Mar 2013 15:20:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13605338" author="yuzhihong@gmail.com" created="Mon, 18 Mar 2013 16:42:16 +0000"  >&lt;p&gt;Patch v3 fixes indentation and one syntax error.&lt;/p&gt;</comment>
                            <comment id="13605342" author="yuzhihong@gmail.com" created="Mon, 18 Mar 2013 16:44:58 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Rajesh.&lt;/p&gt;

&lt;p&gt;Thanks for the reviews, Andy, Ram and Anoop.&lt;/p&gt;</comment>
                            <comment id="13605347" author="anoopsamjohn" created="Mon, 18 Mar 2013 16:51:21 +0000"  >&lt;p&gt;Thanks Ted for integrating this. I was abt to commit this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
Do we need this in 0.95?&lt;/p&gt;</comment>
                            <comment id="13605349" author="hadoopqa" created="Mon, 18 Mar 2013 16:52:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12574167/7992_trunk_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12574167/7992_trunk_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4866//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4866//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13605590" author="hudson" created="Mon, 18 Mar 2013 20:30:28 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3969 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3969/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3969/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7992&quot; title=&quot;provide pre/post region offline hooks for HMaster.offlineRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7992&quot;&gt;&lt;del&gt;HBASE-7992&lt;/del&gt;&lt;/a&gt; provide pre/post region offline hooks for HMaster.offlineRegion() (Rajeshbabu) (Revision 1457854)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13606046" author="hudson" created="Tue, 19 Mar 2013 04:24:41 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #453 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/453/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/453/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7992&quot; title=&quot;provide pre/post region offline hooks for HMaster.offlineRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7992&quot;&gt;&lt;del&gt;HBASE-7992&lt;/del&gt;&lt;/a&gt; provide pre/post region offline hooks for HMaster.offlineRegion() (Rajeshbabu) (Revision 1457854)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13606400" author="anoopsamjohn" created="Tue, 19 Mar 2013 15:23:57 +0000"  >&lt;p&gt;Integrated to 0.95 also&lt;/p&gt;</comment>
                            <comment id="13606559" author="hudson" created="Tue, 19 Mar 2013 17:31:39 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #86 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/86/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/86/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7992&quot; title=&quot;provide pre/post region offline hooks for HMaster.offlineRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7992&quot;&gt;&lt;del&gt;HBASE-7992&lt;/del&gt;&lt;/a&gt; provide pre/post region offline hooks for HMaster.offlineRegion() (Rajeshbabu) (Revision 1458329)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
anoopsamjohn : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13607226" author="hudson" created="Wed, 20 Mar 2013 03:38:17 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #34 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/34/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/34/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7992&quot; title=&quot;provide pre/post region offline hooks for HMaster.offlineRegion()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7992&quot;&gt;&lt;del&gt;HBASE-7992&lt;/del&gt;&lt;/a&gt; provide pre/post region offline hooks for HMaster.offlineRegion() (Rajeshbabu) (Revision 1458329)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
anoopsamjohn : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775416" author="stack" created="Mon, 23 Sep 2013 18:31:27 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12635182">HBASE-7993</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12574167" name="7992_trunk_3.patch" size="9578" author="yuzhihong@gmail.com" created="Mon, 18 Mar 2013 16:41:45 +0000"/>
                            <attachment id="12572907" name="HBASE-7992_trunk.patch" size="9638" author="rajesh23" created="Sat, 9 Mar 2013 09:17:23 +0000"/>
                            <attachment id="12573869" name="HBASE-7992_trunk_2.patch" size="9577" author="rajesh23" created="Fri, 15 Mar 2013 12:01:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Mar 2013 10:19:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ih0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>