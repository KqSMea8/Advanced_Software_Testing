<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:43:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7161/HBASE-7161.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7161] Table does not come out of &apos;enabling&apos; state</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7161</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I was running a test, and the test failed because a table didn&apos;t get &apos;enabled&apos; in the timeframe the test expected. When I checked the state of the table on ZK, it showed the state as &apos;enabling&apos;. &lt;/p&gt;

&lt;p&gt;When I dug up the master logs, found that the BulkAssigner.bulkAssign returned false (the first line in the logs below), and the table never became &apos;enabled&apos;. There was one region which could not be opened in the time bulkAssign ran (and that got &apos;opened&apos; after the bulkAssign method returned). Also the table could not be enabled later on (from the hbase shell, for example), since the state of the table on ZK was &apos;enabling&apos; (as opposed to &apos;disabled&apos; and the table-state checks would fail).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-11-13 06:41:27,257 INFO org.apache.hadoop.hbase.master.handler.EnableTableHandler: Enabled table is done=false 
2012-11-13 06:41:49,569 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Handling transition=RS_ZK_REGION_OPENING, server=hrt20n32.foo.net,60020,1352782575357, region=0c0f9c71a81112f07c8f0ea130a65d05
2012-11-13 06:41:49,579 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Handling transition=RS_ZK_REGION_OPENING, server=hrt20n32.foo.net,60020,1352782575357, region=0c0f9c71a81112f07c8f0ea130a65d05
2012-11-13 06:41:49,586 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Handling transition=RS_ZK_REGION_OPENED, server=hrt20n32.foo.net,60020,1352782575357, region=0c0f9c71a81112f07c8f0ea130a65d05
2012-11-13 06:41:49,586 DEBUG org.apache.hadoop.hbase.master.handler.OpenedRegionHandler: Handling OPENED event for loadtest_d1,44444444,1352788441221.0c0f9c71a81112f07c8f0ea130a65d05. from hrt20n32.foo.net,60020,1352782575357; deleting unassigned node
2012-11-13 06:41:49,586 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign: master:60000-0x13af81eec6f0004 Deleting existing unassigned node for 0c0f9c71a81112f07c8f0ea130a65d05 that is in expected state RS_ZK_REGION_OPENED
2012-11-13 06:41:49,589 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: The znode of region loadtest_d1,44444444,1352788441221.0c0f9c71a81112f07c8f0ea130a65d05. has been deleted.
2012-11-13 06:41:49,589 INFO org.apache.hadoop.hbase.master.AssignmentManager: The master has opened the region loadtest_d1,44444444,1352788441221.0c0f9c71a81112f07c8f0ea130a65d05. that was online on hrt20n32.foo.net,60020,1352782575357
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The client (that invoked HBA.enableTable) gave up eventually (enableTable invokes isTableEnabled in a loop and in this case it was always returning false).&lt;/p&gt;

&lt;p&gt;The handling on the master side for regions that take longer to get &apos;opened&apos; can be improved.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12616134">HBASE-7161</key>
            <summary>Table does not come out of &apos;enabling&apos; state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="devaraj">Devaraj Das</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Nov 2012 22:20:59 +0000</created>
                <updated>Wed, 14 Nov 2012 22:20:59 +0000</updated>
                                            <version>0.94.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kkm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>