<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:57:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8663/HBASE-8663.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8663] a HBase Shell command to list the tables replicated from current cluster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8663</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Thanks for the discussion and very good suggestions,I&apos;d reduce the scope of this jira to only display the tables replicated from current cluster. Since currently no good(accurate and consistent) way to flag a table on slave cluster, this jira will not cover such scenario. Instead, the patch will be flexible enough to adapt such scenario and a follow up JIRA will be opened to address such situation. &lt;/p&gt;

&lt;p&gt;The shell command and output will be like. Since all replication is &apos;global&apos;, so no need to display the cluster name here. In the future, the command will be extended for other scenarios, such as 1) replicated only to selected peers or 2) indicate table:colfam on slave side&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;hbase shell command:list_replicated_tables&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; list_replicated_tables
TABLE:COLUMNFAMILY                           ReplicationType                                                                           
 t1_dn:cf1                                   GLOBAL                                                                                    
 t2_dn:cf2                                   GLOBAL                                                                                    
 usertable:family                            GLOBAL                                                                                    
3 row(s) in 0.4110 seconds

hbase(main):003:0&amp;gt; list_replicated_tables &lt;span class=&quot;code-quote&quot;&gt;&quot;dn&quot;&lt;/span&gt;
TABLE:COLUMNFAMILY                           ReplicationType                                                                           
 t1_dn:cf1                                   GLOBAL                                                                                    
 t2_dn:cf2                                   GLOBAL                                                                                    
2 row(s) in 0.0280 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 









&lt;p&gt;-------------- The original JIRA description, keep as the history of discussion  ---------------&lt;br/&gt;
This jira is to provide a hbase shell command which can give user can overview of the tables/columnfamilies currently being replicated. The information will help system administrator for design and planning, and also help application programmer to know which tables/columns should be watchout(for example, not to modify a replicated columnfamily on the slave cluster)&lt;/p&gt;


&lt;p&gt;Currently there is no easy way to tell which table(s)/columnfamily(ies) &lt;br/&gt;
replicated from or to a particular cluster. &lt;/p&gt;

&lt;p&gt;On Master Cluster, an indirect method can be used by combining two steps: 1) $describe &apos;usertable&apos;  and 2)  $list_peers to map the REPLICATION_SCOPE to target(aka slave) cluster   &lt;/p&gt;

&lt;p&gt;On slave cluster, this is no existing API/methods to list all the tables replicated to this cluster.    &lt;/p&gt;


&lt;p&gt;Here is an example, and prototype for Master cluster&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;hbase shell command:list_replicated_tables&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; list_replicated_tables
 TABLE      COLUMNFAMILY       TARGET_CLUSTER
 scores      course            hdtest017.svl.ibm.com:2181:/hbase
 t3_dn       cf1               hdtest017.svl.ibm.com:2181:/hbase
 usertable   family            hdtest017.svl.ibm.com:2181:/hbase
3 row(s) in 0.3380 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;-------------- end of original description &lt;/p&gt;</description>
                <environment>&lt;p&gt;clusters setup as Master and Slave for replication of tables &lt;/p&gt;</environment>
        <key id="12650236">HBASE-8663</key>
            <summary>a HBase Shell command to list the tables replicated from current cluster</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nidmhbase">Demai Ni</assignee>
                                    <reporter username="nidmhbase">Demai Ni</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 May 2013 22:40:01 +0000</created>
                <updated>Wed, 21 Aug 2013 00:08:45 +0000</updated>
                            <resolved>Tue, 13 Aug 2013 03:55:25 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                    <fixVersion>0.94.11</fixVersion>
                                    <component>Replication</component>
                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13671108" author="anoop.hbase" created="Fri, 31 May 2013 03:35:27 +0000"  >&lt;p&gt;DO u have a patch? Mind creating one for the Trunk and attaching?&lt;/p&gt;</comment>
                            <comment id="13671118" author="nidmhbase" created="Fri, 31 May 2013 03:54:49 +0000"  >&lt;p&gt;sure thing. I have a prototype right now. Probably can get the &apos;master&apos; side right earlier next week. Still need some suggestion for the &apos;slave&apos; side, that is how to know a table at the &apos;slave&apos; cluster is replicated from another cluster. &lt;/p&gt;

&lt;p&gt;Is there a way to assign this jira to myself? Thanks   &lt;/p&gt;</comment>
                            <comment id="13671144" author="anoop.hbase" created="Fri, 31 May 2013 04:28:36 +0000"  >&lt;p&gt;U have been not added to the contributors list yet. Can add you later and assign.  You can work on the patch and attach.(Generally adding to the contributors list can happen after uploading atleast one patch)&lt;/p&gt;

&lt;p&gt;Slave side, a table is created in slave cluster by the admin in accordance with the table schema in the Master side(which all cfs to be replicated). Can this table be marked as for replication at the creation time itself and later while listing this marking can be used? See HTableDescriptor#setValue().  Just an initial thought.. Not analyzed detail..&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13671671" author="nidmhbase" created="Fri, 31 May 2013 17:27:31 +0000"  >&lt;p&gt;Anoop, thanks. As you can tell, I am very new here and glad to be part of the community. I will upload the patch for the master next week, which should be straightforward. On the slave side, let me explore your idea first, appreciate the suggestion. &lt;/p&gt;

&lt;p&gt;What motivated me is the &apos;requirement&apos; of realonly for the tables replicated on slave. It is kind of hard for an administrator to keep track(except for a note on his/her desk), and not accessable to an applicaton programmer(who can mess up the replicated tables with some simple puts). the problem  may show up in a troublesome way for large enterprise level users, who have many application developers in different locations/timezones, and only can access to the slave clusters. With this thought, I am thinking toward the solution for such scenario. And the API/command to show the replicated tables will be the first step. &lt;/p&gt;
</comment>
                            <comment id="13678145" author="nidmhbase" created="Fri, 7 Jun 2013 16:50:11 +0000"  >&lt;p&gt;This patch is for Master cluster. so the command(list_replicated_tables) will show the tables replicated from this cluster,.&lt;br/&gt;
since I only have access to 94.3 clusters, patch is built and test on this version. I checked the code logic of newer versions, should be no conflict. &lt;/p&gt;</comment>
                            <comment id="13678154" author="nidmhbase" created="Fri, 7 Jun 2013 16:59:36 +0000"  >&lt;p&gt;Anoop, can you please take a look at the patch and let me know what&apos;s your take? At the same time, I am exploring the idea from you(setValue). &lt;/p&gt;

&lt;p&gt;Two questions need your help:&lt;br/&gt;
 1) should we use HColumnDescriptor#setValue() instead of the one from HTableDescriptor since the replication is at columnfamily level?; &lt;br/&gt;
 2) setValue() at slave will rely on the user&apos;s action at this moment, I think it ok for now, and a later jira can push the ddl from master to slave so that this value will be set automatically. Your takes? Thanks &lt;/p&gt;</comment>
                            <comment id="13679194" author="nidmhbase" created="Sun, 9 Jun 2013 22:07:05 +0000"  >&lt;p&gt;the 2nd draft of the patch. This patch is built and tested against 94.8 release. And also add the slave side support, by using a setValue(REPLICATION_MASTER, masterCluster) at HColumnDescriptor level to indicate its master cluster. &lt;br/&gt;
The setValue is currently triggered by user(alter table command). If user chooses not to set it, the value will be empty string. Later on, another patch can be used to enforce this policy by set during replication setup phase. &lt;/p&gt;</comment>
                            <comment id="13721853" author="stack" created="Sun, 28 Jul 2013 04:33:10 +0000"  >&lt;p&gt;Any of you replication experts up for a review here?  This looks like could be of use to operators.  Marking critical to bring it to fellas notice.&lt;/p&gt;</comment>
                            <comment id="13722068" author="nidmhbase" created="Sun, 28 Jul 2013 22:16:28 +0000"  >&lt;p&gt;Upload a patch for trunk for a hadoopQA run. there are one more improvement to be consider :  check the value before setReplicationMaster(). Idea is to use the input string, which is supposed to be ZK Quorum to connect the Master cluster, then list_peers from Master, finally check whether the peers contact the slave cluster. Kindly of straightforward if do it from client, I haven&apos;t figured out how to do it through HColumnDescripter.java yet. &lt;/p&gt;</comment>
                            <comment id="13722159" author="hadoopqa" created="Mon, 29 Jul 2013 05:17:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12594612/HBASE-8663-trunk-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12594612/HBASE-8663-trunk-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6505//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13723178" author="nidmhbase" created="Tue, 30 Jul 2013 00:10:21 +0000"  >&lt;p&gt;Stack and Anoop, thanks a lot for the help. I will look at the warnings. &lt;/p&gt;

&lt;p&gt;A question about checking &apos;Master cluster name&apos;. In current patch, HColumnDescriptor#setReplicationMaster(replicationMaster) will just take a string as input and set the value, but doesn&apos;t validate it. I&apos;d like to do some checking and improve the method like the following pseudocode &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HColumnDescriptor setReplicationMaster(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; masterCluster) {
    
    &lt;span class=&quot;code-comment&quot;&gt;// connect to Master cluster and get its replication peers
&lt;/span&gt;    Configuration conf =  HBaseConfiguration.create();
    conf.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.zookeeper.quorum&quot;&lt;/span&gt;,masterCluster);
    conf.set(&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.replication&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);
    ReplicationAdmin ra = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ReplicationAdmin(conf);
    Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; peers = ra.listPeers();

    &lt;span class=&quot;code-comment&quot;&gt;// check slave cluster against the peers of Master    
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; found = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; 
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; entry : peers.entrySet()) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (entry.getValue().toLowerCase().contains(slave_cluster_ZK_Quorum.toLowerCase()) {
             found = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;; 
             &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;; 
          }
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!found) &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; exception; &lt;span class=&quot;code-comment&quot;&gt;// not a valid master cluster name
&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; setValue(REPLICATION_MASTER, masterCluster);
  }
} 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;However, two things I don&apos;t know how to code 1) it is odd to write a client connection code from HColumnDescriptor(maybe ok?) 2) how to get the zookeeper quorum inside HColumnDescriptor? Can I ask for your suggestions? many thanks&lt;/p&gt;

&lt;p&gt;Demai &lt;/p&gt;</comment>
                            <comment id="13723341" author="ctrezzo" created="Tue, 30 Jul 2013 03:26:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nidmhbase&quot; class=&quot;user-hover&quot; rel=&quot;nidmhbase&quot;&gt;Demai Ni&lt;/a&gt; One suggestion: I would either add the logic to keep the replicationMaster attribute consistent with the actual replication topology, or reduce the scope of this patch to only listing the slave clusters a column family is being replicated to. I think adding the attribute without the logic to keep it consistent might cause confusion. Either way I think this patch is a nice operational win.&lt;/p&gt;

&lt;p&gt;Another slightly related question: What happens if there are multiple masters replicating a column family to the same slave? I don&apos;t think we prevent this in any way. It sure would be an interesting setup.&lt;/p&gt;</comment>
                            <comment id="13723370" author="ctrezzo" created="Tue, 30 Jul 2013 04:05:23 +0000"  >&lt;p&gt;Should have read the JIRA more closely... I see now that this is not the final patch.&lt;/p&gt;

&lt;p&gt;For the slave-&amp;gt;master side of things: currently, the slave cluster does not have a consistent view of the clusters it is receiving edits from. A master cluster could synchronously update its peer clusters when adding/deleting a peer and when setting the replication scope on a column family. The slave clusters would have to store this state somewhere. That would mean that any time you do one of those operations there would be a synchronous call to the remote peer cluster. You are essentially maintaining a consistent view of a cluster&apos;s upstream/downstream neighbors in the replication topology.&lt;/p&gt;

&lt;p&gt;Will think about this some more. It seems tricky though.&lt;/p&gt;</comment>
                            <comment id="13724057" author="nidmhbase" created="Tue, 30 Jul 2013 17:01:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctrezzo&quot; class=&quot;user-hover&quot; rel=&quot;ctrezzo&quot;&gt;Chris Trezzo&lt;/a&gt;  thanks for the suggestions. Although the replicationMaster attribute is very useful, you are right that it is quite tricky on both of the points: 1) multiple Masters 2) and synchronous call across clusters. &lt;br/&gt;
the first one, can be addressed by change the attribute as an array(and I have another idea about leveraging the existing replication_scope...)&lt;br/&gt;
the 2nd one is harder.  As of today, even the replication setup is done manually instead of synchronous call without validation. For example 1) the add_peer command won&apos;t check whether peer ZK quorum value, 2) that Users has to manually create the table(with same schema) on the slaver cluster. Considering many replication values are setup manually and not validated, maybe we are not ready for a synchronous call(for DDL operations) across clusters. Instead, a healthy check tool is more realistic? &lt;/p&gt;

&lt;p&gt;With that, I am considering your suggestion to reduce the scope of this jira to list the tables replicated from current cluster, for now only use &apos;global&apos; for target-cluster, but can be easily extended when we support none-global replication. The command will be look like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; list_replicated_tables
 TABLE      COLUMNFAMILY       TARGET_CLUSTER
 scores      course            MASTER: global
 t3_dn       cf1               MASTER: global
 usertable   family            MASTER: global
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13724140" author="nidmhbase" created="Tue, 30 Jul 2013 17:37:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctrezzo&quot; class=&quot;user-hover&quot; rel=&quot;ctrezzo&quot;&gt;Chris Trezzo&lt;/a&gt;  about your first point on multiple masters. I am thinking about two approaches, both involve leveraging existing replication_scope(and prerequisites &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8771&quot; title=&quot;ensure replication_scope&amp;#39;s value is either local(0) or global(1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8771&quot;&gt;HBASE-8771&lt;/a&gt; , which will ensure only 0 and 1 be used as replication_scope) &lt;br/&gt;
A simple approach is: set replication scope to -1 if the table/columnfam is on slave-side. In that case the shell command can be used as below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; list_replicated_tables
 TABLE      COLUMNFAMILY       CLUSTER
 scores      course            MASTER: global
 t3_dn       cf1               MASTER: global
 usertable   family            MASTER: global
 t1_dn       cf1               SLAVE
 t2_dn       cf2               SLAVE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;A complex/tricky approach is to change the replication_scope dramatically, and or just invent a new attribute &apos;replication_peers&apos;, an array of ID. We can use positive ID for target-cluster, and negative ID for source-cluster, for example &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):004:0&amp;gt; list_peers
 PEER_ID CLUSTER_KEY STATE
 1 Slave_A.hbase.com:2181:/hbase ENABLED
 2 Slave_B.hbase.com:2181:/hbase ENABLED
 3 Slave_Master_C.hbase.com:2181:/hbase ENABLED
-1 Master_A.hbase.com:2181:/hbase ENABLED
-2 Master_B.hbase.com:2181:/hbase ENABLED
-3 Slave_Master_C.hbase.com:2181:/hbase ENABLED
&amp;gt;describe table
&apos;t1_dn&apos;, {NAME =&amp;gt; &apos;cf1&apos;, REPLICATION_PEERS =&amp;gt; &apos;1,2,3&apos;, ..}
&apos;t2_dn&apos;, {NAME =&amp;gt; &apos;cf1&apos;, REPLICATION_PEERS =&amp;gt; &apos;-1,-2&apos;,..}
&apos;t3_dn&apos;, {NAME =&amp;gt; &apos;cf1&apos;, REPLICATION_PEERS =&amp;gt; &apos;3,-3&apos;,..}

t1_dn#cf1 is replicated from &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; cluster, and its slave clusters are Slave_A,Slave_B and Slave_Master_C
t2_dn#cf1 is replicated to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; cluster, and its master clusters are Master_A and Master_B
t3_dn#cf1 is setup as Master_Slave replication, with Slave_Master_C.hbase.com(&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; don&apos;t have to be the same cluster) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;   </comment>
                            <comment id="13724453" author="jdcryans" created="Tue, 30 Jul 2013 21:28:26 +0000"  >&lt;p&gt;Right now this jira seems pretty far from just adding a command in the shell to list how tables are replicated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The original intent for the scope was being able to encode routing rules. One implementation I had in mind was to have a kind of replication central controller that resides outside of all the clusters. You could have a lookup table there for all the possible routings.&lt;/p&gt;

&lt;p&gt;Ideally you wouldn&apos;t have to maintain &quot;tables * families&quot; number of lists of peers to replicate to, since if you want to remove one peer now you have to update everything. I do understand that the current way you enable replication on families works like this.&lt;/p&gt;

&lt;p&gt;Also. regarding list_replicated_tables&apos;s output, I think it would be better to group by CLUSTER, else on clusters with hundreds of tables you&apos;d have a pretty huge list.&lt;/p&gt;</comment>
                            <comment id="13727172" author="nidmhbase" created="Fri, 2 Aug 2013 00:47:58 +0000"  >&lt;p&gt;attached trunk_v1 patch for review and HadoopQA. the patch is built for the reduced-scope and only display the replicated tables on master cluster. the java and ruby interface are changed so that future jira can be extended to carry more scenarios&lt;/p&gt;</comment>
                            <comment id="13727339" author="hadoopqa" created="Fri, 2 Aug 2013 05:13:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12595531/HBASE-8663-trunk-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12595531/HBASE-8663-trunk-v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6564//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13727341" author="stack" created="Fri, 2 Aug 2013 05:15:49 +0000"  >&lt;p&gt;Is that test failure because of your patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nidmhbase&quot; class=&quot;user-hover&quot; rel=&quot;nidmhbase&quot;&gt;Demai Ni&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13727776" author="nidmhbase" created="Fri, 2 Aug 2013 16:22:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, this failure looks odd. My patch only change ReplicationAdmin.java by adding a new method listReplicated(), and then a few ruby code for hbase shell to call the new method. So the patch should not cross path with createTable time out testing. Is it possible that the failure is caused due to other reason? Thanks... demai&lt;/p&gt;</comment>
                            <comment id="13727933" author="nidmhbase" created="Fri, 2 Aug 2013 18:31:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;I forgot to respond to your comments. Sorry about that. Seems replication_scope needs to be resolved to serve its original purpose, though not sure how people use it at this moment. I also thought about the &apos;standalone&apos; replication central controller/manager, which won&apos;t be associated with any particular cluster. Well, it is a much bigger project. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;

&lt;p&gt;For now, I am following Chris&apos; idea to reduce this patch to only cover the master cluster. About the output, I like your idea about group by cluster. Since current code only support &apos;global&apos;, show all the peers will provide much more info (and too many to display: # of cluster X # of colfam), I just mark it as &apos;global&apos;. I changed the interface to be flexible. So in the future, when we can replicate to selected peers, this jira can be easily extended to accommodate.   &lt;/p&gt;

&lt;p&gt;Demai &lt;/p&gt;</comment>
                            <comment id="13728206" author="jdcryans" created="Fri, 2 Aug 2013 22:30:11 +0000"  >&lt;p&gt;I like the reduced scope patch, it&apos;s already giving us a good value for not a whole lot of code.&lt;/p&gt;

&lt;p&gt;About the patch, most of my complaints are about style:&lt;/p&gt;

&lt;p&gt;Make those all caps and static:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;final String TName = &quot;tableName&quot;;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Put a white space after the comma:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;List&amp;lt;HashMap&amp;lt;String,String&amp;gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why are you separating those?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;+    HTableDescriptor[] tables;&lt;br/&gt;
+&lt;br/&gt;
+    tables = this.connection.listTables();&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why are you declaring this separately?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;+        HashMap&amp;lt;String,String&amp;gt; replicationEntry;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Now that the other constants are static, you can refer to them instead of repeating them here (and the next lines):&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;+        list = list.select {|s| regex.match(s.get(&quot;tableName&quot;))}&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13728306" author="nidmhbase" created="Sat, 3 Aug 2013 00:16:53 +0000"  >&lt;p&gt;many thanks for JD&apos;s comments. I updated the patch accordingly. &lt;/p&gt;

&lt;p&gt;About the failure from HadoopQA, I didn&apos;t find out the root cause. The failure was due to a table-aleady-exists error when TestAdmin trying to create a new table for RPCtimeout testing. This patch adds a new method in ReplicationAdmin and modify some ruby code to use the new method. The logic doesn&apos;t cross path. Maybe some other reasons? anyway, sorry that I have to &apos;abuse&apos; the testing process one more time. hopefully, the problem goes away.. &lt;/p&gt;</comment>
                            <comment id="13728459" author="hadoopqa" created="Sat, 3 Aug 2013 05:38:50 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12595708/HBASE-8663-trunk-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12595708/HBASE-8663-trunk-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6586//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13732128" author="jdcryans" created="Wed, 7 Aug 2013 16:23:56 +0000"  >&lt;p&gt;Latest patch looks good, I have just two other asks:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;can you add a unit test for this? TestReplicationAdmin would be the natural place for it but at the moment it doesn&apos;t start a mini HBase cluster which I quite like... the other option would be TestReplicationSmallTests... maybe we can still do it in TestReplicationAdmin with some Mockito magic?&lt;/li&gt;
	&lt;li&gt;Please fix the javadoc warning.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13734101" author="nidmhbase" created="Thu, 8 Aug 2013 22:33:04 +0000"  >&lt;p&gt;JD,  &lt;/p&gt;

&lt;p&gt;thanks for the review. I added the testing in TestReplicationSmallTests.java, which is easier for me. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; About the javadoc warning, I wasn&apos;t able to figure out last time. Stack mentioned that it may be caused by other reasons. Anyway, I will look into it if shows up again. &lt;/p&gt;

&lt;p&gt;Demai&lt;/p&gt;</comment>
                            <comment id="13734269" author="jdcryans" created="Fri, 9 Aug 2013 00:48:21 +0000"  >&lt;p&gt;Thank you Demai for adding a unit test.&lt;/p&gt;

&lt;p&gt;My IDE shows me that listReplicated&apos;s javadoc has an error because &quot;none&quot; is not a param. I wonder if that&apos;s the issue, either way can you remove that line since it doesn&apos;t add anything?&lt;/p&gt;

&lt;p&gt;Regarding the new test code, don&apos;t use uppercase for variables declared in a method&apos;s scope, even if they are final.&lt;/p&gt;

&lt;p&gt;Also the HTableDescriptor constructor you are using is now deprecated since namespaces were added today (sorry about that). Please use the ctor that uses a TableName object.&lt;/p&gt;

&lt;p&gt;Instead of doing this:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;if (match&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; != 1) fail(&quot;listReplicated() does not match table &quot; + i);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you just assertTrue that the value isn&apos;t equal to 1?&lt;/p&gt;

&lt;p&gt;I think you have a typo here:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;// should only increase onces&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13734290" author="hadoopqa" created="Fri, 9 Aug 2013 01:06:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596959/HBASE-8663-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596959/HBASE-8663-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 21 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.procedure.TestZKProcedure&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6665//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13734314" author="nidmhbase" created="Fri, 9 Aug 2013 01:24:00 +0000"  >&lt;p&gt;JD, thanks for the comments. I will upload another patch after incorporating your suggestions. BTW, the HadoopQA just reported an error &lt;br/&gt;
&quot;org.apache.hadoop.hbase.procedure.TestZKProcedure.testMultiCohortWithMemberTimeoutDuringPrepare&quot;, I need to look into it. any hint? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Demai&lt;/p&gt;</comment>
                            <comment id="13734365" author="nidmhbase" created="Fri, 9 Aug 2013 03:43:34 +0000"  >&lt;p&gt;another patch after updated with JD&apos;s comments. &lt;/p&gt;

&lt;p&gt;JD, you are right that the param &apos;none&apos; was the javadoc problem. BTW, this afternoon&apos;s patch got 21 warnings. Most of them came from HBaseAdmin, Bytes(), related with the namespace changes.&lt;/p&gt;

&lt;p&gt;The failure from this afternoon&apos;s patch(trunk-v3), TestZKProcedure looks unrelated with this patch. Probably due to the instability of the builde&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;Agains for the review comments and help...Demai &lt;/p&gt;</comment>
                            <comment id="13734436" author="hadoopqa" created="Fri, 9 Aug 2013 06:12:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597023/HBASE-8663-trunk-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597023/HBASE-8663-trunk-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 20 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6674//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13734872" author="stack" created="Fri, 9 Aug 2013 15:08:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nidmhbase&quot; class=&quot;user-hover&quot; rel=&quot;nidmhbase&quot;&gt;Demai Ni&lt;/a&gt; Yes, the build is unstable since ns went in; trying to fix... It is likely not your patch that is at issue.&lt;/p&gt;</comment>
                            <comment id="13735081" author="jdcryans" created="Fri, 9 Aug 2013 18:05:37 +0000"  >&lt;p&gt;Attaching the patch I&apos;m going to commit, it&apos;s just a few more style fixes and I fixed some of the comments.&lt;/p&gt;</comment>
                            <comment id="13735230" author="hadoopqa" created="Fri, 9 Aug 2013 20:21:26 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597129/HBASE-8663-trunk-v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597129/HBASE-8663-trunk-v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 20 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.client.TestAdmin.testTableExist(TestAdmin.java:835)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6682//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13735282" author="jdcryans" created="Fri, 9 Aug 2013 20:47:28 +0000"  >&lt;p&gt;Committed to branch and trunk, thanks for the nice util Demai!&lt;/p&gt;</comment>
                            <comment id="13735376" author="nidmhbase" created="Fri, 9 Aug 2013 21:58:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;, thanks a lot for the help and kind suggestion. &lt;/p&gt;</comment>
                            <comment id="13735463" author="hudson" created="Fri, 9 Aug 2013 23:12:36 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95-on-hadoop2 #228 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/228/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/228/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;  a HBase Shell command to list the tables replicated from&lt;br/&gt;
            current cluster (Demai Ni via JD) (jdcryans: rev 1512489)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/hbase/replication_admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/shell/commands/list_replicated_tables.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13735517" author="hudson" created="Fri, 9 Aug 2013 23:41:37 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.95 #424 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/424/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/424/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;  a HBase Shell command to list the tables replicated from&lt;br/&gt;
            current cluster (Demai Ni via JD) (jdcryans: rev 1512489)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/hbase/replication_admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/shell/commands/list_replicated_tables.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13735602" author="hudson" created="Sat, 10 Aug 2013 00:40:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4363 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4363/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4363/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;  a HBase Shell command to list the tables replicated from&lt;br/&gt;
            current cluster (Demai Ni via JD) (jdcryans: rev 1512488)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/replication_admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/list_replicated_tables.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13735607" author="hudson" created="Sat, 10 Aug 2013 00:44:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #661 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/661/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/661/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;  a HBase Shell command to list the tables replicated from&lt;br/&gt;
            current cluster (Demai Ni via JD) (jdcryans: rev 1512488)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/replication_admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/shell/commands/list_replicated_tables.rb&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13737368" author="nidmhbase" created="Mon, 12 Aug 2013 21:24:37 +0000"  >&lt;p&gt;hi, JD and Stack, &lt;/p&gt;

&lt;p&gt;Can I backport the patch to 0.94.9 since I&apos;d like to provide this one to my customer(who is using released version only). Please let me know if a backport jira is appropriate for this. many thanks.&lt;/p&gt;

&lt;p&gt;Demai &lt;/p&gt;</comment>
                            <comment id="13737377" author="jdcryans" created="Mon, 12 Aug 2013 21:32:15 +0000"  >&lt;p&gt;It shouldn&apos;t be a problem, the code is self-contained, but let&apos;s ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; to see if he wants this new feature in 0.94&lt;/p&gt;</comment>
                            <comment id="13737537" author="lhofhansl" created="Mon, 12 Aug 2013 23:36:31 +0000"  >&lt;p&gt;Yes please on 0.94. The one comment I&apos;d have is that it would be better to list the peers in the output, just so that in the future the format would not have to change.&lt;br/&gt;
That said... +1 on the current patch to 0.94. We can revisit later.&lt;/p&gt;</comment>
                            <comment id="13737540" author="lhofhansl" created="Mon, 12 Aug 2013 23:37:07 +0000"  >&lt;p&gt;Should we do a porting jira or do it here? If here, I&apos;ll reopen and add a 0.94 target.&lt;/p&gt;</comment>
                            <comment id="13737607" author="jdcryans" created="Tue, 13 Aug 2013 00:21:43 +0000"  >&lt;p&gt;Meh we can reopen unless this won&apos;t be done in time for the next 0.94&lt;/p&gt;</comment>
                            <comment id="13737676" author="lhofhansl" created="Tue, 13 Aug 2013 01:17:45 +0000"  >&lt;p&gt;Cool. Reopened and added a 0.94 target. If you have a 0.94 patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nidmhbase&quot; class=&quot;user-hover&quot; rel=&quot;nidmhbase&quot;&gt;Demai Ni&lt;/a&gt;, I&apos;ll commit to 0.94. Thanks.&lt;/p&gt;</comment>
                            <comment id="13737692" author="nidmhbase" created="Tue, 13 Aug 2013 01:32:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdcryans&quot; class=&quot;user-hover&quot; rel=&quot;jdcryans&quot;&gt;Jean-Daniel Cryans&lt;/a&gt;, thank you very much. &lt;br/&gt;
Lars, the 0.94.9 patch already uploaded, patch name is  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;-0.94.9-v0.patch. &lt;/p&gt;

</comment>
                            <comment id="13737696" author="nidmhbase" created="Tue, 13 Aug 2013 01:38:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, is it ok to put in 94.9? or should  I will build a patch for 0.94.11? still new here.&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  thanks for the help.  &lt;/p&gt;</comment>
                            <comment id="13737776" author="lhofhansl" created="Tue, 13 Aug 2013 03:46:49 +0000"  >&lt;p&gt;No problem! 0.94.9 (and 0.94.10) are out already. The next release is 0.94.11. That patch still applies nicely, I will commit it as is.&lt;/p&gt;</comment>
                            <comment id="13737779" author="lhofhansl" created="Tue, 13 Aug 2013 03:55:25 +0000"  >&lt;p&gt;Committed to the 0.94 branch as well. 0.94.11 will be out soon and it will have this patch.&lt;/p&gt;</comment>
                            <comment id="13737790" author="nidmhbase" created="Tue, 13 Aug 2013 04:19:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;thank you so much!&lt;/p&gt;</comment>
                            <comment id="13737808" author="lhofhansl" created="Tue, 13 Aug 2013 04:48:39 +0000"  >&lt;p&gt;NP! Thanks for the nice patch.&lt;/p&gt;</comment>
                            <comment id="13737814" author="hudson" created="Tue, 13 Aug 2013 04:56:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #253 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/253/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/253/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt; Forgot new file (larsh: rev 1513339)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/shell/commands/list_replicated_tables.rb&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;  a HBase Shell command to list the tables replicated from current cluster (Demai Ni) (larsh: rev 1513333)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/hbase/replication_admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13737836" author="hudson" created="Tue, 13 Aug 2013 05:12:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1105 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1105/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt; Forgot new file (larsh: rev 1513339)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/shell/commands/list_replicated_tables.rb&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8663&quot; title=&quot;a HBase Shell command to list the tables replicated from current cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8663&quot;&gt;&lt;del&gt;HBASE-8663&lt;/del&gt;&lt;/a&gt;  a HBase Shell command to list the tables replicated from current cluster (Demai Ni) (larsh: rev 1513333)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/replication/ReplicationAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/hbase/replication_admin.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/replication/TestReplicationSmallTests.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740217" author="nidmhbase" created="Wed, 14 Aug 2013 21:30:16 +0000"  >&lt;p&gt;folks, many thanks for the help on this JIRA. per our discussion, I created a follow up jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9220&quot; title=&quot;An API(and shell command) to list tables replicated TO the current cluster &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9220&quot;&gt;HBASE-9220&lt;/a&gt; for the replicated tables on slave side, well, the tricky one. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12597564" name="HBASE-8663-0.94.9-v0.patch" size="10451" author="nidmhbase" created="Mon, 12 Aug 2013 21:24:37 +0000"/>
                            <attachment id="12594612" name="HBASE-8663-trunk-v0.patch" size="13591" author="nidmhbase" created="Sun, 28 Jul 2013 22:16:28 +0000"/>
                            <attachment id="12595531" name="HBASE-8663-trunk-v1.patch" size="6323" author="nidmhbase" created="Fri, 2 Aug 2013 00:47:58 +0000"/>
                            <attachment id="12595708" name="HBASE-8663-trunk-v2.patch" size="6922" author="nidmhbase" created="Sat, 3 Aug 2013 00:16:53 +0000"/>
                            <attachment id="12596959" name="HBASE-8663-trunk-v3.patch" size="10359" author="nidmhbase" created="Thu, 8 Aug 2013 22:33:04 +0000"/>
                            <attachment id="12597023" name="HBASE-8663-trunk-v4.patch" size="10750" author="nidmhbase" created="Fri, 9 Aug 2013 03:43:34 +0000"/>
                            <attachment id="12597129" name="HBASE-8663-trunk-v5.patch" size="10409" author="jdcryans" created="Fri, 9 Aug 2013 18:05:37 +0000"/>
                            <attachment id="12586992" name="HBASE-8663-v2.PATCH" size="13793" author="nidmhbase" created="Sun, 9 Jun 2013 22:07:05 +0000"/>
                            <attachment id="12586743" name="HBASE-8663.PATCH" size="5370" author="nidmhbase" created="Fri, 7 Jun 2013 16:50:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 May 2013 03:35:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l12f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330897</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>list_replicated_tables can now be used in the shell to get the list of tables and families that are configured to be replicated, instead of having to describe all the tables and manually filter those that have a replication scope of 1</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>replication </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>