<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:21:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11218/HBASE-11218.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11218] Data loss in HBase standalone mode</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11218</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Data loss in HBase standalone mode.&lt;br/&gt;
&lt;b&gt;How to produce it&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Start HBase standalone mode.&lt;/li&gt;
	&lt;li&gt;Create a table using hbase shell.&lt;/li&gt;
	&lt;li&gt;Scan &apos;.META.&apos; and you will find data in meta table&lt;/li&gt;
	&lt;li&gt;Kill the HBase process with -9 option&lt;/li&gt;
	&lt;li&gt;Start the HBase agaion&lt;/li&gt;
	&lt;li&gt;Scan &apos;.META.&apos; and you will find nothing in meta table.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;b&gt;There are three main reasons.&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;FSDataOutputStream.sync should call flush() if the underlying wrapped stream is not Syncable. See &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-8861&quot; title=&quot;FSDataOutputStream.sync should call flush() if the underlying wrapped stream is not Syncable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-8861&quot;&gt;&lt;del&gt;HADOOP-8861&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;writeChecksum is ture in  default LocalFileSystem and the ChecksumFSOutputSummer will buffer the data, which make the waledits are not written to os&apos;s filesystem with sync method immediately, and those edits will be lost in regionserver&apos;s failover.&lt;/li&gt;
	&lt;li&gt;The MiniZooKeeperCluster deletes the old zk data at startup which maye cause data loss in meta table. The failover procedure is: split pre root regionserver&apos;s hlog -&amp;gt; assign root -&amp;gt; split pre meta regionserver&apos;s hlog -&amp;gt; assign meta -&amp;gt; split all other regionservers&apos; hlogs -&amp;gt; assign other regions. If there is no data in zookeeper, we will get null for root regionserver and then assign root table. Some data in root table maybe be lost for some root&apos;s WalEdits have not been splited and replayed. So does the Meta table.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I finished the patch for 0.94 and am working on the patch for trunk. Suggestions are welcomed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12715659">HBASE-11218</key>
            <summary>Data loss in HBase standalone mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="liushaohui">Liu Shaohui</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 May 2014 03:25:58 +0000</created>
                <updated>Sat, 21 Feb 2015 23:34:02 +0000</updated>
                            <resolved>Wed, 28 May 2014 17:35:08 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14006958" author="liushaohui" created="Fri, 23 May 2014 08:03:02 +0000"  >&lt;p&gt;Patch for trunk.&lt;br/&gt;
Some notes about the change in tests.&lt;br/&gt;
When the hbase is restarted, the table state in those tests are disbabled for the test disable the table before. So i add enableTable(table) in TestOfflineMetaRebuildBase.&lt;br/&gt;
For hbck does not the NOT_IN_META_OR_DEPLOYED for disabled tables and we can not enable it in the tests, so i remove the NOT_IN_META_OR_DEPLOYED error check in TestOfflineMetaRebuildOverlap and TestOfflineMetaRebuildOverlap.&lt;/p&gt;</comment>
                            <comment id="14006966" author="nkeywal" created="Fri, 23 May 2014 08:24:49 +0000"  >&lt;p&gt;I&apos;m curious, why is it an issue for you?&lt;br/&gt;
On the patch, will this slow down the tests?&lt;/p&gt;</comment>
                            <comment id="14006979" author="liushaohui" created="Fri, 23 May 2014 08:49:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I&apos;m curious, why is it an issue for you?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We use the standalone hbase in our onebox test env. In this env, we start the application and other services (eg, hbase, zookeeper) that it depends on in a machine, , then do many end-to-end logical and failure tests. So it is  important  to keep data durability in some level. Data loss in standalone mode give a not good impression of HBase to out users.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;On the patch, will this slow down the tests?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I will do a comparison and show the data later.&lt;/p&gt;</comment>
                            <comment id="14007395" author="stack" created="Fri, 23 May 2014 17:12:07 +0000"  >&lt;p&gt;Patch looks good to me.  I like the way the patch skirts the issue that causes us dataloss.  Why you think slowdown &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14007456" author="nkeywal" created="Fri, 23 May 2014 17:51:59 +0000"  >&lt;p&gt;I&apos;m afraid of the added syncs... But I understand the need.&lt;/p&gt;</comment>
                            <comment id="14007461" author="stack" created="Fri, 23 May 2014 17:55:10 +0000"  >&lt;p&gt;If only we had a robot that could run the patch against trunk.... so we could compare before and after.&lt;/p&gt;</comment>
                            <comment id="14007466" author="nkeywal" created="Fri, 23 May 2014 17:57:28 +0000"  >&lt;p&gt;to be clearer I&apos;m +1 if there is no test time increase, or if it&apos;s limited. 10% would be ok...&lt;/p&gt;</comment>
                            <comment id="14007846" author="enis" created="Fri, 23 May 2014 23:07:16 +0000"  >&lt;p&gt;in pseudo distributed mode, where there is an actual RS, but still using the local fs, there still will be data loss with this patch from my understanding. Is that correct? Should we configure the local fs in HRegionFileSystem? &lt;/p&gt;</comment>
                            <comment id="14008238" author="stack" created="Sat, 24 May 2014 23:37:59 +0000"  >&lt;p&gt;I like the idea of adding the config to the hbase fs.&lt;/p&gt;</comment>
                            <comment id="14008526" author="liushaohui" created="Mon, 26 May 2014 02:36:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;&lt;br/&gt;
The comparison done in my dev machine is following&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;case&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;trunk&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;small tests&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6m32.725s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6m34.124s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;medium tests&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;91m23.238s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;93m6.703s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;large tests&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;154m58.474s&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;150m42.585s&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;The test time increase is very little.&lt;/p&gt;</comment>
                            <comment id="14008527" author="liushaohui" created="Mon, 26 May 2014 02:46:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;in pseudo distributed mode, where there is an actual RS, but still using the local fs, there still will be data loss with this patch from my understanding&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes.  but I think  the data loss in pseudo distributed mode caused by hardware failure is accepted,  data loss caused by the HBase&apos;s implement is not accepted and we should fix it.&lt;/p&gt;</comment>
                            <comment id="14009987" author="stack" created="Tue, 27 May 2014 17:55:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liushaohui&quot; class=&quot;user-hover&quot; rel=&quot;liushaohui&quot;&gt;Liu Shaohui&lt;/a&gt; Could you do your same trick on the RS side too if local fs (as Enis suggests above)?&lt;/p&gt;

&lt;p&gt;Thanks for doing the test compares.  I will commit this unless objection later today.  We can look into fixing pseudo on local fs in a new issue?&lt;/p&gt;</comment>
                            <comment id="14010023" author="enis" created="Tue, 27 May 2014 18:13:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think the data loss in pseudo distributed mode caused by hardware failure is accepted, data loss caused by the HBase&apos;s implement is not accepted and we should fix it.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think there is a misunderstanding here. I was referring to the same local file system issue. The fix in the patch will only fix it for local mode deployments, but not pseudo-distributed mode deployments.&lt;/p&gt;</comment>
                            <comment id="14010758" author="liushaohui" created="Wed, 28 May 2014 04:31:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;&lt;br/&gt;
Sorry, It&apos;s my mistake.  &lt;br/&gt;
Agree that we should fix this issue in the pseudo-distributed mode deployments.&lt;/p&gt;</comment>
                            <comment id="14011042" author="liushaohui" created="Wed, 28 May 2014 12:01:45 +0000"  >&lt;p&gt;Disable the checksum of localFileSystem in the pseudo-distributed mode deployments.&lt;/p&gt;

&lt;p&gt;Thanks for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &apos;s review.&lt;/p&gt;</comment>
                            <comment id="14011092" author="hadoopqa" created="Wed, 28 May 2014 13:48:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12647120/HBASE-11218-trunk-v2.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12647120/HBASE-11218-trunk-v2.diff&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12647120&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 32 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9621//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14011369" author="stack" created="Wed, 28 May 2014 17:44:20 +0000"  >&lt;p&gt;Committed to master.  Let me commit to 0.98 too.  Fixed the javadoc warning in trunk commit (was not from this patch).  Added addendum updating doc on local fs dataloss to say we don&apos;t lose data in 0.98.4 and 1.0.0.&lt;/p&gt;

&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liushaohui&quot; class=&quot;user-hover&quot; rel=&quot;liushaohui&quot;&gt;Liu Shaohui&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14011377" author="stack" created="Wed, 28 May 2014 17:50:11 +0000"  >&lt;p&gt;Patch I applied to 0.98&lt;/p&gt;</comment>
                            <comment id="14011458" author="hudson" created="Wed, 28 May 2014 19:04:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #300 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/300/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; Data loss in HBase standalone mode (Liu Shaohui) (stack: rev 86ab435b8cd4d77ad4b90cd43fd5acd8579b60a4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14011577" author="hudson" created="Wed, 28 May 2014 21:01:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5149 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5149/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; Data loss in HBase standalone mode (Liu Shaohui) (stack: rev 78f7cd450fe7ad5ed4b4b9634c7499e65968476f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentListener.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; Data loss in HBase standalone mode (Liu Shaohui) &amp;#8211; DOC ADDENDUM (stack: rev b4a2d607a30344c37ed361cc8ffefe9159df01f0)&lt;/li&gt;
	&lt;li&gt;src/main/docbkx/configuration.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14011594" author="apurtell" created="Wed, 28 May 2014 21:11:54 +0000"  >&lt;p&gt;Thanks for applying to 0.98&lt;/p&gt;</comment>
                            <comment id="14011633" author="hudson" created="Wed, 28 May 2014 21:36:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #319 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/319/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; Data loss in HBase standalone mode (Liu Shaohui) (stack: rev 86ab435b8cd4d77ad4b90cd43fd5acd8579b60a4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14012007" author="yuzhihong@gmail.com" created="Thu, 29 May 2014 03:05:42 +0000"  >&lt;p&gt;Was the following compilation error (on hadoop-1) related to this JIRA ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project hbase-server: Compilation failure
[ERROR] /home/jenkins/jenkins-slave/workspace/HBase-0.98-on-Hadoop-1.1/hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java:[87,8] cannot find symbol
[ERROR] symbol  : method setWriteChecksum(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)
[ERROR] location: class org.apache.hadoop.fs.FileSystem
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14012112" author="stack" created="Thu, 29 May 2014 06:20:45 +0000"  >&lt;p&gt;Reverted from 0.98.&lt;/p&gt;</comment>
                            <comment id="14012128" author="apurtell" created="Thu, 29 May 2014 06:48:50 +0000"  >&lt;p&gt;Let me look what might be needed to put back into 0.98 tomorrow &lt;/p&gt;</comment>
                            <comment id="14012244" author="hudson" created="Thu, 29 May 2014 09:55:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #320 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/320/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/320/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; Data loss in HBase standalone mode; REVERT (stack: rev 111ebaaea3bc70888ac27c09d0c8433f66df13e0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14012359" author="hudson" created="Thu, 29 May 2014 13:41:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #301 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/301/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/301/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; Data loss in HBase standalone mode; REVERT (stack: rev 111ebaaea3bc70888ac27c09d0c8433f66df13e0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14012522" author="apurtell" created="Thu, 29 May 2014 16:53:25 +0000"  >&lt;p&gt;Further work can be found on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11272&quot; title=&quot;Backport HBASE-11218 (Data loss in HBase standalone mode) to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11272&quot;&gt;&lt;del&gt;HBASE-11272&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14013246" author="hudson" created="Fri, 30 May 2014 03:17:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #302 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/302/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/302/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11272&quot; title=&quot;Backport HBASE-11218 (Data loss in HBase standalone mode) to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11272&quot;&gt;&lt;del&gt;HBASE-11272&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; (Data loss in HBase standalone mode) to 0.98 (apurtell: rev 13c7ff669532e18ebf5261734b98c51a4ad69c6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14013274" author="hudson" created="Fri, 30 May 2014 04:07:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #321 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/321/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/321/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11272&quot; title=&quot;Backport HBASE-11218 (Data loss in HBase standalone mode) to 0.98&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11272&quot;&gt;&lt;del&gt;HBASE-11272&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11218&quot; title=&quot;Data loss in HBase standalone mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11218&quot;&gt;&lt;del&gt;HBASE-11218&lt;/del&gt;&lt;/a&gt; (Data loss in HBase standalone mode) to 0.98 (apurtell: rev 13c7ff669532e18ebf5261734b98c51a4ad69c6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/fs/HFileSystem.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMasterCommandLine.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildHole.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/util/hbck/TestOfflineMetaRebuildOverlap.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/MiniZooKeeperCluster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331165" author="enis" created="Sat, 21 Feb 2015 23:34:02 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12647176" name="11218v2.098.txt" size="6991" author="stack" created="Wed, 28 May 2014 17:50:11 +0000"/>
                            <attachment id="12646472" name="HBASE-11218-trunk-v1.diff" size="6904" author="liushaohui" created="Fri, 23 May 2014 08:03:02 +0000"/>
                            <attachment id="12647120" name="HBASE-11218-trunk-v2.diff" size="6966" author="liushaohui" created="Wed, 28 May 2014 12:01:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 May 2014 08:24:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vtwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fix for local filesystem data loss in standalone and pseudo-distributed mode.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>