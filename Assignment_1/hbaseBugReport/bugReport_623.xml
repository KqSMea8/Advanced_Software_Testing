<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:46:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-623/HBASE-623.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-623] migration script for hbase-82</title>
                <link>https://issues.apache.org/jira/browse/HBASE-623</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When hbase-82 goes in, will need a migration script for pre-hbase-82 installs.  I don&apos;t think its going to be as bad as originally thought &amp;#8211; i.e. rewriting all data &amp;#8211; but this JIRA is about making sure old data comes across w/o issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395873">HBASE-623</key>
            <summary>migration script for hbase-82</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2008 00:57:22 +0000</created>
                <updated>Fri, 22 Aug 2008 21:13:15 +0000</updated>
                            <resolved>Mon, 19 May 2008 22:48:42 +0000</resolved>
                                                    <fixVersion>0.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12597852" author="stack" created="Sun, 18 May 2008 22:00:09 +0000"  >&lt;p&gt;Below is commit message.  Patch isn&apos;t ready yet... Verification scan needs to pause before it runs for it to succeed.   Need to figure why.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
HBASE-623 Migration &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HBASE-82

M  src/test/org/apache/hadoop/hbase/TestSerialization.java
    (testHMsg): Renamed from testname.
M  src/test/org/apache/hadoop/hbase/TestClassMigration.java
    Test &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; self-migration of classes.  Has test &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; HStoreKey.
M  src/test/org/apache/hadoop/hbase/regionserver/TestHStoreFile.java
    readSplitInfo was moved into HStoreFile
M  src/test/org/apache/hadoop/hbase/util/TestMigrate.java
    (verify): Verify that we can actually read the migrated
    table and that the migrated table has expected content in it.
M  src/java/org/apache/hadoop/hbase/HColumnDescriptor.java
    Add check &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; colon on family names.  HCDs family names no 
    longer have the colon.  We need &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; check &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; where
    we are reading in data written with a previous hbase version.
M  src/java/org/apache/hadoop/hbase/HConstants.java
    Added defines &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hbase.client.retries.number
M  src/java/org/apache/hadoop/hbase/regionserver/HStoreFile.java
    Moved readSplitInfo from HStore to here.  Also changed the
    way we serialize back to writing the encoded region name
    as a &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; rather than as an &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;; the encoded name is written
    into the info file that accompanies HSFs.  Staying on &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
    means we &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not have to write a migration &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; old info files
    so &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; code can read them.
M src/java/org/apache/hadoop/hbase/regionserver/HStore.java
    Moved readSplitInfo into HStoreFile.
M src/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java
    Fixed a debug log.
M src/java/org/apache/hadoop/hbase/util/Bytes.java
    Use encoded lengths as Text does.  Makes it so we don&apos;t have to
    migrate old data; our &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; buffer reads will just work.
M  src/java/org/apache/hadoop/hbase/client/HTable.java
    Added getScanner overrides.
M src/java/org/apache/hadoop/hbase/client/HConnectionManager.java
    Made logging a little more informative.  Removed sleeps even when
    no retries left. Made the master not running exception a little more 
    informative.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12598043" author="stack" created="Mon, 19 May 2008 18:39:42 +0000"  >&lt;p&gt;This patch works.  Please review.&lt;/p&gt;</comment>
                            <comment id="12598044" author="stack" created="Mon, 19 May 2008 18:39:55 +0000"  >&lt;p&gt;Looking for a review...&lt;/p&gt;</comment>
                            <comment id="12598118" author="jimk" created="Mon, 19 May 2008 22:24:44 +0000"  >&lt;p&gt;Reviewed patch. +1&lt;/p&gt;</comment>
                            <comment id="12598122" author="stack" created="Mon, 19 May 2008 22:48:42 +0000"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12382325" name="migrate-v2.patch" size="32276" author="stack" created="Mon, 19 May 2008 18:39:42 +0000"/>
                            <attachment id="12382275" name="migrate.diff" size="29832" author="stack" created="Sun, 18 May 2008 22:00:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 May 2008 22:24:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h8fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>