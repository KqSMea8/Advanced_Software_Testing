<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:01:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9108/HBASE-9108.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9108] LoadTestTool need to have a way to ignore keys which were failed during write. </title>
                <link>https://issues.apache.org/jira/browse/HBASE-9108</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While running the chaosmonkey integration tests, it is found that write sometimes fails when the cluster components are restarted/stopped/killed etc..&lt;br/&gt;
The data key which was being put, using the LoadTestTool, is added to the failed key set, and at the end of the test, this failed key set is checked for any entries to assert failures.&lt;/p&gt;

&lt;p&gt;While doing fail-over testing, it is expected that some of the keys may go un-written. The point here is to validate that whatever gets into hbase for an unstable cluster really goes in, and hence read should be 100% for whatever keys went in successfully.&lt;/p&gt;

&lt;p&gt;Currently LoadTestTool has strict checks to validate every key being written or not. In case any keys is not written, it fails.&lt;br/&gt;
I wanted to loosen this constraint by allowing users to pass in a set of exceptions they expect when doing put/write operations over hbase. If one of these expected exception set is thrown while writing key to hbase, the failed key would be ignored, and hence wont even be considered again for subsequent write as well as read.&lt;br/&gt;
This can be passed to the load test tool as csv list parameter -allowed_write_exceptions, or it can be passed through hbase-site.xml by writing a value for &quot;test.ignore.exceptions.during.write&quot;&lt;/p&gt;

&lt;p&gt;Here is the usage:&lt;br/&gt;
-allowed_write_exceptions &quot;java.io.EOFException,org.apache.hadoop.hbase.NotServingRegionException,org.apache.hadoop.hbase.client.NoServerForRegionException,org.apache.hadoop.hbase.ipc.ServerNotRunningYetException&quot;&lt;/p&gt;

&lt;p&gt;Hence, by doing this the existing integration tests can also make use of this change by passing it as property in hbase-site.xml, as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12661097">HBASE-9108</key>
            <summary>LoadTestTool need to have a way to ignore keys which were failed during write. </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gautam.soni">gautam</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Aug 2013 10:26:16 +0000</created>
                <updated>Wed, 22 Apr 2015 00:37:26 +0000</updated>
                            <resolved>Wed, 22 Apr 2015 00:37:26 +0000</resolved>
                                    <version>0.95.0</version>
                    <version>0.95.1</version>
                    <version>0.94.9</version>
                    <version>0.94.10</version>
                                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13726297" author="gautam.soni" created="Thu, 1 Aug 2013 10:27:49 +0000"  >&lt;p&gt;I will shortly update the change I plan to do.&lt;/p&gt;</comment>
                            <comment id="13726353" author="gautam.soni" created="Thu, 1 Aug 2013 11:25:43 +0000"  >&lt;p&gt;Here is the change for 0.94 branch.&lt;/p&gt;</comment>
                            <comment id="13726379" author="jmspaggi" created="Thu, 1 Aug 2013 12:20:41 +0000"  >&lt;p&gt;Hi @gautam, Can you please do you patch against trunk so we can trigger Hadoop QA?&lt;/p&gt;</comment>
                            <comment id="13727529" author="gautam.soni" created="Fri, 2 Aug 2013 10:08:46 +0000"  >&lt;p&gt;Here is the patch file for trunk/0.95.&lt;/p&gt;</comment>
                            <comment id="13727687" author="jmspaggi" created="Fri, 2 Aug 2013 13:54:39 +0000"  >&lt;p&gt;Now click on &quot;submit patch&quot; on the top to trigger the compilation and tests.&lt;/p&gt;</comment>
                            <comment id="13727783" author="hadoopqa" created="Fri, 2 Aug 2013 16:28:16 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12595581/HBASE-9108.patch._trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12595581/HBASE-9108.patch._trunk&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6572//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13729300" author="gautam.soni" created="Mon, 5 Aug 2013 08:34:57 +0000"  >&lt;p&gt;The sanity tests have gone fine here. Can we expect this to be checked in into 94.x &amp;amp; mainline soon?&lt;/p&gt;</comment>
                            <comment id="13729646" author="yuzhihong@gmail.com" created="Mon, 5 Aug 2013 16:57:59 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;: [&quot;&lt;/span&gt; + className + &lt;span class=&quot;code-quote&quot;&gt;&quot;] in not an instance of Exception.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;typo: &apos;in not&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; ignoredKey(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; k) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above can be package private.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; OPT_ALLOWED_WRITE_EXCEPTIONS = &lt;span class=&quot;code-quote&quot;&gt;&quot;allowed_write_exceptions&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can we use a shorter string for option ?&lt;/p&gt;</comment>
                            <comment id="13731804" author="gautam.soni" created="Wed, 7 Aug 2013 09:15:22 +0000"  >&lt;p&gt;Except changing to package private, rest of the changes are done. I dont think there is a need to mark it package private.&lt;/p&gt;</comment>
                            <comment id="13731846" author="hadoopqa" created="Wed, 7 Aug 2013 10:14:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596551/HBASE-9108.patch._trunk.2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596551/HBASE-9108.patch._trunk.2&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6631//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6631//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13731863" author="jmspaggi" created="Wed, 7 Aug 2013 10:44:24 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gautam_18_75%40yahoo.com&quot; class=&quot;user-hover&quot; rel=&quot;gautam_18_75@yahoo.com&quot;&gt;gautam&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;You need to attach only the trunk patch first, trigger the &quot;submit patch&quot;, wait for hadoop qa, then submit the 0.94 patch without submitting Hadoop QA...&lt;/p&gt;</comment>
                            <comment id="13731866" author="gautam.soni" created="Wed, 7 Aug 2013 10:50:17 +0000"  >&lt;p&gt;Yes, I removed others.&lt;/p&gt;</comment>
                            <comment id="13731922" author="jmspaggi" created="Wed, 7 Aug 2013 12:35:27 +0000"  >&lt;p&gt;Alsmot there.&lt;/p&gt;

&lt;p&gt;Hadoop QA will only take the last uploaded version, if any. Else will do nothing.&lt;/p&gt;

&lt;p&gt;So it&apos;s not required to remove all the version. What you need to do is to upload the Trunk version, and trigger the build. When the build will be done, you can upload the other versions, they will not trigger anything. Only the &quot;Submit Patch&quot; button will trigger something and will take the last uploaded version.&lt;/p&gt;</comment>
                            <comment id="13731935" author="gautam.soni" created="Wed, 7 Aug 2013 12:48:27 +0000"  >&lt;p&gt;Here i go. Its the same as trunk.2&lt;/p&gt;</comment>
                            <comment id="13731942" author="hadoopqa" created="Wed, 7 Aug 2013 12:53:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596611/HBASE-9108.patch._trunk.3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596611/HBASE-9108.patch._trunk.3&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6635//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6635//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13731966" author="gautam.soni" created="Wed, 7 Aug 2013 13:12:37 +0000"  >&lt;p&gt;I am not getting why the patch is not being applied&lt;/p&gt;</comment>
                            <comment id="13731975" author="jmspaggi" created="Wed, 7 Aug 2013 13:28:44 +0000"  >&lt;p&gt;Patch looks good so. Have you tried to apply it on a fresh exports Trunk branch on your side? I will try on my side and see.&lt;/p&gt;</comment>
                            <comment id="13731989" author="jmspaggi" created="Wed, 7 Aug 2013 13:41:43 +0000"  >&lt;p&gt;Hum, I&apos;m not able to apply it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jmspaggiari@t430s:~/Desktop/hbase-core-trunk$ patch -p0 &amp;lt; ../HBASE-9108.patch._trunk.txt 
patching file hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java
Hunk #1 FAILED at 17.
Hunk #2 FAILED at 102.
Hunk #3 succeeded at 148 (offset 10 lines).
Hunk #4 FAILED at 225.
Hunk #5 succeeded at 280 (offset 15 lines).
Hunk #6 succeeded at 354 (offset 20 lines).
3 out of 6 hunks FAILED -- saving rejects to file hbase-server/src/test/java/org/apache/hadoop/hbase/util/LoadTestTool.java.rej
patching file hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedReader.java
patching file hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedWriter.java
Hunk #1 succeeded at 22 (offset 2 lines).
Hunk #2 succeeded at 40 (offset 2 lines).
Hunk #3 succeeded at 72 (offset 2 lines).
Hunk #4 succeeded at 92 (offset 2 lines).
Hunk #5 succeeded at 145 (offset 2 lines).
Hunk #6 succeeded at 165 (offset 2 lines).
Hunk #7 succeeded at 185 (offset 2 lines).
Hunk #8 succeeded at 219 (offset 2 lines).
Hunk #9 succeeded at 321 (offset 2 lines).
jmspaggiari@t430s:~/Desktop/hbase-core-trunk$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You might want to update your trunk code to make sure you have the last version and re-export the patch...&lt;/p&gt;</comment>
                            <comment id="13732009" author="gautam.soni" created="Wed, 7 Aug 2013 14:06:18 +0000"  >&lt;p&gt;How about this?&lt;/p&gt;</comment>
                            <comment id="13732022" author="hadoopqa" created="Wed, 7 Aug 2013 14:13:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596626/HBASE-9108.patch._trunk.4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596626/HBASE-9108.patch._trunk.4&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 hadoop1.0&lt;/font&gt;.  The patch failed to compile against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6636//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6636//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13732067" author="jmspaggi" created="Wed, 7 Aug 2013 14:50:25 +0000"  >&lt;p&gt;Have you tried to re-apply your patch locally on a fresh trunk export first? Does it work?&lt;/p&gt;</comment>
                            <comment id="13732159" author="yuzhihong@gmail.com" created="Wed, 7 Aug 2013 16:51:16 +0000"  >&lt;p&gt;Here was the compilation error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) on project hbase-server: Compilation failure: Compilation failure:
[ERROR] /Users/tyu/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedWriter.java:[80,10] cannot find symbol
[ERROR] symbol  : class List
[ERROR] location: class org.apache.hadoop.hbase.util.MultiThreadedWriter
[ERROR] /Users/tyu/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MultiThreadedWriter.java:[98,24] cannot find symbol
[ERROR] symbol  : class List
[ERROR] location: class org.apache.hadoop.hbase.util.MultiThreadedWriter
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13732161" author="yuzhihong@gmail.com" created="Wed, 7 Aug 2013 16:52:50 +0000"  >&lt;p&gt;Patch v5 fixes the compilation error.&lt;/p&gt;</comment>
                            <comment id="13732241" author="hadoopqa" created="Wed, 7 Aug 2013 18:09:44 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12596653/9108.patch._trunk.5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12596653/9108.patch._trunk.5&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6637//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13733071" author="gautam.soni" created="Thu, 8 Aug 2013 02:18:29 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;, for fixing the patch.&lt;/p&gt;</comment>
                            <comment id="13733715" author="jeffreyz" created="Thu, 8 Aug 2013 17:26:52 +0000"  >&lt;p&gt;I looked the code and it looks good to me except the following code &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (allowedExceptions != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; allowedExceptions.size() &amp;gt; 0) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s better to use isEmpty instead of .size(). Thanks.&lt;/p&gt;</comment>
                            <comment id="13735627" author="gautam.soni" created="Sat, 10 Aug 2013 00:54:09 +0000"  >&lt;p&gt;Here is with the isEmpty() added.&lt;/p&gt;</comment>
                            <comment id="13735634" author="hadoopqa" created="Sat, 10 Aug 2013 01:03:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597231/9108.patch._trunk.6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597231/9108.patch._trunk.6&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6688//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6688//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13736852" author="gautam.soni" created="Mon, 12 Aug 2013 13:23:29 +0000"  >&lt;p&gt;Looks like things have changed a bit. This is with the latest changes.&lt;/p&gt;</comment>
                            <comment id="13736860" author="hadoopqa" created="Mon, 12 Aug 2013 13:33:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597474/HBASE-9108.patch._trunk.7&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597474/HBASE-9108.patch._trunk.7&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 hadoop1.0&lt;/font&gt;.  The patch failed to compile against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6702//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6702//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13736972" author="yuzhihong@gmail.com" created="Mon, 12 Aug 2013 15:53:31 +0000"  >&lt;p&gt;Hadoop QA doesn&apos;t emit the actual compilation errors.&lt;/p&gt;

&lt;p&gt;Please compile your patch locally and see the error(s).&lt;/p&gt;</comment>
                            <comment id="13738154" author="gautam.soni" created="Tue, 13 Aug 2013 12:52:35 +0000"  >&lt;p&gt;I was doing git apply &amp;lt;patch&amp;gt;, which was not returning anything. And the compilation was also fine. When I did patch -p1 &amp;lt; &amp;lt;patch&amp;gt; that really applied and I could fix the compilation issue thereafter.&lt;br/&gt;
Learnt patching...&lt;/p&gt;</comment>
                            <comment id="13738260" author="hadoopqa" created="Tue, 13 Aug 2013 14:12:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12597712/HBASE-9108.patch._trunk.8&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12597712/HBASE-9108.patch._trunk.8&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6719//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13738271" author="gautam.soni" created="Tue, 13 Aug 2013 14:19:30 +0000"  >&lt;p&gt;Can we merge this patch, before it gets overwritten with some other patch?&lt;/p&gt;</comment>
                            <comment id="13745971" author="enis" created="Wed, 21 Aug 2013 11:51:01 +0000"  >&lt;p&gt;I am not sure ignoring exceptions is the right way to do the test. Agreed that on CM actions which cause extended unavailability, LoadTestTool will fail the write. But shouldn&apos;t that be an actual error that either the CM is acting very aggressively, or the cluster does not recover from errors quick enough causing poor MTTR. &lt;/p&gt;</comment>
                            <comment id="13746028" author="gautam.soni" created="Wed, 21 Aug 2013 13:16:18 +0000"  >&lt;p&gt;By adding the option to ignore exceptions while writing, we are ensuring that during CM actions whatever keys were written successfully, can be read.&lt;br/&gt;
We are ensuring 100% read guarantee.&lt;br/&gt;
Currently LoadTestTool is pretty rigid, and looks for 100% write as well as 100% read guarantee. There are use cases, where the client applications instead of attempting the write again or go into an infinite loop, might want to handle it differently (like storing those failed keys into a list to retry once after the batch write is done, etc). This will handle that use case.&lt;br/&gt;
Again, we are providing that as a configuration. Tomorrow when you want to run the same set of tests to get 100% write guarantee as well, over say a stronger &amp;amp; better hbase version, you just need to remove the configuration.&lt;/p&gt;</comment>
                            <comment id="13746078" author="enis" created="Wed, 21 Aug 2013 14:23:41 +0000"  >&lt;p&gt;There are two concerns about this approach as I see it. First, naming a set of exceptions is very brittle. With new exceptions, or refactored ones, keeping that in sync will become a burden on the test maintainer. Second, 100% write guarantee is what we want from this test. The retry logic inside HBase already does what you mention (storing failed keys and retrying).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;when you want to run the same set of tests to get 100% write guarantee as well, over say a stronger &amp;amp; better hbase version, you just need to remove the configuration&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think that we already have a &quot;stronger &amp;amp; better hbase version&quot;. We have seen CM actions which cause several minutes of downtimes on our test setup, thus causing LoadTestTool to fail, but I think the right way to approach this is to configure the test env for better MTTR, and limit the chaos caused by CM, together with adjusting the retry / timeouts accordingly. &lt;/p&gt;</comment>
                            <comment id="13746084" author="gautam.soni" created="Wed, 21 Aug 2013 14:40:46 +0000"  >&lt;p&gt;&quot;The retry logic inside HBase already does what you mention (storing failed keys and retrying).&quot;&lt;br/&gt;
But sometimes, the retry logic fails with org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException, and hence fails the test as the key becomes the failed key, and hence you need to tune your env, which sometimes is a small and the only cluster setup. Or as you said you need to fine tune CM, which then you would need to vary for different cluster setups to get a better MTTR.&lt;br/&gt;
Some other time you observe the key has failed to write, because of:&lt;br/&gt;
java.io.EOFException&lt;br/&gt;
org.apache.hadoop.hbase.NotServingRegionException,&lt;br/&gt;
org.apache.hadoop.hbase.client.NoServerForRegionException,&lt;br/&gt;
org.apache.hadoop.hbase.ipc.ServerNotRunningYetException,&lt;br/&gt;
org.apache.hadoop.hbase.ipc.HBaseClient$FailedServerException&lt;/p&gt;

&lt;p&gt;A tester might want to skip the retrial attempts here, skip the key here and proceed, and he can configure the exceptions he want to skip on write by passing it over as configuration. Since this wont be available by default in hbase configuration xmls, this is a known risk he will take.&lt;br/&gt;
And sorry I didnt mean to say that, I agree we already have a &quot;stronger &amp;amp; better hbase version&quot;. My intent was for future version upgrades, tester might want to go for 100% read+write, as he might have moved to a better &amp;amp; a big cluster setup with a better MTTR.&lt;/p&gt;

</comment>
                            <comment id="13746556" author="gautam.soni" created="Wed, 21 Aug 2013 16:52:55 +0000"  >&lt;p&gt;Enis, do you think this can be committed now?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12596653" name="9108.patch._trunk.5" size="10686" author="yuzhihong@gmail.com" created="Wed, 7 Aug 2013 16:51:33 +0000"/>
                            <attachment id="12597231" name="9108.patch._trunk.6" size="10689" author="gautam.soni" created="Sat, 10 Aug 2013 00:54:09 +0000"/>
                            <attachment id="12596551" name="HBASE-9108.patch._trunk.2" size="10857" author="gautam.soni" created="Wed, 7 Aug 2013 09:15:22 +0000"/>
                            <attachment id="12596611" name="HBASE-9108.patch._trunk.3" size="10857" author="gautam.soni" created="Wed, 7 Aug 2013 12:48:27 +0000"/>
                            <attachment id="12596626" name="HBASE-9108.patch._trunk.4" size="10726" author="gautam.soni" created="Wed, 7 Aug 2013 14:06:18 +0000"/>
                            <attachment id="12597474" name="HBASE-9108.patch._trunk.7" size="13084" author="gautam.soni" created="Mon, 12 Aug 2013 13:23:29 +0000"/>
                            <attachment id="12597712" name="HBASE-9108.patch._trunk.8" size="13102" author="gautam.soni" created="Tue, 13 Aug 2013 12:52:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Aug 2013 12:20:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mv0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>