<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6495/HBASE-6495.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6495] HBaseAdmin shouldn&apos;t expect HConnection to be an HConnectionImplementation</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6495</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently, the HBaseAdmin has a constructor that takes an HConnection, but then immediately casts it to an HConnectionManager.HConnectionImplementation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HBaseAdmin(HConnection connection)
      &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; MasterNotRunningException, ZooKeeperConnectionException {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf = connection.getConfiguration();

    &lt;span class=&quot;code-comment&quot;&gt;// We want the real class, without showing it our &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;,
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//  hence the &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;.
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection = (HConnectionManager.HConnectionImplementation)connection;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, this breaks the explicit contract in the javadocs and makes it basically impossible to mock out the hbaseadmin. &lt;/p&gt;

&lt;p&gt;We need to either make the hbaseadmin use a basic HConnection and optimize for cases where its smarter or bring up the couple of methods in HConnectionManager.HConnectionImplementation to the HConnection interface.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12601141">HBASE-6495</key>
            <summary>HBaseAdmin shouldn&apos;t expect HConnection to be an HConnectionImplementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Aug 2012 00:15:18 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:15 +0000</updated>
                            <resolved>Thu, 6 Sep 2012 05:02:46 +0000</resolved>
                                    <version>0.94.1</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13429421" author="stack" created="Mon, 6 Aug 2012 20:55:04 +0000"  >&lt;p&gt;You have list of what HBaseAdmin needs beyond HConnection mighty Jesse?&lt;/p&gt;</comment>
                            <comment id="13429550" author="jesse_yates" created="Mon, 6 Aug 2012 22:59:08 +0000"  >&lt;p&gt;@stack: yeah, when doing some work on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6055&quot; title=&quot;Offline Snapshots in HBase 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6055&quot;&gt;&lt;del&gt;HBASE-6055&lt;/del&gt;&lt;/a&gt; it was basically impossible to cleanly mock out the client-to-master connection since I couldn&apos;t pass in an HConnection that was expected from a generic package. Ended up having to move to the .client package and mock out an HConnection.HConnectionImplementation which wasn&apos;t very nice. That&apos;s my main gripe - not the end of the world, but definitely a nice to have. Unless I&apos;m missing something?&lt;/p&gt;</comment>
                            <comment id="13448454" author="lhofhansl" created="Wed, 5 Sep 2012 04:27:01 +0000"  >&lt;p&gt;Have a patch, Jesse?&lt;/p&gt;</comment>
                            <comment id="13449332" author="jesse_yates" created="Thu, 6 Sep 2012 01:11:35 +0000"  >&lt;p&gt;@lars - yup, attaching (and submitting for QA run). Minor changes, just two methods needed to be pulled up.&lt;/p&gt;</comment>
                            <comment id="13449333" author="jesse_yates" created="Thu, 6 Sep 2012 01:12:25 +0000"  >&lt;p&gt;Patch is for trunk. Would you like a 0.94 one as well? Its going to be a bit different, given the PB changes...&lt;/p&gt;</comment>
                            <comment id="13449419" author="stack" created="Thu, 6 Sep 2012 05:02:46 +0000"  >&lt;p&gt;Thanks for the important Interface cleanup Jesse.  I ran  TestAdmin locally and it passed so committed to trunk (I&apos;d say it doesn&apos;t belong in 0.94...this patch doesn&apos;t make sense there at least.... Will let Lars ask for it if he wants it)&lt;/p&gt;</comment>
                            <comment id="13449451" author="hudson" created="Thu, 6 Sep 2012 06:22:29 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3309 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3309/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3309/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6495&quot; title=&quot;HBaseAdmin shouldn&amp;#39;t expect HConnection to be an HConnectionImplementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6495&quot;&gt;&lt;del&gt;HBASE-6495&lt;/del&gt;&lt;/a&gt; HBaseAdmin shouldn&apos;t expect HConnection to be an HConnectionImplementation (Revision 1381467)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775325" author="stack" created="Mon, 23 Sep 2013 18:31:15 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12543962" name="hbase-6495-v0.patch" size="4321" author="jesse_yates" created="Thu, 6 Sep 2012 01:11:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Aug 2012 20:55:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i067nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>