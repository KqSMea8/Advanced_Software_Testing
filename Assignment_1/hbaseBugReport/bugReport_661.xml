<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:46:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-661/HBASE-661.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-661] Allow to specify a user supplied row key comparator for a table </title>
                <link>https://issues.apache.org/jira/browse/HBASE-661</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Now that row keys are byte arrays, users should be able to specify a comparator at table creation time.&lt;/p&gt;

&lt;p&gt;My use case for this is to implement secondary indexes. In this case, row keys for the index tables will be constructed from an optional prefix of the original row key as well as the content of column that is being indexed. Then the comparator will first compare based on the key prefix, and break ties by deserializing the column values and using the deserialized type&apos;s compareTo method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397399">HBASE-661</key>
            <summary>Allow to specify a user supplied row key comparator for a table </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="clint.morgan">Clint Morgan</assignee>
                                    <reporter username="clint.morgan">Clint Morgan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 18:24:44 +0000</created>
                <updated>Thu, 2 May 2013 02:29:18 +0000</updated>
                            <resolved>Tue, 7 Dec 2010 20:33:04 +0000</resolved>
                                    <version>0.2.0</version>
                                                    <component>Client</component>
                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12629639" author="clint.morgan" created="Tue, 9 Sep 2008 22:30:47 +0000"  >&lt;p&gt;This seems easy enough at first glance. Just associate an (optional) WritableCompartor&amp;lt;byte[]&amp;gt; with each table. If a table has this comparator then use it (this logic seems to belong in the new HStoreKey.compareTwoRowKeys).&lt;/p&gt;

&lt;p&gt;Things get more tricky I think when taking the META table into account. I suppose I need to rework the way META rows are being compared to use the tables comparator for the row&apos;s bits in each meta key.&lt;/p&gt;

&lt;p&gt;So If I have two tables A, and B with 2 regions each, and B has a custom, reverse, comparator, then I want a META laid out like:&lt;/p&gt;

&lt;p&gt;A,1,5&lt;br/&gt;
A,5,&lt;br/&gt;
B,9,5&lt;br/&gt;
B,5,&lt;/p&gt;

&lt;p&gt;So basically the META table uses a custom comparator that is composed of the comparators for each Table.&lt;/p&gt;

&lt;p&gt;Any advice before I start digging deeper? Are there many places where we assume that row keys are lexocographiclly sorted?&lt;/p&gt;</comment>
                            <comment id="12629645" author="streamy" created="Tue, 9 Sep 2008 22:50:58 +0000"  >&lt;p&gt;Clint,&lt;/p&gt;

&lt;p&gt;Check out &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-832&quot; title=&quot;Problem with row keys beginnig with characters &amp;lt; than &amp;#39;,&amp;#39; and the region location cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-832&quot;&gt;&lt;del&gt;HBASE-832&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-868&quot; title=&quot;Incrementing binary rows cause strange behavior once table splits&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-868&quot;&gt;&lt;del&gt;HBASE-868&lt;/del&gt;&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-877&quot; title=&quot;HCM is unable to find table with multiple regions which contains binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-877&quot;&gt;&lt;del&gt;HBASE-877&lt;/del&gt;&lt;/a&gt;.  These all deal directly with comparators and rows in the meta table.&lt;/p&gt;

&lt;p&gt;There&apos;s a consensus after dealing with these issues that we&apos;ll be doing an overhaul of some kind of the comparators associated with each region.&lt;/p&gt;

&lt;p&gt;I imagine this issue would be solved along with that change.&lt;/p&gt;</comment>
                            <comment id="12629831" author="clint.morgan" created="Wed, 10 Sep 2008 15:16:54 +0000"  >&lt;p&gt;Thanks, &lt;/p&gt;

&lt;p&gt;In that case I&apos;ll wait until after the overhaul to revisit this.&lt;/p&gt;</comment>
                            <comment id="12629923" author="stack" created="Wed, 10 Sep 2008 19:20:22 +0000"  >&lt;p&gt;Clint: I&apos;d suggest you become a watcher on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-880&quot; title=&quot;Improve the current client API by creating new container classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-880&quot;&gt;&lt;del&gt;HBASE-880&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-849&quot; title=&quot;Speed improvement in JenkinsHash&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-849&quot;&gt;&lt;del&gt;HBASE-849&lt;/del&gt;&lt;/a&gt; so you can keep an eye on progress and ensure your needs are covered.&lt;/p&gt;</comment>
                            <comment id="12641611" author="clint.morgan" created="Tue, 21 Oct 2008 21:41:07 +0000"  >&lt;p&gt;Depends on HStoreKey rework&lt;/p&gt;</comment>
                            <comment id="12731724" author="posix4e" created="Wed, 15 Jul 2009 22:48:55 +0000"  >&lt;p&gt;Does this mean this is no longer blocked?&lt;/p&gt;</comment>
                            <comment id="12731771" author="stack" created="Thu, 16 Jul 2009 02:12:53 +0000"  >&lt;p&gt;A comparator per table will not be happening anytime soon.  Can&apos;t have one comparator per table.  When they all meet in the .META. if different comparators, it&apos;ll be hard to manage.&lt;/p&gt;</comment>
                            <comment id="12968953" author="stack" created="Tue, 7 Dec 2010 20:33:04 +0000"  >&lt;p&gt;We&apos;ll never support this.  Closing as invalid.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12403432">HBASE-859</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12404278">HBASE-883</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Sep 2008 22:50:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h8o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>