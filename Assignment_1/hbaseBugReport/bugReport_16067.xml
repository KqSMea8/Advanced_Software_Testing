<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:09:57 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-16067/HBASE-16067.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-16067] Add READ_COMMITTED IsolationLevel for scan and the current is SNAPSHOT.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-16067</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When scan a region, openScan get a mvcc readpoint and do not advance the readpoint within it lifetime, so all committed write after the readpoint do not visible for the scan.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12980703">HBASE-16067</key>
            <summary>Add READ_COMMITTED IsolationLevel for scan and the current is SNAPSHOT.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aoxiang">binlijin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jun 2016 04:03:25 +0000</created>
                <updated>Tue, 21 Jun 2016 09:57:56 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15339706" author="aoxiang" created="Mon, 20 Jun 2016 15:24:40 +0000"  >&lt;p&gt;Update scan&apos;s MVCC before every row it will impact the performance, so trigger the update before every scan.next.&lt;/p&gt;</comment>
                            <comment id="15340974" author="chenheng" created="Tue, 21 Jun 2016 03:08:27 +0000"  >&lt;p&gt;The idea sounds reasonable.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          storeHeap.updateMvccReadPoint(readPt);
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (joinedHeap != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+            joinedHeap.updateMvccReadPoint(readPt);
+          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Will readPt be updated between above two update operations?  &lt;/p&gt;

&lt;p&gt;And should we move &quot;if (isolationLevel == IsolationLevel.READ_COMMITTED)&quot; check before we set needUpdateReadPt to be true?&lt;/p&gt;
</comment>
                            <comment id="15341459" author="aoxiang" created="Tue, 21 Jun 2016 09:47:16 +0000"  >&lt;p&gt;Yes,  readPt may be updated between above two update operations, it is hard to keep strict READ_COMMITTED.&lt;/p&gt;</comment>
                            <comment id="15341463" author="aoxiang" created="Tue, 21 Jun 2016 09:49:01 +0000"  >&lt;p&gt;Yes, need to move the &quot;if (isolationLevel == IsolationLevel.READ_COMMITTED)&quot; check.&lt;/p&gt;</comment>
                            <comment id="15341464" author="aoxiang" created="Tue, 21 Jun 2016 09:49:05 +0000"  >&lt;p&gt;Yes, need to move the &quot;if (isolationLevel == IsolationLevel.READ_COMMITTED)&quot; check.&lt;/p&gt;</comment>
                            <comment id="15341465" author="aoxiang" created="Tue, 21 Jun 2016 09:49:09 +0000"  >&lt;p&gt;Yes, need to move the &quot;if (isolationLevel == IsolationLevel.READ_COMMITTED)&quot; check.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12812138" name="HBASE-16067-1.patch" size="21067" author="aoxiang" created="Tue, 21 Jun 2016 09:57:56 +0000"/>
                            <attachment id="12811837" name="HBASE-16067.patch" size="21085" author="aoxiang" created="Mon, 20 Jun 2016 15:22:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jun 2016 03:08:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zpsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>