<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:15:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10615/HBASE-10615.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10615] Make LoadIncrementalHFiles skip reference files</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10615</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There is use base that the source of hfiles for LoadIncrementalHFiles can be a FileSystem copy-out/backup of HBase table or archive hfiles.  For example,&lt;br/&gt;
1. Copy-out of hbase.rootdir, table dir, region dir (after disable) or archive dir.&lt;br/&gt;
2. ExportSnapshot&lt;/p&gt;

&lt;p&gt;It is possible that there are reference files in the family dir in these cases.&lt;br/&gt;
We have such use cases, where trying to load back into HBase, we&apos;ll get&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.hadoop.hbase.io.hfile.CorruptHFileException: Problem reading HFile Trailer from file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//HDFS-AMR/tmp/restoreTemp/117182adfe861c5d2b607da91d60aa8a/info/aed3d01648384b31b29e5bad4cd80bec.d179ab341fc68e7612fcd74eaf7cafbd
&lt;/span&gt;        at org.apache.hadoop.hbase.io.hfile.HFile.pickReaderVersion(HFile.java:570)
        at org.apache.hadoop.hbase.io.hfile.HFile.createReaderWithEncoding(HFile.java:594)
        at org.apache.hadoop.hbase.io.hfile.HFile.createReader(HFile.java:636)
        at org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles.groupOrSplit(LoadIncrementalHFiles.java:472)
        at org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles$2.call(LoadIncrementalHFiles.java:393)
        at org.apache.hadoop.hbase.mapreduce.LoadIncrementalHFiles$2.call(LoadIncrementalHFiles.java:391)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:314)
        at java.util.concurrent.FutureTask.run(FutureTask.java:149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:897)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:919)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:738)
Caused by: java.lang.IllegalArgumentException: Invalid HFile version: 16715777 (expected to be between 2 and 2)
        at org.apache.hadoop.hbase.io.hfile.HFile.checkFormatVersion(HFile.java:927)
        at org.apache.hadoop.hbase.io.hfile.FixedFileTrailer.readFromStream(FixedFileTrailer.java:426)
        at org.apache.hadoop.hbase.io.hfile.HFile.pickReaderVersion(HFile.java:568)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is desirable and safe to skip these reference files since they don&apos;t contain any real data for bulk load purpose.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12697303">HBASE-10615</key>
            <summary>Make LoadIncrementalHFiles skip reference files</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jinghe">Jerry He</assignee>
                                    <reporter username="jinghe">Jerry He</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2014 05:21:09 +0000</created>
                <updated>Sat, 21 Feb 2015 23:31:40 +0000</updated>
                            <resolved>Wed, 12 Mar 2014 20:45:03 +0000</resolved>
                                    <version>0.96.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13912533" author="jinghe" created="Wed, 26 Feb 2014 05:23:19 +0000"  >&lt;p&gt;Attached a patch to skip reference files in discoverLoadQueue().&lt;/p&gt;</comment>
                            <comment id="13912584" author="stack" created="Wed, 26 Feb 2014 06:51:37 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="13912622" author="hadoopqa" created="Wed, 26 Feb 2014 08:10:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12631153/HBASE-10615-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12631153/HBASE-10615-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12631153&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8810//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13913610" author="mbertozzi" created="Wed, 26 Feb 2014 22:18:25 +0000"  >&lt;p&gt;I&apos;m not convinced about it... &lt;/p&gt;

&lt;p&gt;let say that you copy hbase.rootdir then what are you going to bulk load?&lt;br/&gt;
if you bulk load only /hbase/table and you skip references or links you loose data.&lt;/p&gt;

&lt;p&gt;example for links is: clone_snapshot&lt;br/&gt;
all the table is based on links... if you try to bulk load it, you are skipping every file...&lt;/p&gt;

&lt;p&gt;example for reference is: &lt;br/&gt;
you upload the parent region data but not the daughter reference files&lt;br/&gt;
the CatalogJanitor kicks in and the parent is removed, since there are no references to the parent&lt;br/&gt;
and your data is lost...&lt;/p&gt;

&lt;p&gt;can you describe more the use case, and give examples on how did you tested it?&lt;/p&gt;</comment>
                            <comment id="13913668" author="stack" created="Wed, 26 Feb 2014 22:57:19 +0000"  >&lt;p&gt;(Thanks for jumping in &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13913904" author="jinghe" created="Thu, 27 Feb 2014 01:48:37 +0000"  >&lt;p&gt;Hi, Matteo&lt;/p&gt;

&lt;p&gt;Thanks for the comments!&lt;/p&gt;

&lt;p&gt;There are two questions here.&lt;br/&gt;
1.  Should the bulk load throws an error or skip if it sees a reference file?  My argument is that we should not throw an error.&lt;br/&gt;
     The existence of reference file is not an error condition.&lt;br/&gt;
2.  Is it safe to skip the reference file for the purpose of bulk loading from the user&apos;s perspective?  Matteo raised the issue of possible loss of data.&lt;br/&gt;
     My argument is that we are fine for these reasons:&lt;br/&gt;
1)  The purpose of LoadIncrementalHFiles is to load the data contained in the hfiles of a given region dir into HBase safely.  &lt;br/&gt;
   As long as this is satisfied, we are fine for the data for this scope &lt;br/&gt;
2)  If we want to consider from a broader view, to confider the integrity of the entire table data.  &lt;br/&gt;
  The user of the bulk load tool controls the bulk loading. &lt;br/&gt;
  For example, the user will not copy out the links in a cloned table from a snapshot and then expect to bulk load these links to have the data.&lt;br/&gt;
  In the reference example, the user will bulk load the parent region too. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;you upload the parent region data but not the daughter reference files&lt;br/&gt;
the CatalogJanitor kicks in and the parent is removed, since there are no references to the parent&lt;br/&gt;
and your data is lost...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Why would the data is lost?  I thought the hfiles in the parent region would be added or sliced into an existing live region. The bulk load tool does not care if the input hfile region is a split parent or not, right?  Maybe I miss and misunderstand something? &lt;/p&gt;

</comment>
                            <comment id="13914173" author="mbertozzi" created="Thu, 27 Feb 2014 07:45:08 +0000"  >&lt;p&gt;do you have an example of the cmd line that you want to use to bulk load after copying hbase.rootdir?&lt;br/&gt;
is still not clear to me how do you want to bulk load the table/tables&lt;/p&gt;

&lt;p&gt;if you put all the files together and let LoadIncrementalHFile split based on key, &lt;br/&gt;
yeah you probably can skip the reference files&lt;/p&gt;

&lt;p&gt;same for HFileLink, if you bulk load the ones in the archive, you can skip the HFileLink&lt;br/&gt;
but you have to manually find which files do you need, otherwise you may bulk load old data from the archive which shouldn&apos;t be in the table anymore&lt;/p&gt;

&lt;p&gt;if you can post the use example that you have tried it will be easy for me to verify that what I&apos;ve said able the parent removed by the CatalogJanitor&lt;/p&gt;</comment>
                            <comment id="13914928" author="jinghe" created="Thu, 27 Feb 2014 19:19:27 +0000"  >&lt;p&gt;Let me give a practical use case, related to ExportSnapshot.  You can help to see if there is any loophole.&lt;/p&gt;

&lt;p&gt;I take snapshots on cluster A, and export them to cluster B, which services as backup storage.&lt;br/&gt;
When I want to clone the table on cluster C, I can do the following on cluster C (alternative to restore/clone snapshot)&lt;/p&gt;

&lt;p&gt;1. Construct the table based on the tableInfo and possibly pre-split based on the region info stored with the snapshot.&lt;br/&gt;
2. Have a program basically loops thru the archive regions to bulk load the region data.&lt;/p&gt;

&lt;p&gt;The parent region is in the archive so are the daughters, if the snapshot happened to capture the moment. &lt;br/&gt;
I remember you had a JIRA to include both parent and daughters in the snapshot.&lt;/p&gt;

&lt;p&gt;I don&apos;t see any loss of data here.  I have been testing it for a while.  &lt;br/&gt;
I had to change LoadIncrementalHFiles to skip the reference files if they exists, to avoid the exception that posted in this JIRA.&lt;/p&gt;</comment>
                            <comment id="13914941" author="mbertozzi" created="Thu, 27 Feb 2014 19:27:48 +0000"  >&lt;p&gt;yeah, that works&lt;/p&gt;

&lt;p&gt;if your application does all the job of resolving the links and going to the archive to lookup the right files.&lt;br/&gt;
also if you create a new table with presplit, instead of &quot;copying&quot; the old .META. with the daughter information will allow you to skip the ref files and don&apos;t have any problem.&lt;/p&gt;

&lt;p&gt;can just you just add a WARN or INFO (your choice) that you have skipped those files? after that I&apos;m +1&lt;/p&gt;</comment>
                            <comment id="13915064" author="jinghe" created="Thu, 27 Feb 2014 21:25:02 +0000"  >&lt;p&gt;Attached v2 with added LOG warns.&lt;br/&gt;
There is another place where we walk thru the hfiles in createTable() when the table does not exist. We read the files twice in this case.&lt;br/&gt;
Only warn once.&lt;/p&gt;</comment>
                            <comment id="13915229" author="hadoopqa" created="Thu, 27 Feb 2014 23:53:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12631601/HBASE-10615-trunk-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12631601/HBASE-10615-trunk-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12631601&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8839//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8839//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13915269" author="yuzhihong@gmail.com" created="Fri, 28 Feb 2014 00:24:53 +0000"  >&lt;p&gt;Does it make sense to introduce a config parameter to enable / disable reference file skipping ?&lt;/p&gt;</comment>
                            <comment id="13915320" author="jinghe" created="Fri, 28 Feb 2014 01:15:25 +0000"  >&lt;p&gt;Rebased with latest from trunk and attached v3.&lt;/p&gt;</comment>
                            <comment id="13915324" author="jinghe" created="Fri, 28 Feb 2014 01:18:44 +0000"  >&lt;p&gt;A config parameter will probably be helpful if the bulk load tool itself can or wants to &apos;resolve&apos; the reference/link.&lt;br/&gt;
But bulk load is operating on one region dir only.&lt;/p&gt;</comment>
                            <comment id="13915435" author="jinghe" created="Fri, 28 Feb 2014 03:58:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;A config parameter will probably be helpful if the bulk load tool itself can or wants to &apos;resolve&apos; the reference/link.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Then it will be good to give user an option to &apos;skip&apos; or &apos;resolve&apos;.&lt;br/&gt;
Now it is more like the only option is to &apos;skip&apos;. &lt;br/&gt;
Or &apos;error&apos;, which doesn&apos;t make much meaningful sense.&lt;/p&gt;</comment>
                            <comment id="13915459" author="hadoopqa" created="Fri, 28 Feb 2014 04:46:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12631640/HBASE-10615-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12631640/HBASE-10615-trunk-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12631640&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestLogRolling&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8843//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13920074" author="jinghe" created="Tue, 4 Mar 2014 21:49:25 +0000"  >&lt;p&gt;The findbugs and TestLogRolling does not seem to be caused by the patch.&lt;br/&gt;
Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt;&lt;br/&gt;
Are you ok with the patch?&lt;/p&gt;</comment>
                            <comment id="13920080" author="mbertozzi" created="Tue, 4 Mar 2014 21:52:31 +0000"  >&lt;p&gt;+1 for me&lt;/p&gt;</comment>
                            <comment id="13921810" author="yuzhihong@gmail.com" created="Thu, 6 Mar 2014 01:10:01 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks Jerry for the patch.&lt;/p&gt;</comment>
                            <comment id="13922057" author="hudson" created="Thu, 6 Mar 2014 06:16:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #4981 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4981/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4981/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10615&quot; title=&quot;Make LoadIncrementalHFiles skip reference files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10615&quot;&gt;&lt;del&gt;HBASE-10615&lt;/del&gt;&lt;/a&gt; Make LoadIncrementalHFiles skip reference files (Jerry He) (tedyu: rev 1574736)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13923427" author="hudson" created="Fri, 7 Mar 2014 02:11:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10615&quot; title=&quot;Make LoadIncrementalHFiles skip reference files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10615&quot;&gt;&lt;del&gt;HBASE-10615&lt;/del&gt;&lt;/a&gt; Make LoadIncrementalHFiles skip reference files (Jerry He) (tedyu: rev 1574736)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330855" author="enis" created="Sat, 21 Feb 2015 23:31:40 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12631601" name="HBASE-10615-trunk-v2.patch" size="2714" author="jinghe" created="Thu, 27 Feb 2014 21:21:23 +0000"/>
                            <attachment id="12631640" name="HBASE-10615-trunk-v3.patch" size="2720" author="jinghe" created="Fri, 28 Feb 2014 01:14:13 +0000"/>
                            <attachment id="12631153" name="HBASE-10615-trunk.patch" size="1943" author="jinghe" created="Wed, 26 Feb 2014 05:22:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Feb 2014 06:51:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sr67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>