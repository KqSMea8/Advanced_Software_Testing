<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:30:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5787/HBASE-5787.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5787] Table owner can&apos;t disable/delete his/her own table</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5787</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;An user with CREATE privileges can create a table, but can not disable it, because disable operation require ADMIN privileges. Also if a table is already disabled, anyone can remove it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void preDeleteTable(ObserverContext&amp;lt;MasterCoprocessorEnvironment&amp;gt; c,
    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] tableName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
  requirePermission(Permission.Action.CREATE);
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void preDisableTable(ObserverContext&amp;lt;MasterCoprocessorEnvironment&amp;gt; c,
    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] tableName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
  /* TODO: Allow &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; users with global CREATE permission and the table owner */
  requirePermission(Permission.Action.ADMIN);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12550892">HBASE-5787</key>
            <summary>Table owner can&apos;t disable/delete his/her own table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="mbertozzi">Matteo Bertozzi</reporter>
                        <labels>
                            <label>acl</label>
                            <label>security</label>
                    </labels>
                <created>Fri, 13 Apr 2012 22:47:31 +0000</created>
                <updated>Tue, 26 Feb 2013 17:02:57 +0000</updated>
                            <resolved>Mon, 23 Apr 2012 16:39:10 +0000</resolved>
                                    <version>0.92.1</version>
                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13253855" author="zhihyu@ebaysf.com" created="Fri, 13 Apr 2012 23:18:20 +0000"  >&lt;p&gt;Patch makes sense.&lt;/p&gt;

&lt;p&gt;Please run through security test suite and let us know the result.&lt;/p&gt;</comment>
                            <comment id="13254300" author="mbertozzi" created="Sun, 15 Apr 2012 10:42:00 +0000"  >&lt;p&gt;Test seems ok, (tested against 0.94)&lt;br/&gt;
I&apos;ve also attached a patch to fix some &quot;copy-paste&quot; code.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.security.access.TestZKPermissionsWatcher
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.659 sec
Running org.apache.hadoop.hbase.security.access.TestAccessControlFilter
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.746 sec
Running org.apache.hadoop.hbase.security.access.TestAccessController
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 34.119 sec
Running org.apache.hadoop.hbase.security.access.TestTablePermissions
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 28.822 sec

Results :
Tests run: 27, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13254336" author="zhihyu@ebaysf.com" created="Sun, 15 Apr 2012 13:56:43 +0000"  >&lt;p&gt;Thanks for the update.&lt;br/&gt;
Can you combine the two patches and run through tests again, including the following two ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
security/src/test&lt;span class=&quot;code-comment&quot;&gt;//java/org/apache/hadoop/hbase/security/token/TestTokenAuthentication.java
&lt;/span&gt;security/src/test&lt;span class=&quot;code-comment&quot;&gt;//java/org/apache/hadoop/hbase/security/token/TestZKSecretWatcher.java&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13254337" author="mbertozzi" created="Sun, 15 Apr 2012 14:13:45 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.security.token.TestTokenAuthentication
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.765 sec
Running org.apache.hadoop.hbase.security.token.TestZKSecretWatcher
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 15.958 sec

Results :
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13256747" author="mbertozzi" created="Wed, 18 Apr 2012 17:48:34 +0000"  >&lt;p&gt;any additional thoughts or comments on the patch?&lt;/p&gt;</comment>
                            <comment id="13256777" author="zhihyu@ebaysf.com" created="Wed, 18 Apr 2012 18:21:47 +0000"  >&lt;p&gt;Inetgrated to trunk.&lt;/p&gt;

&lt;p&gt;I think this should go to 0.94.0 as well.&lt;br/&gt;
What do you think, Lars ?&lt;/p&gt;</comment>
                            <comment id="13256785" author="mbertozzi" created="Wed, 18 Apr 2012 18:27:00 +0000"  >&lt;p&gt;except for a getConf() -&amp;gt; getConfiguration() change nothing is changed in AccessController between 0.92 and trunk&lt;/p&gt;</comment>
                            <comment id="13256862" author="zhihyu@ebaysf.com" created="Wed, 18 Apr 2012 19:20:14 +0000"  >&lt;p&gt;I applied latest patch to 0.92 and was able to run the test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.security.access.TestAccessController
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 45.115 sec

Results :

Tests run: 21, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13256898" author="hudson" created="Wed, 18 Apr 2012 19:58:36 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2781 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2781/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5787&quot; title=&quot;Table owner can&amp;#39;t disable/delete his/her own table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5787&quot;&gt;&lt;del&gt;HBASE-5787&lt;/del&gt;&lt;/a&gt; Table owner can&apos;t disable/delete its own table (Matteo) (Revision 1327605)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13256948" author="lhofhansl" created="Wed, 18 Apr 2012 20:48:31 +0000"  >&lt;p&gt;I would like to see some input from the folks who did the security implementation first. Andrew? Gary? Any comments.&lt;/p&gt;</comment>
                            <comment id="13257104" author="apurtell" created="Thu, 19 Apr 2012 00:10:41 +0000"  >&lt;p&gt;This seems fine. The initial implementation had the notion of requiring ADMIN for any table op that has global cluster implications, but then went back and changed that to allow at least users to create tables if they had CREATE permission. The delete case seems a bug. All around an area that required improvement.&lt;/p&gt;</comment>
                            <comment id="13257119" author="zhihyu@ebaysf.com" created="Thu, 19 Apr 2012 00:46:18 +0000"  >&lt;p&gt;Thanks for the information, Andy.&lt;/p&gt;

&lt;p&gt;Integrated to 0.92 and 0.94 as well.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Matteo.&lt;/p&gt;</comment>
                            <comment id="13257151" author="hudson" created="Thu, 19 Apr 2012 01:45:00 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #131 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/131/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/131/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5787&quot; title=&quot;Table owner can&amp;#39;t disable/delete his/her own table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5787&quot;&gt;&lt;del&gt;HBASE-5787&lt;/del&gt;&lt;/a&gt; Table owner can&apos;t disable/delete its own table (Matteo) (Revision 1327757)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13257265" author="hudson" created="Thu, 19 Apr 2012 05:58:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #175 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/175/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/175/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5787&quot; title=&quot;Table owner can&amp;#39;t disable/delete his/her own table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5787&quot;&gt;&lt;del&gt;HBASE-5787&lt;/del&gt;&lt;/a&gt; Table owner can&apos;t disable/delete its own table (Matteo) (Revision 1327605)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13257712" author="hudson" created="Thu, 19 Apr 2012 19:28:57 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #17 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/17/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/17/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5787&quot; title=&quot;Table owner can&amp;#39;t disable/delete his/her own table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5787&quot;&gt;&lt;del&gt;HBASE-5787&lt;/del&gt;&lt;/a&gt; Table owner can&apos;t disable/delete its own table (Matteo) (Revision 1327757)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13259506" author="hudson" created="Mon, 23 Apr 2012 11:00:49 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #105 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/105/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5787&quot; title=&quot;Table owner can&amp;#39;t disable/delete his/her own table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5787&quot;&gt;&lt;del&gt;HBASE-5787&lt;/del&gt;&lt;/a&gt; Table owner can&apos;t disable/delete its own table (Matteo) (Revision 1327758)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12522697" name="HBASE-5787-tests-wrong-names.patch" size="2310" author="mbertozzi" created="Sun, 15 Apr 2012 10:42:00 +0000"/>
                            <attachment id="12522633" name="HBASE-5787-v0.patch" size="2558" author="mbertozzi" created="Fri, 13 Apr 2012 22:47:59 +0000"/>
                            <attachment id="12522702" name="HBASE-5787-v1.patch" size="4868" author="mbertozzi" created="Sun, 15 Apr 2012 14:13:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Apr 2012 23:18:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02hi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>