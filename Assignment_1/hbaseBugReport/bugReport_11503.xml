<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:23:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11503/HBASE-11503.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11503] Inconsistency in CP between HRegion#batchMutate() and MultiRowMutation()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11503</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From users perspective both are almost same except in MultiRowMutation all Mutations are applied in one transaction. So the call and behavior of CPs during both of these execution should be consistent.  Now after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11423&quot; title=&quot;Visibility label and per cell ACL feature not working with HTable#mutateRow() and MultiRowMutationEndpoint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11423&quot;&gt;&lt;del&gt;HBASE-11423&lt;/del&gt;&lt;/a&gt;, all hooks are getting called.&lt;br/&gt;
But in case of HRegion#batchMutate() when a prePut/Delete() call for one Mutation do a bypass, the actual Mutation we are not applying but will continue with other Mutations. But in case of MultiRowMutation, when prePut/Delete() call for one Mutation do a bypass, we just stop calling pre hooks for remaining Mutations but will end up applying those Mutations to Region.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void preProcess(HRegion region, WALEdit walEdit) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    RegionCoprocessorHost coprocessorHost = region.getCoprocessorHost();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (coprocessorHost != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Mutation m : mutations) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (m &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Put) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (coprocessorHost.prePut((Put) m, walEdit, m.getDurability())) {
            &lt;span class=&quot;code-comment&quot;&gt;// by pass everything
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
          }
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (m &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Delete) {
          Delete d = (Delete) m;
          region.prepareDelete(d);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (coprocessorHost.preDelete(d, walEdit, d.getDurability())) {
            &lt;span class=&quot;code-comment&quot;&gt;// by pass everything
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
          }
        }
      }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12726746">HBASE-11503</key>
            <summary>Inconsistency in CP between HRegion#batchMutate() and MultiRowMutation()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="anoop.hbase">Anoop Sam John</assignee>
                                    <reporter username="anoop.hbase">Anoop Sam John</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jul 2014 07:15:20 +0000</created>
                <updated>Fri, 11 Jul 2014 07:15:20 +0000</updated>
                                                                            <component>Coprocessors</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404853</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xobr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>