<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:44:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13517/HBASE-13517.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13517] Publish a client artifact with shaded dependencies</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13517</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Guava&apos;s moved on. Hadoop has not.&lt;br/&gt;
Jackson moves whenever it feels like it.&lt;br/&gt;
Protobuf moves with breaking point changes.&lt;/p&gt;

&lt;p&gt;While shading all of the time would break people that require the transitive dependencies for MR or other things. Lets provide an artifact with our dependencies shaded. Then users can have the choice to use the shaded version or the non-shaded version.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12822510">HBASE-13517</key>
            <summary>Publish a client artifact with shaded dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eclark">Elliott Clark</assignee>
                                    <reporter username="eclark">Elliott Clark</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Apr 2015 00:28:08 +0000</created>
                <updated>Fri, 3 Jul 2015 23:38:13 +0000</updated>
                            <resolved>Tue, 28 Apr 2015 16:50:06 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="14504286" author="stack" created="Tue, 21 Apr 2015 04:15:50 +0000"  >&lt;p&gt;Guava first!&lt;/p&gt;</comment>
                            <comment id="14504351" author="eclark" created="Tue, 21 Apr 2015 05:21:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D37467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D37467&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14504354" author="eclark" created="Tue, 21 Apr 2015 05:24:11 +0000"  >&lt;p&gt;Here&apos;s a patch that adds in hbase-sharded, hbase-sharded-client, and hbase-sharded-server.&lt;br/&gt;
When using the sharded versions there is a trade off. You can&apos;t use HBaseTestingUtil because all of the jsp, jersey, servlet classloading. If someone has a fix for this I&apos;d be all ears. It&apos;s just beyond me.&lt;/p&gt;</comment>
                            <comment id="14504553" author="hadoopqa" created="Tue, 21 Apr 2015 08:04:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12726792/HBASE-13517.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12726792/HBASE-13517.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit eb82b8b3098d6a9ac62aa50189f9d4b289f38472.&lt;br/&gt;
  ATTACHMENT ID: 12726792&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 66 javac compiler warnings (more than the master&apos;s current 5 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the master&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+                                        &amp;lt;!-- Hadoop and HBase depend on an old Guava, don&apos;t expose it to dependents --&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.io.netty&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.jboss.netty&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.mortbay&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.codehaus.jackson&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.apache.avro&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.com.sun.jersey&amp;lt;/shadedPattern&amp;gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/patchReleaseAuditWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/patchReleaseAuditWarnings.txt&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13751//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14504574" author="eclark" created="Tue, 21 Apr 2015 08:19:01 +0000"  >&lt;p&gt;Patch to make assembly:single happy.&lt;/p&gt;</comment>
                            <comment id="14504586" author="eclark" created="Tue, 21 Apr 2015 08:25:41 +0000"  >&lt;p&gt;Patch without extra un-needed file.&lt;/p&gt;</comment>
                            <comment id="14504764" author="hadoopqa" created="Tue, 21 Apr 2015 10:53:19 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12726822/HBASE-13517-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12726822/HBASE-13517-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit eb82b8b3098d6a9ac62aa50189f9d4b289f38472.&lt;br/&gt;
  ATTACHMENT ID: 12726822&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 55 javac compiler warnings (more than the master&apos;s current 5 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the master&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+                                        &amp;lt;!-- Hadoop and HBase depend on an old Guava, don&apos;t expose it to dependents --&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.io.netty&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.jboss.netty&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.mortbay&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.codehaus.jackson&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.apache.avro&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.com.sun.jersey&amp;lt;/shadedPattern&amp;gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/patchReleaseAuditWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/patchReleaseAuditWarnings.txt&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13752//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14504777" author="hadoopqa" created="Tue, 21 Apr 2015 11:09:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12726823/HBASE-13517-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12726823/HBASE-13517-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit eb82b8b3098d6a9ac62aa50189f9d4b289f38472.&lt;br/&gt;
  ATTACHMENT ID: 12726823&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 55 javac compiler warnings (more than the master&apos;s current 5 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the master&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+                                        &amp;lt;!-- Hadoop and HBase depend on an old Guava, don&apos;t expose it to dependents --&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.io.netty&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.jboss.netty&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.mortbay&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.codehaus.jackson&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.org.apache.avro&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.com.sun.jersey&amp;lt;/shadedPattern&amp;gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/patchReleaseAuditWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/patchReleaseAuditWarnings.txt&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13753//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14505140" author="busbey" created="Tue, 21 Apr 2015 15:46:36 +0000"  >&lt;p&gt;just curious, how big are the shaded jars?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;artifactSet&amp;gt;
+                                    &amp;lt;includes&amp;gt;
+                                        &amp;lt;include&amp;gt;org.apache.hbase:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;org.apache.hadoop:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;org.apache.zookeeper*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;com.google.protobuf:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;io.netty:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;org.jboss.netty:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;com.google.guava:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;org.mortbay.jetty:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;org.codehaus.jackson:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;org.apache.avro:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;com.sun.jersey:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;com.sun.jersey.contribs:*&amp;lt;/include&amp;gt;
+                                        &amp;lt;include&amp;gt;tomcat:*&amp;lt;/include&amp;gt;
+                                    &amp;lt;/includes&amp;gt;
+                                &amp;lt;/artifactSet&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Can we avoid including things in the shaded jar that aren&apos;t in org.apache.hadoop.hbase or subpackages? That&apos;s probably the #1 source of pain with shaded artifacts.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.com.google.common
+                                        &amp;lt;/shadedPattern&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;nit: could we use something like &lt;tt&gt;org.apache.hadoop.hbase.shaded.&lt;/tt&gt; as the prefix for all of these relocations so that there&apos;s a common package / directory for all of them?&lt;/p&gt;</comment>
                            <comment id="14505143" author="busbey" created="Tue, 21 Apr 2015 15:47:40 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Can we avoid including things in the shaded jar that aren&apos;t in org.apache.hadoop.hbase or subpackages? That&apos;s probably the #1 source of pain with shaded artifacts.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;this should have been &quot;aren&apos;t relocated in&quot;. I don&apos;t want e.g. someone who needs to use HBase and HDFS to suddenly have another jar with the hadoop packages visible just because they&apos;re trying to use our shaded artifact.&lt;/p&gt;</comment>
                            <comment id="14505153" author="eclark" created="Tue, 21 Apr 2015 15:55:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t want e.g. someone who needs to use HBase and HDFS to suddenly have another jar with the hadoop packages visible just because they&apos;re trying to use our shaded artifact.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We can&apos;t relocate Hadoop because that would break Configuration and several public apis. However we need to include the classes because they use guava and need to be re-written to use the new location.&lt;/p&gt;

&lt;p&gt;The rest of the dependencies should be relocated.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;nit: could we use something like org.apache.hadoop.hbase.shaded. as the prefix for all of these relocations so that there&apos;s a common package / directory for all of them?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure let me get that and have apache-rat clean.&lt;/p&gt;</comment>
                            <comment id="14505174" author="eclark" created="Tue, 21 Apr 2015 16:04:48 +0000"  >&lt;p&gt;Here&apos;s a dependency:tree for a down stream project using hbase-shaded-client. ( No guava, No protobuf, No jackson, no jetty, no netty). &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] --- maven-dependency-plugin:2.8:tree (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-cli) @ test-hbase-client-shade ---
[INFO] test-hbase-client-shade:test-hbase-client-shade:jar:1.0-SNAPSHOT
[INFO] +- org.apache.hbase:hbase-shaded-client:jar:2.0.0-SNAPSHOT:compile
[INFO] |  +- commons-collections:commons-collections:jar:3.2.1:compile
[INFO] |  +- commons-codec:commons-codec:jar:1.9:compile
[INFO] |  +- commons-io:commons-io:jar:2.4:compile
[INFO] |  +- commons-lang:commons-lang:jar:2.6:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.2:compile
[INFO] |  +- com.google.code.findbugs:jsr305:jar:1.3.9:compile
[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.7:compile
[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.6.1:compile
[INFO] |  +- org.apache.htrace:htrace-core:jar:3.1.0-incubating:compile
[INFO] |  +- org.jruby.jcodings:jcodings:jar:1.0.8:compile
[INFO] |  +- org.jruby.joni:joni:jar:2.1.2:compile
[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.2.5:compile
[INFO] |  +- org.apache.httpcomponents:httpcore:jar:4.2.4:compile
[INFO] |  +- org.apache.directory.server:apacheds-kerberos-codec:jar:2.0.0-M15:compile
[INFO] |  +- org.apache.directory.server:apacheds-i18n:jar:2.0.0-M15:compile
[INFO] |  +- org.apache.directory.api:api-asn1-api:jar:1.0.0-M20:compile
[INFO] |  +- org.apache.directory.api:api-util:jar:1.0.0-M20:compile
[INFO] |  +- commons-cli:commons-cli:jar:1.2:compile
[INFO] |  +- org.apache.commons:commons-math3:jar:3.1.1:compile
[INFO] |  +- xmlenc:xmlenc:jar:0.52:compile
[INFO] |  +- commons-httpclient:commons-httpclient:jar:3.1:compile
[INFO] |  +- commons-net:commons-net:jar:3.1:compile
[INFO] |  +- commons-el:commons-el:jar:1.0:runtime
[INFO] |  +- commons-configuration:commons-configuration:jar:1.6:compile
[INFO] |  +- commons-digester:commons-digester:jar:1.8:compile
[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.7.0:compile
[INFO] |  +- commons-beanutils:commons-beanutils-core:jar:1.8.0:compile
[INFO] |  +- com.thoughtworks.paranamer:paranamer:jar:2.3:compile
[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.0.4.1:compile
[INFO] |  +- com.jcraft:jsch:jar:0.1.42:compile
[INFO] |  +- org.apache.commons:commons-compress:jar:1.4.1:compile
[INFO] |  +- org.tukaani:xz:jar:1.0:compile
[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.2.2:compile
[INFO] |  +- javax.activation:activation:jar:1.1:compile
[INFO] |  +- com.github.stephenc.findbugs:findbugs-annotations:jar:1.3.9-1:compile
[INFO] |  \- log4j:log4j:jar:1.2.17:compile
[INFO] \- junit:junit:jar:4.11:test
[INFO]    \- org.hamcrest:hamcrest-core:jar:1.3:test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should we re-locate the commons-* stuff too ? I think we should leave the loggin stuff exposed as that stuff relies on loading classes by name; however the rest can move if it&apos;s wanted.&lt;/p&gt;


&lt;p&gt;Sizes as things stand:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-rw-r--r--  1 elliott  THEFACEBOOK\Domain Users    19M Apr 21 08:56 hbase-shaded-client-2.0.0-SNAPSHOT.jar
-rw-r--r--  1 elliott  THEFACEBOOK\Domain Users    36M Apr 21 08:57 hbase-shaded-server-2.0.0-SNAPSHOT.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14505533" author="busbey" created="Tue, 21 Apr 2015 19:04:01 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Should we re-locate the commons-* stuff too ? I think we should leave the loggin stuff exposed as that stuff relies on loading classes by name; however the rest can move if it&apos;s wanted.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m generally of the opinion that you should relocate absolutely everything you can.&lt;/p&gt;

&lt;p&gt;Is Hadoop&apos;s Configuration really in our API?&lt;/p&gt;</comment>
                            <comment id="14505539" author="eclark" created="Tue, 21 Apr 2015 19:09:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m generally of the opinion that you should relocate absolutely everything you can.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;K, working on it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is Hadoop&apos;s Configuration really in our API?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah return values for HBaseConfigurations and as function parameters for Connection creation and MR job submission.&lt;/p&gt;</comment>
                            <comment id="14507559" author="eclark" created="Wed, 22 Apr 2015 18:01:09 +0000"  >&lt;p&gt;Shaded everything minus logging deps since they rely on config for class loading. Here&apos;s what the resulting dependency tree of a downstreamer would be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] test-hbase-client-shade:test-hbase-client-shade:jar:1.0-SNAPSHOT
[INFO] +- org.apache.hbase:hbase-shaded-server:jar:2.0.0-SNAPSHOT:compile
[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.7:compile
[INFO] |  +- commons-logging:commons-logging:jar:1.2:compile
[INFO] |  +- org.slf4j:slf4j-log4j12:jar:1.6.1:compile
[INFO] |  +- org.apache.htrace:htrace-core:jar:3.1.0-incubating:compile
[INFO] |  +- log4j:log4j:jar:1.2.17:compile
[INFO] |  \- com.github.stephenc.findbugs:findbugs-annotations:jar:1.3.9-1:compile
[INFO] \- junit:junit:jar:4.11:test
[INFO]    \- org.hamcrest:hamcrest-core:jar:1.3:test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14507849" author="hadoopqa" created="Wed, 22 Apr 2015 20:41:35 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12727291/HBASE-13517-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12727291/HBASE-13517-v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 2bf8cda4f68940909e9bcfdf8ae41cc751a49c7d.&lt;br/&gt;
  ATTACHMENT ID: 12727291&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The applied patch generated 113 javac compiler warnings (more than the master&apos;s current 5 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/xsd/maven-4.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
+                                &amp;lt;dependencyReducedPomLocation&amp;gt;$&lt;/p&gt;
{project.build.directory}
&lt;p&gt;/dependency-reduced-pom.xml&amp;lt;/dependencyReducedPomLocation&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.shaded.com&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.shaded.net&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.shaded.javax&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.shaded.io&amp;lt;/shadedPattern&amp;gt;&lt;br/&gt;
+                                        &amp;lt;shadedPattern&amp;gt;org.apache.hadoop.hbase.shaded.org&amp;lt;/shadedPattern&amp;gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13779//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14507855" author="eclark" created="Wed, 22 Apr 2015 20:43:56 +0000"  >&lt;p&gt;Thoughts on this?&lt;/p&gt;

&lt;p&gt;I&apos;ve tested that the client jar works and I can use it to scan data from a cluster.&lt;br/&gt;
There are no deps other than hadoop that aren&apos;t relocated.&lt;br/&gt;
Guava and others can be on the classpath with different versions and everything works well.&lt;/p&gt;</comment>
                            <comment id="14508215" author="ndimiduk" created="Thu, 23 Apr 2015 00:30:24 +0000"  >&lt;p&gt;I think giving the user the option to isolate our environment from their own isn&apos;t a bad thing. Are we making trouble by pushing such an artifact to the maven repos?&lt;/p&gt;

&lt;p&gt;Does this qualify as a work-around for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13149&quot; title=&quot;HBase MR is broken on Hadoop 2.5+ Yarn&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13149&quot;&gt;&lt;del&gt;HBASE-13149&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14508314" author="eclark" created="Thu, 23 Apr 2015 02:11:55 +0000"  >&lt;p&gt;This might work around that issue. However it&apos;s more intended to allow users the freedom to choose which dependencies in their own servers without regard to hold old or crufty our dependencies are. The other thing is it&apos;s pretty hard to debug when there are incorrect versions on the classpath since the errors can happen long after the process starts.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Are we making trouble by pushing such an artifact to the maven repos?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It&apos;s a little more work for us, but I think for the end users it would be worth it. ( The guava issue has bitten two different internal users separately in the past week alone).&lt;/p&gt;

&lt;p&gt;There are better long term solutions however all of them require hadoop to do pretty drastic things, so I think this is the best solution for downstreamers who need/want to use versions that don&apos;t line up with hadop and HBase&lt;/p&gt;</comment>
                            <comment id="14516340" author="ndimiduk" created="Tue, 28 Apr 2015 04:40:58 +0000"  >&lt;p&gt;Alright, +1 from me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; any other concerns? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14517155" author="busbey" created="Tue, 28 Apr 2015 15:07:58 +0000"  >&lt;p&gt;Could we shade htrace out as well?&lt;/p&gt;

&lt;p&gt;What&apos;s the expected use case for shaded-server?&lt;/p&gt;</comment>
                            <comment id="14517172" author="eclark" created="Tue, 28 Apr 2015 15:14:10 +0000"  >&lt;p&gt;We can&apos;t shade out HTrace otherwise there would be no way to start tracing on a request.&lt;/p&gt;</comment>
                            <comment id="14517282" author="ndimiduk" created="Tue, 28 Apr 2015 16:02:14 +0000"  >&lt;p&gt;I believe the shaded server jar is for map reduce jobs.&lt;/p&gt;</comment>
                            <comment id="14517349" author="busbey" created="Tue, 28 Apr 2015 16:34:49 +0000"  >&lt;p&gt;+1 presuming we document that hbase-server-shaded is just for MR job, to avoid people trying to use it for e.g. writing coprocessors or replication implementations (though I&apos;d prefer we get &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12946&quot; title=&quot;Decouple MapReduce pieces from hbase-server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12946&quot;&gt;&lt;del&gt;HBASE-12946&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11843&quot; title=&quot;MapReduce classes shouldn&amp;#39;t be in hbase-server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11843&quot;&gt;HBASE-11843&lt;/a&gt; for those MR classes we expect users to make use of instead).&lt;/p&gt;</comment>
                            <comment id="14517385" author="eclark" created="Tue, 28 Apr 2015 16:49:52 +0000"  >&lt;p&gt;Thanks for the reviews.&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; I totally want a better distribution of code into jars. And I owe a couple of doc jiras for 1.1 so let me file another one and get started on those.&lt;/p&gt;</comment>
                            <comment id="14517402" author="busbey" created="Tue, 28 Apr 2015 16:56:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; could you add a release note?&lt;/p&gt;</comment>
                            <comment id="14517411" author="ndimiduk" created="Tue, 28 Apr 2015 17:00:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;And I owe a couple of doc jiras for 1.1&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;IIRC, there&apos;s a doc ticket for memcached block cache as well &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I may have bumped those out of 1.1.0. Mind setting the fixVersion on them so I can make sure they make the release? Thanks.&lt;/p&gt;</comment>
                            <comment id="14517420" author="eclark" created="Tue, 28 Apr 2015 17:05:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;IIRC, there&apos;s a doc ticket for memcached block cache as well&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah that&apos;s the one that I was thinking about.&lt;/p&gt;</comment>
                            <comment id="14517691" author="hudson" created="Tue, 28 Apr 2015 19:09:59 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #439 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/439/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/439/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13517&quot; title=&quot;Publish a client artifact with shaded dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13517&quot;&gt;&lt;del&gt;HBASE-13517&lt;/del&gt;&lt;/a&gt; Publish a client artifact with shaded dependencies (eclark: rev da9f06318d6c5021306b3de288fb1b81983cea1c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;.gitignore&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-assembly/src/main/assembly/src.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-server/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-assembly/src/main/assembly/hadoop-two-compat.xml&lt;/li&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14517696" author="hudson" created="Tue, 28 Apr 2015 19:11:21 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #36 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/36/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/36/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13517&quot; title=&quot;Publish a client artifact with shaded dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13517&quot;&gt;&lt;del&gt;HBASE-13517&lt;/del&gt;&lt;/a&gt; Publish a client artifact with shaded dependencies (eclark: rev d9bf56ab3a40ced5ff77a0d2df8d76e1200f7b22)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-assembly/src/main/assembly/hadoop-two-compat.xml&lt;/li&gt;
	&lt;li&gt;.gitignore&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-server/pom.xml&lt;/li&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-client/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-assembly/src/main/assembly/src.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14518078" author="hudson" created="Tue, 28 Apr 2015 21:14:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6428 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6428/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6428/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13517&quot; title=&quot;Publish a client artifact with shaded dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13517&quot;&gt;&lt;del&gt;HBASE-13517&lt;/del&gt;&lt;/a&gt; Publish a client artifact with shaded dependencies (eclark: rev d2c19416a2afb6c47f79037702411bb63a80e9e6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-assembly/src/main/assembly/hadoop-two-compat.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-client/pom.xml&lt;/li&gt;
	&lt;li&gt;.gitignore&lt;/li&gt;
	&lt;li&gt;hbase-shaded/hbase-shaded-server/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shaded/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-assembly/src/main/assembly/src.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14520338" author="ndimiduk" created="Wed, 29 Apr 2015 21:49:09 +0000"  >&lt;p&gt;I see no shaded jars in the tgz. These only for maven, or did we want to ship them as well? maybe a new top level directory called &quot;shaded&quot;?&lt;/p&gt;</comment>
                            <comment id="14520399" author="eclark" created="Wed, 29 Apr 2015 22:19:47 +0000"  >&lt;p&gt;I was thinking of them as maven only. Though adding a new top level directory would work well too. Anything that keeps them off of the classpath.&lt;/p&gt;</comment>
                            <comment id="14571115" author="ndimiduk" created="Wed, 3 Jun 2015 15:29:04 +0000"  >&lt;p&gt;Closing issues released in 1.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12726822" name="HBASE-13517-v1.patch" size="20502" author="eclark" created="Tue, 21 Apr 2015 08:19:01 +0000"/>
                            <attachment id="12726823" name="HBASE-13517-v2.patch" size="18438" author="eclark" created="Tue, 21 Apr 2015 08:25:41 +0000"/>
                            <attachment id="12727291" name="HBASE-13517-v3.patch" size="16503" author="eclark" created="Wed, 22 Apr 2015 17:55:24 +0000"/>
                            <attachment id="12726792" name="HBASE-13517.patch" size="13946" author="eclark" created="Tue, 21 Apr 2015 05:21:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Apr 2015 04:15:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dihr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>HBase now provides added convenience artifacts that shade most dependencies. These jars hbase-shaded-client and hbase-shaded-server are meant to be used when dependency conflicts can not be solved any other way. The normal jars hbase-client and hbase-server should still be preferred when possible.&lt;br/&gt;
&lt;br/&gt;
Do not use hbase-shaded-server or hbase-shaded-client inside of a co-processor as bad things will happen.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>