<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:35:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12657/HBASE-12657.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12657] The Region is not being split and far exceeds the desired maximum size.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12657</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We are seeing this behavior when creating indexes in one of our environment.&lt;/p&gt;

&lt;p&gt;When an index is being created, most of the &quot;requests&quot; go into a single region.  The amount of time to create an index seems to take longer than usual and it can take days for the regions to compact and split after the index is created.&lt;/p&gt;

&lt;p&gt;Here is a du of the HBase index table:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-bash-4.1$ sudo -su hdfs hadoop fs -du /hbase/43681
705          /hbase/43681/.tableinfo.0000000001
0            /hbase/43681/.tmp
27981697293  /hbase/43681/0492e22092e21d35fca8e779b21ec797
539687093    /hbase/43681/832298c4e975fc47210feb6bac3d2f71
560660531    /hbase/43681/be9bdb3bdf9365afe5fe90db4247d82c
7081938297   /hbase/43681/cd440e524f96fbe0719b2fe969848560
6297860287   /hbase/43681/dc893a2d8daa08c689dc69e6bb2c5b50
7189607722   /hbase/43681/ffbceaea5e2f142dbe6cd4cbeacc00e8

...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12760279">HBASE-12657</key>
            <summary>The Region is not being split and far exceeds the desired maximum size.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vrodionov">Vladimir Rodionov</assignee>
                                    <reporter username="vrodionov">Vladimir Rodionov</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Dec 2014 22:00:33 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:23 +0000</updated>
                            <resolved>Thu, 11 Dec 2014 21:24:12 +0000</resolved>
                                    <version>0.94.25</version>
                                    <fixVersion>0.94.26</fixVersion>
                                    <component>Compaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14238546" author="vrodionov" created="Mon, 8 Dec 2014 22:07:49 +0000"  >&lt;p&gt;Region can&apos;t be split because, despite of its size, it still has reference files and this prevents region from splitting. The question : what does prevent reference files from being compacted?&lt;/p&gt;

&lt;p&gt;Lowest sequence ID among all store files in a region is the reason that reference files are constantly getting removed from compaction selections if there are newer files in a compaction queue. This is what is happening under high load when there are too many minor compaction requests in a queue, reference files do not have a chance to be compacted. Interestingly, that current 0.94 and 0.98 code have different issues here and require different patches.&lt;br/&gt;
0.94 does not treat compaction request with reference files as major one, but ignores &lt;b&gt;hbase.hstore.compaction.max&lt;/b&gt; for major compactions, 0.98 consider compaction of reference files as a major one, but consults &lt;b&gt;hbase.hstore.compaction.max&lt;/b&gt; and downgrades request when # of files exceeds this limit.&lt;br/&gt;
Low (default) value for &lt;b&gt;hbase.hstore.compaction.max&lt;/b&gt; and prolonged write activity w/o throttling will get you into this region is out of bounds situation. Because, when compaction can&apos;t keep up with writes, number of store files eventually exceeds &lt;b&gt;hbase.hstore.compaction.max&lt;/b&gt;. &lt;br/&gt;
Here what is happening in 0.94:&lt;br/&gt;
&lt;b&gt;0.94 - Does not enforce major compaction flag on selections with reference files, applies selection algorithm and applies the limit by removing first K = N - max files from candidate list. N - # of files in selection list, max - is *hbase.hstore.compaction.max&lt;/b&gt; value.&lt;/p&gt;

&lt;p&gt;*0.98 - It marks selection as major but after that applies limit and removes first K = N - max files from a candidate list.&lt;br/&gt;
In both cases, if # of references files &amp;gt; max, some reference files will be excluded.&lt;/p&gt;

&lt;p&gt;What happens later, depends on what we have in a compaction file list for this Store (HStore). If pending files list has at least one non-reference file, all reference files will be excluded from above selection. What I have to say here, it seems that the only way to compact all reference files is to enforce major compaction immediately after region split. If we fail to do this, with a very high probability, reference files will be pushing out of compaction until the write load decrease substantially and # of store files becomes less than &lt;b&gt;hbase.hstore.compaction.max&lt;/b&gt;.&lt;/p&gt;</comment>
                            <comment id="14238989" author="lhofhansl" created="Tue, 9 Dec 2014 05:07:01 +0000"  >&lt;p&gt;This code is hard to follow. Could use a few more comments.&lt;br/&gt;
In 0.98 I see in RatioBasedCompactionPolicy.removeExcessFiles that it removes later (i.e. newer files) files when it is over the hbase.hstore.compaction.max the. So it seems that (older) reference files remain in the selection and hence should be compacted first...?&lt;/p&gt;

&lt;p&gt;What&apos;s interesting is RatioBasedCompactionPolicy.getCurrentEligibleFiles, which does this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// exclude all files older than the newest file we&apos;re currently
&lt;/span&gt;      &lt;span class=&quot;code-comment&quot;&gt;// compacting. &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; allows us to preserve contiguity (HBASE-2856)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So if we have any minor compactions on the new files, we wouldn&apos;t compact the (older) reference files.&lt;br/&gt;
I don&apos;t think it&apos;s necessary to always compact all reference files away in one go. What &lt;b&gt;is&lt;/b&gt; important that reference are compacted before we compact any newer files that arrived since the split, that way they will be collected after a few rounds of compaction and that will not be delayed by new data coming in. From visual inspection of the code I find it very hard to verify that that is actually the case.&lt;/p&gt;

&lt;p&gt;It&apos;s OK to attach preliminary patch; so that we can have a look, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;. You can call it WIP, UNTESTED,  or EXAMPLE_ONLY (or whatever) to indicate that it&apos;s not a finished patch.&lt;/p&gt;</comment>
                            <comment id="14239944" author="vrodionov" created="Tue, 9 Dec 2014 19:51:14 +0000"  >&lt;p&gt;I checked trunk code and I think the issue is still there:&lt;/p&gt;

&lt;p&gt;HStore:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /**
   * @param candidates pre-filtrate
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; filtered subset
   * take upto maxFilesToCompact from the start
   */
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ArrayList&amp;lt;StoreFile&amp;gt; removeExcessFiles(ArrayList&amp;lt;StoreFile&amp;gt; candidates,
      &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isUserCompaction, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isMajorCompaction) {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; excess = candidates.size() - comConf.getMaxFilesToCompact();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (excess &amp;gt; 0) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isMajorCompaction &amp;amp;&amp;amp; isUserCompaction) {
        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Warning, compacting more than &quot;&lt;/span&gt; + comConf.getMaxFilesToCompact() +
            &lt;span class=&quot;code-quote&quot;&gt;&quot; files because of a user-requested major compaction&quot;&lt;/span&gt;);
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Too many admissible files. Excluding &quot;&lt;/span&gt; + excess
          + &lt;span class=&quot;code-quote&quot;&gt;&quot; files from compaction candidates&quot;&lt;/span&gt;);
        candidates.subList(comConf.getMaxFilesToCompact(), candidates.size()).clear();
      }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; candidates;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Even if this is a first after split compaction request we remove excess files from the list and this is the root cause of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12657&quot; title=&quot;The Region is not being split and far exceeds the desired maximum size.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12657&quot;&gt;&lt;del&gt;HBASE-12657&lt;/del&gt;&lt;/a&gt; (imo). Reference files must be compacted immediately after split, all of them.&lt;/p&gt;</comment>
                            <comment id="14239966" author="vrodionov" created="Tue, 9 Dec 2014 20:07:08 +0000"  >&lt;p&gt;Sorry, that was RatioBasedCompactionPolicy.&lt;/p&gt;</comment>
                            <comment id="14240038" author="vrodionov" created="Tue, 9 Dec 2014 20:51:50 +0000"  >&lt;p&gt;Frankly speaking, I can&apos;t find any single flaw in a trunk code. Even if we remove excess files, they are supposed to be newer ones, with higher sequence ids. Because we clear the tail of the list and files are ordered by sequence Ids in the list in ascending order.  In this case, older files will always have priorities in compaction selection. This means that the situation when we have new files in compaction queue but not older ones (reference) is not possible ... Unless ...&lt;/p&gt;

&lt;p&gt;Q: Is it possible for newer file to have sequence id lower that for older (reference) file? &lt;/p&gt;

&lt;p&gt;Q: What happen if compaction request get rejected and then will be submitted again?&lt;/p&gt;</comment>
                            <comment id="14240081" author="vrodionov" created="Tue, 9 Dec 2014 21:16:42 +0000"  >&lt;p&gt;There is a difference between 0.94 and 0.98+ in how we remove excess files:&lt;/p&gt;

&lt;p&gt;0.94 - from the head&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(majorcompaction) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (compactSelection.getFilesToCompact().size() &amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.maxFilesToCompact) {
          LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Warning, compacting more than &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.maxFilesToCompact +
            &lt;span class=&quot;code-quote&quot;&gt;&quot; files, probably because of a user-requested major compaction&quot;&lt;/span&gt;);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(priority != PRIORITY_USER) {
            LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Compacting more than max files on a non user-requested compaction&quot;&lt;/span&gt;);
          }
        }
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (compactSelection.getFilesToCompact().size() &amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.maxFilesToCompact) {
        &lt;span class=&quot;code-comment&quot;&gt;// all files included in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; compaction, up to max
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pastMax = compactSelection.getFilesToCompact().size() - &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.maxFilesToCompact;
        compactSelection.getFilesToCompact().subList(0, pastMax).clear();
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;trunk &amp;amp; 0.98 - from the tail&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isMajorCompaction &amp;amp;&amp;amp; isUserCompaction) {
        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Warning, compacting more than &quot;&lt;/span&gt; + comConf.getMaxFilesToCompact() +
            &lt;span class=&quot;code-quote&quot;&gt;&quot; files because of a user-requested major compaction&quot;&lt;/span&gt;);
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Too many admissible files. Excluding &quot;&lt;/span&gt; + excess
          + &lt;span class=&quot;code-quote&quot;&gt;&quot; files from compaction candidates&quot;&lt;/span&gt;);
        candidates.subList(comConf.getMaxFilesToCompact(), candidates.size()).clear();
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14240200" author="apurtell" created="Tue, 9 Dec 2014 22:45:06 +0000"  >&lt;p&gt;Moving to 0.98.10&lt;/p&gt;</comment>
                            <comment id="14240298" author="vrodionov" created="Tue, 9 Dec 2014 23:36:25 +0000"  >&lt;p&gt;I just checked our internal JIRA and it seems that the issue is 0.94 - specific. I will submit 0.94 patch first. If anybody has ever seen similar issue in a post-0.94 releases - raise your hand.  &lt;/p&gt;</comment>
                            <comment id="14240308" author="vrodionov" created="Tue, 9 Dec 2014 23:43:14 +0000"  >&lt;p&gt;The patch for 0.94 branch replaces code with the code from 0.98 +. If compaction selection size is greater than maximum number of files in a compaction we removes files from the tail of the candidate list (newer ones).&lt;/p&gt;</comment>
                            <comment id="14240319" author="hadoopqa" created="Tue, 9 Dec 2014 23:52:08 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12686139/HBASE-12657-0.94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12686139/HBASE-12657-0.94.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 1be63539f1e97a70bcd1eb6cbb48891b00146c51.&lt;br/&gt;
  ATTACHMENT ID: 12686139&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12026//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12026//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14240499" author="lhofhansl" created="Wed, 10 Dec 2014 01:49:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Frankly speaking, I can&apos;t find any single flaw in a trunk code. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree. Same for 0.98. It &lt;b&gt;looks&lt;/b&gt; correct to me. Yet, you are seeing these issues (in 0.98).&lt;/p&gt;</comment>
                            <comment id="14240512" author="vrodionov" created="Wed, 10 Dec 2014 01:57:53 +0000"  >&lt;p&gt;Nope. That is not correct. Our internal JIRA says: CDH 4.3. Looks like it is 0.94 - specific.&lt;/p&gt;</comment>
                            <comment id="14240634" author="lhofhansl" created="Wed, 10 Dec 2014 04:40:40 +0000"  >&lt;p&gt;OK... So only an issue in 0.94. Cool.&lt;/p&gt;</comment>
                            <comment id="14240636" author="lhofhansl" created="Wed, 10 Dec 2014 04:41:52 +0000"  >&lt;p&gt;+1 on patch, provided that all the pertinent replication tests pass.&lt;/p&gt;</comment>
                            <comment id="14240657" author="lhofhansl" created="Wed, 10 Dec 2014 05:03:27 +0000"  >&lt;p&gt;Precommit only works on trunk.&lt;br/&gt;
If possible, please run the replication tests. I will do that as well.&lt;/p&gt;</comment>
                            <comment id="14240783" author="tianq" created="Wed, 10 Dec 2014 07:56:36 +0000"  >&lt;p&gt;RatioBasedCompactionPolicy.getCurrentEligibleFiles does look suspicious(still not sure when it is triggered..)&lt;/p&gt;
</comment>
                            <comment id="14241637" author="vrodionov" created="Wed, 10 Dec 2014 20:07:09 +0000"  >&lt;p&gt;Fixed one failing unit test in a second patch. Run small/medium.long tests. All pass except TestImportExport, but its fail w/o patch as well. I do not know how to run replication tests. Please advise.&lt;/p&gt;</comment>
                            <comment id="14241765" author="vrodionov" created="Wed, 10 Dec 2014 21:24:23 +0000"  >&lt;p&gt;All tests in org.apache.hadoop.hbase.replication.regionserver PASS. &lt;/p&gt;</comment>
                            <comment id="14242139" author="lhofhansl" created="Thu, 11 Dec 2014 04:44:03 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Going to commit tomorrow unless I hear objections.&lt;/p&gt;</comment>
                            <comment id="14242142" author="lhofhansl" created="Thu, 11 Dec 2014 04:45:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;RatioBasedCompactionPolicy.getCurrentEligibleFiles does look suspicious(still not sure when it is triggered..)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tianq&quot; class=&quot;user-hover&quot; rel=&quot;tianq&quot;&gt;Qiang Tian&lt;/a&gt;, can you elaborate? It&apos;s looks sensible to me.&lt;/p&gt;</comment>
                            <comment id="14243169" author="lhofhansl" created="Thu, 11 Dec 2014 21:24:12 +0000"  >&lt;p&gt;Committed to 0.94.&lt;br/&gt;
Thanks for patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14243309" author="hudson" created="Thu, 11 Dec 2014 23:00:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #557 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/557/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/557/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12657&quot; title=&quot;The Region is not being split and far exceeds the desired maximum size.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12657&quot;&gt;&lt;del&gt;HBASE-12657&lt;/del&gt;&lt;/a&gt; The Region is not being split and far exceeds the desired maximum size. (Vladimir Rodionov) (larsh: rev 6e6dc4bd81695b7aa5ce283019d059c0570cb32e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14243333" author="hudson" created="Thu, 11 Dec 2014 23:17:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1443 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1443/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1443/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12657&quot; title=&quot;The Region is not being split and far exceeds the desired maximum size.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12657&quot;&gt;&lt;del&gt;HBASE-12657&lt;/del&gt;&lt;/a&gt; The Region is not being split and far exceeds the desired maximum size. (Vladimir Rodionov) (larsh: rev 6e6dc4bd81695b7aa5ce283019d059c0570cb32e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14243344" author="hudson" created="Thu, 11 Dec 2014 23:27:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #212 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/212/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/212/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12657&quot; title=&quot;The Region is not being split and far exceeds the desired maximum size.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12657&quot;&gt;&lt;del&gt;HBASE-12657&lt;/del&gt;&lt;/a&gt; The Region is not being split and far exceeds the desired maximum size. (Vladimir Rodionov) (larsh: rev 6e6dc4bd81695b7aa5ce283019d059c0570cb32e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14243652" author="tianq" created="Fri, 12 Dec 2014 03:14:42 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;br/&gt;
sorry I do not quite understand that part.  we expect to see filesCompacting is empty in getCurrentEligibleFiles right?&lt;br/&gt;
regarding HStore#filesCompacting. it looks we always remove files in CompactionRequest by finishCompactionRequest, so not sure why we need to maintain it..&lt;/p&gt;
</comment>
                            <comment id="15015969" author="lars_francke" created="Fri, 20 Nov 2015 11:53:23 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12686139" name="HBASE-12657-0.94.patch" size="1053" author="vrodionov" created="Tue, 9 Dec 2014 23:45:39 +0000"/>
                            <attachment id="12686357" name="HBASE-12657-0.94.patch.2" size="1861" author="vrodionov" created="Wed, 10 Dec 2014 20:05:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Dec 2014 05:07:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2377b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>