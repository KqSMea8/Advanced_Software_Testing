<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:44:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13604/HBASE-13604.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13604] bin/hbase mapredcp does not include yammer-metrics jar</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13604</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Noticed this while testing hive integration with HBase snapshots. The yammer metrics jar is needed for working with snapshots, but we don&apos;t include it in the &lt;tt&gt;bin/hbase mapredcp&lt;/tt&gt; output. That means the necessary classes are not on Hive&apos;s classpath by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12826451">HBASE-13604</key>
            <summary>bin/hbase mapredcp does not include yammer-metrics jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Apr 2015 22:41:27 +0000</created>
                <updated>Mon, 31 Aug 2015 22:39:50 +0000</updated>
                            <resolved>Fri, 22 May 2015 23:18:38 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.13</fixVersion>
                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14522417" author="ndimiduk" created="Thu, 30 Apr 2015 22:44:54 +0000"  >&lt;p&gt;Simple patch on our side to have snapshots be less &quot;special&quot;.&lt;/p&gt;</comment>
                            <comment id="14522428" author="ndimiduk" created="Thu, 30 Apr 2015 22:53:37 +0000"  >&lt;p&gt;Patch for 0.98 as well.&lt;/p&gt;</comment>
                            <comment id="14522435" author="yuzhihong@gmail.com" created="Thu, 30 Apr 2015 22:56:50 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14522471" author="enis" created="Thu, 30 Apr 2015 23:30:05 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="14522688" author="hadoopqa" created="Fri, 1 May 2015 02:44:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12729652/HBASE-13604.00-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12729652/HBASE-13604.00-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit aabf6ea2f692fc04f02f9a9ce74677bda203647e.&lt;br/&gt;
  ATTACHMENT ID: 12729652&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 24 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13904//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14523418" author="ndimiduk" created="Fri, 1 May 2015 16:38:07 +0000"  >&lt;p&gt;Pushed to 0.98+&lt;/p&gt;</comment>
                            <comment id="14523492" author="hudson" created="Fri, 1 May 2015 17:29:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #925 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/925/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13604&quot; title=&quot;bin/hbase mapredcp does not include yammer-metrics jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13604&quot;&gt;&lt;del&gt;HBASE-13604&lt;/del&gt;&lt;/a&gt; bin/hbase mapredcp does not include yammer-metrics jar (ndimiduk: rev 3b8aab5b8dccb9c0f78bb1765b73c3fc75346a32)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14523524" author="hudson" created="Fri, 1 May 2015 17:53:14 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #894 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/894/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/894/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13604&quot; title=&quot;bin/hbase mapredcp does not include yammer-metrics jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13604&quot;&gt;&lt;del&gt;HBASE-13604&lt;/del&gt;&lt;/a&gt; bin/hbase mapredcp does not include yammer-metrics jar (ndimiduk: rev aee1c0aae5a62ae262bb6fc628eb3e2202c48f16)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14523628" author="hudson" created="Fri, 1 May 2015 18:39:32 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #52 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/52/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/52/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13604&quot; title=&quot;bin/hbase mapredcp does not include yammer-metrics jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13604&quot;&gt;&lt;del&gt;HBASE-13604&lt;/del&gt;&lt;/a&gt; bin/hbase mapredcp does not include yammer-metrics jar (ndimiduk: rev 62da795ddbd69fb65da028367abacaef565a7f8e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14523711" author="hudson" created="Fri, 1 May 2015 19:04:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #457 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/457/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/457/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13604&quot; title=&quot;bin/hbase mapredcp does not include yammer-metrics jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13604&quot;&gt;&lt;del&gt;HBASE-13604&lt;/del&gt;&lt;/a&gt; bin/hbase mapredcp does not include yammer-metrics jar (ndimiduk: rev 05178beed1448b1a68e6c8f2c3981c58ea97e164)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14523746" author="hudson" created="Fri, 1 May 2015 19:19:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6446 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6446/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6446/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13604&quot; title=&quot;bin/hbase mapredcp does not include yammer-metrics jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13604&quot;&gt;&lt;del&gt;HBASE-13604&lt;/del&gt;&lt;/a&gt; bin/hbase mapredcp does not include yammer-metrics jar (ndimiduk: rev 9925e6df3993817c9243993471530856e011f046)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14523813" author="hudson" created="Fri, 1 May 2015 20:03:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #972 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/972/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/972/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13604&quot; title=&quot;bin/hbase mapredcp does not include yammer-metrics jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13604&quot;&gt;&lt;del&gt;HBASE-13604&lt;/del&gt;&lt;/a&gt; bin/hbase mapredcp does not include yammer-metrics jar (ndimiduk: rev 3b8aab5b8dccb9c0f78bb1765b73c3fc75346a32)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14544576" author="ndimiduk" created="Thu, 14 May 2015 23:08:41 +0000"  >&lt;p&gt;I committed this to branch-1.0, but maybe changing the dependency resolution semantics is not valid for a patch release. Thoughts &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;. I&apos;m concerned this may break clients that don&apos;t otherwise depend on Yammer Metrics now needing it in their classpath at runtime (ie, phoenix uberjars).&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chrajeshbabu32%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;chrajeshbabu32@gmail.com&quot;&gt;Rajeshbabu Chintaguntla&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jamestaylor&quot; class=&quot;user-hover&quot; rel=&quot;jamestaylor&quot;&gt;James Taylor&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gabriel.reid&quot; class=&quot;user-hover&quot; rel=&quot;gabriel.reid&quot;&gt;Gabriel Reid&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14544579" author="ndimiduk" created="Thu, 14 May 2015 23:09:14 +0000"  >&lt;p&gt;Reopening for discussion.&lt;/p&gt;</comment>
                            <comment id="14544588" author="busbey" created="Thu, 14 May 2015 23:13:14 +0000"  >&lt;p&gt;Normally, I would say it&apos;s no good adding a dependency in a patch release. However, we used to include this jar and MR used to work against snapshots. Also, dependency jars are generally a mess especially for MR jobs.&lt;/p&gt;

&lt;p&gt;So I dunno. Does it break Phoenix?&lt;/p&gt;</comment>
                            <comment id="14554833" author="enis" created="Thu, 21 May 2015 18:40:05 +0000"  >&lt;p&gt;I think it is fine, especially given that we need it for the MR job to work. &lt;/p&gt;</comment>
                            <comment id="14724287" author="enis" created="Mon, 31 Aug 2015 22:39:50 +0000"  >&lt;p&gt;Closing this issue after 1.0.2 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12729652" name="HBASE-13604.00-0.98.patch" size="1955" author="ndimiduk" created="Thu, 30 Apr 2015 22:53:37 +0000"/>
                            <attachment id="12729649" name="HBASE-13604.00.patch" size="1862" author="ndimiduk" created="Thu, 30 Apr 2015 22:44:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Apr 2015 22:56:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e5yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>