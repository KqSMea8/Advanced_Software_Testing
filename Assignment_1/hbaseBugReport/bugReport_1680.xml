<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:55:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1680/HBASE-1680.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1680] FilterList writable only works for HBaseObjectWritable defined types</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1680</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;So I can&apos;t have a filter list of my own filters. (Also a filter list of filter lists does not work because FilterList is not in HBaseObjectWritable)&lt;/p&gt;

&lt;p&gt;java.lang.UnsupportedOperationException: No code for unexpected class org.apache.hadoop.hbase.filter.FilterList&lt;br/&gt;
	at org.apache.hadoop.hbase.io.HbaseObjectWritable.writeClassCode(HbaseObjectWritable.java:246)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.HbaseObjectWritable.writeObject(HbaseObjectWritable.java:273)&lt;br/&gt;
	at org.apache.hadoop.hbase.filter.FilterList.write(FilterList.java:214)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.Scan.write(Scan.java:532)&lt;br/&gt;
	at org.apache.hadoop.hbase.io.HbaseObjectWritable.writeObject(HbaseObjectWritable.java:323)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseRPC$Invocation.write(HBaseRPC.java:184)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.sendParam(HBaseClient.java:475)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:708)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseRPC$Invoker.invoke(HBaseRPC.java:328)&lt;br/&gt;
	at $Proxy70.openScanner(Unknown Source)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.transactional.TransactionScannerCallable.openScanner(TransactionScannerCallable.java:46)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:74)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:32)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.getRegionServerWithRetries(HConnectionManager.java:926)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable$ClientScanner.nextScanner(HTable.java:1859)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable$ClientScanner.initialize(HTable.java:1807)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.transactional.TransactionalTable.getScanner(TransactionalTable.java:166)&lt;br/&gt;
	at net.troove.ddbc.hbase.HBaseHelper$7.call(HBaseHelper.java:303)&lt;br/&gt;
	at net.troove.ddbc.hbase.HBaseHelper$7.call(HBaseHelper.java:1)&lt;br/&gt;
	at net.troove.utils.RetryUtils.callWithRetry(RetryUtils.java:40)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431080">HBASE-1680</key>
            <summary>FilterList writable only works for HBaseObjectWritable defined types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="clint.morgan">Clint Morgan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 22:28:06 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:51 +0000</updated>
                            <resolved>Thu, 23 Jul 2009 05:18:26 +0000</resolved>
                                                    <fixVersion>0.20.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12733860" author="clint.morgan" created="Tue, 21 Jul 2009 22:29:15 +0000"  >&lt;p&gt;this fixed it for me&lt;/p&gt;</comment>
                            <comment id="12734369" author="streamy" created="Wed, 22 Jul 2009 23:02:25 +0000"  >&lt;p&gt;@Clint, don&apos;t we just need to add FilterList?&lt;/p&gt;

&lt;p&gt;In HbaseObjectWritable:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    addToMap(FilterList.class, code++);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12734370" author="streamy" created="Wed, 22 Jul 2009 23:04:34 +0000"  >&lt;p&gt;Clint, could you test with this patch instead?&lt;/p&gt;</comment>
                            <comment id="12734371" author="clint.morgan" created="Wed, 22 Jul 2009 23:05:43 +0000"  >&lt;p&gt;Then we can&apos;t have a filter list composed of user written filters, which seems a common case...&lt;/p&gt;</comment>
                            <comment id="12734373" author="streamy" created="Wed, 22 Jul 2009 23:10:18 +0000"  >&lt;p&gt;@Clint, Are you trying to send custom Filter implementations over the wire as well?  Maybe I&apos;m confused about what you&apos;re trying to do, could you describe?&lt;/p&gt;

&lt;p&gt;We are looking at how to do dynamic filters in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1288&quot; title=&quot;Load custom RowFilter dynamically on RegionServers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1288&quot;&gt;&lt;del&gt;HBASE-1288&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12734374" author="streamy" created="Wed, 22 Jul 2009 23:10:47 +0000"  >&lt;p&gt;How can you have user-written filters unless they are compiled into the server-side jar?&lt;/p&gt;</comment>
                            <comment id="12734379" author="clint.morgan" created="Wed, 22 Jul 2009 23:17:52 +0000"  >&lt;p&gt;They just need to be in the server-side classpath. I&apos;ve been doing this for a while. &lt;/p&gt;

&lt;p&gt;Similarly I pass custom comparators to the ValueFilter where the custom comparator is in the server-side classpath. The write method in value filter supports this...&lt;/p&gt;</comment>
                            <comment id="12734381" author="streamy" created="Wed, 22 Jul 2009 23:22:09 +0000"  >&lt;p&gt;Right, so you can&apos;t add them dynamically once HBase is running.  That&apos;s what &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1288&quot; title=&quot;Load custom RowFilter dynamically on RegionServers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1288&quot;&gt;&lt;del&gt;HBASE-1288&lt;/del&gt;&lt;/a&gt; is all about, using some kind of reflection or other fanciness.&lt;/p&gt;

&lt;p&gt;I got it now.  Will this not have a problem when deserializing on the server-side because it doesn&apos;t know what class it is and we aren&apos;t writing out the class name?&lt;/p&gt;</comment>
                            <comment id="12734383" author="clint.morgan" created="Wed, 22 Jul 2009 23:24:50 +0000"  >&lt;p&gt;Works for me. For Writable it does write the class name&lt;/p&gt;</comment>
                            <comment id="12734385" author="streamy" created="Wed, 22 Jul 2009 23:28:32 +0000"  >&lt;p&gt;Okay.  Anyone else want to chime in?  If no other objections, let&apos;s commit Clint&apos;s patch since it works for him.&lt;/p&gt;</comment>
                            <comment id="12734467" author="stack" created="Thu, 23 Jul 2009 05:18:26 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;

&lt;p&gt;Seems fine to me.&lt;/p&gt;

&lt;p&gt;I just hate the bit above it where we create an HBaseConfiguration on serialization/deserialization but its rare enough in the scheme of things.&lt;/p&gt;

&lt;p&gt;Thanks for the patch Clint.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414152" name="1680.patch" size="906" author="clint.morgan" created="Tue, 21 Jul 2009 22:29:15 +0000"/>
                            <attachment id="12414278" name="HBASE-1680-v2.patch" size="552" author="streamy" created="Wed, 22 Jul 2009 23:04:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jul 2009 23:02:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0henr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>