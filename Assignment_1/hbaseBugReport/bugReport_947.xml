<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:49:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-947/HBASE-947.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-947] [Optimization] Major compaction should remove deletes as well as the deleted cell</title>
                <link>https://issues.apache.org/jira/browse/HBASE-947</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently major compactions retains both deletes and the deleted cell. It should remove both.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12406956">HBASE-947</key>
            <summary>[Optimization] Major compaction should remove deletes as well as the deleted cell</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="jimk">Jim Kellerman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Oct 2008 22:44:01 +0000</created>
                <updated>Sun, 13 Sep 2009 22:26:29 +0000</updated>
                            <resolved>Mon, 17 Nov 2008 23:11:15 +0000</resolved>
                                                    <fixVersion>0.19.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12641945" author="stack" created="Wed, 22 Oct 2008 19:08:35 +0000"  >&lt;p&gt;To be clear, Jim is suggesting an optimization, a minor one I believe.&lt;/p&gt;

&lt;p&gt;Currently cells are only let go from a store file on a major compaction for following reasons:&lt;/p&gt;

&lt;p&gt;+ if &amp;gt; MAX_VERSIONS cells or&lt;br/&gt;
+ if cell timestamp is older than the configured TTL.&lt;/p&gt;

&lt;p&gt;Under this regimen, we could keep around deletes though the cell they overshadow may no longer be present (probably because &amp;gt; MAX_VERSIONS).  The suggestion here is that in this one case, we&apos;d let go of the delete cell too (if no corresponding deleted cell).&lt;/p&gt;

&lt;p&gt;We don&apos;t want to let go of the deleted cell just because there is a delete record on major compaction because then a user who took out a scanner that was behind the delete cells timestamp but in front of the deleted cells timestamp would get different results dependent on whether a major compaction had run or not.  Current rule, till we decide otherwise, is that they&apos;d only see a different result if MAX_VERSIONS or TTL had been exceeded.&lt;/p&gt;

&lt;p&gt;Marking this issue minor rather than major.&lt;/p&gt;</comment>
                            <comment id="12643547" author="stack" created="Wed, 29 Oct 2008 17:46:17 +0000"  >&lt;p&gt;Moving out of 0.19.0.  Its a bit of work and its a minor optimization.&lt;/p&gt;</comment>
                            <comment id="12643589" author="stack" created="Wed, 29 Oct 2008 18:36:33 +0000"  >&lt;p&gt;Moving back into 0.19.0.  Jon Gray started crying when I moved it out.&lt;/p&gt;</comment>
                            <comment id="12646145" author="viper799" created="Mon, 10 Nov 2008 02:01:24 +0000"  >&lt;p&gt;Also look at this point if we have row&amp;amp;column has data and then deleted and never add a new entry to that same row &lt;br/&gt;
column the data says around forever if ttl is not in uses. this cause us to use more data space and memory in the map file index.&lt;/p&gt;</comment>
                            <comment id="12648268" author="stack" created="Mon, 17 Nov 2008 19:26:27 +0000"  >&lt;p&gt;Chatting w/ Jon Gray, he actually needs &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1001&quot; title=&quot;Remove deleted cells compacting if no corresponding overshadowed value cell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1001&quot;&gt;&lt;del&gt;HBASE-1001&lt;/del&gt;&lt;/a&gt;.  Moving this out of 0.19.0.&lt;/p&gt;</comment>
                            <comment id="12648405" author="stack" created="Mon, 17 Nov 2008 23:11:15 +0000"  >&lt;p&gt;Committed.  Now, on major compactions, deletes and what they overshadow are NOT added to the majorly-compacted file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Oct 2008 19:08:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hafb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>