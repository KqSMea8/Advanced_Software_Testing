<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:44:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13537/HBASE-13537.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13537] Procedure V2 - Change the admin interface for async operations to return Future (incompatible with branch-1.x)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13537</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;At the moment, the async operations are returning void. This task aims to change the return type to Future and remove the aysnc wrapper methods.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823317">HBASE-13537</key>
            <summary>Procedure V2 - Change the admin interface for async operations to return Future (incompatible with branch-1.x)</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12861059">HBASE-14353</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srikanth235">Srikanth Srungarapu</assignee>
                                    <reporter username="srikanth235">Srikanth Srungarapu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Apr 2015 07:04:52 +0000</created>
                <updated>Tue, 1 Sep 2015 16:59:56 +0000</updated>
                            <resolved>Tue, 28 Apr 2015 17:55:25 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>proc-v2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="14512282" author="srikanth235" created="Sat, 25 Apr 2015 06:03:02 +0000"  >&lt;p&gt;Also added changes for making Waiter class public.&lt;/p&gt;</comment>
                            <comment id="14512298" author="hadoopqa" created="Sat, 25 Apr 2015 07:01:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728133/HBASE-13537.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728133/HBASE-13537.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit cd83d39fb4f50db901b699ba5470b5f709c95c69.&lt;br/&gt;
  ATTACHMENT ID: 12728133&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestInterfaceAudienceAnnotations&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13810//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14512304" author="srikanth235" created="Sat, 25 Apr 2015 07:14:43 +0000"  >&lt;p&gt;Attaching the second draft for fixing the test errors.&lt;/p&gt;</comment>
                            <comment id="14512323" author="mbertozzi" created="Sat, 25 Apr 2015 07:43:40 +0000"  >&lt;p&gt;that waiter class should not have test references like &quot;hbase.test.wait.for.ratio&quot; if we want it for public use.&lt;/p&gt;</comment>
                            <comment id="14512367" author="hadoopqa" created="Sat, 25 Apr 2015 09:40:36 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728141/HBASE-13537.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728141/HBASE-13537.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit cd83d39fb4f50db901b699ba5470b5f709c95c69.&lt;br/&gt;
  ATTACHMENT ID: 12728141&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13814//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14512501" author="yuzhihong@gmail.com" created="Sat, 25 Apr 2015 14:06:17 +0000"  >&lt;p&gt;Admin.java is annotated with @InterfaceAudience.Public&lt;br/&gt;
Related methods should be deprecated in branch-1&lt;/p&gt;</comment>
                            <comment id="14512548" author="mbertozzi" created="Sat, 25 Apr 2015 15:20:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; this is 2.0 only, changing return type is binary incompatible&lt;/p&gt;</comment>
                            <comment id="14512887" author="srikanth235" created="Sun, 26 Apr 2015 05:35:45 +0000"  >&lt;p&gt;Changes for refactoring the Waiter class got a little more involved than I anticipated. Creating a separate &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;task jira&lt;/a&gt;. This would also give necessary leeway for porting it to other branches, as this jira is only targeted towards master branch.&lt;/p&gt;</comment>
                            <comment id="14512892" author="srikanth235" created="Sun, 26 Apr 2015 05:48:23 +0000"  >&lt;p&gt;In the new patch, added &lt;tt&gt;deleteTableAsync&lt;/tt&gt; method to &lt;tt&gt;Admin&lt;/tt&gt; interface. This wasn&apos;t included earlier as we had no way of validating whether the deletion succeeded or not. Thanks Matteo for clarifying this to me offline.&lt;/p&gt;</comment>
                            <comment id="14512920" author="mbertozzi" created="Sun, 26 Apr 2015 07:15:13 +0000"  >&lt;p&gt;i&apos;m not good with methods comment so I&apos;ll let you decide this.&lt;br/&gt;
in theory if we have the comment on the Admin interface it is not needed in HBaseAdmin (because you are using @Override), so we can remove the comments on the HBaseAdmin side, but the comments on the HBaseAdmin side for v2 version are better then the one we have in admin for async() because they explain the future stuff, so you should copy/paste them in Admin replacing the ones we have).&lt;br/&gt;
I&apos;m +1 on the patch, the decision on comments is up to you&lt;/p&gt;</comment>
                            <comment id="14512946" author="hadoopqa" created="Sun, 26 Apr 2015 08:26:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728209/HBASE-13537.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728209/HBASE-13537.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit cd83d39fb4f50db901b699ba5470b5f709c95c69.&lt;br/&gt;
  ATTACHMENT ID: 12728209&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13818//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14513168" author="srikanth235" created="Sun, 26 Apr 2015 18:23:40 +0000"  >&lt;p&gt;Admin is public facing interface. I&apos;m not gonna take any chances &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Uploaded the patch with the updated javadoc comments.&lt;/p&gt;</comment>
                            <comment id="14513261" author="hadoopqa" created="Sun, 26 Apr 2015 21:04:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12728248/HBASE-13537_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12728248/HBASE-13537_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit cd83d39fb4f50db901b699ba5470b5f709c95c69.&lt;br/&gt;
  ATTACHMENT ID: 12728248&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13820//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14513262" author="mbertozzi" created="Sun, 26 Apr 2015 21:05:43 +0000"  >&lt;p&gt;+1 on v2&lt;/p&gt;</comment>
                            <comment id="14513332" author="srikanth235" created="Sun, 26 Apr 2015 23:38:40 +0000"  >&lt;p&gt;Pushed to master branch. Thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="14513429" author="hudson" created="Mon, 27 Apr 2015 02:15:23 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6416 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6416/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6416/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13537&quot; title=&quot;Procedure V2 - Change the admin interface for async operations to return Future (incompatible with branch-1.x)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13537&quot;&gt;&lt;del&gt;HBASE-13537&lt;/del&gt;&lt;/a&gt; Change the admin interface for async operations to return Future. (ssrungarapu: rev 807142024f37a117d2ba8a76a274ce0dc64ba075)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14516371" author="anoop.hbase" created="Tue, 28 Apr 2015 05:03:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;this is 2.0 only, changing return type is binary incompatible&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Our compatibility rule says , For client side public APIs we need deprecate to for a major version for change/remove.&lt;br/&gt;
So this binary compatibility break with out deprecation is fine?  Pls correct if am wrong.&lt;/p&gt;</comment>
                            <comment id="14516404" author="srikanth235" created="Tue, 28 Apr 2015 05:27:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; Sorry, I overlooked that requirement. Would it be acceptable if we do the deprecation in 1.2?&lt;/p&gt;</comment>
                            <comment id="14516428" author="mbertozzi" created="Tue, 28 Apr 2015 05:49:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt; I think i&apos;m missing something here. what are we going to deprecate? we are just changing the return type from void to Future&amp;lt;T&amp;gt;. we are breaking binary compatibility, but if you recompile your app without touching any code everything is fine.&lt;/p&gt;</comment>
                            <comment id="14516449" author="srikanth235" created="Tue, 28 Apr 2015 06:05:53 +0000"  >&lt;p&gt;Looks like Matteo had already thought through this. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12046&quot; title=&quot;HTD/HCD setters should be builder-style&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12046&quot;&gt;&lt;del&gt;HBASE-12046&lt;/del&gt;&lt;/a&gt; is similar case where they changed return type and we didn&apos;t include any deprecation related info in previous release. May be, we can improve ref guide&apos;s compatibility policy by mentioning these type of cases explicitly.&lt;/p&gt;</comment>
                            <comment id="14516451" author="anoop.hbase" created="Tue, 28 Apr 2015 06:06:58 +0000"  >&lt;p&gt;Is this binary compatibility break ok (with out deprecation in a previous major version)?   cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;&lt;br/&gt;
When we have to change the return type of a method and deprecate the old one, we have to add the new method (obviously the name will have to be different) and deprecate old one.&lt;/p&gt;

&lt;p&gt;In effect when we change the return type from void to Future&amp;lt;T&amp;gt;, it is like we remove a method and add a new method. At least for the run time.&lt;/p&gt;</comment>
                            <comment id="14516457" author="mbertozzi" created="Tue, 28 Apr 2015 06:12:16 +0000"  >&lt;p&gt;deprecate in theory means &quot;do not use it. it will be gone&quot;&lt;br/&gt;
but in this case the method is still there and it is your only option.&lt;/p&gt;

&lt;p&gt;this change is 2.0 only, so breaking compatibility is ok.&lt;br/&gt;
for the deprecation I don&apos;t see the reason. since we are just change the return type&lt;br/&gt;
and it is up to you using it or not. if your code is createTableAsync(desc) you can just recompile and everything it will be working as before.&lt;/p&gt;</comment>
                            <comment id="14516458" author="anoop.hbase" created="Tue, 28 Apr 2015 06:12:23 +0000"  >&lt;p&gt;Thanks for pointing that Jira. I just added a comment/question there too.   Just trying to make sure what all compatibility guarantee we give for client side Public APIs. &lt;/p&gt;</comment>
                            <comment id="14516464" author="anoop.hbase" created="Tue, 28 Apr 2015 06:14:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;but in this case the method is still there and it is your only option.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Just making it clear Matteo&lt;br/&gt;
When we have to deprecate the old method in old version, we have to add the new method ad deprecate old one.  (in trunk we have only new).  Obviously the name of the methods have to be different for this particular case.&lt;/p&gt;</comment>
                            <comment id="14517210" author="syuanjiang" created="Tue, 28 Apr 2015 15:33:25 +0000"  >&lt;p&gt;I think we should put deprecate mark in 1.2 or 1.3 so that we can clearly remove the old version in 2.0.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;, for this JIRA (or a new JIRA that links to this JIRA), we need to have a patch with @Deprecated in branch-1.  &lt;/p&gt;</comment>
                            <comment id="14517219" author="mbertozzi" created="Tue, 28 Apr 2015 15:37:47 +0000"  >&lt;p&gt;again, put the deprecation on what? why are not removing/replacing anything.&lt;br/&gt;
since we know that with 2.0 we can break binary compatibility, we are just changing the return type.&lt;br/&gt;
there is no &quot;use this method instead of that&quot;, what we are doing is more like &quot;hey, if you want you can use the return type to wait on the operation to be completed&quot;.&lt;br/&gt;
if you take your code in 1.x and recompile with 2.x everything will keep working as before.&lt;/p&gt;</comment>
                            <comment id="14517244" author="syuanjiang" created="Tue, 28 Apr 2015 15:46:18 +0000"  >&lt;p&gt;eg. in 2.0, we have the following change:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-  void createTableAsync(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HTableDescriptor desc, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[][] splitKeys) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;
+  Future&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt;&amp;gt; createTableAsync(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HTableDescriptor desc, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[][] splitKeys) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in branch-1, we should just do:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+@Deprecated
void createTableAsync(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HTableDescriptor desc, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[][] splitKeys) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We just want to notify users that a better version will come.&lt;/p&gt;</comment>
                            <comment id="14517254" author="mbertozzi" created="Tue, 28 Apr 2015 15:49:16 +0000"  >&lt;p&gt;ok, let say that we put the deprecate. what the user should look for as replacement?&lt;br/&gt;
in general in the description we say, &quot;this is deprecated, use the new xyz method&quot;&lt;/p&gt;

&lt;p&gt;in this case we are basically saying.. hey it is deprecated, just replace this call with the same call. (keep in mind that you are not really required to change your code unless you want to)&lt;/p&gt;</comment>
                            <comment id="14517286" author="anoop.hbase" created="Tue, 28 Apr 2015 16:03:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;since we know that with 2.0 we can break binary compatibility,&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;So for upgrade from 1.x to 2.0, we will say user must recompile their app?  Am just trying to understand it Matteo. Am ok for removing as long we have agreement on it.&lt;/p&gt;</comment>
                            <comment id="14517302" author="mbertozzi" created="Tue, 28 Apr 2015 16:09:54 +0000"  >&lt;p&gt;from the semantic versioning discussion - &lt;a href=&quot;http://hbase.apache.org/book.html#hbase.versioning&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#hbase.versioning&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;MAJOR.MINOR.PATCH&lt;br/&gt;
MAJOR version when you make incompatible API changes&lt;/p&gt;

&lt;p&gt;Client Binary compatibility:&lt;br/&gt;
Client code written to APIs available in a given PATCH RELEASE can run unchanged (no recompilation needed) against the new jars of later patch versions.&lt;/p&gt;

&lt;p&gt;so, in 2.0 we can break binary compatibility and also make incompatible API changes.&lt;br/&gt;
in this case we are just changing a return type which causes binary compatibility, but nothing else. your code can still work even ignoring the return value. you just need to recompile&lt;/p&gt;</comment>
                            <comment id="14517314" author="anoop.hbase" created="Tue, 28 Apr 2015 16:15:38 +0000"  >&lt;p&gt;We say in doc&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Client API compatibility&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Allow changing or removing existing client APIs&lt;/li&gt;
	&lt;li&gt;An API needs to deprecated for a major version before we will change/remove it.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;We speak about Client Binary compatibility but that is only patch versions.&lt;/p&gt;</comment>
                            <comment id="14517327" author="mbertozzi" created="Tue, 28 Apr 2015 16:23:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;An API needs to deprecated for a major version before we will change/remove it.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;we are not changing or removing anything. we are just adding an extra information that may be used.&lt;br/&gt;
a change is when the user have to change the code to adapt. so, we add a deprecate message that say &quot;instead of using this method use this one&quot; but in this case you don&apos;t have to change anything, because what you are doing is already good even for the next release.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We speak about Client Binary compatibility but that is only patch versions.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;yeah, that&apos;s true. but I think MAJOR implies binary compatibility and probably even wire. let&apos;s get this on the dev list&lt;/p&gt;</comment>
                            <comment id="14517332" author="busbey" created="Tue, 28 Apr 2015 16:26:29 +0000"  >&lt;p&gt;The compat guide only promises API compatibility at the source level across minor versions (same with the &quot;deprecate a major version&quot; part). The reasoning (as I understand it) is that since we&apos;re also wire/data compatible across minor versions someone who needs binary compatibility for some reason can just not change their client.&lt;/p&gt;

&lt;p&gt;Binary compatibility breaking is allowed on minor and major versions (with no warning). Having a method go from void -&amp;gt; Future&amp;lt;Void&amp;gt; is source compatible, so the changes as-is are fine in 1.y and 2.0+. Since the method signature is the same as far as the JLS is concerned (name + args), I don&apos;t think a deprecation is needed.&lt;/p&gt;

&lt;p&gt;This is the same thing I think Matteo is saying, but since someone cc&apos;d me, figure I&apos;d expressly agree.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt; could you please add a release note that calls out the binary compatibility break and notes that since it&apos;s source compatible folks only need to recompile?&lt;/p&gt;</comment>
                            <comment id="14517361" author="anoop.hbase" created="Tue, 28 Apr 2015 16:41:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;Binary compatibility breaking is allowed on minor and major versions (with no warning). &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As long as we say this, I am ok with change. Was just trying to clarify things&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;but since someone cc&apos;d me&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I have cc&apos;d you.&lt;/p&gt;</comment>
                            <comment id="14517381" author="mbertozzi" created="Tue, 28 Apr 2015 16:48:28 +0000"  >&lt;p&gt;even if we can break binary compatibility on minor I think we should not do that for this patch, at least for 1.1&lt;br/&gt;
maybe later when all the admin stuff is using proc-v2 we can backport this to a 1.3 or 1.4 or what ever 1.x is out. at least we will break binary compatibility just once for the full set of admin methods.&lt;/p&gt;</comment>
                            <comment id="14517513" author="srikanth235" created="Tue, 28 Apr 2015 17:45:41 +0000"  >&lt;p&gt;Added release note. Thanks Sean for chiming in.&lt;/p&gt;</comment>
                            <comment id="14517514" author="srikanth235" created="Tue, 28 Apr 2015 17:46:17 +0000"  >&lt;p&gt;Agree. Let&apos;s keep these changes in master branch for now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12728209" name="HBASE-13537.patch" size="12606" author="srikanth235" created="Sun, 26 Apr 2015 05:44:45 +0000"/>
                            <attachment id="12728141" name="HBASE-13537.patch" size="30931" author="srikanth235" created="Sat, 25 Apr 2015 07:08:30 +0000"/>
                            <attachment id="12728133" name="HBASE-13537.patch" size="30833" author="srikanth235" created="Sat, 25 Apr 2015 06:06:24 +0000"/>
                            <attachment id="12728248" name="HBASE-13537_v2.patch" size="15964" author="srikanth235" created="Sun, 26 Apr 2015 18:22:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Apr 2015 07:01:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dn7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>As we made changes to return types in asynchronous methods of Admin API, this change is going to break binary compatibility. The source compatibility is kept intact though. The applications running against this change needs to be recompiled to keep things working.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>