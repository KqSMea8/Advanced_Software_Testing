<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:47:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13919/HBASE-13919.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13919] Rationalize Client Timeout</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13919</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There are current many setting that influence how/when an HBase client times out.&lt;br/&gt;
This is hard to configure, hard to understand, and badly documented.&lt;br/&gt;
Instead there should as few tweaks as needed, and their setting should make sense.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12838268">HBASE-13919</key>
            <summary>Rationalize Client Timeout</summary>
                <type id="13" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Brainstorming</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jun 2015 19:41:33 +0000</created>
                <updated>Sun, 23 Aug 2015 01:33:03 +0000</updated>
                                                                                <due></due>
                            <votes>3</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="14588651" author="lhofhansl" created="Tue, 16 Jun 2015 19:51:27 +0000"  >&lt;p&gt;Here are some of the settings: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase.client.retries.number&lt;/li&gt;
	&lt;li&gt;hbase.client.pause&lt;/li&gt;
	&lt;li&gt;hbase.rpc.timeout&lt;/li&gt;
	&lt;li&gt;hbase.client.scanner.timeout.period&lt;/li&gt;
	&lt;li&gt;hbase.client.operation.timeout&lt;/li&gt;
	&lt;li&gt;hbase.client.meta.operation.timeout&lt;/li&gt;
	&lt;li&gt;hbase.rpc.shortoperation.timeout&lt;/li&gt;
	&lt;li&gt;zookeeper.recovery.retry&lt;/li&gt;
	&lt;li&gt;zookeeper.session.timeout&lt;/li&gt;
	&lt;li&gt;zookeeper.recovery.retry.intervalmill&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It&apos;s hard to understand what all of these mean and how they interact. I&apos;m going to start by documenting all of these (unless they are already), and then see whether we actually need so many option, or whether we can derive some settings from the others.&lt;br/&gt;
Also it seems the defaults still lead to 20m overall timeout when ZK and HBase servers are down.&lt;/p&gt;</comment>
                            <comment id="14589378" author="mukundmurrali9" created="Wed, 17 Jun 2015 06:48:36 +0000"  >&lt;p&gt;I feel we can hava a single client configuration for timeout and tweak other configurations based on it. With default configurations, it takes around 20 mins in case of cluster failure. In real time scenarios, this is really a big deal of time. Also from a user perspective with some many hidden configurations for timeout, it is going to really trouble us in understanding the significance of chanigng those parameters. &lt;/p&gt;</comment>
                            <comment id="14614304" author="anilgupta84" created="Sun, 5 Jul 2015 16:07:51 +0000"  >&lt;p&gt; I think, we should break down these timeout properties in 2 categories. &lt;br/&gt;
#1) Connecting to cluster: This currently timeouts in 20 minutes. I think this should timeout in not more than 1-2 minutes. I dont think anyone has patience to wait 20 minutes for a NoSql connection to fail.&lt;br/&gt;
#2) Scan, Get, Put timeouts&lt;/p&gt;</comment>
                            <comment id="14702469" author="lhofhansl" created="Wed, 19 Aug 2015 05:10:18 +0000"  >&lt;p&gt;When you say &quot;Connecting to cluster&quot; takes 20 mins, that&apos;s when everything is down including ZK, right? I observed that too, it&apos;s somewhat of a worst case, where we timeout on ZK and the HMaster... repeatedly.&lt;/p&gt;

&lt;p&gt;There are also server-server timeouts and client-server timeouts. I&apos;m still planning to document all these and make sense of them.&lt;/p&gt;</comment>
                            <comment id="14703692" author="anilgupta84" created="Wed, 19 Aug 2015 20:26:19 +0000"  >&lt;p&gt;Not exactly.&lt;br/&gt;
Sometimes developers forget to put hbase-site.xml file of cluster in classpath of HBase Application. In that case, hbase client will assume that it needs to connect to a standalone instance. If the HBase application is trying to connect to table X. HBase app will try to connect to table X in standalone instance. This usually takes around 20 minutes to fail.&lt;/p&gt;</comment>
                            <comment id="14704186" author="enis" created="Thu, 20 Aug 2015 02:30:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13647&quot; title=&quot;Default value for hbase.client.operation.timeout is too high&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13647&quot;&gt;&lt;del&gt;HBASE-13647&lt;/del&gt;&lt;/a&gt; has some digging. Especially &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13647?focusedCommentId=14565363&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14565363&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-13647?focusedCommentId=14565363&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14565363&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13647?focusedCommentId=14565885&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14565885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-13647?focusedCommentId=14565885&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14565885&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="14704187" author="enis" created="Thu, 20 Aug 2015 02:34:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m going to start by documenting all of these (unless they are already), and then see whether we actually need so many option, or whether we can derive some settings from the others.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Documentation would be good. But, different operations (put, get or multi-get, coprocessor call, etc) respect different parameters for RPC timeout, operation timeout and retries depending on the code path (whether HTable or AP is used). &lt;/p&gt;</comment>
                            <comment id="14708254" author="lhofhansl" created="Sun, 23 Aug 2015 01:33:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;different operations (put, get or multi-get, coprocessor call, etc) respect different parameters for RPC timeout, operation timeout and retries depending on the code path&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right. And that, IMHO, does not make any sense. We have many options that do the right thing, and depending on how you use HBase you need to set one or the other, or both, etc. I just meant I&apos;ll document them all first (here in the jira) and then I&apos;ll make a proposal about which ones to remove, which to consolidate, etc.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Jun 2015 06:48:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2g4cv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>