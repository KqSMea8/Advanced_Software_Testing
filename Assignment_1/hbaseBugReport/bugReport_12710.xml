<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:35:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12710/HBASE-12710.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12710] TestAssignmentManager may fail due to illegal character in namespace</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12710</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I saw TestAssignmentManager#testMasterRestartWhenTableInEnabling fail when running test suite on branch-1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testMasterRestartWhenTableInEnabling(org.apache.hadoop.hbase.master.TestAssignmentManager)  Time elapsed: 0.714 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Table should be enabled.
        at org.junit.Assert.fail(Assert.java:88)
        at org.junit.Assert.assertTrue(Assert.java:41)
        at org.apache.hadoop.hbase.master.TestAssignmentManager.testMasterRestartWhenTableInEnabling(TestAssignmentManager.java:1023)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In test output, I saw:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-12-18 00:45:18,230 FATAL [kiyo:38816.activeMasterManager] master.HMaster(1802): Unhandled exception. Starting shutdown.
java.lang.IllegalArgumentException: Illegal character &amp;lt;10&amp;gt; at 0. Namespaces can only contain &apos;alphanumeric characters&apos;: i.e. [a-zA-Z_0-9]:
^Ehbase^R^Dmeta
        at org.apache.hadoop.hbase.TableName.isLegalNamespaceName(TableName.java:215)
        at org.apache.hadoop.hbase.TableName.isLegalNamespaceName(TableName.java:204)
        at org.apache.hadoop.hbase.TableName.&amp;lt;init&amp;gt;(TableName.java:307)
        at org.apache.hadoop.hbase.TableName.createTableNameIfNecessary(TableName.java:344)
        at org.apache.hadoop.hbase.TableName.valueOf(TableName.java:465)
        at org.apache.hadoop.hbase.protobuf.ProtobufUtil.toTableName(ProtobufUtil.java:2686)
        at org.apache.hadoop.hbase.HTableDescriptor.convert(HTableDescriptor.java:1525)
        at org.apache.hadoop.hbase.HTableDescriptor.parseFrom(HTableDescriptor.java:1487)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.readTableDescriptor(FSTableDescriptors.java:526)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.createTableDescriptorForTableDirectory(FSTableDescriptors.java:730)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.createTableDescriptor(FSTableDescriptors.java:706)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.createTableDescriptor(FSTableDescriptors.java:693)
        at org.apache.hadoop.hbase.master.MasterFileSystem.checkRootDir(MasterFileSystem.java:466)
        at org.apache.hadoop.hbase.master.MasterFileSystem.createInitialFileSystemLayout(MasterFileSystem.java:145)
        at org.apache.hadoop.hbase.master.MasterFileSystem.&amp;lt;init&amp;gt;(MasterFileSystem.java:125)
        at org.apache.hadoop.hbase.master.HMaster.finishActiveMasterInitialization(HMaster.java:592)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But running TestAssignmentManager standalone, I don&apos;t see the above exception.&lt;br/&gt;
Since TestAssignmentManager is a medium test, the above exception was likely caused by concurrent tests.&lt;br/&gt;
TestAssignmentManager should be categorized as large test.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12762454">HBASE-12710</key>
            <summary>TestAssignmentManager may fail due to illegal character in namespace</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2014 01:08:19 +0000</created>
                <updated>Sun, 28 Jun 2015 14:58:15 +0000</updated>
                            <resolved>Sun, 28 Jun 2015 14:58:15 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14250932" author="yuzhihong@gmail.com" created="Thu, 18 Dec 2014 01:10:10 +0000"  >&lt;p&gt;Test output&lt;/p&gt;</comment>
                            <comment id="14250948" author="hadoopqa" created="Thu, 18 Dec 2014 01:22:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12687895/12710-1.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12687895/12710-1.0.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 47738ff927385157b312ef4dfe61dbcaca05ea68.&lt;br/&gt;
  ATTACHMENT ID: 12687895&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12125//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12125//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14251373" author="dimaspivak" created="Thu, 18 Dec 2014 08:28:01 +0000"  >&lt;p&gt;Correct me if I&apos;m wrong, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt;, but aren&apos;t MediumTests and LargeTests categories run together as part of -PrunAllTests? &lt;a href=&quot;https://github.com/apache/hbase/blob/master/pom.xml#L2073&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;According to the pom&lt;/a&gt;, these categories both have a default fork count of 5, so I&apos;m not sure this change would actually correct the problem. I think we should instead look at why &lt;a href=&quot;https://github.com/apache/hbase/blob/master/pom.xml#L2068&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SmallTests are run with no forking&lt;/a&gt;, while Medium and Large do and, as you observed, experience spurious failures because of this concurrency.&lt;/p&gt;</comment>
                            <comment id="14251902" author="yuzhihong@gmail.com" created="Thu, 18 Dec 2014 17:07:56 +0000"  >&lt;p&gt;Dima:&lt;br/&gt;
The patch didn&apos;t solve the problem.&lt;br/&gt;
More investigation is needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12687895" name="12710-1.0.txt" size="1337" author="yuzhihong@gmail.com" created="Thu, 18 Dec 2014 01:19:54 +0000"/>
                            <attachment id="12687890" name="org.apache.hadoop.hbase.master.TestAssignmentManager-output.txt" size="30404" author="yuzhihong@gmail.com" created="Thu, 18 Dec 2014 01:10:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Dec 2014 01:22:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23jzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>