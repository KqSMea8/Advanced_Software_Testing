<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13362/HBASE-13362.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13362] Set max result size from client only (like scanner caching).</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13362</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;With the recent problems we&apos;ve been seeing client/server result size mismatch, I was thinking: Why was this not a problem with scanner caching?&lt;/p&gt;

&lt;p&gt;There are two reasons:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;number of rows is easy to calculate (and we did it correctly)&lt;/li&gt;
	&lt;li&gt;caching is only controlled from the client, never set on the server alone&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;We did fix both #1 and #2 in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13262&quot; title=&quot;ResultScanner doesn&amp;#39;t return all rows in Scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13262&quot;&gt;&lt;del&gt;HBASE-13262&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Still, I&apos;d like to discuss the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;default the client sent max result size to 2mb&lt;/li&gt;
	&lt;li&gt;remove any server only result sizing&lt;/li&gt;
	&lt;li&gt;continue to use hbase.client.scanner.max.result.size but enforce it via the client only (as the name implies anyway).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Comments? Concerns?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12786564">HBASE-13362</key>
            <summary>Set max result size from client only (like scanner caching).</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 Mar 2015 21:06:33 +0000</created>
                <updated>Tue, 28 Apr 2015 19:18:19 +0000</updated>
                            <resolved>Thu, 9 Apr 2015 05:03:12 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                    <fixVersion>0.98.12</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="14386846" author="stack" created="Mon, 30 Mar 2015 15:17:31 +0000"  >&lt;p&gt;Sounds good to me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jonathan.lawlor&quot; class=&quot;user-hover&quot; rel=&quot;jonathan.lawlor&quot;&gt;Jonathan Lawlor&lt;/a&gt; What you think?&lt;/p&gt;</comment>
                            <comment id="14386983" author="jonathan.lawlor" created="Mon, 30 Mar 2015 17:03:21 +0000"  >&lt;p&gt;This sounds like a great idea. As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; pointed out with the test in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13297&quot; title=&quot;0.98 and 1.0: Remove client side result size calculation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13297&quot;&gt;&lt;del&gt;HBASE-13297&lt;/del&gt;&lt;/a&gt;, it easy for the client and server to have different configurations for the default max result size. Prior to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13262&quot; title=&quot;ResultScanner doesn&amp;#39;t return all rows in Scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13262&quot;&gt;&lt;del&gt;HBASE-13262&lt;/del&gt;&lt;/a&gt; this would have meant data loss. With &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13262&quot; title=&quot;ResultScanner doesn&amp;#39;t return all rows in Scan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13262&quot;&gt;&lt;del&gt;HBASE-13262&lt;/del&gt;&lt;/a&gt; we no longer have data loss, it&apos;s just ugly. &lt;/p&gt;

&lt;p&gt;If instead it was dealt with in the same manner as caching (e.g. the caching value must be carried in the ScanRequest to the server) it would be much cleaner. The 2mb default sounds good. &lt;/p&gt;

&lt;p&gt;Probably obvious, but just to be clear, we would still need to support instances where the client uses a negative maxResultSize to indicate that the response should not be limited by the result size (i.e. negative maxResultSize is equivalent to maxResultSize = Long.MAX_VALUE).&lt;/p&gt;

&lt;p&gt;If backported prior to branch-1, it would be nice to accompany this change with a change in the default caching value (from the current default of 100 to Integer.MAX_VALUE) so that the size limit is reached by default, rather than the caching/row limit (I say prior to branch-1 because the defaults of caching/maxResultSize in branch-1+ will already produce this behavior). Granted, this accompanying change would probably be dealt with best in a separate JIRA.&lt;/p&gt;</comment>
                            <comment id="14387604" author="elserj" created="Mon, 30 Mar 2015 23:34:04 +0000"  >&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;remove any server only result sizing&lt;/li&gt;
	&lt;li&gt;continue to use hbase.client.scanner.max.result.size but enforce it via the client only (as the name implies anyway).&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Are you suggesting that the server shouldn&apos;t do anything with hbase.client.scanner.max.result.size then? On its own, I agree that it&apos;s a bit goofy for that property to be used server-side (I did a double-take the first time I saw it).&lt;/p&gt;

&lt;p&gt;But, assuming I understand you correctly, if we remove that property from the server, we&apos;d have to rely on quotas to restrict memory used in a server for scans across all users, right? Best as I can tell, there isn&apos;t a straightforward way to configure &quot;RegionServer scans should not exceed $X memory&quot; as there is now (that parameter * number of rpc handlers or the scan quota) which is a little worrisome at first glance as it would let clients use a lot of memory out of the box if they set it in the Scan. I could just be ignorant of other configuration properties though...&lt;/p&gt;</comment>
                            <comment id="14387615" author="enis" created="Mon, 30 Mar 2015 23:40:45 +0000"  >&lt;p&gt;Agreed with Josh. We probably want to protect against misbehaving (or misconfigured) clients from the server side. A client with 10GB max size set might bring down the RS. So we cannot blindly trust the max size from the client I think. &lt;/p&gt;</comment>
                            <comment id="14387618" author="enis" created="Mon, 30 Mar 2015 23:41:11 +0000"  >&lt;p&gt;But I&apos;m all +1 for simplifying this. &lt;/p&gt;</comment>
                            <comment id="14391446" author="lhofhansl" created="Wed, 1 Apr 2015 20:54:44 +0000"  >&lt;p&gt;Agreed (I stated the safety max setting on the server somewhere - in some jira, but apparently not here).&lt;/p&gt;

&lt;p&gt;Would need to be another config option, then. Could have the server setting be in % of the heap, or maybe that&apos;s too complicated and we invent a new setting hbase.server.scanner.max.result.size and default that 100mb or so (nobody in their right mind would set the client side setting that high anyway).&lt;/p&gt;

&lt;p&gt;Now, that would not be 100% backwards compatible? OK to change in 0.98/1.0.x? I&apos;d also lean against setting caching to Long.MAX_VALUE in 0.98/1.0.x. That would be confusing, I think.&lt;/p&gt;</comment>
                            <comment id="14391907" author="apurtell" created="Thu, 2 Apr 2015 01:14:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;Now, that would not be 100% backwards compatible? OK to change in 0.98/1.0.x? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;A change in 0.98 and 1.0 that protects servers against outrageous max result size values would be a semantic change but I&apos;d argue not having a cap would be a bug, so this isn&apos;t a compat issue as much as a safety/security issue and let&apos;s go ahead and bring it back. &lt;/p&gt;</comment>
                            <comment id="14481965" author="lhofhansl" created="Mon, 6 Apr 2015 21:17:25 +0000"  >&lt;p&gt;Lemme make a trivial patch - seems to be my lot in life. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14481969" author="lhofhansl" created="Mon, 6 Apr 2015 21:20:19 +0000"  >&lt;p&gt;Turns out, trunk already does this, mostly.&lt;/p&gt;</comment>
                            <comment id="14481999" author="lhofhansl" created="Mon, 6 Apr 2015 21:34:14 +0000"  >&lt;p&gt;extra trivial patch&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;a client will rarely request chunk of 100mb or more even with 10ge networks (about 100ms transmission time with 10ge)&lt;/li&gt;
	&lt;li&gt;the client&apos;s default limit remains 2mb, which is nice for 1ge and acceptable for 10ge networks (15ms and 1.5ms transmission time, resp, both way larger than intra DC latency)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll make a 0.98 and 1.0 patch as well, to make that part of the logic the same.&lt;/p&gt;</comment>
                            <comment id="14482021" author="lhofhansl" created="Mon, 6 Apr 2015 21:44:20 +0000"  >&lt;p&gt;0.98 patch. Since the previous default was Long.MAX_VALUE, this is backwards compatible patch, client now enforced a default limit, without forcing the same on the server.&lt;/p&gt;</comment>
                            <comment id="14482070" author="jonathan.lawlor" created="Mon, 6 Apr 2015 22:18:03 +0000"  >&lt;p&gt;+1, looks good to me.&lt;/p&gt;

&lt;p&gt;Question, should we also add an entry for this new configuration to hbase-default.xml? I&apos;m just thinking, as a user, how would I know about this new configuration value and the semantics behind it?&lt;/p&gt;</comment>
                            <comment id="14482254" author="lhofhansl" created="Tue, 7 Apr 2015 00:06:46 +0000"  >&lt;p&gt;I&apos;d be a bit hesitant encoding Long.MAX_VALUE in hbase-default.xml (for 0.98). In trunk we could, since it&apos;s set to 100mb there.&lt;/p&gt;</comment>
                            <comment id="14482308" author="stack" created="Tue, 7 Apr 2015 00:40:39 +0000"  >&lt;p&gt;Patches look good to me.  If not in hbase-default.xml, add good release note at least. +1&lt;/p&gt;</comment>
                            <comment id="14482342" author="enis" created="Tue, 7 Apr 2015 00:59:42 +0000"  >&lt;p&gt;+1 for 1.0 as well. Agreed that this passes as a way to protect the server. &lt;/p&gt;</comment>
                            <comment id="14484870" author="lhofhansl" created="Wed, 8 Apr 2015 07:13:15 +0000"  >&lt;p&gt;Thanks. Going to commit tomorrow.&lt;/p&gt;</comment>
                            <comment id="14486633" author="lhofhansl" created="Thu, 9 Apr 2015 03:33:17 +0000"  >&lt;p&gt;With hbase-defaults definition.&lt;/p&gt;</comment>
                            <comment id="14486677" author="lhofhansl" created="Thu, 9 Apr 2015 04:41:04 +0000"  >&lt;p&gt;Test run looks good (not sure why it doesn&apos;t report it on this jira). Going to commit.&lt;/p&gt;</comment>
                            <comment id="14486682" author="lhofhansl" created="Thu, 9 Apr 2015 04:45:13 +0000"  >&lt;p&gt;Pushed to master and 1.1 so far.&lt;br/&gt;
Will push the 0.98 here to 1.0 as well (leaving the server protection value at Long.MAX_VALUE, so it&apos;s backwards compatible with old clients).&lt;/p&gt;</comment>
                            <comment id="14486710" author="lhofhansl" created="Thu, 9 Apr 2015 05:03:12 +0000"  >&lt;p&gt;Pushed to all branches. Pffeeewww, I hope this is the last of this.&lt;/p&gt;</comment>
                            <comment id="14486761" author="hadoopqa" created="Thu, 9 Apr 2015 05:51:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724121/13362-master-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724121/13362-master-v2.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit e2a90a71143f480621ccd935a0b9477d7ee4016f.&lt;br/&gt;
  ATTACHMENT ID: 12724121&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13636//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14486849" author="hudson" created="Thu, 9 Apr 2015 06:50:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #856 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/856/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/856/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13362&quot; title=&quot;Set max result size from client only (like scanner caching).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13362&quot;&gt;&lt;del&gt;HBASE-13362&lt;/del&gt;&lt;/a&gt; Set max result size from client only (like scanner caching). (larsh: rev 65c3c371698eff419ad78cab3c2f9e21a782395b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14486862" author="hudson" created="Thu, 9 Apr 2015 07:03:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #382 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/382/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/382/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13362&quot; title=&quot;Set max result size from client only (like scanner caching).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13362&quot;&gt;&lt;del&gt;HBASE-13362&lt;/del&gt;&lt;/a&gt; Set max result size from client only (like scanner caching). (larsh: rev 562859f4af621795d887788557b570f46f0d0af4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14486869" author="hudson" created="Thu, 9 Apr 2015 07:08:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6361 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6361/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6361/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13362&quot; title=&quot;Set max result size from client only (like scanner caching).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13362&quot;&gt;&lt;del&gt;HBASE-13362&lt;/del&gt;&lt;/a&gt; Set max result size from client only (like scanner caching). (larsh: rev 80dbf06651e527ec0421ce51e4712ffb2f1d078b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14487014" author="hudson" created="Thu, 9 Apr 2015 09:06:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #943 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/943/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/943/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13362&quot; title=&quot;Set max result size from client only (like scanner caching).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13362&quot;&gt;&lt;del&gt;HBASE-13362&lt;/del&gt;&lt;/a&gt; Set max result size from client only (like scanner caching). (larsh: rev f067c646bcc28f29e91c7c00c483c5c71f0fb323)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14487088" author="hudson" created="Thu, 9 Apr 2015 10:20:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #896 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/896/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/896/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13362&quot; title=&quot;Set max result size from client only (like scanner caching).&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13362&quot;&gt;&lt;del&gt;HBASE-13362&lt;/del&gt;&lt;/a&gt; Set max result size from client only (like scanner caching). (larsh: rev f067c646bcc28f29e91c7c00c483c5c71f0fb323)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14517709" author="enis" created="Tue, 28 Apr 2015 19:18:19 +0000"  >&lt;p&gt;Closing this issue after 1.0.1 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12822865">HBASE-13527</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12723453" name="13362-0.98.txt" size="3171" author="lhofhansl" created="Mon, 6 Apr 2015 21:44:20 +0000"/>
                            <attachment id="12724121" name="13362-master-v2.txt" size="3997" author="lhofhansl" created="Thu, 9 Apr 2015 03:33:17 +0000"/>
                            <attachment id="12723444" name="13362-master.txt" size="3105" author="lhofhansl" created="Mon, 6 Apr 2015 21:34:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Mar 2015 15:17:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27ihz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This introduces a new config option: hbase.server.scanner.max.result.size&lt;br/&gt;
This setting enforces a maximum result size (in bytes), when reached the server will return the results is has so far.&lt;br/&gt;
This is a safety setting and should be kept large. The default is inifinite in 0.98 and 1.0.x and 100mb in 1.1 and later.&lt;br/&gt;
&lt;br/&gt;
Use hbase.client.scanner.max.result.size instead to enforce practical chunk sizes of a few mb (defaults to 2mb)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>