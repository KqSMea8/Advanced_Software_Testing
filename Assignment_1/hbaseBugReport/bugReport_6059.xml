<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:33:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6059/HBASE-6059.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6059] Replaying recovered edits would make deleted data exist again</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6059</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When we replay recovered edits, we used the minSeqId of Store, It may cause deleted data appeared again.&lt;/p&gt;

&lt;p&gt;Let&apos;s see how it happens. Suppose the region with two families(cf1,cf2)&lt;/p&gt;

&lt;p&gt;1.put one data to the region (put r1,cf1:q1,v1)&lt;/p&gt;

&lt;p&gt;2.move the region from server A to server B.&lt;/p&gt;

&lt;p&gt;3.delete the data put by step 1(delete r1)&lt;/p&gt;

&lt;p&gt;4.flush this region.&lt;/p&gt;

&lt;p&gt;5.make major compaction for this region&lt;/p&gt;

&lt;p&gt;6.move the region from server B to server A.&lt;/p&gt;

&lt;p&gt;7.Abort server A&lt;/p&gt;

&lt;p&gt;8.After the region is online, we could get the deleted data(r1,cf1:q1,v1)&lt;br/&gt;
(When we replay recovered edits, we used the minSeqId of Store, because cf2 has no store files, so its seqId is 0, so the edit log of put data will be replayed to the region)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12556656">HBASE-6059</key>
            <summary>Replaying recovered edits would make deleted data exist again</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjushch">chunhui shen</assignee>
                                    <reporter username="zjushch">chunhui shen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 May 2012 08:23:13 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:23 +0000</updated>
                            <resolved>Thu, 31 May 2012 03:48:48 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13280030" author="zjushch" created="Mon, 21 May 2012 08:26:08 +0000"  >&lt;p&gt;I have written the test case to reproduce the issue&lt;/p&gt;</comment>
                            <comment id="13280033" author="zjushch" created="Mon, 21 May 2012 08:31:20 +0000"  >&lt;p&gt;In the solution patch,  I use Map&amp;lt;byte[], Long&amp;gt; maxSeqIdInStores to save each store&apos;s maxSeqId,&lt;br/&gt;
So, when replaying edit logs, we skip the edits for different stores accoring to its own maxSeqId&lt;/p&gt;</comment>
                            <comment id="13280077" author="ram_krish" created="Mon, 21 May 2012 10:52:25 +0000"  >&lt;p&gt;@Chunhui&lt;br/&gt;
This is a damn good one.  But still i find one problem is there in this.  A similar type of problem that you have reported. Pls correct me if am wrong.&lt;br/&gt;
In the same test case in the place where you are deleting the row &apos;r1&apos; if i delete the row &apos;r2&apos; also&lt;/p&gt;
{edit}&lt;br/&gt;
In the same test case in the place where you are deleting the row &apos;r1&apos; if i delete the row &apos;r&apos; also{edit}
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
del = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Delete(Bytes.toBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;r&quot;&lt;/span&gt;));
    htable.delete(del);
    resultScanner = htable.getScanner(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Scan());
    count = 0;
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (resultScanner.next() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      count++;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now my seq id from the store files will be 0 only as nothing to get after major compaction. So still the same problem is occuring.  I tried to simulate this with the same test case that you added. &lt;br/&gt;
May be we need someother way to know that the edit has been deleted out by a major compaction? Because as i see this problem that without major compaction there is no issue at all.&lt;/p&gt;</comment>
                            <comment id="13280088" author="ram_krish" created="Mon, 21 May 2012 11:20:29 +0000"  >&lt;p&gt;On major compaction if all the entries in the store file is deleted we don&apos;t write any new store file and hence this problem happens. To address this can we still have one empty store file but with its meta data alone atleast to get what was the seq id compacted that resulted in that store file.&lt;br/&gt;
This will help us to overcome the problem mentioned above? Pls provide your suggestions.&lt;/p&gt;</comment>
                            <comment id="13280101" author="zjushch" created="Mon, 21 May 2012 11:44:58 +0000"  >&lt;p&gt;@ram&lt;br/&gt;
Yes, I have also considered that all the entries in the store file is deleted and we don&apos;t write any new store file.&lt;br/&gt;
But, could we generate one empty store file with its meta data alone? Let me do a try first.&lt;/p&gt;</comment>
                            <comment id="13280188" author="ram_krish" created="Mon, 21 May 2012 14:46:14 +0000"  >&lt;p&gt;@Chunhui&lt;br/&gt;
I tried this&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(writer == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; majorCompaction){
        writer = store.createWriterInTmp(maxKeyCount, compactionCompression,
            &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
      }
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (writer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        writer.appendMetadata(maxId, majorCompaction);
        writer.close();
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It actually allows me .  But again not sure if all the testcases can run and any other scenario is possible with this. Just a wild try and it worked.&lt;br/&gt;
Also i noted one thing TestStore.testEmptyStoreFile(). JFYI.&lt;br/&gt;
Good on you Chunhui.&lt;/p&gt;</comment>
                            <comment id="13280295" author="zhihyu@ebaysf.com" created="Mon, 21 May 2012 17:33:42 +0000"  >&lt;p&gt;If majorCompaction is false, we still need to check !kvs.isEmpty(), right ?&lt;/p&gt;</comment>
                            <comment id="13280703" author="zjushch" created="Tue, 22 May 2012 04:06:23 +0000"  >&lt;p&gt;@ram&lt;br/&gt;
I think create empty store file is available and easy to solve the problem. Of course, we should pass the testcase.&lt;/p&gt;

&lt;p&gt;If empty store file is not available, I think we could retain one or more kvs(such as, a delete type) in the majorcompaction.&lt;/p&gt;
</comment>
                            <comment id="13280704" author="zjushch" created="Tue, 22 May 2012 04:09:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;If majorCompaction is false, we still need to check !kvs.isEmpty(), right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I think just about majorCompaction, minorCompaction will retain delete type, there is no problem.&lt;/p&gt;</comment>
                            <comment id="13280718" author="ram_krish" created="Tue, 22 May 2012 04:47:33 +0000"  >&lt;p&gt;I think only major compaction could lead us to this problem which probabaly deletes it.  &lt;br/&gt;
Incase of TTL expiry of all the entries in a store file, can we have this scenario of empty StoreFile getting created on minor or major compaction? I think creating empty store file should be fine.  Lets take others input also on this?&lt;/p&gt;</comment>
                            <comment id="13280739" author="zjushch" created="Tue, 22 May 2012 05:29:59 +0000"  >&lt;p&gt;@ram&lt;br/&gt;
Yes, I forget to consider TTL.&lt;br/&gt;
So we should create empty file if no kvs after minor or major compaction.&lt;/p&gt;</comment>
                            <comment id="13280742" author="zjushch" created="Tue, 22 May 2012 05:41:07 +0000"  >&lt;p&gt;In the patchv2, fix the issue in the case: no kvs after compaction.(Using creating empty storefile mentioned by Ram )&lt;/p&gt;</comment>
                            <comment id="13280781" author="zhihyu@ebaysf.com" created="Tue, 22 May 2012 07:43:47 +0000"  >&lt;p&gt;Nice work.&lt;br/&gt;
Minor comments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-comment&quot;&gt;// Get minimum of the maxSeqId across all the store.
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// Get the maxSeqId &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; each store.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The second line above seems redundant - same sentence appears later.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (files == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || files.isEmpty()) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; seqid;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (files == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || files.isEmpty())
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; seqid;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above change is not necessary.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;&amp;gt; maxSeqIdInStore : maxSeqIdInStores.entrySet()) {
+      msg = msg + &lt;span class=&quot;code-quote&quot;&gt;&quot;; store=&quot;&lt;/span&gt; + Bytes.toString(maxSeqIdInStore.getKey())
+          + &lt;span class=&quot;code-quote&quot;&gt;&quot;,minSequenceid=&quot;&lt;/span&gt; + maxSeqIdInStore.getValue();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Do we really need the above loop (there could be many stores, making the log very long) ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (serverInfo != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; serverInfo.equals(destServer.getServerName()))
+        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;break can be moved to the same line as if.&lt;/p&gt;</comment>
                            <comment id="13280785" author="hadoopqa" created="Tue, 22 May 2012 07:51:47 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12528557/HBASE-6059v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12528557/HBASE-6059v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 35 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestColumnSeeking&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1957//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1957//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1957//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1957//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1957//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1957//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13280795" author="zjushch" created="Tue, 22 May 2012 08:11:40 +0000"  >&lt;p&gt;Patch v3 with Ted&apos;s comment,&lt;/p&gt;

&lt;p&gt;And I run the TestColumnSeeking, it passed&lt;/p&gt;</comment>
                            <comment id="13280823" author="hadoopqa" created="Tue, 22 May 2012 08:59:23 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12528568/HBASE-6059v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12528568/HBASE-6059v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 34 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestShell&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMultiSlaveReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestStore&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMasterReplication&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1958//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1958//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1958//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1958//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1958//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1958//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13280825" author="ram_krish" created="Tue, 22 May 2012 09:07:48 +0000"  >&lt;p&gt;@Chunhui&lt;br/&gt;
Can you run the entire testsuite?  HadoopQA will not run all the testcases.  Similarly for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6065&quot; title=&quot;Log for flush would append a non-sequential edit in the hlog, leading to possible data loss&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6065&quot;&gt;&lt;del&gt;HBASE-6065&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13281377" author="zjushch" created="Wed, 23 May 2012 02:59:04 +0000"  >&lt;p&gt;@ram&lt;br/&gt;
Sorry, we don&apos;t have the test environment for trunk.&lt;br/&gt;
I think TestStore is failed by empty storefil, do we modify the testcase or the patch?&lt;/p&gt;</comment>
                            <comment id="13281379" author="zhihyu@ebaysf.com" created="Wed, 23 May 2012 03:09:17 +0000"  >&lt;p&gt;I think test case should be modified.&lt;/p&gt;</comment>
                            <comment id="13281385" author="zjushch" created="Wed, 23 May 2012 03:33:45 +0000"  >&lt;p&gt;Patch v4 modified TestStore#testDeleteExpiredStoreFiles since we could create empty store file now.&lt;/p&gt;</comment>
                            <comment id="13281396" author="hadoopqa" created="Wed, 23 May 2012 04:31:24 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12528693/HBASE-6059v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12528693/HBASE-6059v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 34 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestShell&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMultiSlaveReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMasterReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1962//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1962//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1962//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1962//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1962//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1962//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13281475" author="zjushch" created="Wed, 23 May 2012 09:24:51 +0000"  >&lt;p&gt;Find the bug which cause TestShell failed.&lt;/p&gt;

&lt;p&gt;Store#rowAtOrBeforeFromStoreFile&#65292;&lt;br/&gt;
we should do it considering empty store file now&#65292; else it will throw NPW&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Store#rowAtOrBeforeFromStoreFile
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void rowAtOrBeforeFromStoreFile(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StoreFile f,
                                          &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; GetClosestRowBeforeTracker state)
      &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    StoreFile.Reader r = f.getReader();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (r == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;StoreFile &quot;&lt;/span&gt; + f + &lt;span class=&quot;code-quote&quot;&gt;&quot; has a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; Reader&quot;&lt;/span&gt;);
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }
     }
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (r.getEntries() == 0) {
+      LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;StoreFile &quot;&lt;/span&gt; + f + &lt;span class=&quot;code-quote&quot;&gt;&quot; is a empty store file&quot;&lt;/span&gt;);
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
+    }
    &lt;span class=&quot;code-comment&quot;&gt;// TODO: Cache these keys rather than make each time?
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [] fk = r.getFirstKey();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mmodify it in the patchV5 and passed the TestShell now.&lt;/p&gt;</comment>
                            <comment id="13281502" author="hadoopqa" created="Wed, 23 May 2012 10:16:37 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12528713/HBASE-6059v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12528713/HBASE-6059v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 34 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMultiSlaveReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMasterReplication&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1963//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1963//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1963//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1963//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1963//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1963//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13281861" author="zhihyu@ebaysf.com" created="Wed, 23 May 2012 20:12:27 +0000"  >&lt;p&gt;Patch v6 modifies the comment in TestStore.java&lt;/p&gt;</comment>
                            <comment id="13281917" author="hadoopqa" created="Wed, 23 May 2012 21:05:30 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12528774/6059v6.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12528774/6059v6.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 34 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMultiSlaveReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestMasterReplication&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1967//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1967//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1967//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1967//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1967//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1967//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13281919" author="zhihyu@ebaysf.com" created="Wed, 23 May 2012 21:08:48 +0000"  >&lt;p&gt;I ran TestSplitLogManager with patch v6 and it passed.&lt;/p&gt;</comment>
                            <comment id="13284369" author="ram_krish" created="Mon, 28 May 2012 11:06:30 +0000"  >&lt;p&gt;@Stack&lt;br/&gt;
Could you take a look at this solution and and patch?&lt;br/&gt;
@Ted&lt;br/&gt;
Is this ok to be committed? My concern was with creating an empty store file now. &lt;/p&gt;</comment>
                            <comment id="13284416" author="zhihyu@ebaysf.com" created="Mon, 28 May 2012 14:34:49 +0000"  >&lt;p&gt;I would listen to opinion from people who are more familiar with store files about the current solution.&lt;/p&gt;</comment>
                            <comment id="13284975" author="ram_krish" created="Tue, 29 May 2012 18:01:53 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Can you have a look at this?&lt;/p&gt;</comment>
                            <comment id="13286024" author="stack" created="Wed, 30 May 2012 20:44:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Great work @Chunhui.  Nice find.   Nice tests too.&lt;/p&gt;</comment>
                            <comment id="13286039" author="zhihyu@ebaysf.com" created="Wed, 30 May 2012 20:56:12 +0000"  >&lt;p&gt;Patch v7 is rebased on trunk.&lt;/p&gt;</comment>
                            <comment id="13286154" author="hadoopqa" created="Wed, 30 May 2012 22:50:15 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530272/6059v7.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530272/6059v7.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestAssignmentManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2063//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2063//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2063//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2063//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13286230" author="hadoopqa" created="Thu, 31 May 2012 00:40:03 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530290/6059v7.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530290/6059v7.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2066//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2066//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2066//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2066//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13286263" author="hadoopqa" created="Thu, 31 May 2012 02:02:46 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530313/6059v7.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530313/6059v7.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs (version 1.3.9) to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2067//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2067//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2067//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2067//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13286273" author="zjushch" created="Thu, 31 May 2012 02:30:49 +0000"  >&lt;p&gt;I run the failed test org.apache.hadoop.hbase.master.TestSplitLogManager.testOrphanTaskAcquisition on local PC, it passed.&lt;/p&gt;</comment>
                            <comment id="13286291" author="stack" created="Thu, 31 May 2012 03:48:48 +0000"  >&lt;p&gt;Applied to trunk.  Thanks for the patch Chunhui and for all who helped get it in (Ram and Ted).&lt;/p&gt;</comment>
                            <comment id="13286328" author="hudson" created="Thu, 31 May 2012 05:11:42 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2961 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2961/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2961/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6059&quot; title=&quot;Replaying recovered edits would make deleted data exist again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6059&quot;&gt;&lt;del&gt;HBASE-6059&lt;/del&gt;&lt;/a&gt; Replaying recovered edits would make deleted data exist again (Revision 1344554)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Compactor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13286508" author="hudson" created="Thu, 31 May 2012 11:59:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #34 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/34/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/34/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6059&quot; title=&quot;Replaying recovered edits would make deleted data exist again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6059&quot;&gt;&lt;del&gt;HBASE-6059&lt;/del&gt;&lt;/a&gt; Replaying recovered edits would make deleted data exist again (Revision 1344554)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Compactor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13287254" author="lhofhansl" created="Fri, 1 Jun 2012 08:09:17 +0000"  >&lt;p&gt;Should we have this in 0.94.1?&lt;/p&gt;</comment>
                            <comment id="13287262" author="ram_krish" created="Fri, 1 Jun 2012 08:27:02 +0000"  >&lt;p&gt;+1 for getting it in 0.94.  &lt;/p&gt;</comment>
                            <comment id="13287288" author="lhofhansl" created="Fri, 1 Jun 2012 09:24:06 +0000"  >&lt;p&gt;Wanna make a patch Ram? I am technically on vacation.&lt;/p&gt;</comment>
                            <comment id="13287295" author="ram_krish" created="Fri, 1 Jun 2012 09:41:25 +0000"  >&lt;p&gt;Ok..I can make it over the weekend.. &lt;/p&gt;</comment>
                            <comment id="13287302" author="zjushch" created="Fri, 1 Jun 2012 09:51:10 +0000"  >&lt;p&gt;Updating patch for 0.94&lt;/p&gt;</comment>
                            <comment id="13287304" author="zjushch" created="Fri, 1 Jun 2012 09:52:32 +0000"  >&lt;p&gt;@Lars @ram&lt;br/&gt;
I has done for 0.94~~&lt;/p&gt;</comment>
                            <comment id="13287307" author="ram_krish" created="Fri, 1 Jun 2012 09:57:51 +0000"  >&lt;p&gt;@Chunhui&lt;br/&gt;
Thanks a lot.. If Lars can&apos;t commit it, I can review and commit it to 0.94.  &lt;br/&gt;
@Lars&lt;br/&gt;
Is it fine?&lt;/p&gt;</comment>
                            <comment id="13287917" author="lhofhansl" created="Sat, 2 Jun 2012 12:37:05 +0000"  >&lt;p&gt;I don&apos;t grok the patch in all detail, but looks good, and same as trunk patch. So +1.&lt;br/&gt;
@Stack: Maybe you can have a safety look...?&lt;/p&gt;</comment>
                            <comment id="13502568" author="ram_krish" created="Thu, 22 Nov 2012 03:53:39 +0000"  >&lt;p&gt;Discussed with Lars too.. We can backport this to 0.94.&lt;/p&gt;</comment>
                            <comment id="13502587" author="lhofhansl" created="Thu, 22 Nov 2012 04:54:19 +0000"  >&lt;p&gt;Stack had opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6628&quot; title=&quot;Add HBASE-6059 to 0.94 branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6628&quot;&gt;&lt;del&gt;HBASE-6628&lt;/del&gt;&lt;/a&gt; for the backport.&lt;br/&gt;
Let&apos;s do the 0.94 work there.&lt;/p&gt;</comment>
                            <comment id="13661207" author="hudson" created="Sat, 18 May 2013 01:24:55 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #145 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/145/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/145/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7210&quot; title=&quot;Backport HBASE-6059 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7210&quot;&gt;&lt;del&gt;HBASE-7210&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6059&quot; title=&quot;Replaying recovered edits would make deleted data exist again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6059&quot;&gt;&lt;del&gt;HBASE-6059&lt;/del&gt;&lt;/a&gt; to 0.94 (Ted Yu) (Revision 1483992)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Compactor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13661213" author="hudson" created="Sat, 18 May 2013 01:34:41 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #988 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/988/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/988/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7210&quot; title=&quot;Backport HBASE-6059 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7210&quot;&gt;&lt;del&gt;HBASE-7210&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6059&quot; title=&quot;Replaying recovered edits would make deleted data exist again&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6059&quot;&gt;&lt;del&gt;HBASE-6059&lt;/del&gt;&lt;/a&gt; to 0.94 (Ted Yu) (Revision 1483992)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Compactor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13774937" author="stack" created="Mon, 23 Sep 2013 18:30:23 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12604276">HBASE-6628</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12528774" name="6059v6.txt" size="19110" author="zhihyu@ebaysf.com" created="Wed, 23 May 2012 20:12:27 +0000"/>
                            <attachment id="12530527" name="6059v7-94.patch" size="19625" author="zjushch" created="Fri, 1 Jun 2012 09:51:10 +0000"/>
                            <attachment id="12530313" name="6059v7.txt" size="19344" author="zhihyu@ebaysf.com" created="Thu, 31 May 2012 01:11:03 +0000"/>
                            <attachment id="12530290" name="6059v7.txt" size="19344" author="stack" created="Wed, 30 May 2012 22:55:00 +0000"/>
                            <attachment id="12528399" name="HBASE-6059-testcase.patch" size="5772" author="zjushch" created="Mon, 21 May 2012 08:26:08 +0000"/>
                            <attachment id="12528400" name="HBASE-6059.patch" size="16482" author="zjushch" created="Mon, 21 May 2012 08:31:20 +0000"/>
                            <attachment id="12528557" name="HBASE-6059v2.patch" size="17030" author="zjushch" created="Tue, 22 May 2012 05:41:06 +0000"/>
                            <attachment id="12528568" name="HBASE-6059v3.patch" size="16692" author="zjushch" created="Tue, 22 May 2012 08:11:40 +0000"/>
                            <attachment id="12528693" name="HBASE-6059v4.patch" size="18560" author="zjushch" created="Wed, 23 May 2012 03:33:45 +0000"/>
                            <attachment id="12528713" name="HBASE-6059v5.patch" size="19250" author="zjushch" created="Wed, 23 May 2012 09:24:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 May 2012 10:52:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i016h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>