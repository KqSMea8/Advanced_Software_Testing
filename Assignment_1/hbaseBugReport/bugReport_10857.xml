<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:17:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10857/HBASE-10857.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10857] clear_auths command gives exception on existing label and user in secure deployment</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10857</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As user hbase, I performed the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; set_auths &apos;oozie&apos;, [ &apos;TOP_SECRET&apos; ]
SLF4J: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/usr/lib/hadoop/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/usr/lib/zookeeper/lib/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http:&lt;span class=&quot;code-comment&quot;&gt;//www.slf4j.org/codes.html#multiple_bindings &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; an explanation.
&lt;/span&gt;2014-03-27 22:35:44,312 WARN  [main] conf.Configuration: hbase-site.xml:an attempt to override &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; parameter: dfs.support.append;  Ignoring.
0 row(s) in 2.6000 seconds

hbase(main):002:0&amp;gt; scan &apos;hbase:labels&apos;
ROW                                          COLUMN+CELL
 \x00\x00\x00\x01                            column=f:\x00, timestamp=1395944796030, value=system
 \x00\x00\x00\x01                            column=f:hbase, timestamp=1395944796030, value=
 \x00\x00\x00\x02                            column=f:\x00, timestamp=1395951045442, value=TOP_SECRET
 \x00\x00\x00\x02                            column=f:hrt_qa, timestamp=1395951229682, value=
 \x00\x00\x00\x02                            column=f:hrt_qa1, timestamp=1395951270297, value=
 \x00\x00\x00\x02                            column=f:mapred, timestamp=1395958442326, value=
 \x00\x00\x00\x02                            column=f:oozie, timestamp=1395959745422, value=
 \x00\x00\x00\x03                            column=f:\x00, timestamp=1395952069731, value=TOP_TOP_SECRET
 \x00\x00\x00\x03                            column=f:mapred, timestamp=1395956032141, value=
3 row(s) in 0.0620 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, clear_auths command gave me:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):003:0&amp;gt; clear_auths &apos;oozie&apos;, [ &apos;TOP_SECRET&apos; ]
SLF4J: &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/usr/lib/hadoop/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/usr/lib/zookeeper/lib/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http:&lt;span class=&quot;code-comment&quot;&gt;//www.slf4j.org/codes.html#multiple_bindings &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; an explanation.
&lt;/span&gt;
ERROR: org.apache.hadoop.hbase.security.visibility.InvalidLabelException: Label &apos;TOP_SECRET&apos; is not set &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the user oozie
	at org.apache.hadoop.hbase.security.visibility.VisibilityController.clearAuths(VisibilityController.java:1304)
	at org.apache.hadoop.hbase.protobuf.generated.VisibilityLabelsProtos$VisibilityLabelsService$1.clearAuths(VisibilityLabelsProtos.java:5030)
	at org.apache.hadoop.hbase.protobuf.generated.VisibilityLabelsProtos$VisibilityLabelsService.callMethod(VisibilityLabelsProtos.java:5188)
	at org.apache.hadoop.hbase.regionserver.HRegion.execService(HRegion.java:5518)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.execService(HRegionServer.java:3299)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:28865)
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2008)
	at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:92)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.consumerLoop(SimpleRpcScheduler.java:160)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler.access$000(SimpleRpcScheduler.java:38)
	at org.apache.hadoop.hbase.ipc.SimpleRpcScheduler$1.run(SimpleRpcScheduler.java:110)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12704136">HBASE-10857</key>
            <summary>clear_auths command gives exception on existing label and user in secure deployment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2014 23:19:48 +0000</created>
                <updated>Sat, 29 Mar 2014 11:00:39 +0000</updated>
                            <resolved>Sat, 29 Mar 2014 10:13:37 +0000</resolved>
                                    <version>0.98.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13950997" author="yuzhihong@gmail.com" created="Fri, 28 Mar 2014 16:38:47 +0000"  >&lt;p&gt;Deployed tip of 0.98 and saw the same problem.&lt;/p&gt;</comment>
                            <comment id="13951829" author="yuzhihong@gmail.com" created="Sat, 29 Mar 2014 10:13:37 +0000"  >&lt;p&gt;Yes, I did.&lt;/p&gt;

&lt;p&gt;With fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10863&quot; title=&quot;Scan doesn&amp;#39;t return rows for user who has authorization by visibility label in secure deployment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10863&quot;&gt;&lt;del&gt;HBASE-10863&lt;/del&gt;&lt;/a&gt;, I verified that label was dropped.&lt;/p&gt;</comment>
                            <comment id="13951830" author="apurtell" created="Sat, 29 Mar 2014 10:18:41 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13951832" author="apurtell" created="Sat, 29 Mar 2014 10:19:32 +0000"  >&lt;p&gt;Thanks Ted&lt;/p&gt;</comment>
                            <comment id="13951844" author="anoop.hbase" created="Sat, 29 Mar 2014 11:00:39 +0000"  >&lt;p&gt;Yes as we had doubt the root cause was same. Thanks Ted.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 29 Mar 2014 10:18:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tw5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>