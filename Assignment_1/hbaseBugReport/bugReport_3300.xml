<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:09:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3300/HBASE-3300.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3300] force delete option for use cases that explicitly set version/timestamp</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3300</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Background: For use cases that explicitly set versions, after a delete, it is not possible to insert values with older versions. So for example if you did a puts (v1) and delete (@ v2), subsequent puts with an older version (e.g., v1) will not take effect since the delete has a higher version.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
#1. PUT(row, col, version1,  old-value)
#2. DELETE(row, col, version2)
#3. PUT(row, col, version1, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;-value)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The row/col stays deleted, and this is expected behavior since the delete has a higher timestamp.&lt;/p&gt;

&lt;p&gt;Feature Request: It would be good to provide a &quot;force&quot; delete mechanism &amp;#8211; something that allows the row or a specific column to be started with a clean slate. i.e. forget about everything that happened to this item earlier, and lets you start afresh. Without this there is no good cleanup mechanism for use cases that set versions explicitly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;#2 &amp;amp; #3, then you would in fact be able to put a value with an older version.&quot;&gt;Note: The only workaround for this depends on a subtle implementation detail that major compactions discard delete markers. So if a major compaction happened between steps #2 &amp;amp; #3, then you would in fact be able to put a value with an older version.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12491834">HBASE-3300</key>
            <summary>force delete option for use cases that explicitly set version/timestamp</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kannanm">Kannan Muthukkaruppan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Dec 2010 23:05:37 +0000</created>
                <updated>Sat, 19 Jul 2014 00:31:47 +0000</updated>
                            <resolved>Sat, 19 Jul 2014 00:31:47 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12966060" author="larsgeorge" created="Thu, 2 Dec 2010 11:00:01 +0000"  >&lt;p&gt;I have seen this up on mailing list: &lt;a href=&quot;http://search-hadoop.com/m/amYp31Maiue2/something+wrong+with+hbase+mapreduce&amp;amp;subj=something+wrong+with+hbase+mapreduce&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/amYp31Maiue2/something+wrong+with+hbase+mapreduce&amp;amp;subj=something+wrong+with+hbase+mapreduce&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Sounds like the same issue. How do you propose to do this without a major compaction or implicit timestamps? Purely by the insert order and a specific delete marker?&lt;/p&gt;</comment>
                            <comment id="12966168" author="kannanm" created="Thu, 2 Dec 2010 16:49:55 +0000"  >&lt;p&gt;Lars: Had a discussion up in IRC with Ryan yesterday. Was originally thinking perhaps a new type of delete marker which resolves based on maxSeqId metadata stored in HFiles. But Ryan wants to solve multiple related problems--- and his solution proposed for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2856&quot; title=&quot;TestAcidGuarantee broken on trunk &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2856&quot;&gt;&lt;del&gt;HBASE-2856&lt;/del&gt;&lt;/a&gt; (additional sequenceID (memstoreTS&apos;ish timestamp)) stored with each KV should handle not only the original issue described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2856&quot; title=&quot;TestAcidGuarantee broken on trunk &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2856&quot;&gt;&lt;del&gt;HBASE-2856&lt;/del&gt;&lt;/a&gt; but also the two delete issues (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3276&quot; title=&quot;delete followed by a put with the same timestamp&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3276&quot;&gt;&lt;del&gt;HBASE-3276&lt;/del&gt;&lt;/a&gt; and this one). The &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2856&quot; title=&quot;TestAcidGuarantee broken on trunk &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2856&quot;&gt;&lt;del&gt;HBASE-2856&lt;/del&gt;&lt;/a&gt; proposal sounds like the way to go.&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Dec 2010 11:00:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02gfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>