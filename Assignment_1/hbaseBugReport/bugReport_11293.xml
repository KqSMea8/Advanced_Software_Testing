<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:21:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11293/HBASE-11293.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11293] Master and Region servers fail to start when hbase.master.ipc.address=0.0.0.0, hbase.regionserver.ipc.address=0.0.0.0 and Kerberos is enabled</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11293</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Setting &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase.master.ipc.address=0.0.0.0
hbase.regionserver.ipc.address=0.0.0.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;causes the _HOST substitution in hbase/_HOST@EXAMPLE.COM to result in &quot;hbase/0:0:0:0:0:0:0:0@EXAMPLE.COM which in turn causes kerberos authentication to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12718209">HBASE-11293</key>
            <summary>Master and Region servers fail to start when hbase.master.ipc.address=0.0.0.0, hbase.regionserver.ipc.address=0.0.0.0 and Kerberos is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="devaraj">Devaraj Das</assignee>
                                    <reporter username="miharp">Michael Harp</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2014 18:12:23 +0000</created>
                <updated>Fri, 27 Feb 2015 18:48:54 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14016956" author="apurtell" created="Tue, 3 Jun 2014 18:25:50 +0000"  >&lt;p&gt;Do you need to be listening on multiple interfaces?&lt;/p&gt;</comment>
                            <comment id="14017799" author="miharp" created="Wed, 4 Jun 2014 16:01:05 +0000"  >&lt;p&gt;Yes, we have multiple nics on all hosts.&lt;/p&gt;</comment>
                            <comment id="14021361" author="devaraj" created="Sun, 8 Jun 2014 21:28:20 +0000"  >&lt;p&gt;The problem is that the hostname passed to the login call ends up being 0.0.0.0 instead of the actual hostname (the substitution of _HOST string is not the problem).&lt;br/&gt;
In HMaster.java, the server&apos;s hostname is also obtained via Hadoop&apos;s DNS library code&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;String hostname = Strings.domainNamePointerToHostName(DNS.getDefaultHost(
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In Hadoop&apos;s DNS.java, by default this hostname would be given by InetAddress.getLocalHost().getCanonicalHostName(). Maybe, we should pass the same in the login call ?&lt;/p&gt;</comment>
                            <comment id="14025330" author="apurtell" created="Mon, 9 Jun 2014 16:26:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;In Hadoop&apos;s DNS.java, by default this hostname would be given by InetAddress.getLocalHost().getCanonicalHostName(). Maybe, we should pass the same in the login call ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That could work, as long as we also respect the configuration settings &apos;hbase.regionserver.dns.interface&apos; (the name of the interface we should retrieve the local IP address to look up the canonical hostname with) and &apos;hbase.regionserver.dns.nameserver&apos; (the nameserver we should use for queries, including reverse IP lookups)&lt;/p&gt;</comment>
                            <comment id="14025683" author="devaraj" created="Mon, 9 Jun 2014 20:18:59 +0000"  >&lt;p&gt;This patch has been tested internally.&lt;/p&gt;</comment>
                            <comment id="14026920" author="devaraj" created="Tue, 10 Jun 2014 20:06:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, could you please take a look at the patch. Thanks!&lt;/p&gt;</comment>
                            <comment id="14027194" author="yuzhihong@gmail.com" created="Tue, 10 Jun 2014 23:17:48 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14027344" author="ndimiduk" created="Wed, 11 Jun 2014 02:10:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14027375" author="hadoopqa" created="Wed, 11 Jun 2014 03:42:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12649451/11293-1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12649451/11293-1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12649451&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9741//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9741//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14027448" author="devaraj" created="Wed, 11 Jun 2014 05:56:32 +0000"  >&lt;p&gt;Will upload a trunk patch shortly. The patch uploaded last was for 0.98.x.&lt;/p&gt;</comment>
                            <comment id="14028810" author="apurtell" created="Thu, 12 Jun 2014 04:13:45 +0000"  >&lt;p&gt;+1, would be good to have a test also&lt;/p&gt;</comment>
                            <comment id="14054312" author="devaraj" created="Tue, 8 Jul 2014 00:04:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=miharp&quot; class=&quot;user-hover&quot; rel=&quot;miharp&quot;&gt;Michael Harp&lt;/a&gt;, this is not done yet. Trunk needs to have a patch.&lt;/p&gt;</comment>
                            <comment id="14063872" author="enis" created="Wed, 16 Jul 2014 18:35:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; should we go forward with this patch? &lt;/p&gt;</comment>
                            <comment id="14063876" author="devaraj" created="Wed, 16 Jul 2014 18:37:54 +0000"  >&lt;p&gt;Yes, will get to it this week.&lt;/p&gt;</comment>
                            <comment id="14340568" author="devaraj" created="Fri, 27 Feb 2015 18:48:54 +0000"  >&lt;p&gt;From what I can tell, this issue doesn&apos;t affect the branch-1+ branches.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12649451" name="11293-1.txt" size="3296" author="devaraj" created="Mon, 9 Jun 2014 20:18:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Jun 2014 18:25:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396411</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1w8y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396533</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>