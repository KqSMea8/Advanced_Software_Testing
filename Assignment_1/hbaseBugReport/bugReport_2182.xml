<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:59:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2182/HBASE-2182.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2182] rpc/ipc refactor; x-version compatibility, nio, async, enveloping, sane timeouts, etc.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2182</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Reimplement HBase RPC with an NIO framework. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12455264">HBASE-2182</key>
            <summary>rpc/ipc refactor; x-version compatibility, nio, async, enveloping, sane timeouts, etc.</summary>
                <type id="14" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Umbrella</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Feb 2010 03:47:06 +0000</created>
                <updated>Mon, 12 May 2014 00:46:13 +0000</updated>
                            <resolved>Mon, 12 May 2014 00:46:13 +0000</resolved>
                                                                    <component>IPC/RPC</component>
                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>25</watches>
                                                                <comments>
                            <comment id="12829426" author="ryanobjc" created="Thu, 4 Feb 2010 03:59:38 +0000"  >&lt;p&gt;It might be better to use a framework that supports both nio and nio2.  The problem with nio2 is it is java7 specific, and not released yet.&lt;/p&gt;

&lt;p&gt;If we want to do something like avro rpc, we should wrap this up in there.&lt;/p&gt;</comment>
                            <comment id="12829428" author="ryanobjc" created="Thu, 4 Feb 2010 04:02:35 +0000"  >&lt;p&gt;btw im researching IO and nio frameworks now...&lt;/p&gt;</comment>
                            <comment id="12829429" author="apurtell" created="Thu, 4 Feb 2010 04:05:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;It might be better to use a framework that supports both nio and nio2. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good.&lt;/p&gt;

&lt;p&gt;Stack mentioned NIO-2 in a comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2141&quot; title=&quot;Flexible thread pool for RPC server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2141&quot;&gt;&lt;del&gt;HBASE-2141&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="12829459" author="tlipcon" created="Thu, 4 Feb 2010 05:47:59 +0000"  >&lt;p&gt;I&apos;m strongly leaning towards either Netty or no framework at all for Avro RPC and HDFS... but it&apos;s still very much work in progress. Netty currently lacks sendfile support, which is a bit of a pain.&lt;/p&gt;</comment>
                            <comment id="12829696" author="stack" created="Thu, 4 Feb 2010 18:58:09 +0000"  >&lt;p&gt;@Todd not having sendfile will be held against netty since the bulk of the data transported by DNs uses it?&lt;/p&gt;</comment>
                            <comment id="12829701" author="tlipcon" created="Thu, 4 Feb 2010 19:02:21 +0000"  >&lt;p&gt;Yes, but the author of Netty has said he&apos;s pretty sure he&apos;ll get sendfile done in the next couple of months. My guess is that if we ask nicely enough that could be accelerated. And the development and testing of an Netty based DN will probably take on the order of months anyhow.&lt;/p&gt;</comment>
                            <comment id="12867043" author="stack" created="Thu, 13 May 2010 04:43:02 +0000"  >&lt;p&gt;Moved from 0.21 to 0.22 just after merge of old 0.20 branch into TRUNK.&lt;/p&gt;</comment>
                            <comment id="12884785" author="apurtell" created="Fri, 2 Jul 2010 19:15:15 +0000"  >&lt;p&gt;The Netty-based Java RPC server for Avro (&lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-405&quot; title=&quot;Netty-based Java RPC server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-405&quot;&gt;&lt;del&gt;AVRO-405&lt;/del&gt;&lt;/a&gt;) was just committed. &lt;/p&gt;</comment>
                            <comment id="12917070" author="ryanobjc" created="Fri, 1 Oct 2010 22:23:44 +0000"  >&lt;p&gt;our RPC is already NIO based &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  It&apos;s how you USE it that counts not if it&apos;s NIO or not.  For example the server RPC has 1 thread that sends replies to clients in a non-blocking manner if the handler was unable to send the entire response in the first non-blocking write.&lt;/p&gt;</comment>
                            <comment id="13047590" author="stack" created="Fri, 10 Jun 2011 22:45:58 +0000"  >&lt;p&gt;Moving out of 0.92.0. Pull it back in if you think different.&lt;/p&gt;</comment>
                            <comment id="13174701" author="mubarakseyed" created="Thu, 22 Dec 2011 08:57:36 +0000"  >&lt;p&gt;Netty 3.2 (&lt;a href=&quot;https://issues.jboss.org/browse/NETTY-293&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;NETTY-293&lt;/a&gt;) supports sendfile() system call. &lt;/p&gt;
</comment>
                            <comment id="13197038" author="stack" created="Tue, 31 Jan 2012 17:52:18 +0000"  >&lt;p&gt;Made this an umbrella issue for all related to rpc.  Changed the subject to be more generic&lt;/p&gt;</comment>
                            <comment id="13197041" author="stack" created="Tue, 31 Jan 2012 17:54:54 +0000"  >&lt;p&gt;There is some overlap between these two issues&lt;/p&gt;</comment>
                            <comment id="13404311" author="eclark" created="Fri, 29 Jun 2012 23:22:50 +0000"  >&lt;p&gt;So I took an early stab at this.  It uses netty for both server and client.  A region server has two different ports (right now).  One for admin and one for data with a protobuf representation.  All servers have a thread pool for IO (getting data in and out, parsing protobuf) and a thread pool for performing operations (Scanning, getting, deleting, etc).  Thread pools are memory aware so slow queries shouldn&apos;t result in OOME&apos;s.&lt;/p&gt;

&lt;p&gt;All communication takes place through a wrapped protocol buffer protocol:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;32 bit length field, protobuf data&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This is pretty easy to parse and should allow native clients to be written very easily.&lt;/p&gt;


&lt;p&gt;All dependencies are injected into the constructor of NRegionServer and NMasterServer.  This should allow us to test things a little bit easier.  I had to make a couple of changes to the Zookeeper listeners for this.&lt;/p&gt;

&lt;p&gt;I envision the client having two implementations. The async client that just gives off futures like &lt;a href=&quot;https://github.com/stumbleupon/asynchbase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/stumbleupon/asynchbase&lt;/a&gt; does currently.  The second implementation will just be a wrapper for the async client that waits for all futures to complete before returning.&lt;/p&gt;


&lt;p&gt;Right now nothing works and nothing is really even close.  I just wanted to put this up to get the ball rolling on discussion and see if people are even interested in this still.&lt;/p&gt;</comment>
                            <comment id="13486430" author="zhihyu@ebaysf.com" created="Mon, 29 Oct 2012 22:22:00 +0000"  >&lt;p&gt;This project is related: &lt;a href=&quot;http://code.google.com/p/netty-protobuf-rpc/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/netty-protobuf-rpc/&lt;/a&gt;&lt;br/&gt;
There doesn&apos;t seem to be active development judging from open issues.&lt;/p&gt;</comment>
                            <comment id="13866704" author="clehene" created="Thu, 9 Jan 2014 15:22:41 +0000"  >&lt;p&gt;Is this still blocked by &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-406&quot; title=&quot;Support streaming RPC calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-406&quot;&gt;AVRO-406&lt;/a&gt;?&lt;br/&gt;
It looks outdated.&lt;/p&gt;</comment>
                            <comment id="13866944" author="enis" created="Thu, 9 Jan 2014 19:26:01 +0000"  >&lt;p&gt;No, we decided to go with PB based RPC instead of Avro RPC. &lt;/p&gt;</comment>
                            <comment id="13866946" author="stack" created="Thu, 9 Jan 2014 19:28:26 +0000"  >&lt;p&gt;I removed &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-406&quot; title=&quot;Support streaming RPC calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-406&quot;&gt;AVRO-406&lt;/a&gt; as a blocker (we don&apos;t do avro).  I also removed this as a blocker on c client because Elliott seems to be making progress in spite of this issue not being done.&lt;/p&gt;

&lt;p&gt;We could close this issue as stale because the world has changed since this was originally written only we want the original objective, an async core, still, years later, so leaving it open for now.&lt;/p&gt;</comment>
                            <comment id="13994731" author="apurtell" created="Mon, 12 May 2014 00:46:13 +0000"  >&lt;p&gt;This issue isn&apos;t going to happen as is. Various later issues have touched on some of this. We should create new issues with specific reasonably scoped objectives if moving this forward. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12436441">HBASE-1863</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12540505">HBASE-5305</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12426961">HBASE-1477</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12438262">HBASE-1910</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12441124">HBASE-1992</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12503351">HBASE-3732</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12533914">HBASE-4956</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12414605">HBASE-1197</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12435909">HBASE-1849</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12445777">HBASE-2141</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12508887">HBASE-3938</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12531823">HBASE-4810</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498300">HBASE-3523</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12504342">HBASE-3787</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12455505">AVRO-405</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446398">HDFS-916</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12461156">HBASE-2408</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12534072" name="HBASE-2182-EARLY-0.patch" size="151179" author="eclark" created="Fri, 29 Jun 2012 23:22:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Feb 2010 03:59:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0da1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>