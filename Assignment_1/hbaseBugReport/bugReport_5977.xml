<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:32:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5977/HBASE-5977.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5977] Usage of modules </title>
                <link>https://issues.apache.org/jira/browse/HBASE-5977</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4336&quot; title=&quot;Convert source tree into maven modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4336&quot;&gt;&lt;del&gt;HBASE-4336&lt;/del&gt;&lt;/a&gt;, HBase will have the ability to add multiple modules for different aspects of the codebase (less tests, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4336&quot; title=&quot;Convert source tree into maven modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4336&quot;&gt;&lt;del&gt;HBASE-4336&lt;/del&gt;&lt;/a&gt; for details). We need to set a policy for when modules should be used versus putting the code into a single existing module or dispersed across modules. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12554576">HBASE-5977</key>
            <summary>Usage of modules </summary>
                <type id="13" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Brainstorming</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 May 2012 22:10:25 +0000</created>
                <updated>Wed, 16 Nov 2016 21:28:18 +0000</updated>
                            <resolved>Wed, 16 Nov 2016 21:28:18 +0000</resolved>
                                    <version>0.95.2</version>
                                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="1209600">336h</timeoriginalestimate>
                            <timeestimate seconds="1209600">336h</timeestimate>
                                        <comments>
                            <comment id="13271879" author="jesse_yates" created="Wed, 9 May 2012 22:21:12 +0000"  >&lt;p&gt;I&apos;d like to avoid creating a ton of packages (or the tendancy to have lots of packages) as I see it more as a rough separation of concerns (like how hadoop has dfs, mr, and common) versus the finer grained functionality separation (where hadoop-common has 20+ modules) as each module means a new jar. &lt;/p&gt;

&lt;p&gt;In the short to medium term, I would like to see the following packages materialize out the existing single package:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-assemble  - necessary for building&lt;/li&gt;
	&lt;li&gt;hbase-common - common functionality used between the client and server&lt;/li&gt;
	&lt;li&gt;hbase-client - functionality just for the client. A general hbase client would just need hbase-common and hbase-client to run&lt;/li&gt;
	&lt;li&gt;hbase-server - all server side functionality, including regionserver and master (this could even be separated, but not necessarily)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Other potential things that came up earlier in the process that seemed useful:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-security - shouldn&apos;t be needed if we roll in security, but still an option&lt;/li&gt;
	&lt;li&gt;hbase-it - for a single place for higher level integration tests (all those using the mini-cluster) to avoid the maven test-jar dependency issue discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4336&quot; title=&quot;Convert source tree into maven modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4336&quot;&gt;&lt;del&gt;HBASE-4336&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Any more granularity that these pacakges tends to be a bit of a mess and rarely all that useful. Instead, a lot of times its really better to just have a config option to specify the right class and load that from the path. The jar approach is much more heavy weight and only useful for wholesale replacements for which there are multiple (possibly competing) implementations. For instance, async-hbase could roll up into a hbase-client.jar and be a drop-in replacement in your install, but you wouldn&apos;t have a whole log-cleaner jar for switching the log cleaner class to use.&lt;/p&gt;</comment>
                            <comment id="13282211" author="jesse_yates" created="Thu, 24 May 2012 05:47:40 +0000"  >&lt;p&gt;Results of hackathon today: Matt is going to start working on pulling things into an hbase-common module for the common/utility classes. When we do a rewrite of the client (probably based on asynchbase), then we are getting an hbase-client module. Until then, we are going to slowly start pulling out modules as they seem necessary. &lt;/p&gt;

&lt;p&gt;Also, I&apos;m going to add the hbase-common module so there is an example for how to add a new module, but let Matt deal with the actual moving of classes (thanks matt!).&lt;/p&gt;</comment>
                            <comment id="13282214" author="jesse_yates" created="Thu, 24 May 2012 05:49:30 +0000"  >&lt;p&gt;Adding link to the hbase-common ticket - &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6087&quot; title=&quot;Add hbase-common module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6087&quot;&gt;&lt;del&gt;HBASE-6087&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13284579" author="mcorgan" created="Mon, 28 May 2012 23:56:17 +0000"  >&lt;p&gt;Jesse, Stack and I have discussed this from a few different angles to try to identify some of the reasons for creating modules.  The main benefit of modules is to isolate complex implementations behind simple interfaces.  The main drawback is that modules add overhead in the form of more things to open in eclipse and more jar files in the build.&lt;/p&gt;

&lt;p&gt;Pasting from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5720&quot; title=&quot;HFileDataBlockEncoderImpl uses wrong header size when reading HFiles with no checksums&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5720&quot;&gt;&lt;del&gt;HBASE-5720&lt;/del&gt;&lt;/a&gt; some arguments for creating a &quot;codec&quot; module that contains wrapper classes for individual HFile block types:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;make it more testable, like a normal in-memory data structure without having to set up heavyweight testing environments&lt;/li&gt;
	&lt;li&gt;separate the encoding concerns from IO concerns. after the checksum happens, encoders/decoders should not even know what an IOException is&lt;/li&gt;
	&lt;li&gt;strongly discourage people from modifying anything in the codec packages without knowing what they&apos;re getting into&lt;/li&gt;
	&lt;li&gt;ensure the main project code only references the interfaces and not any codec internals (see if main project compiles without codecs in classpath)&lt;/li&gt;
	&lt;li&gt;make it easier for contributors to develop and profile the codecs without having to become experts in all aspects of hbase&lt;/li&gt;
	&lt;li&gt;help to simplify the main project. imagine if the gzip or snappy internals were sprinkled throughout the regionserver code. yikes.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Attaching Potential-HBase-Modules-v1.pdf and Potential-HBaseModule-Descriptions-v1.pdf to illustrate a possible roadmap for extracting modules.  We currently have hbase-server, and first going to &quot;pull up&quot; some files into hbase-common.  Eventually we may &quot;push down&quot; an integration-test module.  &lt;/p&gt;

&lt;p&gt;Extracting these modules can&apos;t really be done all at once, so this is just a roadmap meant to start discussion.  For example, there&apos;s probably an opportunity to isolate some of regionserver and master code, but they also share a lot.  This v1 doc shows a push down of master code out of the server module, but we probably need to think through that in more detail.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Link to dependency chart: &lt;a href=&quot;https://docs.google.com/presentation/d/16Kf9FAFjtneWwCnpy9Bql4QhXmORf7U9uJLoRobePHQ/edit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://docs.google.com/presentation/d/16Kf9FAFjtneWwCnpy9Bql4QhXmORf7U9uJLoRobePHQ/edit&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Link to description doc: &lt;a href=&quot;https://docs.google.com/document/d/1RHrUa9qWGvIR6ZmqVYP17rS7JTPSzCFCPKNjTo-XY38/edit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://docs.google.com/document/d/1RHrUa9qWGvIR6ZmqVYP17rS7JTPSzCFCPKNjTo-XY38/edit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13286830" author="jesse_yates" created="Thu, 31 May 2012 18:56:47 +0000"  >&lt;p&gt;Other thing which would be awesome is an hbase-mapreduce package. Pull out all the classes that are map-reduce specific, but don&apos;t really touch the rest of the codebase.&lt;/p&gt;</comment>
                            <comment id="13286889" author="mcorgan" created="Thu, 31 May 2012 20:11:47 +0000"  >&lt;p&gt;oh yeah - great call Jesse.  replacing Potential-HBase-Modules-v1.pdf with v2&lt;/p&gt;</comment>
                            <comment id="15671693" author="stack" created="Wed, 16 Nov 2016 21:28:18 +0000"  >&lt;p&gt;Resolving as done. When this issue was being worked on, we were careful making modules. Now we make one at the drop of a hat for all the reasons documented in here... &lt;/p&gt;

&lt;p&gt;Resolving as fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12557129">HBASE-6087</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12560281">HBASE-6201</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12528782">HBASE-4676</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12559337">HBASE-6162</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12521509">HBASE-4336</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12529995" name="Potential-HBase-Module-Descriptions-v1.pdf" size="37298" author="mcorgan" created="Mon, 28 May 2012 23:56:17 +0000"/>
                            <attachment id="12530442" name="Potential-HBase-Modules-v2.pdf" size="25433" author="mcorgan" created="Thu, 31 May 2012 20:11:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 May 2012 23:56:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>238826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02b7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>build, maven</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>