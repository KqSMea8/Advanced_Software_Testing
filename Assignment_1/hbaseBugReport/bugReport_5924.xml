<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:32:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5924/HBASE-5924.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5924] In the client code, don&apos;t wait for all the requests to be executed before resubmitting a request in error.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5924</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The client (in the function HConnectionManager#processBatchCallback) works in two steps:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;make the requests&lt;/li&gt;
	&lt;li&gt;collect the failures and successes and prepare for retry&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It means that when there is an immediate error (region moved, split, dead server, ...) we still wait for all the initial requests to be executed before submitting again the failed request. If we have a scenario with all the requests taking 5 seconds we have a final execution time of: 5 (initial requests) + 1 (wait time) + 5 (final request) = 11s.&lt;/p&gt;

&lt;p&gt;We could improve this by analyzing immediately the results. This would lead us, for the scenario mentioned above, to 6 seconds. &lt;/p&gt;

&lt;p&gt;So we could have a performance improvement of nearly 50% in many cases, and much more than 50% if the request execution time is different.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12553730">HBASE-5924</key>
            <summary>In the client code, don&apos;t wait for all the requests to be executed before resubmitting a request in error.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 May 2012 10:16:48 +0000</created>
                <updated>Tue, 15 Oct 2013 04:46:50 +0000</updated>
                            <resolved>Wed, 20 Jun 2012 10:16:21 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13267934" author="stack" created="Thu, 3 May 2012 23:19:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13287582" author="nkeywal" created="Fri, 1 Jun 2012 18:27:43 +0000"  >&lt;p&gt;This leads to a complete rewriting of the processBatchCallback function.&lt;br/&gt;
3 comments:&lt;br/&gt;
1) I don&apos;t see how this piece of code can happen, and I ran the complete test suite without getting into this part. Do I miss anything?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;              for (Pair&amp;lt;Integer, Object&amp;gt; regionResult : regionResults) {
                if (regionResult == null) {
                  // if the first/only record is &apos;null&apos; the entire region failed.
                  LOG.debug(&quot;Failures for region: &quot; +
                      Bytes.toStringBinary(regionName) +
                      &quot;, removing from cache&quot;);
                } else {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) The callback is never used internally. Is this something we should keep for customer code?&lt;/p&gt;

&lt;p&gt;3) Do I move it to HTable? There is a comment saying that it does not belong to Connection, and it&apos;s true. But it&apos;s public, so...&lt;/p&gt;
</comment>
                            <comment id="13287595" author="zhihyu@ebaysf.com" created="Fri, 1 Jun 2012 18:45:40 +0000"  >&lt;p&gt;For #2 above, I think we can remove the callback in 0.96&lt;/p&gt;</comment>
                            <comment id="13289591" author="nkeywal" created="Tue, 5 Jun 2012 18:01:47 +0000"  >&lt;p&gt;Bumped the priority to major to make clear it&apos;s a complete rewriting. Tests are in progress, I will push a version soon anyway to get feedback.&lt;br/&gt;
Changes:&lt;br/&gt;
Analyze the replies as they come, not in the initial request order&lt;br/&gt;
Replay the failed request immediately, not when we have all the replies&lt;br/&gt;
Reuse the actions in case of errors instead of recreating the objects&lt;br/&gt;
Don&apos;t iterate on the results list to find the errors&lt;br/&gt;
Don&apos;t reiterate on the results list to detail the errors.&lt;/p&gt;

&lt;p&gt;Note that I removed the &apos;updateHistory&apos; list but not the code in case the feedback shows it should still be used.&lt;br/&gt;
Even if it&apos;s a one to one implementation, it&apos;s preferable to add specific tests. Will do in a later update. And the current implementation stayed in HConnectionManager and kept its callback. Happy to change this. &lt;/p&gt;</comment>
                            <comment id="13289609" author="nkeywal" created="Tue, 5 Jun 2012 18:11:35 +0000"  >&lt;p&gt;local tests ok!&lt;/p&gt;</comment>
                            <comment id="13289646" author="hadoopqa" created="Tue, 5 Jun 2012 19:07:15 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12530992/5924.v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12530992/5924.v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2110//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13289703" author="zhihyu@ebaysf.com" created="Tue, 5 Jun 2012 20:40:37 +0000"  >&lt;p&gt;Nice work.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; class &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt;&amp;lt;R&amp;gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can we name the above class more meaningfully ? javadoc is desirable.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
       * @param sleepTime - sleep time befora actually executing the actions. Can be zero.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;befora&apos; -&amp;gt; &apos;before&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
       &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Action&amp;lt;R&amp;gt; aTodo : actionsList) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;aToDo -&amp;gt; anAction ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          Callable&amp;lt;MultiResponse&amp;gt; callable = createDelayedCallable(sleepTime, e.getKey(), e.getValue());
          Triple&amp;lt;MultiAction&amp;lt;R&amp;gt;, HRegionLocation, Future&amp;lt;MultiResponse&amp;gt;&amp;gt; p =
            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Triple&amp;lt;MultiAction&amp;lt;R&amp;gt;, HRegionLocation, Future&amp;lt;MultiResponse&amp;gt;&amp;gt;(e.getValue(), e.getKey(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.pool.submit(callable));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Wrap the two long lines above.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(
            &lt;span class=&quot;code-quote&quot;&gt;&quot;argument results must be the same size as argument list&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It would be nice to include the sizes in exception message.&lt;/p&gt;</comment>
                            <comment id="13290339" author="nkeywal" created="Wed, 6 Jun 2012 19:12:38 +0000"  >&lt;p&gt;v9, with:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ted&apos;s comment taken into account&lt;/li&gt;
	&lt;li&gt;Full removal of UpdateHistory stuff&lt;/li&gt;
	&lt;li&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6156&quot; title=&quot;Improve multiop performances in HTable#flushCommits&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6156&quot;&gt;&lt;del&gt;HBASE-6156&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Can be committed imho.&lt;/p&gt;</comment>
                            <comment id="13290443" author="stack" created="Wed, 6 Jun 2012 21:36:30 +0000"  >&lt;p&gt;@nkeywal Did you add the history in the first place?  Why is it safe to remove it now?&lt;/p&gt;

&lt;p&gt;Thanks for redoing processBatchCallback.&lt;/p&gt;

&lt;p&gt;On your three comments above, on 1., on the unused code, it may not be triggered by the test suite &amp;#8211; that could just be bad test coverage &amp;#8211; but independent, there may have been a reason for it.  If your review of processBatchCallback has it making no sense, by all means purge it (as you have done).&lt;/p&gt;

&lt;p&gt;On 2., the callback, it looks like you kept it.  I think that sensible.&lt;/p&gt;

&lt;p&gt;On 3., can we move it to HTable?  Deprecate the current version in favor of the new HTable/HTableInterface version?  Would that be too disruptive?&lt;/p&gt;

&lt;p&gt;Any way you can add tests to prove your claims of improvement above (its hard to review for that... but sounds like it at least works... going by it passing all unit tests... good on you nkeywal)&lt;/p&gt;
</comment>
                            <comment id="13290483" author="zhihyu@ebaysf.com" created="Wed, 6 Jun 2012 22:02:54 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-comment&quot;&gt;// We need the origin multi action to find out what are the actions to replay &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;origin&apos; -&amp;gt; &apos;original&apos;, &apos;what are the actions to replay&apos; -&amp;gt; &apos;what actions to replay&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(e);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;InterruptedIOException should be thrown.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;// mutate list so that it is empty &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; complete success, or contains
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// only failed records results are returned in the same order as the
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;// requests in list walk the list backwards, so we can remove from list&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above is hard to read. A period between &apos;records&apos; and &apos;results&apos; ? A period between &apos;list&apos; and &apos;walk&apos; ?&lt;/p&gt;

&lt;p&gt;Hadoop QA didn&apos;t run tests:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2116/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2116/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13290509" author="zhihyu@ebaysf.com" created="Wed, 6 Jun 2012 22:23:02 +0000"  >&lt;p&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/Triple.java was not included in patch v9.&lt;br/&gt;
Hence:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /home/hduser/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java:[2061,23] cannot find symbol
[ERROR] symbol  : class Triple
[ERROR] location: class org.apache.hadoop.hbase.client.HConnectionManager.HConnectionImplementation.&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt;&amp;lt;R&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13290899" author="nkeywal" created="Thu, 7 Jun 2012 09:20:48 +0000"  >&lt;p&gt;@ted&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&apos;origin&apos; -&amp;gt; &apos;original&apos;, &apos;what are the actions to replay&apos; -&amp;gt; &apos;what actions to replay&apos;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;InterruptedIOException should be thrown.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The above is hard to read. A period between &apos;records&apos; and &apos;results&apos; ? A period between &apos;list&apos; and &apos;walk&apos; ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It was already there previously &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. But I aggree, it&apos;s better with some periods or dots. Done.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/Triple.java was not included in patch v9.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done&lt;/p&gt;


&lt;p&gt;@stack&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Did you add the history in the first place? Why is it safe to remove it now?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In the previous code we were updating the locations cache multiple times for the same row, and the second time without the RegionMovedException. So it was necessary to store that we had already taken the error into account for this row... We now update the locations cache only once, so we don&apos;t need to store the history anymore.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On your three comments above, on 1., on the unused code, it may not be triggered by the test suite &#8211; that could just be bad test coverage &#8211; but independent, there may have been a reason for it. If your review of processBatchCallback has it making no sense, by all means purge it (as you have done).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, for this one removing it allows to simplify the algorithm as I can find the original actions.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;On 2., the callback, it looks like you kept it. I think that sensible. On 3., can we move it to HTable? Deprecate the current version in favor of the new HTable/HTableInterface version? Would that be too disruptive?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We can keep the existing interface, deprecate it, and add the new one in HTable, making it call the old one.&lt;br/&gt;
Then in the future remove if from HConnection and move the code in HTable.&lt;/p&gt;

&lt;p&gt;I&apos;ve done it in v10.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Any way you can add tests to prove your claims of improvement above (its hard to review for that...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s hard. Testing that we restart immediately instead of waiting for all results is difficult without adding sleeps and/or mocking a lot of things, because it&apos;s not visible at all outside of the method: its interface has not changed, just the internal algorithm.&lt;/p&gt;

&lt;p&gt;Functionally, it&apos;s tested through testRegionCaching (with some extra checks in it in this patch), and it proves that:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;it works on nominal case (and you can&apos;t start the mini cluster when the nominal case does not work).&lt;/li&gt;
	&lt;li&gt;it retries when one RS fails&lt;/li&gt;
	&lt;li&gt;it stops to retry when the number of retries is reached, and throws the right exception with the right content&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For the performance improvement on nominal case, unfortunately it does not make a big difference. It&apos;s cleaner, but the tests done show that it&apos;s not important vs. the remaining time.&lt;/p&gt;
</comment>
                            <comment id="13291069" author="stack" created="Thu, 7 Jun 2012 15:19:50 +0000"  >&lt;p&gt;Upload v10 nkeywal and we&apos;ll commit it.  Thanks for responses above.&lt;/p&gt;</comment>
                            <comment id="13291370" author="nkeywal" created="Thu, 7 Jun 2012 22:08:52 +0000"  >&lt;p&gt;v11: I changed the names to match HTableInterface#batch, so instead of HTableInterface#processBatchCallback I created HTableInterface#batchCallback. Local tests in progress.&lt;/p&gt;</comment>
                            <comment id="13291375" author="nkeywal" created="Thu, 7 Jun 2012 22:16:32 +0000"  >&lt;p&gt;Ok, I got a random failure in a test I touched (TestRegionServerCoprocessorExceptionWithAbort), but it&apos;s because the test is flaky I think (I can be wrong &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ). I will have a look tomorrow to be sure, but I think the patch v11 is reasonable enough to be committed.&lt;/p&gt;</comment>
                            <comment id="13291434" author="hadoopqa" created="Fri, 8 Jun 2012 00:04:05 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12531326/5924.v11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12531326/5924.v11.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 5 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.coprocessor.TestRegionServerCoprocessorExceptionWithAbort&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestAdmin&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2125//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13291476" author="zhihyu@ebaysf.com" created="Fri, 8 Jun 2012 01:05:17 +0000"  >&lt;p&gt;TestRegionServerCoprocessorExceptionWithAbort failed on QA machine.&lt;br/&gt;
Should investigate.&lt;/p&gt;</comment>
                            <comment id="13291624" author="nkeywal" created="Fri, 8 Jun 2012 08:33:31 +0000"  >&lt;p&gt;I&apos;ve done some changes to TestRegionServerCoprocessorExceptionWithAbort. The new implementation is very different but I think closer to what the test really wants to check...&lt;/p&gt;</comment>
                            <comment id="13291644" author="hadoopqa" created="Fri, 8 Jun 2012 09:17:51 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12531380/5924.v14.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12531380/5924.v14.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 5 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestServerCustomProtocol&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2129//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13291656" author="nkeywal" created="Fri, 8 Jun 2012 09:44:59 +0000"  >&lt;p&gt;I don&apos;t reproduce locally the issue on TestServerCustomProtocol, seems ok to me.&lt;/p&gt;</comment>
                            <comment id="13291657" author="zhihyu@ebaysf.com" created="Fri, 8 Jun 2012 09:46:43 +0000"  >&lt;p&gt;With RSTracker gone, the following flag is no longer checked:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void nodeDeleted(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
-      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path.equals(rsNode)) {
-        regionZKNodeWasDeleted = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can we keep the check ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;RegionServer aborted on coprocessor exception, as expected.&quot;&lt;/span&gt;,
-        rsTracker.regionZKNodeWasDeleted);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think this should be kept:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    table.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13291663" author="nkeywal" created="Fri, 8 Jun 2012 09:58:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;With RSTracker gone, the following flag is no longer checked:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Aggreed, but this unit test is supposed to test if the region server aborted when the coprocessor bugged, not if the regionserver znode is deleted on regionserver abort. I propose to check if there is an existing test on this in the tests suite and if not add it in the regionserver test package. I will comment in this jira if there is already a test, create a new one if I need to extend an existing test case.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;table.close();&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah, I checked and it&apos;s still works, with or without the close.&lt;/p&gt;</comment>
                            <comment id="13291811" author="zhihyu@ebaysf.com" created="Fri, 8 Jun 2012 14:55:38 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ find hbase-server/src/test -name &apos;*.java&apos; -exec grep &apos;nized void nodeDeleted(Str&apos; {} \; -print
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void nodeDeleted(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterCoprocessorExceptionWithAbort.java
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void nodeDeleted(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterCoprocessorExceptionWithRemove.java
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void nodeDeleted(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path) {
hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The other two checks are for master znode.&lt;/p&gt;

&lt;p&gt;w.r.t. table.close(), it is good programming practice of cleaning up resources.&lt;/p&gt;</comment>
                            <comment id="13291815" author="nkeywal" created="Fri, 8 Jun 2012 15:06:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;w.r.t. table.close(), it is good programming practice of cleaning up resources.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I agree. I wanted to say in my previous answer: I tested, it works, it can be added. &lt;/p&gt;</comment>
                            <comment id="13291889" author="zhihyu@ebaysf.com" created="Fri, 8 Jun 2012 18:03:33 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (loc == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
+              &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Without braces, the throw statement should be on the same line as if. Please include a brief message for the exception.&lt;br/&gt;
Some long lines should be wrapped:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;HRegionLocation, MultiAction&amp;lt;R&amp;gt;&amp;gt; actionsByServer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;HRegionLocation, MultiAction&amp;lt;R&amp;gt;&amp;gt;();
...
+            &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Triple&amp;lt;MultiAction&amp;lt;R&amp;gt;, HRegionLocation, Future&amp;lt;MultiResponse&amp;gt;&amp;gt;(e.getValue(), e.getKey(), &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.pool.submit(callable));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13293775" author="nkeywal" created="Tue, 12 Jun 2012 17:06:31 +0000"  >&lt;p&gt;@ted: Ok. These issues were already in my initial patch. Could you confirm that you have finished the review? I would like to deliver &apos;the&apos; final patch. Thank you.&lt;/p&gt;</comment>
                            <comment id="13293778" author="zhihyu@ebaysf.com" created="Tue, 12 Jun 2012 17:07:57 +0000"  >&lt;p&gt;I don&apos;t have further comments.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13294587" author="nkeywal" created="Wed, 13 Jun 2012 17:52:15 +0000"  >&lt;p&gt;v19 with all the comments taken into account. I will create an another jira to rearrange the coprocessors tests on the znode.&lt;/p&gt;</comment>
                            <comment id="13294612" author="hadoopqa" created="Wed, 13 Jun 2012 18:38:17 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12531976/5924.v19.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12531976/5924.v19.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 6 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestDrainingServer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2163//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13294841" author="yuzhihong@gmail.com" created="Thu, 14 Jun 2012 06:55:46 +0000"  >&lt;p&gt;Strange that TestDrainingServer failed Hadoop QA.&lt;br/&gt;
It passed locally.&lt;/p&gt;

&lt;p&gt;Patch integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, N.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Stack.&lt;/p&gt;</comment>
                            <comment id="13294928" author="hudson" created="Thu, 14 Jun 2012 09:41:17 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3023 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3023/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3023/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5924&quot; title=&quot;In the client code, don&amp;#39;t wait for all the requests to be executed before resubmitting a request in error.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5924&quot;&gt;&lt;del&gt;HBASE-5924&lt;/del&gt;&lt;/a&gt; In the client code, don&apos;t wait for all the requests to be executed before resubmitting a request in error (N Keywal)&lt;/p&gt;

&lt;p&gt;Submitted by:	N Keywal&lt;br/&gt;
Reviewed by:	Stack, Ted (Revision 1350105)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HTableInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Triple.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterCoprocessorExceptionWithRemove.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13294977" author="hudson" created="Thu, 14 Jun 2012 12:00:10 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #53 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/53/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/53/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5924&quot; title=&quot;In the client code, don&amp;#39;t wait for all the requests to be executed before resubmitting a request in error.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5924&quot;&gt;&lt;del&gt;HBASE-5924&lt;/del&gt;&lt;/a&gt; In the client code, don&apos;t wait for all the requests to be executed before resubmitting a request in error (N Keywal)&lt;/p&gt;

&lt;p&gt;Submitted by:	N Keywal&lt;br/&gt;
Reviewed by:	Stack, Ted (Revision 1350105)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HTableInterface.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/util/Triple.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterCoprocessorExceptionWithRemove.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionServerCoprocessorExceptionWithAbort.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13295204" author="stack" created="Thu, 14 Jun 2012 18:14:08 +0000"  >&lt;p&gt;I took a look at committed patch.  This looks great.&lt;/p&gt;</comment>
                            <comment id="13775423" author="stack" created="Mon, 23 Sep 2013 18:31:28 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12445471">HBASE-2121</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12552710">HBASE-5877</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12551766">HBASE-5843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12531326" name="5924.v11.patch" size="44264" author="nkeywal" created="Thu, 7 Jun 2012 22:06:58 +0000"/>
                            <attachment id="12531380" name="5924.v14.patch" size="49931" author="nkeywal" created="Fri, 8 Jun 2012 08:29:46 +0000"/>
                            <attachment id="12531976" name="5924.v19.patch" size="50904" author="nkeywal" created="Wed, 13 Jun 2012 14:44:54 +0000"/>
                            <attachment id="12530992" name="5924.v5.patch" size="29729" author="nkeywal" created="Tue, 5 Jun 2012 18:11:14 +0000"/>
                            <attachment id="12531137" name="5924.v9.patch" size="32366" author="nkeywal" created="Wed, 6 Jun 2012 19:10:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 May 2012 23:19:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>237934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hu9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.96notable</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>