<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:37:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12938/HBASE-12938.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12938] Upgrade HTrace to a recent supportable incubating version</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12938</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In 0.98 we have an old htrace (still using the org.cloudera.htrace package) and since the introduction of htrace code, htrace itself first moved to org.htrace, then became an incubating project. I filed this as a bug because the HTrace version we reference in 0.98 is of little to no use going forward. Unfortunately we must make a disruptive change, although it looks to be mostly fixing up imports, we expose no HTrace classes to HBase configuration, and where we extend HTrace classes in our code, those HBase classes are in hbase-server and not tagged for public consumption.   &lt;/p&gt;</description>
                <environment></environment>
        <key id="12770764">HBASE-12938</key>
            <summary>Upgrade HTrace to a recent supportable incubating version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jan 2015 18:44:52 +0000</created>
                <updated>Thu, 30 Apr 2015 22:46:40 +0000</updated>
                            <resolved>Thu, 30 Apr 2015 22:46:40 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14295600" author="apurtell" created="Wed, 28 Jan 2015 18:47:05 +0000"  >&lt;p&gt;Phoenix reported an issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/HTRACE-92&quot; title=&quot;Thread local storing the currentSpan is never cleared&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTRACE-92&quot;&gt;&lt;del&gt;HTRACE-92&lt;/del&gt;&lt;/a&gt; which might be fixed in HTrace. We could see about updating our HTrace dependency to the next release that contains a fix.&lt;/p&gt;</comment>
                            <comment id="14295638" author="busbey" created="Wed, 28 Jan 2015 19:10:01 +0000"  >&lt;p&gt;Will folks need to do anything special presuming they are consuming the traces, e.g. during a rolling upgrade?&lt;/p&gt;</comment>
                            <comment id="14295672" author="apurtell" created="Wed, 28 Jan 2015 19:27:32 +0000"  >&lt;p&gt;Ah, I see what you mean. The HBase span receiver isn&apos;t contained within our sources, it&apos;s in HTrace. &lt;/p&gt;

&lt;p&gt;A rolling upgrade is expected to replace all local jars including dependencies. What cross-server issues do you see &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; ? Did HTrace make incompatible wire format changes or change the effective schema? &lt;/p&gt;

&lt;p&gt;I&apos;m not sure we have much of a choice anyway, the HTrace situation in 0.98 isn&apos;t supportable. I&apos;d hate for folks to have to make private patches to local HBase forks for usable tracing.&lt;/p&gt;</comment>
                            <comment id="14295846" author="busbey" created="Wed, 28 Jan 2015 20:57:37 +0000"  >&lt;p&gt;my concerns came from the discussion about getting spans that include HDFS over in &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-3528&quot; title=&quot;Bump the version of HTrace to 3.1.0-incubating&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ACCUMULO-3528&quot;&gt;&lt;del&gt;ACCUMULO-3528&lt;/del&gt;&lt;/a&gt;. Since Accumulo doesn&apos;t do rolling upgrades, I wasn&apos;t sure if there&apos;d be a similar problem with spans coming from components running different htrace versions.&lt;/p&gt;</comment>
                            <comment id="14295882" author="apurtell" created="Wed, 28 Jan 2015 21:20:49 +0000"  >&lt;p&gt;I see I was channeling &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elserj&quot; class=&quot;user-hover&quot; rel=&quot;elserj&quot;&gt;Josh Elser&lt;/a&gt; again: &lt;a href=&quot;https://issues.apache.org/jira/browse/ACCUMULO-3528?focusedCommentId=14289513&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14289513&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ACCUMULO-3528?focusedCommentId=14289513&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14289513&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14295885" author="elserj" created="Wed, 28 Jan 2015 21:23:43 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14295886" author="apurtell" created="Wed, 28 Jan 2015 21:23:56 +0000"  >&lt;p&gt;Let me assign this to myself to tinker around with it ahead of the next 0.98 release. &lt;/p&gt;</comment>
                            <comment id="14344067" author="apurtell" created="Tue, 3 Mar 2015 00:03:34 +0000"  >&lt;p&gt;Didn&apos;t get time for this. Moving out to 0.98.12 and unassigning&lt;/p&gt;</comment>
                            <comment id="14522416" author="apurtell" created="Thu, 30 Apr 2015 22:43:55 +0000"  >&lt;p&gt;The package name change alone means the result is going to be incompatible, both for code and Maven. I think we need to bite the bullet and move to a recent org.apache.htrace release, mark it as an incompatible change, and explain the ramifications in a release note. Tracing during rolling upgrade won&apos;t work.&lt;/p&gt;

&lt;p&gt;Let me work up a simple patch for this.&lt;/p&gt;

&lt;p&gt;Alternatively, we could rip out all HTrace code in 0.98 referencing the dead com.cloudera.htrace versions.&lt;/p&gt;

&lt;p&gt;I would prefer we acknowledge HTrace&apos;s usefulness, and status as an incubating project, and roll with it.&lt;/p&gt;</comment>
                            <comment id="14522419" author="apurtell" created="Thu, 30 Apr 2015 22:46:28 +0000"  >&lt;p&gt;Hmm..&lt;br/&gt;
I say the above and then go check Phoenix&apos;s POM. &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      &amp;lt;dependency&amp;gt;
        &amp;lt;groupId&amp;gt;org.cloudera.htrace&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;htrace-core&amp;lt;/artifactId&amp;gt;
        &amp;lt;version&amp;gt;${htrace.version}&amp;lt;/version&amp;gt;
      &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Sigh. I&apos;m just going to close this as later. We can move up the 0.98 HTrace version when/if Phoenix needs us to but whatever.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12770619">HTRACE-92</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12765034">HBASE-12810</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12701397">HBASE-10746</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Jan 2015 19:10:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24wwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>