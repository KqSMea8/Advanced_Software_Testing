<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:08:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3267/HBASE-3267.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3267] close_region shell command breaks region</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3267</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It used to be that you could use the close_region command from the shell to close a region on one server and have the master reassign it elsewhere. Now if you close a region, you get the following errors in the master log:&lt;/p&gt;

&lt;p&gt;2010-11-23 00:46:34,090 WARN org.apache.hadoop.hbase.master.AssignmentManager: Received CLOSING for region ffaa7999e909dbd6544688cc8ab303bd from server haus01.sf.cloudera.com,12020,1290501789693 but region was in  the state null and not in expected PENDI&lt;br/&gt;
2010-11-23 00:46:34,530 DEBUG org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher: master:60000-0x12c537d84e10062 Received ZooKeeper Event, type=NodeDataChanged, state=SyncConnected, path=/hbase/unassigned/ffaa7999e909dbd6544688cc8ab303bd&lt;br/&gt;
2010-11-23 00:46:34,531 DEBUG org.apache.hadoop.hbase.zookeeper.ZKUtil: master:60000-0x12c537d84e10062 Retrieved 128 byte(s) of data from znode /hbase/unassigned/ffaa7999e909dbd6544688cc8ab303bd and set watcher; region=usertable,user1951957302,1290501969&lt;br/&gt;
2010-11-23 00:46:34,531 DEBUG org.apache.hadoop.hbase.master.AssignmentManager: Handling transition=RS_ZK_REGION_CLOSED, server=haus01.sf.cloudera.com,12020,1290501789693, region=ffaa7999e909dbd6544688cc8ab303bd&lt;br/&gt;
2010-11-23 00:46:34,531 WARN org.apache.hadoop.hbase.master.AssignmentManager: Received CLOSED for region ffaa7999e909dbd6544688cc8ab303bd from server haus01.sf.cloudera.com,12020,1290501789693 but region was in  the state null and not in expected PENDIN&lt;/p&gt;

&lt;p&gt;and the region just gets stuck closed&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480652">HBASE-3267</key>
            <summary>close_region shell command breaks region</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="tlipcon">Todd Lipcon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Nov 2010 08:49:42 +0000</created>
                <updated>Fri, 20 Nov 2015 12:43:40 +0000</updated>
                            <resolved>Mon, 29 Nov 2010 19:47:48 +0000</resolved>
                                    <version>0.90.0</version>
                                    <fixVersion>0.90.0</fixVersion>
                                    <component>master</component>
                    <component>regionserver</component>
                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12934925" author="streamy" created="Tue, 23 Nov 2010 17:46:16 +0000"  >&lt;p&gt;The master doesn&apos;t expect a region to be properly closed out on an RS w/o being the one to tell it to do so.&lt;/p&gt;

&lt;p&gt;Let me dig in to the code and see what the easiest solution would be.&lt;/p&gt;

&lt;p&gt;@Todd... I had plans to start working on new features for 0.92, stop finding bugs!  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12935017" author="stack" created="Tue, 23 Nov 2010 20:09:19 +0000"  >&lt;p&gt;Bringing into 0.90.0.&lt;/p&gt;</comment>
                            <comment id="12935437" author="stack" created="Wed, 24 Nov 2010 18:43:38 +0000"  >&lt;p&gt;I&apos;m taking this one.&lt;/p&gt;</comment>
                            <comment id="12935566" author="hbasereviewboard" created="Wed, 24 Nov 2010 23:11:13 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1250/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase and Jonathan Gray.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;So, things are different in the new master.  Close region should close region.  Not close and then reopen.  To close and reopen elsewhere, thats an unassign or a move (both of which were missing from shell but which are added in this patch).  I fixed the close so that its a close that does not touch zk... the region is just closed on the regionserver.  No going to zk makes it so the close no longer makes for complaint.  Close is dangerous though in that the region is now permanently offline (I updated the close help to explain this is so).   To address it being permanently offline, I added a new assign to the shell. &lt;/p&gt;

&lt;p&gt;While in here, I removed commands that no longer make senses such as enable_region and disable_region. &lt;/p&gt;

&lt;p&gt;M src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
  Change move implementation so can pass an empty host.&lt;br/&gt;
  Empty host means move to random location rather than&lt;br/&gt;
  explicit server.&lt;br/&gt;
  Added assign, unassign&lt;br/&gt;
M src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;br/&gt;
  (clearRegionPlan): Added.&lt;br/&gt;
M src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java&lt;br/&gt;
  Improved move javadoc.  Added assign, unassign.&lt;br/&gt;
M src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;br/&gt;
  Improved javadoc. Added assign and unassign.&lt;br/&gt;
M src/main/ruby/hbase/admin.rb&lt;br/&gt;
  Added balancer, balance_switch, assign, unassign, removed&lt;br/&gt;
  zk, enable_region and disable_region (the latter make no sense&lt;br/&gt;
  anymore now disable/enable is done differently).&lt;br/&gt;
D src/main/ruby/shell/commands/zk.rb&lt;br/&gt;
A src/main/ruby/shell/commands/assign.rb&lt;br/&gt;
A src/main/ruby/shell/commands/balance_switch.rb&lt;br/&gt;
D src/main/ruby/shell/commands/disable_region.rb&lt;br/&gt;
A src/main/ruby/shell/commands/balancer.rb&lt;br/&gt;
A src/main/ruby/shell/commands/unassign.rb&lt;br/&gt;
D src/main/ruby/shell/commands/enable_region.rb&lt;br/&gt;
A src/main/ruby/shell/commands/move.rb&lt;br/&gt;
M src/main/ruby/shell/commands/close_region.rb&lt;br/&gt;
  Fixed up help&lt;br/&gt;
M src/main/ruby/shell.rb&lt;br/&gt;
  Added and removed commands.  &lt;/p&gt;


&lt;p&gt;This addresses bug hbase-3267.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/hbase-3267&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/hbase-3267&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java 1038768 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java 1038768 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 1038768 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java 1038768 &lt;br/&gt;
  trunk/src/main/ruby/hbase/admin.rb 1038768 &lt;br/&gt;
  trunk/src/main/ruby/shell.rb 1038768 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/assign.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/balance_switch.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/balancer.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/close_region.rb 1038768 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/disable_region.rb 1038768 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/enable_region.rb 1038768 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/move.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/unassign.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/zk.rb 1038768 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1250/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;I tested shell here on my little cluster.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;stack&lt;/p&gt;

</comment>
                            <comment id="12935579" author="hbasereviewboard" created="Wed, 24 Nov 2010 23:47:13 +0000"  >&lt;p&gt;Message from: &quot;Jonathan Gray&quot; &amp;lt;jgray@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1250/#review1975&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#review1975&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;This is great.  I like this much better than hacking up the master transition code.&lt;/p&gt;

&lt;p&gt;My main concern is around the exact semantics of assign/unassign (and close).  I think we need to do good javadoc on the HBA methods to describe how you would use these or at least a bit about their behavior.  assign() just does an assign, but unassign() actually clears stuff out.  It seems doing a close() behind the masters back, then asking the master to assign that region, should not work... but it does?&lt;/p&gt;


&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6230&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6230&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Is there an open_region?  This assign() goes through the master, so what is the opposite of close_region which doesn&apos;t go through the master?&lt;/p&gt;

&lt;p&gt;    Doesn&apos;t close_region now put the master in a bad state, so it won&apos;t expect an assignment to be done on a region which it thinks is already assigned?  There is a force on unassign() but not on assign().&lt;/p&gt;

&lt;p&gt;    In the old master, for HBCK, I added a hook in to the master to clear the in-memory state for a region.  To deal with dupe assignment, I did silent close_regions and then cleared the in-memory state.  Then I triggered a new assignment.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6231&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    this is awesome javadoc.  is there somewhere else we can put this rather than in just the move() API?  Maybe in the HBA class comment or something?  Somewhere we can reference in other javadocs about what a regionname is&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6232&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    So you&apos;re supposed to call move instead of open_region?  Or why the change in move() though this looks good.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6233&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Why META and not in-memory state?  Once you hit assign() you rely on the in-memory state anyways?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6238&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6238&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    on assign we just do the assignment, but below on unassign() we first clear existing plans and clear from RIT.  why the difference.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6234&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6234&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    is this necessary?  should the unassign method taking force deal with anything needed to &quot;force&quot; it?&lt;/p&gt;



&lt;p&gt;trunk/src/main/ruby/hbase/admin.rb&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6235&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    zk didn&apos;t work?  why is this removed?&lt;/p&gt;



&lt;p&gt;trunk/src/main/ruby/shell/commands/assign.rb&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6236&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6236&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    whitespace.  and what exactly are the semantics of this?  what if region is already assigned?&lt;/p&gt;

&lt;p&gt;    we should document somewhere more specifically what the behavior is of these methods if we&apos;re going to expose them to the client and the shell.  neither place really describes what this means and i can imagine users will be doing lots of foot shooting with tools like this.&lt;/p&gt;

&lt;p&gt;    more importantly, though, i&apos;m trying to understand the use cases for these.  if it&apos;s to unbreak stuff, it&apos;s not clear to me how exactly you would use it given that the master will reject certain operations in the wrong order.&lt;/p&gt;



&lt;p&gt;trunk/src/main/ruby/shell/commands/close_region.rb&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6237&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6237&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Why would you use close and not unassign/assign/move?  It&apos;s because close is done silently?  Should say that if that&apos;s the distinction.&lt;/p&gt;

&lt;p&gt;    Is this comment saying you can use unassign or move after you issue close?  or instead of?&lt;/p&gt;



&lt;p&gt;trunk/src/main/ruby/shell/commands/unassign.rb&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/#comment6239&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#comment6239&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    this doesn&apos;t use encoded region name?&lt;/p&gt;

&lt;p&gt;    is move then different from the other methods?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12935590" author="hbasereviewboard" created="Thu, 25 Nov 2010 00:33:13 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; This is great.  I like this much better than hacking up the master transition code.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; My main concern is around the exact semantics of assign/unassign (and close).  I think we need to do good javadoc on the HBA methods to describe how you would use these or at least a bit about their behavior.  assign() just does an assign, but unassign() actually clears stuff out.  It seems doing a close() behind the masters back, then asking the master to assign that region, should not work... but it does?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Well, my notion is that user shouldn&apos;t be doing these manual messings any more.  Fixup stuff is now for hbck to do.&lt;/p&gt;

&lt;p&gt;Yes, close of a region is done w/o master&apos;s involvement.  Rare would you do it.  Yes, an assign will assign a region EVEN IF ALREADY assigned.  Messing in here can get you in trouble.  I was able to manufacture some ugly conditions &amp;#8211; a stuck region trying to assign same server over and over &amp;#8211; but then unassign with a force now clears out RIT and does the right thing.... i.e. we have enough tools to hang ourselves on new master but also the tools to undo.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java, line 980&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17648#file17648line980&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17648#file17648line980&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Is there an open_region?  This assign() goes through the master, so what is the opposite of close_region which doesn&apos;t go through the master?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Doesn&apos;t close_region now put the master in a bad state, so it won&apos;t expect an assignment to be done on a region which it thinks is already assigned?  There is a force on unassign() but not on assign().&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     In the old master, for HBCK, I added a hook in to the master to clear the in-memory state for a region.  To deal with dupe assignment, I did silent close_regions and then cleared the in-memory state.  Then I triggered a new assignment.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No open_region.  Someone can add that later if wanted.  Otherwise, use move to place region on specific server.&lt;/p&gt;

&lt;p&gt;On close_region, yes, puts master in bad state but you&apos;d only do close_region when doing fix up of some whack condition.  I was tempted to just remove these commands but since we don&apos;t know what states new master could put us in, I&apos;ll leave them in for now.&lt;/p&gt;

&lt;p&gt;I&apos;ll add force to assign so same as unassign.&lt;/p&gt;


&lt;p&gt;Regards what you did for old master hbck, you could call close_regions then an unassign with a force would clear memory and get the region assigned elsewhere.&lt;/p&gt;

&lt;p&gt;But hbck should be doing this.  Not a user manually, not unless things are really hosed.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java, line 138&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17649#file17649line138&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17649#file17649line138&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     this is awesome javadoc.  is there somewhere else we can put this rather than in just the move() API?  Maybe in the HBA class comment or something?  Somewhere we can reference in other javadocs about what a regionname is&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I moved the interface doc out to HBA as per your suggestion.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java, line 709&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line709&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line709&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     So you&apos;re supposed to call move instead of open_region?  Or why the change in move() though this looks good.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just added it as something you might want to do.  unassign does same thing really.  I could back it out.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java, line 994&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line994&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line994&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Why META and not in-memory state?  Once you hit assign() you rely on the in-memory state anyways?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I only have a region server name, not an HRI which is what the inmemory state is keyed by.   I could iterate the Map I suppose but then I&apos;m thinking it may have been cleared from inmemory state.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java, line 996&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line996&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line996&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     on assign we just do the assignment, but below on unassign() we first clear existing plans and clear from RIT.  why the difference.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I made it so we only clear state if force is added to the unassign.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java, line 1011&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line1011&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17651#file17651line1011&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     is this necessary?  should the unassign method taking force deal with anything needed to &quot;force&quot; it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Its needed for case you called assign multiple times. First assign works.  Second one will be stuck in loop where you ask the region open but the regionserver will say its already open and abort the open.  You are stuck in this loop unless RIT gets cleared.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/ruby/hbase/admin.rb, line 390&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17652#file17652line390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17652#file17652line390&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     zk didn&apos;t work?  why is this removed?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Because we have ./bin/hbase zkcli now which is better way of doing this zk interaction.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/ruby/shell/commands/assign.rb, line 26&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17654#file17654line26&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17654#file17654line26&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     whitespace.  and what exactly are the semantics of this?  what if region is already assigned?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     we should document somewhere more specifically what the behavior is of these methods if we&apos;re going to expose them to the client and the shell.  neither place really describes what this means and i can imagine users will be doing lots of foot shooting with tools like this.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     more importantly, though, i&apos;m trying to understand the use cases for these.  if it&apos;s to unbreak stuff, it&apos;s not clear to me how exactly you would use it given that the master will reject certain operations in the wrong order.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If already assigned it will reassign regardless.  This is a fix up facility for expert use only (I updated the help to say this more explicitly).&lt;/p&gt;

&lt;p&gt;Well, using these new commands you can break things and then unbreak them too.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/ruby/shell/commands/close_region.rb, line 28&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17657#file17657line28&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17657#file17657line28&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Why would you use close and not unassign/assign/move?  It&apos;s because close is done silently?  Should say that if that&apos;s the distinction.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Is this comment saying you can use unassign or move after you issue close?  or instead of?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I updated the help.   Added &apos;caution&apos; and for experts only.&lt;/p&gt;

&lt;p&gt;Like I say, I wanted to removed these things altogether but my guess is that one day we&apos;ll need them &amp;#8211; at least while hbck is lacking and while all failure modes of new master are not yet known.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-11-24 15:45:32, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/ruby/shell/commands/unassign.rb, line 30&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/1250/diff/1/?file=17661#file17661line30&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff/1/?file=17661#file17661line30&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     this doesn&apos;t use encoded region name?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     is move then different from the other methods?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, move is different from the others.  It tries to make this clear in its documentation.   The Map move uses is keyed by encoded region name.  Assign and unassign go get the HRI from .META. by using passed regionname.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;stack&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1250/#review1975&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#review1975&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12935591" author="stack" created="Thu, 25 Nov 2010 00:33:32 +0000"  >&lt;p&gt;Marking patch available.&lt;/p&gt;</comment>
                            <comment id="12935598" author="hbasereviewboard" created="Thu, 25 Nov 2010 00:46:13 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1250/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-11-24 16:44:36.709870)&lt;/p&gt;


&lt;p&gt;Review request for hbase and Jonathan Gray.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Addresses Jon&apos; commments mostly by way of bulking up help in shell with warnings and pulling into HBA the javadoc that was out on the HMasterInterface.  Also did stuff like make assign and unassign symmetric both taking a force param.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;So, things are different in the new master.  Close region should close region.  Not close and then reopen.  To close and reopen elsewhere, thats an unassign or a move (both of which were missing from shell but which are added in this patch).  I fixed the close so that its a close that does not touch zk... the region is just closed on the regionserver.  No going to zk makes it so the close no longer makes for complaint.  Close is dangerous though in that the region is now permanently offline (I updated the close help to explain this is so).   To address it being permanently offline, I added a new assign to the shell. &lt;/p&gt;

&lt;p&gt;While in here, I removed commands that no longer make senses such as enable_region and disable_region. &lt;/p&gt;

&lt;p&gt;M src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
  Change move implementation so can pass an empty host.&lt;br/&gt;
  Empty host means move to random location rather than&lt;br/&gt;
  explicit server.&lt;br/&gt;
  Added assign, unassign&lt;br/&gt;
M src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;br/&gt;
  (clearRegionPlan): Added.&lt;br/&gt;
M src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java&lt;br/&gt;
  Improved move javadoc.  Added assign, unassign.&lt;br/&gt;
M src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;br/&gt;
  Improved javadoc. Added assign and unassign.&lt;br/&gt;
M src/main/ruby/hbase/admin.rb&lt;br/&gt;
  Added balancer, balance_switch, assign, unassign, removed&lt;br/&gt;
  zk, enable_region and disable_region (the latter make no sense&lt;br/&gt;
  anymore now disable/enable is done differently).&lt;br/&gt;
D src/main/ruby/shell/commands/zk.rb&lt;br/&gt;
A src/main/ruby/shell/commands/assign.rb&lt;br/&gt;
A src/main/ruby/shell/commands/balance_switch.rb&lt;br/&gt;
D src/main/ruby/shell/commands/disable_region.rb&lt;br/&gt;
A src/main/ruby/shell/commands/balancer.rb&lt;br/&gt;
A src/main/ruby/shell/commands/unassign.rb&lt;br/&gt;
D src/main/ruby/shell/commands/enable_region.rb&lt;br/&gt;
A src/main/ruby/shell/commands/move.rb&lt;br/&gt;
M src/main/ruby/shell/commands/close_region.rb&lt;br/&gt;
  Fixed up help&lt;br/&gt;
M src/main/ruby/shell.rb&lt;br/&gt;
  Added and removed commands.  &lt;/p&gt;


&lt;p&gt;This addresses bug hbase-3267.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/hbase-3267&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/hbase-3267&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java 1038878 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java 1038878 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 1038878 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java 1038878 &lt;br/&gt;
  trunk/src/main/ruby/hbase/admin.rb 1038878 &lt;br/&gt;
  trunk/src/main/ruby/shell.rb 1038878 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/assign.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/balance_switch.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/balancer.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/close_region.rb 1038878 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/disable_region.rb 1038878 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/enable_region.rb 1038878 &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/move.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/unassign.rb PRE-CREATION &lt;br/&gt;
  trunk/src/main/ruby/shell/commands/zk.rb 1038878 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1250/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;I tested shell here on my little cluster.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;stack&lt;/p&gt;

</comment>
                            <comment id="12935608" author="hbasereviewboard" created="Thu, 25 Nov 2010 01:38:13 +0000"  >&lt;p&gt;Message from: &quot;Jonathan Gray&quot; &amp;lt;jgray@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1250/#review1977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1250/#review1977&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;Thanks for making changes, this looks great.&lt;/p&gt;

&lt;p&gt;I completely understand the need for these, especially for HBCK, I guess I just think of adding things to the shell as stuff people will try to use.  With all the added doc I think it&apos;s fine.  We&apos;ll for sure make changes to this stuff as we see what happens in the wild with the new master.&lt;/p&gt;

&lt;p&gt;+1 for commit&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12964907" author="stack" created="Mon, 29 Nov 2010 19:47:48 +0000"  >&lt;p&gt;Committed 0.90 and TRUNK.&lt;/p&gt;</comment>
                            <comment id="15017590" author="lars_francke" created="Fri, 20 Nov 2015 12:43:40 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Nov 2010 17:46:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hli7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>