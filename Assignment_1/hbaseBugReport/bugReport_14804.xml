<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:56:38 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14804/HBASE-14804.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14804] HBase shell&apos;s create table command ignores &apos;NORMALIZATION_ENABLED&apos; attribute</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14804</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I am trying to create a new table and set the NORMALIZATION_ENABLED as true, but seems like the argument NORMALIZATION_ENABLED is being ignored. And the attribute NORMALIZATION_ENABLED is not displayed on doing a desc command on that table&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):020:0&amp;gt; create &apos;test-table-4&apos;, &apos;cf&apos;, {NORMALIZATION_ENABLED =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}
An argument ignored (unknown or overridden): NORMALIZATION_ENABLED
0 row(s) in 4.2670 seconds

=&amp;gt; Hbase::Table - test-table-4
hbase(main):021:0&amp;gt; desc &apos;test-table-4&apos;
Table test-table-4 is ENABLED                                                                                                                                                                               
test-table-4                                                                                                                                                                                                
COLUMN FAMILIES DESCRIPTION                                                                                                                                                                                 
{NAME =&amp;gt; &apos;cf&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, VERSIONS =&amp;gt; &apos;1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, BLOC
KCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;}                                                                                                                                           
1 row(s) in 0.0430 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, on doing an alter command on that table we can set the NORMALIZATION_ENABLED attribute for that table&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):022:0&amp;gt; alter &apos;test-table-4&apos;, {NORMALIZATION_ENABLED =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}
Unknown argument ignored: NORMALIZATION_ENABLED
Updating all regions with the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; schema...
1/1 regions updated.
Done.
0 row(s) in 2.3640 seconds

hbase(main):023:0&amp;gt; desc &apos;test-table-4&apos;
Table test-table-4 is ENABLED                                                                                                                                                                               
test-table-4, {TABLE_ATTRIBUTES =&amp;gt; {NORMALIZATION_ENABLED =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}                                                                                                                                        
COLUMN FAMILIES DESCRIPTION                                                                                                                                                                                 
{NAME =&amp;gt; &apos;cf&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, VERSIONS =&amp;gt; &apos;1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, BLOC
KCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;}                                                                                                                                           
1 row(s) in 0.0190 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think it would be better to have a single step process to enable normalization while creating the table itself, rather than a two step process to alter the table later on to enable normalization&lt;/p&gt;</description>
                <environment></environment>
        <key id="12912685">HBASE-14804</key>
            <summary>HBase shell&apos;s create table command ignores &apos;NORMALIZATION_ENABLED&apos; attribute</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmspaggi">Jean-Marc Spaggiari</assignee>
                                    <reporter username="romil.choksi">Romil Choksi</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Fri, 13 Nov 2015 01:22:05 +0000</created>
                <updated>Wed, 30 Dec 2015 17:20:16 +0000</updated>
                            <resolved>Tue, 8 Dec 2015 19:27:38 +0000</resolved>
                                    <version>1.2.0</version>
                    <version>1.1.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="15003389" author="jmspaggi" created="Fri, 13 Nov 2015 01:49:21 +0000"  >&lt;p&gt;Patch is done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Uploading.&lt;/p&gt;</comment>
                            <comment id="15003395" author="jmspaggi" created="Fri, 13 Nov 2015 01:51:08 +0000"  >&lt;p&gt;It&apos;s a .rb file so the build will not be able to test it but I tested it on trunk and it works with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create &apos;test-table-4&apos;, {NORMALIZATION_ENABLED =&amp;gt; &apos;TRUE&apos;}, { NAME =&amp;gt; &apos;cf&apos; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15003479" author="appy" created="Fri, 13 Nov 2015 03:17:19 +0000"  >&lt;p&gt;Just spent some redundant time on this because I wasn&apos;t aware that you were working on it in background too. But that&apos;s cool. Just make sure to assign issues to yourself if you planning to work on them. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;As for the patch, lgtm.&lt;br/&gt;
Couple of suggestions to consider:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;This bug resulted from code duplication. Consider refactoring out common code into separate function to prevent the same in future. (You&apos;ll uncover another bug in the process)&lt;/li&gt;
	&lt;li&gt;If you absolutely want to run the unit tests, you can create temporary &lt;a href=&quot;https://github.com/apache/hbase/blob/dff86542d558394cc87ede256bd5432d071ed73f/hbase-shell/src/test/java/org/apache/hadoop/hbase/client/TestShell.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;TestShell&lt;/a&gt; in your repo.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15003543" author="hadoopqa" created="Fri, 13 Nov 2015 04:41:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772096/HBASE-14804.v0-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772096/HBASE-14804.v0-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 789f8a5a70242c16ce10bc95401c51c7d04debfa.&lt;br/&gt;
  ATTACHMENT ID: 12772096&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16504//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15003958" author="jmspaggi" created="Fri, 13 Nov 2015 13:10:11 +0000"  >&lt;p&gt;Will see if I&apos;m able to factorize the code...&lt;/p&gt;

&lt;p&gt;Can you tell me a bit more on how to run TestShell?&lt;/p&gt;</comment>
                            <comment id="15003973" author="jmspaggi" created="Fri, 13 Nov 2015 13:25:51 +0000"  >&lt;p&gt;So. Factorized some code and at the same time fixed a bug in the alter part (was missing the removal of the argument).&lt;/p&gt;

&lt;p&gt;Now, we might want to move all the other calls in the same place but I think this should be done in another JIRA. Let me know and I will open it and do it.&lt;/p&gt;</comment>
                            <comment id="15004167" author="hadoopqa" created="Fri, 13 Nov 2015 15:59:53 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772197/HBASE-14804.v1-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772197/HBASE-14804.v1-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 789f8a5a70242c16ce10bc95401c51c7d04debfa.&lt;br/&gt;
  ATTACHMENT ID: 12772197&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16513//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15004443" author="appy" created="Fri, 13 Nov 2015 18:24:41 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Since you manually tested it, TestShell seems redundant, given the simplicity of patch.&lt;br/&gt;
But to answer your question, this is what I do when I make any non-trivial change in shell files.&lt;br/&gt;
Copy TestShell.java. mvn test -Dtest=TestShell. Delete TestShell.java. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15004450" author="appy" created="Fri, 13 Nov 2015 18:27:06 +0000"  >&lt;p&gt;As for the refactoring, I have a running change to refactor other duplicate code in admin.rb. I&apos;ll move the stuff to the function you created.&lt;br/&gt;
Thanks for the patch!&lt;/p&gt;</comment>
                            <comment id="15004490" author="jmspaggi" created="Fri, 13 Nov 2015 18:47:01 +0000"  >&lt;p&gt;Goot to know for TestShell! Thanks for the info!&lt;/p&gt;</comment>
                            <comment id="15004934" author="yuzhihong@gmail.com" created="Fri, 13 Nov 2015 23:50:28 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
272	    def parse_htd_args(htd, arg)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above method sounds general.&lt;br/&gt;
Should handling of arg&lt;span class=&quot;error&quot;&gt;&amp;#91;DURABILITY&amp;#93;&lt;/span&gt;, etc be moved inside the method as well.&lt;/p&gt;</comment>
                            <comment id="15045459" author="mantonov" created="Mon, 7 Dec 2015 18:43:18 +0000"  >&lt;p&gt;Yeah, I&apos;d say it&apos;d be good to either rename this method to something like &apos;setNormalization&apos;, or move handling of other table params to this method (second might actually be better imo)?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; are you planning to commit this?&lt;/p&gt;</comment>
                            <comment id="15045509" author="jmspaggi" created="Mon, 7 Dec 2015 19:04:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt; Never got the chance to be promoted to the commiter role &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; That&apos;s why sometime my paches just stay there for months and die &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appy&quot; class=&quot;user-hover&quot; rel=&quot;appy&quot;&gt;Appy&lt;/a&gt; might have applied that somewhere else? I don&apos;t know.&lt;/p&gt;</comment>
                            <comment id="15045730" author="mantonov" created="Mon, 7 Dec 2015 21:07:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; oh, I can commit it then, I think it&apos;s just this naming thing which may need to be addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt;- what do you think?&lt;/p&gt;

&lt;p&gt;Since this jira fixes user-facing issue, i&apos;d say let&apos;s just rename method to setNormalization or something and commit, and that if needed open another jira to refactor as was proposed?&lt;/p&gt;</comment>
                            <comment id="15045754" author="yuzhihong@gmail.com" created="Mon, 7 Dec 2015 21:22:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;just rename method to setNormalization or something&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good.&lt;/p&gt;</comment>
                            <comment id="15047266" author="enis" created="Tue, 8 Dec 2015 18:58:20 +0000"  >&lt;p&gt;Let&apos;s commit without renaming (keep the generic name). Then a follow up jira can move more logic inside this method. &lt;/p&gt;</comment>
                            <comment id="15047272" author="mantonov" created="Tue, 8 Dec 2015 19:02:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;Let&apos;s commit without renaming (keep the generic name). Then a follow up jira can move more logic inside this method.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1, patch which fixes user-facing problem shouldn&apos;t wait for the one doing refactoring.&lt;/p&gt;</comment>
                            <comment id="15047327" author="enis" created="Tue, 8 Dec 2015 19:27:38 +0000"  >&lt;p&gt;I&apos;ve pushed this to 1.2+. Thanks JM. &lt;/p&gt;</comment>
                            <comment id="15047355" author="hudson" created="Tue, 8 Dec 2015 19:43:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #329 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/329/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/329/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (enis: rev e8c3899d47737b627d250bdf6e03ace038402569)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15047667" author="hudson" created="Tue, 8 Dec 2015 23:16:15 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #430 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/430/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (enis: rev e8c3899d47737b627d250bdf6e03ace038402569)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15047711" author="hudson" created="Tue, 8 Dec 2015 23:58:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #423 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/423/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (enis: rev e5c435d254891600cdb4130ce706b05b756d0c88)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15047733" author="hudson" created="Wed, 9 Dec 2015 00:09:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #539 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/539/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/539/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (enis: rev 63f2ebca1371a1f83ac7c2f4b43b8ffb744d6672)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15047754" author="hudson" created="Wed, 9 Dec 2015 00:18:05 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #360 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/360/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/360/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (enis: rev e5c435d254891600cdb4130ce706b05b756d0c88)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15058361" author="hudson" created="Tue, 15 Dec 2015 17:19:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1145 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1145/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1145/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (apurtell: rev 40d7fa2eccc881f0ebec5c001e9ddd6e27b75b09)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15058422" author="hudson" created="Tue, 15 Dec 2015 17:53:16 +0000"  >&lt;p&gt;ABORTED: Integrated in HBase-0.98-matrix #272 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/272/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; HBase shell&apos;s create table command ignores (apurtell: rev 40d7fa2eccc881f0ebec5c001e9ddd6e27b75b09)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15073482" author="yuzhihong@gmail.com" created="Tue, 29 Dec 2015 04:52:38 +0000"  >&lt;p&gt;The shell test failure in 0.98 seems to be caused by this.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
test_create_should_be_able_to_set_table_options(Hbase::AdminMethodsTest):
NameError: uninitialized constant Hbase::Admin::NORMALIZATION_ENABLED
    org/jruby/RubyModule.java:2647:in `const_missing&apos;
    file:/home/jenkins/.m2/repository/org/jruby/jruby-complete/1.6.8/jruby-complete-1.6.8.jar!/META-INF/jruby.home/lib/ruby/gems/1.8/gems/rake-0.8.7/lib/rake.rb:2503:in `const_missing&apos;
    /home/jenkins/jenkins-slave/workspace/HBase-0.98-on-Hadoop-1.1/hbase-shell/src/main/ruby/hbase/admin.rb:212:in `parse_htd_args&apos;
    /home/jenkins/jenkins-slave/workspace/HBase-0.98-on-Hadoop-1.1/hbase-shell/src/main/ruby/hbase/admin.rb:297:in `create&apos;
    org/jruby/RubyArray.java:1620:in `each&apos;
    /home/jenkins/jenkins-slave/workspace/HBase-0.98-on-Hadoop-1.1/hbase-shell/src/main/ruby/hbase/admin.rb:230:in `create&apos;
    ./src/test/ruby/hbase/admin_test.rb:180:in `test_create_should_be_able_to_set_table_options&apos;
    org/jruby/RubyProc.java:270:in `call&apos;
    org/jruby/RubyKernel.java:2105:in `send&apos;
    org/jruby/RubyArray.java:1620:in `each&apos;
    org/jruby/RubyArray.java:1620:in `each&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;NORMALIZATION_ENABLED is not defined in HTableDescriptor.java in 0.98&lt;/p&gt;</comment>
                            <comment id="15073696" author="appy" created="Tue, 29 Dec 2015 09:17:20 +0000"  >&lt;p&gt;It is also affecting master branch, but it&apos;s not visible since shell tests are disabled for time being. It&apos;s a one line change, though.&lt;/p&gt;</comment>
                            <comment id="15073725" author="appy" created="Tue, 29 Dec 2015 09:39:36 +0000"  >&lt;p&gt;Nope, seems like I am wrong. In master branch, NORMALIZATION_ENABLED makes its way into shell when HTableDescriptor.constants are imported in ruby/hbase.rb. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Whats the fix here? Reverting the change from 0.98?&lt;br/&gt;
I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15048&quot; title=&quot;Add NORMALIZATION_ENABLED constant to hbase shell.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15048&quot;&gt;&lt;del&gt;HBASE-15048&lt;/del&gt;&lt;/a&gt; moments ago, but it&apos;s invalid now. Lets change and use that for whatever fix needs to be done.&lt;/p&gt;</comment>
                            <comment id="15074072" author="yuzhihong@gmail.com" created="Tue, 29 Dec 2015 17:02:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Reverting the change from 0.98?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think that&apos;s what we should do.&lt;/p&gt;</comment>
                            <comment id="15074121" author="mantonov" created="Tue, 29 Dec 2015 18:00:21 +0000"  >&lt;p&gt;I thought whole normalization thing was only committed to master and 1.2+?&lt;/p&gt;</comment>
                            <comment id="15074172" author="yuzhihong@gmail.com" created="Tue, 29 Dec 2015 18:57:15 +0000"  >&lt;p&gt;Dropped the patch from 0.98 due to normalization feature absent in 0.98 branch&lt;/p&gt;</comment>
                            <comment id="15075215" author="hudson" created="Wed, 30 Dec 2015 17:11:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-matrix #280 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/280/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/280/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; Revert due to normalization feature absent in 0.98 branch (tedyu: rev 4bdd2b2de00300a7c95c623fc653f620e3f27087)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15075224" author="hudson" created="Wed, 30 Dec 2015 17:20:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1153 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1153/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1153/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; title=&quot;HBase shell&amp;#39;s create table command ignores &amp;#39;NORMALIZATION_ENABLED&amp;#39; attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14804&quot;&gt;&lt;del&gt;HBASE-14804&lt;/del&gt;&lt;/a&gt; Revert due to normalization feature absent in 0.98 branch (tedyu: rev 4bdd2b2de00300a7c95c623fc653f620e3f27087)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12772096" name="HBASE-14804.v0-trunk.patch" size="681" author="jmspaggi" created="Fri, 13 Nov 2015 01:50:34 +0000"/>
                            <attachment id="12772197" name="HBASE-14804.v1-trunk.patch" size="1980" author="jmspaggi" created="Fri, 13 Nov 2015 13:25:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Nov 2015 01:49:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oc2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>