<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:22:15 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4815/HBASE-4815.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4815] Disable online altering by default, create a config for it</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4815</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There&apos;s a whole class of bugs that we&apos;ve been revealing from trying out online altering in conjunction with other operations like splitting. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4729&quot; title=&quot;Clash between region unassign and splitting kills the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4729&quot;&gt;&lt;del&gt;HBASE-4729&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4794&quot; title=&quot;Altering a tables that splits can hold the command for the CatalogJanitor sleep time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4794&quot;&gt;&lt;del&gt;HBASE-4794&lt;/del&gt;&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4814&quot; title=&quot;Starting an online alter when regions are splitting can leave their daughters unaltered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4814&quot;&gt;&lt;del&gt;HBASE-4814&lt;/del&gt;&lt;/a&gt; are examples.&lt;/p&gt;

&lt;p&gt;It&apos;s not so much that the online altering code is buggy, but that it wasn&apos;t tested in an environment that permits splitting.&lt;/p&gt;

&lt;p&gt;I think we should mark online altering as experimental in 0.92 and add a config to enable it (so it would be disabled by default, requiring people to enable for altering table schema).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531870">HBASE-4815</key>
            <summary>Disable online altering by default, create a config for it</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ram_krish">ramkrishna.s.vasudevan</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 23:56:03 +0000</created>
                <updated>Fri, 20 Nov 2015 11:54:34 +0000</updated>
                            <resolved>Sat, 19 Nov 2011 00:30:15 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13152485" author="tlipcon" created="Fri, 18 Nov 2011 00:06:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13152684" author="ram_krish" created="Fri, 18 Nov 2011 06:29:37 +0000"  >&lt;p&gt;+1. Digging more on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4729&quot; title=&quot;Clash between region unassign and splitting kills the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4729&quot;&gt;&lt;del&gt;HBASE-4729&lt;/del&gt;&lt;/a&gt; we got many other issues...&lt;br/&gt;
Let me work on a patch for this.&lt;/p&gt;</comment>
                            <comment id="13152886" author="ram_krish" created="Fri, 18 Nov 2011 14:16:56 +0000"  >&lt;p&gt;Will upload a patch..shortly&lt;/p&gt;</comment>
                            <comment id="13152991" author="yuzhihong@gmail.com" created="Fri, 18 Nov 2011 17:37:54 +0000"  >&lt;p&gt;Patch from Ramkrishna&lt;/p&gt;</comment>
                            <comment id="13153065" author="hadoopqa" created="Fri, 18 Nov 2011 19:24:53 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12504234/4815.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12504234/4815.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 60 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestShell&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/294//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/294//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/294//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/294//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/294//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/294//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13153072" author="stack" created="Fri, 18 Nov 2011 19:32:39 +0000"  >&lt;p&gt;This patch will do but should it also have a component in hbase-default.xml where we list the option and say this an experimental feature that only works for sure on tables where splitting is disabled?&lt;/p&gt;</comment>
                            <comment id="13153264" author="stack" created="Sat, 19 Nov 2011 00:29:58 +0000"  >&lt;p&gt;Here is Ram&apos;s patch plus adding below to hbase-default.xml:&lt;/p&gt;


&lt;p&gt;   &amp;lt;property&amp;gt;&lt;br/&gt;
+    &amp;lt;name&amp;gt;hbase.online.schema.update.enable&amp;lt;/name&amp;gt;&lt;br/&gt;
+    &amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
+    &amp;lt;description&amp;gt;&lt;br/&gt;
+    Set true to enable online schema changes.  This is an experimental feature.&lt;br/&gt;
+    There are known issues modifying table schemas at the same time a region&lt;br/&gt;
+    split is happening so your table needs to be quiescent or else you have to&lt;br/&gt;
+    be running with splits disabled.&lt;br/&gt;
+    &amp;lt;/description&amp;gt;&lt;br/&gt;
+  &amp;lt;/property&amp;gt;&lt;/p&gt;


&lt;p&gt;I think its important to surface this new feature but w/ the caveats.&lt;/p&gt;</comment>
                            <comment id="13153265" author="stack" created="Sat, 19 Nov 2011 00:30:15 +0000"  >&lt;p&gt;Applied branch and trunk.  Thanks for patch Ram.&lt;/p&gt;</comment>
                            <comment id="13153367" author="hudson" created="Sat, 19 Nov 2011 03:35:35 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #145 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/145/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/145/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4815&quot; title=&quot;Disable online altering by default, create a config for it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4815&quot;&gt;&lt;del&gt;HBASE-4815&lt;/del&gt;&lt;/a&gt; Disable online altering by default, create a config for it&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/master/handler/TableEventHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153405" author="hudson" created="Sat, 19 Nov 2011 06:18:37 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2459 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2459/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2459/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4815&quot; title=&quot;Disable online altering by default, create a config for it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4815&quot;&gt;&lt;del&gt;HBASE-4815&lt;/del&gt;&lt;/a&gt; Disable online altering by default, create a config for it&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/master/handler/TableEventHandler.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153453" author="yuzhihong@gmail.com" created="Sat, 19 Nov 2011 11:10:27 +0000"  >&lt;p&gt;I think HadoopQA reported TestAdmin failure earlier which wasn&apos;t given enough attention.&lt;br/&gt;
We need to set hbase.online.schema.update.enable to true for testDeleteEditUnknownColumnFamilyAndOrTable(). Otherwise the exception we got would be TableNotDisabledException, not InvalidFamilyOperationException.&lt;/p&gt;</comment>
                            <comment id="13153460" author="yuzhihong@gmail.com" created="Sat, 19 Nov 2011 11:31:45 +0000"  >&lt;p&gt;Addendum integrated to TRUNK.&lt;br/&gt;
Let&apos;s see if TestAdmin gets fixed.&lt;/p&gt;</comment>
                            <comment id="13153486" author="hudson" created="Sat, 19 Nov 2011 13:25:46 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2461 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2461/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2461/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4815&quot; title=&quot;Disable online altering by default, create a config for it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4815&quot;&gt;&lt;del&gt;HBASE-4815&lt;/del&gt;&lt;/a&gt; Addendum sets &quot;hbase.online.schema.update.enable&quot; to true&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153516" author="yuzhihong@gmail.com" created="Sat, 19 Nov 2011 15:36:45 +0000"  >&lt;p&gt;TestAdmin passed in build 2461.&lt;br/&gt;
Addendum applied to 0.92 as well.&lt;/p&gt;</comment>
                            <comment id="13153519" author="ram_krish" created="Sat, 19 Nov 2011 15:59:22 +0000"  >&lt;p&gt;Thanks Ted and Stack.  I did not observe the failure as i had left the office by that time..&lt;/p&gt;

&lt;p&gt;Regarding the config update in hbase-default.xml i was not very clear if it was needed.  Thanks Stack for taking care of it. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13153535" author="hudson" created="Sat, 19 Nov 2011 17:57:12 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #147 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/147/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/147/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4815&quot; title=&quot;Disable online altering by default, create a config for it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4815&quot;&gt;&lt;del&gt;HBASE-4815&lt;/del&gt;&lt;/a&gt; Addendum sets hbase.online.schema.update.enable to true for TestAdmin&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/client/TestAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153551" author="stack" created="Sat, 19 Nov 2011 18:33:45 +0000"  >&lt;p&gt;Thanks Ted for coming along w/ the cleanup.&lt;/p&gt;</comment>
                            <comment id="13153634" author="hudson" created="Sun, 20 Nov 2011 01:12:32 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2464 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2464/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2464/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4828&quot; title=&quot;Fix failing TestShell, needs same addendum as HBASE-4815 got&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4828&quot;&gt;&lt;del&gt;HBASE-4828&lt;/del&gt;&lt;/a&gt; Fix failing TestShell, needs same addendum as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4815&quot; title=&quot;Disable online altering by default, create a config for it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4815&quot;&gt;&lt;del&gt;HBASE-4815&lt;/del&gt;&lt;/a&gt; got&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/client/TestShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153721" author="hudson" created="Sun, 20 Nov 2011 06:15:48 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #149 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/149/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4828&quot; title=&quot;Fix failing TestShell, needs same addendum as HBASE-4815 got&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4828&quot;&gt;&lt;del&gt;HBASE-4828&lt;/del&gt;&lt;/a&gt; Fix failing TestShell, needs same addendum as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4815&quot; title=&quot;Disable online altering by default, create a config for it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4815&quot;&gt;&lt;del&gt;HBASE-4815&lt;/del&gt;&lt;/a&gt; got&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/src/test/java/org/apache/hadoop/hbase/client/TestShell.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153828" author="ram_krish" created="Sun, 20 Nov 2011 16:35:22 +0000"  >&lt;p&gt;Thanks Stack.  Should have completed the verification of all test cases..&lt;br/&gt;
Usually used to do it.. as it was friday i left office before it could get completed.  Next time will be more careful..&lt;/p&gt;</comment>
                            <comment id="15016259" author="lars_francke" created="Fri, 20 Nov 2015 11:54:34 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504306" name="4815-v2.txt" size="5157" author="stack" created="Sat, 19 Nov 2011 00:29:58 +0000"/>
                            <attachment id="12504355" name="4815.addendum" size="708" author="yuzhihong@gmail.com" created="Sat, 19 Nov 2011 11:26:56 +0000"/>
                            <attachment id="12504234" name="4815.patch" size="3431" author="yuzhihong@gmail.com" created="Fri, 18 Nov 2011 17:37:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Nov 2011 00:06:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hsaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>