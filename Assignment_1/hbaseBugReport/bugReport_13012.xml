<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:38:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13012/HBASE-13012.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13012] Add shell commands to trigger the mob file compactor </title>
                <link>https://issues.apache.org/jira/browse/HBASE-13012</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently the MobFileCompactor is run by HMaster periodically, we need to add a shell to trigger the compactor by commands.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774097">HBASE-13012</key>
            <summary>Add shell commands to trigger the mob file compactor </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12721032">HBASE-11339</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingcheng.du@intel.com">Jingcheng Du</assignee>
                                    <reporter username="jingcheng.du@intel.com">Jingcheng Du</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2015 06:20:54 +0000</created>
                <updated>Wed, 22 Jul 2015 22:48:41 +0000</updated>
                            <resolved>Thu, 5 Mar 2015 08:05:58 +0000</resolved>
                                                    <fixVersion>hbase-11339</fixVersion>
                                    <component>regionserver</component>
                    <component>Scanners</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14316689" author="jmhsieh" created="Wed, 11 Feb 2015 18:15:05 +0000"  >&lt;p&gt;Let&apos;s expose this in the admin api and make it so that we can trigger it via the shell like normal compactions.&lt;/p&gt;

&lt;p&gt;Maybe we can piggy back on the same command but have a special region name to trigger compacting the mob data?&lt;/p&gt;
</comment>
                            <comment id="14317411" author="jingcheng.du@intel.com" created="Thu, 12 Feb 2015 02:00:03 +0000"  >&lt;p&gt;Thanks Jon &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;. Good idea!&lt;br/&gt;
Add a new API to HBaseAdmin or re-use the existing compactRegion? We can reuse the API in HRegionServer side. Please advise. Thanks.&lt;/p&gt;</comment>
                            <comment id="14317450" author="jingcheng.du@intel.com" created="Thu, 12 Feb 2015 02:26:13 +0000"  >&lt;p&gt;I go through the code, I think we&apos;d better to add a new HBaseAdmin API, it could be named as compactionMobFiles(TableName table, byte[]familyName), and do some corresponding changes in RsRprcService.compactRegion. Is it ok?&lt;/p&gt;</comment>
                            <comment id="14317503" author="jmhsieh" created="Thu, 12 Feb 2015 03:17:11 +0000"  >&lt;p&gt;If we were to add mob flavored admin commands they would be:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// just merge files
&lt;/span&gt;void compactMob(TableName, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]famName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOE

&lt;span class=&quot;code-comment&quot;&gt;// full rewrite of all mobs to eliminate delmob files.
&lt;/span&gt;void majorCompactMob(TableName, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]famName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We&apos;re getting to the point where we might want to just add one more generic compaction api, and have it use an enum argument so we don&apos;t have add others in the future.  Maybe we could have a CompactionType enum with MINOR, MAJOR, MOB (merge some mobs, merge delmobs) and MOB_MAJOR (merge all mobs and eliminate delmob files).  It could look like this (and default to normal minor compaction):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void compact(Tablename tn, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] famName, CompactionType ct);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thoughts?  I&apos;m interested in other folks&apos; opinions &amp;#8211;  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ramkrishna&quot; class=&quot;user-hover&quot; rel=&quot;ramkrishna&quot;&gt;ramkrishna&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;?&lt;/p&gt;

</comment>
                            <comment id="14317544" author="jingcheng.du@intel.com" created="Thu, 12 Feb 2015 04:01:30 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;.&lt;br/&gt;
I think we could have two method to do two types of compactions by purpose. The compactMob does a minor (maybe a major) one, and the majorCompactMob does a major one.&lt;br/&gt;
Currently we have a mob compaction type, it&apos;s defined in the MobFileCompactionRequest.CompactType, we have two types, one is PART_FILES, the other is ALL_FILES. I think we could use it?&lt;/p&gt;</comment>
                            <comment id="14317568" author="jmhsieh" created="Thu, 12 Feb 2015 04:20:56 +0000"  >&lt;p&gt;Hm.. so are you proposing something like this?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void compact(TableName tn, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] famNAme, MobFileCompactionRequest.CompactionType t)

or maybe

void compactMob(TableName tn, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] famNAme, MobFileCompactionRequest.CompactionType t)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14317608" author="jingcheng.du@intel.com" created="Thu, 12 Feb 2015 05:04:15 +0000"  >&lt;p&gt;Not exactly.&lt;br/&gt;
We have two new methods in HBaseAdmin.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void compactMob(TableName tn, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] familyName} &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOE;
and 
void majorCompactMob(TableName tn, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]familyName) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOE;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Using these two methods to do different compaction (the upper one is for minor (it might be a major if all the files are selected in compactor), and the other is for major). So we could avoid having a protobuf definition for the MobCompactType. It seems now we do the same in the HBaseAdmin. How about this?&lt;/p&gt;</comment>
                            <comment id="14317638" author="ram_krish" created="Thu, 12 Feb 2015 05:41:27 +0000"  >&lt;p&gt;Jon&apos;s suggestion looks clean but I think that would introduce new protobuf changes to the Admin API and added to that we may need to maintain Backward compatability also for the existing APIs? &lt;/p&gt;

&lt;p&gt;Just adding two new APIs would increase the different type of APIs we have for compaction alone - but less of protobuf changes. &lt;br/&gt;
If we want to introduce a new compact() API based on type - its better we first do it in  trunk and then add the new MOB compaction APIs to it. &lt;/p&gt;</comment>
                            <comment id="14321837" author="jiajia" created="Sun, 15 Feb 2015 06:46:36 +0000"  >&lt;p&gt;Upload the hbase-13012-V1.patch, RB: &lt;a href=&quot;https://reviews.apache.org/r/31053/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/31053/&lt;/a&gt;&lt;br/&gt;
Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;jon@cloudera.com&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingcheng.du%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;jingcheng.du@intel.com&quot;&gt;Jingcheng Du&lt;/a&gt;, please look at it, thanks.&lt;/p&gt;</comment>
                            <comment id="14322460" author="jiajia" created="Mon, 16 Feb 2015 07:26:40 +0000"  >&lt;p&gt;update the patch(hbase-13012-V2.diff) according jingcheng&apos;s commets.&lt;/p&gt;</comment>
                            <comment id="14322504" author="jiajia" created="Mon, 16 Feb 2015 08:15:30 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingcheng.du%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;jingcheng.du@intel.com&quot;&gt;Jingcheng Du&lt;/a&gt;, I&apos;ve uploaded the patch(hbase-13012-V3.diff) according your comments.&lt;br/&gt;
Hi, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jon%40cloudera.com&quot; class=&quot;user-hover&quot; rel=&quot;jon@cloudera.com&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, can you review on this patch? thanks.&lt;/p&gt;</comment>
                            <comment id="14322529" author="jiajia" created="Mon, 16 Feb 2015 08:46:08 +0000"  >&lt;p&gt;update the patch(hbase-13012-V4) according jingcheng&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="14322876" author="anoop.hbase" created="Mon, 16 Feb 2015 15:29:58 +0000"  >&lt;p&gt;Quick Question.&lt;br/&gt;
What is the diff btw major and minor compaction in the MOB area?  We have only minor compactions in MOB right?  Any time we will compact all the MOB files into one?&lt;/p&gt;</comment>
                            <comment id="14323224" author="jmhsieh" created="Mon, 16 Feb 2015 20:09:02 +0000"  >&lt;p&gt;The mob compaction code has logic in place that would delete delmob files if a mob compact use all the files.  This adds the plumbing to force it to do one of those compactions.&lt;/p&gt;</comment>
                            <comment id="14323609" author="jingcheng.du@intel.com" created="Tue, 17 Feb 2015 03:31:10 +0000"  >&lt;p&gt;In the mob file compaction, we have two types of compactions, ALL_FILES and PART_FILES. ALL_FILES means all the mob files are selected in the compaction, after that the del files are archived, and the mob files are merged into one (or more than one if number of the mob files is larger than the batch).&lt;br/&gt;
I am thinking to add a max file size that could not be selected by the mob file compaction ( just like the store file compaction), we could set the default value as Long.MAX_VALUE. Jiajia will continue improving/uploading the patch after the lunar new year vacation.&lt;/p&gt;</comment>
                            <comment id="14339937" author="jingcheng.du@intel.com" created="Fri, 27 Feb 2015 09:35:16 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;, the latest patch V5 is uploaded, you could find it in RB by &lt;a href=&quot;https://reviews.apache.org/r/31534/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/31534/&lt;/a&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="14343016" author="jingcheng.du@intel.com" created="Mon, 2 Mar 2015 10:55:18 +0000"  >&lt;p&gt;Update the latest patch V6 according to the comments in RB.&lt;br/&gt;
1. Refine the code.&lt;br/&gt;
2. Add getMobFileCompactionState API to Admin.&lt;/p&gt;</comment>
                            <comment id="14344521" author="jingcheng.du@intel.com" created="Tue, 3 Mar 2015 05:00:03 +0000"  >&lt;p&gt;Update the patch V6 to fix the issues in testing that master could not be stopped successfully.&lt;/p&gt;</comment>
                            <comment id="14344529" author="jingcheng.du@intel.com" created="Tue, 3 Mar 2015 05:01:30 +0000"  >&lt;p&gt;To correct myself, the latest patch is V7 to fix the issues found in testing that master could not be stopped successfully.&lt;/p&gt;</comment>
                            <comment id="14345742" author="jmhsieh" created="Tue, 3 Mar 2015 21:13:01 +0000"  >&lt;p&gt;I tried v7 and I&apos;ve been getting unittest failures on TestMobFileCompactor.  I&apos;ll dig in a bit deeper into the v7 review to see what might becausing this.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor
Tests run: 7, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 333.997 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor
testCompactionFromAdmin(org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor)  Time elapsed: 94.948 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;NONE&amp;gt; but was:&amp;lt;MAJOR_AND_MINOR&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor.waitUntilCompactionFinished(TestMobFileCompactor.java:509)
	at org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor.testCompactionFromAdmin(TestMobFileCompactor.java:437)

testMajorCompactionFromAdmin(org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor)  Time elapsed: 88.318 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;NONE&amp;gt; but was:&amp;lt;MAJOR_AND_MINOR&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor.waitUntilCompactionFinished(TestMobFileCompactor.java:509)
	at org.apache.hadoop.hbase.mob.filecompactions.TestMobFileCompactor.testMajorCompactionFromAdmin(TestMobFileCompactor.java:484)


Results :

Failed tests: 
  TestMobFileCompactor.testCompactionFromAdmin:437-&amp;gt;waitUntilCompactionFinished:509 expected:&amp;lt;NONE&amp;gt; but was:&amp;lt;MAJOR_AND_MINOR&amp;gt;
  TestMobFileCompactor.testMajorCompactionFromAdmin:484-&amp;gt;waitUntilCompactionFinished:509 expected:&amp;lt;NONE&amp;gt; but was:&amp;lt;MAJOR_AND_MINOR&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14346134" author="jmhsieh" created="Wed, 4 Mar 2015 00:48:22 +0000"  >&lt;p&gt;v8 fixes the queue problem and the bad compaction return value problem.&lt;/p&gt;</comment>
                            <comment id="14346135" author="jmhsieh" created="Wed, 4 Mar 2015 00:50:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingchengdu&quot; class=&quot;user-hover&quot; rel=&quot;jingchengdu&quot;&gt;JingchengDu&lt;/a&gt;, can you take v8 and address the remaining issues from the review?  Thanks.&lt;/p&gt;</comment>
                            <comment id="14346250" author="jingcheng.du@intel.com" created="Wed, 4 Mar 2015 02:19:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;, I&apos;ll look into the issues.&lt;/p&gt;</comment>
                            <comment id="14346453" author="jingcheng.du@intel.com" created="Wed, 4 Mar 2015 06:06:35 +0000"  >&lt;p&gt;Update the patch (V9) according to the V8 and comments in RB. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmhsieh&quot; class=&quot;user-hover&quot; rel=&quot;jmhsieh&quot;&gt;Jonathan Hsieh&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14348354" author="jmhsieh" created="Thu, 5 Mar 2015 08:05:46 +0000"  >&lt;p&gt;v9 lgtm.  +1. thanks for the patch jiajia and jingcheng.  committed to hbase-11339 branch.&lt;/p&gt;</comment>
                            <comment id="14637812" author="hudson" created="Wed, 22 Jul 2015 22:48:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13012&quot; title=&quot;Add shell commands to trigger the mob file compactor &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13012&quot;&gt;&lt;del&gt;HBASE-13012&lt;/del&gt;&lt;/a&gt; Add shell commands to trigger the mob file compactor (Jingcheng Du and Jiajia Li) (jmhsieh: rev 47ed5cd7ed0da2976ab6bf10dec3816fa724bd55)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MobFileCompactionChore.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/filecompactions/MobFileCompactor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mob/filecompactions/TestMobFileCompactor.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/major_compact_mob.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/compact_mob.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/filecompactions/PartitionedMobFileCompactor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/mob/filecompactions/TestPartitionedMobFileCompactor.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobConstants.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mob/MobUtils.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterMobFileCompactionThread.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12780370">HBASE-13177</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12701309" name="HBASE-13012-V5.diff" size="60940" author="jingcheng.du@intel.com" created="Fri, 27 Feb 2015 09:35:16 +0000"/>
                            <attachment id="12701860" name="HBASE-13012-V6.diff" size="69927" author="jingcheng.du@intel.com" created="Mon, 2 Mar 2015 10:55:18 +0000"/>
                            <attachment id="12702078" name="HBASE-13012-V7.diff" size="70038" author="jingcheng.du@intel.com" created="Tue, 3 Mar 2015 05:01:30 +0000"/>
                            <attachment id="12702382" name="HBASE-13012-V9.diff" size="71114" author="jingcheng.du@intel.com" created="Wed, 4 Mar 2015 06:06:35 +0000"/>
                            <attachment id="12702328" name="HBASE-13012.v8.patch" size="70114" author="jmhsieh" created="Wed, 4 Mar 2015 00:49:44 +0000"/>
                            <attachment id="12698952" name="hbase-13012-V1.patch" size="50549" author="jiajia" created="Sun, 15 Feb 2015 06:46:36 +0000"/>
                            <attachment id="12699049" name="hbase-13012-V2.diff" size="58684" author="jiajia" created="Mon, 16 Feb 2015 07:26:40 +0000"/>
                            <attachment id="12699054" name="hbase-13012-V3.diff" size="56189" author="jiajia" created="Mon, 16 Feb 2015 08:15:30 +0000"/>
                            <attachment id="12699056" name="hbase-13012-V4.diff" size="56555" author="jiajia" created="Mon, 16 Feb 2015 08:46:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Feb 2015 18:15:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25gpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This adds two new shell commands -- compact_mob and major_compact_mob to the hbase shell.&lt;br/&gt;
&lt;br/&gt;
Run compaction on a mob enabled column family or all mob enabled column families within a table&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Examples:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Compact a column family within a table:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hbase&amp;gt; compact_mob &amp;#39;t1&amp;#39;, &amp;#39;c1&amp;#39;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Compact all mob enabled column families&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hbase&amp;gt; compact_mob &amp;#39;t1&amp;#39;&lt;br/&gt;
&lt;br/&gt;
Run major compaction on a mob enabled column family or all mob enabled column families within a table&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Examples:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Compact a column family within a table:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hbase&amp;gt; major_compact_mob &amp;#39;t1&amp;#39;, &amp;#39;c1&amp;#39;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Compact all mob enabled column families within a table&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;hbase&amp;gt; major_compact_mob &amp;#39;t1&amp;#39;&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>