<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:23:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4970/HBASE-4970.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4970] Add a parameter so that keepAliveTime of Htable thread pool can be changed</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4970</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In my cluster, I changed keepAliveTime from 60 s to 3600 s.  Increasing RES is slowed down.&lt;/p&gt;

&lt;p&gt;Why increasing keepAliveTime of HBase thread pool is slowing down our problem occurance &lt;span class=&quot;error&quot;&gt;&amp;#91;RES value increase&amp;#93;&lt;/span&gt;?&lt;/p&gt;

&lt;p&gt;You can go through the source of sun.nio.ch.Util. Every thread hold 3 softreference of direct buffer(mustangsrc) for reusage. The code names the 3 softreferences buffercache. If the buffer was all occupied or none was suitable in size, and new request comes, new direct buffer is allocated. After the service, the bigger one replaces the smaller one in buffercache. The replaced buffer is released.&lt;/p&gt;

&lt;p&gt;So I think we can add a parameter to change keepAliveTime of Htable thread pool.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534135">HBASE-4970</key>
            <summary>Add a parameter so that keepAliveTime of Htable thread pool can be changed</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sunnygao">gaojinchao</assignee>
                                    <reporter username="sunnygao">gaojinchao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Dec 2011 02:47:34 +0000</created>
                <updated>Fri, 12 Oct 2012 05:34:49 +0000</updated>
                            <resolved>Mon, 19 Dec 2011 06:59:34 +0000</resolved>
                                    <version>0.90.4</version>
                                    <fixVersion>0.90.6</fixVersion>
                    <fixVersion>0.92.1</fixVersion>
                    <fixVersion>0.94.0</fixVersion>
                                    <component>Client</component>
                        <due>Wed, 7 Dec 2011 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13164119" author="ram_krish" created="Wed, 7 Dec 2011 03:45:46 +0000"  >&lt;p&gt;+1 on this change.&lt;/p&gt;</comment>
                            <comment id="13164123" author="zhihyu@ebaysf.com" created="Wed, 7 Dec 2011 04:22:04 +0000"  >&lt;p&gt;@Jinchao:&lt;br/&gt;
Can you upload a patch ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13164127" author="sunnygao" created="Wed, 7 Dec 2011 04:26:11 +0000"  >&lt;p&gt;ok, No problem. &lt;/p&gt;</comment>
                            <comment id="13164187" author="lhofhansl" created="Wed, 7 Dec 2011 06:44:49 +0000"  >&lt;p&gt;It seems we&apos;re adding more and more options to control the HTable thread pool.&lt;/p&gt;

&lt;p&gt;I think if more control is desired one should maintain the threadpool(s) separately (possible with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4805&quot; title=&quot;Allow better control of resource consumption in HTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4805&quot;&gt;&lt;del&gt;HBASE-4805&lt;/del&gt;&lt;/a&gt;, currently 0.94 only, but backport should not be hard).&lt;/p&gt;</comment>
                            <comment id="13164274" author="yuzhihong@gmail.com" created="Wed, 7 Dec 2011 10:44:02 +0000"  >&lt;p&gt;I think there shouldn&apos;t be upper case letters in name of new config. &lt;/p&gt;</comment>
                            <comment id="13164276" author="sunnygao" created="Wed, 7 Dec 2011 10:47:39 +0000"  >&lt;p&gt;Sorry, I didn&apos;t see the Lars&apos;s comment. I will try to backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4805&quot; title=&quot;Allow better control of resource consumption in HTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4805&quot;&gt;&lt;del&gt;HBASE-4805&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13164364" author="sunnygao" created="Wed, 7 Dec 2011 12:47:37 +0000"  >&lt;p&gt;Fixed Lars&apos;s comment.&lt;/p&gt;

&lt;p&gt;@Lars&lt;br/&gt;
Please review firstly, I will test it in real cluster tomorrow.&lt;/p&gt;</comment>
                            <comment id="13164580" author="zhihyu@ebaysf.com" created="Wed, 7 Dec 2011 17:57:07 +0000"  >&lt;p&gt;Patch v2 is a backport and doesn&apos;t change keepAliveTime.&lt;br/&gt;
I feel we should address the needs of HTable users.&lt;/p&gt;

&lt;p&gt;I am fine with the backport - we may want to modify the title of this JIRA accordingly.&lt;/p&gt;</comment>
                            <comment id="13165565" author="lhofhansl" created="Thu, 8 Dec 2011 21:10:41 +0000"  >&lt;p&gt;V2 looks good to me. +1&lt;/p&gt;

&lt;p&gt;Is this good enough for you gaojinchao? It will put more burden on the application to manage the ExecutorService and HConnection.&lt;/p&gt;</comment>
                            <comment id="13165802" author="sunnygao" created="Fri, 9 Dec 2011 03:05:30 +0000"  >&lt;p&gt;I also want to add a parameter to change keepAliveTime of Htable thread pool.  so that clients can have more option&lt;/p&gt;</comment>
                            <comment id="13165991" author="sunnygao" created="Fri, 9 Dec 2011 09:36:53 +0000"  >&lt;p&gt;Thanks for Ted&apos;s and lars&apos;s reveiw.&lt;/p&gt;

&lt;p&gt;Fixed all comments&lt;/p&gt;</comment>
                            <comment id="13165995" author="sunnygao" created="Fri, 9 Dec 2011 09:39:49 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4970&quot; title=&quot;Add a parameter so that keepAliveTime of Htable thread pool can be changed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4970&quot;&gt;&lt;del&gt;HBASE-4970&lt;/del&gt;&lt;/a&gt;_Branch90_V2.patch  I added a parameter to change keepAliveTime as well.&lt;/p&gt;</comment>
                            <comment id="13167308" author="ram_krish" created="Mon, 12 Dec 2011 01:44:50 +0000"  >&lt;p&gt;+1 on patch.. &lt;/p&gt;</comment>
                            <comment id="13167670" author="stack" created="Mon, 12 Dec 2011 18:50:09 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="13167684" author="lhofhansl" created="Mon, 12 Dec 2011 19:08:12 +0000"  >&lt;p&gt;Hmm... I am -0 on the extra config option. I really think that should be some slightly configurable default behavior, and if that does not fit the requirements, one should manage the ExecutorService separately rather than adding more and more config options.&lt;/p&gt;

&lt;p&gt;I&apos;m not opposed, though.&lt;/p&gt;

&lt;p&gt;In either case, if we did the config option part, that part would need to be added to 0.92 and trunk as well.&lt;/p&gt;

&lt;p&gt;If we did the config option part, does it still make sense to backport my 0.92/trunk change?&lt;/p&gt;

&lt;p&gt;gaojinchao, if you had both options at your disposal (separate ExecutorService and your config option), which one would you use? We should do that one thing that you would use.&lt;/p&gt;</comment>
                            <comment id="13168310" author="sunnygao" created="Tue, 13 Dec 2011 11:48:38 +0000"  >&lt;p&gt;@Lars&lt;br/&gt;
Thanks for your comments&lt;br/&gt;
My consideration:&lt;br/&gt;
1. For original users, Only change the configure and don&apos;t need manage so many resources.&lt;br/&gt;
2. For the new users, They can manage the ExecutorService and HConnection by themselves if they need.&lt;/p&gt;

&lt;p&gt;I will make a patch for Trunk and 0.92. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13171162" author="lhofhansl" created="Fri, 16 Dec 2011 19:45:14 +0000"  >&lt;p&gt;Thanks for the patch. I&apos;m happy to commit this.&lt;/p&gt;

&lt;p&gt;Let&apos;s add the new config option to all of 0.90, 0.92.1, and trunk.&lt;/p&gt;

&lt;p&gt;Should we still port the slightly bigger change back to 0.90? Is that still needed for you gaojinchao, or would like to both change integrated in 0.90?&lt;/p&gt;</comment>
                            <comment id="13171381" author="sunnygao" created="Sat, 17 Dec 2011 00:45:23 +0000"  >&lt;p&gt;@Lars &lt;br/&gt;
Thanks for your review.&lt;/p&gt;

&lt;p&gt;I tend to only modify the parameters.&lt;/p&gt;</comment>
                            <comment id="13171968" author="lhofhansl" created="Sun, 18 Dec 2011 23:56:53 +0000"  >&lt;p&gt;Ok... In that case, let&apos;s just add the new parameter everywhere. Sorry for leading you astray.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit the initial patch and the 0.92 and trunk patches later today, unless somebody objects.&lt;/p&gt;</comment>
                            <comment id="13171986" author="sunnygao" created="Mon, 19 Dec 2011 01:02:16 +0000"  >&lt;p&gt;No problem, Thanks for your work!&lt;/p&gt;</comment>
                            <comment id="13172044" author="zhihyu@ebaysf.com" created="Mon, 19 Dec 2011 06:23:36 +0000"  >&lt;p&gt;Switching subject back.&lt;/p&gt;</comment>
                            <comment id="13172050" author="lhofhansl" created="Mon, 19 Dec 2011 06:43:42 +0000"  >&lt;p&gt;About to commit. What do we do with the CHANGES.txt file now. This is a 0.90 change, so I want to add it to the 0.90 section in trunk and 0.92 as well. They still have 0.90.5 marked as unreleased.&lt;/p&gt;

&lt;p&gt;In 0.90 there is a 0.90.6 entry also marked as unreleased (in addition to 0.90.5, which is also marked as unreleased). Should I add a 0.90.6 row in 0.92 in trunk?&lt;/p&gt;</comment>
                            <comment id="13172053" author="zhihyu@ebaysf.com" created="Mon, 19 Dec 2011 06:51:40 +0000"  >&lt;p&gt;I think the likelihood of 0.90.5 RC going through is high.&lt;br/&gt;
So we should add 0.90.6 section to CHANGES.txt of 0.92 and TRUNK.&lt;/p&gt;</comment>
                            <comment id="13172058" author="lhofhansl" created="Mon, 19 Dec 2011 06:59:34 +0000"  >&lt;p&gt;Committed to 0.90, 0.92, and trunk.&lt;br/&gt;
Thanks for the patch and your patience, gaojinchao.&lt;/p&gt;</comment>
                            <comment id="13172171" author="hudson" created="Mon, 19 Dec 2011 10:18:43 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #44 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/44/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/44/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4970&quot; title=&quot;Add a parameter so that keepAliveTime of Htable thread pool can be changed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4970&quot;&gt;&lt;del&gt;HBASE-4970&lt;/del&gt;&lt;/a&gt;  Add a parameter so that keepAliveTime of Htable thread pool can be changed (gaojinchao)&lt;/p&gt;

&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13172237" author="hudson" created="Mon, 19 Dec 2011 12:47:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2558 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2558/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2558/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4970&quot; title=&quot;Add a parameter so that keepAliveTime of Htable thread pool can be changed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4970&quot;&gt;&lt;del&gt;HBASE-4970&lt;/del&gt;&lt;/a&gt;  Add a parameter so that keepAliveTime of Htable thread pool can be changed (gaojinchao)&lt;/p&gt;

&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13172269" author="hudson" created="Mon, 19 Dec 2011 13:43:05 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #37 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/37/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4970&quot; title=&quot;Add a parameter so that keepAliveTime of Htable thread pool can be changed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4970&quot;&gt;&lt;del&gt;HBASE-4970&lt;/del&gt;&lt;/a&gt;  Add a parameter so that keepAliveTime of Htable thread pool can be changed (gaojinchao)&lt;/p&gt;

&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12533914">HBASE-4956</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12531712">HBASE-4805</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506424" name="HBASE-4970_Branch90.patch" size="1070" author="sunnygao" created="Wed, 7 Dec 2011 10:33:24 +0000"/>
                            <attachment id="12506435" name="HBASE-4970_Branch90_V1_trial.patch" size="10724" author="sunnygao" created="Wed, 7 Dec 2011 12:46:02 +0000"/>
                            <attachment id="12506719" name="HBASE-4970_Branch90_V2.patch" size="11585" author="sunnygao" created="Fri, 9 Dec 2011 09:36:53 +0000"/>
                            <attachment id="12507175" name="HBASE-4970_Branch92_V2.patch" size="1149" author="sunnygao" created="Tue, 13 Dec 2011 12:22:06 +0000"/>
                            <attachment id="12507176" name="HBASE-4970_Trunk_V2.patch" size="1149" author="sunnygao" created="Tue, 13 Dec 2011 12:22:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Dec 2011 03:45:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>