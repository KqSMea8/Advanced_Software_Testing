<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:11:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3652/HBASE-3652.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3652] Speed up tests by lowering some sleeps</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3652</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While trying TestAdmin in the scope of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3650&quot; title=&quot;HBA.delete can return too fast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3650&quot;&gt;&lt;del&gt;HBASE-3650&lt;/del&gt;&lt;/a&gt;, I saw that it takes a lot more time to run than it used to. Upon inspection I see that there&apos;s 2 hardcoded 1 second sleeps in DisableTableHandler and EnableTableHandler in waitUntilDone (which is almost the same code in both cases too). Setting that down to 50ms dropped the run time in half... and I&apos;m sure there&apos;s a few other sleeps that we could get rid of.&lt;/p&gt;

&lt;p&gt;I think that at least those 1sec should be configurable so that we can tune them down in the tests, but I wonder if we need them at all.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501529">HBASE-3652</key>
            <summary>Speed up tests by lowering some sleeps</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Mar 2011 00:32:38 +0000</created>
                <updated>Fri, 20 Nov 2015 12:42:54 +0000</updated>
                            <resolved>Fri, 8 Apr 2011 16:51:55 +0000</resolved>
                                    <version>0.90.1</version>
                                    <fixVersion>0.90.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13007554" author="stack" created="Wed, 16 Mar 2011 16:54:33 +0000"  >&lt;p&gt;+1  Todd also found this one in src/test/resources/hbase-site.xml the last day:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hbase.client.pause&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;5000&amp;lt;/value&amp;gt;
    &amp;lt;description&amp;gt;General client pause value.  Used mostly as value to wait
    before running a retry of a failed get, region lookup, etc.&amp;lt;/description&amp;gt;
  &amp;lt;/property&amp;gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hbase.client.retries.number&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;4&amp;lt;/value&amp;gt;
    &amp;lt;description&amp;gt;Maximum retries.  Used as maximum &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all retryable
    operations such as fetching of the root region from root region
    server, getting a cell&apos;s value, starting a row update, etc.
    Default: 10.
    &amp;lt;/description&amp;gt;
  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Instead we should pause for shorter time but retry more in tests?&lt;/p&gt;

&lt;p&gt;Might break some dumb tests that ended up relying on above behaviors?&lt;/p&gt;</comment>
                            <comment id="13007559" author="jdcryans" created="Wed, 16 Mar 2011 16:57:45 +0000"  >&lt;p&gt;Regarding the two sleeps in Enable/DisableTableHandler, I ran the full suite of tests with a 50ms wait instead of 1sec and everything passed. Can&apos;t tell for sure for the other configurations...&lt;/p&gt;</comment>
                            <comment id="13017203" author="jdcryans" created="Thu, 7 Apr 2011 23:39:13 +0000"  >&lt;p&gt;The main change in this patch is that I refactor the 1000ms sleep time out of Enable/Disable/DeleteTableHandler into EventHandler, and by doing that I had to change TestExecutorService to stop passing a null Server.&lt;/p&gt;

&lt;p&gt;I also changed the sleep times that Todd pointed out to something equivalent that sleeps less time for more retries. By doing that I also had to change TestReplication to remove the line where it was setting it&apos;s own retries for the client.&lt;/p&gt;</comment>
                            <comment id="13017211" author="jdcryans" created="Fri, 8 Apr 2011 00:10:14 +0000"  >&lt;p&gt;Changing scope, bringing into 0.90.3 since it&apos;s harmless.&lt;/p&gt;</comment>
                            <comment id="13017250" author="stack" created="Fri, 8 Apr 2011 03:16:10 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="13017530" author="jdcryans" created="Fri, 8 Apr 2011 16:51:55 +0000"  >&lt;p&gt;Committed to branch and trunk, thanks for the review Stack!&lt;/p&gt;</comment>
                            <comment id="13018774" author="hudson" created="Tue, 12 Apr 2011 09:28:55 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1846 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/HBase-TRUNK/1846/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/HBase-TRUNK/1846/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="15017379" author="lars_francke" created="Fri, 20 Nov 2015 12:42:54 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12475763" name="HBASE-3652.patch" size="6439" author="jdcryans" created="Thu, 7 Apr 2011 23:39:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Mar 2011 16:54:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hn7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>