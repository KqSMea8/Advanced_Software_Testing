<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:25:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11635/HBASE-11635.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11635] Deprecate TableMapReduceUtil.setScannerCaching</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11635</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11558&quot; title=&quot;Caching set on Scan object gets lost when using TableMapReduceUtil in 0.95+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11558&quot;&gt;&lt;del&gt;HBASE-11558&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Currently there are 2 ways to specify scanner caching when invoking a MR job using TableMapReduceUtil.&lt;/p&gt;

&lt;p&gt;1. By setting the caching on the Scan Object.&lt;br/&gt;
2. By setting the &quot;hbase.client.scanner.caching&quot; config using TableMapReduceUtil.setScannerCaching.&lt;/p&gt;

&lt;p&gt;This JIRA attempts to deprecate the latter. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12731158">HBASE-11635</key>
            <summary>Deprecate TableMapReduceUtil.setScannerCaching</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ishanc">Ishan Chhabra</assignee>
                                    <reporter username="ishanc">Ishan Chhabra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jul 2014 19:45:30 +0000</created>
                <updated>Mon, 4 Aug 2014 15:45:39 +0000</updated>
                                            <version>1.0.0</version>
                    <version>0.98.4</version>
                    <version>2.0.0</version>
                                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14081345" author="ishanc" created="Thu, 31 Jul 2014 19:46:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;, I might have read your comment wrong, but were you also saying that we should get rid of the config altogether? &lt;/p&gt;</comment>
                            <comment id="14083172" author="ndimiduk" created="Fri, 1 Aug 2014 23:25:44 +0000"  >&lt;p&gt;The config is only used by TableMapReduceUtil.setScannerCaching; not used at all by the version based on the scanner, right? We should get rid of the config at the same time we get ride of TableMapReduceUtil.setScannerCaching so that only the serialized Scan object is used.&lt;/p&gt;

&lt;p&gt;Since we have master branch at 2.0.0-SNAPSHOT, you can provide the patches for 0.98 and branch-1 that deprecate the method and warn on config access, and a patch for master that removes &quot;hbase.client.scanner.caching&quot; and TableMapReduceUtil.setScannerCaching &amp;#8211; both on this ticket. No need to open separate JIRA for deprecation and removal. If you choose to do that, update the title accordingly.&lt;/p&gt;</comment>
                            <comment id="14084206" author="ishanc" created="Mon, 4 Aug 2014 01:31:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;, The config is also used by hbase client to decide the value of caching if it is not set on the scan object. Here is the relevant piece of code from ClientScanner.java&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-comment&quot;&gt;// Use the caching from the Scan.  If not set, use the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; cache setting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; table.
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.scan.getCaching() &amp;gt; 0) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.caching = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.scan.getCaching();
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.caching = conf.getInt(
            HConstants.HBASE_CLIENT_SCANNER_CACHING,
            HConstants.DEFAULT_HBASE_CLIENT_SCANNER_CACHING);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If we deprecate and remove the config, it also means that you cannot set caching at the client side using this config. Is that ok?&lt;/p&gt;</comment>
                            <comment id="14084792" author="ndimiduk" created="Mon, 4 Aug 2014 15:45:39 +0000"  >&lt;p&gt;Nope, not okay &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;We&apos;ll keep the config, just deprecate/remove the method.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Aug 2014 23:25:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yeu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>