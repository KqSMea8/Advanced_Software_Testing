<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:49:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7785/HBASE-7785.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7785] rolling-restart.sh script unable to check expiration of master znode</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7785</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When rolling-restart.sh script stop master it enters loop trying to detect that master znode is deleted. Since it is unable to execute check command script hangs in infinite loop. Problematic line of script is:&lt;/p&gt;

&lt;p&gt;while ! bin/hbase zkcli stat $zmaster 2&amp;gt;&amp;amp;1 | grep &quot;Node does not exist&quot;; do&lt;/p&gt;

&lt;p&gt;&quot;bin/hbase zkcli stat&quot; can not be executed since script is run from bin directory. My suggestion is that this line should be like this in order to work:&lt;/p&gt;

&lt;p&gt;while ! &quot;$bin&quot;/hbase zkcli stat $zmaster 2&amp;gt;&amp;amp;1 | grep &quot;Node does not exist&quot;; do&lt;/p&gt;

&lt;p&gt;After i made this change i was able to execute rolling restart.&lt;/p&gt;



</description>
                <environment>&lt;p&gt;Linux CentOS release 5.8&lt;/p&gt;</environment>
        <key id="12631218">HBASE-7785</key>
            <summary>rolling-restart.sh script unable to check expiration of master znode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asamir">Samir Ahmic</assignee>
                                    <reporter username="asamir">Samir Ahmic</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Feb 2013 08:34:58 +0000</created>
                <updated>Wed, 18 Dec 2013 18:17:48 +0000</updated>
                            <resolved>Thu, 7 Feb 2013 18:59:04 +0000</resolved>
                                    <version>0.94.4</version>
                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13573316" author="asamir" created="Thu, 7 Feb 2013 08:45:33 +0000"  >&lt;p&gt;Here is diff for change&lt;/p&gt;</comment>
                            <comment id="13573681" author="lhofhansl" created="Thu, 7 Feb 2013 17:17:18 +0000"  >&lt;p&gt;Yep. We do this everywhere else in this script. This is the only exception.&lt;br/&gt;
Going to commit in a few.&lt;/p&gt;</comment>
                            <comment id="13573781" author="lhofhansl" created="Thu, 7 Feb 2013 18:59:05 +0000"  >&lt;p&gt;Committed to 0.94 and 0.96. Thanks for the patch.&lt;/p&gt;</comment>
                            <comment id="13574013" author="hudson" created="Thu, 7 Feb 2013 22:46:42 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #832 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/832/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/832/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7785&quot; title=&quot;rolling-restart.sh script unable to check expiration of master znode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7785&quot;&gt;&lt;del&gt;HBASE-7785&lt;/del&gt;&lt;/a&gt; rolling-restart.sh script unable to check expiration of master znode (Samir Ahmic) (Revision 1443660)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/bin/rolling-restart.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13574072" author="hudson" created="Thu, 7 Feb 2013 23:55:33 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3862 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3862/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3862/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7785&quot; title=&quot;rolling-restart.sh script unable to check expiration of master znode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7785&quot;&gt;&lt;del&gt;HBASE-7785&lt;/del&gt;&lt;/a&gt; rolling-restart.sh script unable to check expiration of master znode (Samir Ahmic) (Revision 1443659)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/rolling-restart.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13574218" author="hudson" created="Fri, 8 Feb 2013 04:05:15 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #397 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/397/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/397/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7785&quot; title=&quot;rolling-restart.sh script unable to check expiration of master znode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7785&quot;&gt;&lt;del&gt;HBASE-7785&lt;/del&gt;&lt;/a&gt; rolling-restart.sh script unable to check expiration of master znode (Samir Ahmic) (Revision 1443659)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/rolling-restart.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13574286" author="hudson" created="Fri, 8 Feb 2013 06:17:58 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #109 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/109/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7785&quot; title=&quot;rolling-restart.sh script unable to check expiration of master znode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7785&quot;&gt;&lt;del&gt;HBASE-7785&lt;/del&gt;&lt;/a&gt; rolling-restart.sh script unable to check expiration of master znode (Samir Ahmic) (Revision 1443660)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/bin/rolling-restart.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13593194" author="hudson" created="Tue, 5 Mar 2013 07:52:17 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #12 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/12/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7785&quot; title=&quot;rolling-restart.sh script unable to check expiration of master znode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7785&quot;&gt;&lt;del&gt;HBASE-7785&lt;/del&gt;&lt;/a&gt; rolling-restart.sh script unable to check expiration of master znode (Samir Ahmic) (Revision 1443660)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/bin/rolling-restart.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12568390" name="HBASE-7785.txt" size="436" author="asamir" created="Thu, 7 Feb 2013 08:45:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Feb 2013 17:17:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hslj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>