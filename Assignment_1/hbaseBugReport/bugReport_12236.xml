<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:31:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12236/HBASE-12236.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12236] Change namespace of HTraceConfiguration dependency in 0.98</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12236</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As discussed in thread &apos;NoSuchMethodError using zipkin with hbase 0.98.5&apos;, HBaseSpanReceiver.config() method from htrace-hbase module expects parameter of type org.htrace.HTraceConfiguration.&lt;/p&gt;

&lt;p&gt;However, org.apache.hadoop.hbase.trace.HBaseHTraceConfiguration in 0.98 extends org.cloudera.htrace.HTraceConfiguration , leading to the following compilation error when building htrace-hbase against 0.98:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR]
/home/hadoop/git/htrace/htrace-hbase/src/main/java/org/htrace/impl/HBaseSpanReceiver.java:[341,12]
error: method configure in class HBaseSpanReceiver cannot be applied to
given types;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thanks to Abhishek Kumar who reported the above issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12747542">HBASE-12236</key>
            <summary>Change namespace of HTraceConfiguration dependency in 0.98</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Oct 2014 22:17:17 +0000</created>
                <updated>Thu, 23 Oct 2014 01:03:35 +0000</updated>
                            <resolved>Sun, 12 Oct 2014 12:12:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14168391" author="yuzhihong@gmail.com" created="Sat, 11 Oct 2014 22:39:47 +0000"  >&lt;p&gt;TestHTraceHooks passes.&lt;/p&gt;</comment>
                            <comment id="14168782" author="stack" created="Sun, 12 Oct 2014 20:44:40 +0000"  >&lt;p&gt;For those trying to follow along, why does this issue go &apos;wont fix&apos;?&lt;/p&gt;</comment>
                            <comment id="14168986" author="stack" created="Mon, 13 Oct 2014 06:13:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;For those trying to follow along, why does this issue go &apos;wont fix&apos;?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; ^^^^&lt;/p&gt;</comment>
                            <comment id="14169485" author="yuzhihong@gmail.com" created="Mon, 13 Oct 2014 16:33:37 +0000"  >&lt;p&gt;See response from Iwasaki-san:&lt;br/&gt;
&lt;a href=&quot;http://search-hadoop.com/m/DHED4QUbNy1/NoSuchMethodError+using+zipkin+with+hbase+0.98.5&amp;amp;subj=NoSuchMethodError+using+zipkin+with+hbase+0+98+5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/DHED4QUbNy1/NoSuchMethodError+using+zipkin+with+hbase+0.98.5&amp;amp;subj=NoSuchMethodError+using+zipkin+with+hbase+0+98+5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We should evaluate compatibility issue before making the change.&lt;/p&gt;</comment>
                            <comment id="14169496" author="stack" created="Mon, 13 Oct 2014 16:38:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Helps.  Please fill out rationale resolving issues in future.  JIRA should be self-contained regards why opened/closed, etc..  Readers should not be presumed to be keeping up a concurrent read of the mailing lists.  &lt;/p&gt;</comment>
                            <comment id="14174233" author="iwasakims" created="Thu, 16 Oct 2014 21:01:09 +0000"  >&lt;p&gt;The problem is that hbase-0.98 is built against htrace-2.04 which is old. I think it is good to bump the version of htrace from 2.04 to 3.0.4 as attached patch do though bumping the version of htrace is incompatible change in the sense that user need to change the value of hbase.trace.spanreceiver.classes from org.cloudera.htrace.impl.* to org.htrace.impl.*.&lt;/p&gt;

&lt;p&gt;htrace-zipkin-2.04 and htrace-zipkin-3.0.4 are compatible in the sense that&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;htrace-2.04 and htrace-3.0.4 has same data structure for tracing span&lt;/li&gt;
	&lt;li&gt;htrace-zipkin-2.04 and htrace-zipkin-3.0.4 uses same Zipkin client API&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Even if the version of htrace is bumped, htrace-hbase still does not work with hbase-0.98 because it depends on o.a.h.http.HttpServer2 which does not exist in hadoop-2.2.0 but this is another issue.&lt;/p&gt;</comment>
                            <comment id="14174240" author="iwasakims" created="Thu, 16 Oct 2014 21:03:17 +0000"  >&lt;p&gt;I&apos;m testing the patch and found that hbase-shell/src/main/ruby/shell/commands/trace.rb imports org.cloudera.htrace.*. This should be fixed too.&lt;/p&gt;</comment>
                            <comment id="14177563" author="iwasakims" created="Mon, 20 Oct 2014 22:20:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Can I reopen this as &quot;bump the version of HTrace to 3.04 in 0.98&quot;.&lt;br/&gt;
The patch with additional fix to trace.rb worked for me. Though users need to update configuration with this change, it seems few people (maybe none) uses tracing in 0.98.&lt;/p&gt;</comment>
                            <comment id="14178472" author="yuzhihong@gmail.com" created="Tue, 21 Oct 2014 14:50:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
What do you think ?&lt;/p&gt;</comment>
                            <comment id="14180068" author="apurtell" created="Wed, 22 Oct 2014 15:41:37 +0000"  >&lt;p&gt;Make a new issue to up the HTrace version I&apos;d say. &lt;/p&gt;</comment>
                            <comment id="14180212" author="yuzhihong@gmail.com" created="Wed, 22 Oct 2014 17:30:12 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java
@@ -716,7 +716,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TableMapReduceUtil {
       org.jboss.netty.channel.ChannelFactory.class,
       com.google.protobuf.Message.class,
       com.google.common.collect.Lists.class,
-      org.cloudera.htrace.Trace.class,
+      org.htrace.Trace.class,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I am not sure whether the above change would break compatibility with released 0.98 versions. Client code may have been compiled with org.cloudera.htrace.Trace.class&lt;/p&gt;</comment>
                            <comment id="14180779" author="apurtell" created="Thu, 23 Oct 2014 00:15:58 +0000"  >&lt;p&gt;Then just forget about it Ted. Why do you ask if you then point out a problem with it (you think)? &lt;/p&gt;</comment>
                            <comment id="14180847" author="yuzhihong@gmail.com" created="Thu, 23 Oct 2014 01:03:35 +0000"  >&lt;p&gt;The patch was produced 11 days ago.&lt;/p&gt;

&lt;p&gt;This morning I reviewed the patch again and found the above.&lt;/p&gt;

&lt;p&gt;FYI&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12674383" name="12236-v1.txt" size="17040" author="yuzhihong@gmail.com" created="Sat, 11 Oct 2014 22:39:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Oct 2014 20:44:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i212nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>