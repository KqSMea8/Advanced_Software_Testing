<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:43:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-350/HBASE-350.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-350] [hbase] Bloomfilters: single argument constructor, use enum for bloom filter types</title>
                <link>https://issues.apache.org/jira/browse/HBASE-350</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;On Thu, 2007-08-23 at 01:46 +0900, Inchul Song wrote:&lt;br/&gt;
Hi all,&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; When I create a column for an Hbase table, I have to create&lt;br/&gt;
&amp;gt; an instance of the HColumnDescriptor class, and&lt;br/&gt;
&amp;gt; pass over an instance of the BloomFilterDescriptor class&lt;br/&gt;
&amp;gt; describing which bloom filter to use to the constructor&lt;br/&gt;
&amp;gt; of the HColumnDescriptor class.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; But there is some inconvenience in using the BloomFilterDescriptor class:&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; 1. Non-existence of a single argument constructor&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; When creating an instance of the BloomFilterDescriptor class,&lt;br/&gt;
&amp;gt; I need to specify some options for the newly created bloom filter.&lt;br/&gt;
&amp;gt; There are three options: type, vectorSize, nbHash.&lt;br/&gt;
&amp;gt; I know that these options are important for&lt;br/&gt;
&amp;gt; the internal working of a bloom filter, but I cannot help&lt;br/&gt;
&amp;gt; but confess that I don&apos;t really understand&lt;br/&gt;
&amp;gt; what vectorSize and hbHash mean and how these two options&lt;br/&gt;
&amp;gt; affect the way in which a bloom filter works.&lt;br/&gt;
&amp;gt; As the user of a bloom filter, the only thing I am concerned with is&lt;br/&gt;
&amp;gt; the first option, the name of the bloom filter that I&apos;d like to&lt;br/&gt;
&amp;gt; use for the column, and it would be nice if the other options&lt;br/&gt;
&amp;gt; are automatically decided and filled in.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; So it would be nice if there is a constructor&lt;br/&gt;
&amp;gt; with a single &apos;type&apos; argument in the BloomFilterDescriptor class.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; 2. Bloom filter types are defined as integers&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Bloom filter types are not in an enumeration class.&lt;br/&gt;
&amp;gt; Thus, when filling in the type option of the constructor&lt;br/&gt;
&amp;gt; from a String value, I always have to write some translation&lt;br/&gt;
&amp;gt; code from the string value to one of the integer values&lt;br/&gt;
&amp;gt; representing bloom filter types.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; If there is an enumeration class containing bloom filter types,&lt;br/&gt;
&amp;gt; I can utilize the valueOf method of the enumeration class&lt;br/&gt;
&amp;gt; to do this tedious job.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Thanks,&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Song&lt;/p&gt;</description>
                <environment></environment>
        <key id="12376612">HBASE-350</key>
            <summary>[hbase] Bloomfilters: single argument constructor, use enum for bloom filter types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jimk">Jim Kellerman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Aug 2007 17:30:59 +0000</created>
                <updated>Mon, 4 Feb 2008 18:41:49 +0000</updated>
                            <resolved>Mon, 27 Aug 2007 23:35:45 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12521877" author="jimk" created="Wed, 22 Aug 2007 17:59:20 +0000"  >&lt;p&gt;&amp;gt; 1. Non-existence of a single argument constructor&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; When creating an instance of the BloomFilterDescriptor class,&lt;br/&gt;
&amp;gt; I need to specify some options for the newly created bloom filter.&lt;br/&gt;
&amp;gt; There are three options: type, vectorSize, nbHash.&lt;br/&gt;
&amp;gt; I know that these options are important for&lt;br/&gt;
&amp;gt; the internal working of a bloom filter, but I cannot help&lt;br/&gt;
&amp;gt; but confess that I don&apos;t really understand&lt;br/&gt;
&amp;gt; what vectorSize and hbHash mean and how these two options&lt;br/&gt;
&amp;gt; affect the way in which a bloom filter works.&lt;br/&gt;
&amp;gt; As the user of a bloom filter, the only thing I am concerned with is&lt;br/&gt;
&amp;gt; the first option, the name of the bloom filter that I&apos;d like to&lt;br/&gt;
&amp;gt; use for the column, and it would be nice if the other options&lt;br/&gt;
&amp;gt; are automatically decided and filled in.&lt;/p&gt;

&lt;p&gt;There no way to automatically determine the vector size and the number of hash functions to use. In particular, bloom filters are very sensitive to the number of elements inserted into them. For HBase, the number of entries depends on the size of the data stored in the column. Currently the default region size is 64MB, so the number of entries is approximately the 64MB / (average value size for column).&lt;/p&gt;

&lt;p&gt;If m denotes the number of bits in the Bloom filter (vectorSize), n denotes the number of elements inserted into the Bloom filter and k represents the number of hash functions used (nbHash), then according to Broder and Mitzenmacher,&lt;/p&gt;

&lt;p&gt;( &lt;a href=&quot;http://www.eecs.harvard.edu/~michaelm/NEWWORK/postscripts/BloomFilterSurvey.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.eecs.harvard.edu/~michaelm/NEWWORK/postscripts/BloomFilterSurvey.pdf&lt;/a&gt; )&lt;/p&gt;

&lt;p&gt;the probability of false positives is minimized when k is approximately m/n ln(2).&lt;/p&gt;

&lt;p&gt;So we could provide a constructor that takes two arguments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;bloom filter type&lt;/li&gt;
	&lt;li&gt;estimated number of entries&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Would that be acceptable?&lt;/p&gt;
</comment>
                            <comment id="12521879" author="jimk" created="Wed, 22 Aug 2007 18:01:47 +0000"  >&lt;p&gt;Other resources:&lt;/p&gt;

&lt;p&gt;Bloom filter calculator: &lt;a href=&quot;http://www.cc.gatech.edu/~manolios/bloom-filters/calculator.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.cc.gatech.edu/~manolios/bloom-filters/calculator.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Bloom filters - the math: &lt;a href=&quot;http://pages.cs.wisc.edu/~cao/papers/summary-cache/node8.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pages.cs.wisc.edu/~cao/papers/summary-cache/node8.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12522057" author="icsong" created="Thu, 23 Aug 2007 08:15:49 +0000"  >&lt;p&gt;That&apos;s better. Thank you for your help.&lt;/p&gt;

&lt;p&gt;I&apos;ll change the HQL syntax accordingly.&lt;/p&gt;

&lt;p&gt;I wanted this kind of explanation. It would be better &lt;br/&gt;
if your explanation you&apos;ve given here is also found &lt;br/&gt;
in the doc of BloomFilter or BloomFilterDescriptor.&lt;/p&gt;</comment>
                            <comment id="12523116" author="jimk" created="Mon, 27 Aug 2007 22:20:47 +0000"  >&lt;p&gt;Works locally, see if Hudson agrees.&lt;/p&gt;</comment>
                            <comment id="12523130" author="hadoopqa" created="Mon, 27 Aug 2007 23:20:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12364644/HADOOP-1757-patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12364644/HADOOP-1757-patch.txt&lt;/a&gt; applied and successfully tested against trunk revision r570207.&lt;/p&gt;

&lt;p&gt;Test results:   &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/624/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/624/testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/624/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/624/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12523134" author="jimk" created="Mon, 27 Aug 2007 23:35:45 +0000"  >&lt;p&gt;Passed tests. Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12364644" name="HADOOP-1757-patch.txt" size="15397" author="jimk" created="Mon, 27 Aug 2007 22:10:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 Aug 2007 08:15:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h6rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>