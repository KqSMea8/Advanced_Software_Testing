<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:02:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2471/HBASE-2471.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2471] Splitting logs, we&apos;ll make an output file though the region no longer exists</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2471</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The &quot;human unit tester&quot; (Kannan) last night wondered what happens splitting logs and we come across an edit whose region has since been removed.  Taking a look, it looks like we&apos;ll create the output file and write the edits for the no-longer-extant region anyways.  This will leave litter in the filesystem &amp;#8211; region split files that will never be used nor removed.  This issue is about verifying that indeed this is whats happening (We do SequenceFile.createWriter with the overwrite flag set to true which tracing seems to mean create all intermediary directories &amp;#8211; to be verified) and if it indeed is happening, fixing split so unless the region dir exists, don&apos;t write out edits.. just drop them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462564">HBASE-2471</key>
            <summary>Splitting logs, we&apos;ll make an output file though the region no longer exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                            <label>moved_from_0_20_5</label>
                    </labels>
                <created>Tue, 20 Apr 2010 17:56:59 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:55 +0000</updated>
                            <resolved>Wed, 3 Nov 2010 23:45:24 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12859000" author="tlipcon" created="Tue, 20 Apr 2010 18:06:20 +0000"  >&lt;p&gt;How would the region get removed between the RS failure and the HM splitting the logs? Don&apos;t the regions need to be assigned in order for the table to be dropped or a split to happen?&lt;/p&gt;</comment>
                            <comment id="12859002" author="stack" created="Tue, 20 Apr 2010 18:17:19 +0000"  >&lt;p&gt;HLog files contain edits for all regions on a particular RegionServer.  HLogs get GC&apos;d only after all edits in a file have been persisted.   HLogs may stick around a good while if any one of a RS&apos;s Regions is a laggard flushing.  While the HLog lives, some other Region X may have split and been removed, and then the RS crashed.  On replay, we&apos;ll trip over Region X&apos;s edits though Region X had been removed.&lt;/p&gt;</comment>
                            <comment id="12859011" author="tlipcon" created="Tue, 20 Apr 2010 18:28:54 +0000"  >&lt;p&gt;Good point, I was thinking that pre-split the region would be flushed, and thus the logs would be expired. But the logs could have records for other unflushed regions.&lt;/p&gt;</comment>
                            <comment id="12866825" author="stack" created="Wed, 12 May 2010 23:48:41 +0000"  >&lt;p&gt;Bulk move of 0.20.5 issues into 0.21.0 after vote that we merge branch into TRUNK up on list.&lt;/p&gt;</comment>
                            <comment id="12918282" author="stack" created="Tue, 5 Oct 2010 22:35:28 +0000"  >&lt;p&gt;Should be easy fix.  From j-d &quot;If regiondir does not exist, do not create a recovered.edits file... skip&quot;... In split logs need to keep a list of non-existent regions tooo...  so we don&apos;t check fs for each encountered edit.&lt;/p&gt;</comment>
                            <comment id="12928063" author="jdcryans" created="Wed, 3 Nov 2010 23:34:53 +0000"  >&lt;p&gt;Patch that I&apos;m about to commit. It&apos;s different from what I posted on RB because some other unit tests needed to be changed and only figured it out when running the full test suite.&lt;/p&gt;</comment>
                            <comment id="12928066" author="jdcryans" created="Wed, 3 Nov 2010 23:45:24 +0000"  >&lt;p&gt;Committed patch to trunk. It expect some sort of destabilization as some tests looked flaky when I ran the full suite, so I might have to fix more tests in the near future.&lt;/p&gt;</comment>
                            <comment id="15017111" author="lars_francke" created="Fri, 20 Nov 2015 12:41:55 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458775" name="HBASE-2471-v2.patch" size="9379" author="jdcryans" created="Wed, 3 Nov 2010 23:34:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Apr 2010 18:06:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hhv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>