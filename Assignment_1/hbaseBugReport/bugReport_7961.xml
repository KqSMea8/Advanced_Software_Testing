<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7961/HBASE-7961.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7961] truncate on disabled table should throw TableNotEnabledException.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7961</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;presently truncate on disabled table is deleting existing table and recreating(ENABLED)&lt;br/&gt;
disable(table_name) call in truncate returing if table is disabled without nofifying to user.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    def disable(table_name)
      tableExists(table_name)
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; disabled?(table_name)
      @admin.disableTable(table_name)
    end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;one more thing is we are calling tableExists in disable(table_name) as well as drop(table_name) which is un necessary.&lt;br/&gt;
Any way below HTable object creation will check whether table exists or not.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
h_table = org.apache.hadoop.hbase.client.HTable.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(conf, table_name)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We can change it to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      h_table = org.apache.hadoop.hbase.client.HTable.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(conf, table_name)
      table_description = h_table.getTableDescriptor()
      yield &apos;Disabling table...&apos; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; block_given?
      @admin.disableTable(table_name)

      yield &apos;Dropping table...&apos; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; block_given?
      @admin.deleteTable(table_name)

      yield &apos;Creating table...&apos; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; block_given?
      @admin.createTable(table_description)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12634557">HBASE-7961</key>
            <summary>truncate on disabled table should throw TableNotEnabledException.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajesh23">rajeshbabu</assignee>
                                    <reporter username="rajesh23">rajeshbabu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Feb 2013 04:49:49 +0000</created>
                <updated>Sat, 27 Apr 2013 15:55:14 +0000</updated>
                            <resolved>Sat, 6 Apr 2013 05:16:35 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.7</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13589769" author="rajesh23" created="Thu, 28 Feb 2013 18:36:02 +0000"  >&lt;p&gt;patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13590212" author="ram_krish" created="Fri, 1 Mar 2013 03:44:49 +0000"  >&lt;p&gt;I understand your patch&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;h_table = org.apache.hadoop.hbase.client.HTable.new(conf, table_name)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Where does this check for table exists?  &lt;/p&gt;</comment>
                            <comment id="13590227" author="rajesh23" created="Fri, 1 Mar 2013 04:18:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Where does this check for table exists? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;in HTable initialization(HTable.finishSetup()) we will check for first region entry in .META. otherwise it will throw TableNotExistsException&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void finishSetup() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.connection.locateRegion(tableName, HConstants.EMPTY_START_ROW);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13597099" author="ram_krish" created="Fri, 8 Mar 2013 13:06:44 +0000"  >&lt;p&gt;+1 on patch.&lt;br/&gt;
@Stack/Ted&lt;br/&gt;
CAn you review this once?.  Rajesh&apos;s point is valid here.&lt;/p&gt;</comment>
                            <comment id="13597175" author="yuzhihong@gmail.com" created="Fri, 8 Mar 2013 14:40:30 +0000"  >&lt;p&gt;Patch looks good.&lt;/p&gt;</comment>
                            <comment id="13597865" author="ram_krish" created="Sat, 9 Mar 2013 06:30:01 +0000"  >&lt;p&gt;I will commit this unless objection.&lt;/p&gt;</comment>
                            <comment id="13597889" author="ram_krish" created="Sat, 9 Mar 2013 09:27:16 +0000"  >&lt;p&gt;Committed to trunk and 0.95.  Lars you need it in 0.94?&lt;/p&gt;</comment>
                            <comment id="13597901" author="hudson" created="Sat, 9 Mar 2013 10:54:03 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #48 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/48/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/48/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7961&quot; title=&quot;truncate on disabled table should throw TableNotEnabledException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7961&quot;&gt;&lt;del&gt;HBASE-7961&lt;/del&gt;&lt;/a&gt; truncate on disabled table should throw TableNotEnabledException.&lt;br/&gt;
(Rajesh) (Revision 1454678)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13597902" author="hudson" created="Sat, 9 Mar 2013 11:09:54 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3934 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3934/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3934/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7961&quot; title=&quot;truncate on disabled table should throw TableNotEnabledException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7961&quot;&gt;&lt;del&gt;HBASE-7961&lt;/del&gt;&lt;/a&gt; truncate on disabled table should throw TableNotEnabledException.&lt;br/&gt;
(Rajesh) (Revision 1454677)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13597908" author="hudson" created="Sat, 9 Mar 2013 12:32:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #438 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/438/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/438/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7961&quot; title=&quot;truncate on disabled table should throw TableNotEnabledException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7961&quot;&gt;&lt;del&gt;HBASE-7961&lt;/del&gt;&lt;/a&gt; truncate on disabled table should throw TableNotEnabledException.&lt;br/&gt;
(Rajesh) (Revision 1454677)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ramkrishna : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13598030" author="rajesh23" created="Sat, 9 Mar 2013 18:23:21 +0000"  >&lt;p&gt;Patch for 0.94&lt;/p&gt;</comment>
                            <comment id="13624344" author="lhofhansl" created="Sat, 6 Apr 2013 05:16:35 +0000"  >&lt;p&gt;Committed to 0.94 as well.&lt;/p&gt;</comment>
                            <comment id="13624564" author="hudson" created="Sun, 7 Apr 2013 01:18:57 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #949 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/949/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/949/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7961&quot; title=&quot;truncate on disabled table should throw TableNotEnabledException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7961&quot;&gt;&lt;del&gt;HBASE-7961&lt;/del&gt;&lt;/a&gt; truncate on disabled table should throw TableNotEnabledException. (rajeshbabu) (Revision 1465186)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13626345" author="hudson" created="Tue, 9 Apr 2013 07:33:24 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #133 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7961&quot; title=&quot;truncate on disabled table should throw TableNotEnabledException.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7961&quot;&gt;&lt;del&gt;HBASE-7961&lt;/del&gt;&lt;/a&gt; truncate on disabled table should throw TableNotEnabledException. (rajeshbabu) (Revision 1465186)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/ruby/hbase/admin.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571445" name="HBASE-7961.patch" size="884" author="rajesh23" created="Thu, 28 Feb 2013 18:36:02 +0000"/>
                            <attachment id="12572925" name="HBASE-7961_94.patch" size="845" author="rajesh23" created="Sat, 9 Mar 2013 18:23:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Mar 2013 03:44:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1id6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>