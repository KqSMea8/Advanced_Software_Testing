<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:20:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11096/HBASE-11096.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11096] stop method of Master and RegionServer coprocessor  is not invoked</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11096</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;the stop method of coprocessor specified by &quot;hbase.coprocessor.master.classes&quot; and  &quot;hbase.coprocessor.regionserver.classes&quot;  is not invoked.&lt;br/&gt;
If coprocessor allocates OS resources, it could cause master/regionserver resource leak or hang during exit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12711131">HBASE-11096</key>
            <summary>stop method of Master and RegionServer coprocessor  is not invoked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tianq">Qiang Tian</assignee>
                                    <reporter username="tianq">Qiang Tian</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Apr 2014 09:24:34 +0000</created>
                <updated>Fri, 11 Jul 2014 06:26:06 +0000</updated>
                            <resolved>Mon, 26 May 2014 18:41:12 +0000</resolved>
                                    <version>0.96.2</version>
                    <version>0.98.1</version>
                    <version>0.94.19</version>
                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>0.98.3</fixVersion>
                    <fixVersion>0.94.21</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13985041" author="apurtell" created="Wed, 30 Apr 2014 01:30:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tianq&quot; class=&quot;user-hover&quot; rel=&quot;tianq&quot;&gt;Qiang Tian&lt;/a&gt;, thanks for reporting the issue. Are you planning to provide a patch?&lt;/p&gt;</comment>
                            <comment id="13985069" author="tianq" created="Wed, 30 Apr 2014 01:58:08 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;br/&gt;
Thanks for response.&lt;/p&gt;

&lt;p&gt;Yes, I will. the fix is simple.. this is part of work for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10289&quot; title=&quot;Avoid random port usage by default JMX Server. Create Custome JMX server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10289&quot;&gt;&lt;del&gt;HBASE-10289&lt;/del&gt;&lt;/a&gt;, &lt;br/&gt;
during my test I just find another small bug--the HRegionServer.stop is called twice, the fix looks simple as well, but I better study the related code first..&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


&lt;p&gt;the first time:&lt;br/&gt;
HRegionServer.run:&lt;br/&gt;
          } else if (this.stopping) {&lt;br/&gt;
            boolean allUserRegionsOffline = areAllUserRegionsOffline();&lt;br/&gt;
            if (allUserRegionsOffline) {&lt;br/&gt;
              // Set stopped if no requests since last time we went around the loop.&lt;br/&gt;
              // The remaining meta regions will be closed on our way out.&lt;br/&gt;
              if (oldRequestCount == this.requestCount.get()) &lt;/p&gt;
{
                stop(&quot;Stopped; only catalog regions remaining online&quot;);
                break;
              }


&lt;p&gt;the second time in shutdown hook:&lt;br/&gt;
       at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.shutdown(CoprocessorHost.java:273)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.RegionServerCoprocessorHost.preStop(RegionServerCoproces&lt;br/&gt;
sorHost.java:63)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.stop(HRegionServer.java:1680)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.ShutdownHook$ShutdownHookThread.run(ShutdownHook.java:114)&lt;br/&gt;
        at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)&lt;br/&gt;
2014-04-29 18:56:02,617 WARN org.apache.hadoop.hbase.coprocessor.CoprocessorHost: Not stopping coprocess&lt;br/&gt;
or org.apache.hadoop.hbase.jmxAgent because not active (state=STOPPED)&lt;br/&gt;
2014-04-29 18:56:02,617 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: STOPPED: Shutdown hook&lt;br/&gt;
2014-04-29 18:56:02,617 INFO org.apache.hadoop.hbase.regionserver.ShutdownHook: Starting fs shutdown hoo&lt;br/&gt;
k thread.&lt;/p&gt;</comment>
                            <comment id="13985250" author="tianq" created="Wed, 30 Apr 2014 07:47:04 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;br/&gt;
1)For MasterCoprocessorHost, I can see preShutdown is called in my test, not sure how preStopMaster is called(looks command invocation via RPC?)&lt;br/&gt;
2)HRegionServer.stop change is for the bug mentioned above. &lt;/p&gt;

&lt;p&gt;will upload other patches after review.&lt;/p&gt;

&lt;p&gt;thanks!&lt;/p&gt;</comment>
                            <comment id="13985271" author="tianq" created="Wed, 30 Apr 2014 08:28:17 +0000"  >&lt;p&gt;oops...just notice the &quot;stop coprocessor..&quot; message is logged per-region for &quot;hbase.coprocessor.region.classes&quot; coprocessor. need to be lower level or removed...&lt;/p&gt;</comment>
                            <comment id="13985304" author="hadoopqa" created="Wed, 30 Apr 2014 09:15:39 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12642609/HBASE-11096-trunk-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12642609/HBASE-11096-trunk-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12642609&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.snapshot.TestFlushSnapshotFromClient&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9431//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13985338" author="tianq" created="Wed, 30 Apr 2014 10:00:03 +0000"  >&lt;p&gt;Hi, &lt;br/&gt;
I ran the regression test by &quot;mvn clean package &quot;, 1 test did fail...but without the fix it failed either..:&lt;br/&gt;
Failed tests:   testNativeSizes(org.apache.hadoop.hbase.io.TestHeapSize): expected:&amp;lt;64&amp;gt; but was:&amp;lt;56&amp;gt;&lt;br/&gt;
Tests in error: &lt;br/&gt;
  org.apache.hadoop.hbase.procedure.TestProcedureManager: org/apache/hadoop/io/nativeio/SharedFileDescriptorFactory.createDescriptor0(Ljava/lang/String;Ljava/lang/String;I)Ljava/io/FileDescriptor;&lt;/p&gt;


&lt;p&gt;but I did not see result file of TestFlushSnapshotFromClient ...&lt;br/&gt;
I also tried &quot;mvn test&quot;, did I miss something?&lt;/p&gt;

&lt;p&gt;thanks!&lt;/p&gt;
</comment>
                            <comment id="13985640" author="nidmhbase" created="Wed, 30 Apr 2014 15:43:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tianq&quot; class=&quot;user-hover&quot; rel=&quot;tianq&quot;&gt;Qiang Tian&lt;/a&gt;, I can&apos;t figure out the direct relationship between the patch and the UT failure, either. The test results seems removed from server already. so I resubmitted the same patch to go through HadoopQA one more time.... Demai&lt;/p&gt;</comment>
                            <comment id="13985846" author="apurtell" created="Wed, 30 Apr 2014 18:02:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;Failed tests: testNativeSizes&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Non Oracle JVM? Anyway this will be unrelated to this patch. &lt;/p&gt;

&lt;p&gt;Please log at debug level and add a check for if debug logging is enabled (skips string formatting costs if not), e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LOG.isDebugEnabled()) {
    LOG.debug(...)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If possible please add or modify a unit test to confirm the stop method is invoked. &lt;/p&gt;</comment>
                            <comment id="13985855" author="hadoopqa" created="Wed, 30 Apr 2014 18:08:33 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12642660/HBASE-11096-trunk-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12642660/HBASE-11096-trunk-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12642660&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9433//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13986473" author="tianq" created="Thu, 1 May 2014 10:06:10 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;br/&gt;
I took a look at current testcase, there is a TestMasterObserver.wasStopped method, but it is not called --it looks there is no good place to test it due to the scenario.. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10289&quot; title=&quot;Avoid random port usage by default JMX Server. Create Custome JMX server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10289&quot;&gt;&lt;del&gt;HBASE-10289&lt;/del&gt;&lt;/a&gt; is a better place, it will cover the stop test naturally.&lt;br/&gt;
please let me know if it is acceptable.&lt;br/&gt;
thanks.&lt;/p&gt;</comment>
                            <comment id="13988881" author="apurtell" created="Sun, 4 May 2014 00:59:10 +0000"  >&lt;p&gt;We should have a quick and simple unit test for this issue. It&apos;s no problem to add a new one rather than change an existing test.&lt;/p&gt;</comment>
                            <comment id="13992553" author="tianq" created="Thu, 8 May 2014 06:48:16 +0000"  >&lt;p&gt;adding testcase for stop method test.&lt;/p&gt;</comment>
                            <comment id="13992587" author="tianq" created="Thu, 8 May 2014 08:05:20 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;/p&gt;

&lt;p&gt;happen to find another new bug...&lt;/p&gt;

&lt;p&gt;it looks 0.99 is in BIG refactoring... HRegionServer becomes the base class of HMaster, for coprocessor stuff, since they share the same run method,  the master will call coprocessor twice.&lt;/p&gt;

&lt;p&gt;see below example logs, one is for real regionserver, the other is for the regionserver code path in master, &lt;/p&gt;


&lt;p&gt;2014-05-08 00:33:51,632 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;M:0;bdvm135:36021&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(66): st&lt;br/&gt;
art coprocessor on regionserver&lt;/p&gt;

&lt;p&gt;2014-05-08 00:33:51,633 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;RS:0;bdvm135:47513&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(66): s&lt;br/&gt;
tart coprocessor on regionserver&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
2014-05-08 00:34:03,166 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1624): call stack of stop&lt;br/&gt;
java.io.IOException&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.stop(HRegionServer.java:1624)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.ServerManager.shutdownCluster(ServerManager.java:975)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.HMaster.shutdown(HMaster.java:1623)&lt;br/&gt;
        at org.apache.hadoop.hbase.util.JVMClusterUtil.shutdown(JVMClusterUtil.java:256)&lt;br/&gt;
        at org.apache.hadoop.hbase.LocalHBaseCluster.shutdown(LocalHBaseCluster.java:437)&lt;br/&gt;
        at org.apache.hadoop.hbase.MiniHBaseCluster.shutdown(MiniHBaseCluster.java:519)&lt;br/&gt;
        at org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop.testStopped(TestCoprocessorStop.java:&lt;br/&gt;
114)&lt;br/&gt;
...&lt;br/&gt;
2014-05-08 00:34:03,215 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1629): rsHost code path called&lt;/p&gt;

&lt;p&gt;2014-05-08 00:34:03,228 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.CoprocessorHost(258): Stop coprocessor org.apache.hadoo&lt;br/&gt;
p.hbase.coprocessor.TestCoprocessorStop$FooCoprocessor&lt;br/&gt;
2014-05-08 00:34:03,462 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(88): create file hdf&lt;br/&gt;
s://localhost:8155/user/tianq/test-data/f0c9423c-e505-4feb-907e-c7bd6e16545b/regionserver1399534399680 r&lt;br/&gt;
eturn rc true&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;2014-05-08 00:34:03,482 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1624): call stack of stop&lt;br/&gt;
java.io.IOException&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.stop(HRegionServer.java:1624)&lt;br/&gt;
        at org.apache.hadoop.hbase.util.JVMClusterUtil.shutdown(JVMClusterUtil.java:264)&lt;br/&gt;
        at org.apache.hadoop.hbase.LocalHBaseCluster.shutdown(LocalHBaseCluster.java:437)&lt;br/&gt;
        at org.apache.hadoop.hbase.MiniHBaseCluster.shutdown(MiniHBaseCluster.java:519)&lt;br/&gt;
        at org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop.testStopped(TestCoprocessorStop.java:&lt;br/&gt;
114)&lt;br/&gt;
2014-05-08 00:34:03,485 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; regionserver.HRegionServer(1629): rsHost code path called&lt;/p&gt;

&lt;p&gt;2014-05-08 00:34:03,485 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.CoprocessorHost(258): Stop coprocessor org.apache.hadoo&lt;br/&gt;
p.hbase.coprocessor.TestCoprocessorStop$FooCoprocessor&lt;br/&gt;
2014-05-08 00:34:03,493 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; coprocessor.TestCoprocessorStop$FooCoprocessor(88): create file hdf&lt;br/&gt;
s://localhost:8155/user/tianq/test-data/f0c9423c-e505-4feb-907e-c7bd6e16545b/regionserver1399534399680 r&lt;br/&gt;
eturn rc false&lt;/p&gt;

</comment>
                            <comment id="13992777" author="hadoopqa" created="Thu, 8 May 2014 14:13:59 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12643918/HBASE-11096-trunk-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12643918/HBASE-11096-trunk-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12643918&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestTableMapReduceBase.testMultiRegionTable(TestTableMapReduceBase.java:96)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9483//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13995235" author="yuzhihong@gmail.com" created="Mon, 12 May 2014 16:53:03 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;on RegionCoprocessorEnvironment!!&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(
+            &lt;span class=&quot;code-quote&quot;&gt;&quot;in RegionCoprocessorEnvironment&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is your intention of creating IOException just for record keeping ?&lt;br/&gt;
Looks like IOException doesn&apos;t have to be created.&lt;/p&gt;</comment>
                            <comment id="13996228" author="tianq" created="Tue, 13 May 2014 09:52:06 +0000"  >&lt;p&gt;Thanks Ted&apos;s comment. sure, will remove it.&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;,&lt;br/&gt;
Regarding &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11146&quot; title=&quot;HMaster instantiates both MasterCoprocessorHost and RegionServerCoprocessorHost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11146&quot;&gt;&lt;del&gt;HBASE-11146&lt;/del&gt;&lt;/a&gt;, after studying &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10569&quot; title=&quot;Co-locate meta and master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10569&quot;&gt;&lt;del&gt;HBASE-10569&lt;/del&gt;&lt;/a&gt; and the code, it is by design. &lt;br/&gt;
my concern is that, although master is also a regionserver, but from user&apos;s perspective master is still of a &apos;master role&apos;, so if they deploy master coprocessor and regionserver coprocessor on master and regionserver respectively, they might not want to see 2 coprocessors created on master, in which case the master coprocessor and regionserver coprocessor might have potential conflict.  --I just see we remove the master infoserver, and redirect the request to regionserver infoserver in 0.99. maybe we could follow similar way? i.e. disable RegionServerCoprocessorHost on master.&lt;/p&gt;

&lt;p&gt;Could you please let me know your thoughts?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
Qiang&lt;/p&gt;</comment>
                            <comment id="13999677" author="tianq" created="Fri, 16 May 2014 08:03:32 +0000"  >&lt;p&gt;Hi Guys,&lt;br/&gt;
update and upload the patches for other branches.(mvn test passed)&lt;br/&gt;
thanks.&lt;/p&gt;</comment>
                            <comment id="14000396" author="hadoopqa" created="Fri, 16 May 2014 22:11:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12645196/HBASE-11096-0.94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12645196/HBASE-11096-0.94.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12645196&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9525//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9525//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14001005" author="lhofhansl" created="Sun, 18 May 2014 05:36:47 +0000"  >&lt;p&gt;Looked at the 0.94 patch. +1 for 0.94.&lt;/p&gt;</comment>
                            <comment id="14001345" author="tianq" created="Mon, 19 May 2014 02:26:32 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, is it OK for trunk?&lt;br/&gt;
thanks!&lt;/p&gt;</comment>
                            <comment id="14002135" author="apurtell" created="Mon, 19 May 2014 18:33:12 +0000"  >&lt;p&gt;lgtm, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tianq&quot; class=&quot;user-hover&quot; rel=&quot;tianq&quot;&gt;Qiang Tian&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Will commit this to 0.94+ later today unless objection. Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; - heads up on small change to 0.96 needed to avoid minor weirdness if we skip that version. &lt;/p&gt;</comment>
                            <comment id="14002337" author="stack" created="Mon, 19 May 2014 20:30:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; You have my blessing&lt;/p&gt;</comment>
                            <comment id="14002609" author="apurtell" created="Tue, 20 May 2014 00:01:49 +0000"  >&lt;p&gt;I applied patch v3 to trunk and ran the coprocessor unit tests locally. The new test TestCoprocessorStop failed:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Test set: org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 29.904 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testStopped(org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop)  Time elapsed: 1.326 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: Master flag file should have been created&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.junit.Assert.assertTrue(Assert.java:41)&lt;br/&gt;
	at org.apache.hadoop.hbase.coprocessor.TestCoprocessorStop.testStopped(TestCoprocessorStop.java:120)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14002717" author="tianq" created="Tue, 20 May 2014 02:27:25 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;br/&gt;
I ran &quot;mvn test -Dtest=org.apache.hadoop.hbase.coprocessor.*&quot; several times...all good.&lt;br/&gt;
Could you paste the full log file?&lt;br/&gt;
thanks.&lt;/p&gt;</comment>
                            <comment id="14006332" author="lhofhansl" created="Thu, 22 May 2014 19:01:27 +0000"  >&lt;p&gt;Lemme push to 0.94.21, so that I can get an RC out.&lt;/p&gt;</comment>
                            <comment id="14006769" author="tianq" created="Fri, 23 May 2014 04:01:44 +0000"  >&lt;p&gt;local test fine...kick off test again.&lt;/p&gt;</comment>
                            <comment id="14007577" author="apurtell" created="Fri, 23 May 2014 19:32:16 +0000"  >&lt;p&gt;I applied the patch at &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12646444/HBASE-11096-trunk-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12646444/HBASE-11096-trunk-v3.patch&lt;/a&gt; (dated &quot;yesterday&quot; by JIRA) to the latest trunk, and TestCoprocessorStop#testStopped failed. There was no output captured to the -output.txt file in target/surefire-reports/ but I ran the test without redirection and piped the console to a file, attached as &apos;TestCoprocessorStop-failed-output.txt&apos;. &lt;/p&gt;</comment>
                            <comment id="14007578" author="apurtell" created="Fri, 23 May 2014 19:32:50 +0000"  >&lt;p&gt;Moved to 0.98.4&lt;/p&gt;</comment>
                            <comment id="14008311" author="tianq" created="Sun, 25 May 2014 10:43:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;br/&gt;
it looks the shutdown method is not called..could you please check if the patch apply to the MasterCoprocessorHost.java correctly? I just run command &quot;patch -p0&amp;lt; ../backup/&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt;-trunk-v3.patch&quot; to trunk, and the change is not applied correctly.     &lt;/p&gt;

&lt;p&gt;ps when I firstly saw your update on 20/5, I merged the code with latest code using &quot;git merge&quot; command and the test running fine. &lt;br/&gt;
today I used &quot;git rebase&quot; command to merge my local branch with the latest code (since you recommended rebase in mailing list), and I got the error ---after investigation the MasterCoprocessorHost.java was not merged correctly..  &lt;/p&gt;

&lt;p&gt;I did a search, it looks git rebase uses patch command to do the final merge. so if patch does not work correctly, the rebase will fail too...&lt;/p&gt;

&lt;p&gt;pps..this is my second time to see patch command fails...Did I use wrong option?&lt;/p&gt;

</comment>
                            <comment id="14008680" author="tianq" created="Mon, 26 May 2014 09:01:46 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;,&lt;br/&gt;
it looks the code base changed much since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt;-trunk-v3.patch was uploaded, so that the merge against latest trunk fails to pick up the fix correctly(but without reporting any error).&lt;br/&gt;
I create a new patch based on the latest code base I can see:&lt;br/&gt;
Author: Ramkrishna &amp;lt;ramkrishna.s.vasudevan@intel.com&amp;gt;&lt;br/&gt;
Date:   Mon May 26 11:47:04 2014 +0530&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11251&quot; title=&quot;LoadTestTool should grant READ permission for the users that are given READ access for specific cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11251&quot;&gt;&lt;del&gt;HBASE-11251&lt;/del&gt;&lt;/a&gt;-LoadTestTool should grant READ permission for the users that&lt;br/&gt;
    are given READ access for specific cells (Ram)&lt;/p&gt;

&lt;p&gt;local test &quot;mvn test -Dtest=org.apache.hadoop.hbase.coprocessor.*&quot; passed&lt;br/&gt;
thanks.&lt;/p&gt;</comment>
                            <comment id="14008728" author="hadoopqa" created="Mon, 26 May 2014 10:34:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12646762/HBASE-11096-trunk-v3.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12646762/HBASE-11096-trunk-v3.1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12646762&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 31 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestTableLockManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9586//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14008993" author="apurtell" created="Mon, 26 May 2014 18:17:52 +0000"  >&lt;p&gt;The failure in TestTableLockManager is being fixed on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11251&quot; title=&quot;LoadTestTool should grant READ permission for the users that are given READ access for specific cells&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11251&quot;&gt;&lt;del&gt;HBASE-11251&lt;/del&gt;&lt;/a&gt; and is not related to this change.&lt;/p&gt;</comment>
                            <comment id="14009007" author="apurtell" created="Mon, 26 May 2014 18:37:58 +0000"  >&lt;p&gt;Thanks for seeing this through. The latest trunk patch tests ok. Also applied and checked the 0.98 patch and that looks good too. Going to commit both in a few minutes. Looks like we will skip applying this to 0.96. Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; for 0.94. &lt;/p&gt;</comment>
                            <comment id="14009011" author="apurtell" created="Mon, 26 May 2014 18:41:12 +0000"  >&lt;p&gt;Resolving to include in 0.98.3 change log&lt;/p&gt;</comment>
                            <comment id="14009123" author="hudson" created="Mon, 26 May 2014 23:11:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #5141 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5141/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5141/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt; stop method of Master and RegionServer coprocessor is not invoked (Qiang Tian) (apurtell: rev 8e2a8cc0a8c3ca84c7f44bcb7c1ab661681a5e99)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorStop.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14009129" author="hudson" created="Mon, 26 May 2014 23:20:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #315 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/315/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/315/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt; stop method of Master and RegionServer coprocessor is not invoked (Qiang Tian) (apurtell: rev 4a075c781e03ac6d89e8b311b66ae217370674ca)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorStop.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14009137" author="hudson" created="Mon, 26 May 2014 23:26:55 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #296 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/296/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/296/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt; stop method of Master and RegionServer coprocessor is not invoked (Qiang Tian) (apurtell: rev 4a075c781e03ac6d89e8b311b66ae217370674ca)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorStop.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14009274" author="lhofhansl" created="Tue, 27 May 2014 04:54:01 +0000"  >&lt;p&gt;+1 for 0.94.&lt;/p&gt;</comment>
                            <comment id="14009894" author="apurtell" created="Tue, 27 May 2014 16:56:35 +0000"  >&lt;p&gt;Committed to 0.94.&lt;/p&gt;</comment>
                            <comment id="14010072" author="hudson" created="Tue, 27 May 2014 18:34:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #487 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/487/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/487/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt; stop method of Master and RegionServer coprocessor is not invoked (Qiang Tian) (apurtell: rev 6ed3d0770202a497e9884d0347efa46121dc2808)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorStop.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14010150" author="hudson" created="Tue, 27 May 2014 19:14:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #139 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/139/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/139/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt; stop method of Master and RegionServer coprocessor is not invoked (Qiang Tian) (apurtell: rev 6ed3d0770202a497e9884d0347efa46121dc2808)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorStop.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14010176" author="hudson" created="Tue, 27 May 2014 19:34:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1371 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1371/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1371/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11096&quot; title=&quot;stop method of Master and RegionServer coprocessor  is not invoked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11096&quot;&gt;&lt;del&gt;HBASE-11096&lt;/del&gt;&lt;/a&gt; stop method of Master and RegionServer coprocessor is not invoked (Qiang Tian) (apurtell: rev 6ed3d0770202a497e9884d0347efa46121dc2808)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/CoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorStop.java&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12713302">HBASE-11146</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12687676">HBASE-10289</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12645196" name="HBASE-11096-0.94.patch" size="8089" author="tianq" created="Fri, 16 May 2014 07:48:43 +0000"/>
                            <attachment id="12645195" name="HBASE-11096-0.96.patch" size="8504" author="tianq" created="Fri, 16 May 2014 07:48:43 +0000"/>
                            <attachment id="12645194" name="HBASE-11096-0.98.patch" size="8372" author="tianq" created="Fri, 16 May 2014 07:48:43 +0000"/>
                            <attachment id="12642660" name="HBASE-11096-trunk-v0.patch" size="3320" author="nidmhbase" created="Wed, 30 Apr 2014 15:43:59 +0000"/>
                            <attachment id="12642609" name="HBASE-11096-trunk-v0.patch" size="3320" author="tianq" created="Wed, 30 Apr 2014 07:22:16 +0000"/>
                            <attachment id="12642819" name="HBASE-11096-trunk-v1.patch" size="3367" author="tianq" created="Thu, 1 May 2014 09:39:01 +0000"/>
                            <attachment id="12643918" name="HBASE-11096-trunk-v2.patch" size="8479" author="tianq" created="Thu, 8 May 2014 06:48:16 +0000"/>
                            <attachment id="12646762" name="HBASE-11096-trunk-v3.1.patch" size="8342" author="tianq" created="Mon, 26 May 2014 08:55:14 +0000"/>
                            <attachment id="12646444" name="HBASE-11096-trunk-v3.patch" size="8342" author="tianq" created="Fri, 23 May 2014 04:01:44 +0000"/>
                            <attachment id="12645193" name="HBASE-11096-trunk-v3.patch" size="8342" author="tianq" created="Fri, 16 May 2014 07:48:43 +0000"/>
                            <attachment id="12646574" name="TestCoprocessorStop-failed-output.txt" size="123879" author="apurtell" created="Fri, 23 May 2014 19:32:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Apr 2014 01:30:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>389452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1v307:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>389694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>