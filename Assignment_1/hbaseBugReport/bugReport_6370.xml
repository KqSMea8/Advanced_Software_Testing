<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:36:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6370/HBASE-6370.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6370] Add compression codec test at HMaster when createTable/modifyColumn/modifyTable</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6370</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We deployed a cluster that none of the regionserver supports the compression codec such like &quot;lzo&quot;, but the cluster user/client does not know this, and he specifies the family&apos;s compression codec by HColumnDescripto.setCompressionType(Compresson.Algorithm.LZO);&lt;/p&gt;

&lt;p&gt;Because the HBaseAdmin&apos;s createTable is async, so the client is waiting all the regions of the table to be online forever. And client does not know why the regions are not online until the HBase administrator find this problem.&lt;/p&gt;

&lt;p&gt;In deed, all of the regions are assigning by master, but regionserver&apos;s openHRegion always failed.&lt;/p&gt;

&lt;p&gt;In my option, we can suppose all the cluster&apos;s enviroment are the same, means if the master is deployed some lib, the regionserver should also be deployed. &lt;/p&gt;

&lt;p&gt;Of course above is just a suppose&#65292; in real deployment, the hbase dba may just deploy lib on regionserver or master.&lt;/p&gt;

&lt;p&gt;So I think this failure can be found earlier before master create the CreateTableHandler thread, and we can tell client quickly we didn&apos;t support this compression codec type.&lt;/p&gt;

&lt;p&gt;I will upload the patch later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598316">HBASE-6370</key>
            <summary>Add compression codec test at HMaster when createTable/modifyColumn/modifyTable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xingshi">ShiXing</assignee>
                                    <reporter username="xingshi">ShiXing</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 04:13:53 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:34 +0000</updated>
                            <resolved>Fri, 13 Jul 2012 07:24:36 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13411317" author="xingshi" created="Wed, 11 Jul 2012 08:22:13 +0000"  >&lt;p&gt;Use the already exists unit test through the HBaseAdmin&apos;s.&lt;/p&gt;</comment>
                            <comment id="13411470" author="stack" created="Wed, 11 Jul 2012 13:18:32 +0000"  >&lt;p&gt;@ShiXing This is a good idea.  I think you should be able to disable the master check though.  What do you think?  Maybe the install is not the same on all nodes on the cluster.  Can you add a configuration to disable the master check (it doesn&apos;t have to be in hbase-default.xml I&apos;d say).  If you think this extreme, push back.&lt;/p&gt;</comment>
                            <comment id="13412543" author="xingshi" created="Thu, 12 Jul 2012 06:11:42 +0000"  >&lt;p&gt;Yes, I think the configuration is more acceptable for heterogeneous environment between master and regionservers.&lt;/p&gt;

&lt;p&gt;I set the configuration base.master.check.compression default true.&lt;/p&gt;</comment>
                            <comment id="13412831" author="stack" created="Thu, 12 Jul 2012 14:24:10 +0000"  >&lt;p&gt;How about this ShiXing?  It removes duplicated code?&lt;/p&gt;</comment>
                            <comment id="13412870" author="hadoopqa" created="Thu, 12 Jul 2012 15:20:16 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12536226/6370v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12536226/6370v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop2.0.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 5 javac compiler warnings (more than the trunk&apos;s current 4 warnings).&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 8 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2369//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13413452" author="xingshi" created="Fri, 13 Jul 2012 02:59:33 +0000"  >&lt;p&gt;The v3 looks nice, runAllTests passed on my server.&lt;/p&gt;</comment>
                            <comment id="13413454" author="hadoopqa" created="Fri, 13 Jul 2012 03:03:20 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12536326/runAllTests.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12536326/runAllTests.out&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2378//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2378//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13413541" author="stack" created="Fri, 13 Jul 2012 07:24:36 +0000"  >&lt;p&gt;Committed to trunk.  Thanks for the patch ShiXing.&lt;/p&gt;</comment>
                            <comment id="13413587" author="hudson" created="Fri, 13 Jul 2012 08:41:22 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3124 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3124/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3124/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6370&quot; title=&quot;Add compression codec test at HMaster when createTable/modifyColumn/modifyTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6370&quot;&gt;&lt;del&gt;HBASE-6370&lt;/del&gt;&lt;/a&gt; Add compression codec test at HMaster when createTable/modifyColumn/modifyTable (Revision 1361058)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13413675" author="hudson" created="Fri, 13 Jul 2012 11:43:12 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #92 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/92/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/92/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6370&quot; title=&quot;Add compression codec test at HMaster when createTable/modifyColumn/modifyTable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6370&quot;&gt;&lt;del&gt;HBASE-6370&lt;/del&gt;&lt;/a&gt; Add compression codec test at HMaster when createTable/modifyColumn/modifyTable (Revision 1361058)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775024" author="stack" created="Mon, 23 Sep 2013 18:30:34 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12536226" name="6370v3.txt" size="2873" author="stack" created="Thu, 12 Jul 2012 14:24:10 +0000"/>
                            <attachment id="12535995" name="HBASE-6370-trunk-V1.patch" size="1952" author="xingshi" created="Wed, 11 Jul 2012 08:22:13 +0000"/>
                            <attachment id="12536177" name="HBASE-6370-trunk-V2.patch" size="2838" author="xingshi" created="Thu, 12 Jul 2012 06:11:42 +0000"/>
                            <attachment id="12536326" name="runAllTests.out" size="64298" author="xingshi" created="Fri, 13 Jul 2012 02:59:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jul 2012 13:18:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0huw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>