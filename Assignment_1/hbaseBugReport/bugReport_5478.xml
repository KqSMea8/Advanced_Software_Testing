<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:28:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5478/HBASE-5478.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5478] [0.92] TestMetaReaderEditor intermittently hangs</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5478</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From 0.92 build #304:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.catalog.TestMetaReaderEditor
Running org.apache.hadoop.hbase.catalog.TestCatalogTrackerOnCluster
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 149.104 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12544122">HBASE-5478</key>
            <summary>[0.92] TestMetaReaderEditor intermittently hangs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="zhihyu@ebaysf.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Feb 2012 15:11:23 +0000</created>
                <updated>Thu, 8 Aug 2013 22:12:32 +0000</updated>
                            <resolved>Thu, 8 Aug 2013 22:12:32 +0000</resolved>
                                    <version>0.92.1</version>
                                    <fixVersion>0.92.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13216655" author="zhihyu@ebaysf.com" created="Sun, 26 Feb 2012 07:11:37 +0000"  >&lt;p&gt;From the log, we can see that testScanMetaForTable() wasn&apos;t able to create table:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-02-25 01:51:47,262 FATAL [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-258] regionserver.HRegionServer(1544): ABORTING region server janus.apache.org,50277,1330134696463: Aborting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tests
java.lang.Exception: Trace info
	at org.apache.hadoop.hbase.MiniHBaseCluster.abortRegionServer(MiniHBaseCluster.java:237)
	at org.apache.hadoop.hbase.catalog.TestMetaReaderEditor.testRetrying(TestMetaReaderEditor.java:138)
...
2012-02-25 01:58:17,615 INFO  [reader] catalog.TestMetaReaderEditor$MetaTask(174): reader failed
org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=10, exceptions:
Sat Feb 25 01:51:47 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.regionserver.RegionServerStoppedException: org.apache.hadoop.hbase.regionserver.RegionServerStoppedException: Server janus.apache.org,50277,1330134696463 not running, aborting
	at org.apache.hadoop.hbase.regionserver.HRegionServer.checkOpen(HRegionServer.java:2867)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.get(HRegionServer.java:1781)
	at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:364)
	at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1326)

Sat Feb 25 01:52:27 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:53:07 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:53:47 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:54:28 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:55:09 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:55:52 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:56:35 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:57:22 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1
Sat Feb 25 01:58:17 UTC 2012, org.apache.hadoop.hbase.client.HTable$5@1ba92bb, org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed setting up proxy &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.ipc.HRegionInterface to janus.apache.org/67.195.138.60:41354 after attempts=1

	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getRegionServerWithRetries(HConnectionManager.java:1345)
	at org.apache.hadoop.hbase.client.HTable.get(HTable.java:657)
	at org.apache.hadoop.hbase.catalog.MetaReader.get(MetaReader.java:247)
	at org.apache.hadoop.hbase.catalog.MetaReader.getRegion(MetaReader.java:349)
	at org.apache.hadoop.hbase.catalog.TestMetaReaderEditor.testGetRegion(TestMetaReaderEditor.java:286)
	at org.apache.hadoop.hbase.catalog.TestMetaReaderEditor.access$100(TestMetaReaderEditor.java:52)
	at org.apache.hadoop.hbase.catalog.TestMetaReaderEditor$2.metaTask(TestMetaReaderEditor.java:113)
	at org.apache.hadoop.hbase.catalog.TestMetaReaderEditor$MetaTask.run(TestMetaReaderEditor.java:168)
2012-02-25 01:58:20,873 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,50154,1330134696278-0] zookeeper.ZKUtil(1117): hconnection-0x135b234bf520005 Retrieved 36 &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;(s) of data from znode /hbase/root-region-server and set watcher; janus.apache.org,41354,133013...

2012-02-25 01:58:20,873 DEBUG [MASTER_SERVER_OPERATIONS-janus.apache.org,50154,1330134696278-0] client.HConnectionManager$HConnectionImplementation(804): Lookedup root region location, connection=org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation@19a68ee; serverName=janus.apache.org,41354,1330134696435

2012-02-25 01:58:21,670 WARN  [main] client.HBaseAdmin(364): Creating testScanMetaForTable took too &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;
java.net.SocketTimeoutException: Call to janus.apache.org/67.195.138.60:50154 failed on socket timeout exception: java.net.SocketTimeoutException: 60000 millis timeout &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; channel to be ready &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; read. ch : java.nio.channels.SocketChannel[connected local=/67.195.138.60:49542 remote=janus.apache.org/67.195.138.60:50154]
	at org.apache.hadoop.hbase.ipc.HBaseClient.wrapException(HBaseClient.java:930)
	at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:903)
	at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Invoker.invoke(WritableRpcEngine.java:150)
	at $Proxy21.createTable(Unknown Source)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTableAsync(HBaseAdmin.java:453)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTable(HBaseAdmin.java:362)
	at org.apache.hadoop.hbase.client.HBaseAdmin.createTable(HBaseAdmin.java:300)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createTable(HBaseTestingUtility.java:689)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createTable(HBaseTestingUtility.java:669)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createTable(HBaseTestingUtility.java:657)
	at org.apache.hadoop.hbase.catalog.TestMetaReaderEditor.testScanMetaForTable(TestMetaReaderEditor.java:254)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The abortion was due to this call in testRetrying():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      UTIL.getMiniHBaseCluster().abortRegionServer(index);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13732812" author="apurtell" created="Wed, 7 Aug 2013 22:00:09 +0000"  >&lt;p&gt;Testing a backport of related patch &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5114&quot; title=&quot;TestMetaReaderEditor can timeout during test execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5114&quot;&gt;&lt;del&gt;HBASE-5114&lt;/del&gt;&lt;/a&gt; as first step, now running 100 iterations of TestMetaReaderEditor.&lt;/p&gt;</comment>
                            <comment id="13733878" author="apurtell" created="Thu, 8 Aug 2013 19:31:11 +0000"  >&lt;p&gt;After patching 0.92 with &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5114&quot; title=&quot;TestMetaReaderEditor can timeout during test execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5114&quot;&gt;&lt;del&gt;HBASE-5114&lt;/del&gt;&lt;/a&gt; I also observe no more failures or hangs of TestMetaReaderEditor after 200 local invocations or 5 more runs up on EC2 jenkins. Going to commit and resolve.&lt;/p&gt;</comment>
                            <comment id="13734082" author="apurtell" created="Thu, 8 Aug 2013 22:12:32 +0000"  >&lt;p&gt;Committed to 0.92 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Aug 2013 22:00:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02d5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>