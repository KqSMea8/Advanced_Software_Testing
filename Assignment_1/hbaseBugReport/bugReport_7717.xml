<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:48:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7717/HBASE-7717.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7717] Wait until regions are assigned in TestSplitTransactionOnCluster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7717</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;ve seen various failures where a table is created in the tests and then all regions are retrieved from the cluster, where the number of returned regions is 0, because the region have not been assigned, yet, or the AM does not know about them, yet.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629851">HBASE-7717</key>
            <summary>Wait until regions are assigned in TestSplitTransactionOnCluster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jan 2013 07:57:15 +0000</created>
                <updated>Tue, 26 Feb 2013 08:27:25 +0000</updated>
                            <resolved>Thu, 31 Jan 2013 04:55:24 +0000</resolved>
                                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13566857" author="lhofhansl" created="Wed, 30 Jan 2013 20:06:07 +0000"  >&lt;p&gt;Simple 0.94 patch.&lt;br/&gt;
Uses HBaseTestingUtility.createTable where it makes sense (that also creates an HTable, which will locate the regions, and hence wait).&lt;br/&gt;
In the other cases I added a loop to wait for the region to become online.&lt;br/&gt;
Also close some HTable instances.&lt;/p&gt;

&lt;p&gt;This is an uncontentious test-only change, will commit soon, unless I hear objections.&lt;/p&gt;

&lt;p&gt;(I hope this is the last change that has to be done to TestSplitTransactionOnCluster)&lt;/p&gt;</comment>
                            <comment id="13566901" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 21:08:43 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; cluster.getRegions(tableName).size() == 0 &amp;amp;&amp;amp; i&amp;lt;100; i++) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;nit: add spaces to &apos;i=0&apos; and &apos;i&amp;lt;100&apos;&lt;/p&gt;

&lt;p&gt;On second iteration, I got:&lt;/p&gt;

&lt;p&gt;Failed tests:   testShouldFailSplitIfZNodeDoesNotExistDueToPrevRollBack(org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster): Waited too long for rollback&lt;/p&gt;</comment>
                            <comment id="13566975" author="lhofhansl" created="Wed, 30 Jan 2013 22:16:10 +0000"  >&lt;p&gt;Thanks Ted. Will add the spaces and look at the failure.&lt;/p&gt;</comment>
                            <comment id="13566976" author="jesse_yates" created="Wed, 30 Jan 2013 22:16:26 +0000"  >&lt;p&gt;+1, with Ted&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13566981" author="lhofhansl" created="Wed, 30 Jan 2013 22:19:13 +0000"  >&lt;p&gt;Hmm, dunno what the failure is. It&apos;s already waiting for 10s there.&lt;/p&gt;</comment>
                            <comment id="13566982" author="lhofhansl" created="Wed, 30 Jan 2013 22:19:50 +0000"  >&lt;p&gt;Same with whitespace fixes&lt;/p&gt;</comment>
                            <comment id="13566990" author="lhofhansl" created="Wed, 30 Jan 2013 22:21:56 +0000"  >&lt;p&gt;Possibly the 3 booleans secondSplit, callRollback, firstSplitCompleted should be volatile, because they&apos;re read from/written to from different threads. (Not that that should lead to a value stale for a whole 10s, but anyway)&lt;/p&gt;</comment>
                            <comment id="13566992" author="lhofhansl" created="Wed, 30 Jan 2013 22:22:47 +0000"  >&lt;p&gt;Same with boolean declared as volatile&lt;/p&gt;</comment>
                            <comment id="13567008" author="lhofhansl" created="Wed, 30 Jan 2013 22:32:48 +0000"  >&lt;p&gt;What I am going to commit.&lt;/p&gt;</comment>
                            <comment id="13567011" author="lhofhansl" created="Wed, 30 Jan 2013 22:33:17 +0000"  >&lt;p&gt;Ran the test a few times, passes. If anything this change won&apos;t make things worse.&lt;/p&gt;</comment>
                            <comment id="13567013" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 22:34:38 +0000"  >&lt;p&gt;I got the following with patch v2:&lt;/p&gt;

&lt;p&gt;Failed tests:   testShouldFailSplitIfZNodeDoesNotExistDueToPrevRollBack(org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster): Waited too long for rollback&lt;/p&gt;</comment>
                            <comment id="13567016" author="lhofhansl" created="Wed, 30 Jan 2013 22:38:53 +0000"  >&lt;p&gt;How often do you have to loop the test? And just this one test?&lt;/p&gt;</comment>
                            <comment id="13567018" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 22:40:23 +0000"  >&lt;p&gt;I looped TestSplitTransactionOnCluster.&lt;br/&gt;
That particular test failed on second iteration.&lt;/p&gt;</comment>
                            <comment id="13567045" author="lhofhansl" created="Wed, 30 Jan 2013 23:11:47 +0000"  >&lt;p&gt;OK... Will loop some more too. Any objections to the patch so far? Should make things better.&lt;/p&gt;</comment>
                            <comment id="13567066" author="lhofhansl" created="Wed, 30 Jan 2013 23:26:22 +0000"  >&lt;p&gt;Looped it 12 times. Did not fail, yet.&lt;/p&gt;</comment>
                            <comment id="13567074" author="lhofhansl" created="Wed, 30 Jan 2013 23:28:54 +0000"  >&lt;p&gt;Can you still get it to fail if you increase the timeout (it loops 100 times for 100ms, i.e. 10s)? Could you double that and see whether it still fails for you?&lt;/p&gt;</comment>
                            <comment id="13567076" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 23:29:38 +0000"  >&lt;p&gt;Alternate patch for trunk.&lt;/p&gt;

&lt;p&gt;Will produce similar patch for 0.94 and loop the test.&lt;/p&gt;</comment>
                            <comment id="13567080" author="lhofhansl" created="Wed, 30 Jan 2013 23:32:52 +0000"  >&lt;p&gt;Please include the rest of my patch.&lt;/p&gt;</comment>
                            <comment id="13567082" author="lhofhansl" created="Wed, 30 Jan 2013 23:33:21 +0000"  >&lt;p&gt;Looped v3 20 times now, still no failure. Maybe my machines is just too fast.&lt;/p&gt;</comment>
                            <comment id="13567115" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 23:53:16 +0000"  >&lt;p&gt;My previous alternate patch didn&apos;t work on 0.94&lt;/p&gt;

&lt;p&gt;Here is another version.&lt;/p&gt;

&lt;p&gt;MockedSplitTransaction is used by more than one unit test in TestSplitTransactionOnCluster. Yet, state variables, such as secondSplit, are only restored in the finally block of testShouldFailSplitIfZNodeDoesNotExistDueToPrevRollBack()&lt;/p&gt;

&lt;p&gt;This proposed change allows TestSplitTransactionOnCluster to loop much longer than before (without patch, w/ Lars&apos;, w/my first alternate).&lt;/p&gt;</comment>
                            <comment id="13567125" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 00:06:19 +0000"  >&lt;p&gt;0.94 alternate patch allowed TestSplitTransactionOnCluster to loop 10 times locally.&lt;br/&gt;
Previously the test would fail within 3 iterations.&lt;/p&gt;</comment>
                            <comment id="13567144" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 00:27:13 +0000"  >&lt;p&gt;TestSplitTransactionOnCluster looped another 10 iterations successfully in 0.94&lt;/p&gt;

&lt;p&gt;Here is trunk patch.&lt;/p&gt;</comment>
                            <comment id="13567145" author="lhofhansl" created="Thu, 31 Jan 2013 00:27:39 +0000"  >&lt;p&gt;Why is the diff so weird?&lt;br/&gt;
Can you include my changes into the patch?&lt;/p&gt;</comment>
                            <comment id="13567156" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 00:35:24 +0000"  >&lt;p&gt;I just moved testShouldFailSplitIfZNodeDoesNotExistDueToPrevRollBack as the first test.&lt;/p&gt;

&lt;p&gt;As I said earlier, the cause for test failure was due to un-reset state variables. We can make individual tests better isolated in TestSplitTransactionOnCluster if we see build failures in the future.&lt;/p&gt;</comment>
                            <comment id="13567185" author="lhofhansl" created="Thu, 31 Jan 2013 00:53:48 +0000"  >&lt;p&gt;Ted, I was fixing a different problem (see &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/802/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/802/&lt;/a&gt;). Please include my changes.&lt;/p&gt;</comment>
                            <comment id="13567207" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 01:11:13 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;

&lt;p&gt;TestSplitTransactionOnCluster passed in 0.94 and trunk based on latest patches.&lt;/p&gt;</comment>
                            <comment id="13567225" author="hadoopqa" created="Thu, 31 Jan 2013 01:26:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567264/7717-trunk-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567264/7717-trunk-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestZooKeeper&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4264//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13567251" author="hadoopqa" created="Thu, 31 Jan 2013 02:15:32 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12567268/7717-trunk-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12567268/7717-trunk-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4265//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13567260" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 02:26:31 +0000"  >&lt;p&gt;Integrated to 0.94 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Lars.&lt;/p&gt;</comment>
                            <comment id="13567327" author="hudson" created="Thu, 31 Jan 2013 03:59:52 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #807 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/807/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/807/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; Wait until regions are assigned in TestSplitTransactionOnCluster (Lars H and Ted Yu) (Revision 1440801)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567349" author="hudson" created="Thu, 31 Jan 2013 04:36:22 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3830 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3830/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3830/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; Wait until regions are assigned in TestSplitTransactionOnCluster (Lars H and Ted Yu) (Revision 1440800)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567371" author="hudson" created="Thu, 31 Jan 2013 05:12:47 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #103 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/103/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/103/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; Wait until regions are assigned in TestSplitTransactionOnCluster (Lars H and Ted Yu) (Revision 1440801)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567589" author="hudson" created="Thu, 31 Jan 2013 12:35:20 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #386 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/386/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/386/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; Wait until regions are assigned in TestSplitTransactionOnCluster (Lars H and Ted Yu) (Revision 1440800)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567782" author="lhofhansl" created="Thu, 31 Jan 2013 16:37:57 +0000"  >&lt;p&gt;Yet another failure &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/810/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testTableExistsIfTheSpecifiedTableRegionIsSplitParent/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/810/testReport/junit/org.apache.hadoop.hbase.regionserver/TestSplitTransactionOnCluster/testTableExistsIfTheSpecifiedTableRegionIsSplitParent/&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It seems we always have to wait a bit for the cluster to learn what regions it has. Sigh.&lt;/p&gt;

&lt;p&gt;Will make a quick addendum.&lt;/p&gt;</comment>
                            <comment id="13567791" author="lhofhansl" created="Thu, 31 Jan 2013 16:47:39 +0000"  >&lt;p&gt;How&apos;s this?&lt;/p&gt;</comment>
                            <comment id="13567811" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 17:05:02 +0000"  >&lt;p&gt;lgtm.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Table not online&quot;&lt;/span&gt;, cluster.getRegions(tableName).size() != 0);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Mind including tableName in the assert message ?&lt;/p&gt;</comment>
                            <comment id="13567967" author="lhofhansl" created="Thu, 31 Jan 2013 19:11:17 +0000"  >&lt;p&gt;Should be clear from the call stack, though. Anyway, I&apos;ll add the table name to the assertion message.&lt;/p&gt;</comment>
                            <comment id="13567974" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 19:12:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13567988" author="lhofhansl" created="Thu, 31 Jan 2013 19:21:23 +0000"  >&lt;p&gt;Addendums for 0.94 and 0.96. Verifying the tests locally now.&lt;/p&gt;</comment>
                            <comment id="13567997" author="lhofhansl" created="Thu, 31 Jan 2013 19:27:46 +0000"  >&lt;p&gt;Committed. I very sincerely hope this is the last I&apos;ll ever see of this test.&lt;/p&gt;</comment>
                            <comment id="13568017" author="ram_krish" created="Thu, 31 Jan 2013 19:37:28 +0000"  >&lt;p&gt;Yes Lars.  Thanks a lot for your patience on this.&lt;br/&gt;
I try to spend time on these failures but don&apos;t find time.  May be next time you can just ping me to take a look at it.  And i will do my part if it fails next time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13568096" author="hudson" created="Thu, 31 Jan 2013 21:04:45 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #812 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/812/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/812/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; addendum, really wait for all tables in TestSplitTransactionOnCluster. (Revision 1441151)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13568126" author="hudson" created="Thu, 31 Jan 2013 21:28:04 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3834 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3834/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3834/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; addendum, really wait for all tables in TestSplitTransactionOnCluster. (Revision 1441150)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13568297" author="hudson" created="Fri, 1 Feb 2013 00:37:20 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #387 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/387/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/387/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; addendum, really wait for all tables in TestSplitTransactionOnCluster. (Revision 1441150)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13570967" author="hudson" created="Tue, 5 Feb 2013 03:58:22 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #11 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; addendum, really wait for all tables in TestSplitTransactionOnCluster. (Revision 1441151)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7717&quot; title=&quot;Wait until regions are assigned in TestSplitTransactionOnCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7717&quot;&gt;&lt;del&gt;HBASE-7717&lt;/del&gt;&lt;/a&gt; Wait until regions are assigned in TestSplitTransactionOnCluster (Lars H and Ted Yu) (Revision 1440801)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567267" name="7717-0.94-combined.txt" size="12188" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 01:01:53 +0000"/>
                            <attachment id="12567226" name="7717-0.94-v1.txt" size="4505" author="lhofhansl" created="Wed, 30 Jan 2013 22:19:50 +0000"/>
                            <attachment id="12567228" name="7717-0.94-v2.txt" size="5097" author="lhofhansl" created="Wed, 30 Jan 2013 22:22:47 +0000"/>
                            <attachment id="12567235" name="7717-0.94-v3.txt" size="5851" author="lhofhansl" created="Wed, 30 Jan 2013 22:32:48 +0000"/>
                            <attachment id="12567200" name="7717-0.94.txt" size="4225" author="lhofhansl" created="Wed, 30 Jan 2013 20:06:07 +0000"/>
                            <attachment id="12567236" name="7717-0.96.txt" size="4317" author="lhofhansl" created="Wed, 30 Jan 2013 22:32:48 +0000"/>
                            <attachment id="12567416" name="7717-addendum-0.94-v2.txt" size="4641" author="lhofhansl" created="Thu, 31 Jan 2013 19:21:23 +0000"/>
                            <attachment id="12567386" name="7717-addendum-0.94.txt" size="4613" author="lhofhansl" created="Thu, 31 Jan 2013 16:47:39 +0000"/>
                            <attachment id="12567417" name="7717-addendum-0.96.txt" size="5299" author="lhofhansl" created="Thu, 31 Jan 2013 19:21:23 +0000"/>
                            <attachment id="12567260" name="7717-alternate-94.txt" size="8551" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 23:53:16 +0000"/>
                            <attachment id="12567257" name="7717-alternate-trunk.txt" size="2483" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 23:29:38 +0000"/>
                            <attachment id="12567264" name="7717-trunk-v2.txt" size="8663" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 00:27:13 +0000"/>
                            <attachment id="12567268" name="7717-trunk-v3.txt" size="11250" author="yuzhihong@gmail.com" created="Thu, 31 Jan 2013 01:11:13 +0000"/>
                            <attachment id="12567208" name="TEST-org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster.xml" size="61436" author="yuzhihong@gmail.com" created="Wed, 30 Jan 2013 21:12:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Jan 2013 21:08:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hk5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>