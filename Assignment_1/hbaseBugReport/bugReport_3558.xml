<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:11:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3558/HBASE-3558.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3558] Warnings if RS times are out of sync</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3558</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Last night we ran into a problem with the times on RSs being out of sync by 1 minute. The times were being reset by ~70s often because we were getting different responses from pool.ntpd.org.&lt;/p&gt;

&lt;p&gt;This caused lost ZK sessions and problems writing to datanodes,  so all the RSs kept shutting down.&lt;/p&gt;

&lt;p&gt;I think it would be useful to have HBaseFsck check to see if the times on the region servers are out of sync. Or maybe put a warning on the master web ui or something. &lt;/p&gt;

&lt;p&gt;This seems related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3168&quot; title=&quot;Sanity date and time check when a region server joins the cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3168&quot;&gt;&lt;del&gt;HBASE-3168&lt;/del&gt;&lt;/a&gt;, but applies when region servers become out of sync once they already joined the cluster (due to NTP issues or something else).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499494">HBASE-3558</key>
            <summary>Warnings if RS times are out of sync</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ssechrist">Sean Sechrist</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Feb 2011 16:02:01 +0000</created>
                <updated>Tue, 12 Aug 2014 19:23:40 +0000</updated>
                            <resolved>Tue, 12 Aug 2014 19:23:40 +0000</resolved>
                                    <version>0.89.20100924</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12998729" author="stack" created="Thu, 24 Feb 2011 07:36:50 +0000"  >&lt;p&gt;So, your ntp service was giving you bogus responses?  Thats a good one.  Its for sure going to mess with cluster clocks.  We shouldn&apos;t be so vulnerable to ntp flapping.  How did you narrow in on ntp service as culprit?  That seems like it would take a bit of detective work to figure that one.&lt;/p&gt;

&lt;p&gt;Regionserver heartbeating is going away but we could have RS&apos;s publish their times to zk along w/ load and master could yell if any go astray.&lt;/p&gt;</comment>
                            <comment id="12998857" author="ssechrist" created="Thu, 24 Feb 2011 14:16:13 +0000"  >&lt;p&gt;We didn&apos;t really have a clue what was the source of the problems until we saw messages like this in /var/log/syslog on all of our our nodes, around the same time our region servers started going down:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Feb 22 22:50:22 datanode-a7 ntpd[2754]: time reset -69.993786 s
Feb 22 23:07:12 datanode-a7 ntpd[2754]: time reset -69.988776 s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then we confirmed that the system times on our nodes were out of sync, and fluctuating. We fixed it by starting our own local NTP server.&lt;/p&gt;</comment>
                            <comment id="14094551" author="apurtell" created="Tue, 12 Aug 2014 19:23:40 +0000"  >&lt;p&gt;Current releases include logic for logging this warning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Feb 2011 07:36:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02fq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>