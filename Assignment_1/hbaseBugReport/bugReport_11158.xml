<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:20:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11158/HBASE-11158.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11158] bin/hbase upgrade -check should also check compression codecs</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11158</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When upgrading insitu from 0.94 to 0.96 or 0.98 codecs are usually already there in the servers so it&apos;s all fine.&lt;/p&gt;

&lt;p&gt;But when doing an upgrade by moving the data from one cluster to a brand new one, compression codecs might be missing.&lt;/p&gt;

&lt;p&gt;bin/hbase upgrade -check will not report any missing codec, but HBase will not be able to start after the upgrade because the codes are missing.&lt;/p&gt;

&lt;p&gt;I think bin/hbase upgrade -check should check the compression codecs configured on the tables and make sure they are available on the new cluster. f not, it should be reported.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12713888">HBASE-11158</key>
            <summary>bin/hbase upgrade -check should also check compression codecs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmspaggi">Jean-Marc Spaggiari</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2014 12:47:50 +0000</created>
                <updated>Fri, 16 May 2014 19:05:45 +0000</updated>
                                            <version>0.99.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13996857" author="stack" created="Tue, 13 May 2014 20:25:30 +0000"  >&lt;p&gt;It can&apos;t check the whole cluster though JMS, right?  And checking for libs is orthogonal to upgrade?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13998293" author="jmspaggi" created="Thu, 15 May 2014 00:08:35 +0000"  >&lt;blockquote&gt;
&lt;p&gt;It can&apos;t check the whole cluster though JMS, right?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree. Just trying to find a way to bring the alert back to the user without having to check the whole cluster.  I have not found any good idea to achieve that for now. But I got caught already twice because of that, so trying to figure if there is anything doable to alert user about it. Maybe with another command line? Still thinking about it.&lt;/p&gt;</comment>
                            <comment id="13998690" author="jmspaggi" created="Thu, 15 May 2014 11:37:02 +0000"  >&lt;p&gt;Ok. I thought about it a bit and it&apos;s not the best way to solve this. There is already a command to validate compression codecs. So I think a better way to inform user about this is to list the codes used when checking the upgrade, and document in the upgrade process to recommend to check the available codecs when upgrade to a new cluster by pointing to the right documentation. If you are fine with this approach I will close this JIRA, open one to add the codecs dump in the -check portion, and another to update the documentation.&lt;/p&gt;</comment>
                            <comment id="14000154" author="stack" created="Fri, 16 May 2014 19:05:45 +0000"  >&lt;p&gt;I like your proposal.&lt;/p&gt;

&lt;p&gt;Later we could add:&lt;/p&gt;

&lt;p&gt;./bin/hbase codecs&lt;/p&gt;

&lt;p&gt;And it would take optional codec name. It&apos;d run &lt;a href=&quot;http://hbase.apache.org/book.html#compression.test&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/book.html#compression.test&lt;/a&gt; across the cluster and return ERROR if a regionserver was missing a codec or just list codecs if no arg supplied?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 May 2014 20:25:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vjk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>