<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:15:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10605/HBASE-10605.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10605] Manage the call timeout in the server</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10605</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt;, we have an explicit call timeout available in the client.&lt;br/&gt;
We could forward it to the server, and use this information for:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if the call is still in the queue, just cancel it&lt;/li&gt;
	&lt;li&gt;if the call is under execution, makes this information available in RpcCallContext (actually change the RpcCallContext#disconnectSince to something more generic), so it can be used by the query under execution to stop its execution&lt;/li&gt;
	&lt;li&gt;in the future, interrupt it to manage the case &apos;stuck on a dead datanode&apos; or something similar&lt;/li&gt;
	&lt;li&gt;if the operation has finished, don&apos;t send the reply to the client, as by definition the client is not interested anymore.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;From this, it will be easy to manage the cancellation: disconnect/timeout/cancellation are similar from a service execution PoV&lt;/p&gt;</description>
                <environment></environment>
        <key id="12697129">HBASE-10605</key>
            <summary>Manage the call timeout in the server</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Feb 2014 15:00:09 +0000</created>
                <updated>Mon, 7 Mar 2016 13:51:07 +0000</updated>
                                            <version>0.99.0</version>
                                                    <component>IPC/RPC</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15085102" author="zhangyongxyz" created="Wed, 6 Jan 2016 07:08:43 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nkeywal&quot; class=&quot;user-hover&quot; rel=&quot;nkeywal&quot;&gt;Nicolas Liochon&lt;/a&gt;, can please you give more info for handle client retrying and server timeout behavior?&lt;/p&gt;</comment>
                            <comment id="15105088" author="nkeywal" created="Mon, 18 Jan 2016 10:42:47 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=java8964&quot; class=&quot;user-hover&quot; rel=&quot;java8964&quot;&gt;Yong Zhang&lt;/a&gt;, what do you need to know?&lt;br/&gt;
The point of this jira if that the server should not continue to handle a request if we know that the client has already stopped waiting for the result.&lt;/p&gt;</comment>
                            <comment id="15159134" author="zhangyongxyz" created="Tue, 23 Feb 2016 16:31:46 +0000"  >&lt;p&gt;How server side know client call timeout, I think client rpc should include the timeout parameter and submit time, and server side will have a monitor.&lt;br/&gt;
And more hbase rpc client has retry, request time out seems after some calls failed or socket timeout, how to handle this scenario?&lt;/p&gt;</comment>
                            <comment id="15183013" author="nkeywal" created="Mon, 7 Mar 2016 13:51:07 +0000"  >&lt;p&gt;&amp;gt; , I think client rpc should include the timeout parameter&lt;br/&gt;
Yes, we would need to forward the timeout (not the the submit time, because we don&apos;t want to rely on having the server and client clocks in sync: the server can use its own clock).&lt;br/&gt;
Then there is already a check in the server, the request is cancelled if the client is disconnected (i.e. the tcp connection is closed).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12682280">HBASE-10070</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 07:08:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sq3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>