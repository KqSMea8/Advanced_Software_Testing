<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:38:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12978/HBASE-12978.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12978] Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12978</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Testing 1.0.0 trying long-running tests.&lt;/p&gt;

&lt;p&gt;A row in hbase:meta was missing its HRI entry. It caused the job to fail. Around the time of the first task failure, there are balances of the hbase:meta region and it was on a server that crashed. I tried to look at what happened around time of our writing hbase:meta and I ran into another issue; 20 logs of 256MBs filled with WrongRegionException written over a minute or two. The actual update of hbase:meta was not in the logs, it&apos;d been rotated off.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12772820">HBASE-12978</key>
            <summary>Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2015 20:54:05 +0000</created>
                <updated>Sat, 21 Feb 2015 23:49:01 +0000</updated>
                            <resolved>Wed, 11 Feb 2015 01:06:06 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                            <comments>
                            <comment id="14307972" author="stack" created="Thu, 5 Feb 2015 20:54:37 +0000"  >&lt;p&gt;Let me try and get more data in here.&lt;/p&gt;</comment>
                            <comment id="14309630" author="stack" created="Fri, 6 Feb 2015 18:54:59 +0000"  >&lt;p&gt;So, this missing row kept showing up in my long-running tests. I thought I had a problem I could easily manufacture an empty info:regioninfo but then comparing notes, I noticed it the same row that was showing across tests and indeed the delete of a table will leave behind table rows if the info:regioninfo column is missing. Making a subtask to fix this annoyance that hampers testing.&lt;/p&gt;</comment>
                            <comment id="14309680" author="stack" created="Fri, 6 Feb 2015 19:15:10 +0000"  >&lt;p&gt;It was &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12980&quot; title=&quot;Delete of a table may not clean all rows from hbase:meta&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12980&quot;&gt;&lt;del&gt;HBASE-12980&lt;/del&gt;&lt;/a&gt;, the &apos;delete of a table may not clean all rows from hbase:meta&apos; that was manifesting as &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12974&quot; title=&quot;Opaque AsyncProcess failure: RetriesExhaustedWithDetailsException but no detail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12974&quot;&gt;HBASE-12974&lt;/a&gt;, &apos;Opaque AsyncProcess failure...&apos; (not sure how to fix that one yet &amp;#8211; it remains opaque)&lt;/p&gt;</comment>
                            <comment id="14310457" author="enis" created="Sat, 7 Feb 2015 02:18:52 +0000"  >&lt;p&gt;Shall I wait for a patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12974&quot; title=&quot;Opaque AsyncProcess failure: RetriesExhaustedWithDetailsException but no detail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12974&quot;&gt;HBASE-12974&lt;/a&gt;, wdyt? &lt;/p&gt;</comment>
                            <comment id="14310547" author="stack" created="Sat, 7 Feb 2015 04:40:48 +0000"  >&lt;p&gt;@enis Regards &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12974&quot; title=&quot;Opaque AsyncProcess failure: RetriesExhaustedWithDetailsException but no detail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12974&quot;&gt;HBASE-12974&lt;/a&gt;, suggest 1.0.1. The cause was itself obscure.  Hopefully its a rare case. Ditto with this main issue of missing info:regioninfo.  I don&apos;t have handle on it yet but seems rare enough.&lt;/p&gt;</comment>
                            <comment id="14311825" author="stack" created="Mon, 9 Feb 2015 05:39:31 +0000"  >&lt;p&gt;This happened again. Interesting is that it would seem info:regioninfo was never written. I can get multiple versions of the info:server and info:serverstartcode content but not of info:regioninfo. Either all were lost or were never written. Let me dig some more. Below I am querying hbase:meta content asking for all versions (having meta keep 10 versions is a help).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):014:0&amp;gt; get &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8.&quot;&lt;/span&gt;, {COLUMN =&amp;gt; &apos;info:server&apos;, VERSIONS =&amp;gt; 10}
COLUMN                                                                                       CELL
 info:server                                                                                 timestamp=1423442394783, value=c2025.halxg.cloudera.com:16020
 info:server                                                                                 timestamp=1423442332641, value=c2024.halxg.cloudera.com:16020
2 row(s) in 0.0170 seconds

hbase(main):015:0&amp;gt; get &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8.&quot;&lt;/span&gt;, {COLUMN =&amp;gt; &apos;info:serverstartcode&apos;, VERSIONS =&amp;gt; 10}
COLUMN                                                                                       CELL
 info:serverstartcode                                                                        timestamp=1423442394783, value=1423442383454
 info:serverstartcode                                                                        timestamp=1423442332641, value=1423442287722
2 row(s) in 0.0050 seconds

hbase(main):016:0&amp;gt; get &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8.&quot;&lt;/span&gt;, {COLUMN =&amp;gt; &apos;info:regioninfo&apos;, VERSIONS =&amp;gt; 10}
COLUMN                                                                                       CELL
0 row(s) in 0.0050 seconds

hbase(main):017:0&amp;gt; get &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8.&quot;&lt;/span&gt;, {TIMESTAMP =&amp;gt; 1423442332641}
COLUMN                                                                                       CELL
 info:seqnumDuringOpen                                                                       timestamp=1423442332641, value=\x00\x00\x00\x00\x00\x11\xEE\xC2
 info:server                                                                                 timestamp=1423442332641, value=c2024.halxg.cloudera.com:16020
 info:serverstartcode                                                                        timestamp=1423442332641, value=1423442287722
3 row(s) in 0.0120 seconds

hbase(main):018:0&amp;gt; get &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8.&quot;&lt;/span&gt;, {TIMESTAMP =&amp;gt; 1423442394783}
COLUMN                                                                                       CELL
 info:seqnumDuringOpen                                                                       timestamp=1423442394783, value=\x00\x00\x00\x00\x00\x11\xFC\x89
 info:server                                                                                 timestamp=1423442394783, value=c2025.halxg.cloudera.com:16020
 info:serverstartcode                                                                        timestamp=1423442394783, value=1423442383454
3 row(s) in 0.0050 seconds

hbase(main):019:0&amp;gt; java.util.Date.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(1423442394783).toString
=&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Sun Feb 08 16:39:54 PST 2015&quot;&lt;/span&gt;
hbase(main):020:0&amp;gt; java.util.Date.&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt;(1423442332641).toString
=&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Sun Feb 08 16:38:52 PST 2015&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14312710" author="devaraj" created="Mon, 9 Feb 2015 19:37:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; wondering if this is happening because of the fact that the balancer is doing its job in the background. Scenario is:&lt;br/&gt;
0. The balancer computed a plan for the regions but not executed all the moves yet.&lt;br/&gt;
1. The region in question is deleted from the meta (maybe due to a split etc)&lt;br/&gt;
2. The balancer does its job and assigns the region to some RS. That RS does a put in the meta table when it successfully opens the region. That put recreates the meta entry but this time the hri won&apos;t be there...&lt;/p&gt;</comment>
                            <comment id="14312715" author="stack" created="Mon, 9 Feb 2015 19:38:51 +0000"  >&lt;p&gt;Thanks for pointer &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt;, let me look....&lt;/p&gt;</comment>
                            <comment id="14312716" author="stack" created="Mon, 9 Feb 2015 19:39:53 +0000"  >&lt;p&gt;Though I&apos;d think I&apos;d see old versions of the info:regioninfo cell with the content.... but let me check...&lt;/p&gt;</comment>
                            <comment id="14312766" author="devaraj" created="Mon, 9 Feb 2015 20:02:19 +0000"  >&lt;p&gt;Try doing a raw scan. Get probably hides the deleted cells even if the VERSIONS are specified.&lt;/p&gt;</comment>
                            <comment id="14312857" author="stack" created="Mon, 9 Feb 2015 20:49:13 +0000"  >&lt;p&gt;Thanks. Dang though, it gives same result. Let me dig in more on your theory though.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):012:0* scan &lt;span class=&quot;code-quote&quot;&gt;&quot;hbase:meta&quot;&lt;/span&gt;, {STARTROW =&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8.&quot;&lt;/span&gt;, LIMIT =&amp;gt; 1, VERSIONS =&amp;gt; 10, RAW =&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}
ROW                                                  COLUMN+CELL
 IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2 column=info:seqnumDuringOpen, timestamp=1423442394783, value=\x00\x00\x00\x00\x00\x11\xFC\x89
 \x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6
 eb13141c04018f19c8910c8.
 IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2 column=info:seqnumDuringOpen, timestamp=1423442332641, value=\x00\x00\x00\x00\x00\x11\xEE\xC2
 \x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6
 eb13141c04018f19c8910c8.
 IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2 column=info:server, timestamp=1423442394783, value=c2025.halxg.cloudera.com:16020
 \x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6
 eb13141c04018f19c8910c8.
 IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2 column=info:server, timestamp=1423442332641, value=c2024.halxg.cloudera.com:16020
 \x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6
 eb13141c04018f19c8910c8.
 IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2 column=info:serverstartcode, timestamp=1423442394783, value=1423442383454
 \x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6
 eb13141c04018f19c8910c8.
 IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2 column=info:serverstartcode, timestamp=1423442332641, value=1423442287722
 \x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6
 eb13141c04018f19c8910c8.
1 row(s) in 0.0140 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14313312" author="stack" created="Tue, 10 Feb 2015 01:10:46 +0000"  >&lt;p&gt;Your scenario may be possible &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; I need to look at it more and try and put in measures to prevent it.&lt;/p&gt;

&lt;p&gt;It is not the case here though.&lt;/p&gt;

&lt;p&gt;Here are current edits in hbase:meta:&lt;/p&gt;

&lt;p&gt;K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423442394783/Put/vlen=8/seqid=131112&lt;br/&gt;
K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423442332641/Put/vlen=8/seqid=131019&lt;br/&gt;
K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423442394783/Put/vlen=30/seqid=131112&lt;br/&gt;
K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423442332641/Put/vlen=30/seqid=131019&lt;br/&gt;
K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423442394783/Put/vlen=8/seqid=131112&lt;br/&gt;
K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423442332641/Put/vlen=8/seqid=131019&lt;/p&gt;

&lt;p&gt;The info:regioninfo is missing.&lt;/p&gt;

&lt;p&gt;This region has not been split. which as best as I can tell, is time we&apos;d remove the info:regioninfo entry.&lt;/p&gt;

&lt;p&gt;I went back over the moved off hfiles and recovered edits files and only see mention of the Put of the original info:regioninfo edit. There is no &apos;Delete&apos;. It looks like the edit was &apos;dropped&apos;. Let me see if I can find the time at which the edit was dropped.&lt;/p&gt;</comment>
                            <comment id="14313771" author="stack" created="Tue, 10 Feb 2015 07:56:38 +0000"  >&lt;p&gt;Here is the last hfile that had the missing Cell in it. The missing cell is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 754 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:regioninfo/1423438436466/Put/vlen=82/seqid=126045
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I try to get this row from this file, I get nothing back, though the file has a bunch of entries on this row.  Here is dump of the entries that are in this file for this row:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 754 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:regioninfo/1423438436466/Put/vlen=82/seqid=126045
 755 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423442164769/Put/vlen=8/seqid=130685
 756 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423442143845/Put/vlen=8/seqid=130562
 757 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423442046094/Put/vlen=8/seqid=130346
 758 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441959921/Put/vlen=8/seqid=130285
 759 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441807390/Put/vlen=8/seqid=129999
 760 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441726587/Put/vlen=8/seqid=129821
 761 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441661740/Put/vlen=8/seqid=129550
 762 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441646296/Put/vlen=8/seqid=129459
 763 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441601265/Put/vlen=8/seqid=129275
 764 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:seqnumDuringOpen/1423441340085/Put/vlen=8/seqid=129031
 765 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423442164769/Put/vlen=30/seqid=130685
 766 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423442143845/Put/vlen=30/seqid=130562
 767 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423442046094/Put/vlen=30/seqid=130346
 768 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441959921/Put/vlen=30/seqid=130285
 769 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441807390/Put/vlen=30/seqid=129999
 770 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441726587/Put/vlen=30/seqid=129821
 771 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441661740/Put/vlen=30/seqid=129550
 772 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441646296/Put/vlen=30/seqid=129459
 773 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441601265/Put/vlen=30/seqid=129275
 774 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:server/1423441340085/Put/vlen=30/seqid=129031
 775 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423442164769/Put/vlen=8/seqid=130685
 776 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423442143845/Put/vlen=8/seqid=130562
 777 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423442046094/Put/vlen=8/seqid=130346
 778 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441959921/Put/vlen=8/seqid=130285
 779 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441807390/Put/vlen=8/seqid=129999
 780 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441726587/Put/vlen=8/seqid=129821
 781 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441661740/Put/vlen=8/seqid=129550
 782 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441646296/Put/vlen=8/seqid=129459
 783 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441601265/Put/vlen=8/seqid=129275
 784 K: IntegrationTestBigLinkedList,+\x84\xFF\xFC\xE4%\xF2\x11\xDE\x97t\xF0(\xF1$\xE8,1423438433508.014990fd6eb13141c04018f19c8910c8./info:serverstartcode/1423441340085/Put/vlen=8/seqid=129031
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can see this using the HFile tool.&lt;/p&gt;

&lt;p&gt;The get that is failing is out of a Region#get (I have faked the region locally but mimiciing the directory structure for my hbase:meta up on my cluster locally and then hacking up a RegionTool to open the region and do gets.&lt;/p&gt;

&lt;p&gt;So, the content is there but I can&apos;t get it. If I study which hfile block is loaded, it is always the one AFTER the block that has the content I want.&lt;/p&gt;

&lt;p&gt;Looking at the hfile index, it is actually damaged:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
key=IntegrationTestBigLinkedList,(\xF5\xC2\x8F\x5C(\xF5\xC0,1423438433508.af43ed5cea6702e26970278287c4a06a./info:seqnumDuringOpen/1423441725896/Put
  offset=107856, dataSize=8245
key=IntegrationTestBigLinkedList,,&lt;span class=&quot;code-comment&quot;&gt;//LATEST_TIMESTAMP/Maximum
&lt;/span&gt;  offset=116101, dataSize=8298
key=IntegrationTestBigLinkedList,.\x14W3,1423438609857.8e26a4c1da76844cacf51ddd568efb57./info:serverstartcode/1423442050289/Put
  offset=124399, dataSize=8260
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The key in the index for our block is: &lt;/p&gt;

&lt;p&gt;key=IntegrationTestBigLinkedList,,//LATEST_TIMESTAMP/Maximum&lt;/p&gt;

&lt;p&gt;Let me see if I can figure how that&apos;d happen.&lt;/p&gt;</comment>
                            <comment id="14313785" author="stack" created="Tue, 10 Feb 2015 08:13:18 +0000"  >&lt;p&gt;The file just previous to this one &amp;#8211; the result of a compaction on meta &amp;#8211; seems fine.  Looking at its indices, I see stuff like this:&lt;/p&gt;

&lt;p&gt;key=IntegrationTestBigLinkedList,C//LATEST_TIMESTAMP/Maximum&lt;br/&gt;
  offset=166171, dataSize=8247&lt;/p&gt;

&lt;p&gt;... so this looks like our index entry &apos;tightener&apos;, the code that shrinks the keys so take up less space in index.  The problematic one is this:&lt;/p&gt;

&lt;p&gt;key=IntegrationTestBigLinkedList,,//LATEST_TIMESTAMP/Maximum&lt;br/&gt;
  offset=116101, dataSize=8298&lt;/p&gt;

&lt;p&gt;... which has the double &apos;,,&apos; in it which has special meaning for our meta table comparators.....&lt;/p&gt;</comment>
                            <comment id="14314630" author="stack" created="Tue, 10 Feb 2015 18:44:03 +0000"  >&lt;p&gt;It looks like I broke this:&lt;/p&gt;

&lt;p&gt;889333a &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12313&quot; title=&quot;Redo the hfile index length optimization so cell-based rather than serialized KV key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12313&quot;&gt;&lt;del&gt;HBASE-12313&lt;/del&gt;&lt;/a&gt; Redo the hfile index length optimization so cell-based rather than serialized KV key&lt;/p&gt;

&lt;p&gt;It used to be this with a context specific comparator:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] indexKey = comparator.calcIndexKey(lastKeyOfPreviousBlock, firstKeyInBlock);		
dataBlockIndexWriter.addEntry(indexKey, lastDataBlockOffset, onDiskSize);	
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;replacing it with....&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
165	    &lt;span class=&quot;code-comment&quot;&gt;// Rather than CellComparator, we should be making use of an Interface here with the
&lt;/span&gt;166	    &lt;span class=&quot;code-comment&quot;&gt;// implementation class serialized out to the HFile metadata. TODO.
&lt;/span&gt;167	    Cell indexEntry = CellComparator.getMidpoint(lastCellOfPreviousBlock, firstCellInBlock);
168	    dataBlockIndexWriter.addEntry(CellUtil.getCellKeySerializedAsKeyValueKey(indexEntry),
169	      lastDataBlockOffset, onDiskSize);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is not in 0.98.&lt;/p&gt;</comment>
                            <comment id="14314710" author="stack" created="Tue, 10 Feb 2015 19:15:47 +0000"  >&lt;p&gt;Don&apos;t do the index optimization if the comparator is for meta table rows (as it used to be).&lt;/p&gt;

&lt;p&gt;Getting a test in here is tough. Would need to write a hbase:meta table file that  triggered the optimization in such a way as to arrive at a midpoint which was a &apos;,&apos; only, this would go into the file index and then we&apos;d try and read the value out... kinda tricky.&lt;/p&gt;

&lt;p&gt;I confirmed that with this patch, when meta compares, we are skipping the optimization.&lt;/p&gt;</comment>
                            <comment id="14314740" author="hadoopqa" created="Tue, 10 Feb 2015 19:32:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12697845/12978.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12697845/12978.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ede20aa2880ce509e6d3df67818ad305ca9f4eb8.&lt;br/&gt;
  ATTACHMENT ID: 12697845&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12763//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12763//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14314921" author="stack" created="Tue, 10 Feb 2015 21:04:06 +0000"  >&lt;p&gt;Add small test and fix misapply.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; what you think of this one.  My fault.&lt;/p&gt;</comment>
                            <comment id="14314982" author="enis" created="Tue, 10 Feb 2015 21:36:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Add small test and fix misapply. Enis Soztutar what you think of this one&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m +1 for the patch, and it seems that the implications justify a new RC. &lt;/p&gt;</comment>
                            <comment id="14315047" author="eclark" created="Tue, 10 Feb 2015 22:06:59 +0000"  >&lt;p&gt;+1 on getting this into 1.0.0&lt;/p&gt;</comment>
                            <comment id="14315316" author="hadoopqa" created="Wed, 11 Feb 2015 00:59:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12697870/12978v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12697870/12978v2.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a7d93155f10184942ffc146f0694e5da83c78cd4.&lt;br/&gt;
  ATTACHMENT ID: 12697870&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.coprocessor.TestMasterObserver.testRegionTransitionOperations(TestMasterObserver.java:1604)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12766//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14315326" author="stack" created="Wed, 11 Feb 2015 01:06:06 +0000"  >&lt;p&gt;Made this a blocker. Resolved against 1.0.0. Pushed to branch-1.0+.  0.98 does not have this issue.&lt;/p&gt;</comment>
                            <comment id="14315484" author="hudson" created="Wed, 11 Feb 2015 03:02:52 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #726 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/726/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/726/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12978&quot; title=&quot;Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12978&quot;&gt;&lt;del&gt;HBASE-12978&lt;/del&gt;&lt;/a&gt; Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail) (stack: rev 05c3672335a238b0a733b56d9345757da41af31a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellComparator.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14315509" author="hudson" created="Wed, 11 Feb 2015 03:26:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6114 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6114/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6114/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12978&quot; title=&quot;Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12978&quot;&gt;&lt;del&gt;HBASE-12978&lt;/del&gt;&lt;/a&gt; Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail) (stack: rev 9c66afbae752b06b058df34c0e40fbbf54426ac3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellComparator.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellComparator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14315519" author="hudson" created="Wed, 11 Feb 2015 03:32:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #165 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/165/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/165/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12978&quot; title=&quot;Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12978&quot;&gt;&lt;del&gt;HBASE-12978&lt;/del&gt;&lt;/a&gt; Region goes permanently offline (WAS: hbase:meta has a row missing hregioninfo and it causes my long-running job to fail) (stack: rev 31b3327184c37a94535d5752fda574af5dd275b9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestCellComparator.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellComparator.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileWriterV2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331774" author="enis" created="Sat, 21 Feb 2015 23:49:01 +0000"  >&lt;p&gt;Closing this issue after 1.0.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12697845" name="12978.txt" size="4500" author="stack" created="Tue, 10 Feb 2015 19:15:47 +0000"/>
                            <attachment id="12697870" name="12978v2.txt" size="9450" author="stack" created="Tue, 10 Feb 2015 21:04:06 +0000"/>
                            <attachment id="12697680" name="e7cadabc6e5e46c7bf6b3d445f0c53cf" size="742582" author="stack" created="Tue, 10 Feb 2015 07:56:38 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12772556">HBASE-12974</subtask>
                            <subtask id="12773080">HBASE-12980</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Feb 2015 02:18:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i259b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fixes a bug where an optimization that keeps our hfile indexes files small chanced upon an entry that has special meaning in the meta table making it so  we failed to find a region entry in an hbase:meta HFile (though the entry was present). Once we&amp;#39;d happened upon this condition, the region would be unfindable thereafter making it so the region was considered offline. The bug is in branch-1+ hbase only.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>