<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13327/HBASE-13327.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13327] Use Admin in ConnectionCache</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13327</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Replace HBaseAdmin usage with Admin in ConnectionCache and users of ConnectionCache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785246">HBASE-13327</key>
            <summary>Use Admin in ConnectionCache</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12773480">HBASE-12993</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sduskis">Solomon Duskis</assignee>
                                    <reporter username="sduskis">Solomon Duskis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Mar 2015 18:23:35 +0000</created>
                <updated>Tue, 28 Apr 2015 19:18:23 +0000</updated>
                            <resolved>Fri, 27 Mar 2015 01:35:41 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.0.1</version>
                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14378356" author="sduskis" created="Tue, 24 Mar 2015 18:47:05 +0000"  >&lt;p&gt;Both bugs replace HBaseAdmin with Admin, but do them in different places.&lt;/p&gt;</comment>
                            <comment id="14378596" author="hadoopqa" created="Tue, 24 Mar 2015 21:01:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12706966/HBASE-13327.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12706966/HBASE-13327.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit fcc09dcd38b8543a9dd40212206cb4231620dac9.&lt;br/&gt;
  ATTACHMENT ID: 12706966&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13393//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14378654" author="mantonov" created="Tue, 24 Mar 2015 21:24:47 +0000"  >&lt;p&gt;Looks good to me. Do we need that nested try in ThriftServerRunner.majorCompact? Can it be simplified?&lt;/p&gt;</comment>
                            <comment id="14378751" author="enis" created="Tue, 24 Mar 2015 22:04:11 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="14379101" author="yuzhihong@gmail.com" created="Wed, 25 Mar 2015 01:21:26 +0000"  >&lt;p&gt;Thanks for the patch, Solomon.&lt;/p&gt;

&lt;p&gt;Thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="14379193" author="hudson" created="Wed, 25 Mar 2015 02:48:48 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #825 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/825/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/825/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13327&quot; title=&quot;Use Admin in ConnectionCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13327&quot;&gt;&lt;del&gt;HBASE-13327&lt;/del&gt;&lt;/a&gt; Use Admin in ConnectionCache (Solomon Duskis) (tedyu: rev 53c6a57d0ac825f64af680b32a38c03b13dd5666)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ConnectionCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14379200" author="hudson" created="Wed, 25 Mar 2015 03:00:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #319 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/319/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13327&quot; title=&quot;Use Admin in ConnectionCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13327&quot;&gt;&lt;del&gt;HBASE-13327&lt;/del&gt;&lt;/a&gt; Use Admin in ConnectionCache (Solomon Duskis) (tedyu: rev 7c2525bf15f1df048f4a5fcc2ce9b675503b3c54)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ConnectionCache.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14379221" author="stack" created="Wed, 25 Mar 2015 03:20:20 +0000"  >&lt;p&gt;This was committed though an outstanding comment on the patch from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;Looks good to me. Do we need that nested try in ThriftServerRunner.majorCompact? Can it be simplified?&quot;&lt;/p&gt;
</comment>
                            <comment id="14379238" author="yuzhihong@gmail.com" created="Wed, 25 Mar 2015 03:43:10 +0000"  >&lt;p&gt;If &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sduskis&quot; class=&quot;user-hover&quot; rel=&quot;sduskis&quot;&gt;Solomon Duskis&lt;/a&gt; provides an addendum, I would apply it.&lt;/p&gt;

&lt;p&gt;Otherwise I can revert.&lt;/p&gt;</comment>
                            <comment id="14379259" author="hudson" created="Wed, 25 Mar 2015 04:12:33 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6299 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6299/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6299/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13327&quot; title=&quot;Use Admin in ConnectionCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13327&quot;&gt;&lt;del&gt;HBASE-13327&lt;/del&gt;&lt;/a&gt; Use Admin in ConnectionCache (Solomon Duskis) (tedyu: rev 227ace9100043613a014d897dc78e97cc214ffac)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/util/ConnectionCache.java&lt;/li&gt;
	&lt;li&gt;hbase-thrift/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14379867" author="sduskis" created="Wed, 25 Mar 2015 13:37:31 +0000"  >&lt;p&gt;I&apos;ll do that within the next couple of hours.&lt;/p&gt;</comment>
                            <comment id="14380165" author="sduskis" created="Wed, 25 Mar 2015 16:29:56 +0000"  >&lt;p&gt;So I have a question to the group at large.  I essentially copied the default behavior from HBaseAdmin compact/majorCompact(byte[]) which is not replicated in the complementary methods that take TableName as a parameter.  &lt;/p&gt;

&lt;p&gt;Those methods in HBaseAdmin rely on IllegalArgumentException to differentiate between tableName and region. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  @Deprecated
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void majorCompact(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] tableNameOrRegionName, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] columnFamily)
  &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      compactRegion(tableNameOrRegionName, columnFamily, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IllegalArgumentException e) {
      &lt;span class=&quot;code-comment&quot;&gt;// Invalid region, &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; table
&lt;/span&gt;      compact(TableName.valueOf(tableNameOrRegionName), columnFamily, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That&apos;s a bit unpleasant in HBaseAdmin and quite a bit worse from the perspective of the thrift server, since it relies on internal details.  I need a nested try in order to &lt;/p&gt;

&lt;p&gt;1) inner try - capture the HBaseAdmin logic to differentiate between region and table and &lt;br/&gt;
2) outer try - uniformly handle IOExceptions from either compactRegion or compact table&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; suggested the following logic:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (TableName.isLegalTableQualifierName(tableNameOrRegionNameArray) {
          getAdmin().compact(TableName.valueOf(tableNameOrRegionNameArray));
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
          getAdmin().compactRegion(tableNameOrRegionNameArray);
        }
       } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
         LOG.warn(e.getMessage(), e);
         &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOError(e.getMessage());
       } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If that makes sense, I&apos;ll supply an addendum with that logic.&lt;/p&gt;</comment>
                            <comment id="14380449" author="sduskis" created="Wed, 25 Mar 2015 18:35:11 +0000"  >&lt;p&gt;Apparently, isLegalTableQualifierName also throws an exception to show its displeasure with illegal table names.  I don&apos;t see an easy clean way around this problem. &lt;/p&gt;</comment>
                            <comment id="14380491" author="sduskis" created="Wed, 25 Mar 2015 18:49:56 +0000"  >&lt;p&gt;Given that changing the nested try is a non-trivial issue, can we create another issue and call this specific issue done?&lt;/p&gt;</comment>
                            <comment id="14380833" author="enis" created="Wed, 25 Mar 2015 21:38:44 +0000"  >&lt;p&gt;I think the best way would be to also deprecate the thrift / REST methods that accept tableNameOrRegionName as parameters. I think we should differentiate the usage, and remove tableNameOrRegionName. Another issue though. &lt;/p&gt;</comment>
                            <comment id="14380865" author="mantonov" created="Wed, 25 Mar 2015 22:01:17 +0000"  >&lt;p&gt;Right. Thanks for digging into it &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sduskis&quot; class=&quot;user-hover&quot; rel=&quot;sduskis&quot;&gt;Solomon Duskis&lt;/a&gt;, +1 (nonbinding) on the patch with Ted&apos;s suggested addendum.&lt;/p&gt;

&lt;p&gt;Later I think we should do as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; suggested below - should deprecate (and remove in 2.0?) those methods accepting regionOrTable names and introduce separate methods for that. &lt;/p&gt;</comment>
                            <comment id="14381873" author="sduskis" created="Thu, 26 Mar 2015 13:38:14 +0000"  >&lt;p&gt;I replaced the nested try with a cast of getAdmin() to HBaseAdmin and a call to the original compact/majorCompact method call.  I added a TODO to deprecate the thrift method and create table and region counterparts.&lt;/p&gt;</comment>
                            <comment id="14381981" author="yuzhihong@gmail.com" created="Thu, 26 Mar 2015 14:44:16 +0000"  >&lt;p&gt;+1 on addendum.&lt;/p&gt;</comment>
                            <comment id="14382497" author="enis" created="Thu, 26 Mar 2015 19:35:53 +0000"  >&lt;p&gt;LGTM.&lt;/p&gt;</comment>
                            <comment id="14382513" author="mantonov" created="Thu, 26 Mar 2015 19:45:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14383261" author="hudson" created="Fri, 27 Mar 2015 02:49:17 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #833 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/833/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/833/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13327&quot; title=&quot;Use Admin in ConnectionCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13327&quot;&gt;&lt;del&gt;HBASE-13327&lt;/del&gt;&lt;/a&gt; Addendum replaced the nested try with a cast of getAdmin() to HBaseAdmin and a call to the original compact/majorCompact method (Solomon) (tedyu: rev ea03b10b0de29abc6ee72e8254c226f4aa529028)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14383269" author="hudson" created="Fri, 27 Mar 2015 03:02:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #327 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/327/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/327/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13327&quot; title=&quot;Use Admin in ConnectionCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13327&quot;&gt;&lt;del&gt;HBASE-13327&lt;/del&gt;&lt;/a&gt; Addendum replaced the nested try with a cast of getAdmin() to HBaseAdmin and a call to the original compact/majorCompact method (Solomon) (tedyu: rev 9d6aa4a8df39cb44dec2d36c11f0a4d51c73febb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14383276" author="hudson" created="Fri, 27 Mar 2015 03:15:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6308 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6308/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6308/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13327&quot; title=&quot;Use Admin in ConnectionCache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13327&quot;&gt;&lt;del&gt;HBASE-13327&lt;/del&gt;&lt;/a&gt; Addendum replaced the nested try with a cast of getAdmin() to HBaseAdmin and a call to the original compact/majorCompact method (Solomon) (tedyu: rev 306c44156a0f8248f9271d03000244182cecb3ae)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-thrift/src/main/java/org/apache/hadoop/hbase/thrift/ThriftServerRunner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14517722" author="enis" created="Tue, 28 Apr 2015 19:18:23 +0000"  >&lt;p&gt;Closing this issue after 1.0.1 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12773480">HBASE-12993</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12785199">HBASE-13322</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12707497" name="HBASE-13327-addendum.patch" size="2593" author="sduskis" created="Thu, 26 Mar 2015 13:38:14 +0000"/>
                            <attachment id="12706966" name="HBASE-13327.patch" size="7946" author="sduskis" created="Tue, 24 Mar 2015 18:42:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Mar 2015 21:01:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27aiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>