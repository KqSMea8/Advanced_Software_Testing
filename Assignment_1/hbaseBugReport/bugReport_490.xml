<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:44:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-490/HBASE-490.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-490] Doubly-assigned .META.; master uses one and clients another</title>
                <link>https://issues.apache.org/jira/browse/HBASE-490</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Internal cluster has two .META.,,1 regions up (Its possible for a region to be added twice to the unassigned map if meta scans run close together).  Worse is that the master is working with one .META. but when clients come in, they&apos;re being give the other.  Makes for odd results.&lt;/p&gt;

&lt;p&gt;Made it a blocker.  Still trying to track down how master doesn&apos;t see subsequent update of .META. info in &lt;del&gt;ROOT&lt;/del&gt;.....&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390106">HBASE-490</key>
            <summary>Doubly-assigned .META.; master uses one and clients another</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2008 01:25:07 +0000</created>
                <updated>Thu, 6 Mar 2008 21:52:42 +0000</updated>
                            <resolved>Tue, 4 Mar 2008 19:35:11 +0000</resolved>
                                    <version>0.1.0</version>
                    <version>0.2.0</version>
                                    <fixVersion>0.1.0</fixVersion>
                    <fixVersion>0.2.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12574845" author="stack" created="Tue, 4 Mar 2008 05:37:05 +0000"  >&lt;p&gt;Patch for 0.1.  Here is commit message:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-490&quot; title=&quot;Doubly-assigned .META.; master uses one and clients another&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-490&quot;&gt;&lt;del&gt;HBASE-490&lt;/del&gt;&lt;/a&gt;  Doubly-assigned .META.; master uses one and clients another&lt;/p&gt;

&lt;p&gt;On start, the first two scans run back-to-back.  The first scan of &lt;del&gt;ROOT&lt;/del&gt;&lt;br/&gt;
on restart of a decent size hbase install of more than a single server&lt;br/&gt;
will mark the .META. assignment as bad and assign the .META. to a&lt;br/&gt;
regionserver to deploy.  The logic in checkingAssignment fixed in the below&lt;br/&gt;
was allowing that the second scan would also assign the .META.,&lt;br/&gt;
usually to adifferent region server.  Both assignments would report back&lt;br/&gt;
in as successful opens.  Both would be added to metaRegionsToScan but only&lt;br/&gt;
the first addition would be acted on (I changed code here so we exhaust&lt;br/&gt;
metaRegionsToScan before we move out of initialScan).  The second would&lt;br/&gt;
never addition would never get promoted to being an online region even&lt;br/&gt;
though it being the second open, it would be the .META. that was written&lt;br/&gt;
into &lt;del&gt;ROOT&lt;/del&gt;; it would be what clients would get while the onlineRegions&lt;br/&gt;
would have the first .META. in it (Master was getting its .META. info&lt;br/&gt;
from this deploy)..&lt;/p&gt;

&lt;p&gt;M  src/java/org/apache/hadoop/hbase/HMaster.java&lt;br/&gt;
  Mild formatting. Javadoc.  Above described bug fixes.&lt;/p&gt;</comment>
                            <comment id="12574846" author="stack" created="Tue, 4 Mar 2008 05:46:15 +0000"  >&lt;p&gt;Passes tests locally on 0.1.&lt;/p&gt;</comment>
                            <comment id="12574850" author="stack" created="Tue, 4 Mar 2008 06:00:08 +0000"  >&lt;p&gt;For TRUNK&lt;/p&gt;</comment>
                            <comment id="12574858" author="stack" created="Tue, 4 Mar 2008 06:35:19 +0000"  >&lt;p&gt;Add fix for fact that scans of meta regions run back to back on start up (Fix in Sleeper class).&lt;/p&gt;</comment>
                            <comment id="12574859" author="stack" created="Tue, 4 Mar 2008 06:35:50 +0000"  >&lt;p&gt;Fix for TRUNK&lt;/p&gt;</comment>
                            <comment id="12575091" author="jimk" created="Tue, 4 Mar 2008 18:29:08 +0000"  >&lt;p&gt;Patches apply: +1&lt;br/&gt;
Patches reviewed: +1&lt;/p&gt;</comment>
                            <comment id="12575109" author="stack" created="Tue, 4 Mar 2008 19:34:56 +0000"  >&lt;p&gt;Patch for 0.16.0&lt;/p&gt;</comment>
                            <comment id="12575110" author="stack" created="Tue, 4 Mar 2008 19:35:11 +0000"  >&lt;p&gt;Committed to branch and TRUNK&lt;/p&gt;</comment>
                            <comment id="12575905" author="stack" created="Thu, 6 Mar 2008 21:52:42 +0000"  >&lt;p&gt;Applied to TRUNK and branch.  Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12377036" name="490-0.1-v2.patch" size="5870" author="stack" created="Tue, 4 Mar 2008 06:35:19 +0000"/>
                            <attachment id="12377110" name="490-0.16.0.patch" size="2707" author="stack" created="Tue, 4 Mar 2008 19:34:56 +0000"/>
                            <attachment id="12377037" name="490-TRUNK-v2.patch" size="5579" author="stack" created="Tue, 4 Mar 2008 06:35:50 +0000"/>
                            <attachment id="12377034" name="490-trunk.patch" size="23018" author="stack" created="Tue, 4 Mar 2008 06:00:08 +0000"/>
                            <attachment id="12377032" name="490.patch" size="1126" author="stack" created="Tue, 4 Mar 2008 05:37:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Mar 2008 18:29:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h7m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>