<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:51:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7999/HBASE-7999.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7999] Add &apos;system&apos; tables</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7999</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;System tables are necessary as we start moving towards other internally scoped uses for tables (already we have a similar paradigm with the ACL table in the security stuff). This allows things like an statistics table, a secondary index table, moving replication queues out of ZK - just to name a couple of things that have come up.&lt;/p&gt;

&lt;p&gt;The first use-case would be &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7958&quot; title=&quot;Statistics per-column family per-region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7958&quot;&gt;&lt;del&gt;HBASE-7958&lt;/del&gt;&lt;/a&gt; where we would want to support a system level statistics table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635273">HBASE-7999</key>
            <summary>Add &apos;system&apos; tables</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12634541">HBASE-7958</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jesse_yates">Jesse Yates</assignee>
                                    <reporter username="jesse_yates">Jesse Yates</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Mar 2013 03:52:26 +0000</created>
                <updated>Mon, 23 Sep 2013 19:16:10 +0000</updated>
                            <resolved>Wed, 14 Aug 2013 20:43:09 +0000</resolved>
                                                                    <component>Client</component>
                    <component>master</component>
                    <component>Protobufs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>17</watches>
                                                                <comments>
                            <comment id="13593043" author="jesse_yates" created="Tue, 5 Mar 2013 03:58:08 +0000"  >&lt;p&gt;Attaching patch for a basic implementation. &lt;/p&gt;

&lt;p&gt;In short, I&apos;m adding a tabledescriptor property that differentiates between a system table and a userspace one (means that users can create their own system tables too). It then just uses a simple arraylist track which tables are considered internal system tables and need to be created - if they don&apos;t exist already - before the cluster starts. Then, once we have that distinction I added a couple of tweaks to HBaseAdmin (and the protocol) to differentiate between system and userspace tables. &lt;/p&gt;

&lt;p&gt;It was a one-line wrapper to make .META. and &lt;del&gt;ROOT&lt;/del&gt; system tables as well, so they will still not show up in regular #list commands, but will now be found if you do list_system_tables in the shell (or the corresponding method in HBaseAdmin)&lt;/p&gt;</comment>
                            <comment id="13593046" author="jesse_yates" created="Tue, 5 Mar 2013 04:02:26 +0000"  >&lt;p&gt;And RB here: &lt;a href=&quot;https://reviews.apache.org/r/9742/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9742/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13593541" author="jesse_yates" created="Tue, 5 Mar 2013 16:27:35 +0000"  >&lt;p&gt;+1s from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; on RB. Hoping to commit by end of the week (so others have a chance to take a look).&lt;/p&gt;</comment>
                            <comment id="13593551" author="eclark" created="Tue, 5 Mar 2013 16:34:00 +0000"  >&lt;p&gt;+1 though we&apos;ll have to change the web ui so that tables with this new property show up in the systems tables tabs.  Either in a follow on jira or in here.&lt;/p&gt;</comment>
                            <comment id="13593555" author="jesse_yates" created="Tue, 5 Mar 2013 16:37:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; - is there already a system tables tab? Or are you proposing we add one?&lt;/p&gt;</comment>
                            <comment id="13593569" author="eclark" created="Tue, 5 Mar 2013 16:48:21 +0000"  >&lt;p&gt;The master ui has a catalog tables (should probably be renamed) tab which is there by hard coding root and meta.&lt;/p&gt;</comment>
                            <comment id="13593650" author="hadoopqa" created="Tue, 5 Mar 2013 17:40:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572024/hbase-7999-v0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572024/hbase-7999-v0.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestStoreFileBlockCacheSummary&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterFailover&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4672//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13593682" author="sershe" created="Tue, 5 Mar 2013 17:59:52 +0000"  >&lt;p&gt;some feedback on r&lt;/p&gt;</comment>
                            <comment id="13593693" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 18:09:48 +0000"  >&lt;p&gt;I get the test failure locally:&lt;/p&gt;

&lt;p&gt;Failed tests:   testBlockCacheSummary(org.apache.hadoop.hbase.regionserver.TestStoreFileBlockCacheSummary): blockCache summary has entries expected:&amp;lt;3&amp;gt; but was:&amp;lt;2&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13593707" author="jesse_yates" created="Tue, 5 Mar 2013 18:21:32 +0000"  >&lt;p&gt;Thanks Ted - looking into it. New patch coming soon with the fix and applying comments from Sergey (good eye!)&lt;/p&gt;</comment>
                            <comment id="13593725" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 18:36:28 +0000"  >&lt;p&gt;I think it would be clearer to express systemTables parameter as an enum instead of boolean.&lt;br/&gt;
We should be able to satisfy the following three combinations for methods such as getAll():&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;user tables only&lt;/li&gt;
	&lt;li&gt;system tables only&lt;/li&gt;
	&lt;li&gt;both user tables and system tables&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13593739" author="jesse_yates" created="Tue, 5 Mar 2013 18:43:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; do we ever want to get both together? I&apos;d rather keep them separate and make you work if you really want all of them. Its too easy to start mucking everything up given too much easy access&lt;/p&gt;</comment>
                            <comment id="13593742" author="jesse_yates" created="Tue, 5 Mar 2013 18:43:54 +0000"  >&lt;p&gt;Also, looks like that test failure is due to the code there just being &lt;em&gt;wrong&lt;/em&gt; - I&apos;ll file another JIRA to fix it before committing this.&lt;/p&gt;</comment>
                            <comment id="13593751" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 18:48:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d rather keep them separate and make you work if you really want all of them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is fine as long as it is clearly expressed.&lt;/p&gt;</comment>
                            <comment id="13595421" author="jesse_yates" created="Thu, 7 Mar 2013 01:46:38 +0000"  >&lt;p&gt;Updating patch to the latest on RB. Addresses comments from RB and adds Master UI changes (as per Elliott&apos;s suggestion).&lt;/p&gt;</comment>
                            <comment id="13595433" author="enis" created="Thu, 7 Mar 2013 02:03:45 +0000"  >&lt;p&gt;After seeing Francis&apos; namespace proposal (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8015&quot; title=&quot;Support for Namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8015&quot;&gt;HBASE-8015&lt;/a&gt;), I wonder whether we really need to keep a bool in HTD. If we instead to a System namespace, all tables under it will automatically be system tables. &lt;/p&gt;</comment>
                            <comment id="13595440" author="jesse_yates" created="Thu, 7 Mar 2013 02:13:28 +0000"  >&lt;p&gt;Yeah, I was reading through that a little bit - its cool stuff and seemed to subsume some of this. We&apos;d still need to have the auto-creation stuff, but otherwise would cover what I have in mind. The advantage here is that its pretty simple and already written &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; whereas &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8015&quot; title=&quot;Support for Namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8015&quot;&gt;HBASE-8015&lt;/a&gt; is going to be a much more involved change&lt;/p&gt;</comment>
                            <comment id="13595551" author="enis" created="Thu, 7 Mar 2013 05:06:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;The advantage here is that its pretty simple and already written&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. We can go with this and revisit the implementation once we have namespaces. The only thing is that we are exposing some of the stuff (like list_system_tables, list table rpc, etc). If we resolve &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8015&quot; title=&quot;Support for Namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8015&quot;&gt;HBASE-8015&lt;/a&gt;, there won&apos;t be any need for those. &lt;/p&gt;</comment>
                            <comment id="13595552" author="jesse_yates" created="Thu, 7 Mar 2013 05:11:11 +0000"  >&lt;p&gt;I&apos;d argue that we should still reserve a system namespace (the same is already discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8015&quot; title=&quot;Support for Namespaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8015&quot;&gt;HBASE-8015&lt;/a&gt;), so keeping these special system labels around isn&apos;t all that far fetched. The actual list table rpc would change, but other than that much of the higher-level things would remain very similar (e.g. ui, shell, etc) to support the system tooling separate from the regular namespace (to help avoid accidental changes to internal tables)&lt;/p&gt;</comment>
                            <comment id="13595588" author="enis" created="Thu, 7 Mar 2013 06:08:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d argue that we should still reserve a system namespace&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Indeed. We should have smt like &quot;system&quot; as a reserved ns, and all tables in it by default would be system tables. We wouldn&apos;t need a different list command for example, since list tables in namespace would be applicable.&lt;/p&gt;</comment>
                            <comment id="13740154" author="stack" created="Wed, 14 Aug 2013 20:34:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt; What to do w/ this issue now ns has gone in?&lt;/p&gt;</comment>
                            <comment id="13740160" author="jesse_yates" created="Wed, 14 Aug 2013 20:43:09 +0000"  >&lt;p&gt;Moving to won&apos;t fix, as its superceded by namespaces.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12644237">HBASE-8408</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12572024" name="hbase-7999-v0.patch" size="40627" author="jesse_yates" created="Tue, 5 Mar 2013 03:58:08 +0000"/>
                            <attachment id="12572459" name="hbase-7999-v2.patch" size="42281" author="jesse_yates" created="Thu, 7 Mar 2013 01:46:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Mar 2013 16:34:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ihl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>