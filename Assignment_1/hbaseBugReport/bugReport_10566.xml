<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:15:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10566/HBASE-10566.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10566] cleanup rpcTimeout in the client</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10566</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There are two issues:&lt;br/&gt;
1) A confusion between the socket timeout and the call timeout&lt;br/&gt;
Socket timeouts should be minimal: a default like 20 seconds, that could be lowered to single digits timeouts for some apps: if we can not write to the socket in 10 second, we have an issue. This is different from the total duration (send query + do query + receive query), that can be longer, as it can include remotes calls on the server and so on. Today, we have a single value, it does not allow us to have low socket read timeouts.&lt;br/&gt;
2) The timeout can be different between the calls. Typically, if the total time, retries included is 60 seconds but failed after 2 seconds, then the remaining is 58s. HBase does this today, but by hacking with a thread local storage variable. It&apos;s a hack (it should have been a parameter of the methods, the TLS allowed to bypass all the layers. May be protobuf makes this complicated, to be confirmed), but as well it does not really work, because we can have multithreading issues (we use the updated rpc timeout of someone else, or we create a new BlockingRpcChannelImplementation with a random default timeout).&lt;/p&gt;

&lt;p&gt;Ideally, we could send the call timeout to the server as well: it will be able to dismiss alone the calls that it received but git stick in the request queue or in the internal retries (on hdfs for example).&lt;/p&gt;

&lt;p&gt;This will make the system more reactive to failure.&lt;br/&gt;
I think we can solve this now, especially after 10525. The main issue is to something that fits well with protobuf...&lt;br/&gt;
Then it should be easy to have a pool of thread for writers and readers, w/o a single thread per region server as today. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12695923">HBASE-10566</key>
            <summary>cleanup rpcTimeout in the client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Feb 2014 11:16:00 +0000</created>
                <updated>Sat, 21 Feb 2015 23:32:00 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 16:29:06 +0000</resolved>
                                    <version>0.99.0</version>
                                    <fixVersion>0.99.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13905738" author="nkeywal" created="Wed, 19 Feb 2014 17:41:25 +0000"  >&lt;p&gt;To be fixed in this patch, there is a bug in HTable#mutateRow&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void mutateRow(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; RowMutations rm) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    RegionServerCallable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt;&amp;gt; callable =
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegionServerCallable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt;&amp;gt;(connection, getName(), rm.getRow()) {
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt; call() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          RegionAction.Builder regionMutationBuilder = RequestConverter.buildRegionAction(
            getLocation().getRegionInfo().getRegionName(), rm);
          regionMutationBuilder.setAtomic(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
          MultiRequest request =
            MultiRequest.newBuilder().addRegionAction(regionMutationBuilder.build()).build();
          PayloadCarryingRpcController pcrc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PayloadCarryingRpcController();
          pcrc.setPriority(tableName);
          getStub().multi(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, request); &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; pcrc not used
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ServiceException se) {
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ProtobufUtil.getRemoteException(se);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      }
    };
    rpcCallerFactory.&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt;&amp;gt; newCaller().callWithRetries(callable, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.operationTimeout);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13905868" author="nkeywal" created="Wed, 19 Feb 2014 18:56:23 +0000"  >&lt;p&gt;Here a sample, using the rpcController to give the info:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;call() is replaced by call(finishBefore): it indicates that the call should finish before this time&lt;/li&gt;
	&lt;li&gt;call(0) means default timeout&lt;/li&gt;
	&lt;li&gt;we could forward the info to the server (somewhere in protobuf)&lt;/li&gt;
	&lt;li&gt;we would need to instantiate one rpcController per call (we more or less do that already)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Any opinion on the approach? It seems that&apos;s how protobuf should be used, but I may be wrong. &lt;/p&gt;</comment>
                            <comment id="13907013" author="nkeywal" created="Thu, 20 Feb 2014 14:47:07 +0000"  >&lt;p&gt;Any feedback? Is the approach for the rpcController ok?&lt;/p&gt;</comment>
                            <comment id="13908255" author="nkeywal" created="Fri, 21 Feb 2014 12:49:02 +0000"  >&lt;p&gt;As well to include in this patch: same policy for ServerRpcController: one throws UnsupportedException, one does nothing.&lt;/p&gt;</comment>
                            <comment id="13908332" author="nkeywal" created="Fri, 21 Feb 2014 13:55:51 +0000"  >&lt;p&gt;Interestingly: &quot;A specific RpcController implementation may very well provide a SetTimeout() method &#8212; Google&#8217;s internal implementation does exactly this.&quot; - &lt;a href=&quot;http://steve.vinoski.net/blog/2008/07/13/protocol-buffers-leaky-rpc/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://steve.vinoski.net/blog/2008/07/13/protocol-buffers-leaky-rpc/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So likely, it&apos;s likely the right approach from a protobuf PoV, even if I&apos;m not sure that we&apos;re totally rpc protobuf friendly...&lt;/p&gt;</comment>
                            <comment id="13908493" author="nkeywal" created="Fri, 21 Feb 2014 16:37:07 +0000"  >&lt;p&gt;The difficult point is to correlate this with the cancel. The RpcController supports the cancellation, but we don&apos;t really show this class to the client code. However, doing a cancel is a client decision. So we can be protobuf compliant with the timeout, as it&apos;s something we manage as a conf parameter, so we don&apos;t have to show the RpcController to the client,  but we can&apos;t easily be protobuf compliant with the cancel, as it would require to expose this RpcController.&lt;/p&gt;

&lt;p&gt;the path for this jira is:&lt;br/&gt;
clean rpc timeout -&amp;gt; shared thread pool for the connection instead of 2 threads per region server -&amp;gt; cancellation server side&lt;br/&gt;
likely, this would help to put Netty or byteBuffer in the loop as well.&lt;br/&gt;
And this would allow to have shorter socket timeout: today, if we want to support an operation that can last a few minutes (a scan with a lot of filters under heavy load for example), we need to have a socket timeout of a few minutes as well.&lt;/p&gt;

&lt;p&gt;So I&apos;m interested in any feedback. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; ? &lt;/p&gt;</comment>
                            <comment id="13908563" author="nkeywal" created="Fri, 21 Feb 2014 17:45:53 +0000"  >&lt;p&gt;Nick pointed me to this, it&apos;s quite interesting: &lt;a href=&quot;https://code.google.com/p/protobuf-rpc-pro/wiki/RpcTimeout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://code.google.com/p/protobuf-rpc-pro/wiki/RpcTimeout&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13908619" author="stack" created="Fri, 21 Feb 2014 18:29:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Nick pointed me to this, it&apos;s quite interesting: &lt;a href=&quot;https://code.google.com/p/protobuf-rpc-pro/wiki/RpcTimeout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://code.google.com/p/protobuf-rpc-pro/wiki/RpcTimeout&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  It would be fun to try and drop in a new transport, one that had fancyness like that of pb-rpc-pro with bidirectional messaging and cancel, etc.&lt;/p&gt;

&lt;p&gt;Or this dead one: &lt;a href=&quot;https://code.google.com/p/netty-protobuf-rpc/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://code.google.com/p/netty-protobuf-rpc/&lt;/a&gt;  There are others too..&lt;/p&gt;

&lt;p&gt;This is a thorny issue N.  Thanks for digging in.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;if we can not write to the socket in 10 second, we have an issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  We&apos;ve inherited a load of our timeouts from our batch-orientated parent and have yet to change them in many cases.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Today, we have a single value, it does not allow us to have low socket read timeouts.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. Excellent.  This sloppyness has been allowed prevail down through the years (sorry about that).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;May be protobuf makes this complicated, to be confirmed), but as well it does not really work, because we can have multithreading issues &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This we inherited from the hadoop rpc.&lt;/p&gt;

&lt;p&gt;You think we should just do a new transport altogether?  You are fixing ugly legacy.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we could send the call timeout to the server as well: &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  Server might reject a call, even before it starts working on it, because it is already past its timeout (for whatever reason)&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;getStub().multi(null, request); &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; pcrc not used&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we would need to instantiate one rpcController per call (we more or less do that already)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We do this already &amp;#8211; at least IIRC, this is what the model puts up on us.&lt;/p&gt;

&lt;p&gt;rpcController we use at the moment for carrying our cellblock across the pb rpc interface (it doesn&apos;t allow for extra args as is).&lt;/p&gt;

&lt;p&gt;Let me look at the patch&lt;/p&gt;



</comment>
                            <comment id="13908647" author="nkeywal" created="Fri, 21 Feb 2014 18:41:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;You think we should just do a new transport altogether? You are fixing ugly legacy.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m not that ambitious &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I&apos;m not saying it does not make sense.&lt;br/&gt;
I&apos;m trying to remove the non standard behaviors: here, the TLS is both buggy and impact the threading model. By removing it I can have a different one, likely more compatible with any other rpc layer, but, anyway and short term, less buggy. If I remove the TLS, I can have a thread pool for all the servers, and this will allow me to have a single code path after 10525. In any case, we need to have standard features. Client side, the issues were the ping and the rpc timeout. I think that if we remove them, we&apos;re clean imho. Server side it&apos;s more complex: delayed call, priorities, configurable schedulers, ...&lt;/p&gt;

&lt;p&gt;Thanks a lot for reviewing: the patch is not complete, but I need feedback on the direction, especially because it&apos;s going to touch a lot of parts (trivial changes, but all over the place).&lt;/p&gt;</comment>
                            <comment id="13908668" author="stack" created="Fri, 21 Feb 2014 18:54:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m not that ambitious.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is because you are more sensible than I (smile).&lt;/p&gt;

&lt;p&gt;Sounds like we&apos;d have to remove the TLS anyway, whether new transport or not.&lt;/p&gt;

&lt;p&gt;Let me review the patch.  Can do new transport in another issue (smile).&lt;/p&gt;</comment>
                            <comment id="13908707" author="stack" created="Fri, 21 Feb 2014 19:21:06 +0000"  >&lt;p&gt;TimeLimitedRpcController.java is missing from the patch (but I think I can imagine what it looks like &amp;#8211; smile).&lt;/p&gt;

&lt;p&gt;Hmm.... this is radical difference:&lt;/p&gt;

&lt;p&gt;-public interface RetryingCallable&amp;lt;T&amp;gt; extends Callable&amp;lt;T&amp;gt; {&lt;br/&gt;
+public interface RetryingCallable&amp;lt;T&amp;gt;  {&lt;/p&gt;

&lt;p&gt;I suppose it is ok.  Maybe rename the class so it is not confused with Callable.&lt;/p&gt;

&lt;p&gt;The cleanup in RpcRetryingCaller is great.&lt;/p&gt;

&lt;p&gt;Why does this have to be a data member in RpcClient?&lt;/p&gt;

&lt;p&gt;+    final long finishBefore;&lt;/p&gt;

&lt;p&gt;... oh I see ... there is a Call per method invocation... makes sense.&lt;/p&gt;

&lt;p&gt;Fix spelling: finisheBefore&lt;/p&gt;

&lt;p&gt;Nice cleanup in RpcClient.java.... removing the TL&lt;/p&gt;

&lt;p&gt;Patch lgtm.&lt;/p&gt;</comment>
                            <comment id="13908726" author="ndimiduk" created="Fri, 21 Feb 2014 19:39:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;A confusion between the socket timeout and the call timeout&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yet you chose the name &quot;finishBefore&quot;. Doesn&apos;t &quot;callTimeout&quot; make more sense for this parameter name?&lt;/p&gt;

&lt;p&gt;Is &lt;tt&gt;TimeLimitedRpcController&lt;/tt&gt; left as an exercise to the reader? Perhaps this is what you mean by &quot;sample&quot;. Again with the name choice (for my own clarity mostly), I understand this to be an implementation of RpcController that honors an RpcCallTimeout setting.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Nick pointed me to this, it&apos;s quite interesting&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;My intention was to show how that implementation manages Rpc timeout. I&apos;ve studied their implementation a bit, but don&apos;t know how to map those concepts back to ours. In their implementation, the timeout management is handled as an ExecutorService implementation.&lt;/p&gt;</comment>
                            <comment id="13908830" author="stack" created="Fri, 21 Feb 2014 21:20:21 +0000"  >&lt;p&gt;I like Nick&apos;s namings&lt;/p&gt;</comment>
                            <comment id="13910145" author="nkeywal" created="Mon, 24 Feb 2014 09:42:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;I suppose it is ok. Maybe rename the class so it is not confused with Callable.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually, we never use the fact that it&apos;s a java Callable. But changing the name can impact a lot of code. I will try (intelliJ will do the change for me, but it can make the patch much bigger, I don&quot;t know).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Is TimeLimitedRpcController left as an exercise to the reader&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I forgot it (usual stuff: not added to git, so not included in git diff). But the patch globally compiles but does not set the timeout all the time.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Doesn&apos;t &quot;callTimeout&quot; make more sense for this parameter name?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Often timeout indicates a duration, while here I used something like a cutoff time. That&apos;s what I wanted to express. There is an implication however: the client and the server time must be in sync. Even if it&apos;s a common requirement, I&apos;m not sure I&apos;m not going to change my mind.&lt;/p&gt;

&lt;p&gt;Thanks a lot for the feedback, I&apos;m going to try to write the full patch.&lt;/p&gt;

</comment>
                            <comment id="13910452" author="nkeywal" created="Mon, 24 Feb 2014 16:31:39 +0000"  >&lt;p&gt;v1 is a first attempt. I haven&apos;t run all the tests locally, but I had no error after a 30 minutes run.&lt;/p&gt;

&lt;p&gt;3 different socket timeouts&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;connect&lt;/li&gt;
	&lt;li&gt;read&lt;/li&gt;
	&lt;li&gt;write&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For all of them, we should be able to set them to low value, something like 2 / 5 / 5, without any impact. Likely I will need to write a test for this. The existing timeout of 60s is a global timeout for the operation. I need to double check how we were using the existing operationTimout, my feeling is that it was buggy, and that it was overriding the individual timeout. If it&apos;s the case, it&apos;s still buggy.&lt;/p&gt;

</comment>
                            <comment id="13910592" author="hadoopqa" created="Mon, 24 Feb 2014 18:11:59 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12630699/10566.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12630699/10566.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12630699&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestClientOperationInterrupt&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8785//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13910602" author="nkeywal" created="Mon, 24 Feb 2014 18:20:38 +0000"  >&lt;p&gt;v2 fixes the test error. I&apos;m not sure that we should not get rid of &apos;wrapException&apos; however. We&apos;re spending a lot of time wrapping the exceptions, and then unwrapping them to discover what really happened.&lt;/p&gt;</comment>
                            <comment id="13910746" author="hadoopqa" created="Mon, 24 Feb 2014 20:05:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12630733/10566.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12630733/10566.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12630733&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 3 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8787//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13910954" author="stack" created="Mon, 24 Feb 2014 23:11:00 +0000"  >&lt;p&gt;Fix javadoc warning on commit?&lt;/p&gt;

&lt;p&gt;This is a a great comment: &quot;We&apos;re spending a lot of time wrapping the exceptions, and then unwrapping them to discover what really happened.&quot;  File an issue for this one when you get a chance.&lt;/p&gt;

&lt;p&gt;Patch looks great to me.  Commit.&lt;/p&gt;
</comment>
                            <comment id="13911487" author="nkeywal" created="Tue, 25 Feb 2014 11:19:38 +0000"  >&lt;p&gt;v3:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fix the javadoc warnings&lt;/li&gt;
	&lt;li&gt;add a test&lt;/li&gt;
	&lt;li&gt;test showed that some HTable paths were not setting the timeout. Fixed.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;ProtobufUtils contains code that belong to the client code. I  haven&apos;t fixed them all, the patch would become too big. I think we&apos;re as good as before.&lt;/p&gt;</comment>
                            <comment id="13911488" author="nkeywal" created="Tue, 25 Feb 2014 11:21:36 +0000"  >&lt;p&gt;Added to that, the existing code does this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; T callWithRetries(RetryingCallable&amp;lt;T&amp;gt; callable) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException,
      RuntimeException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; callWithRetries(callable, HConstants.DEFAULT_HBASE_CLIENT_OPERATION_TIMEOUT);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, the setting is not taken into account; we use the hardcoded default value in many cases....&lt;br/&gt;
The patch does not change this.&lt;/p&gt;</comment>
                            <comment id="13911548" author="hadoopqa" created="Tue, 25 Feb 2014 13:07:37 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12630929/10566.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12630929/10566.v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12630929&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.1&lt;/font&gt;.  The patch compiles against the hadoop 1.1 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/8797//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13911557" author="nkeywal" created="Tue, 25 Feb 2014 13:21:49 +0000"  >&lt;p&gt;I plan to commit this shortly. The &lt;cite&gt;callWithRetries(callable, HConstants.DEFAULT_HBASE_CLIENT_OPERATION_TIMEOUT);&lt;/cite&gt; looks terrible, but may it&apos;s &apos;feature by accident&apos;, so it&apos;s better to fix this in a separate patch.&lt;/p&gt;</comment>
                            <comment id="13911682" author="stack" created="Tue, 25 Feb 2014 16:06:52 +0000"  >&lt;p&gt;+1 on fix in separate patch&lt;/p&gt;</comment>
                            <comment id="13911696" author="nkeywal" created="Tue, 25 Feb 2014 16:29:06 +0000"  >&lt;p&gt;Committed to trunk, thanks for the review, Nick &amp;amp; Stack.&lt;br/&gt;
Release notes and derivate jiras are coming.&lt;/p&gt;</comment>
                            <comment id="13911703" author="nkeywal" created="Tue, 25 Feb 2014 16:38:42 +0000"  >&lt;p&gt;btw, I&apos;m seeing this only now, but I extended the original naming &apos;ipc.socket.timeout&apos;, and that was not prefixed by &apos;hbase.&apos; I should change this, no?&lt;/p&gt;</comment>
                            <comment id="13911856" author="apurtell" created="Tue, 25 Feb 2014 18:32:24 +0000"  >&lt;p&gt;Belated +1&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;btw, I&apos;m seeing this only now, but I extended the original naming &apos;ipc.socket.timeout&apos;, and that was not prefixed by &apos;hbase.&apos; I should change this, no?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.&lt;/p&gt;</comment>
                            <comment id="13911926" author="hudson" created="Tue, 25 Feb 2014 19:27:33 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4953 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4953/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4953/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt; cleanup rpcTimeout in the client - missing TimeLimitedRpcController (nkeywal: rev 1571730)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/TimeLimitedRpcController.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt; cleanup rpcTimeout in the client (nkeywal: rev 1571727)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/DelegatingRetryingCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/MultiServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Put.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RetryingCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RpcRetryingCaller.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/PayloadCarryingRpcController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALEditsReplaySink.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionServerBulkLoad.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13911944" author="nkeywal" created="Tue, 25 Feb 2014 19:37:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;Belated +1&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Yes.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Will do as an addendum. &lt;/p&gt;</comment>
                            <comment id="13912401" author="hudson" created="Wed, 26 Feb 2014 01:50:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #99 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/99/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/99/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt; cleanup rpcTimeout in the client - missing TimeLimitedRpcController (nkeywal: rev 1571730)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/TimeLimitedRpcController.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt; cleanup rpcTimeout in the client (nkeywal: rev 1571727)&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientSmallScanner.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/DelegatingRetryingCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/MultiServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/Put.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RegionServerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RetryingCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/RpcRetryingCaller.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/PayloadCarryingRpcController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RegionCoprocessorRpcChannel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/ProtobufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/LoadIncrementalHFiles.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/protobuf/ReplicationProtbufUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALEditsReplaySink.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestHCM.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestEndToEndSplitTransaction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionServerBulkLoad.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13912826" author="nkeywal" created="Wed, 26 Feb 2014 12:43:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;Will do as an addendum. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Done.&lt;/p&gt;</comment>
                            <comment id="13913012" author="hudson" created="Wed, 26 Feb 2014 15:25:15 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #4957 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4957/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4957/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt; cleanup rpcTimeout in the client - addendum (nkeywal: rev 1572033)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13913964" author="hudson" created="Thu, 27 Feb 2014 02:39:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK-on-Hadoop-1.1 #100 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-1.1/100/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10566&quot; title=&quot;cleanup rpcTimeout in the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10566&quot;&gt;&lt;del&gt;HBASE-10566&lt;/del&gt;&lt;/a&gt; cleanup rpcTimeout in the client - addendum (nkeywal: rev 1572033)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330898" author="enis" created="Sat, 21 Feb 2015 23:32:00 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629847" name="10566.sample.patch" size="50345" author="nkeywal" created="Wed, 19 Feb 2014 18:52:14 +0000"/>
                            <attachment id="12630699" name="10566.v1.patch" size="74234" author="nkeywal" created="Mon, 24 Feb 2014 16:25:29 +0000"/>
                            <attachment id="12630733" name="10566.v2.patch" size="74216" author="nkeywal" created="Mon, 24 Feb 2014 18:19:08 +0000"/>
                            <attachment id="12630929" name="10566.v3.patch" size="98600" author="nkeywal" created="Tue, 25 Feb 2014 11:12:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Feb 2014 18:29:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sipj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3 new settings are now available to configure the socket in the HBase client:&lt;br/&gt;
- connect timeout: &amp;quot;hbase.ipc.client.socket.timeout.connect&amp;quot; (milliseconds, default: 10 seconds)&lt;br/&gt;
- write timeout: &amp;quot;hbase.ipc.client.socket.timeout.read&amp;quot; (milliseconds, default: 20 seconds)&lt;br/&gt;
- read timeout: &amp;quot;hbase.ipc.client.socket.timeout.write&amp;quot; (milliseconds, default: 60 seconds)&lt;br/&gt;
&lt;br/&gt;
ipc.socket.timeout is not used anymore.&lt;br/&gt;
The per operation timeout is still controled by hbase.rpc.timeout &lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>