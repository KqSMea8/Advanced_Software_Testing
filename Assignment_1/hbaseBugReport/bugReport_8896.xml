<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:59:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8896/HBASE-8896.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8896] Refactor RetryCounter so it is generally useful</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8896</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;RetryCounter is a useful looking endeavor that is half done.   Notion is a class to manage retry and the sleep between retries.  We retry everywhere so this could save code.  There is a half-done factory too that is used currently just by RecoverableZooKeeper.  The factory only produces one RetryCounter type.  It&apos;s purpose seems to be just save on having to have configs available everywhere we want to do retrying.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656677">HBASE-8896</key>
            <summary>Refactor RetryCounter so it is generally useful</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Mon, 8 Jul 2013 20:43:04 +0000</created>
                <updated>Tue, 5 Aug 2014 20:13:12 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13702406" author="stack" created="Mon, 8 Jul 2013 20:52:08 +0000"  >&lt;p&gt;Rename RetryCounter as RetryAccountant.  Add an Interface of this name.  The&lt;br/&gt;
interface is more bare than original RetryCounter; removed methods that expose&lt;br/&gt;
implementation and that are redundant.  Move original implementation to&lt;br/&gt;
BasicRetryAccontant.  Add new implemenation that&lt;br/&gt;
makes use of the RETRY_BACKOFF over in HConstants and that has a maximum amount&lt;br/&gt;
of time to try.  Add tests.&lt;/p&gt;

&lt;p&gt;M hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java&lt;br/&gt;
  Add the retrycounterfactory in here rather than have as standalone class.  The&lt;br/&gt;
  standalone class is not a true factory and would be hard to adapt given we want&lt;br/&gt;
  retriers to take different args.  Use BasicRetryAccountant instead of RetryCounter.&lt;br/&gt;
  Remove calls to up counter since done when we call sleep.&lt;/p&gt;

&lt;p&gt;A hbase-common/src/main/java/org/apache/hadoop/hbase/util/BasicRetryAccountant.java&lt;br/&gt;
  This does what RetryCounter used to caveat it now implements RetryAccountant&lt;br/&gt;
  interface.&lt;/p&gt;

&lt;p&gt;A hbase-common/src/main/java/org/apache/hadoop/hbase/util/MaxTimeRetryAccountant.java&lt;br/&gt;
  Implemenation that uses our RETRY_BACKOFF and has maximum bounding time.&lt;/p&gt;

&lt;p&gt;A hbase-common/src/main/java/org/apache/hadoop/hbase/util/RetryAccountant.java&lt;br/&gt;
  Interface&lt;/p&gt;

&lt;p&gt;D hbase-common/src/main/java/org/apache/hadoop/hbase/util/RetryCounter.java&lt;br/&gt;
  Removed&lt;/p&gt;

&lt;p&gt;D hbase-common/src/main/java/org/apache/hadoop/hbase/util/RetryCounterFactory.java&lt;br/&gt;
  Moved into RecoverableZooKeeper, the only class that needs it.&lt;/p&gt;

&lt;p&gt;A hbase-common/src/test/java/org/apache/hadoop/hbase/util/TestMaxTimeRetryAccountant.java&lt;br/&gt;
  Tests&lt;/p&gt;</comment>
                            <comment id="13702407" author="stack" created="Mon, 8 Jul 2013 20:53:06 +0000"  >&lt;p&gt;Just to say that MaxTimeoutRetryAccountant is not currently used.  Was going to use it up in ServerCallable at least.&lt;/p&gt;</comment>
                            <comment id="13702413" author="stack" created="Mon, 8 Jul 2013 20:56:48 +0000"  >&lt;p&gt;Posted &lt;a href=&quot;https://reviews.apache.org/r/12339/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12339/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13703905" author="sershe" created="Tue, 9 Jul 2013 22:30:35 +0000"  >&lt;p&gt;some comments on rb&lt;/p&gt;</comment>
                            <comment id="13728019" author="stack" created="Fri, 2 Aug 2013 19:55:47 +0000"  >&lt;p&gt;Moving out this improvement. &lt;/p&gt;</comment>
                            <comment id="14086683" author="hadoopqa" created="Tue, 5 Aug 2014 20:13:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12591271/8896.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12591271/8896.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12591271&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 2 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10300//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10300//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12656499">HBASE-8888</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12591271" name="8896.txt" size="26225" author="stack" created="Mon, 8 Jul 2013 20:52:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Jul 2013 22:30:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m40v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>beginner</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>