<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:05:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2900/HBASE-2900.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2900] HBase Out of Memory when the java client connect to the hbase server first time</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2900</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I installed the hbase and hadoop under the Pseudo-Distributed mode:&lt;/p&gt;

&lt;p&gt;I configure the server side with following configuration:&lt;/p&gt;

&lt;p&gt;hadoop: core-site.xml&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;fs.default.name&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;hdfs://cluster1.office:9000&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;hadoop:mapred-site.xml&lt;br/&gt;
&amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;mapred.job.tracker&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;localhost:9001&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;hadoop:hdfs-site.xml&lt;br/&gt;
  &amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;dfs.replication&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;1&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;hbase:hbase-site.xml&lt;br/&gt;
 &amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;hbase.rootdir&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;hdfs://cluster1.office:9000/hbase&amp;lt;/value&amp;gt;&lt;br/&gt;
    &amp;lt;description&amp;gt;The directory shared by region servers.&lt;br/&gt;
    &amp;lt;/description&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;I configure my client side(this is not in the same server as the server side) with following configuration:&lt;br/&gt;
  &amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;hbase.rootdir&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;hdfs://cluster1.office/hbase&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;br/&gt;
  &amp;lt;property&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;hbase.zookeeper.quorum&amp;lt;/name&amp;gt;&lt;br/&gt;
    &amp;lt;value&amp;gt;cluster1.office&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;And then I connect to server side by java API described in the following page:&lt;br/&gt;
&lt;a href=&quot;http://hbase.apache.org/docs/current/api/org/apache/hadoop/hbase/client/package-summary.html#package_description&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hbase.apache.org/docs/current/api/org/apache/hadoop/hbase/client/package-summary.html#package_description&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately I get the Out of memory error:&lt;/p&gt;

&lt;p&gt;2010-08-04 17:57:49,636 INFO org.apache.hadoop.hbase.regionserver.HRegion: Starting compaction on region &lt;del&gt;ROOT&lt;/del&gt;,,0&lt;br/&gt;
2010-08-04 17:57:49,686 INFO org.apache.hadoop.hbase.master.ServerManager: 1 region servers, 0 dead, average load 4.0&lt;br/&gt;
2010-08-04 17:57:49,815 DEBUG org.apache.hadoop.hbase.regionserver.Store: Compaction size of info: 4.0k; Skipped 1 file(s), size: 1849&lt;br/&gt;
2010-08-04 17:57:49,815 INFO org.apache.hadoop.hbase.regionserver.Store: Started compaction of 4 file(s) in info of &lt;del&gt;ROOT&lt;/del&gt;,,0  into /hbase/&lt;del&gt;ROOT&lt;/del&gt;/compaction.dir/70236052, seqid=112&lt;br/&gt;
2010-08-04 17:57:49,921 INFO org.apache.hadoop.hbase.regionserver.Store: Completed compaction of 4 file(s) in info of &lt;del&gt;ROOT&lt;/del&gt;,,0; new storefile is hdfs://cluster1.jsw.office:9000/hbase/&lt;del&gt;ROOT&lt;/del&gt;/70236052/info/1636337967443011476; store size is 3.0k&lt;br/&gt;
2010-08-04 17:57:49,926 INFO org.apache.hadoop.hbase.regionserver.HRegion: compaction completed on region &lt;del&gt;ROOT&lt;/del&gt;,,0 in 0sec&lt;br/&gt;
2010-08-04 17:57:49,926 INFO org.apache.hadoop.hbase.regionserver.HRegion: Starting compaction on region .META.,,1&lt;br/&gt;
2010-08-04 17:57:49,928 DEBUG org.apache.hadoop.hbase.regionserver.Store: historian: no store files to compact&lt;br/&gt;
2010-08-04 17:57:49,937 DEBUG org.apache.hadoop.hbase.regionserver.Store: Compaction size of info: 5.5k; Skipped 0 file(s), size: 0&lt;br/&gt;
2010-08-04 17:57:49,937 INFO org.apache.hadoop.hbase.regionserver.Store: Started compaction of 5 file(s) in info of .META.,,1  into /hbase/.META./compaction.dir/1028785192, seqid=116&lt;br/&gt;
2010-08-04 17:57:50,000 INFO org.apache.hadoop.hbase.master.BaseScanner: RegionManager.rootScanner scanning meta region &lt;/p&gt;
{server: 192.168.1.81:39859, regionname: -ROOT-,,0, startKey: &amp;lt;&amp;gt;}
&lt;p&gt;2010-08-04 17:57:50,037 INFO org.apache.hadoop.hbase.regionserver.Store: Completed compaction of 5 file(s) in info of .META.,,1; new storefile is hdfs://cluster1.jsw.office:9000/hbase/.META./1028785192/info/254940474272935789; store size is 4.0k&lt;br/&gt;
2010-08-04 17:57:50,045 INFO org.apache.hadoop.hbase.regionserver.HRegion: compaction completed on region .META.,,1 in 0sec&lt;br/&gt;
2010-08-04 17:57:50,053 INFO org.apache.hadoop.hbase.master.BaseScanner: RegionManager.rootScanner scan of 1 row(s) of meta region &lt;/p&gt;
{server: 192.168.1.81:39859, regionname: -ROOT-,,0, startKey: &amp;lt;&amp;gt;}
&lt;p&gt; complete&lt;br/&gt;
2010-08-04 17:57:57,278 FATAL org.apache.hadoop.hbase.regionserver.HRegionServer: OutOfMemoryError, aborting.&lt;br/&gt;
java.lang.OutOfMemoryError: Java heap space&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseRPC$Invocation.readFields(HBaseRPC.java:175)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseServer$Connection.processData(HBaseServer.java:867)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseServer$Connection.readAndProcess(HBaseServer.java:835)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseServer$Listener.doRead(HBaseServer.java:419)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseServer$Listener.run(HBaseServer.java:318)&lt;br/&gt;
2010-08-04 17:57:57,279 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Dump of metrics: request=0.0, regions=4, stores=5, storefiles=4, storefileIndexSize=0, memstoreSize=0, compactionQueueSize=0, usedHeap=23, maxHeap=695, blockCacheSize=1208688, blockCacheFree=144726880, blockCacheCount=11, blockCacheHitRatio=82, fsReadLatency=0, fsWriteLatency=0, fsSyncLatency=0&lt;br/&gt;
2010-08-04 17:57:57,279 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server listener on 39859: exiting on OOME&lt;br/&gt;
2010-08-04 17:57:57,793 INFO org.apache.hadoop.ipc.HBaseServer: Stopping server on 39859&lt;br/&gt;
2010-08-04 17:57:57,794 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 24 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,794 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 0 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,794 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 2 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,794 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 20 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,795 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 21 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,795 INFO org.apache.hadoop.hbase.regionserver.HRegionServer: Stopping infoServer&lt;br/&gt;
2010-08-04 17:57:57,796 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 1 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,796 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 3 on 39859: exiting&lt;br/&gt;
2010-08-04 17:57:57,796 INFO org.apache.hadoop.ipc.HBaseServer: IPC Server handler 4 on 39859: exiting&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux Ubuntu&lt;br/&gt;
jdk1.6.0_21&lt;br/&gt;
hadoop-0.20.2 &lt;br/&gt;
Pseudo-Distributed mode for hadoop and hbase&lt;/p&gt;</environment>
        <key id="12470855">HBASE-2900</key>
            <summary>HBase Out of Memory when the java client connect to the hbase server first time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="clican">wei.zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Aug 2010 01:41:15 +0000</created>
                <updated>Thu, 5 Aug 2010 07:03:51 +0000</updated>
                            <resolved>Thu, 5 Aug 2010 05:40:48 +0000</resolved>
                                    <version>0.20.5</version>
                                                    <component>IPC/RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12895510" author="ryanobjc" created="Thu, 5 Aug 2010 01:56:45 +0000"  >&lt;p&gt;The log dump says that there is 695mb of ram, and 23 of which are&lt;br/&gt;
used.  The OOME is happening in the RPC deserialization... just how&lt;br/&gt;
big of an object are you trying to insert?&lt;/p&gt;

</comment>
                            <comment id="12895539" author="clican" created="Thu, 5 Aug 2010 04:31:13 +0000"  >&lt;p&gt;This error occured before I insert any thing. It just happens when I want to instantiate a HTable object.&lt;/p&gt;

&lt;p&gt;    // You need a configuration object to tell the client where to connect.&lt;br/&gt;
    // When you create a HBaseConfiguration, it reads in whatever you&apos;ve set&lt;br/&gt;
    // into your hbase-site.xml and in hbase-default.xml, as long as these can&lt;br/&gt;
    // be found on the CLASSPATH&lt;br/&gt;
    HBaseConfiguration config = new HBaseConfiguration();&lt;/p&gt;

&lt;p&gt;    // This instantiates an HTable object that connects you to&lt;br/&gt;
    // the &quot;myLittleHBaseTable&quot; table.&lt;br/&gt;
    HTable table = new HTable(config, &quot;myLittleHBaseTable&quot;);&lt;/p&gt;</comment>
                            <comment id="12895556" author="clican" created="Thu, 5 Aug 2010 05:39:55 +0000"  >&lt;p&gt;I find how to resolve this issue. Actually I use the hbase 0.89 in my client side and hbase 0.20 in my server side.&lt;br/&gt;
After I update the server side to the 0.89. This error disappear.&lt;br/&gt;
I don&apos;t whether this is the root cause for this issue. But I will close this issue now.&lt;/p&gt;</comment>
                            <comment id="12895557" author="clican" created="Thu, 5 Aug 2010 05:40:48 +0000"  >&lt;p&gt;Close issue according to my last comment&lt;/p&gt;</comment>
                            <comment id="12895575" author="streamy" created="Thu, 5 Aug 2010 07:03:51 +0000"  >&lt;p&gt;wasn&apos;t actually fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Aug 2010 01:56:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b08v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>