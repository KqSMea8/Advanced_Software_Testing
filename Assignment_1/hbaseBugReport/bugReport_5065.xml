<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:24:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5065/HBASE-5065.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5065] wrong IllegalArgumentException thrown when creating an &apos;HServerAddress&apos; with an un-reachable hostname</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5065</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When trying to build an &apos;HServerAddress&apos; object with an unresolvable hostname:&lt;/p&gt;

&lt;p&gt;e.g. new HServerAddress(&quot;www.IAMUNREACHABLE.com:80&quot;)&lt;/p&gt;

&lt;p&gt;a call to &apos;getResolvedAddress&apos; would cause the &apos;InetSocketAddress&apos; c&apos;tor to throw an IllegalArgumentException because it is called with a null &apos;hostname&apos; parameter.&lt;br/&gt;
This happens because there is no null-check after the static &apos;getBindAddressInternal&apos; method returns a null value when the hostname is unresolved.&lt;/p&gt;

&lt;p&gt;This is a trivial bug because the code HServerAddress is expected to throw this kind of exception when this error occurs, but it is thrown &quot;for the wrong reason&quot;. The method &apos;checkBindAddressCanBeResolved&apos; should be the one throwing the exception (and give a slightly different reason). Because of this reason the method call itself becomes redundent as it will always succeed in the current flow, because the case it checks is already &quot;checked&quot; for by the previous &quot;getResolvedAddress&quot; method.&lt;/p&gt;

&lt;p&gt;In short:&lt;br/&gt;
an IllegalArgumentException is thrown with reason: &quot;hostname can&apos;t be null&quot; from the InetSocketAddress c&apos;tor&lt;br/&gt;
INSTEAD OF&lt;br/&gt;
an IllegalArgumentException with reason: &quot;Could not resolve the DNS name of &lt;span class=&quot;error&quot;&gt;&amp;#91;BADHOSTNAME&amp;#93;&lt;/span&gt;:&lt;span class=&quot;error&quot;&gt;&amp;#91;PORT&amp;#93;&lt;/span&gt;&quot; from HServerAddress&apos;s checkBindCanBeResolved method.&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;br/&gt;
java.lang.IllegalArgumentException: hostname can&apos;t be null&lt;br/&gt;
	at java.net.InetSocketAddress.&amp;lt;init&amp;gt;(InetSocketAddress.java:139) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.7.0_02&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.HServerAddress.getResolvedAddress(HServerAddress.java:108) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.HServerAddress.&amp;lt;init&amp;gt;(HServerAddress.java:64) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.zookeeper.RootRegionTracker.dataToHServerAddress(RootRegionTracker.java:82) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.zookeeper.RootRegionTracker.waitRootRegionLocation(RootRegionTracker.java:73) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:579) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:559) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(HConnectionManager.java:688) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:590) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:559) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegionInMeta(HConnectionManager.java:688) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:594) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.locateRegion(HConnectionManager.java:559) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:173) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable.&amp;lt;init&amp;gt;(HTable.java:147) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;hbase-0.90.4.jar:0.90.4&amp;#93;&lt;/span&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12535623">HBASE-5065</key>
            <summary>wrong IllegalArgumentException thrown when creating an &apos;HServerAddress&apos; with an un-reachable hostname</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehirsch">Eran Hirsch</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Dec 2011 14:23:48 +0000</created>
                <updated>Wed, 5 Sep 2012 22:57:48 +0000</updated>
                            <resolved>Wed, 5 Sep 2012 22:57:48 +0000</resolved>
                                    <version>0.90.4</version>
                                                    <component>util</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13172043" author="zhihyu@ebaysf.com" created="Mon, 19 Dec 2011 06:19:27 +0000"  >&lt;p&gt;@Eran:&lt;br/&gt;
Nice summary.&lt;/p&gt;

&lt;p&gt;If you can provide a patch, I will assign this JIRA to you.&lt;/p&gt;</comment>
                            <comment id="13173219" author="ehirsch" created="Tue, 20 Dec 2011 14:26:45 +0000"  >&lt;p&gt;i am not an Hbase developer, i don&apos;t know how to provide a patch.&lt;/p&gt;

&lt;p&gt;Anyhow, i checked the trunk and this class has been deprecated all-together, so there is no need to fix this anymore (i guess...?)&lt;/p&gt;</comment>
                            <comment id="13449231" author="ctrezzo" created="Wed, 5 Sep 2012 22:57:48 +0000"  >&lt;p&gt;This looks like it is now fixed in trunk and 0.90. checkBindAddressCanBeResolved() now has a null check and throws an IllegalArgumentException with an appropriate message. This class is also deprecated.&lt;/p&gt;

&lt;p&gt;Please reopen if you think differently.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Dec 2011 06:19:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>221307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i069vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>