<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:56:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14782/HBASE-14782.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14782] FuzzyRowFilter skips valid rows</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14782</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The issue may affect not only master branch, but previous releases as well.&lt;br/&gt;
This is from one of our customers:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We are experiencing a problem with the FuzzyRowFilter for HBase scan. We think that it is a bug. &lt;br/&gt;
Fuzzy filter should pick a row if it matches filter criteria irrespective of other rows present in table but filter is dropping a row depending on some other row present in table. &lt;/p&gt;


&lt;p&gt;Details/Step to reproduce/Sample outputs below: &lt;/p&gt;

&lt;p&gt;Missing row key: \x9C\x00\x044\x00\x00\x00\x00 &lt;br/&gt;
Causing row key: \x9C\x00\x03\xE9e\xBB{X\x1Fwts\x1F\x15vRX &lt;/p&gt;


&lt;p&gt;Prerequisites &lt;br/&gt;
1. Create a test table. HBase shell command &amp;#8211; create &apos;fuzzytest&apos;,&apos;d&apos; &lt;br/&gt;
2. Insert some test data. HBase shell commands: &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9C\x00\x044\x00\x00\x00\x00&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9C\x00\x044\x01\x00\x00\x00&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9C\x00\x044\x00\x01\x00\x00&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9C\x00\x044\x00\x00\x01\x00&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9C\x00\x044\x00\x01\x00\x01&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9B\x00\x044e\xBB\xB2\xBB&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
&#8226; put &apos;fuzzytest&apos;,&quot;\x9D\x00\x044e\xBB\xB2\xBB&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
Now when you run the code, you will find \x9C\x00\x044\x00\x00\x00\x00 in output because it matches filter criteria. (Refer how to run code below) &lt;br/&gt;
Insert the row key causing bug: &lt;br/&gt;
HBase shell command: put &apos;fuzzytest&apos;,&quot;\x9C\x00\x03\xE9e\xBB{X\x1Fwts\x1F\x15vRX&quot;,&apos;d:a&apos;,&apos;junk&apos; &lt;br/&gt;
Now when you run the code, you will not find \x9C\x00\x044\x00\x00\x00\x00 in output even though it still matches filter criteria. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Verified the issue on master.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12911202">HBASE-14782</key>
            <summary>FuzzyRowFilter skips valid rows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vrodionov">Vladimir Rodionov</assignee>
                                    <reporter username="vrodionov">Vladimir Rodionov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Nov 2015 20:54:41 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:25 +0000</updated>
                            <resolved>Thu, 19 Nov 2015 03:57:00 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                    <fixVersion>0.98.17</fixVersion>
                                    <component>Filters</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="15000098" author="chenheng" created="Wed, 11 Nov 2015 08:10:43 +0000"  >&lt;blockquote&gt;
&lt;p&gt;(Refer how to run code below) &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;where is the code....&lt;/p&gt;</comment>
                            <comment id="15000908" author="vrodionov" created="Wed, 11 Nov 2015 19:07:33 +0000"  >&lt;p&gt;Here is the code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  @Test  
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testBug() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
  {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cf = &lt;span class=&quot;code-quote&quot;&gt;&quot;f&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cq = &lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;;
    

    Table ht =
        TEST_UTIL.createTable(TableName.valueOf(table), Bytes.toBytes(cf), &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.MAX_VALUE);
    &lt;span class=&quot;code-comment&quot;&gt;// Load data
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] rows = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x044\\x00\\x00\\x00\\x00&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x044\\x01\\x00\\x00\\x00&quot;&lt;/span&gt;, 
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x044\\x00\\x01\\x00\\x00&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x044\\x00\\x00\\x01\\x00&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x044\\x00\\x01\\x00\\x01&quot;&lt;/span&gt;, 
        &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9B\\x00\\x044e\\xBB\\xB2\\xBB&quot;&lt;/span&gt;, 
    };
    
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; badRow = &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x03\\xE9e\\xBB{X\\x1Fwts\\x1F\\x15vRX&quot;&lt;/span&gt;;
    
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i &amp;lt; rows.length; i++){
      Put p = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Put(Bytes.toBytesBinary(rows[i]));
      p.addColumn(cf.getBytes(), cq.getBytes(), &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;.getBytes());
      ht.put(p);            
    }
    
    Put p = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Put(Bytes.toBytesBinary(badRow));
    p.addColumn(cf.getBytes(), cq.getBytes(), &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;.getBytes());
    ht.put(p);            

    TEST_UTIL.flush();

    List&amp;lt;Pair&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]&amp;gt;&amp;gt; data =  &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;Pair&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]&amp;gt;&amp;gt;();
    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] fuzzyKey = Bytes.toBytesBinary(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\x00\\x00\\x044&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] mask = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] { 1,0,0,0};
    data.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Pair&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[]&amp;gt;(fuzzyKey, mask));
    FuzzyRowFilter filter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FuzzyRowFilter(data);
    
    Scan scan = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Scan();
    scan.setFilter(filter);
    
    ResultScanner scanner = ht.getScanner(scan);
    Result result = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;((result = scanner.next()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;){
      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;?Found &quot;&lt;/span&gt;+ Bytes.toStringBinary(result.getRow()));
    }        
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15001848" author="chenheng" created="Thu, 12 Nov 2015 08:42:25 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt; for your test code.&lt;/p&gt;

&lt;p&gt;The reason is that, as you can see in the patch.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    &lt;span class=&quot;code-comment&quot;&gt;// NOT FOUND -&amp;gt; seek next using hint
&lt;/span&gt;+    &lt;span class=&quot;code-comment&quot;&gt;// NOT FOUND -&amp;gt; it means &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; row has been passed, so we jump to next row
&lt;/span&gt;     lastFoundIndex = -1;
-    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ReturnCode.SEEK_NEXT_USING_HINT;
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ReturnCode.NEXT_ROW;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;FuzzyRowFilter should jump to next row if current row not match.  &lt;br/&gt;
Currently, if not match, fuzzyRowFilter will always return SEEK_NEXT_USING_HINT&lt;/p&gt;

&lt;p&gt;I am not sure what is the difference between StoreScanner.seekAsDirection and StoreScanner.seekToNextRow,  but currently&lt;br/&gt;
If we go path StoreScanner.seekAsDirection (FuzzyRowFilter return SEEK_NEXT_USING_HINT),  StoreScanner.heap.peek() will return null.  &lt;br/&gt;
So heap will be set to null in StoreScanner.close  &lt;/p&gt;

&lt;p&gt;Relates code in StoreScanner.next as below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
LOOP: &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; {
         ......
        ScanQueryMatcher.MatchCode qcode = matcher.match(cell);
        qcode = optimize(qcode, cell);
        &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;(qcode) {
         .......
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; SEEK_NEXT_ROW:
          &lt;span class=&quot;code-comment&quot;&gt;// This is just a relatively simple end of scan fix, to &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt;-cut end
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// us &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; there is an endKey in the scan.
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!matcher.moreRowsMayExistAfter(cell)) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; scannerContext.setScannerState(NextState.NO_MORE_VALUES).hasMoreValues();
          }
          seekToNextRow(cell);
          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
       ........
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; SEEK_NEXT_USING_HINT:
          Cell nextKV = matcher.getNextKeyHint(cell);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (nextKV != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            seekAsDirection(nextKV);
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            heap.next();
          }
          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;UNEXPECTED&quot;&lt;/span&gt;);
        }
      } &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;((cell = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.heap.peek()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);

      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (count &amp;gt; 0) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; scannerContext.setScannerState(NextState.MORE_VALUES).hasMoreValues();
      }
      close(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// heap will set to &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; which cause the other rows will not be processed.
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; scannerContext.setScannerState(NextState.NO_MORE_VALUES).hasMoreValues();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;





</comment>
                            <comment id="15002658" author="vrodionov" created="Thu, 12 Nov 2015 19:02:06 +0000"  >&lt;p&gt;Thanks for the patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;. I will test it today. &lt;/p&gt;</comment>
                            <comment id="15003873" author="chenheng" created="Fri, 13 Nov 2015 11:24:18 +0000"  >&lt;p&gt;I found something more.&lt;br/&gt;
All StoreScanner.seekAsDirection and StoreScanner.seekToNextRow called StoreScanner.reseek(Cell kv) inside.  &lt;br/&gt;
The difference is the param Cell passed in.&lt;/p&gt;

&lt;p&gt;In StoreScanner.seekToNextRow,   the param Cell passed in reseek is generated by CellUtil.createLastOnRow&lt;br/&gt;
But in StoreScanner.seekAsDirection,  it is generated by matcher.getNextKeyHint which called FuzzyRowFilter.getNextCellHint inside.&lt;/p&gt;

&lt;p&gt;CellUtil.createLastOnRow(Cell kv) will create one cell in the same row as kv,  but with Long.MIN_VALUE as timestamp.&lt;br/&gt;
FuzzyRowFilter.getNextCellHint(Cell kv) will create one cell in the next row with Long.MAX_VALUE as timestamp.&lt;/p&gt;


&lt;p&gt;There will be logic as below (in &lt;tt&gt;KeyValueHeap.generalizedSeek&lt;/tt&gt;)&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;KeyValueHeap.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
    
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (current == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    }
    heap.add(current);
    current = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;

    KeyValueScanner scanner;
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((scanner = heap.poll()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      Cell topKey = scanner.peek();
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (comparator.getComparator().compare(seekKey, topKey) &amp;lt;= 0) {
        heap.add(scanner);
        current = pollRealKV();
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; current != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      }

      &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; seekResult;
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isLazy &amp;amp;&amp;amp; heap.size() &amp;gt; 0) {
        seekResult = scanner.requestSeek(seekKey, forward, useBloom);
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        seekResult = NonLazyKeyValueScanner.doRealSeek(
            scanner, seekKey, forward);
      }

      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!seekResult) {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.scannersForDelayedClose.add(scanner);
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        heap.add(scanner);
      }
    }

    &lt;span class=&quot;code-comment&quot;&gt;// Heap is returning empty, scanner is done
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
For example,  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we just put &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x044\\x00\\x00\\x00\\x00&quot;&lt;/span&gt; 
and &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x03\\xE9e\\xBB{X\\x1Fwts\\x1F\\x15vRX&quot;&lt;/span&gt; into table.

As original logic,  we will go path StoreScanner.seekAsDirection, 
so seekKey in KeyValueHeap.generalizedSeek will be &apos;\\x9C\\x00\\x044\\x00\\x00\\x00\\x00&apos; with &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE as timestamp

The first round in &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt;,  topKey is &lt;span class=&quot;code-quote&quot;&gt;&quot;\\x9C\\x00\\x03\\xE9e\\xBB{X\\x1Fwts\\x1F\\x15vRX&quot;&lt;/span&gt;,  
So &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (comparator.getComparator().compare(seekKey, topKey) &amp;lt;= 0)&quot;&lt;/span&gt;  will be &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; and 
we can&apos;t find seekKey in NonLazyKeyValueScanner.doRealSeek

At last  KeyValueHeap.heap will be empty and KeyValueHeap.current will be &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.   

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;











</comment>
                            <comment id="15004629" author="hadoopqa" created="Fri, 13 Nov 2015 20:07:12 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12771922/HBASE-14782.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12771922/HBASE-14782.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 789f8a5a70242c16ce10bc95401c51c7d04debfa.&lt;br/&gt;
  ATTACHMENT ID: 12771922&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.snapshot.TestMobExportSnapshot&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16514//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15006167" author="chenheng" created="Mon, 16 Nov 2015 02:34:31 +0000"  >&lt;p&gt;Failed test case org.apache.hadoop.hbase.snapshot.TestMobExportSnapshot has no relates with this issue.&lt;br/&gt;
It will be fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14815&quot; title=&quot;TestMobExportSnapshot.testExportFailure timeout occasionally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14815&quot;&gt;&lt;del&gt;HBASE-14815&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let me retry.&lt;/p&gt;</comment>
                            <comment id="15006228" author="hadoopqa" created="Mon, 16 Nov 2015 05:16:40 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772439/HBASE-14782.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772439/HBASE-14782.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit dd5f454b03b9ccd788398fa52220c7690381eb6f.&lt;br/&gt;
  ATTACHMENT ID: 12772439&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16529//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15006762" author="chenheng" created="Mon, 16 Nov 2015 15:17:23 +0000"  >&lt;p&gt;Any suggestions?&lt;/p&gt;</comment>
                            <comment id="15007190" author="vrodionov" created="Mon, 16 Nov 2015 19:39:22 +0000"  >&lt;blockquote&gt;
&lt;p&gt;FuzzyRowFilter should jump to next row if current row not match. &lt;br/&gt;
Currently, if not match, fuzzyRowFilter will always return SEEK_NEXT_USING_HINT&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That destroys any performance optimizations in FRF. Does not it? &lt;/p&gt;</comment>
                            <comment id="15007743" author="vrodionov" created="Tue, 17 Nov 2015 01:08:35 +0000"  >&lt;p&gt;Assigning back to myself.&lt;/p&gt;</comment>
                            <comment id="15007746" author="vrodionov" created="Tue, 17 Nov 2015 01:11:35 +0000"  >&lt;p&gt;The issue is, we need to trim trailing zeroes in getNextForFuzzyRule for forward scanners&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;hint = \x01\x01\x01\x00\x00&lt;br/&gt;
will skip valid row:&lt;br/&gt;
\0x01\0x01\0x01&lt;/p&gt;

</comment>
                            <comment id="15007834" author="chenheng" created="Tue, 17 Nov 2015 02:05:48 +0000"  >&lt;p&gt;Oh,  sounds reasonable.  Let me have a test locally,  Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15007970" author="hadoopqa" created="Tue, 17 Nov 2015 04:00:35 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772627/HBASE-14782-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772627/HBASE-14782-v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f218e499ae12805cc35ed938c1f6d07ace048a25.&lt;br/&gt;
  ATTACHMENT ID: 12772627&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16540//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15007982" author="yuzhihong@gmail.com" created="Tue, 17 Nov 2015 04:13:56 +0000"  >&lt;p&gt;For testHBASE14782, the table should be dropped at the end of the test.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
580	   * For forward scanner, next cell hint should contain any trailing zeroes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;should contain&apos; : typo&lt;/p&gt;</comment>
                            <comment id="15008036" author="vrodionov" created="Tue, 17 Nov 2015 04:49:13 +0000"  >&lt;blockquote&gt;
&lt;p&gt;The issue is, we need to trim trailing zeroes in getNextForFuzzyRule for forward scanners&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unless these 0&apos;s are part of  a mask.&lt;/p&gt;</comment>
                            <comment id="15008188" author="chenheng" created="Tue, 17 Nov 2015 07:24:49 +0000"  >&lt;p&gt;Patch looks good. &lt;br/&gt;
But there is a little hint.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; off = fuzzyKeyMeta.length &amp;gt;= result.length? result.length -1:
+           fuzzyKeyMeta.length -1;  
+    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( ; off &amp;gt;= 0; off--){
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(fuzzyKeyMeta[off] != 0) &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently,  it is impossible that fuzzyKeyMeta.length &amp;gt;= result.length.  &lt;/p&gt;

&lt;p&gt;But if it does,  for example,  result is &apos;\x01\x01\x01&apos;  and fuzzyKeyMeta is &lt;/p&gt;
{1, 0, 0, 1}
&lt;p&gt;trimTrailingZeroes will return &apos;\x01&apos; ?  &lt;/p&gt;

&lt;p&gt;I think it is not correct.  wdyt?  &lt;/p&gt;</comment>
                            <comment id="15008200" author="chenheng" created="Tue, 17 Nov 2015 07:37:16 +0000"  >&lt;p&gt;Fix above comment, &lt;br/&gt;
result = &lt;/p&gt;
{1, 1, 1}
&lt;p&gt;fuzzeKeyMeta = {-1, 0, 0, -1}&lt;/p&gt;</comment>
                            <comment id="15009250" author="vrodionov" created="Tue, 17 Nov 2015 18:55:55 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Currently, it is impossible that fuzzyKeyMeta.length &amp;gt;= result.length&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is not correct.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] result =
        Arrays.copyOf(fuzzyKeyBytes, length &amp;gt; fuzzyKeyBytes.length ? length : fuzzyKeyBytes.length);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;result size is maximum of fuzzyKeyBytes length and last row length.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;But if it does, for example, result is &apos;\x01\x01\x01&apos; and fuzzyKeyMeta is&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {1, 0, 0, 1}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;trimTrailingZeroes will return &apos;\x01&apos; ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Result size is always equals or greater than fuzzyKeyMeta, therefore your case is impossible.&lt;/p&gt;

</comment>
                            <comment id="15009324" author="vrodionov" created="Tue, 17 Nov 2015 19:26:07 +0000"  >&lt;p&gt;v4 patch.&lt;/p&gt;</comment>
                            <comment id="15009450" author="yuzhihong@gmail.com" created="Tue, 17 Nov 2015 20:37:53 +0000"  >&lt;p&gt;+1 on v4&lt;/p&gt;</comment>
                            <comment id="15009666" author="hadoopqa" created="Tue, 17 Nov 2015 22:09:31 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772812/HBASE-14782-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772812/HBASE-14782-v4.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a591df1073c81a0fd1029f4a0db62d7ef8a95207.&lt;br/&gt;
  ATTACHMENT ID: 12772812&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16554//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15009715" author="vrodionov" created="Tue, 17 Nov 2015 22:28:17 +0000"  >&lt;p&gt;0.98 patch.&lt;/p&gt;</comment>
                            <comment id="15009766" author="chenheng" created="Tue, 17 Nov 2015 22:51:37 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Result size is always equals or greater than fuzzyKeyMeta, therefore your case is impossible.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;My point is if result.size always  equals or greater than fuzzyKeyMeta,  why not we replace &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; off = fuzzyKeyMeta.length &amp;gt;= result.length? result.length -1:
+           fuzzyKeyMeta.length -1; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to be  &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fuzzyKeyMeta.length &amp;gt;= result.length) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Otherwise,  as a standalone method,  the logic in trimTrailingZeroes is not correct.&lt;/p&gt;

&lt;p&gt;wdyt?  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15009780" author="vrodionov" created="Tue, 17 Nov 2015 22:56:06 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Otherwise, as a standalone method, the logic in trimTrailingZeroes is not correct.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you prove that? &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;if (fuzzyKeyMeta.length &amp;gt;= result.length) &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {
      return result;
  }&lt;/span&gt; &lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;I do not do that to make sure that we handle pathological case when fuzzyKeyMeta ends with 0&apos;s.&lt;/p&gt;</comment>
                            <comment id="15009798" author="chenheng" created="Tue, 17 Nov 2015 23:06:18 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Can you prove that?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;My point is as a standalone method,  we can&apos;t depend param check outside the method.   Currently,  because of what you mentioned above,  the param passed in we can ensure &lt;tt&gt;result.length&amp;gt;=fuzzyKeyMeta.length&lt;/tt&gt;,  but if other guys want to call this method in some other places?  They don&apos;t know we should ensure &lt;tt&gt;result.length&amp;gt;=fuzzyKeyMeta.length&lt;/tt&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I do not do that to make sure that we handle pathological case when fuzzyKeyMeta ends with 0&apos;s.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Make sense,  so we can  do similar check after  &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( ; off &amp;gt;= 0; off--){
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(fuzzyKeyMeta[off] != 0) &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="15010024" author="hadoopqa" created="Wed, 18 Nov 2015 02:00:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772851/HBASE-14782-0.98-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772851/HBASE-14782-0.98-v4.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit ca1048415bd842bb725357c4005da70788a79b02.&lt;br/&gt;
  ATTACHMENT ID: 12772851&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 28 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16557//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15010127" author="mahongbin" created="Wed, 18 Nov 2015 03:18:58 +0000"  >&lt;p&gt;+1 on v4 patch. &lt;/p&gt;</comment>
                            <comment id="15011743" author="vrodionov" created="Wed, 18 Nov 2015 19:25:00 +0000"  >&lt;blockquote&gt;
&lt;p&gt; but if other guys want to call this method in some other places? They don&apos;t know we should ensure result.length&amp;gt;=fuzzyKeyMeta.length&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Trying to figure out on why anyone will ever want to re-use the method which is specific to a particular algorithm? This is not a public API.&lt;/p&gt;</comment>
                            <comment id="15012495" author="chenheng" created="Thu, 19 Nov 2015 00:53:12 +0000"  >&lt;p&gt;If you insist on it, that is OK.  Let&apos;s just leave discussion here and fix this issue firstly.&lt;br/&gt;
+1 on patch v4.&lt;br/&gt;
I will push it later. &lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt; for your nice patch.  &lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mahongbin&quot; class=&quot;user-hover&quot; rel=&quot;mahongbin&quot;&gt;hongbin ma&lt;/a&gt; for your help to review.&lt;/p&gt;</comment>
                            <comment id="15012744" author="chenheng" created="Thu, 19 Nov 2015 03:56:40 +0000"  >&lt;p&gt;pushed to all branches&lt;/p&gt;</comment>
                            <comment id="15012959" author="hudson" created="Thu, 19 Nov 2015 06:22:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #384 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/384/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/384/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 66a89d85c60b99cd595c10c61d483930cf1d8ba9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013021" author="hudson" created="Thu, 19 Nov 2015 06:53:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #322 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/322/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 40e01512cf308c6e10f7cadde7093d6a1d5ebc92)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013027" author="hudson" created="Thu, 19 Nov 2015 06:55:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #379 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/379/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/379/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 40e01512cf308c6e10f7cadde7093d6a1d5ebc92)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013091" author="hudson" created="Thu, 19 Nov 2015 07:45:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #292 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/292/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/292/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 66a89d85c60b99cd595c10c61d483930cf1d8ba9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013102" author="hudson" created="Thu, 19 Nov 2015 07:53:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1686 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1686/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1686/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev cf23a83f3836f32e33e310c0c0e67c160e195c1f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013116" author="hudson" created="Thu, 19 Nov 2015 08:10:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #480 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/480/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/480/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev ebe5801e0081dcce7f3eb918b39161fcd2298087)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013134" author="hudson" created="Thu, 19 Nov 2015 08:26:42 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1599 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1599/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1599/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev cf23a83f3836f32e33e310c0c0e67c160e195c1f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013434" author="hudson" created="Thu, 19 Nov 2015 12:23:08 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1135 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1135/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 735a5bd87176c57d611e21b2831200e094636feb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013488" author="hudson" created="Thu, 19 Nov 2015 13:00:14 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-matrix #262 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/262/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/262/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 735a5bd87176c57d611e21b2831200e094636feb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15013917" author="hudson" created="Thu, 19 Nov 2015 17:09:42 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1114 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1114/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1114/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14782&quot; title=&quot;FuzzyRowFilter skips valid rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14782&quot;&gt;&lt;del&gt;HBASE-14782&lt;/del&gt;&lt;/a&gt; FuzzyRowFilter skips valid rows (Vladimir Rodionov) (chenheng: rev 38256f0f63e9225d5b898847e0e5fb65858b0982)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/filter/TestFuzzyRowFilterEndToEnd.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/filter/FuzzyRowFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119459" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:25 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12772851" name="HBASE-14782-0.98-v4.patch" size="5531" author="vrodionov" created="Tue, 17 Nov 2015 22:28:17 +0000"/>
                            <attachment id="12772627" name="HBASE-14782-v3.patch" size="5416" author="vrodionov" created="Tue, 17 Nov 2015 01:09:14 +0000"/>
                            <attachment id="12772812" name="HBASE-14782-v4.patch" size="5542" author="vrodionov" created="Tue, 17 Nov 2015 19:26:07 +0000"/>
                            <attachment id="12772439" name="HBASE-14782.patch" size="4956" author="chenheng" created="Mon, 16 Nov 2015 02:35:37 +0000"/>
                            <attachment id="12771922" name="HBASE-14782.patch" size="4956" author="chenheng" created="Thu, 12 Nov 2015 07:53:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Nov 2015 08:10:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2o2yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>