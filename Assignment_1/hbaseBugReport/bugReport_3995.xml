<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:14:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3995/HBASE-3995.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3995] HBASE-3946 broke TestMasterFailover</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3995</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TestMasterFailover is all about a new master coming up on an existing cluster.  Previous to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3946&quot; title=&quot;The splitted region can be online again while the standby hmaster becomes the active one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3946&quot;&gt;&lt;del&gt;HBASE-3946&lt;/del&gt;&lt;/a&gt;, the new master joining a cluster processing any dead servers would assign all regions found on the dead server even if they were split parents.  We don&apos;t want that.&lt;/p&gt;

&lt;p&gt;But TestMasterFailover mocks up some pretty interesting conditions.  The one we were failing on was that while the master was offine, we&apos;d manually add a region to zk that was in CLOSING state.  We&apos;d then go and disable the table up in zk (while master was offline).  Finally, we&apos;d&apos; kill the server that was supposed to be hosting the region from the disabled table in CLOSING state. Then we&apos;d have the master join the cluster.  It had to figure it out.&lt;/p&gt;

&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3946&quot; title=&quot;The splitted region can be online again while the standby hmaster becomes the active one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3946&quot;&gt;&lt;del&gt;HBASE-3946&lt;/del&gt;&lt;/a&gt;, we&apos;d just force offline every region that had been on the dead server.  This would call all to be assigned only on assign, regions from disabled tables are skipped, so it all &quot;worked&quot; (except would online parent of a split should there be one).&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12510546">HBASE-3995</key>
            <summary>HBASE-3946 broke TestMasterFailover</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jun 2011 09:15:08 +0000</created>
                <updated>Fri, 20 Nov 2015 11:53:38 +0000</updated>
                            <resolved>Tue, 21 Jun 2011 20:29:50 +0000</resolved>
                                                    <fixVersion>0.90.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13050308" author="stack" created="Thu, 16 Jun 2011 09:32:21 +0000"  >&lt;p&gt;Patch that passes the list of dead servers down to the location where we process whats up in zookeeper at time of new master&apos;s joining a cluster; the dead servers can be used to figure if a RIT came from a dead server and if so, we know there is no point in waiting on a CLOSING to complete or, if a disabled table, OPEN should go back and try and close the region that just OPENED on a server that just died.&lt;/p&gt;</comment>
                            <comment id="13050310" author="stack" created="Thu, 16 Jun 2011 09:33:16 +0000"  >&lt;p&gt;I&apos;d like to just commit this and let jenkins figure out if we&apos;ve fixed this build fail issue (Will need to do a version for 0.90 too).&lt;/p&gt;</comment>
                            <comment id="13050315" author="stack" created="Thu, 16 Jun 2011 09:39:29 +0000"  >&lt;p&gt;Committed.  Can then see in morning if it actually fixes build.&lt;/p&gt;</comment>
                            <comment id="13050660" author="stack" created="Thu, 16 Jun 2011 19:13:28 +0000"  >&lt;p&gt;Jenkins is down for me at least.&lt;/p&gt;</comment>
                            <comment id="13052752" author="stack" created="Tue, 21 Jun 2011 18:37:13 +0000"  >&lt;p&gt;This looks to have fixed the issue in TRUNK going by fact that this test does not fail in TRUNK anymore.  Let me backport.&lt;/p&gt;</comment>
                            <comment id="13052807" author="stack" created="Tue, 21 Jun 2011 20:29:50 +0000"  >&lt;p&gt;Committed branch and trunk.&lt;/p&gt;</comment>
                            <comment id="13055406" author="sunnygao" created="Mon, 27 Jun 2011 08:55:57 +0000"  >&lt;p&gt;Hi, stack.&lt;br/&gt;
Following code snippet is repeated&lt;br/&gt;
if (storedInfo == null) &lt;/p&gt;


&lt;p&gt; if (storedInfo == null) {&lt;br/&gt;
      .......&lt;br/&gt;
      if (storedInfo == null) &lt;/p&gt;
{
        storedInfo = this.onlineServers.get(info.getServerName());
      }
&lt;p&gt;    }&lt;/p&gt;</comment>
                            <comment id="13056279" author="stack" created="Tue, 28 Jun 2011 04:13:46 +0000"  >&lt;p&gt;Thank you Gao.  I removed the redundant check.&lt;/p&gt;</comment>
                            <comment id="13056853" author="hudson" created="Tue, 28 Jun 2011 22:42:50 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1995 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/1995/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/1995/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="15016028" author="lars_francke" created="Fri, 20 Nov 2015 11:53:38 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12482767" name="am.txt" size="14372" author="stack" created="Thu, 16 Jun 2011 09:32:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jun 2011 08:55:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0how7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>