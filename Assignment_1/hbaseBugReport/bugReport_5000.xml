<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:23:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5000/HBASE-5000.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5000] Speed up simultaneous reads of a block when block caching is turned off</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5000</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;With block caching, when one client starts reading a block and another one comes around asking for the same block, the second client waits for the first one to finish reading and returns the block from cache. This is achieved by locking on the block offset using IdLock, a &quot;sparse lock&quot; primitive allowing to lock on arbitrary long numbers. However, in case there is no block caching, there is no reason to wait for other clients that are reading the same block. One challenge optimizing this that we don&apos;t necessary have accurate information about whether other HFile API clients interested in the block would cache it.&lt;/p&gt;

&lt;p&gt;Setting priority as minor, as it is very unusual to turn off block caching.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534549">HBASE-5000</key>
            <summary>Speed up simultaneous reads of a block when block caching is turned off</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="mikhail">Mikhail Bautin</assignee>
                                    <reporter username="mikhail">Mikhail Bautin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Dec 2011 21:39:01 +0000</created>
                <updated>Thu, 12 Dec 2013 21:04:52 +0000</updated>
                            <resolved>Thu, 12 Dec 2013 21:04:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13166608" author="stack" created="Fri, 9 Dec 2011 22:00:47 +0000"  >&lt;p&gt;I agree this priority minor.  We should probably add to the book that currently disabling block cache completed is not recommended.&lt;/p&gt;</comment>
                            <comment id="13167360" author="lhofhansl" created="Mon, 12 Dec 2011 05:39:10 +0000"  >&lt;p&gt;+1 on documenting. Could state there that block caching can be disabled on a per scan bases, and in fact should be disabled if the data scanned is known (or likely to) not to fit in the cache.&lt;/p&gt;

&lt;p&gt;Generally shouldn&apos;t we aim for loading the same block only once per JVM if requested by multiple threads at the same time? Could do some kind of reference counting to keep track of other requesters, or register a call back when the block is loaded...&lt;/p&gt;</comment>
                            <comment id="13167655" author="stack" created="Mon, 12 Dec 2011 18:35:00 +0000"  >&lt;p&gt;I added a bit of rough doc suggesting users not disable blockcache completely.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
         &amp;lt;section xml:id=&lt;span class=&quot;code-quote&quot;&gt;&quot;disabling.blockcache&quot;&lt;/span&gt;&amp;gt;&amp;lt;title&amp;gt;Disabling Blockcache&amp;lt;/title&amp;gt;
           &amp;lt;para&amp;gt;Do not turn off block cache (You&apos;d &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; it by setting &amp;lt;varname&amp;gt;hbase.block.cache.size&amp;lt;/varname&amp;gt; to zero).
           Currently we &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; well &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; because the regionserver will spend all its time loading hfile
           indices over and over again.  If your working set it such that block cache does you no good, at least
           size the block cache such that hfile indices will stay up in the cache (you can get a rough idea
           on the size you need by surveying regionserver UIs; you&apos;ll see index block size accounted near the
           top of the webpage).&amp;lt;/para&amp;gt;
         &amp;lt;/section&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13167761" author="hudson" created="Mon, 12 Dec 2011 20:22:37 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #29 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/29/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/29/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5000&quot; title=&quot;Speed up simultaneous reads of a block when block caching is turned off&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5000&quot;&gt;&lt;del&gt;HBASE-5000&lt;/del&gt;&lt;/a&gt; Speed up simultaneous reads of a block when block caching is turned off; bit of doc and why its a bad idea disabling block cache completely&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/configuration.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13167900" author="hudson" created="Mon, 12 Dec 2011 22:38:23 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2540 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2540/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2540/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5000&quot; title=&quot;Speed up simultaneous reads of a block when block caching is turned off&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5000&quot;&gt;&lt;del&gt;HBASE-5000&lt;/del&gt;&lt;/a&gt; Speed up simultaneous reads of a block when block caching is turned off; bit of doc and why its a bad idea disabling block cache completely&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/configuration.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13846736" author="ndimiduk" created="Thu, 12 Dec 2013 21:04:52 +0000"  >&lt;p&gt;Resolving as &quot;Won&apos;t Fix&quot; as I think this deployment configuration is not really supported by anyone.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12528995">HBASE-4683</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Dec 2011 22:00:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02e8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>