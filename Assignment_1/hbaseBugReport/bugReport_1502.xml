<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:54:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1502/HBASE-1502.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1502] Remove need for heartbeats in HBase</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1502</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase currently uses heartbeats between region servers and the master, piggybacking information on them when it can. This issue is to investigate if we can get rid of the need for those using ZooKeeper events.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427420">HBASE-1502</key>
            <summary>Remove need for heartbeats in HBase</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="nitay">Nitay Joffe</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jun 2009 03:51:00 +0000</created>
                <updated>Fri, 20 Nov 2015 13:02:01 +0000</updated>
                            <resolved>Thu, 28 Apr 2011 06:00:17 +0000</resolved>
                                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12717553" author="ryanobjc" created="Tue, 9 Jun 2009 04:46:47 +0000"  >&lt;p&gt;right now the master makes assignment decisions during the &apos;check in&apos; RPC.  Basically the master doesn&apos;t proactively assign regions, instead it passively waits for regionservers to call the master.&lt;/p&gt;

&lt;p&gt;We&apos;d also need new RPC so a master can be much more proactive about assigning regions.  This could reduce assignment time by seconds &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;
</comment>
                            <comment id="12744691" author="stack" created="Tue, 18 Aug 2009 20:23:28 +0000"  >&lt;p&gt;Not for a point release.  Lets do in 0.21.&lt;/p&gt;</comment>
                            <comment id="12867024" author="stack" created="Thu, 13 May 2010 04:42:02 +0000"  >&lt;p&gt;Moved from 0.21 to 0.22 just after merge of old 0.20 branch into TRUNK.&lt;/p&gt;</comment>
                            <comment id="12904924" author="streamy" created="Wed, 1 Sep 2010 05:34:29 +0000"  >&lt;p&gt;Following &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2692&quot; title=&quot;Master rewrite and cleanup for 0.90&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2692&quot;&gt;&lt;del&gt;HBASE-2692&lt;/del&gt;&lt;/a&gt;, I think the only thing we&apos;re really using the heartbeat for is the mostLoaded servers.  But we&apos;re actually tracking all assignment in-memory anyways, so maybe we can do this now?  Shutdown stuff could come on it&apos;s own RPC?&lt;/p&gt;</comment>
                            <comment id="12905133" author="stack" created="Wed, 1 Sep 2010 18:29:19 +0000"  >&lt;p&gt;Post hbase-2692, heartbeats:&lt;/p&gt;

&lt;p&gt;+ Carry to the master the HServerInfo from each regionserver.&lt;br/&gt;
+ When a split, a message from rs tells master about the it; master uses info to update its inmemory map of cluster&lt;br/&gt;
+ Master tells rs to shutdown (needed currently if rs is carrying a meta region)&lt;/p&gt;

&lt;p&gt;I was thinking that RSs could publish load info to zk on a period &amp;#8211; every minute or 5 (some fraction of the balancer interval).&lt;/p&gt;

&lt;p&gt;For split info, need to flag master somehow and needs to be mechanism where the split can be rediscovered if missed for some reason (The anti-entropy doohickey where clients tell master of &apos;problems&apos; would be one such way).&lt;/p&gt;

&lt;p&gt;On shutdown message, I need to do a little more smarts around shutdown and that should eliminate the shutdown message (need to expose shutdown as something a client can invoke against an RS).&lt;/p&gt;</comment>
                            <comment id="12968980" author="stack" created="Tue, 7 Dec 2010 21:01:47 +0000"  >&lt;p&gt;We are almost there.  If we could get rid of the split message and shutdown being passed by HMsg, we&apos;d be able to drop HMsg and just rely completely on zk client ping.&lt;/p&gt;</comment>
                            <comment id="12969083" author="streamy" created="Wed, 8 Dec 2010 00:06:25 +0000"  >&lt;p&gt;We&apos;re also using the regionServerStartup or regionServerReport to determine an RS is online (we use the ZK node to determine when it dies).  This stuff would also need some cleanup/rework to completely drop heartbeats.&lt;/p&gt;</comment>
                            <comment id="12972361" author="stack" created="Fri, 17 Dec 2010 05:52:10 +0000"  >&lt;p&gt;Upping priority and changed from wish to task.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3368&quot; title=&quot;Split message can come in before region opened message; results in &amp;#39;Region has been PENDING_CLOSE for too long&amp;#39; cycle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3368&quot;&gt;&lt;del&gt;HBASE-3368&lt;/del&gt;&lt;/a&gt; for a good illustration of why getting rid of heartbeats is a necessary task rather than a wish.&lt;/p&gt;</comment>
                            <comment id="12993286" author="stack" created="Fri, 11 Feb 2011 01:11:55 +0000"  >&lt;p&gt;Here is a start &amp;#8211; the fun part.  Removed HMsg and then redid the HMasterRegionInterface to remove the heartbeating.  Was able to remove a bunch of other crud from Master and Regionserver.  TODO: Splits, shutdown, and load.  The report into the master by RS remains.  It&apos;ll be passed back the hostname to use.  It&apos;ll add this up into its znode (it&apos;ll only add znode after it has registered w/ Master).  The znode will then be updated by the RS on a period with its load info.  Master loadbalancer will read it from there.  Regards Splits, after talking w/ Jon, its a new RIT state.  Shutdown, I&apos;ll have think about it and write something up.&lt;/p&gt;</comment>
                            <comment id="12993287" author="stack" created="Fri, 11 Feb 2011 01:12:35 +0000"  >&lt;p&gt;Made this a blocker.  Need this to fix up the bug where we&apos;d see splits before region had successfully opened.&lt;/p&gt;</comment>
                            <comment id="12994194" author="stack" created="Mon, 14 Feb 2011 04:09:07 +0000"  >&lt;p&gt;Fixup of HServerInfo, HServerAddress, HRegionLoad, and HRegionLocation classes &amp;#8211; tightened cohesion, added javadoc.  Added tests.  More purging of code.  Still have split and shutdown to do.  Was going to persist to zk using JSON instead of Writables.&lt;/p&gt;</comment>
                            <comment id="12994195" author="streamy" created="Mon, 14 Feb 2011 04:25:19 +0000"  >&lt;p&gt;Only did cursory look at patch, but looks like this still has it so startup is via RPC but shutdown (will eventually be) via ZK... What exactly will be transmitted each way in that startup RPC?  Is it necessary?&lt;/p&gt;

&lt;p&gt;Also, how does master get server load info now?&lt;/p&gt;</comment>
                            <comment id="12994196" author="streamy" created="Mon, 14 Feb 2011 04:25:35 +0000"  >&lt;p&gt;(yay HMsg is gone!)&lt;/p&gt;</comment>
                            <comment id="12994380" author="stack" created="Mon, 14 Feb 2011 17:48:39 +0000"  >&lt;p&gt;Yeah, &apos;registration&apos; is via an RPC.  The RS sends over startcode and port only (should probably pass the webui port too).  The master returns the hostname only.  On receipt, the RS writes up into ZK, a znode whose name is the &apos;servername &amp;#8211; i.e. the master passed domain, port, and startcode &amp;#8211; and whose content is the RS &apos;load&apos; updated every 5 minutes or so.  I think load should be JSON serialized (I think all zk content should be JSON serialized)&lt;/p&gt;

&lt;p&gt;I&apos;m willing to entertain suggestions on how we might do away with the startup RPC but we need to get to the RS the hostname the Master sees; currently it does this by doing lookup on the remote ip the RPCServer sees on registration RPC.  The RS needs what the master  has for a hostname so when it writes .META., it writes the same name the master will write.&lt;/p&gt;</comment>
                            <comment id="12994394" author="streamy" created="Mon, 14 Feb 2011 18:02:09 +0000"  >&lt;p&gt;Got it.  That sounds like a good start and removing the heartbeat/HMsg is far more critical than the startup RPC.  I remember some issue in the past where it was odd that discovery was RPC but failure was ZK... but don&apos;t recall what exactly it was now.&lt;/p&gt;

&lt;p&gt;+1 on ZK content being JSON serialized.&lt;/p&gt;

&lt;p&gt;Just to bring it up since it&apos;s loosely related to this stuff, I&apos;m of the opinion that a second monitor process is eventually going to be necessary.  ZK timeouts are just too high and there are many cases where if we could take GC pauses out of the equation, we could have much faster failure detection.  A second process that would not have any GC issues could have an ephemeral node with a much smaller timeout, or it could monitor the RS process and system itself.  I don&apos;t see another way towards reducing failure detection times without triggering false-positives when the RS is in a GC pause (a &quot;recoverable&quot; fault).&lt;/p&gt;

&lt;p&gt;On an even more unrelated note, we could have some kind of metric (or this other process could figure out) how often GC pauses are happening / for how long (either through a looping sleep() thread or an RPC to the process) and use that as an additional balancing metric.  Or we could have it so once it passes a threshold, we shed the regions off of that RS (actually flushing instead of needing replay), and then restart the RS process.&lt;/p&gt;</comment>
                            <comment id="12995564" author="stack" created="Wed, 16 Feb 2011 22:52:31 +0000"  >&lt;p&gt;Patch does not compile yet.  Still have shutdown and split to do.  Here is what I have&lt;br/&gt;
so far.&lt;/p&gt;

&lt;p&gt;Removing  heartbeats has brought on a refactoring.  A couple of our fundamental types&lt;br/&gt;
make little sense in absence of heartbeating.  We&apos;ve also been abusing core types such&lt;br/&gt;
as HServerAddress serializing it up into zookeeper, a problematic behavior given deserializing&lt;br/&gt;
will bring on a resolve.&lt;/p&gt;

&lt;p&gt;An HServerAddress is a Writable InetSocketAddress.  We should just be using ISA.  Passing&lt;br/&gt;
an HSA that will resolve when deserialized on other side is something we need to move&lt;br/&gt;
away from.  Lets just use ISA from here on out.  HSA was not removed because its in public&lt;br/&gt;
API in a few places; it shouldn&apos;t be.&lt;/p&gt;

&lt;p&gt;HServerInfo has deprecated and removed from all locations but where its part of public API.&lt;br/&gt;
It hosts an HServerAddress, HServerLoad, and webuiport.  It was mainly passed by the regionserver&lt;br/&gt;
heartbeating.  Now we don&apos;t heartbeat, passing load in HServerInfo doesn&apos;t make sense.  Also&lt;br/&gt;
the webuiport needs to be obtained elsewhere than on heartbeat (its up in zk in the rs znode data).&lt;br/&gt;
Finally, the passing of an HServerAddress inside the HServerInfo is problematic (See above).&lt;/p&gt;

&lt;p&gt;HServerLoad has been removed.  It was passed inside HServerInfo on each heartbeat.&lt;br/&gt;
TODO: replace with alternative.  I thought of writing &apos;load&apos; to zk every minute or so but&lt;br/&gt;
that could get hefty if lots of servers.  Still might go this route.  Wanted to do it w/&lt;br/&gt;
JSON but HSL wasn&apos;t easy to serialize with its aggregating and internal RegionLoad.&lt;/p&gt;

&lt;p&gt;Patch includes new class used identifying servers.  Its a formalization of our special&lt;br/&gt;
&apos;servername&apos; String.  The class is called ServerName.  Its not a Writable.  This class is&lt;br/&gt;
used near everywhere in place of HSA and/or HSI identifying servers.  A ServerName can be&lt;br/&gt;
made from the server + startcode columns in .META.  Its the name of the RS znode in zookeeper.&lt;br/&gt;
A bunch of messing with hostname and port only has been removed.&lt;/p&gt;

&lt;p&gt;Changes CP Interfaces to use ServerName instead of HSI.&lt;/p&gt;

&lt;p&gt;Changes the HMasterRegionInterface to remove the heartbeat.  Upped this interfaces&lt;br/&gt;
version number.&lt;/p&gt;

&lt;p&gt;Removed from ZKUtil all the getAddress methods.&lt;/p&gt;

&lt;p&gt;Redid the master join cluster code.  Previous we relied on HServerInfo on server&lt;br/&gt;
registration but this is not available any more.  Instead scrape .META. and RIT&lt;br/&gt;
to figure whether failover or fresh cluster start.&lt;/p&gt;


&lt;p&gt;Changd the way we do our address in Master and RS. Removed HSI and HSA.  Using&lt;br/&gt;
InetSocketAddress instead.  Cleaned a bunch of crud from RS in particular.&lt;br/&gt;
Made this code same in master and rs.&lt;/p&gt;

&lt;p&gt;RegionServer now registers in ZK only after registering first with master.&lt;br/&gt;
It will use the hostname that the master sees the regionserver in its znode&lt;br/&gt;
name.  RS is careful to use the hostname the master passed us writing .META.&lt;br/&gt;
(doesn&apos;t use the RS hostname &amp;#8211; there is no RS hostname kept any more other than&lt;br/&gt;
what is in the RS ISA).&lt;/p&gt;

&lt;p&gt;RegionServerTracker now keeps running list of servers.  Also has znode content&lt;br/&gt;
which currently is the webuiport only.&lt;/p&gt;</comment>
                            <comment id="12996251" author="stack" created="Fri, 18 Feb 2011 05:59:12 +0000"  >&lt;p&gt;Compiles.  Some tests pass.  Working on the rest.&lt;/p&gt;</comment>
                            <comment id="12998544" author="stack" created="Wed, 23 Feb 2011 20:52:23 +0000"  >&lt;p&gt;Here is latest.  Putting aside for the moment.  Going to work on splits, load, and shutdown in separate issues rather than bundle them in as part of this patch.&lt;/p&gt;</comment>
                            <comment id="13002423" author="hudson" created="Fri, 4 Mar 2011 02:55:01 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1767 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/HBase-TRUNK/1767/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/HBase-TRUNK/1767/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13009368" author="stack" created="Mon, 21 Mar 2011 20:50:18 +0000"  >&lt;p&gt;The Master needs to know cluster load for load balancing and so we can display load aggregate in the UI.  Currently this is carried on the back of the heatbeat as a serialized HServerLoad.  The intent was to put this loading elsewhere than up on the heartbeat.  Thought was to put it out in zk.&lt;/p&gt;

&lt;p&gt;At the hackathon, it was thought that on a cluster of any reasonable size, the number of writes would be too high (Think 700 node cluster writing load every 1-5 seconds).  Todd raised the issue after talking with Patrick; zk blocks reads while taking on writes so our read rate would go down.&lt;/p&gt;

&lt;p&gt;Chatting more, the thought was to just leave up the heartbeat connection &amp;#8211; call it something else though (jgray) &amp;#8211; but remove HMsg and just pass HSLs.   We talked of master querying on a period all RSs but for now, we have something that works so just keep it up it was thought.&lt;/p&gt;</comment>
                            <comment id="13021864" author="stack" created="Wed, 20 Apr 2011 00:03:00 +0000"  >&lt;p&gt;Compiles.  Not ready for review yet.&lt;/p&gt;</comment>
                            <comment id="13023463" author="stack" created="Fri, 22 Apr 2011 23:47:08 +0000"  >&lt;p&gt;Added a patch that is ready for review to &lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;  I&apos;m still testing but its ready for input.&lt;/p&gt;</comment>
                            <comment id="13023464" author="stack" created="Fri, 22 Apr 2011 23:47:26 +0000"  >&lt;p&gt;Marking patch available.&lt;/p&gt;</comment>
                            <comment id="13023465" author="jiraposter@reviews.apache.org" created="Fri, 22 Apr 2011 23:48:06 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;br/&gt;
send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;

&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;br/&gt;
We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;

&lt;p&gt;Removed HMsg.&lt;/p&gt;

&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;br/&gt;
Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;

&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;

&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;

&lt;p&gt;New tests&lt;/p&gt;

&lt;p&gt;Cruft cleanup.&lt;/p&gt;


&lt;p&gt;This addresses bug hbase-1502.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HConstants.java ce0ea12 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerInfo.java 7aa8bd9 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java e022fe4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnection.java d8a2fc3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java 53decd6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HTable.java bb3a8fa &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 9576c48 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java db0870b &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java de13e27 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java e9b2af2 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/DeadServer.java efcbb99 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 62789d3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java fe5f7e1 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java c0e9417 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 7b5181a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 4b8a59a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java 516d06d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 85b4144 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 4051e0b &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 55423af &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java c01fe67 &lt;br/&gt;
  src/main/resources/hbase-webapps/master/master.jsp 198a188 &lt;br/&gt;
  src/main/resources/hbase-webapps/master/table.jsp bba9e5b &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java a15d53a &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 3f332ff &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java e5da229 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 42ce89d &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java c2437bd &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Michael&lt;/p&gt;
</comment>
                            <comment id="13023608" author="jiraposter@reviews.apache.org" created="Sat, 23 Apr 2011 21:52:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-04-23 21:51:08.451039)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This diff goes against tip of TRUNK&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;br/&gt;
send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;

&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;br/&gt;
We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;

&lt;p&gt;Removed HMsg.&lt;/p&gt;

&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;br/&gt;
Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;

&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;

&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;

&lt;p&gt;New tests&lt;/p&gt;

&lt;p&gt;Cruft cleanup.&lt;/p&gt;


&lt;p&gt;This addresses bug hbase-1502.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HConstants.java 5701639 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerInfo.java 0b5bd94 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java afb666a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnection.java 2bb4725 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java c348f7a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HTable.java edacf56 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 8df6aa4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java d64817f &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java c22e342 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 58fdb30 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/DeadServer.java 05600c4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 79a48ba &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java 6c92cbc &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java 4bb072e &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 55e0162 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 04befe9 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java c065702 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java d0a1e11 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 6282b9e &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 5da5e34 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java 7f5b377 &lt;br/&gt;
  src/main/resources/hbase-webapps/master/master.jsp eeabc0a &lt;br/&gt;
  src/main/resources/hbase-webapps/master/table.jsp 6fcf16f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java 0829c8e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 57d85d8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java 6f718f1 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java 6b2dc53 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 7fc44e9 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bc0a327 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Michael&lt;/p&gt;
</comment>
                            <comment id="13024693" author="jiraposter@reviews.apache.org" created="Sun, 24 Apr 2011 23:46:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-04-24 23:44:37.199842)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Brought this up to the tip of TRUNK.  Most tests pass.  Looking into a distributed split failure.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;br/&gt;
send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;

&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;br/&gt;
We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;

&lt;p&gt;Removed HMsg.&lt;/p&gt;

&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;br/&gt;
Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;

&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;

&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;

&lt;p&gt;New tests&lt;/p&gt;

&lt;p&gt;Cruft cleanup.&lt;/p&gt;


&lt;p&gt;This addresses bug hbase-1502.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HConstants.java 5701639 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerInfo.java 0b5bd94 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java afb666a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnection.java 2bb4725 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java c348f7a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HTable.java edacf56 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 8df6aa4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java d64817f &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java c22e342 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 58fdb30 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/DeadServer.java 05600c4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 79a48ba &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java 6c92cbc &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java 4bb072e &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 55e0162 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 04befe9 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java c065702 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java d0a1e11 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 6282b9e &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 5da5e34 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java 7f5b377 &lt;br/&gt;
  src/main/resources/hbase-webapps/master/master.jsp eeabc0a &lt;br/&gt;
  src/main/resources/hbase-webapps/master/table.jsp 6fcf16f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java 0829c8e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 57d85d8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestDeadServer.java 61baf7d &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java 6f718f1 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java 6b2dc53 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 7fc44e9 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bc0a327 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Michael&lt;/p&gt;
</comment>
                            <comment id="13025520" author="jiraposter@reviews.apache.org" created="Tue, 26 Apr 2011 23:50:03 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-04-26 23:50:23.656187)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All tests pass now.  I&apos;d like to get this patch in soon.  I&apos;m currently spending a good bit of my time trying to keep this patch up with current TRUNK.  I&apos;d rather commit and then address issues after.&lt;/p&gt;

&lt;p&gt;This version of the patch does one  make significant change though in that it deprecates prewarmRegionCache.  IMO this is a burdensome feature that is little used; i&apos;d like to have it die off.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;br/&gt;
send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;

&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;br/&gt;
We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;

&lt;p&gt;Removed HMsg.&lt;/p&gt;

&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;br/&gt;
Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;

&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;

&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;

&lt;p&gt;New tests&lt;/p&gt;

&lt;p&gt;Cruft cleanup.&lt;/p&gt;


&lt;p&gt;This addresses bug hbase-1502.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HConstants.java 5701639 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerInfo.java 0b5bd94 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java afb666a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnection.java 2bb4725 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java c348f7a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HTable.java edacf56 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 8df6aa4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java d64817f &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java c22e342 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java 2273e55 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 58fdb30 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/DeadServer.java 05600c4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java 79a48ba &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java 6c92cbc &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java 4bb072e &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 55e0162 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 04befe9 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/SplitLogManager.java dada818 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java c065702 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java d0a1e11 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 6282b9e &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java fe807f3 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 5da5e34 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java 7f5b377 &lt;br/&gt;
  src/main/resources/hbase-webapps/master/master.jsp eeabc0a &lt;br/&gt;
  src/main/resources/hbase-webapps/master/table.jsp 6fcf16f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java 0829c8e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 57d85d8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestDeadServer.java 61baf7d &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java 6f718f1 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java 6b2dc53 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitLogWorker.java 9dd71a3 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 7fc44e9 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bc0a327 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Michael&lt;/p&gt;
</comment>
                            <comment id="13025526" author="jiraposter@reviews.apache.org" created="Wed, 27 Apr 2011 00:18:03 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/#review568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#review568&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;woohoo!  glad HMsg is dead!&lt;/p&gt;


&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ClusterStatus.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1206&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1206&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Can just use this.liveServers.values() for here and below?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerAddress.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1207&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1207&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Where is this actually used now?  Should point it out here so it&apos;s clear and so that when it goes away we know we can get rid of this.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1208&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1208&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    i see webuiport below, does this TODO still apply?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1209&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1209&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    why String and not ServerName?  because master has no startcode?  (i see use of ServerName for master above tho)&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ServerName.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1210&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1210&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    awesome that this is tucked away in here now&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1211&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    this is because HSA actually makes a connection or does the lookup?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-04-26 23:50:23, Michael Stack wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-04-26 23:50:23)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Removed HMsg.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Cruft cleanup.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug hbase-1502.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java 5701639 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerInfo.java 0b5bd94 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java afb666a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnection.java 2bb4725 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java c348f7a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HTable.java edacf56 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 8df6aa4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java d64817f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java c22e342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java 2273e55 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 58fdb30 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/DeadServer.java 05600c4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/HMaster.java 79a48ba &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java 6c92cbc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java 4bb072e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 55e0162 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 04befe9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/SplitLogManager.java dada818 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java c065702 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java d0a1e11 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 6282b9e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java fe807f3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 5da5e34 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java 7f5b377 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/resources/hbase-webapps/master/master.jsp eeabc0a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/resources/hbase-webapps/master/table.jsp 6fcf16f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java 0829c8e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 57d85d8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDeadServer.java 61baf7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java 6f718f1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java 6b2dc53 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitLogWorker.java 9dd71a3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 7fc44e9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bc0a327 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13025914" author="jiraposter@reviews.apache.org" created="Wed, 27 Apr 2011 17:42:03 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/#review585&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#review585&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;Thanks for review jg&lt;/p&gt;


&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/#comment1226&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#comment1226&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This I&apos;ve been changing removing HSA.  Instead I&apos;m passing an ISA (this patch adds a getConnection(isa) method).&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Michael&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-04-26 23:50:23, Michael Stack wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-04-26 23:50:23)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Removed HMsg.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Cruft cleanup.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug hbase-1502.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java 5701639 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerInfo.java 0b5bd94 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java afb666a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnection.java 2bb4725 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java c348f7a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HTable.java edacf56 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 8df6aa4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java d64817f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java c22e342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java 2273e55 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 58fdb30 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/DeadServer.java 05600c4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/HMaster.java 79a48ba &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java 6c92cbc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java 4bb072e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 55e0162 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 04befe9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/SplitLogManager.java dada818 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java c065702 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java d0a1e11 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 6282b9e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java fe807f3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 5da5e34 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java 7f5b377 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/resources/hbase-webapps/master/master.jsp eeabc0a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/resources/hbase-webapps/master/table.jsp 6fcf16f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java 0829c8e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 57d85d8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDeadServer.java 61baf7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java 6f718f1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java 6b2dc53 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitLogWorker.java 9dd71a3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 7fc44e9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bc0a327 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13025915" author="jiraposter@reviews.apache.org" created="Wed, 27 Apr 2011 17:42:04 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-04-27 00:17:30, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/ClusterStatus.java, line 113&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/diff/4/?file=17400#file17400line113&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff/4/?file=17400#file17400line113&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Can just use this.liveServers.values() for here and below?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;value is HServerLoad (Not a List of HRegionInfo).  We want count of regions.&lt;/p&gt;

&lt;p&gt;I did remove the dup iteration having getAverageLoad instead call getRegionsCount.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-04-27 00:17:30, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HServerInfo.java, line 42&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/diff/4/?file=17405#file17405line42&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff/4/?file=17405#file17405line42&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     i see webuiport below, does this TODO still apply?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It does.&lt;/p&gt;

&lt;p&gt;HSI is deprecated and after this patch goes in, there is no means of the RS telling Master of its webui port &amp;#8211; in master we&apos;ll rely on configs.  In rare case where webui port changes &amp;#8211; it can if occupied &amp;#8211; then master will be off.&lt;/p&gt;

&lt;p&gt;Will address elsewhere.  Will write json to the RS ephemeral node with &apos;metadata&apos; about the RS that will include webui port but likely other stuff that could be factored doing loading calculations, etc. (it used to hold a HSA but thats been bumped in this patch).  Will file an issue after this patch goes in.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-04-27 00:17:30, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java, line 83&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/diff/4/?file=17408#file17408line83&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff/4/?file=17408#file17408line83&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     why String and not ServerName?  because master has no startcode?  (i see use of ServerName for master above tho)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I changed it (This method is not used anywhere seemingly).&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-04-27 00:17:30, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HServerAddress.java, line 42&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/diff/4/?file=17404#file17404line42&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff/4/?file=17404#file17404line42&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Where is this actually used now?  Should point it out here so it&apos;s clear and so that when it goes away we know we can get rid of this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Will do.  Had a change of heart last night; previous was going to just &apos;sort-of&apos; deprecate HSA but on way  home, after thinking on it, HSA is just never a good idea so will outright deprecate it.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-04-27 00:17:30, Jonathan Gray wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java, line 792&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/647/diff/4/?file=17416#file17416line792&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff/4/?file=17416#file17416line792&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     this is because HSA actually makes a connection or does the lookup?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This I&apos;ll purge.  I&apos;ll use the getConnection(ISA) that this patch adds instead so no reference to HSA in HBaseAdmin (except deprecated uses)&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Michael&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/647/#review568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/#review568&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-04-26 23:50:23, Michael Stack wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/647/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-04-26 23:50:23)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This patch does not completely remove heartbeats.  It unburdens the heartbeat of control messages; now heartbeat is used to&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;send the master load only (At most recent hackathon we had rough agreement that we&apos;d keep heartbeat to carry load)... if we miss some, no biggie.   &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;RPC version changed on HMasterRegionInfo since the regionServerStartup and regionServerReport arguments have changed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We pass a String now instead of HServerAddress so this should help with our DNS issues where the two sides disagree.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Removed HMsg.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HServerAddress as been sort_of_deprecated.  Its in our API so can&apos;t remove it easily (its embedded inside HRegionLocation).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Otherwise, we don&apos;t use it internally anymore.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;HServerInfo is deprecated.  Server meta data is now available in new class ServerName and load lives apart from HSI now.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Fixed up regionserver and master startup so they now look the same.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Cruft cleanup.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug hbase-1502.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/hbase-1502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/hbase-1502&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ClusterStatus.java 26a8bef &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java 5701639 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HMsg.java 87beb00 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionLocation.java bd353b8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerAddress.java 7f8a472 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerInfo.java 0b5bd94 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HServerLoad.java 2372053 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/LocalHBaseCluster.java 0d696ab &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/MasterAddressTracker.java 1da9742 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/Server.java df396fa &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ServerName.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java d7a1e67 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/CatalogTracker.java be31179 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java c2ee031 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java 6e22cf5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/RootLocationEditor.java aee64c5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java afb666a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnection.java 2bb4725 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java c348f7a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HTable.java edacf56 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedWithDetailsException.java 6c62024 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/BaseMasterObserver.java 8df6aa4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/coprocessor/MasterObserver.java d64817f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/executor/EventHandler.java c22e342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/executor/RegionTransitionData.java a55f9d6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d8f8463 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HBaseServer.java ec28de4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterRegionInterface.java 25139b3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HRegionInterface.java 663cab5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java 2273e55 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/ActiveMasterManager.java 66a3345 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 58fdb30 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/DeadServer.java 05600c4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/HMaster.java 79a48ba &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/LoadBalancer.java 6c92cbc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterCoprocessorHost.java 4bb072e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java 55e0162 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/ServerManager.java 04befe9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/SplitLogManager.java dada818 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/MetaServerShutdownHandler.java eb01a6a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java c478ab7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java 60662c2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/SplitRegionHandler.java fee0b3d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java c065702 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java d0a1e11 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java 6282b9e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitLogWorker.java fe807f3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 1b521f6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 7569992 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/ReplicationPeer.java 548c8eb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/ReplicationZookeeper.java f282c6d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/regionserver/ReplicationSource.java 78c3b42 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/rest/StorageClusterStatusResource.java 578ee14 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/Addressing.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 5da5e34 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java b624d28 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/JVMClusterUtil.java baf0c27 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/RegionServerTracker.java 0437484 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/RootRegionTracker.java 692b608 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/ZKAssign.java 34e17b6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java 7f5b377 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/resources/hbase-webapps/master/master.jsp eeabc0a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/resources/hbase-webapps/master/table.jsp 6fcf16f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/MiniHBaseCluster.java 28d2205 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHRegionLocation.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHServerAddress.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestHServerInfo.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestRegionRebalancing.java 11b94fe &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestSerialization.java 40874fc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestServerName.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTracker.java e25184e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestCatalogTrackerOnCluster.java 66c6959 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/catalog/TestMetaReaderEditor.java 60320a3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestMasterObserver.java 0829c8e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/BROKE_FIX_TestKillingServersFromMaster.java 21b76fa &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/OOMEHMaster.java bf5ed03 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestActiveMasterManager.java 1a19941 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java 57d85d8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestClockSkewDetection.java 915cdf6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDeadServer.java 61baf7d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java 6f718f1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestHMasterRPCException.java a1bb6af &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java 6b2dc53 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLogsCleaner.java 19220fb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMaster.java c4ea83f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 5a334e0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestRestartCluster.java dff6c1b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestRollingRestart.java 6089ae6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestMasterAddressManager.java 319a74e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java 7ff6a2e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitLogWorker.java 9dd71a3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransactionOnCluster.java 7fc44e9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bc0a327 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 20a1ff8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a055082 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/647/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/647/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Most tests pass.  I have yet to run it on a cluster.  Doing that now.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13026135" author="stack" created="Thu, 28 Apr 2011 06:00:17 +0000"  >&lt;p&gt;Committed to trunk (Sorry for test breakage &amp;#8211; I&apos;m on it.  Sorry for making so big a patch.  Won&apos;t do it again).&lt;/p&gt;</comment>
                            <comment id="13027261" author="hudson" created="Sat, 30 Apr 2011 00:53:41 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1888 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/HBase-TRUNK/1888/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/HBase-TRUNK/1888/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13030227" author="hudson" created="Sat, 7 May 2011 00:08:32 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1909 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/HBase-TRUNK/1909/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/HBase-TRUNK/1909/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13050983" author="hudson" created="Fri, 17 Jun 2011 11:00:06 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1976 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/1976/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/1976/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="15017958" author="lars_francke" created="Fri, 20 Nov 2015 13:02:01 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12493398">HBASE-3368</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12462968">HBASE-2486</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499539">HBASE-3559</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12431721">HBASE-1720</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12434794">HBASE-1816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12499793">HBASE-3574</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499792">HBASE-3573</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12508703">HBASE-3933</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12508411">HBASE-3923</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499539">HBASE-3559</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12471230" name="1502-4.txt" size="340032" author="stack" created="Wed, 16 Feb 2011 22:52:31 +0000"/>
                            <attachment id="12470979" name="1502-v2.txt" size="129079" author="stack" created="Mon, 14 Feb 2011 04:09:07 +0000"/>
                            <attachment id="12471368" name="1502-v5.txt" size="436752" author="stack" created="Fri, 18 Feb 2011 05:59:11 +0000"/>
                            <attachment id="12471769" name="1502-v6.txt" size="436748" author="stack" created="Wed, 23 Feb 2011 20:52:23 +0000"/>
                            <attachment id="12476801" name="1502-v7.txt" size="435762" author="stack" created="Wed, 20 Apr 2011 00:03:00 +0000"/>
                            <attachment id="12470817" name="1502.txt" size="39911" author="stack" created="Fri, 11 Feb 2011 01:11:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Jun 2009 04:46:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32167</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hdmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Deprecates what were once considered fundamental classes, HServerInfo and HServerAddress.  The former has been made irrelevant because its constituent info -- server name, server load -- is now passed otherwise. HServerAddress, a class that on deserialization, did a resolve (it created a new InetSocketAddress on deserialization) was just a bad idea from the get-go.  Unfortunately, HSI and HSA were all over our codebase like a cancer.  Hopefully the patient survives their purging.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>