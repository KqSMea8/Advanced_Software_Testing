<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:41:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-126/HBASE-126.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-126] [hbase] OOME running in &apos;local&apos; mode</title>
                <link>https://issues.apache.org/jira/browse/HBASE-126</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Holger Stenzhorn has been having issues running a mapreduce job that dumps into a &apos;local&apos; mode hbase.  Use this issue to figure whats going on.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12382212">HBASE-126</key>
            <summary>[hbase] OOME running in &apos;local&apos; mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Nov 2007 17:19:14 +0000</created>
                <updated>Mon, 4 Feb 2008 18:40:46 +0000</updated>
                            <resolved>Wed, 21 Nov 2007 21:52:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12541422" author="host" created="Fri, 9 Nov 2007 19:49:41 +0000"  >&lt;p&gt;This test class provokes a crash of Hbase when invoked on large input.&lt;br/&gt;
The input I use is a file that contains the first 100000 triples (i.e. lines) taken from DBLP in RDF file.&lt;br/&gt;
This RDF file is available in packed form at &quot;http://dblp.l3s.de/dblp-2007-11-03.rdf.gz&quot;.&lt;/p&gt;

&lt;p&gt;The tests are run on a linux machine using the default configuration for both Hadoop and Hbase.&lt;br/&gt;
...just the heap space for Hadoop as well as the test class is set to 2000m.&lt;/p&gt;</comment>
                            <comment id="12541612" author="stack" created="Sun, 11 Nov 2007 07:46:12 +0000"  >&lt;p&gt;I couldn&apos;t get the data file from the cited link (nor from its seeming alias at dblp.l3s.uni-hannover.de). Traceroute never makes it to the target from here trying from two different locations and attempts wget&apos;ing on port 80 hang for ever. Perhaps its temporarily down?  Odd.  I tried the dblp from here &lt;a href=&quot;http://dblp.uni-trier.de/xml/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dblp.uni-trier.de/xml/&lt;/a&gt; but its a different format from what your regex expects.  So I made a little script to dump out 100k lines that will fit your regex pattern modelled on an rdf triple you pasted into mail a while back.  Here&apos;s a sample:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
&amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//dblp.l3s.de/d2r/resource/publications/books/acm/kim95/AnnevelinkACFHK9599998&amp;gt; &amp;lt;http://purl.org/dc/elements/1.1/creator&amp;gt; &amp;lt;http://dblp.l3s.de/d2r/resource/authors/Jurgen_Annevelink99998&amp;gt;.
&lt;/span&gt;&amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//dblp.l3s.de/d2r/resource/publications/books/acm/kim95/AnnevelinkACFHK9599999&amp;gt; &amp;lt;http://purl.org/dc/elements/1.1/creator&amp;gt; &amp;lt;http://dblp.l3s.de/d2r/resource/authors/Jurgen_Annevelink99999&amp;gt;.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I set up a cluster made of mapreduce and hbase only.  I didn&apos;t bother with hdfs since we&apos;re running local.  My hadoop-site.xml had these two properties set:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &amp;lt;name&amp;gt;mapred.job.tracker&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;localhost:9000&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;mapred.system.dir&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;/tmp/mapred/system&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thats all the config. that differs from defaults.  I ran ./bin/start-mapred.sh to start up the mapred cluster and then ./src/contrib/hbase/bin/start-hbase.sh (You were running pseudo-distributed mode?).&lt;/p&gt;

&lt;p&gt;Map ran fine.  Reduce is currently stuck at 84% reduce mark &amp;#8211; its loading the triples table in hbase.  I can see the entries going in by doing a query on the HQL page: &apos;select * from triples limit=10;&apos; etc.  They are going in slow which is sort of what you&apos;d expect running a single reduce.&lt;/p&gt;

&lt;p&gt;I&apos;ll let it run.  Will report back w/ whether it completes or OOMEs.&lt;/p&gt;</comment>
                            <comment id="12541666" author="stack" created="Sun, 11 Nov 2007 23:01:28 +0000"  >&lt;p&gt;It ran for hours.  Didn&apos;t OOME.  Inserted 130k records but it did it really slowly... one reduce, w/ one region server only fielding the uploads would run slow but it was slower than I expected.  Then my computer went to sleep and interrupted the upload.  Will try it on a little cluster next to see how fast inserts run there.  Lets figure out why I&apos;m not OOME&apos;ing and you are Holger.&lt;/p&gt;</comment>
                            <comment id="12542017" author="stack" created="Tue, 13 Nov 2007 01:26:08 +0000"  >&lt;p&gt;Trying your dblp against a little cluster of 4 machines Holger.  Its taking a good few hours uploading the 29million entries.   I had to up the child task arguments to fix an OOME.  I set mapred.child.java.opts  to -Xmx1000m.  And then it ran fine.&lt;/p&gt;

&lt;p&gt;Looking again at the OOME from an old mail message of yours, try setting the HBASE_HEAPSIZE.  Without it, hbase defaults to the default heapsize.&lt;/p&gt;</comment>
                            <comment id="12543290" author="host" created="Sat, 17 Nov 2007 15:56:19 +0000"  >&lt;p&gt;The last comment given by you solved my issues both when using Hbase in local and clustered mode. It would just be nice to document the above more clearly on the wiki. So you can close the issue. ...and thank you again for your help!&lt;/p&gt;</comment>
                            <comment id="12544609" author="stack" created="Wed, 21 Nov 2007 21:52:49 +0000"  >&lt;p&gt;Resolving.   Fix was setting HBASE_HEAPSIZE.  I also added an FAQ on OOMEs.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12369261" name="TriplesTest.java" size="4648" author="host" created="Fri, 9 Nov 2007 19:49:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Nov 2007 19:49:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h4lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>