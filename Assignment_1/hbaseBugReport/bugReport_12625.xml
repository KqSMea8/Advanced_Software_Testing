<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:34:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12625/HBASE-12625.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12625] Deprecate certain methods in classes annotated with InterfaceAudience.Public in branch-1</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12625</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Compiling Phoenix against branch-1, I got compilation error below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /Users/tyu/phoenix/phoenix-core/src/main/java/org/apache/phoenix/execute/MutationState.java:[345,49] cannot find symbol
[ERROR] symbol:   method estimatedSizeOf(org.apache.hadoop.hbase.Cell)
[ERROR] location: class org.apache.hadoop.hbase.CellUtil
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;CellUtil is annotated with InterfaceAudience.Public&lt;br/&gt;
estimatedSizeOf() should be deprecated in branch-1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12759257">HBASE-12625</key>
            <summary>Deprecate certain methods in classes annotated with InterfaceAudience.Public in branch-1</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Dec 2014 18:56:38 +0000</created>
                <updated>Sat, 21 Feb 2015 23:49:21 +0000</updated>
                            <resolved>Wed, 17 Dec 2014 23:15:34 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14233349" author="anoop.hbase" created="Wed, 3 Dec 2014 19:03:23 +0000"  >&lt;p&gt;All other compile issues you saw are because of usage of private annotated class/APIs in Phoenix?&lt;/p&gt;</comment>
                            <comment id="14233356" author="yuzhihong@gmail.com" created="Wed, 3 Dec 2014 19:05:53 +0000"  >&lt;p&gt;I am still going over the list of compilation errors:&lt;br/&gt;
&lt;a href=&quot;http://pastebin.com/gaxCs8fT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/gaxCs8fT&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14233357" author="stack" created="Wed, 3 Dec 2014 19:06:53 +0000"  >&lt;p&gt;&lt;br/&gt;
&lt;br/&gt;
This patch looks fine but &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; are you doing a JIRA per method?&lt;/p&gt;</comment>
                            <comment id="14233358" author="anoop.hbase" created="Wed, 3 Dec 2014 19:07:55 +0000"  >&lt;p&gt;patch LGTM&lt;/p&gt;</comment>
                            <comment id="14233361" author="yuzhihong@gmail.com" created="Wed, 3 Dec 2014 19:09:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;are you doing a JIRA per method?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No. I plan to do more examination for this issue.&lt;/p&gt;</comment>
                            <comment id="14233396" author="yuzhihong@gmail.com" created="Wed, 3 Dec 2014 19:27:26 +0000"  >&lt;p&gt;I want to get some advice on the following compilation error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /Users/tyu/phoenix/phoenix-core/src/main/java/org/apache/phoenix/hbase/index/ipc/PhoenixIndexRpcSchedulerFactory.java:[38,8] org.apache.phoenix.hbase.index.ipc.PhoenixIndexRpcSchedulerFactory is not &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; and does not override &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; method create(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.ipc.PriorityFunction) in org.apache.hadoop.hbase.regionserver.RpcSchedulerFactory
[ERROR] /Users/tyu/phoenix/phoenix-core/src/main/java/org/apache/phoenix/hbase/index/ipc/PhoenixIndexRpcSchedulerFactory.java:[51,55] method create in class org.apache.hadoop.hbase.regionserver.SimpleRpcSchedulerFactory cannot be applied to given types;
[ERROR] required: org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.ipc.PriorityFunction
[ERROR] found: org.apache.hadoop.conf.Configuration,org.apache.hadoop.hbase.regionserver.RegionServerServices
[ERROR] reason: actual argument org.apache.hadoop.hbase.regionserver.RegionServerServices cannot be converted to org.apache.hadoop.hbase.ipc.PriorityFunction by method invocation conversion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Method signatures for create() are different between branch-1 and 0.98.&lt;/p&gt;</comment>
                            <comment id="14233487" author="yuzhihong@gmail.com" created="Wed, 3 Dec 2014 20:30:31 +0000"  >&lt;p&gt;This one is a bit tricky:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /Users/tyu/phoenix/phoenix-core/src/main/java/org/apache/phoenix/util/IndexUtil.java:[536,30] getTagsLength() in &amp;lt;anonymous org.apache.phoenix.util.IndexUtil$4&amp;gt; cannot implement getTagsLength() in org.apache.hadoop.hbase.Cell
[ERROR] &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; type &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; is not compatible with &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Return type of getTagsLength() changed.&lt;br/&gt;
What&apos;s your opinion, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14233490" author="yuzhihong@gmail.com" created="Wed, 3 Dec 2014 20:31:51 +0000"  >&lt;p&gt;In Cell.java of 0.98:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  @Deprecated
  &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; getTagsLength();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So we should be fine - the deprecation happened in 0.98&lt;/p&gt;</comment>
                            <comment id="14234643" author="apurtell" created="Thu, 4 Dec 2014 21:27:01 +0000"  >&lt;p&gt;+1 for the patch on this issue&lt;/p&gt;

&lt;p&gt;In general I wouldn&apos;t expect Phoenix to compile against branch-1, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PHOENIX-1501&quot; title=&quot;Remove or replace all uses of InterfaceAudience.Private HBase APIs and classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PHOENIX-1501&quot;&gt;PHOENIX-1501&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt;, if you have a list of compilation errors against Private audience APIs handy perhaps you&apos;d comment on the Phoenix JIRA?&lt;/p&gt;</comment>
                            <comment id="14234648" author="apurtell" created="Thu, 4 Dec 2014 21:31:14 +0000"  >&lt;p&gt;RpcScheduler, RpcSchedulerFactory, and friends is LimitedPrivate(PHOENIX) and Evolving. My interpretation of what that means is we owe a deprecation cycle, so should be deprecated in branch-1 and then we can do whatever on master. Or revert the signature change in branch-1 and master.&lt;/p&gt;</comment>
                            <comment id="14234656" author="apurtell" created="Thu, 4 Dec 2014 21:33:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;return type short is not compatible with int&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, we deprecated that in 0.98 because we knew it would be an issue. The original sin was selecting a &lt;tt&gt;short&lt;/tt&gt; as return type. Apologies again for that.&lt;/p&gt;</comment>
                            <comment id="14234680" author="yuzhihong@gmail.com" created="Thu, 4 Dec 2014 21:46:36 +0000"  >&lt;p&gt;w.r.t. RpcSchedulerFactory, I tried to add back the old method which accepts RegionServerServices parameter.&lt;br/&gt;
It wasn&apos;t straight forward - AnnotationReadingPriorityFunction expects parameter of type RSRpcServices.&lt;/p&gt;</comment>
                            <comment id="14234688" author="apurtell" created="Thu, 4 Dec 2014 21:51:24 +0000"  >&lt;blockquote&gt;
&lt;p&gt;w.r.t. RpcSchedulerFactory, I tried to add back the old method which accepts RegionServerServices parameter.&lt;br/&gt;
It wasn&apos;t straight forward - AnnotationReadingPriorityFunction expects parameter of type RSRpcServices.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok, but it&apos;s incumbent on us to fix a LimitedPrivate interface we broke without deprecation or warning.&lt;br/&gt;
/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14238656" author="yuzhihong@gmail.com" created="Mon, 8 Dec 2014 23:24:16 +0000"  >&lt;p&gt;I want to get opinion on whether the patch should be integrated and the issue resolved.&lt;/p&gt;</comment>
                            <comment id="14250569" author="yuzhihong@gmail.com" created="Wed, 17 Dec 2014 21:22:25 +0000"  >&lt;p&gt;Planning to commit patch to branch-1 if there is no objection.&lt;/p&gt;</comment>
                            <comment id="14250778" author="yuzhihong@gmail.com" created="Wed, 17 Dec 2014 23:15:34 +0000"  >&lt;p&gt;Thanks for the reviews.&lt;/p&gt;</comment>
                            <comment id="14250803" author="hudson" created="Wed, 17 Dec 2014 23:27:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #594 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/594/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/594/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12625&quot; title=&quot;Deprecate certain methods in classes annotated with InterfaceAudience.Public in branch-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12625&quot;&gt;&lt;del&gt;HBASE-12625&lt;/del&gt;&lt;/a&gt; Deprecate certain methods in classes annotated with InterfaceAudience.Public in branch-1 (tedyu: rev d92e686520cc504100e7dfdbd047070d8ac362df)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/CellUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331825" author="enis" created="Sat, 21 Feb 2015 23:49:21 +0000"  >&lt;p&gt;Closing this issue after 1.0.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12759488">PHOENIX-1501</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12684947" name="12625-v1.txt" size="868" author="yuzhihong@gmail.com" created="Wed, 3 Dec 2014 18:59:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Dec 2014 19:03:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i230zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>