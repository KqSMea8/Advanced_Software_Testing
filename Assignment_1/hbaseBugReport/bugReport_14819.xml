<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:56:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14819/HBASE-14819.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14819] hbase-it tests failing with OOME; permgen</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14819</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Let me up the heap used when failsafe forks.&lt;/p&gt;

&lt;p&gt;Here is example OOME doing ITBLL:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-11-16 03:09:15,073 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] actions.BatchRestartRsAction(69): Starting region server:asf905.gq1.ygridcore.net
2015-11-16 03:09:15,099 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] client.ConnectionUtils(104): regionserver/asf905.gq1.ygridcore.net/67.195.81.149:0 server-side HConnection retries=350
2015-11-16 03:09:15,099 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.SimpleRpcScheduler(128): Using deadline as user call queue, count=1
2015-11-16 03:09:15,101 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcServer$Listener(607): regionserver/asf905.gq1.ygridcore.net/67.195.81.149:0: started 3 reader(s) listening on port=36114
2015-11-16 03:09:15,103 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] fs.HFileSystem(252): Added intercepting call to namenode#getBlockLocations so can &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; block reordering using class class org.apache.hadoop.hbase.fs.HFileSystem$ReorderWALBlocks
2015-11-16 03:09:15,104 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] zookeeper.RecoverableZooKeeper(120): &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; identifier=regionserver:36114 connecting to ZooKeeper ensemble=localhost:50139
2015-11-16 03:09:15,117 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694-EventThread] zookeeper.ZooKeeperWatcher(554): regionserver:361140x0, quorum=localhost:50139, baseZNode=/hbase Received ZooKeeper Event, type=None, state=SyncConnected, path=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
2015-11-16 03:09:15,118 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] zookeeper.ZKUtil(492): regionserver:361140x0, quorum=localhost:50139, baseZNode=/hbase Set watcher on existing znode=/hbase/master
2015-11-16 03:09:15,119 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] zookeeper.ZKUtil(492): regionserver:361140x0, quorum=localhost:50139, baseZNode=/hbase Set watcher on existing znode=/hbase/running
2015-11-16 03:09:15,119 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694-EventThread] zookeeper.ZooKeeperWatcher(638): regionserver:36114-0x1510e2c6f1d0029 connected
2015-11-16 03:09:15,120 INFO  [RpcServer.responder] ipc.RpcServer$Responder(926): RpcServer.responder: starting
2015-11-16 03:09:15,121 INFO  [RpcServer.listener,port=36114] ipc.RpcServer$Listener(738): RpcServer.listener,port=36114: starting
2015-11-16 03:09:15,121 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): B.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Start Handler index=0 queue=0
2015-11-16 03:09:15,121 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): B.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Start Handler index=1 queue=0
2015-11-16 03:09:15,121 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): B.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Start Handler index=2 queue=0
2015-11-16 03:09:15,122 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): B.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Start Handler index=3 queue=0
2015-11-16 03:09:15,122 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): B.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; Start Handler index=4 queue=0
2015-11-16 03:09:15,122 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Priority Start Handler index=0 queue=0
2015-11-16 03:09:15,123 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Priority Start Handler index=1 queue=1
2015-11-16 03:09:15,123 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Priority Start Handler index=2 queue=0
2015-11-16 03:09:15,123 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Priority Start Handler index=3 queue=1
2015-11-16 03:09:15,124 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Priority Start Handler index=4 queue=0
2015-11-16 03:09:15,124 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Replication Start Handler index=0 queue=0
2015-11-16 03:09:15,124 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Replication Start Handler index=1 queue=0
2015-11-16 03:09:15,124 DEBUG [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-694] ipc.RpcExecutor(115): Replication Start Handler index=2 queue=0
2015-11-16 03:09:15,761 DEBUG [RS:0;asf905:36114] client.ConnectionManager$HConnectionImplementation(715): connection construction failed
java.io.IOException: java.lang.OutOfMemoryError: PermGen space
	at org.apache.hadoop.hbase.client.RegistryFactory.getRegistry(RegistryFactory.java:43)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.setupRegistry(ConnectionManager.java:886)
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.&amp;lt;init&amp;gt;(ConnectionManager.java:692)
	at org.apache.hadoop.hbase.client.ConnectionUtils$2.&amp;lt;init&amp;gt;(ConnectionUtils.java:154)
	at org.apache.hadoop.hbase.client.ConnectionUtils.createShortCircuitConnection(ConnectionUtils.java:154)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.createClusterConnection(HRegionServer.java:689)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.setupClusterConnection(HRegionServer.java:720)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.preRegistrationInitialization(HRegionServer.java:733)
	at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:889)
	at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer.runRegionServer(MiniHBaseCluster.java:156)
	at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer.access$000(MiniHBaseCluster.java:108)
	at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer$1.run(MiniHBaseCluster.java:140)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:356)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1594)
	at org.apache.hadoop.hbase.security.User$SecureHadoopUser.runAs(User.java:334)
	at org.apache.hadoop.hbase.MiniHBaseCluster$MiniHBaseClusterRegionServer.run(MiniHBaseCluster.java:138)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.lang.OutOfMemoryError: PermGen space
	at sun.misc.Unsafe.defineClass(Native Method)
	at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:63)
	at sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:399)
	at sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:396)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:395)
	at sun.reflect.MethodAccessorGenerator.generateConstructor(MethodAccessorGenerator.java:94)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:48)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.newInstance(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:383)
	at org.apache.hadoop.hbase.client.RegistryFactory.getRegistry(RegistryFactory.java:41)
	... 17 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12913398">HBASE-14819</key>
            <summary>hbase-it tests failing with OOME; permgen</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12863637">HBASE-14420</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Nov 2015 18:45:19 +0000</created>
                <updated>Thu, 3 Dec 2015 00:21:56 +0000</updated>
                            <resolved>Wed, 2 Dec 2015 17:57:59 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15008099" author="apurtell" created="Tue, 17 Nov 2015 05:48:39 +0000"  >&lt;p&gt;This is a failure to allocate PermGen, up it with -XX:MaxPermSize=XXXm, e.g. 512. Only works with Java &amp;lt;= 7. Java 8 will accept the parameter but throw a warning at JVM startup (PermGen went away in 8)&lt;/p&gt;</comment>
                            <comment id="15008202" author="stack" created="Tue, 17 Nov 2015 07:38:02 +0000"  >&lt;p&gt;Looking at ITAcidGuarantees, it spikes to 2k threads and then OOMEs on cant&apos; create a native thread. At this stage it has created 12k threads. See attached picture.&lt;/p&gt;</comment>
                            <comment id="15012594" author="stack" created="Thu, 19 Nov 2015 01:52:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is a failure to allocate PermGen, up it with -XX:MaxPermSize=XXXm, e.g. 512. Only works with Java &amp;lt;= 7. Java 8 will accept the parameter but throw a warning at JVM startup (PermGen went away in 8)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah. I was thinking I could up the heap and then perm gen would up accordingly but not sure what heap size we are running with... Some percentage of total heap but maybe varies on build machines... need to figure whats going on here. Was going to set a heap size when we fork but that might not be right thing to do (4G seems good).&lt;/p&gt;

&lt;p&gt;Then tried running these locally so could study. First one fails with the above 2k + threads (which is crazy). Let me add a &apos;fix&apos; that makes it so we ONLY use 1500 threads in the test.... &lt;/p&gt;

&lt;p&gt;The other ITs just fail for all kinds of reasons. TODO.&lt;/p&gt;</comment>
                            <comment id="15014199" author="stack" created="Thu, 19 Nov 2015 19:25:07 +0000"  >&lt;p&gt;Here is what I was thinking of adding:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-it/pom.xml b/hbase-it/pom.xml
index f62a57d..6d57e55 100644
--- a/hbase-it/pom.xml
+++ b/hbase-it/pom.xml
@@ -94,6 +94,7 @@
               &amp;lt;!--&amp;lt;exclude&amp;gt;${test.exclude.pattern}&amp;lt;/exclude&amp;gt;--&amp;gt;
             &amp;lt;/excludes&amp;gt;
             &amp;lt;redirectTestOutputToFile&amp;gt;${test.output.tofile}&amp;lt;/redirectTestOutputToFile&amp;gt;
+            &amp;lt;argLine&amp;gt;-Xmx4G&amp;lt;/argLine&amp;gt;
             &amp;lt;environmentVariables&amp;gt;
               &amp;lt;LD_LIBRARY_PATH&amp;gt;${env.LD_LIBRARY_PATH}:${project.build.directory}/nativelib&amp;lt;/LD_LIBRARY_PATH&amp;gt;
               &amp;lt;DYLD_LIBRARY_PATH&amp;gt;${env.DYLD_LIBRARY_PATH}:${project.build.directory}/nativelib&amp;lt;/DYLD_LIBRARY_PATH&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15014629" author="stack" created="Thu, 19 Nov 2015 22:43:11 +0000"  >&lt;p&gt;Let me try this flag... -XX:+CMSClassUnloadingEnabled for builds.apache.org at least to see if it makes a difference on the 1.7 master IT build fails.&lt;/p&gt;</comment>
                            <comment id="15014636" author="stack" created="Thu, 19 Nov 2015 22:46:19 +0000"  >&lt;p&gt;What I&apos;m going to commit, the hbase-it permgen config and fix for ITTestAcidGuarantees so it uses less threads.&lt;/p&gt;</comment>
                            <comment id="15014645" author="stack" created="Thu, 19 Nov 2015 22:49:02 +0000"  >&lt;p&gt;Pushed to 1.2+ Leaving open in case we still have OOME in (p)ITBLL after this patch.&lt;/p&gt;</comment>
                            <comment id="15014886" author="hudson" created="Fri, 20 Nov 2015 00:42:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #293 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/293/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/293/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME: permgen (stack: rev b7f30c11e5e9a6883f4380d13b034e4bd08138a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestAcidGuarantees.java&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15014929" author="stack" created="Fri, 20 Nov 2015 01:04:04 +0000"  >&lt;p&gt;Hmm... doesn&apos;t seem to have helped adding the permgen flag. hbase-it 1.2 build of ITBLL just did below when it was passing the last bunch of times. Let me back out the  -XX:+CMSClassUnloadingEnabled flag.&lt;/p&gt;

&lt;p&gt;2015-11-20 00:36:05,795 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;B.defaultRpcServer.handler=1,queue=0,port=46374&amp;#93;&lt;/span&gt; ipc.RpcServer(2212): Unexpected throwable object &lt;br/&gt;
java.lang.OutOfMemoryError: PermGen space&lt;br/&gt;
	at org.codehaus.jackson.map.introspect.AnnotatedClass.construct(AnnotatedClass.java:132)&lt;br/&gt;
	at org.codehaus.jackson.map.introspect.BasicClassIntrospector.classWithCreators(BasicClassIntrospector.java:184)&lt;br/&gt;
	at org.codehaus.jackson.map.introspect.BasicClassIntrospector.collectProperties(BasicClassIntrospector.java:157)&lt;br/&gt;
	at org.codehaus.jackson.map.introspect.BasicClassIntrospector.forSerialization(BasicClassIntrospector.java:96)&lt;br/&gt;
	at org.codehaus.jackson.map.introspect.BasicClassIntrospector.forSerialization(BasicClassIntrospector.java:16)&lt;br/&gt;
	at org.codehaus.jackson.map.SerializationConfig.introspect(SerializationConfig.java:973)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.BeanSerializerFactory.createSerializer(BeanSerializerFactory.java:251)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.StdSerializerProvider._createUntypedSerializer(StdSerializerProvider.java:782)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.StdSerializerProvider._createAndCacheUntypedSerializer(StdSerializerProvider.java:735)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.StdSerializerProvider.findValueSerializer(StdSerializerProvider.java:344)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.StdSerializerProvider.findTypedValueSerializer(StdSerializerProvider.java:420)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.StdSerializerProvider._serializeValue(StdSerializerProvider.java:601)&lt;br/&gt;
	at org.codehaus.jackson.map.ser.StdSerializerProvider.serializeValue(StdSerializerProvider.java:256)&lt;br/&gt;
	at org.codehaus.jackson.map.ObjectMapper._configAndWriteValue(ObjectMapper.java:2575)&lt;br/&gt;
	at org.codehaus.jackson.map.ObjectMapper.writeValueAsString(ObjectMapper.java:2097)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcServer.logResponse(RpcServer.java:2268)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2194)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:109)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:133)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:108)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;
</comment>
                            <comment id="15014932" author="stack" created="Fri, 20 Nov 2015 01:07:56 +0000"  >&lt;p&gt;Addendum that removes flag that does not help.&lt;/p&gt;</comment>
                            <comment id="15014980" author="hadoopqa" created="Fri, 20 Nov 2015 01:23:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773411/14819.addendum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773411/14819.addendum.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit ea48ef86512addc3dc9bcde4b7433a3ac5881424.&lt;br/&gt;
  ATTACHMENT ID: 12773411&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation, build,&lt;br/&gt;
                        or dev-support patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16600//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16600//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15015084" author="hudson" created="Fri, 20 Nov 2015 02:52:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #382 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/382/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/382/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME: permgen (stack: rev 447b0b3bfacf7bc3f5102e8da498f811523e2093)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestAcidGuarantees.java&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015104" author="hudson" created="Fri, 20 Nov 2015 03:07:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #387 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/387/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/387/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME: permgen (stack: rev b7f30c11e5e9a6883f4380d13b034e4bd08138a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestAcidGuarantees.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015117" author="hudson" created="Fri, 20 Nov 2015 03:14:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #324 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/324/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/324/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME: permgen (stack: rev 447b0b3bfacf7bc3f5102e8da498f811523e2093)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestAcidGuarantees.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM (stack: rev c0bc1e944f385740649f80d41614c0b84fd5e47f)&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015156" author="hudson" created="Fri, 20 Nov 2015 03:47:15 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #482 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/482/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/482/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME: permgen (stack: rev 7dc4f121999ab276286550d7e96a717d9dd51649)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/src/test/java/org/apache/hadoop/hbase/IntegrationTestAcidGuarantees.java&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM (stack: rev ea48ef86512addc3dc9bcde4b7433a3ac5881424)&lt;/li&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015163" author="hudson" created="Fri, 20 Nov 2015 03:50:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #294 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/294/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/294/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM (stack: rev 51ab753cbfb6ca3128fdcb80f194e06eae51081a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015263" author="stack" created="Fri, 20 Nov 2015 05:53:06 +0000"  >&lt;p&gt;Ok, reverted the change to ITAG too.... I saw that ITAG failed on the 1.3 build where it had been happily passing with a long time now for both 1.7 and 1.8.&lt;/p&gt;

&lt;p&gt;So, no net change as of now. Work to do still.&lt;/p&gt;</comment>
                            <comment id="15015265" author="stack" created="Fri, 20 Nov 2015 05:54:33 +0000"  >&lt;p&gt;1.3 failed but 1.2 passed with the fix in... ugh. For more study.&lt;/p&gt;</comment>
                            <comment id="15015286" author="hudson" created="Fri, 20 Nov 2015 06:15:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #388 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/388/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/388/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM (stack: rev 51ab753cbfb6ca3128fdcb80f194e06eae51081a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15015300" author="hudson" created="Fri, 20 Nov 2015 06:23:26 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #383 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/383/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/383/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM (stack: rev c0bc1e944f385740649f80d41614c0b84fd5e47f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15019026" author="hudson" created="Fri, 20 Nov 2015 23:12:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #387 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/387/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/387/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM&quot; (stack: rev 5038bb3f3fba33654435f6c0941e9f692d59091e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15019046" author="hudson" created="Fri, 20 Nov 2015 23:26:31 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #328 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/328/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/328/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM&quot; (stack: rev 5038bb3f3fba33654435f6c0941e9f692d59091e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15019087" author="hudson" created="Fri, 20 Nov 2015 23:47:05 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #486 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/486/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/486/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM&quot; (stack: rev 26423e40268947895b23e42f74f1d50ba7be84bb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15019137" author="hudson" created="Sat, 21 Nov 2015 00:03:38 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #297 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/297/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/297/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM&quot; (stack: rev 2ba3805359efc2617f67285f31dbf568de13f2a8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15019280" author="hudson" created="Sat, 21 Nov 2015 01:52:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #391 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/391/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/391/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ADDENDUM&quot; (stack: rev 2ba3805359efc2617f67285f31dbf568de13f2a8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15020843" author="stack" created="Sun, 22 Nov 2015 05:26:37 +0000"  >&lt;p&gt;So, this problem still happening &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-Trunk-IT/it.test=IntegrationTestBigLinkedList,jdk=latest1.7,label=Hadoop/375/artifact/hbase-it/target/failsafe-reports/org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-Trunk-IT/it.test=IntegrationTestBigLinkedList,jdk=latest1.7,label=Hadoop/375/artifact/hbase-it/target/failsafe-reports/org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList-output.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Only on master branch though for whatever reason.&lt;/p&gt;

&lt;p&gt;Let me add -XX:+PrintCommandLineFlags  to the forking command line... And to jenkins.&lt;/p&gt;
</comment>
                            <comment id="15020847" author="stack" created="Sun, 22 Nov 2015 05:33:37 +0000"  >&lt;p&gt;I pushed this:&lt;/p&gt;

&lt;p&gt;diff --git a/hbase-it/pom.xml b/hbase-it/pom.xml&lt;br/&gt;
index 71f3766..e16eef7 100644&lt;br/&gt;
&amp;#8212; a/hbase-it/pom.xml&lt;br/&gt;
+++ b/hbase-it/pom.xml&lt;br/&gt;
@@ -85,6 +85,7 @@&lt;br/&gt;
             &amp;lt;/dependency&amp;gt;&lt;br/&gt;
           &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
           &amp;lt;configuration&amp;gt;&lt;br/&gt;
+            &amp;lt;argLine&amp;gt; -XX:+CMSClassUnloadingEnabled  -verbose:gc  -XX:+PrintCommandLineFlags  &amp;lt;/argLine&amp;gt;&lt;br/&gt;
             &amp;lt;includes&amp;gt;&lt;br/&gt;
               &amp;lt;include&amp;gt;$&lt;/p&gt;
{integrationtest.include}
&lt;p&gt;&amp;lt;/include&amp;gt;&lt;br/&gt;
             &amp;lt;/includes&amp;gt;&lt;/p&gt;

&lt;p&gt;It looks like the argLine config was in wrong place previously... so maybe the CMSClassUnloadingEnabled will help?&lt;/p&gt;</comment>
                            <comment id="15020947" author="hudson" created="Sun, 22 Nov 2015 11:26:01 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-Trunk_matrix #488 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/488/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/488/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen; DEBUG (stack: rev 97ffb193e09cc141396b11dcae6814faea0691b7)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15024777" author="stack" created="Tue, 24 Nov 2015 16:26:33 +0000"  >&lt;p&gt;So, still OOME&apos;ing in permgen in 1.7 ITBLL runs.  I just pushed this to dump size of permgen when we run:&lt;/p&gt;

&lt;p&gt;kalashnikov:hbase.git stack$ git diff&lt;br/&gt;
diff --git a/hbase-it/pom.xml b/hbase-it/pom.xml&lt;br/&gt;
index b579e38..1b9728d 100644&lt;br/&gt;
&amp;#8212; a/hbase-it/pom.xml&lt;br/&gt;
+++ b/hbase-it/pom.xml&lt;br/&gt;
@@ -81,6 +81,7 @@&lt;br/&gt;
             &amp;lt;/dependency&amp;gt;&lt;br/&gt;
           &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
           &amp;lt;configuration&amp;gt;&lt;br/&gt;
+            &amp;lt;argLine&amp;gt;-XX:+CMSClassUnloadingEnabled -verbose:gc -XX:+PrintCommandLineFlags  -XX:+PrintFlagsFinal&amp;lt;/argLine&amp;gt;&lt;br/&gt;
             &amp;lt;includes&amp;gt;&lt;br/&gt;
               &amp;lt;include&amp;gt;$&lt;/p&gt;
{integrationtest.include}
&lt;p&gt;&amp;lt;/include&amp;gt;&lt;br/&gt;
             &amp;lt;/includes&amp;gt;&lt;/p&gt;</comment>
                            <comment id="15025189" author="hudson" created="Tue, 24 Nov 2015 19:41:31 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #496 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/496/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/496/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen &amp;#8211; DEBUGGING (stack: rev 4a60c25c702a57d043ca3fd3a9996f9fe63f9343)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15029254" author="stack" created="Thu, 26 Nov 2015 21:30:48 +0000"  >&lt;p&gt;We seem to be over the permgen OOME (putting arg in right place seems to have helped). Still GC struggling and can&apos;t find my output from flags above.... and though it has passed a few times since above args were passed, it has also failed &apos;mysteriously&apos;.... will leave this issue open while digging.&lt;/p&gt;

&lt;p&gt;This is master 1.7 java ITBLL&lt;/p&gt;</comment>
                            <comment id="15033072" author="stack" created="Tue, 1 Dec 2015 04:46:30 +0000"  >&lt;p&gt;Hmm... no,, OOME permgen is back. Let me just up it. See &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-Trunk-IT/it.test=IntegrationTestBigLinkedList,jdk=latest1.7,label=Hadoop/lastSuccessfulBuild/artifact/hbase-it/target/failsafe-reports/org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-Trunk-IT/it.test=IntegrationTestBigLinkedList,jdk=latest1.7,label=Hadoop/lastSuccessfulBuild/artifact/hbase-it/target/failsafe-reports/org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList-output.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15033089" author="stack" created="Tue, 1 Dec 2015 05:00:11 +0000"  >&lt;p&gt;Here is what I added... setting maxpermgen to 256 so failsafe is like the surefire configuration.&lt;/p&gt;</comment>
                            <comment id="15033092" author="stack" created="Tue, 1 Dec 2015 05:01:09 +0000"  >&lt;p&gt;Pushed to master.&lt;/p&gt;</comment>
                            <comment id="15033171" author="hadoopqa" created="Tue, 1 Dec 2015 06:19:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774954/14819.add.maxpermsize.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774954/14819.add.maxpermsize.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7979ac46cce36f21033f8ed03c8d0dd5fddde005.&lt;br/&gt;
  ATTACHMENT ID: 12774954&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16710//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16710//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15033311" author="hudson" created="Tue, 1 Dec 2015 08:13:33 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-Trunk_matrix #517 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/517/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/517/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen (stack: rev 7979ac46cce36f21033f8ed03c8d0dd5fddde005)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15034210" author="stack" created="Tue, 1 Dec 2015 18:01:28 +0000"  >&lt;p&gt;Still failing with permgen issues though now I get nice printout on JVM flags and args its running with. Upped the heap for failsafe runs and the permgen again:&lt;/p&gt;</comment>
                            <comment id="15034213" author="stack" created="Tue, 1 Dec 2015 18:01:45 +0000"  >&lt;p&gt;What I pushed.&lt;/p&gt;</comment>
                            <comment id="15034215" author="stack" created="Tue, 1 Dec 2015 18:02:00 +0000"  >&lt;p&gt;...to master branch only.&lt;/p&gt;</comment>
                            <comment id="15034275" author="hadoopqa" created="Tue, 1 Dec 2015 18:24:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775084/more.heap.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775084/more.heap.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 3534e1ffefd4df077d2d5aeb655db8c05d30fe5a.&lt;br/&gt;
  ATTACHMENT ID: 12775084&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 1 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16720//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16720//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15034684" author="hudson" created="Tue, 1 Dec 2015 22:07:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #519 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/519/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/519/&lt;/a&gt;)&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen ; ADDENDUM... (stack: rev 3534e1ffefd4df077d2d5aeb655db8c05d30fe5a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15036260" author="stack" created="Wed, 2 Dec 2015 17:57:59 +0000"  >&lt;p&gt;We are passing now mostly and no more OOME. Let me apply a patch to other branches also.&lt;/p&gt;</comment>
                            <comment id="15036262" author="stack" created="Wed, 2 Dec 2015 17:59:59 +0000"  >&lt;p&gt;So, let me make a patch for branch-1. Here is all I did for the master branch on this issue trying to get it to pass:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
3534e1f   HBASE-14819 hbase-it tests failing with OOME; permgen ; ADDENDUM... more heap and permgen &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; failsafe runs
7979ac4 HBASE-14819 hbase-it tests failing with OOME; permgen
4a60c25 HBASE-14819 hbase-it tests failing with OOME; permgen -- DEBUGGING
97ffb19 HBASE-14819 hbase-it tests failing with OOME; permgen; DEBUG
26423e4 Revert &lt;span class=&quot;code-quote&quot;&gt;&quot;HBASE-14819 hbase-it tests failing with OOME; permgen ADDENDUM&quot;&lt;/span&gt;
ea48ef8 HBASE-14819 hbase-it tests failing with OOME; permgen ADDENDUM
7dc4f12 HBASE-14819 hbase-it tests failing with OOME: permgen
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let me make up a coherent patch to backport.&lt;/p&gt;</comment>
                            <comment id="15036266" author="stack" created="Wed, 2 Dec 2015 18:01:53 +0000"  >&lt;p&gt;File of all the changes I tried on master in order.&lt;/p&gt;</comment>
                            <comment id="15036291" author="stack" created="Wed, 2 Dec 2015 18:14:47 +0000"  >&lt;p&gt;What I committed to branch-1 and branch-1.2.&lt;/p&gt;</comment>
                            <comment id="15036319" author="stack" created="Wed, 2 Dec 2015 18:27:48 +0000"  >&lt;p&gt;Backport seems warranted though itbll usually passes on branch-1*. This branch-1.3 it fail was the JVM struggling it seems. See end of here: &lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.3-IT/it.test=IntegrationTestBigLinkedList,jdk=latest1.7,label=Hadoop/350/artifact/hbase-it/target/failsafe-reports/org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.3-IT/it.test=IntegrationTestBigLinkedList,jdk=latest1.7,label=Hadoop/350/artifact/hbase-it/target/failsafe-reports/org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList-output.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15036398" author="hudson" created="Wed, 2 Dec 2015 19:07:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #351 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/351/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/351/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen (stack: rev f730a375e3c67b8e3bbfa2ec4e4488f35bd2db0d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15036475" author="hudson" created="Wed, 2 Dec 2015 19:51:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #322 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/322/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen (stack: rev 32fc0e788fc4957149c0bbc77b62f851147fa8ce)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15036680" author="hudson" created="Wed, 2 Dec 2015 21:30:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #418 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/418/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen (stack: rev 32fc0e788fc4957149c0bbc77b62f851147fa8ce)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15036936" author="hudson" created="Thu, 3 Dec 2015 00:21:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #411 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/411/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/411/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14819&quot; title=&quot;hbase-it tests failing with OOME; permgen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14819&quot;&gt;&lt;del&gt;HBASE-14819&lt;/del&gt;&lt;/a&gt; hbase-it tests failing with OOME; permgen (stack: rev f730a375e3c67b8e3bbfa2ec4e4488f35bd2db0d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-it/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12914589">HBASE-14846</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12774954" name="14819.add.maxpermsize.patch" size="1250" author="stack" created="Tue, 1 Dec 2015 05:00:11 +0000"/>
                            <attachment id="12773411" name="14819.addendum.patch" size="807" author="stack" created="Fri, 20 Nov 2015 01:07:56 +0000"/>
                            <attachment id="12775350" name="14819.branch-1.txt" size="1818" author="stack" created="Wed, 2 Dec 2015 18:14:47 +0000"/>
                            <attachment id="12775345" name="14819.total.master.changes.patch" size="8248" author="stack" created="Wed, 2 Dec 2015 18:01:53 +0000"/>
                            <attachment id="12773360" name="14819v2.txt" size="1714" author="stack" created="Thu, 19 Nov 2015 22:46:19 +0000"/>
                            <attachment id="12772686" name="Screen Shot 2015-11-16 at 11.37.41 PM.png" size="193387" author="stack" created="Tue, 17 Nov 2015 07:38:45 +0000"/>
                            <attachment id="12773189" name="itag.txt" size="1096" author="stack" created="Thu, 19 Nov 2015 06:44:15 +0000"/>
                            <attachment id="12775084" name="more.heap.patch" size="1425" author="stack" created="Tue, 1 Dec 2015 18:01:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Nov 2015 05:48:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oggn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>