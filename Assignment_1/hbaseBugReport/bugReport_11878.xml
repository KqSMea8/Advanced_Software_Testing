<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:27:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11878/HBASE-11878.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11878] TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11878</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In the thread w.r.t. first RC of 0.98.6, &lt;br/&gt;
&lt;a href=&quot;http://search-hadoop.com/m/DHED4p2rw81&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/DHED4p2rw81&lt;/a&gt; , Jean-Marc reported that TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes failed on his machines.&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://server.distparser.com:81/hbase/with_teds_patch2/hbasetest1/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithDistributedLogReplay-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://server.distparser.com:81/hbase/with_teds_patch2/hbasetest1/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithDistributedLogReplay-output.txt&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
result {
  exception {
    name: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.coprocessor.CoprocessorException&quot;&lt;/span&gt;
    value: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hbase.coprocessor.CoprocessorException: VisibilityController not yet initialized\n\tat org.apache.hadoop.hbase.security.visibility.VisibilityController.addLabels(VisibilityController.java:638)\n\tat org.apache.hadoop.hbase.protobuf.generated.VisibilityLabelsProtos$VisibilityLabelsService$1.addLabels(VisibilityLabelsProtos.java:5014)\n\tat org.apache.hadoop.hbase.protobuf.generated.VisibilityLabelsProtos$VisibilityLabelsService.callMethod(VisibilityLabelsProtos.java:5178)\n\tat org.apache.hadoop.hbase.regionserver.HRegion.execService(HRegion.java:5794)\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execServiceOnRegion(RSRpcServices.java:1608)\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:1590)\n\tat org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:30088)\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2014)\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:98)\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:114)\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:94)\n\tat java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:744)\n&quot;&lt;/span&gt;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above exception revealed a race condition: writing of labels &quot;ABC&quot; and  &quot;XYZ&quot; took place when VisibilityController was not yet initialized.&lt;br/&gt;
The test writes the labels only once, leading to assertion failure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12738438">HBASE-11878</key>
            <summary>TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Sep 2014 14:33:55 +0000</created>
                <updated>Sat, 21 Feb 2015 23:30:19 +0000</updated>
                            <resolved>Tue, 2 Sep 2014 23:07:10 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14118242" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 14:38:21 +0000"  >&lt;p&gt;First attempt at fixing the test: in case VisibilityController is not yet initialized, retry writing new lables after a short wait.&lt;/p&gt;</comment>
                            <comment id="14118264" author="busbey" created="Tue, 2 Sep 2014 15:24:06 +0000"  >&lt;p&gt;Can we add a timeout of some kind for the initialization? Or is there some other mechanism already in place in case we get in a bad state such that the VC never comes up?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;+              if (t.getMessage().contains(&quot;VisibilityController not yet initialized&quot;)) {&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Could we make a proper sub-class for the exception so we don&apos;t need to do message text checking?&lt;/p&gt;</comment>
                            <comment id="14118267" author="hadoopqa" created="Tue, 2 Sep 2014 15:29:44 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665921/11878-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665921/11878-v1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665921&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10671//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118268" author="hadoopqa" created="Tue, 2 Sep 2014 15:32:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665922/11878-v1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665922/11878-v1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665922&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to cause Findbugs (version 2.0.3) to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestClassFinder&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10672//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10672//testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10672//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10672//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118288" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 15:56:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we add a timeout of some kind for the initialization?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You mean timeout (not in tests) for VisibilityController ? How would such timeout be determined ? We don&apos;t know how many edits are to be replayed when the region server hosting hbase:labels went down.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Could we make a proper sub-class for the exception&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good idea. How about creating VisibilityControllerNotReadyException which extends IOE ?&lt;/p&gt;</comment>
                            <comment id="14118325" author="busbey" created="Tue, 2 Sep 2014 16:35:01 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Can we add a timeout of some kind for the initialization?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You mean timeout (not in tests) for VisibilityController ? How would such timeout be determined ? We don&apos;t know how many edits are to be replayed when the region server hosting hbase:labels went down.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, I meant just in the tests. Either for the BeforeClass initialization or just hte overall TestVisibilityLabelsWithDefaultVisLabelService test. Maybe relying on jenkins to time it out is enough?&lt;/p&gt;

&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Could we make a proper sub-class for the exception&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good idea. How about creating VisibilityControllerNotReadyException which extends IOE ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah that sounds fine.&lt;/p&gt;</comment>
                            <comment id="14118331" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 16:40:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe relying on jenkins to time it out is enough?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think so - testAddVisibilityLabelsOnRSRestart has a timeout of 60 seconds.&lt;/p&gt;

&lt;p&gt;Patch with new exception would be attached soon.&lt;/p&gt;</comment>
                            <comment id="14118339" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 16:49:25 +0000"  >&lt;p&gt;Patch v2 adds VisibilityControllerNotReadyException which is used to detect whether retry is needed.&lt;/p&gt;</comment>
                            <comment id="14118345" author="hadoopqa" created="Tue, 2 Sep 2014 16:55:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665927/11878-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665927/11878-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665927&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; COMPILATION ERROR : &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;416,16&amp;#93;&lt;/span&gt; error: cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.5.1:compile (default-compile) on project hbase-server: Compilation failure&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;416,16&amp;#93;&lt;/span&gt; error: cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-server&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10673//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10673//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118349" author="busbey" created="Tue, 2 Sep 2014 16:58:38 +0000"  >&lt;p&gt;Looks like v2 missed adding the source for VisibilityControllerNotReadyException&lt;/p&gt;</comment>
                            <comment id="14118358" author="busbey" created="Tue, 2 Sep 2014 17:05:14 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; VisibilityControllerNotReadyException() {
+
+  }
+
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; VisibilityControllerNotReadyException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg) {
+    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(msg);
+  }
+
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; VisibilityControllerNotReadyException(Throwable t) {
+    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(t);
+  }
+
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; VisibilityControllerNotReadyException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg, Throwable t) {
+    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(msg, t);
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;two nits:&lt;/p&gt;

&lt;p&gt;1) do these all need to be public?&lt;/p&gt;

&lt;p&gt;2) can we set a default message when one isn&apos;t given?&lt;/p&gt;</comment>
                            <comment id="14118365" author="busbey" created="Tue, 2 Sep 2014 17:10:16 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@@ -411,7 +412,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class VisibilityController &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; BaseMasterAndRegionObserver &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt;
   @Override
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RegionScanner preScannerOpen(ObserverContext&amp;lt;RegionCoprocessorEnvironment&amp;gt; e, Scan scan,
       RegionScanner s) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
-    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!initialized) &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;VisibilityController not yet initialized!!&quot;&lt;/span&gt;);
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!initialized) { 
+      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; VisibilityControllerNotReadyException(&lt;span class=&quot;code-quote&quot;&gt;&quot;VisibilityController not yet initialized!!&quot;&lt;/span&gt;);
+    }
     HRegion region = e.getEnvironment().getRegion();
     Authorizations authorizations = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;nit: trailing whitespace at the end of the if line.&lt;/p&gt;</comment>
                            <comment id="14118367" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 17:10:40 +0000"  >&lt;p&gt;I used ParseException as template where the ctors are all public &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;w.r.t. default message, VisibilityController provides a message. I am not sure default message is needed.&lt;/p&gt;</comment>
                            <comment id="14118370" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 17:13:15 +0000"  >&lt;p&gt;Updated patch removing the whitespace.&lt;/p&gt;</comment>
                            <comment id="14118372" author="busbey" created="Tue, 2 Sep 2014 17:14:37 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I used ParseException as template where the ctors are all public &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;d just like to minimize what we&apos;re marking IA.Public as much as possible, esp from the hbase-server module.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;w.r.t. default message, VisibilityController provides a message. I am not sure default message is needed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We could put the default message in the exception and skip having the VisibilityController provide one. This would also let us just have a package-private no-arg constructor until we need more.&lt;/p&gt;</comment>
                            <comment id="14118373" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 17:15:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;:&lt;br/&gt;
What do you think of patch v2 ?&lt;/p&gt;</comment>
                            <comment id="14118379" author="jmspaggi" created="Tue, 2 Sep 2014 17:17:35 +0000"  >&lt;p&gt;Running v2 with the entire suite. Will report as soon as it&apos;s done. Also, fixed the DNS issues I had so should not have anymore any failing tests after this...&lt;/p&gt;</comment>
                            <comment id="14118453" author="jmspaggi" created="Tue, 2 Sep 2014 18:14:30 +0000"  >&lt;p&gt;Server 1:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithDefaultVisLabelService
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 28.807 sec

Results :

Tests run: 21, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Server 2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] HBase ............................................. SUCCESS [2.637s]
[INFO] HBase - Common .................................... SUCCESS [20.354s]
[INFO] HBase - Protocol .................................. SUCCESS [0.386s]
[INFO] HBase - Client .................................... SUCCESS [37.509s]
[INFO] HBase - Hadoop Compatibility ...................... SUCCESS [5.187s]
[INFO] HBase - Hadoop Two Compatibility .................. SUCCESS [1.533s]
[INFO] HBase - Prefix Tree ............................... SUCCESS [3.687s]
[INFO] HBase - Server .................................... SUCCESS [48:08.762s]
[INFO] HBase - Testing Util .............................. SUCCESS [1.484s]
[INFO] HBase - Thrift .................................... SUCCESS [2:16.690s]
[INFO] HBase - Shell ..................................... SUCCESS [1.120s]
[INFO] HBase - Integration Tests ......................... SUCCESS [1.036s]
[INFO] HBase - Examples .................................. SUCCESS [1.102s]
[INFO] HBase - Assembly .................................. SUCCESS [0.963s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 51:43.524s
[INFO] Finished at: Tue Sep 02 14:11:43 EDT 2014
[INFO] Final Memory: 48M/626M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Server3:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] HBase ............................................. SUCCESS [2.349s]
[INFO] HBase - Common .................................... SUCCESS [21.581s]
[INFO] HBase - Protocol .................................. SUCCESS [0.352s]
[INFO] HBase - Client .................................... SUCCESS [37.437s]
[INFO] HBase - Hadoop Compatibility ...................... SUCCESS [5.196s]
[INFO] HBase - Hadoop Two Compatibility .................. SUCCESS [1.575s]
[INFO] HBase - Prefix Tree ............................... SUCCESS [3.484s]
[INFO] HBase - Server .................................... SUCCESS [48:28.994s]
[INFO] HBase - Testing Util .............................. SUCCESS [1.441s]
[INFO] HBase - Thrift .................................... SUCCESS [2:13.957s]
[INFO] HBase - Shell ..................................... SUCCESS [1.142s]
[INFO] HBase - Integration Tests ......................... SUCCESS [1.093s]
[INFO] HBase - Examples .................................. SUCCESS [1.120s]
[INFO] HBase - Assembly .................................. SUCCESS [0.945s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 52:01.681s
[INFO] Finished at: Tue Sep 02 14:12:01 EDT 2014
[INFO] Final Memory: 46M/543M
[INFO] ------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So v2 passes the tests for me. (Using JDK1.7)&lt;/p&gt;</comment>
                            <comment id="14118471" author="apurtell" created="Tue, 2 Sep 2014 18:23:55 +0000"  >&lt;p&gt;Will VisibilityControllerNotReadyException be thrown back to the client? If so it&apos;s in the wrong module, hbase-server isn&apos;t the right place, it needs to go into hbase-client. &lt;/p&gt;

&lt;p&gt;Should VisibilityControllerNotReadyException extend DoNotRetryIOException?&lt;/p&gt;</comment>
                            <comment id="14118472" author="ram_krish" created="Tue, 2 Sep 2014 18:24:11 +0000"  >&lt;p&gt;+1 on patch. Thanks to Ted and JM for digging into this!!&lt;/p&gt;</comment>
                            <comment id="14118476" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 18:26:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;Should VisibilityControllerNotReadyException extend DoNotRetryIOException?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I don&apos;t think so - client can retry sending the labels as is done by the test.&lt;/p&gt;

&lt;p&gt;I will move the exception to hbase-client module in next patch.&lt;/p&gt;</comment>
                            <comment id="14118484" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 18:32:59 +0000"  >&lt;p&gt;Patch v3 moves VisibilityControllerNotReadyException to hbase-client module.&lt;/p&gt;</comment>
                            <comment id="14118497" author="apurtell" created="Tue, 2 Sep 2014 18:38:30 +0000"  >&lt;p&gt;Why only change handling for preScannerOpen? So we throw VisibilityControllerNotReadyException only if opening a scanner? There are other places we test for !initialized, for example preGetOp. Shouldn&apos;t those be changed as well? &lt;/p&gt;</comment>
                            <comment id="14118500" author="apurtell" created="Tue, 2 Sep 2014 18:39:07 +0000"  >&lt;p&gt;Pardon me for crossing additional feedback with your work on the v3 patch Ted.&lt;/p&gt;</comment>
                            <comment id="14118526" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 18:51:32 +0000"  >&lt;p&gt;Patch v4 addresses Andrew&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="14118531" author="hadoopqa" created="Tue, 2 Sep 2014 18:53:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665950/11878-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665950/11878-v4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665950&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10677//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10677//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118583" author="busbey" created="Tue, 2 Sep 2014 19:28:13 +0000"  >{format}&lt;br/&gt;
     if (!initialized) {&lt;br/&gt;
-      setExceptionResults(visLabels.size(), new CoprocessorException(&lt;br/&gt;
-          &quot;VisibilityController not yet initialized&quot;), response);&lt;br/&gt;
+      setExceptionResults(visLabels.size(),&lt;br/&gt;
+        new VisibilityControllerNotReadyException(&quot;VisibilityController not yet initialized!!&quot;),&lt;br/&gt;
+        response);{format}

&lt;p&gt;In the two cases where we do this, we&apos;re changing behavior since VisibilityControllerNotReadyException isn&apos;t a CoprocessorException and both are IA.Public and client facing. Any reason we can&apos;t make it inherit from CoprocessorException (besides the fact that it inherits from DoNotRetryIOE)?&lt;/p&gt;</comment>
                            <comment id="14118599" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 19:39:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;VisibilityControllerNotReadyException isn&apos;t a CoprocessorException &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;CoprocessorException inherits DoNotRetryIOE. In this case, client has the option to retry - when VisibilityController is ready. That was why  VisibilityControllerNotReadyException extends IOE directly.&lt;/p&gt;</comment>
                            <comment id="14118655" author="hadoopqa" created="Tue, 2 Sep 2014 20:08:50 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665942/11878-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665942/11878-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665942&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.master.TestTableLockManager.testTableReadLock(TestTableLockManager.java:338)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10676//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118673" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 20:21:41 +0000"  >&lt;p&gt;TestTableLockManager passed locally - it is not related to VisibilityController&lt;/p&gt;</comment>
                            <comment id="14118675" author="busbey" created="Tue, 2 Sep 2014 20:23:03 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;VisibilityControllerNotReadyException isn&apos;t a CoprocessorException&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;CoprocessorException inherits DoNotRetryIOE. In this case, client has the option to retry - when VisibilityController is ready. That was why VisibilityControllerNotReadyException extends IOE directly.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Understood. I just want to make sure folks are aware that this will be a change in behavior that might impact people with client behavior based on previous 0.98 releases. The change will be binary + source compatible since the client APIs are broad. Since neither the compiler or runtime behavior will cause a hard failure, we should have a release note on the off chance someone is relying on the behavior.&lt;/p&gt;</comment>
                            <comment id="14118684" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 20:29:01 +0000"  >&lt;p&gt;Updated release notes.&lt;/p&gt;</comment>
                            <comment id="14118685" author="apurtell" created="Tue, 2 Sep 2014 20:29:11 +0000"  >&lt;p&gt;The v4 patch lgtm, but please remove the exclamation marks in the exception message at commit. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Since neither the compiler or runtime behavior will cause a hard failure, we should have a release note on the off chance someone is relying on the behavior.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1, let&apos;s add a release note on this issue&lt;/p&gt;</comment>
                            <comment id="14118694" author="anoop.hbase" created="Tue, 2 Sep 2014 20:36:29 +0000"  >&lt;p&gt;+1. Thanks Ted and JMS.&lt;/p&gt;</comment>
                            <comment id="14118704" author="busbey" created="Tue, 2 Sep 2014 20:43:24 +0000"  >&lt;p&gt;+1 with RN, v4 lgtm.&lt;/p&gt;</comment>
                            <comment id="14118720" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 20:50:57 +0000"  >&lt;p&gt;Patch v5 removes extra exclamation mark.&lt;/p&gt;</comment>
                            <comment id="14118833" author="hadoopqa" created="Tue, 2 Sep 2014 22:17:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665955/11878-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665955/11878-v4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665955&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestReplicaWithCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestPerTableCFReplication&lt;br/&gt;
                  org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.coprocessor.TestMasterObserver.testRegionTransitionOperations(TestMasterObserver.java:1435)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10678//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118834" author="hadoopqa" created="Tue, 2 Sep 2014 22:17:54 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12665987/11878-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12665987/11878-v5.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12665987&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10683//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14118840" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 22:22:17 +0000"  >&lt;p&gt;TestRegionRebalancing is being tracked in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11839&quot; title=&quot;TestRegionRebalance is flakey&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11839&quot;&gt;&lt;del&gt;HBASE-11839&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14119106" author="hudson" created="Wed, 3 Sep 2014 01:05:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5460 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5460/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5460/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11878&quot; title=&quot;TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11878&quot;&gt;&lt;del&gt;HBASE-11878&lt;/del&gt;&lt;/a&gt; TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized (tedyu: rev b2d528aac61f88dd2205e9ac7b46344fae2dcc0e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityControllerNotReadyException.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14119108" author="hudson" created="Wed, 3 Sep 2014 01:05:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #464 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/464/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/464/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11878&quot; title=&quot;TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11878&quot;&gt;&lt;del&gt;HBASE-11878&lt;/del&gt;&lt;/a&gt; TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized (tedyu: rev 8ac090c6d4ff45cc188e15a04ba1f29ebd4ee725)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityControllerNotReadyException.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14119116" author="hudson" created="Wed, 3 Sep 2014 01:08:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #147 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/147/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/147/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11878&quot; title=&quot;TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11878&quot;&gt;&lt;del&gt;HBASE-11878&lt;/del&gt;&lt;/a&gt; TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized (tedyu: rev 5e656f85df87febb2af8e927f6c5df68cb96d245)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityControllerNotReadyException.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14119137" author="hudson" created="Wed, 3 Sep 2014 01:29:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #490 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/490/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/490/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11878&quot; title=&quot;TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11878&quot;&gt;&lt;del&gt;HBASE-11878&lt;/del&gt;&lt;/a&gt; TestVisibilityLabelsWithDistributedLogReplay#testAddVisibilityLabelsOnRSRestart sometimes fails due to VisibilityController not yet initialized (tedyu: rev 8ac090c6d4ff45cc188e15a04ba1f29ebd4ee725)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityControllerNotReadyException.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithDefaultVisLabelService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14119189" author="jmspaggi" created="Wed, 3 Sep 2014 02:02:09 +0000"  >&lt;p&gt;I don&apos;t know if this is related but the tests failed on my 4 servers with the exact same error.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testDurability(org.apache.hadoop.hbase.regionserver.TestHRegion): current txid is among(under) failed txids, but asyncIOE is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!
  testDurability(org.apache.hadoop.hbase.regionserver.TestHRegionBusyWait): current txid is among(under) failed txids, but asyncIOE is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14119198" author="yuzhihong@gmail.com" created="Wed, 3 Sep 2014 02:18:17 +0000"  >&lt;p&gt;This was due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11868&quot; title=&quot;Data loss in hlog when the hdfs is unavailable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11868&quot;&gt;&lt;del&gt;HBASE-11868&lt;/del&gt;&lt;/a&gt; which was reverted.&lt;/p&gt;

&lt;p&gt;Please sync with tip of 0.98 and try again.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14119889" author="jmspaggi" created="Wed, 3 Sep 2014 14:08:16 +0000"  >&lt;p&gt;FYI,&lt;/p&gt;

&lt;p&gt;I re-run that on 4 servers using the 0.98RC1 src package.&lt;/p&gt;

&lt;p&gt;this specific test passed on 3 servers and failed with timeout on one of them:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests in error: 
  testAddVisibilityLabelsOnRSRestart(org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithDistributedLogReplay): test timed out after 60000 milliseconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14126566" author="yuzhihong@gmail.com" created="Tue, 9 Sep 2014 04:03:59 +0000"  >&lt;p&gt;The above test failure showed in 0.98 build #503&lt;br/&gt;
Since 0.98.6 RC is out, let me log a new JIRA.&lt;/p&gt;</comment>
                            <comment id="14126570" author="apurtell" created="Tue, 9 Sep 2014 04:09:14 +0000"  >&lt;p&gt;Let&apos;s. In my +1 of the RC soon I will note the unit test suite passes 100% on JDK 7 and 8 but this specific test fails about 50% of the time on JDK 6, indicating there&apos;s an unfixed race condition yet. &lt;/p&gt;</comment>
                            <comment id="14330677" author="enis" created="Sat, 21 Feb 2015 23:30:19 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12740052">HBASE-11918</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12665922" name="11878-v1.txt" size="4319" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 14:47:30 +0000"/>
                            <attachment id="12665932" name="11878-v2.txt" size="7689" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 17:13:15 +0000"/>
                            <attachment id="12665930" name="11878-v2.txt" size="7690" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 17:00:58 +0000"/>
                            <attachment id="12665942" name="11878-v3.txt" size="7439" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 18:32:59 +0000"/>
                            <attachment id="12665955" name="11878-v4.txt" size="9278" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 19:08:18 +0000"/>
                            <attachment id="12665987" name="11878-v5.txt" size="9274" author="yuzhihong@gmail.com" created="Tue, 2 Sep 2014 20:50:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Sep 2014 15:24:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zkwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>A new exception, VisibilityControllerNotReadyException, is introduced for the case where VisibilityController is being initialized. Client can respond to this exception by retrying prior operation.&lt;br/&gt;
VisibilityControllerNotReadyException isn&amp;#39;t a DoNotRetryIOException.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>