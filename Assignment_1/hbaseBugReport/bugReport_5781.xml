<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:30:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5781/HBASE-5781.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5781] Zookeeper session got closed while trying to assign the region to RS using hbck -fix</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5781</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;After running the hbck in the cluster ,it is found that one region is not assigned&lt;br/&gt;
So the hbck -fix is used to fix this &lt;br/&gt;
But the assignment didnt happen since the zookeeper session is closed&lt;br/&gt;
Please find the attached trace for more details&lt;br/&gt;
-----------------------------------------&lt;br/&gt;
Trying to fix unassigned region...&lt;br/&gt;
12/04/03 11:02:57 INFO util.HBaseFsckRepair: Region still in transition, waiting for it to become assigned: &lt;/p&gt;
{NAME =&amp;gt; &apos;ufdr,002300,1333379123498.00871fbd7583512e12c4eb38e900be8d.&apos;, STARTKEY =&amp;gt; &apos;002300&apos;, ENDKEY =&amp;gt; &apos;002311&apos;, ENCODED =&amp;gt; 00871fbd7583512e12c4eb38e900be8d,}
&lt;p&gt;12/04/03 11:02:58 INFO client.HConnectionManager$HConnectionImplementation: Closed zookeeper sessionid=0x236738a2630000a&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.ZooKeeper: Session: 0x236738a2630000a closed&lt;br/&gt;
ERROR: Region &lt;/p&gt;
{ meta =&amp;gt; ufdr,010444,1333379123857.01594219211d0035b9586f98954462e1., hdfs =&amp;gt; hdfs://10.18.40.25:9000/hbase/ufdr/01594219211d0035b9586f98954462e1, deployed =&amp;gt; }
&lt;p&gt; not deployed on any region server.&lt;br/&gt;
Trying to fix unassigned region...&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.ClientCnxn: EventThread shut down&lt;br/&gt;
12/04/03 11:02:58 WARN zookeeper.ZKUtil: hconnection-0x236738a2630000a Unable to set watcher on znode (/hbase)&lt;br/&gt;
org.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /hbase&lt;br/&gt;
at org.apache.zookeeper.KeeperException.create(KeeperException.java:127)&lt;br/&gt;
at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)&lt;br/&gt;
at org.apache.zookeeper.ZooKeeper.exists(ZooKeeper.java:1021)&lt;br/&gt;
at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.exists(RecoverableZooKeeper.java:150)&lt;br/&gt;
at org.apache.hadoop.hbase.zookeeper.ZKUtil.checkExists(ZKUtil.java:263)&lt;br/&gt;
at org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker.checkIfBaseNodeAvailable(ZooKeeperNodeTracker.java:208)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.checkIfBaseNodeAvailable(HConnectionManager.java:695)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:626)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HBaseAdmin.getMaster(HBaseAdmin.java:211)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HBaseAdmin.assign(HBaseAdmin.java:1325)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsckRepair.forceOfflineInZK(HBaseFsckRepair.java:109)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsckRepair.fixUnassigned(HBaseFsckRepair.java:92)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.tryAssignmentRepair(HBaseFsck.java:1235)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.checkRegionConsistency(HBaseFsck.java:1351)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.checkAndFixConsistency(HBaseFsck.java:1114)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.onlineConsistencyRepair(HBaseFsck.java:356)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.onlineHbck(HBaseFsck.java:375)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.main(HBaseFsck.java:2894)&lt;br/&gt;
12/04/03 11:02:58 ERROR zookeeper.ZooKeeperWatcher: hconnection-0x236738a2630000a Received unexpected KeeperException, re-throwing exception&lt;br/&gt;
org.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /hbase&lt;br/&gt;
at org.apache.zookeeper.KeeperException.create(KeeperException.java:127)&lt;br/&gt;
at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)&lt;br/&gt;
at org.apache.zookeeper.ZooKeeper.exists(ZooKeeper.java:1021)&lt;br/&gt;
at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.exists(RecoverableZooKeeper.java:150)&lt;br/&gt;
at org.apache.hadoop.hbase.zookeeper.ZKUtil.checkExists(ZKUtil.java:263)&lt;br/&gt;
at org.apache.hadoop.hbase.zookeeper.ZooKeeperNodeTracker.checkIfBaseNodeAvailable(ZooKeeperNodeTracker.java:208)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.checkIfBaseNodeAvailable(HConnectionManager.java:695)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:626)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HBaseAdmin.getMaster(HBaseAdmin.java:211)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HBaseAdmin.assign(HBaseAdmin.java:1325)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsckRepair.forceOfflineInZK(HBaseFsckRepair.java:109)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsckRepair.fixUnassigned(HBaseFsckRepair.java:92)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.tryAssignmentRepair(HBaseFsck.java:1235)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.checkRegionConsistency(HBaseFsck.java:1351)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.checkAndFixConsistency(HBaseFsck.java:1114)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.onlineConsistencyRepair(HBaseFsck.java:356)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.onlineHbck(HBaseFsck.java:375)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.main(HBaseFsck.java:2894)&lt;br/&gt;
12/04/03 11:02:58 INFO client.HConnectionManager$HConnectionImplementation: This client just lost it&apos;s session with ZooKeeper, trying to reconnect.&lt;br/&gt;
12/04/03 11:02:58 INFO client.HConnectionManager$HConnectionImplementation: Trying to reconnect to zookeeper&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=10.18.40.21:2181,10.18.40.25:2181,10.18.40.93:2181 sessionTimeout=60000 watcher=hconnection&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.ClientCnxn: Opening socket connection to server /10.18.40.93:2181&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.RecoverableZooKeeper: The identifier of this process is 18333@HOST-10-18-40-93&lt;br/&gt;
12/04/03 11:02:58 WARN client.ZooKeeperSaslClient: SecurityException: java.lang.SecurityException: Unable to locate a login configuration occurred when trying to find JAAS configuration.&lt;br/&gt;
12/04/03 11:02:58 INFO client.ZooKeeperSaslClient: Client will not SASL-authenticate because the default JAAS configuration section &apos;Client&apos; could not be found. If you are not using SASL, you may ignore this. On the other hand, if you expected SASL to work, please fix your JAAS configuration.&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.ClientCnxn: Socket connection established to HOST-10-18-40-93/10.18.40.93:2181, initiating session&lt;br/&gt;
12/04/03 11:02:58 INFO zookeeper.ClientCnxn: Session establishment complete on server HOST-10-18-40-93/10.18.40.93:2181, sessionid = 0x3367392d5140018, negotiated timeout = 40000&lt;br/&gt;
12/04/03 11:02:58 INFO client.HConnectionManager$HConnectionImplementation: Reconnected successfully. This disconnect could have been caused by a network partition or a long-running GC pause, either way it&apos;s recommended that you verify your environment.&lt;br/&gt;
Exception in thread &quot;main&quot; org.apache.hadoop.hbase.MasterNotRunningException&lt;br/&gt;
at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getMaster(HConnectionManager.java:686)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HBaseAdmin.getMaster(HBaseAdmin.java:211)&lt;br/&gt;
at org.apache.hadoop.hbase.client.HBaseAdmin.assign(HBaseAdmin.java:1325)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsckRepair.forceOfflineInZK(HBaseFsckRepair.java:109)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsckRepair.fixUnassigned(HBaseFsckRepair.java:92)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.tryAssignmentRepair(HBaseFsck.java:1235)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.checkRegionConsistency(HBaseFsck.java:1351)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.checkAndFixConsistency(HBaseFsck.java:1114)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.onlineConsistencyRepair(HBaseFsck.java:356)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.onlineHbck(HBaseFsck.java:375)&lt;br/&gt;
at org.apache.hadoop.hbase.util.HBaseFsck.main(HBaseFsck.java:2894)&lt;br/&gt;
Please find the attached file for more details..&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12550776">HBASE-5781</key>
            <summary>Zookeeper session got closed while trying to assign the region to RS using hbck -fix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="kristamswathi">Kristam Subba Swathi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Apr 2012 06:00:21 +0000</created>
                <updated>Wed, 18 Sep 2013 22:17:15 +0000</updated>
                            <resolved>Sun, 15 Apr 2012 09:03:44 +0000</resolved>
                                    <version>0.90.7</version>
                    <version>0.92.1</version>
                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.92.2</fixVersion>
                    <fixVersion>0.94.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>hbck</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13253184" author="jmhsieh" created="Fri, 13 Apr 2012 06:53:11 +0000"  >&lt;p&gt;@Kristam What versions are you using?  (can you fill out the affects version?)&lt;/p&gt;

&lt;p&gt;I actually ran into this problem earlier today and have been spending some time investigating.&lt;/p&gt;</comment>
                            <comment id="13254146" author="anoopsamjohn" created="Sat, 14 Apr 2012 16:42:44 +0000"  >&lt;p&gt;In HBaseFsckRepair.waitUntilAssigned&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        connection.close();
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ioe) {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ioe;
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This close caused the exception as per my observation. This method is being called in assignmentRepair, regionConsistencyRepair and metaRepair...&lt;/p&gt;

&lt;p&gt;Now if the HBCK fix needs to fix all these kind of issues or atleast 2 of these issues, the close would happen before the other fix..  I have not done detailed check..  Just observation as per the logs..&lt;/p&gt;

&lt;p&gt;Mean while tested the current RC for 0.94 version&lt;/p&gt;</comment>
                            <comment id="13254159" author="jmhsieh" created="Sat, 14 Apr 2012 17:45:59 +0000"  >&lt;p&gt;I looked into this briefly.  The version I&apos;ve used on production systems doesn&apos;t have this finally/close portion in it.   &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3777&quot; title=&quot;Redefine Identity Of HBase Configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3777&quot;&gt;&lt;del&gt;HBASE-3777&lt;/del&gt;&lt;/a&gt; (on trunk/0.92/0.94) and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4508&quot; title=&quot;Backport HBASE-3777 to 0.90 branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4508&quot;&gt;&lt;del&gt;HBASE-4508&lt;/del&gt;&lt;/a&gt; (backport of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3777&quot; title=&quot;Redefine Identity Of HBase Configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3777&quot;&gt;&lt;del&gt;HBASE-3777&lt;/del&gt;&lt;/a&gt;) on 0.90 added this.  &lt;/p&gt;

&lt;p&gt;I think if you remove the extra try-finally-close the -fix will work again, (but may leak resources). Can you give the modification a try?&lt;/p&gt;</comment>
                            <comment id="13254164" author="anoopsamjohn" created="Sat, 14 Apr 2012 18:14:44 +0000"  >&lt;p&gt;@Jon&lt;br/&gt;
Yes removing this finally close makes the test run and fix the issues that HBCK finds..  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I will take a detailed look at the code on Monday so that we can close the issue... Or if u are giving a patch it is fine &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13254167" author="jmhsieh" created="Sat, 14 Apr 2012 18:24:30 +0000"  >&lt;p&gt;@Anoop.  &lt;/p&gt;

&lt;p&gt;If you want to supply a patch that would be great.  We would definitely want to get this into 0.94!  Currently, there is a hanging test in trunk&apos;s TestHBaseFsck (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5973&quot; title=&quot;Add ability for potentially long-running IPC calls to abort if client disconnects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5973&quot;&gt;&lt;del&gt;HBASE-5973&lt;/del&gt;&lt;/a&gt;) that I&apos;m hunting down, so if you can give me the a output of a run on 0.94 I&apos;d be happy.&lt;/p&gt;

&lt;p&gt;If it ends up being having a resource leak, I&apos;d say that since hbck isn&apos;t long running, it would probably be ok to later as long as we noted it with a follow on jira.  &lt;/p&gt;</comment>
                            <comment id="13254205" author="lhofhansl" created="Sat, 14 Apr 2012 21:32:46 +0000"  >&lt;p&gt;@Jon: Are you saying sink rc1 for this?&lt;/p&gt;</comment>
                            <comment id="13254206" author="jmhsieh" created="Sat, 14 Apr 2012 21:35:51 +0000"  >&lt;p&gt;@Lars Yeah, this is a feature regression.  I&apos;m unit testing the suggested fix right now, will test on a borked testing cluster I have.&lt;/p&gt;</comment>
                            <comment id="13254211" author="lhofhansl" created="Sat, 14 Apr 2012 21:53:51 +0000"  >&lt;p&gt;Dang &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13254239" author="jmhsieh" created="Sun, 15 Apr 2012 00:13:06 +0000"  >&lt;p&gt;Implemented fix suggested in conversation.  Applied to 0.92.x based hbase, and confirmed that hbck&apos;s assignment operations worked.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fixed a borked test cluster&lt;/li&gt;
	&lt;li&gt;On ok cluster, use hbase shell to closed a region, ran updated hbck to verify  detected, ran &apos;hbck -fix&apos; to fix assignment and problem was repaired.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note for this to pass on trunk, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5793&quot; title=&quot;TestHBaseFsck#TestNoHdfsTable test hangs after client retries increased&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5793&quot;&gt;&lt;del&gt;HBASE-5793&lt;/del&gt;&lt;/a&gt; is needed as well.&lt;/p&gt;</comment>
                            <comment id="13254241" author="jmhsieh" created="Sun, 15 Apr 2012 00:19:47 +0000"  >&lt;p&gt;@Anoop &amp;#8211; I checked the HConnection code and it seems like there should be no connection leaks &amp;#8211; the suggested patch seems clean, and doesn&apos;t need follow up work.  &lt;/p&gt;

&lt;p&gt;This something I missed when I ported &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5128&quot; title=&quot;[uber hbck] Online automated repair of table integrity and region consistency problems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5128&quot;&gt;&lt;del&gt;HBASE-5128&lt;/del&gt;&lt;/a&gt; to trunk branches.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this if an reviews +1 this, or if first thing Monday unless there are any concerns.&lt;/p&gt;</comment>
                            <comment id="13254247" author="hadoopqa" created="Sun, 15 Apr 2012 01:15:06 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12522691/hbase-5781.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12522691/hbase-5781.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 3 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1529//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1529//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1529//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1529//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1529//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1529//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13254260" author="lhofhansl" created="Sun, 15 Apr 2012 04:33:37 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13254283" author="anoopsamjohn" created="Sun, 15 Apr 2012 08:49:08 +0000"  >&lt;p&gt;Yes finally code can be removed I think... &lt;span class=&quot;error&quot;&gt;&amp;#91;Any way HBCK is short living process also&amp;#93;&lt;/span&gt; Thanks Jon for the patch. Sorry I could not check it yday night.&lt;br/&gt;
@Lars we are eagerly waiting for the good news from you regarding 94 release..&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13254286" author="jmhsieh" created="Sun, 15 Apr 2012 09:03:45 +0000"  >&lt;p&gt;Anoop, Kristam, thanks for finding this and hunting down the root cause of the problem.  Thanks for the quick review Lars.&lt;/p&gt;

&lt;p&gt;Committed to 0.90/0.92/0.94.  Trunk is broken currently because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5747&quot; title=&quot;Forward port &amp;quot;hbase-5708 [89-fb] Make MiniMapRedCluster directory a subdirectory of target/test&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5747&quot;&gt;&lt;del&gt;HBASE-5747&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5793&quot; title=&quot;TestHBaseFsck#TestNoHdfsTable test hangs after client retries increased&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5793&quot;&gt;&lt;del&gt;HBASE-5793&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13254287" author="jmhsieh" created="Sun, 15 Apr 2012 09:04:26 +0000"  >&lt;p&gt;Oh &amp;#8211; but it is committed to trunk as well.&lt;/p&gt;</comment>
                            <comment id="13254291" author="hudson" created="Sun, 15 Apr 2012 09:42:56 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2763 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2763/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2763/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5781&quot; title=&quot;Zookeeper session got closed while trying to assign the region to RS using hbck -fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5781&quot;&gt;&lt;del&gt;HBASE-5781&lt;/del&gt;&lt;/a&gt; Zookeeper session got closed while trying to assign the region to RS using hbck -fix (Revision 1326280)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13254293" author="hudson" created="Sun, 15 Apr 2012 09:49:05 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #117 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/117/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/117/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5781&quot; title=&quot;Zookeeper session got closed while trying to assign the region to RS using hbck -fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5781&quot;&gt;&lt;del&gt;HBASE-5781&lt;/del&gt;&lt;/a&gt; Zookeeper session got closed while trying to assign the region to RS using hbck -fix (Revision 1326281)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13254307" author="hudson" created="Sun, 15 Apr 2012 11:37:00 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #371 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/371/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/371/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5781&quot; title=&quot;Zookeeper session got closed while trying to assign the region to RS using hbck -fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5781&quot;&gt;&lt;del&gt;HBASE-5781&lt;/del&gt;&lt;/a&gt; Zookeeper session got closed while trying to assign the region to RS using hbck -fix (Revision 1326282)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13254531" author="hudson" created="Mon, 16 Apr 2012 06:05:22 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #172 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/172/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/172/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5781&quot; title=&quot;Zookeeper session got closed while trying to assign the region to RS using hbck -fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5781&quot;&gt;&lt;del&gt;HBASE-5781&lt;/del&gt;&lt;/a&gt; Zookeeper session got closed while trying to assign the region to RS using hbck -fix (Revision 1326280)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13259520" author="hudson" created="Mon, 23 Apr 2012 11:00:51 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #105 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/105/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5781&quot; title=&quot;Zookeeper session got closed while trying to assign the region to RS using hbck -fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5781&quot;&gt;&lt;del&gt;HBASE-5781&lt;/del&gt;&lt;/a&gt; Zookeeper session got closed while trying to assign the region to RS using hbck -fix (Revision 1326282)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/src/main/java/org/apache/hadoop/hbase/util/HBaseFsckRepair.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12537273">HBASE-5128</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12522691" name="hbase-5781.patch" size="2514" author="jmhsieh" created="Sun, 15 Apr 2012 00:13:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Apr 2012 06:53:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02hin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>