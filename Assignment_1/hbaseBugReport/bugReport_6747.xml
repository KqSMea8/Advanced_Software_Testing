<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:39:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6747/HBASE-6747.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6747] Enable server side limit default on the size of results returned (to prevent OOMs)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6747</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We have seen a couple of situations where clients fetching a large row can cause the whole server to go down, due to large GC pauses/Out of memory error.&lt;/p&gt;

&lt;p&gt;This should be easily avoidable, if the client can use a Scan instead of a Get, and/or use batching to reduce the size. But, it seems difficult to enforce this. Moreover,&lt;br/&gt;
once in a while, there may be genuine outliers/bad clients, that cause such large requests.&lt;/p&gt;

&lt;p&gt;We need to handle such situations gracefully, and not have the RS reboot for things that can be prevented. The proposal here is to enforce a maximum response size&lt;br/&gt;
at the Server end, so we are not at the mercy of the client&apos;s good behavior to let the server running.&lt;/p&gt;

&lt;p&gt;We already log large responses. But, if the response is too large, it just kills the server. We don&apos;t have it logged, and the only way to find out is to go through the heap dump.&lt;br/&gt;
More importantly, our availability/reliability numbers will go down because the whole region/regionserver fails instead of just the single bad request.&lt;/p&gt;

&lt;p&gt;I think it will be useful for the server to maintain a maximum request size that it will serve. Something large like 2-3G, so normal operations&lt;br/&gt;
do not need to be bothered. If a single get/scan operation exceeds the size, we will just throw an exception for the request. This will&lt;br/&gt;
a) avoid the RS from going on and on until it hits out of memory, and&lt;br/&gt;
b) will give a cleaner way for the clients, and for us to see what is the problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12606802">HBASE-6747</key>
            <summary>Enable server side limit default on the size of results returned (to prevent OOMs)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amitanand">Amitanand Aiyer</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Sep 2012 23:18:51 +0000</created>
                <updated>Mon, 10 Sep 2012 20:33:29 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i016qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4860</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>