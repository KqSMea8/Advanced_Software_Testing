<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:02:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2545/HBASE-2545.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2545] Unresponsive region server, potential deadlock</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2545</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We have a 15-node (14RS+1Master) hbase cluster.  We just recently upgraded from 0.20.3 to 0.20.4.  This cluster does have colocated hadoop MR, but we mostly use another MR cluster to hit it.  Upon start, the cluster runs the jobs fine for about an hour.  Afterwards, an RS seems to have locked up.  Doing a get for a row in region being served by that region server hangs (cannot even ctrl+c out of the hbase shell).  Attached is the thread dump.  Verified in UI that the affect server runs on 0.20.4 and not 0.20.3.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 8.04.4 LTS, Hadoop 0.20.2, Amazon EC2 x-large cluster&lt;/p&gt;</environment>
        <key id="12464505">HBASE-2545</key>
            <summary>Unresponsive region server, potential deadlock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tlipcon">Todd Lipcon</assignee>
                                    <reporter username="kjirapinyo">Kris Jirapinyo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 May 2010 05:27:26 +0000</created>
                <updated>Fri, 12 Oct 2012 06:15:38 +0000</updated>
                            <resolved>Fri, 14 May 2010 18:52:51 +0000</resolved>
                                    <version>0.20.4</version>
                                    <fixVersion>0.20.5</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12867405" author="stack" created="Fri, 14 May 2010 05:31:29 +0000"  >&lt;p&gt;Made this blocker.  If a deadlock in 0.20.4, then we need a 0.20.5 quick.&lt;/p&gt;</comment>
                            <comment id="12867565" author="tlipcon" created="Fri, 14 May 2010 17:05:58 +0000"  >&lt;p&gt;This is the same issue recently reported on the list. There appears to be an infinite loop in ExplicitColumnTracker. Looking into it as JD is on vacation.&lt;/p&gt;</comment>
                            <comment id="12867569" author="tlipcon" created="Fri, 14 May 2010 17:15:21 +0000"  >&lt;p&gt;This is a stupid bug. 2 line fix attached. If ExplicitColumnTracker ever spins once, it spins forever.&lt;/p&gt;

&lt;p&gt;But clearly we need a unit test for this!!! And we need to evaluate how we managed to release with such a bug - clearly we&apos;re missing something in our prerelease QA procedure.&lt;/p&gt;</comment>
                            <comment id="12867571" author="tlipcon" created="Fri, 14 May 2010 17:22:09 +0000"  >&lt;p&gt;er, take two, uploaded wrong thing.&lt;/p&gt;</comment>
                            <comment id="12867593" author="stack" created="Fri, 14 May 2010 17:48:46 +0000"  >&lt;p&gt;Patch looks right.  Kris is trying it on his cluster now.  I made him a jar with this included: &lt;a href=&quot;http://people.apache.org/~stack/hbase-0.20.4-2524.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~stack/hbase-0.20.4-2524.jar&lt;/a&gt;  Working on a unit test now.&lt;/p&gt;
</comment>
                            <comment id="12867604" author="tlipcon" created="Fri, 14 May 2010 18:01:23 +0000"  >&lt;p&gt;Patch with unit test. It times out without the fix due to infinite loop. Some please doublecheck that my &quot;expected&quot; is right in the unit test - I don&apos;t know the scanner semantics that well.&lt;/p&gt;</comment>
                            <comment id="12867605" author="tlipcon" created="Fri, 14 May 2010 18:01:59 +0000"  >&lt;p&gt;Man, I am awful at uploading today... this one really has the unit test!&lt;/p&gt;</comment>
                            <comment id="12867620" author="stack" created="Fri, 14 May 2010 18:25:28 +0000"  >&lt;p&gt;Version for trunk... makes trunk work like branch.&lt;/p&gt;</comment>
                            <comment id="12867621" author="stack" created="Fri, 14 May 2010 18:26:12 +0000"  >&lt;p&gt;I applied to branch.&lt;/p&gt;</comment>
                            <comment id="12867628" author="streamy" created="Fri, 14 May 2010 18:47:22 +0000"  >&lt;p&gt;@stack, this bug does not exist in trunk.  no need to change the code to match branch (and the change u made isn&apos;t actually the same since recursive is never set to true).  that style is how this bug has been introduced twice.&lt;/p&gt;</comment>
                            <comment id="12867631" author="streamy" created="Fri, 14 May 2010 18:51:54 +0000"  >&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2549&quot; title=&quot;Review Trackers (column, delete, etc) on Trunk after 2248 goes in for correctness and optimal earlying-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2549&quot;&gt;&lt;del&gt;HBASE-2549&lt;/del&gt;&lt;/a&gt; to review the trackers after 2248 gets committed to trunk.  This code was once all clean but it&apos;s been slightly crufted through normal evolution and bug fixes.  I&apos;ve got a bunch of early-out and seek-forward / block skipping optimizations I&apos;m working on which are related to these return codes and I will review this as part of 2549.&lt;/p&gt;</comment>
                            <comment id="12867632" author="stack" created="Fri, 14 May 2010 18:52:51 +0000"  >&lt;p&gt;OK.  Thanks Jon for review.  I applied just the test to TRUNK.  On branch 0.20, I applied test and patch.  Resolving this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12444522" name="2545-trunk.txt" size="4913" author="stack" created="Fri, 14 May 2010 18:25:28 +0000"/>
                            <attachment id="12444519" name="hbase-2545.txt" size="5314" author="tlipcon" created="Fri, 14 May 2010 18:01:59 +0000"/>
                            <attachment id="12444518" name="hbase-2545.txt" size="803" author="tlipcon" created="Fri, 14 May 2010 18:01:22 +0000"/>
                            <attachment id="12444514" name="hbase-2545.txt" size="803" author="tlipcon" created="Fri, 14 May 2010 17:22:09 +0000"/>
                            <attachment id="12444512" name="hbase-2545.txt" size="307" author="tlipcon" created="Fri, 14 May 2010 17:15:20 +0000"/>
                            <attachment id="12444470" name="hbase-hadoop-regionserver-mi-prod-hbase05.ec2.biz360.com.out" size="226669" author="kjirapinyo" created="Fri, 14 May 2010 05:28:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 May 2010 05:31:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08se7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>