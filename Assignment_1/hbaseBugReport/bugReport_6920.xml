<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:41:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6920/HBASE-6920.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6920] On timeout connecting to master, client can get stuck and never make progress</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6920</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt; appears to have introduced an issue where a timeout in HConnection.getMaster() can cause the client to never be able to connect to the master.  So, for example, an HBaseAdmin object can never successfully be initialized.&lt;/p&gt;

&lt;p&gt;The issue is here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (tryMaster.isMasterRunning()) {
  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.master = tryMaster;
  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.masterLock.notifyAll();
  &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If isMasterRunning times out, it throws an UndeclaredThrowableException, which is already not ideal, because it can be returned to the application.&lt;/p&gt;

&lt;p&gt; But if the first call to getMaster succeeds, it will set masterChecked = true, which makes us never try to reconnect; that is, we will set this.master = null and just throw MasterNotRunningExceptions, without even trying to connect.&lt;/p&gt;

&lt;p&gt;I tried out a 94 client (actually a 92 client with some 94 patches) on a cluster with some network issues, and it would constantly get stuck as described above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609939">HBASE-6920</key>
            <summary>On timeout connecting to master, client can get stuck and never make progress</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gchanan">Gregory Chanan</assignee>
                                    <reporter username="gchanan">Gregory Chanan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Oct 2012 17:06:28 +0000</created>
                <updated>Mon, 5 Nov 2012 01:35:36 +0000</updated>
                            <resolved>Sat, 6 Oct 2012 02:30:27 +0000</resolved>
                                    <version>0.94.2</version>
                                    <fixVersion>0.94.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                            <comments>
                            <comment id="13467870" author="gchanan" created="Tue, 2 Oct 2012 17:09:06 +0000"  >&lt;ul&gt;
	&lt;li&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt;.patch *&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Here is a patch for this issue and a test.  The test is more complicated than I would like; I needed to introduce some functions / change some access controls to be able to use my own RPC Invoker.  Any suggestions would be welcome.&lt;/p&gt;</comment>
                            <comment id="13467873" author="gchanan" created="Tue, 2 Oct 2012 17:13:15 +0000"  >&lt;p&gt;Some other points:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I have not tried the client app that failed in the description with a patched client yet.  I will do that soon.&lt;/li&gt;
	&lt;li&gt;This seems like a pretty serious issue (I literally could not get my app to work with a 94 client), though it&apos;s not clear how often users will see it, since it only happens on errors.  It&apos;s also not new with 0.94.2 so I don&apos;t know if it needs to sink the RC.  Any opinions?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13467874" author="hadoopqa" created="Tue, 2 Oct 2012 17:13:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12547405/HBASE-6920.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12547405/HBASE-6920.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2986//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2986//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13467885" author="yuzhihong@gmail.com" created="Tue, 2 Oct 2012 17:25:56 +0000"  >&lt;p&gt;Great finding, Gregory.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; should retry
+     */
+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; logGetMasterAttemptFailure(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; tries, Exception e) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please rename the method to reflect the fact that it returns whether we should retry.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;getMaster attempt &quot;&lt;/span&gt; + tries + &lt;span class=&quot;code-quote&quot;&gt;&quot; of &quot;&lt;/span&gt; + numRetries +
+        &lt;span class=&quot;code-quote&quot;&gt;&quot; failed; retrying after sleep of &quot;&lt;/span&gt; +
+        ConnectionUtils.getPauseTime(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.pause, tries), e);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should the above log be at DEBUG level ?&lt;br/&gt;
Comparing your code and the original, it seems that the return value of true actually means that we shouldn&apos;t retry.&lt;/p&gt;</comment>
                            <comment id="13467889" author="gchanan" created="Tue, 2 Oct 2012 17:30:16 +0000"  >&lt;p&gt;I don&apos;t have any opinion on the DEBUG level; if you think that&apos;s better I&apos;ll change it.&lt;/p&gt;

&lt;p&gt;Good catch on the return value, the javadoc is incorrect.&lt;/p&gt;</comment>
                            <comment id="13467891" author="yuzhihong@gmail.com" created="Tue, 2 Oct 2012 17:32:16 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  /** Construct a client-side proxy object, specifying an InvocationHandler &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; testing purposes */
+  VersionedProtocol getProxy(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;? &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; VersionedProtocol&amp;gt; protocol,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Name the above method getProxyForTesting ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+ * RpcEngine that random &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; a SocketTimeoutEngine &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; testing.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;random&apos; -&amp;gt; &apos;randomly&apos;&lt;br/&gt;
Please correct the spelling for SocketTimeoutEngine&lt;/p&gt;</comment>
                            <comment id="13467896" author="lhofhansl" created="Tue, 2 Oct 2012 17:41:48 +0000"  >&lt;p&gt;Patch looks good.&lt;br/&gt;
I don&apos;t quite grok the changes in HBaseRPC, RpcEngine, and WritableRpcEngine. Are those needed for this to work?&lt;/p&gt;</comment>
                            <comment id="13467898" author="lhofhansl" created="Tue, 2 Oct 2012 17:42:57 +0000"  >&lt;p&gt;Also from the explanation I am not quite sure if this a problem in 0.92 as well.&lt;/p&gt;</comment>
                            <comment id="13467903" author="gchanan" created="Tue, 2 Oct 2012 17:52:48 +0000"  >&lt;p&gt;I think this is 0.94 only &amp;#8211; at least &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt; is only in 0.94.&lt;/p&gt;
</comment>
                            <comment id="13467905" author="gchanan" created="Tue, 2 Oct 2012 17:55:05 +0000"  >&lt;p&gt;The changes in HBaseRPC, RpcEngine, and WritableRpcEngine are just for the test.  I wanted to simulate throwing a SocketTimeoutException on a proxy call, but Mockito can&apos;t mock a proxy object as far as I can tell.&lt;/p&gt;

&lt;p&gt;So all those changes are just so I can setup my own RPC Invoker to run, which just randomly throws SocketTimeoutExceptions.&lt;/p&gt;</comment>
                            <comment id="13467922" author="gchanan" created="Tue, 2 Oct 2012 18:11:10 +0000"  >&lt;p&gt;v2, which fixes the javadoc issue (actually changes the return value of the code).&lt;/p&gt;

&lt;p&gt;I left the LOG as INFO, because that&apos;s what it was before; let me know if you disagree.&lt;/p&gt;</comment>
                            <comment id="13467926" author="hadoopqa" created="Tue, 2 Oct 2012 18:13:25 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12547415/HBASE-6920-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12547415/HBASE-6920-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/2987//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/2987//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13467933" author="lhofhansl" created="Tue, 2 Oct 2012 18:18:35 +0000"  >&lt;p&gt;+1 on patch after addressing Ted&apos;s comments ... (although the RPC changes look a bit scary).&lt;/p&gt;</comment>
                            <comment id="13467937" author="gchanan" created="Tue, 2 Oct 2012 18:23:24 +0000"  >&lt;p&gt;Lars &amp;#8211; you have an idea for how to do the test without making RPC changes?  I&apos;d prefer that, but couldn&apos;t think of a way.&lt;/p&gt;</comment>
                            <comment id="13468084" author="lhofhansl" created="Tue, 2 Oct 2012 21:20:26 +0000"  >&lt;p&gt;Hmm... Not offhand.&lt;/p&gt;

&lt;p&gt;Looking at the patch again... Will this actually fix the problem? The problem is that masterChecked is true when we successfully connected to a master once. If true, we do not try again.&lt;br/&gt;
So we were successful once, we will never enter the retry loop (since masterChecked == true)... Right?&lt;/p&gt;

&lt;p&gt;I wonder whether another approach would be to set masterChecked = false at the same spot where master is set to null, but only do that if master was not-null before.&lt;/p&gt;</comment>
                            <comment id="13468215" author="gchanan" created="Wed, 3 Oct 2012 00:29:35 +0000"  >&lt;p&gt;Lars, good question.&lt;/p&gt;

&lt;p&gt;There are different failure cases.  Basically, does reconnecting to the master require another call to HBaseRPC.getProxy (e.g. yes if the master went down).  This only fixes the case that doesn&apos;t require another call - e.g. the single RPC call just timed out, but you didn&apos;t lose the connection the master.  If the master went down and a different master took over then your client is stuck (AFAIK, I&apos;d need to actually test it).  This is the same as before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt; went in.  I kept it this way because of the comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5058&quot; title=&quot;Allow HBaseAdmin to use an existing connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5058&quot;&gt;&lt;del&gt;HBASE-5058&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The effect is that the current behavior is not changed. I.e. for a managed connection we try only once&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;that is, I didn&apos;t want to change the behavior.&lt;/p&gt;

&lt;p&gt;What you suggested seems reasonable &amp;#8211; I can try that out.  Should it be a different patch?&lt;/p&gt;


</comment>
                            <comment id="13468227" author="lhofhansl" created="Wed, 3 Oct 2012 00:52:03 +0000"  >&lt;p&gt;I&apos;m fine either way.&lt;br/&gt;
If the connection is managed, there is outside logic that will recreate the connection when there was a failure. Maybe that will take care of a restarted master scenario.&lt;/p&gt;

&lt;p&gt;For an unmanaged connection neither of these problems exist, because we&apos;ll just retry.&lt;/p&gt;</comment>
                            <comment id="13468745" author="lhofhansl" created="Wed, 3 Oct 2012 19:03:15 +0000"  >&lt;p&gt;Actually, let&apos;s just fix the issue you discovered here. +1 on your patch.&lt;br/&gt;
We can think about the other change I suggest for 0.94.3. It is time to get 0.94.2 out the door.&lt;/p&gt;</comment>
                            <comment id="13468835" author="gchanan" created="Wed, 3 Oct 2012 21:02:54 +0000"  >&lt;p&gt;Sounds good.  I&apos;m doing some cluster testing today, I&apos;ll commit if all looks good.&lt;/p&gt;</comment>
                            <comment id="13469800" author="lhofhansl" created="Thu, 4 Oct 2012 22:48:12 +0000"  >&lt;p&gt;Did you find any more weirdness during your testing?&lt;/p&gt;</comment>
                            <comment id="13470050" author="gchanan" created="Fri, 5 Oct 2012 06:32:31 +0000"  >&lt;p&gt;Haven&apos;t been able to get a good run.  Is this holding up the new RC for you?  I should be able to tell by tomorrow.&lt;/p&gt;</comment>
                            <comment id="13470053" author="lhofhansl" created="Fri, 5 Oct 2012 06:34:46 +0000"  >&lt;p&gt;Yeah, it&apos;s the last (for now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ) open jira for the next RC.&lt;br/&gt;
Thanks Gregory.&lt;/p&gt;</comment>
                            <comment id="13470760" author="lhofhansl" created="Fri, 5 Oct 2012 23:01:10 +0000"  >&lt;p&gt;&amp;lt;ping&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13470770" author="gchanan" created="Fri, 5 Oct 2012 23:07:21 +0000"  >&lt;p&gt;Sorry, looks good, going to check in to 0.94.2 soon.&lt;/p&gt;

&lt;p&gt;I need to investigate if this is a problem with 0.96&lt;/p&gt;</comment>
                            <comment id="13470779" author="gchanan" created="Fri, 5 Oct 2012 23:17:36 +0000"  >&lt;p&gt;Thanks for the reviews, Ted and Lars.  Committed to 0.94.&lt;/p&gt;

&lt;p&gt;Not closing until I investigate trunk.&lt;/p&gt;</comment>
                            <comment id="13470784" author="lhofhansl" created="Fri, 5 Oct 2012 23:27:22 +0000"  >&lt;p&gt;Thanks Gregory! ... Will need to resolve temporarily to get correct release notes for 0.94.2 will reopen soon after (or should 0.96 receive a separate issue now?)&lt;/p&gt;</comment>
                            <comment id="13470859" author="hudson" created="Sat, 6 Oct 2012 01:58:01 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #509 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/509/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/509/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; On timeout connecting to master, client can get stuck and never make progress (Revision 1394857)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/RpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13470876" author="hudson" created="Sat, 6 Oct 2012 02:35:51 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #60 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/60/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/60/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; On timeout connecting to master, client can get stuck and never make progress (Revision 1394857)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/RpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13470885" author="lhofhansl" created="Sat, 6 Oct 2012 02:45:14 +0000"  >&lt;p&gt;Looks like this is breaking the security build.&lt;/p&gt;</comment>
                            <comment id="13470887" author="lhofhansl" created="Sat, 6 Oct 2012 02:59:15 +0000"  >&lt;p&gt;Addendum to fix the SecureRpcEngine&lt;/p&gt;</comment>
                            <comment id="13470888" author="lhofhansl" created="Sat, 6 Oct 2012 03:00:24 +0000"  >&lt;p&gt;Committed addendum to 0.94&lt;/p&gt;</comment>
                            <comment id="13470892" author="hudson" created="Sat, 6 Oct 2012 03:34:46 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #62 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/62/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/62/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; Addendum - fix SecureRpcEngine (Revision 1394908)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/ipc/SecureRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13470894" author="hudson" created="Sat, 6 Oct 2012 03:43:44 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #511 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/511/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/511/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; Addendum - fix SecureRpcEngine (Revision 1394908)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/ipc/SecureRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13471040" author="lhofhansl" created="Sat, 6 Oct 2012 15:09:52 +0000"  >&lt;p&gt;Now TestClientTimeouts always fails in the Security build.&lt;/p&gt;

&lt;p&gt;So, here&apos;s what I am going to do: I&apos;ll revert the test part of this change, then we can file a new ticket for the 0.96 investigation and the testing part.&lt;/p&gt;</comment>
                            <comment id="13471048" author="hudson" created="Sat, 6 Oct 2012 15:40:08 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #73 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/73/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/73/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; Addendum2. Remove test code which does not work for the Secure build (Revision 1395093)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/ipc/SecureRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/RpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13471054" author="hudson" created="Sat, 6 Oct 2012 16:02:03 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #512 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/512/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/512/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; Addendum2. Remove test code which does not work for the Secure build (Revision 1395093)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/ipc/SecureRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/RpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13471367" author="gchanan" created="Mon, 8 Oct 2012 01:46:58 +0000"  >&lt;p&gt;Sounds good to me Lars.  Should have tested the security stuff.&lt;/p&gt;</comment>
                            <comment id="13471374" author="lhofhansl" created="Mon, 8 Oct 2012 02:24:17 +0000"  >&lt;p&gt;The security dependency is not at all obvious. I broke the build before that way &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Fixing the test is probably just a matter of also dealing with SecureRpcEngine (not just WritableRpcEngine).&lt;/p&gt;</comment>
                            <comment id="13481780" author="hudson" created="Mon, 22 Oct 2012 20:51:58 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3472 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3472/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3472/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6987&quot; title=&quot;Port HBASE-6920 to trunk (?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6987&quot;&gt;&lt;del&gt;HBASE-6987&lt;/del&gt;&lt;/a&gt; Port &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; to trunk &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (Revision 1401015)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13481963" author="hudson" created="Tue, 23 Oct 2012 00:13:08 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #231 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/231/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/231/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6987&quot; title=&quot;Port HBASE-6920 to trunk (?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6987&quot;&gt;&lt;del&gt;HBASE-6987&lt;/del&gt;&lt;/a&gt; Port &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; to trunk &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (Revision 1401015)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13490395" author="hudson" created="Mon, 5 Nov 2012 01:35:36 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #9 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/9/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/9/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; Addendum2. Remove test code which does not work for the Secure build (Revision 1395093)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; Addendum - fix SecureRpcEngine (Revision 1394908)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6920&quot; title=&quot;On timeout connecting to master, client can get stuck and never make progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6920&quot;&gt;&lt;del&gt;HBASE-6920&lt;/del&gt;&lt;/a&gt; On timeout connecting to master, client can get stuck and never make progress (Revision 1394857)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/ipc/SecureRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/RpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/ipc/SecureRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/HBaseRPC.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/RpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/ipc/WritableRpcEngine.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/client/TestClientTimeouts.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/ipc/RandomTimeoutRpcEngine.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12611465">HBASE-6987</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12548093" name="6920-addendum.txt" size="1779" author="lhofhansl" created="Sat, 6 Oct 2012 02:59:15 +0000"/>
                            <attachment id="12547415" name="HBASE-6920-v2.patch" size="13221" author="gchanan" created="Tue, 2 Oct 2012 18:11:10 +0000"/>
                            <attachment id="12547405" name="HBASE-6920.patch" size="13237" author="gchanan" created="Tue, 2 Oct 2012 17:09:06 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12611464">HBASE-6986</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Oct 2012 17:13:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00r67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>