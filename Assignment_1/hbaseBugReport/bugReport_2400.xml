<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:01:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2400/HBASE-2400.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2400] new connector for Avro RPC access to HBase cluster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2400</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Build a new connector contrib architecturally equivalent to the Thrift connector, but using Avro serialization and associated transport and RPC server work. Support AAA (audit, authentication, authorization). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12460976">HBASE-2400</key>
            <summary>new connector for Avro RPC access to HBase cluster</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hammer">Jeff Hammerbacher</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Apr 2010 22:34:50 +0000</created>
                <updated>Fri, 20 Nov 2015 12:43:00 +0000</updated>
                            <resolved>Sun, 13 Jun 2010 06:55:01 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                            <comments>
                            <comment id="12867644" author="cutting" created="Fri, 14 May 2010 19:24:04 +0000"  >&lt;p&gt;Why not just use Avro over HTTP for now?  That would give you something usable today.  When Avro specifies a higher-performance, secure, etc. transport and that&apos;s implemented in all languages, then you can upgrade to that.  But a Jetty-based service using Avro&apos;s existing ResponderServlet would provide Avro-based access for Java, Ruby, Python and C today.&lt;/p&gt;</comment>
                            <comment id="12867650" author="apurtell" created="Fri, 14 May 2010 19:56:53 +0000"  >&lt;p&gt;@Doug: Thanks for the suggestion.&lt;/p&gt;

&lt;p&gt;Minor update on description as we are trying to do away with the notion of contrib. &lt;/p&gt;</comment>
                            <comment id="12868084" author="hammer" created="Mon, 17 May 2010 04:54:25 +0000"  >&lt;p&gt;Hey,&lt;/p&gt;

&lt;p&gt;I&apos;m getting a little something started at &lt;a href=&quot;http://github.com/hammer/hbase-avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/hammer/hbase-avro&lt;/a&gt;. It&apos;s absolutely hideous for now, but I have TCell, IOError, and get() implemented.&lt;/p&gt;

&lt;p&gt;My first goal is to get this server on par with the existing Thrift server. That should be possible in the next week or two. Once that is complete, we&apos;ll move on to updating the service interface to match the new APIs (especially filters and admin stuff, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1744&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-1744&lt;/a&gt;). Once the interface update is complete, we can worry about security.&lt;/p&gt;

&lt;p&gt;Let me know if you currently use the Thrift interface, as I&apos;d love your feedback as I push out more bits to play with.&lt;/p&gt;

&lt;p&gt;Later,&lt;br/&gt;
Jeff&lt;/p&gt;</comment>
                            <comment id="12868092" author="apurtell" created="Mon, 17 May 2010 06:19:07 +0000"  >&lt;p&gt;Cool, have at it!&lt;/p&gt;</comment>
                            <comment id="12869088" author="hammer" created="Wed, 19 May 2010 10:49:04 +0000"  >&lt;p&gt;Ported my work to trunk, try it out: &lt;a href=&quot;http://github.com/hammer/hbase-trunk-with-avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/hammer/hbase-trunk-with-avro&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Will fill in the rest of the methods later this week, hope to have a patch available by this weekend.&lt;/p&gt;</comment>
                            <comment id="12873450" author="hammer" created="Sun, 30 May 2010 16:01:38 +0000"  >&lt;p&gt;Just to heartbeat here: I have completed the implementation of the methods listed below, which makes the server feature complete for my first cut (I&apos;ve avoided the surgery commands, as it seems like a bad idea to let these commands be run from an Avro client. I&apos;ve also avoided the atomic increment stuff, though that might make it into the patch). I&apos;m going to do a refactoring pass some time next week. Does anyone have a strong interest in reviewing this code? Andrew?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;  void createTable(ATableDescriptor table) throws AIOError, AIllegalArgument, ATableExists, AMasterNotRunning;&lt;br/&gt;
  void deleteTable(bytes table) throws AIOError;&lt;br/&gt;
  void modifyTable(bytes table, ATableDescriptor tableDescriptor) throws AIOError;&lt;/p&gt;

&lt;p&gt;  void addFamily(bytes table, AFamilyDescriptor family) throws AIOError;&lt;br/&gt;
  void deleteFamily(bytes table, bytes family) throws AIOError;&lt;br/&gt;
  void modifyFamily(bytes table, bytes familyName, AFamilyDescriptor familyDescriptor) throws AIOError;&lt;/p&gt;

&lt;p&gt;  void enableTable(bytes table) throws AIOError;&lt;br/&gt;
  void disableTable(bytes table) throws AIOError;&lt;/p&gt;

&lt;p&gt;  void flush(bytes table) throws AIOError;&lt;/p&gt;

&lt;p&gt;  string getHBaseVersion() throws AIOError;&lt;br/&gt;
  AClusterStatus getClusterStatus() throws AIOError;&lt;br/&gt;
  array&amp;lt;ATableDescriptor&amp;gt; listTables() throws AIOError;&lt;/p&gt;

&lt;p&gt;  boolean isTableEnabled(bytes table) throws AIOError;&lt;br/&gt;
  boolean tableExists(bytes table) throws AIOError;&lt;br/&gt;
  ATableDescriptor describeTable(bytes table) throws AIOError;&lt;/p&gt;

&lt;p&gt;  AFamilyDescriptor describeFamily(bytes table, bytes family) throws AIOError;&lt;/p&gt;

&lt;p&gt;  void put(bytes table, APut put) throws AIOError;&lt;/p&gt;

&lt;p&gt;  AResult get(bytes table, AGet get) throws AIOError;&lt;/p&gt;

&lt;p&gt;  int scannerOpen(bytes table, AScan scan) throws AIOError;&lt;br/&gt;
  void scannerClose(int scannerId) throws AIOError, AIllegalArgument;&lt;br/&gt;
  array&amp;lt;AResult&amp;gt; scannerGetRows(int scannerId, int numberOfRows) throws AIOError, AIllegalArgument;&lt;/p&gt;

&lt;p&gt;  // TODO(hammer): New API discussion at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2609&quot; title=&quot;Harmonize the Get and Delete operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2609&quot;&gt;&lt;del&gt;HBASE-2609&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
  void delete(bytes table, ADelete delete) throws AIOError;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12873451" author="hammer" created="Sun, 30 May 2010 16:04:22 +0000"  >&lt;p&gt;Oh also, should have mentioned: in addition to refactoring, I need to add tests.&lt;/p&gt;</comment>
                            <comment id="12873453" author="hammer" created="Sun, 30 May 2010 16:26:05 +0000"  >&lt;p&gt;added one more method:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;  long incrementColumnValue(bytes table, bytes row, bytes family, bytes qualifier, long amount, boolean writeToWAL) throws AIOError;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12873890" author="apurtell" created="Tue, 1 Jun 2010 06:02:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does anyone have a strong interest in reviewing this code? Andrew?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. Do you plan to submit to review.hbase.org ?&lt;/p&gt;</comment>
                            <comment id="12874069" author="hammer" created="Tue, 1 Jun 2010 15:29:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yes. Do you plan to submit to review.hbase.org ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, thanks for volunteering. I&apos;m flying home tomorrow and will refactor and add tests on the flight. I hope to have a review up by Thursday evening. Sorry for taking so long on this one, been traveling quite a bit!&lt;/p&gt;</comment>
                            <comment id="12875999" author="hammer" created="Sun, 6 Jun 2010 06:09:54 +0000"  >&lt;p&gt;Here&apos;s an initial patch for this issue. I still have some javadoc and tests to write, but I wanted to get some eyeballs on the general approach before spending more time on each of those tasks. I&apos;ll stick up on Review Board right now.&lt;/p&gt;</comment>
                            <comment id="12876003" author="hbasereviewboard" created="Sun, 6 Jun 2010 06:17:31 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Initial patch; some javadoc and tests missing, but I wanted to get some initial feedback on the approach. My apologies for sticking a patch on the JIRA before the review. I should have read further on the HowToContribute JIRA.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2400&quot; title=&quot;new connector for Avro RPC access to HBase cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2400&quot;&gt;&lt;del&gt;HBASE-2400&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/hbase 951826 &lt;br/&gt;
  trunk/pom.xml 951826 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AAlreadyExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AClusterStatus.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumn.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnValue.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ACompressionAlgorithm.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ADelete.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AGet.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIllegalArgument.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AMasterNotRunning.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/APut.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ARegionLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResult.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResultEntry.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AScan.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerAddress.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerInfo.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATimeRange.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/HBase.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/IOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/TCell.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.avpr PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/package.html PRE-CREATION &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/avro/TestAvroServer.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/128/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jeff&lt;/p&gt;

</comment>
                            <comment id="12876055" author="hbasereviewboard" created="Sun, 6 Jun 2010 16:35:57 +0000"  >&lt;p&gt;Message from: &quot;Jonathan Gray&quot; &amp;lt;jgray@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review137&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;This looks great Hammer.  No major comments.&lt;/p&gt;


&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment721&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment721&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    No.  Setting a timestamp actually just sets the timerange with (stamp, stamp+1)&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment722&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment722&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve seen this in other places like HMaster where sometimes we initialize through command-line and other times programatically within something else, like in tests or to re-initialize... I think&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment723&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment723&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is one thing that is fairly mixed in the codebase.  Not sure which is the right way, I like things spaced out but I might be in the minority.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment724&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment724&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is unfortunately mixed a bit... I think the client APIs say TimeStamp, not sure why exactly but I guess just align with that?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment725&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment725&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    The form I believe we follow is that inputs can be either null or 0-length array, but that data returned is a 0-length array.  Would need to verify this is always the case but I think it is.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12876063" author="hbasereviewboard" created="Sun, 6 Jun 2010 17:25:46 +0000"  >&lt;p&gt;Message from: &quot;Andrew Purtell&quot; &amp;lt;apurtell@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review138&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review138&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;Looks good Jeff. Some missing functionality IMHO. See my individual comments.&lt;/p&gt;


&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment726&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment726&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    That would be good.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment727&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    No split()?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment728&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment728&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Export exists() to the client.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment729&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Really appreciate this, which will help out with Avro encoding support in the REST interface. We should find a way for all of the connectors to share common Avro, Thrift, and Protobuf packages. I will refactor the protobuf stuff soon.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment730&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment730&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Yes. And all of the connectors should drop such requests, throw exceptions, and warn upon similar events.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment731&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment731&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Or just handle this generically as a string?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment732&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment732&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Or just handle this generically as a string?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment733&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment733&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    0-length array.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment734&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment734&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    See comment on AvroServer in this regard.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment735&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment735&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    How do you deal with user attributes? A column can have an arbitrary set of them. Coprocessors will use this facility. Not necessary to support attribute access via fields of the descriptors if there are RPC methods available to read or write them.  &lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment736&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment736&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Likewise, no support for user attributes here.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment737&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment737&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    No support for filters. For REST, the model classes recursively walk the filter structure and build a JSON representation that is then passed as a string.&lt;/p&gt;

&lt;p&gt;    No support for setBatch()&lt;/p&gt;

&lt;p&gt;    Consider support for setCacheBlocks() (regionserver level caching) and setCaching() (connector level caching)?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment738&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Missing split()&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment739&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment739&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Missing attribute get and set, if not supporting read/write access via descriptor structs.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment740&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment740&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Missing attribute get and set, if not supporting read/write access via descriptor structs.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment741&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Missing exists()&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Andrew&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12876082" author="hbasereviewboard" created="Sun, 6 Jun 2010 20:28:42 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review142&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review142&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment743&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment743&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Change to ascanToScan to be consistent with Put and Delete&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment742&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Change to resultsToAResults&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jeff&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12876483" author="hbasereviewboard" created="Mon, 7 Jun 2010 23:28:58 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 106&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line106&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line106&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Likewise, no support for user attributes here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2688&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2688&lt;/a&gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 92&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line92&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line92&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     How do you deal with user attributes? A column can have an arbitrary set of them. Coprocessors will use this facility. Not necessary to support attribute access via fields of the descriptors if there are RPC methods available to read or write them.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2688&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2688&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I genuinely did not notice that these existed. I&apos;ll get a subsequent patch out once I clean this one up and it goes into trunk.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 255&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line255&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line255&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Missing attribute get and set, if not supporting read/write access via descriptor structs.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2688&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2688&lt;/a&gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 248&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line248&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line248&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Missing attribute get and set, if not supporting read/write access via descriptor structs.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2688&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2688&lt;/a&gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 181&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line181&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     No support for filters. For REST, the model classes recursively walk the filter structure and build a JSON representation that is then passed as a string.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     No support for setBatch()&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Consider support for setCacheBlocks() (regionserver level caching) and setCaching() (connector level caching)?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2690&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2690&lt;/a&gt; is for the caching and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2687&lt;/a&gt; is for the filters. Thanks for letting me know how you did things in the REST interface; I&apos;ll try to mimic your approach. I held off on implementing because I wasn&apos;t quite sure what the API would look like.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jeff&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review138&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review138&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12876493" author="hbasereviewboard" created="Mon, 7 Jun 2010 23:47:20 +0000"  >&lt;p&gt;Message from: &quot;Andrew Purtell&quot; &amp;lt;apurtell@apache.org&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 92&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line92&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line92&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     How do you deal with user attributes? A column can have an arbitrary set of them. Coprocessors will use this facility. Not necessary to support attribute access via fields of the descriptors if there are RPC methods available to read or write them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jeff Hammerbacher wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2688&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2688&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I genuinely did not notice that these existed. I&apos;ll get a subsequent patch out once I clean this one up and it goes into trunk.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sounds good. HTD and HCD can have attributes of arbitrary byte[].&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Andrew&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review138&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review138&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12876931" author="hbasereviewboard" created="Wed, 9 Jun 2010 03:04:36 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 181&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=979#file979line181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=979#file979line181&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     No support for filters. For REST, the model classes recursively walk the filter structure and build a JSON representation that is then passed as a string.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     No support for setBatch()&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Consider support for setCacheBlocks() (regionserver level caching) and setCaching() (connector level caching)?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jeff Hammerbacher wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2690&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2690&lt;/a&gt; is for the caching and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2687&lt;/a&gt; is for the filters. Thanks for letting me know how you did things in the REST interface; I&apos;ll try to mimic your approach. I held off on implementing because I wasn&apos;t quite sure what the API would look like.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Doesn&apos;t make sense with my current Scan API (super simple: table + number of rows). I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2705&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-2705&lt;/a&gt; to take care of this one at a later date.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java, line 386&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=950#file950line386&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=950#file950line386&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Export exists() to the client.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Done&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java, line 335&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=950#file950line335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=950#file950line335&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     No split()?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Done&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-06 10:23:33, Andrew Purtell wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java, line 324&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/1/?file=950#file950line324&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/1/?file=950#file950line324&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     That would be good.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Removed comment; this will work with region names as well.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jeff&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review138&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review138&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12876932" author="hbasereviewboard" created="Wed, 9 Jun 2010 03:07:33 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-06-08 20:05:01.662868)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Addressed all comments or filed tickets to address them at a later date.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Initial patch; some javadoc and tests missing, but I wanted to get some initial feedback on the approach. My apologies for sticking a patch on the JIRA before the review. I should have read further on the HowToContribute JIRA.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2400&quot; title=&quot;new connector for Avro RPC access to HBase cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2400&quot;&gt;&lt;del&gt;HBASE-2400&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/hbase 952782 &lt;br/&gt;
  trunk/pom.xml 952782 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AAlreadyExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AClusterStatus.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumn.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnValue.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ACompressionAlgorithm.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ADelete.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AGet.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIllegalArgument.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AMasterNotRunning.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/APut.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ARegionLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResult.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResultEntry.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AScan.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerAddress.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerInfo.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATimeRange.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/HBase.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/IOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/TCell.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.avpr PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/package.html PRE-CREATION &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/avro/TestAvroServer.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/128/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jeff&lt;/p&gt;

</comment>
                            <comment id="12877279" author="hbasereviewboard" created="Thu, 10 Jun 2010 00:59:07 +0000"  >&lt;p&gt;Message from: &quot;Ryan Rawson&quot; &amp;lt;ryanobjc@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review164&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review164&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment806&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment806&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    you can probably just use &apos;hostname&apos; and &apos;port&apos;.  There was a recent patch in trunk that is attempting to get rid of IP addresses (they cause issues when they dont align with DNS names, etc) and generally move us to a DNS name world.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment807&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment807&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    technically the serverName is the serverAddress + startCode... in the Java code is isnt fully exposed.  Not sure what we want to do here, but this is probably fine as is.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment808&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment808&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    couldnt you use a empty string if there are no dead server names?  im not sure if arrays can be 0 length in avro &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment809&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment809&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    same as deadServerNames.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment810&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment810&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    presumably in the future we would store the authoritative list in avro and Java would use that enum.  Has anyone done this pattern yet?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment811&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    the compression can never be null, because the &quot;NONE&quot; is the catch all here.  &lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment812&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment812&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    do we need to make these fields nullable?  usually they are true/false in the java code.  &lt;/p&gt;

&lt;p&gt;    Is this some semi-mechanical translation from a java api?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ryan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12877280" author="hbasereviewboard" created="Thu, 10 Jun 2010 01:07:19 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 111&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line111&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line111&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     do we need to make these fields nullable?  usually they are true/false in the java code.  &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Is this some semi-mechanical translation from a java api?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I use the same Avro record for table creation and modification as well as description. For create table, I want the fields to be nullable because the user should not have to specify a value.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 94&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line94&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line94&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     the compression can never be null, because the &quot;NONE&quot; is the catch all here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Same as below: I use the same record for family creation, modification, and description. Avro currently doesn&apos;t have default values on write, so making this field nullable means we can do smart things if the user doesn&apos;t specify a compression algorithm during Family creation.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 78&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line78&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line78&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     same as deadServerNames.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah I should make these 0-length arrays.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 73&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line73&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line73&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     couldnt you use a empty string if there are no dead server names?  im not sure if arrays can be 0 length in avro &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Will make a 0-length array&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 66&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line66&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line66&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     technically the serverName is the serverAddress + startCode... in the Java code is isnt fully exposed.  Not sure what we want to do here, but this is probably fine as is.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah since Avro records don&apos;t have methods, you can think of this field as a materialization of the Java logic.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 34&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line34&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line34&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     you can probably just use &apos;hostname&apos; and &apos;port&apos;.  There was a recent patch in trunk that is attempting to get rid of IP addresses (they cause issues when they dont align with DNS names, etc) and generally move us to a DNS name world.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let me know what you want me to do here. I was just copying the fields directly from the Java objects.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jeff&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review164&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review164&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12877283" author="hbasereviewboard" created="Thu, 10 Jun 2010 01:13:36 +0000"  >&lt;p&gt;Message from: &quot;Ryan Rawson&quot; &amp;lt;ryanobjc@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review168&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review168&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment824&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment824&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    in this case we have to distinguish between &apos;give me family X&apos; and &apos;give me family X 0 length qualifier&apos; which are in fact different queries and are both representable in the standard Get Java API.&lt;/p&gt;

&lt;p&gt;    the java code does this by using a map of a map in the Get object:&lt;br/&gt;
    Map&amp;lt;byte[], Set&amp;lt;byte[]&amp;gt;&amp;gt; familyMap;&lt;br/&gt;
    where the key is the family, and the value is the set of qualifiers for said family.  If you want to get a family the code will use &apos;null&apos; as the Set value.&lt;/p&gt;

&lt;p&gt;    For the Avro API we don&apos;t have to do it in the same way, but we need to know the difference between those queries. perhaps using AColumn &apos;family = foo, qualifier=null&apos; can be the &apos;give me the family&apos; and &apos;family = foo, qualifier = 0 length bytes&apos; can be the other?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ryan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12877284" author="hbasereviewboard" created="Thu, 10 Jun 2010 01:17:13 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 17:54:20, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 34&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line34&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/2/?file=1157#file1157line34&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     you can probably just use &apos;hostname&apos; and &apos;port&apos;.  There was a recent patch in trunk that is attempting to get rid of IP addresses (they cause issues when they dont align with DNS names, etc) and generally move us to a DNS name world.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jeff Hammerbacher wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Let me know what you want me to do here. I was just copying the fields directly from the Java objects.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;After talking in IRC, it sounds like we want to get rid of this guy. Done.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jeff&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review164&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review164&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12877285" author="hbasereviewboard" created="Thu, 10 Jun 2010 01:25:17 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-06-09 18:22:12.245370)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Addressed Ryan&apos;s requests&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Initial patch; some javadoc and tests missing, but I wanted to get some initial feedback on the approach. My apologies for sticking a patch on the JIRA before the review. I should have read further on the HowToContribute JIRA.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2400&quot; title=&quot;new connector for Avro RPC access to HBase cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2400&quot;&gt;&lt;del&gt;HBASE-2400&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/hbase 953193 &lt;br/&gt;
  trunk/pom.xml 953193 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AAlreadyExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AClusterStatus.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumn.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnValue.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ACompressionAlgorithm.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ADelete.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AGet.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIllegalArgument.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AMasterNotRunning.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/APut.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ARegionLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResult.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResultEntry.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AScan.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerAddress.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerInfo.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATimeRange.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/HBase.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/IOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/TCell.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.avpr PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/package.html PRE-CREATION &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/avro/TestAvroServer.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/128/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jeff&lt;/p&gt;

</comment>
                            <comment id="12877294" author="hbasereviewboard" created="Thu, 10 Jun 2010 02:25:58 +0000"  >&lt;p&gt;Message from: &quot;Ryan Rawson&quot; &amp;lt;ryanobjc@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review171&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.avpr&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment832&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment832&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    if this is generated from the genavro, is it possible to get a maven rule to generate this?  Or is that not ready yet?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment827&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment827&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    does it make sense to reuse AColumn here?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment828&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment828&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    The Java API gets its speed by essentially taking a Result which is an array of KeyValue, which are just byte arrays and serializing it all as one large array.  On the client side, the client reads the entire array then builds the KeyValues that provide a view onto this one array. &lt;/p&gt;

&lt;p&gt;    I don&apos;t know how this performance improvement could be done in this avro interface, but I thought I&apos;d bring it up for reference.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment829&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment829&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    it would be nice to collapse AResultEntry and AColumnValue, they seem to be almost the same thing.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment830&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment830&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    technically speaking getRowOrBefore() isnt a &apos;public&apos; method, it is supposed to be mostly used for META support, and I think we are trending to &apos;dont use for general purpose&apos;. &lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/#comment831&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#comment831&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    these apis are good, but i&apos;m wondering if you&apos;d be open to a new experimental scanner API we have been interested in for the base RPC...&lt;/p&gt;

&lt;p&gt;    essentially right now you need 3 RPC calls even to retrieve a small amount of data.  What would an API look like that lets you open, get rows and have implicit closes if you hit the end of the scan in your &apos;number of records&apos; parameter?  We&apos;d still have explicit closes for premature client-driven scan-terminations, but if your goal is to scan to the end, then why do an explicit close?  Also why not have the &apos;open&apos; also start to return data?  The returned value would probably have to be a struct..&lt;/p&gt;

&lt;p&gt;    This is more of an optional exercise, so if you dont feel the need, it&apos;s fine.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ryan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12877296" author="hbasereviewboard" created="Thu, 10 Jun 2010 02:59:59 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 19:24:25, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.avpr, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/3/?file=1190#file1190line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/3/?file=1190#file1190line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     if this is generated from the genavro, is it possible to get a maven rule to generate this?  Or is that not ready yet?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, this should definitely be done during the build. See &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AVRO-572&lt;/a&gt;.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 19:24:25, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 155&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line155&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line155&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     The Java API gets its speed by essentially taking a Result which is an array of KeyValue, which are just byte arrays and serializing it all as one large array.  On the client side, the client reads the entire array then builds the KeyValues that provide a view onto this one array. &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I don&apos;t know how this performance improvement could be done in this avro interface, but I thought I&apos;d bring it up for reference.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;My comment here is not for performance considerations, it&apos;s for concision and related to your previous comment (on line 140): AColumn, AResultEntry, and AColumnValue all do approximately the same thing. I could make the fields nullable and use one Avro record for each. Pro: I have less generated classes. Con: the generated class I have is less task-specific. To be honest, since there are not a lot of Avro services out there, it&apos;s hard to say which is the best practice. I&apos;m happy to take feedback but decided that being more verbose with my number of objects was better.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 19:24:25, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 156&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line156&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line156&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     it would be nice to collapse AResultEntry and AColumnValue, they seem to be almost the same thing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;(see above comment)&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 19:24:25, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 268&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line268&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line268&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     these apis are good, but i&apos;m wondering if you&apos;d be open to a new experimental scanner API we have been interested in for the base RPC...&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     essentially right now you need 3 RPC calls even to retrieve a small amount of data.  What would an API look like that lets you open, get rows and have implicit closes if you hit the end of the scan in your &apos;number of records&apos; parameter?  We&apos;d still have explicit closes for premature client-driven scan-terminations, but if your goal is to scan to the end, then why do an explicit close?  Also why not have the &apos;open&apos; also start to return data?  The returned value would probably have to be a struct..&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This is more of an optional exercise, so if you dont feel the need, it&apos;s fine.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah that would be nice; you could return (int scannerId, bytes[] row, resultScanner result). In the Python client, I don&apos;t expose open/close; the Python clients just scan.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-09 19:24:25, Ryan Rawson wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro, line 230&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line230&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff/3/?file=1191#file1191line230&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     technically speaking getRowOrBefore() isnt a &apos;public&apos; method, it is supposed to be mostly used for META support, and I think we are trending to &apos;dont use for general purpose&apos;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Noted. I will remove the comment.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jeff&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review171&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12878214" author="hbasereviewboard" created="Sat, 12 Jun 2010 06:02:13 +0000"  >&lt;p&gt;Message from: &quot;Jeff Hammerbacher&quot; &amp;lt;jeff.hammerbacher@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-06-11 22:56:49.438699)&lt;/p&gt;


&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Hey, I&apos;ve added more tests and addressed all of the review comments. Any chance we can get this into trunk? I&apos;d like to start addressing some of the follow-on issues.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Initial patch; some javadoc and tests missing, but I wanted to get some initial feedback on the approach. My apologies for sticking a patch on the JIRA before the review. I should have read further on the HowToContribute JIRA.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2400&quot; title=&quot;new connector for Avro RPC access to HBase cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2400&quot;&gt;&lt;del&gt;HBASE-2400&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HBASE-2400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HBASE-2400&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/hbase 953940 &lt;br/&gt;
  trunk/pom.xml 953940 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroServer.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/AvroUtil.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AAlreadyExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AClusterStatus.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumn.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AColumnValue.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ACompressionAlgorithm.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ADelete.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AFamilyDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AGet.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AIllegalArgument.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AMasterNotRunning.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/APut.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ARegionLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResult.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AResultEntry.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AScan.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerAddress.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerInfo.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/AServerLoad.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableDescriptor.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATableExists.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/ATimeRange.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/HBase.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/IOError.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/generated/TCell.java PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.avpr PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/hbase.genavro PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/avro/package.html PRE-CREATION &lt;br/&gt;
  trunk/src/test/java/org/apache/hadoop/hbase/avro/TestAvroServer.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/128/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jeff&lt;/p&gt;

</comment>
                            <comment id="12878300" author="hbasereviewboard" created="Sat, 12 Jun 2010 18:48:34 +0000"  >&lt;p&gt;Message from: &quot;Andrew Purtell&quot; &amp;lt;apurtell@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/128/#review209&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/128/#review209&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Andrew&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12878356" author="ryanobjc" created="Sun, 13 Jun 2010 06:55:01 +0000"  >&lt;p&gt;I just committed v3 of the patch from reviewboard.&lt;/p&gt;</comment>
                            <comment id="15017404" author="lars_francke" created="Fri, 20 Nov 2015 12:43:00 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12466853">HBASE-2719</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12464749">AVRO-544</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12445671">AVRO-341</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466397">HBASE-2685</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466400">HBASE-2687</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466402">HBASE-2688</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466405">HBASE-2690</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466403">HBASE-2689</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466515">HBASE-2705</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12460570">HBASE-2387</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12455505">AVRO-405</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12446430" name="HBASE-2400-v0.patch" size="131466" author="hammer" created="Sun, 6 Jun 2010 06:09:53 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12494079">HBASE-3393</subtask>
                            <subtask id="12494081">HBASE-3394</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 May 2010 19:24:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05ib3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>