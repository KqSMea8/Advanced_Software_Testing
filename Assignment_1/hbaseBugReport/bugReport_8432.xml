<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:55:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8432/HBASE-8432.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8432] a table with unbalanced regions will balance indefinitely with the &apos;org.apache.hadoop.hbase.master.DefaultLoadBalancer&apos;</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8432</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;it happened that a table with unbalanced regions, as follows in my cluster(the cluster has 20 regionservers, the table has 12 regions):&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev19.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev19.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev8.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev8.cm6:60030/&lt;/a&gt;	2&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev17.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev17.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev12.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev12.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev5.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev5.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev9.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev9.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev22.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev22.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev11.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev11.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev21.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev21.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev16.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev16.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev10.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev10.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
with the &apos;org.apache.hadoop.hbase.master.DefaultLoadBalancer&apos;, after 5 times load-balances, the table are still unbalanced:&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev3.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev3.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev20.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev20.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev4.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev4.cm6:60030/&lt;/a&gt;	2&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev18.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev18.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev12.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev12.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev14.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev14.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev15.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev15.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev6.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev6.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev13.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev13.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev11.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev11.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev10.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev10.cm6:60030/&lt;/a&gt;	1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hadoopdev19.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev19.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev17.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev17.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev8.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev8.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev5.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev5.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev12.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev12.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev22.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev22.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev11.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev11.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev21.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev21.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev7.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev7.cm6:60030/&lt;/a&gt;	2&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev10.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev10.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev16.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev16.cm6:60030/&lt;/a&gt;	1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hadoopdev3.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev3.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev20.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev20.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev4.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev4.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev18.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev18.cm6:60030/&lt;/a&gt;	2&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev12.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev12.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev14.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev14.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev15.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev15.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev6.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev6.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev13.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev13.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev11.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev11.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev10.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev10.cm6:60030/&lt;/a&gt;	1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hadoopdev19.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev19.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev8.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev8.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev17.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev17.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev12.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev12.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev5.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev5.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev22.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev22.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev11.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev11.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev7.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev7.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev21.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev21.cm6:60030/&lt;/a&gt;	2&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev16.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev16.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev10.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev10.cm6:60030/&lt;/a&gt;	1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hadoopdev3.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev3.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev20.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev20.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev18.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev18.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev4.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev4.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev12.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev12.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev15.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev15.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev14.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev14.cm6:60030/&lt;/a&gt;	2&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev6.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev6.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev13.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev13.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev11.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev11.cm6:60030/&lt;/a&gt;	1&lt;br/&gt;
&lt;a href=&quot;http://hadoopdev10.cm6:60030/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopdev10.cm6:60030/&lt;/a&gt;	1&lt;/p&gt;

&lt;p&gt;from the above logs, we can also find that some regions needn&apos;t move, but they moved. follow into &apos;org.apache.hadoop.hbase.master.DefaultLoadBalancer.balanceCluster()&apos;, I found that &apos;maxToTake&apos; is error calculated. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux 2.6.32-el5.x86_64&lt;/p&gt;</environment>
        <key id="12644525">HBASE-8432</key>
            <summary>a table with unbalanced regions will balance indefinitely with the &apos;org.apache.hadoop.hbase.master.DefaultLoadBalancer&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aaronwq">Wang Qiang</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 25 Apr 2013 03:50:12 +0000</created>
                <updated>Wed, 24 Jul 2013 19:08:08 +0000</updated>
                            <resolved>Fri, 19 Jul 2013 16:55:13 +0000</resolved>
                                    <version>0.94.5</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                    <fixVersion>0.94.10</fixVersion>
                                    <component>Balancer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13641377" author="aaronwq" created="Thu, 25 Apr 2013 03:52:10 +0000"  >&lt;p&gt;Index: DefaultLoadBalancer.java&lt;/p&gt;

&lt;p&gt;===================================================================&lt;/p&gt;

&lt;p&gt;&amp;#8212; DefaultLoadBalancer.java	(revision 87270)&lt;/p&gt;

&lt;p&gt;+++ DefaultLoadBalancer.java	(working copy)&lt;/p&gt;

&lt;p&gt;@@ -318,7 +318,14 @@&lt;/p&gt;

&lt;p&gt;     fetchFromTail = false;&lt;/p&gt;

&lt;p&gt;     Map&amp;lt;ServerName, Integer&amp;gt; underloadedServers = new HashMap&amp;lt;ServerName, Integer&amp;gt;();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;int maxToTake = numRegions - (int)average;&lt;br/&gt;
+	int maxToTake = 0;&lt;br/&gt;
+	for (Map.Entry&amp;lt;ServerAndLoad, List&amp;lt;HRegionInfo&amp;gt;&amp;gt; server : serversByLoad&lt;br/&gt;
+			.entrySet()) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+		int regionCount = server.getKey().getLoad();+		if (regionCount &amp;gt; 1 &amp;amp;&amp;amp; regionCount &amp;gt; average) {
+			maxToTake += regionCount - (int) Math.ceil(average);
+		}+	}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;     for (Map.Entry&amp;lt;ServerAndLoad, List&amp;lt;HRegionInfo&amp;gt;&amp;gt; server:&lt;br/&gt;
         serversByLoad.entrySet()) {&lt;br/&gt;
       if (maxToTake == 0) break; // no more to take&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13641386" author="anoop.hbase" created="Thu, 25 Apr 2013 04:02:28 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7060&quot; title=&quot;Region load balancing by table does not handle the case where a table&amp;#39;s region count is lower than the number of the RS in the cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7060&quot;&gt;&lt;del&gt;HBASE-7060&lt;/del&gt;&lt;/a&gt;??&lt;/p&gt;</comment>
                            <comment id="13641406" author="yuzhihong@gmail.com" created="Thu, 25 Apr 2013 04:31:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7060&quot; title=&quot;Region load balancing by table does not handle the case where a table&amp;#39;s region count is lower than the number of the RS in the cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7060&quot;&gt;&lt;del&gt;HBASE-7060&lt;/del&gt;&lt;/a&gt; went into 0.94.3&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aaronwq&quot; class=&quot;user-hover&quot; rel=&quot;aaronwq&quot;&gt;Wang Qiang&lt;/a&gt;:&lt;br/&gt;
Can you confirm that the problem still exists in 0.94.5 ?&lt;/p&gt;</comment>
                            <comment id="13641417" author="aaronwq" created="Thu, 25 Apr 2013 04:47:00 +0000"  >&lt;p&gt;yes, the problem is existed in 0.94.5. We found the problem in our production cluster, and then can do replay the problem in our development cluster.&lt;/p&gt;</comment>
                            <comment id="13641451" author="aaronwq" created="Thu, 25 Apr 2013 05:42:29 +0000"  >&lt;p&gt;In my test case, it&apos;s less than half of the regionserver number, after several balances(two or three), the table went balanced. But when the region number is larger than half of the regionserver number and less than the regionserver number, the table was still unbalanced after many times of balances. the attachment is my patch.&lt;/p&gt;</comment>
                            <comment id="13641727" author="jmspaggi" created="Thu, 25 Apr 2013 12:29:30 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~qian725&amp;#93;&lt;/span&gt; have you tested with your patch? Are you sure about the += in &quot;maxToTake += regionCount&quot;? Should it not be &quot;=&quot;?&lt;/p&gt;</comment>
                            <comment id="13642599" author="aaronwq" created="Fri, 26 Apr 2013 04:47:52 +0000"  >&lt;p&gt;@Jean-Marc Spaggiari I have run the unit test, and deployed in my cluster, it works ok. &apos;maxToTake&apos; is cumulated in the &apos;for&apos; loop, so the opertaor should be &apos;+=&apos;&lt;/p&gt;</comment>
                            <comment id="13642785" author="jmspaggi" created="Fri, 26 Apr 2013 12:26:33 +0000"  >&lt;p&gt;Thanks for the followup &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aaronwq&quot; class=&quot;user-hover&quot; rel=&quot;aaronwq&quot;&gt;Wang Qiang&lt;/a&gt;. Have you tried also the other scenarios? Like regions# &amp;lt; RS#/2 and regions# &amp;gt; RS#? Are they all still working fine?&lt;/p&gt;</comment>
                            <comment id="13708251" author="aaronwq" created="Mon, 15 Jul 2013 05:44:48 +0000"  >&lt;p&gt;    // If we still have regions to dish out, assign underloaded to max&lt;br/&gt;
    if (0 &amp;lt; regionsToMove.size()) {&lt;br/&gt;
      for (Map.Entry&amp;lt;ServerAndLoad, List&amp;lt;HRegionInfo&amp;gt;&amp;gt; server :&lt;br/&gt;
        serversByLoad.entrySet()) {&lt;br/&gt;
        int regionCount = server.getKey().getLoad();&lt;br/&gt;
        if(regionCount &amp;gt;= max) &lt;/p&gt;
{
          break;
        }&lt;br/&gt;
        addRegionPlan(regionsToMove, fetchFromTail,&lt;br/&gt;
          server.getKey().getServerName(), regionsToReturn);&lt;br/&gt;
        if (emptyRegionServerPresent) {
          fetchFromTail = !fetchFromTail;
        }&lt;br/&gt;
        if (regionsToMove.isEmpty()) {
          break;
        }
&lt;p&gt;      }&lt;br/&gt;
    }&lt;br/&gt;
the code above should change to the below, it hasn&apos;t check the balance info&lt;/p&gt;

&lt;p&gt;    // If we still have regions to dish out, assign underloaded to max&lt;br/&gt;
    if (0 &amp;lt; regionsToMove.size()) {&lt;br/&gt;
      for (Map.Entry&amp;lt;ServerAndLoad, List&amp;lt;HRegionInfo&amp;gt;&amp;gt; server :&lt;br/&gt;
        serversByLoad.entrySet()) {&lt;br/&gt;
        int regionCount = server.getKey().getLoad();&lt;br/&gt;
        if(regionCount &amp;gt;= max) &lt;/p&gt;
{
          break;
        }&lt;br/&gt;
        BalanceInfo balanceInfo = serverBalanceInfo.get(server.getKey().getServerName());&lt;br/&gt;
        if(balanceInfo != null) {
          regionCount += balanceInfo.getNumRegionsAdded();
        }&lt;br/&gt;
        if(regionCount &amp;gt;= max) {
        	continue;
        }&lt;br/&gt;
        addRegionPlan(regionsToMove, fetchFromTail,&lt;br/&gt;
          server.getKey().getServerName(), regionsToReturn);&lt;br/&gt;
        if (emptyRegionServerPresent) {
          fetchFromTail = !fetchFromTail;
        }&lt;br/&gt;
        if (regionsToMove.isEmpty()) {
          break;
        }
&lt;p&gt;      }&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="13708406" author="jmspaggi" created="Mon, 15 Jul 2013 12:00:09 +0000"  >&lt;p&gt;Hi Wang,&lt;/p&gt;

&lt;p&gt;Have you tried this change with the 3 different scenarios:&lt;br/&gt;
1) More regions than RS;&lt;br/&gt;
2) More regions than RS/2 but less than RS;&lt;br/&gt;
3) Less regions than RS/2.&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="13708506" author="yuzhihong@gmail.com" created="Mon, 15 Jul 2013 14:38:20 +0000"  >&lt;p&gt;Second patch should have been taken at the root of workspace.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(regionCount &amp;gt;= max) {
           &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
         }
+        BalanceInfo balanceInfo = serverBalanceInfo.get(server.getKey().getServerName());
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(balanceInfo != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+          regionCount += balanceInfo.getNumRegionsAdded();
+        }
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(regionCount &amp;gt;= max) {
+        	&lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If accounting for BalanceInfo is moved to above &apos;if(regionCount &amp;gt;= max)&apos;, we can save one check for &apos;if(regionCount &amp;gt;= max)&apos;&lt;/p&gt;

&lt;p&gt;Please attach trunk patch as well.&lt;/p&gt;</comment>
                            <comment id="13709637" author="aaronwq" created="Tue, 16 Jul 2013 09:35:59 +0000"  >&lt;p&gt;the original patch was generated in a modified source file, re-generate the patch from the trunk file&lt;/p&gt;</comment>
                            <comment id="13709643" author="aaronwq" created="Tue, 16 Jul 2013 09:41:02 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~Jean-Marc Spaggiari&amp;#93;&lt;/span&gt; yes, I have tested all the 3 different scenarios in our cluster&lt;/p&gt;</comment>
                            <comment id="13709646" author="aaronwq" created="Tue, 16 Jul 2013 09:42:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; yes, I have tested all the 3 different scenarios in our cluster&lt;/p&gt;</comment>
                            <comment id="13709741" author="jmspaggi" created="Tue, 16 Jul 2013 13:02:42 +0000"  >&lt;p&gt;Good. If you think your patch is correct you need to click on &quot;submit patch&quot; to trigger the QA system. If it pass, I will apply your patch locally and give it a try.&lt;/p&gt;</comment>
                            <comment id="13709804" author="yuzhihong@gmail.com" created="Tue, 16 Jul 2013 14:29:15 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        maxToTake--;
       }
+      maxToTake -= regionsToPut;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is the above change intentional ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(regionCount &amp;gt;= max) {
           &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
         }
+        BalanceInfo balanceInfo = serverBalanceInfo.get(server.getKey().getServerName());
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(balanceInfo != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+            regionCount += balanceInfo.getNumRegionsAdded();
+        }
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(regionCount &amp;gt;= max) {
+            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The check below can be omitted if serverBalanceInfo.get() is lifted above the original &apos;if(regionCount &amp;gt;= max)&apos;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(regionCount &amp;gt;= max) {
+            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
+        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13710625" author="aaronwq" created="Wed, 17 Jul 2013 02:18:39 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
       if (regionsToPut == 0)
       {
         regionsToPut = 1;
-        maxToTake--;
       }
+      maxToTake -= regionsToPut;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; yes, the above is intentional, because when &apos;int regionsToPut = min - regionCount&apos; is greater than 0, the &apos;maxToTake&apos; doesn&apos;t decrease correctly&lt;/p&gt;</comment>
                            <comment id="13710626" author="aaronwq" created="Wed, 17 Jul 2013 02:23:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; if the check below is omitted, the scenario in my case will work terribly&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
+        if(regionCount &amp;gt;= max) {
+            continue;
+        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13710627" author="aaronwq" created="Wed, 17 Jul 2013 02:25:40 +0000"  >&lt;p&gt;fix the indefinitely balance case&lt;/p&gt;</comment>
                            <comment id="13710639" author="hadoopqa" created="Wed, 17 Jul 2013 02:51:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12592513/patch_20130716.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12592513/patch_20130716.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6370//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6370//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13710674" author="yuzhihong@gmail.com" created="Wed, 17 Jul 2013 04:34:10 +0000"  >&lt;p&gt;Patch for trunk, illustrating my point w.r.t. if(regionCount &amp;gt;= max) check.&lt;/p&gt;</comment>
                            <comment id="13710751" author="hadoopqa" created="Wed, 17 Jul 2013 05:51:32 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12592712/8432-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12592712/8432-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.rest.client.TestRemoteAdmin&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6372//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13711239" author="lhofhansl" created="Wed, 17 Jul 2013 16:27:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aaronwq&quot; class=&quot;user-hover&quot; rel=&quot;aaronwq&quot;&gt;Wang Qiang&lt;/a&gt; Does Ted&apos;s patch work for you?&lt;/p&gt;</comment>
                            <comment id="13712618" author="lhofhansl" created="Thu, 18 Jul 2013 18:34:25 +0000"  >&lt;p&gt;Pushing to 0.94.11.&lt;/p&gt;</comment>
                            <comment id="13713262" author="aaronwq" created="Fri, 19 Jul 2013 02:05:32 +0000"  >&lt;p&gt;To &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; yes, ted&apos;s patch is ok, it&apos;s almost the same with mine, I am not familiar with the patch submition process, thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13713270" author="lhofhansl" created="Fri, 19 Jul 2013 02:21:55 +0000"  >&lt;p&gt;Cool. Let&apos;s pull it into 0.94.10.&lt;/p&gt;</comment>
                            <comment id="13713290" author="lhofhansl" created="Fri, 19 Jul 2013 02:53:08 +0000"  >&lt;p&gt;0.94 patch.&lt;/p&gt;

&lt;p&gt;Going to commit tomorrow, unless I hear objections.&lt;/p&gt;</comment>
                            <comment id="13713328" author="hadoopqa" created="Fri, 19 Jul 2013 04:21:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12593115/8432-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12593115/8432-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop1.0&lt;/font&gt;.  The patch compiles against the hadoop 1.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/6405//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13713809" author="lhofhansl" created="Fri, 19 Jul 2013 16:32:20 +0000"  >&lt;p&gt;Would like another +1 before I commit.&lt;/p&gt;</comment>
                            <comment id="13713830" author="lhofhansl" created="Fri, 19 Jul 2013 16:47:34 +0000"  >&lt;p&gt;Wait wrong issue. Ted&apos;s presumably OK with his patch. Committing now.&lt;/p&gt;</comment>
                            <comment id="13713836" author="lhofhansl" created="Fri, 19 Jul 2013 16:55:13 +0000"  >&lt;p&gt;Committed to 0.94, 0.95, and trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12593114" name="8432-0.94.txt" size="1047" author="lhofhansl" created="Fri, 19 Jul 2013 02:53:08 +0000"/>
                            <attachment id="12593115" name="8432-trunk.txt" size="1113" author="yuzhihong@gmail.com" created="Fri, 19 Jul 2013 02:53:58 +0000"/>
                            <attachment id="12592513" name="patch_20130716.txt" size="1127" author="aaronwq" created="Tue, 16 Jul 2013 09:35:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Apr 2013 04:02:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k1vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>