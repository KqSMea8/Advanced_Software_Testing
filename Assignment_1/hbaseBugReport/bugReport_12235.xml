<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:31:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12235/HBASE-12235.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12235] Backport to 0.94: HBASE-9002 TestDistributedLogSplitting.testRecoverdEdits should test correct region</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12235</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I had TestDistributedLogSplitting.testRecoveredEdits fail on a internal test rig. It&apos;s very infrequent.&lt;/p&gt;

&lt;p&gt;The proximal failure looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9002&quot; title=&quot;TestDistributedLogSplitting.testRecoveredEdits fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9002&quot;&gt;&lt;del&gt;HBASE-9002&lt;/del&gt;&lt;/a&gt;, the assertion finds 0 edits instead of 1000.&lt;/p&gt;

&lt;p&gt;Looking through the logs, the #regions printed is 1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
line 236        LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;#regions = &quot;&lt;/span&gt; + regions.size());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then in the makeHLog method I never see any log entry for the actual writing&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
line 569    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; n; i++) {
line 570      LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;region &quot;&lt;/span&gt; + hris.get(i).getRegionNameAsString() + &lt;span class=&quot;code-quote&quot;&gt;&quot; has &quot;&lt;/span&gt; + counts[i] + &lt;span class=&quot;code-quote&quot;&gt;&quot; edits&quot;&lt;/span&gt;);
line 571    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think what&apos;s happening is we&apos;re picking a region that is META or ROOT, so the checks after the &quot;#regions=&quot; line removes the region and we end up inserting no data.&lt;/p&gt;

&lt;p&gt;It looks like the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9002&quot; title=&quot;TestDistributedLogSplitting.testRecoveredEdits fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9002&quot;&gt;&lt;del&gt;HBASE-9002&lt;/del&gt;&lt;/a&gt; should fix this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;0.94.15 compiled with jdk6 running on jdk7 (but I don&apos;t think it&apos;s relevant)&lt;/p&gt;</environment>
        <key id="12747482">HBASE-12235</key>
            <summary>Backport to 0.94: HBASE-9002 TestDistributedLogSplitting.testRecoverdEdits should test correct region</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="busbey">Sean Busbey</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Oct 2014 07:46:35 +0000</created>
                <updated>Sat, 29 Nov 2014 22:31:42 +0000</updated>
                            <resolved>Mon, 13 Oct 2014 01:29:03 +0000</resolved>
                                    <version>0.94.0</version>
                                    <fixVersion>0.94.25</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14168054" author="busbey" created="Sat, 11 Oct 2014 07:57:47 +0000"  >&lt;p&gt;patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9002&quot; title=&quot;TestDistributedLogSplitting.testRecoveredEdits fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9002&quot;&gt;&lt;del&gt;HBASE-9002&lt;/del&gt;&lt;/a&gt; rebased to work on 0.94.&lt;/p&gt;

&lt;p&gt;ran &lt;tt&gt;mvn -Dtest=TestDistributedLogSplitting#testRecoveredEdits test&lt;/tt&gt; successfully.&lt;/p&gt;</comment>
                            <comment id="14168055" author="hadoopqa" created="Sat, 11 Oct 2014 08:01:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12674347/HBASE-12235-0.94.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12674347/HBASE-12235-0.94.1.patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12674347&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11313//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11313//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14168268" author="lhofhansl" created="Sat, 11 Oct 2014 17:21:46 +0000"  >&lt;p&gt;Looks good. +1&lt;/p&gt;</comment>
                            <comment id="14168885" author="stack" created="Mon, 13 Oct 2014 01:29:04 +0000"  >&lt;p&gt;Pushed to 0.94  Thanks mighty Sean.&lt;/p&gt;</comment>
                            <comment id="14168912" author="hudson" created="Mon, 13 Oct 2014 03:12:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #548 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/548/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/548/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12235&quot; title=&quot;Backport to 0.94: HBASE-9002 TestDistributedLogSplitting.testRecoverdEdits should test correct region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12235&quot;&gt;&lt;del&gt;HBASE-12235&lt;/del&gt;&lt;/a&gt; Backport to 0.94: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9002&quot; title=&quot;TestDistributedLogSplitting.testRecoveredEdits fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9002&quot;&gt;&lt;del&gt;HBASE-9002&lt;/del&gt;&lt;/a&gt; TestDistributedLogSplitting.testRecoverdEdits should test correct region (Sean Busbey) (stack: rev 45eb18ba5eda6c66e0b53377b9722b062cd3ee3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14168918" author="hudson" created="Mon, 13 Oct 2014 03:19:16 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-JDK7 #203 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/203/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/203/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12235&quot; title=&quot;Backport to 0.94: HBASE-9002 TestDistributedLogSplitting.testRecoverdEdits should test correct region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12235&quot;&gt;&lt;del&gt;HBASE-12235&lt;/del&gt;&lt;/a&gt; Backport to 0.94: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9002&quot; title=&quot;TestDistributedLogSplitting.testRecoveredEdits fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9002&quot;&gt;&lt;del&gt;HBASE-9002&lt;/del&gt;&lt;/a&gt; TestDistributedLogSplitting.testRecoverdEdits should test correct region (Sean Busbey) (stack: rev 45eb18ba5eda6c66e0b53377b9722b062cd3ee3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14168922" author="hudson" created="Mon, 13 Oct 2014 03:23:40 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1434 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1434/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1434/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12235&quot; title=&quot;Backport to 0.94: HBASE-9002 TestDistributedLogSplitting.testRecoverdEdits should test correct region&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12235&quot;&gt;&lt;del&gt;HBASE-12235&lt;/del&gt;&lt;/a&gt; Backport to 0.94: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9002&quot; title=&quot;TestDistributedLogSplitting.testRecoveredEdits fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9002&quot;&gt;&lt;del&gt;HBASE-9002&lt;/del&gt;&lt;/a&gt; TestDistributedLogSplitting.testRecoverdEdits should test correct region (Sean Busbey) (stack: rev 45eb18ba5eda6c66e0b53377b9722b062cd3ee3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12674347" name="HBASE-12235-0.94.1.patch.txt" size="1563" author="busbey" created="Sat, 11 Oct 2014 07:57:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 11 Oct 2014 08:01:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i212an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>