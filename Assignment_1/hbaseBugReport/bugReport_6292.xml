<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:35:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6292/HBASE-6292.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6292] Compact can skip the security access control</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6292</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When client sends compact command to rs, the rs just create a CompactionRequest, and then put it into the thread pool to process the CompactionRequest. And when the region do the compact, it uses the rs&apos;s ugi to process the compact, so the compact can successfully done.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;user &quot;mapred&quot; do not have permission &quot;Admin&quot;,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):001:0&amp;gt; user_permission &apos;Security&apos;
User                                Table,Family,Qualifier:Permission                                                                      
 mapred                             Security,f1,c1: [Permission: actions=READ,WRITE] 

hbase(main):004:0&amp;gt; put &apos;Security&apos;, &apos;r6&apos;, &apos;f1:c1&apos;, &apos;v9&apos;
0 row(s) in 0.0590 seconds

hbase(main):005:0&amp;gt; put &apos;Security&apos;, &apos;r6&apos;, &apos;f1:c1&apos;, &apos;v10&apos;
0 row(s) in 0.0040 seconds

hbase(main):006:0&amp;gt; compact &apos;Security&apos;
0 row(s) in 0.0260 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe we can add permission check in the preCompactSelection() ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12596371">HBASE-6292</key>
            <summary>Compact can skip the security access control</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12541733">HBASE-5352</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xingshi">ShiXing</assignee>
                                    <reporter username="xingshi">ShiXing</reporter>
                        <labels>
                            <label>acl</label>
                            <label>security</label>
                    </labels>
                <created>Fri, 29 Jun 2012 10:08:58 +0000</created>
                <updated>Tue, 26 Feb 2013 08:15:47 +0000</updated>
                            <resolved>Sat, 30 Jun 2012 21:27:34 +0000</resolved>
                                    <version>0.94.0</version>
                    <version>0.94.1</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.1</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13403862" author="lakshman" created="Fri, 29 Jun 2012 12:06:32 +0000"  >&lt;p&gt;yes shixing, seems to be a problem. do you have a patch for this?&lt;/p&gt;

&lt;p&gt;I will update the matrix &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6192&quot; title=&quot;Document ACL matrix in the book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6192&quot;&gt;&lt;del&gt;HBASE-6192&lt;/del&gt;&lt;/a&gt; accordingly.&lt;/p&gt;</comment>
                            <comment id="13404405" author="xingshi" created="Sat, 30 Jun 2012 05:52:13 +0000"  >&lt;p&gt;Patch for trunk&lt;/p&gt;

&lt;p&gt;If this patch can be commited, then the patches for 0.92 0.94.0 and 0.94.1 I will supply.&lt;/p&gt;</comment>
                            <comment id="13404520" author="stack" created="Sat, 30 Jun 2012 15:43:37 +0000"  >&lt;p&gt;Mind taking a look Andrew (and assigning back to ShiXing after)?  Let me know if this assign inapproprate.&lt;/p&gt;</comment>
                            <comment id="13404521" author="stack" created="Sat, 30 Jun 2012 15:46:25 +0000"  >&lt;p&gt;Patch looks good to me.  The change on the API is ok?  The adding of the IOException?  Could the IOE be more precise in some places?  A permissiondeniedexception?&lt;/p&gt;

&lt;p&gt;Good stuff ShiXing.&lt;/p&gt;</comment>
                            <comment id="13404586" author="apurtell" created="Sat, 30 Jun 2012 17:50:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;If this patch can be commited, then the patches for 0.92 0.94.0 and 0.94.1 I will supply.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For trunk and 0.94 this is ok. We have not been committing any &quot;v2&quot; changes to 0.92. I recommend evaluating what should go back, if anything, after all of this work is completed.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The change on the API is ok? The adding of the IOException? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Throwing IOE out of a hook is consistent with the use of IOE elsewhere in the CP framework and the larger codebase. Until we change that (re: Benoit&apos;s rant) it makes sense.&lt;/p&gt;</comment>
                            <comment id="13404590" author="apurtell" created="Sat, 30 Jun 2012 17:55:40 +0000"  >&lt;p&gt;I have changes for trunk and 0.94 queued for commit and will do so after local tests pass.&lt;/p&gt;</comment>
                            <comment id="13404626" author="stack" created="Sat, 30 Jun 2012 21:18:25 +0000"  >&lt;p&gt;Thanks for review Andrew.  Agree on above.&lt;/p&gt;</comment>
                            <comment id="13404631" author="apurtell" created="Sat, 30 Jun 2012 21:27:34 +0000"  >&lt;p&gt;Committed to trunk and 0.94 branches. All tests pass locally including new case in TestAccessController.&lt;/p&gt;</comment>
                            <comment id="13404643" author="hudson" created="Sat, 30 Jun 2012 22:45:18 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3089 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3089/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3089/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6292&quot; title=&quot;Compact can skip the security access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6292&quot;&gt;&lt;del&gt;HBASE-6292&lt;/del&gt;&lt;/a&gt;. Compact can skip the security access control (ShiXing) (Revision 1355825)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MemStoreFlusher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13404646" author="hudson" created="Sat, 30 Jun 2012 22:54:29 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #288 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/288/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/288/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6292&quot; title=&quot;Compact can skip the security access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6292&quot;&gt;&lt;del&gt;HBASE-6292&lt;/del&gt;&lt;/a&gt;. Compact can skip the security access control (ShiXing) (Revision 1355826)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/MemStoreFlusher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13404657" author="hudson" created="Sun, 1 Jul 2012 00:03:22 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #76 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/76/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/76/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6292&quot; title=&quot;Compact can skip the security access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6292&quot;&gt;&lt;del&gt;HBASE-6292&lt;/del&gt;&lt;/a&gt;. Compact can skip the security access control (ShiXing) (Revision 1355825)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MemStoreFlusher.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13404667" author="xingshi" created="Sun, 1 Jul 2012 02:08:24 +0000"  >&lt;p&gt;@Andrew, I see the ACL Matrix in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6192&quot; title=&quot;Document ACL matrix in the book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6192&quot;&gt;&lt;del&gt;HBASE-6192&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
RegionServer | CompactSelection | REGION | INTERNAL | NA
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And this patch has changed it by add preCompactSelection requirePermission(). Should we change the doc for the ACL Matrix?&lt;/p&gt;</comment>
                            <comment id="13404702" author="lakshman" created="Sun, 1 Jul 2012 09:35:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;Should we change the doc for the ACL Matrix?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes ShiXing.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I will update the matrix &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6192&quot; title=&quot;Document ACL matrix in the book&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6192&quot;&gt;&lt;del&gt;HBASE-6192&lt;/del&gt;&lt;/a&gt; accordingly.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13411179" author="hudson" created="Wed, 11 Jul 2012 02:36:57 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #39 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/39/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/39/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6292&quot; title=&quot;Compact can skip the security access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6292&quot;&gt;&lt;del&gt;HBASE-6292&lt;/del&gt;&lt;/a&gt;. Compact can skip the security access control (ShiXing) (Revision 1355826)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/main/java/org/apache/hadoop/hbase/security/access/AccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/BaseRegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/coprocessor/RegionObserver.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/MemStoreFlusher.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/RegionCoprocessorHost.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12534094" name="HBASE-6292-trunk-V1.patch" size="11853" author="xingshi" created="Sat, 30 Jun 2012 05:52:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jun 2012 12:06:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08rtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>