<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:28:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5529/HBASE-5529.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5529] MR test failures becuase MALLOC_ARENA_MAX is not set</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5529</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When running unit tests on CentOS 6 I get a bunch of unit test failures in mapreduce-related tests due to:&lt;br/&gt;
2012-03-03 00:14:18,776 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;Container Monitor&amp;#93;&lt;/span&gt;&lt;br/&gt;
monitor.ContainersMonitorImpl$MonitoringThread(436): Container&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;pid=21446,containerID=container_1330762435849_0002_01_000001&amp;#93;&lt;/span&gt; is&lt;br/&gt;
running beyond virtual memory limits. Current usage: 223.1mb of 2.0gb&lt;br/&gt;
physical memory used; 6.9gb of 4.2gb virtual memory used. Killing&lt;br/&gt;
container.&lt;/p&gt;

&lt;p&gt;Note: this also came up in the mapreduce project. See: &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3933&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAPREDUCE-3933&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Patch coming shortly&lt;/p&gt;</description>
                <environment></environment>
        <key id="12545284">HBASE-5529</key>
            <summary>MR test failures becuase MALLOC_ARENA_MAX is not set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gchanan">Gregory Chanan</assignee>
                                    <reporter username="gchanan">Gregory Chanan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Mar 2012 06:55:39 +0000</created>
                <updated>Tue, 26 Feb 2013 08:12:42 +0000</updated>
                            <resolved>Thu, 8 Mar 2012 21:14:02 +0000</resolved>
                                    <version>0.92.0</version>
                                    <fixVersion>0.94.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>mapreduce</component>
                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13223046" author="gchanan" created="Tue, 6 Mar 2012 07:13:30 +0000"  >&lt;p&gt;&lt;b&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt;-to92.patch&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;This patch fixes the test failures I experienced when testing 0.92&lt;/p&gt;</comment>
                            <comment id="13223049" author="gchanan" created="Tue, 6 Mar 2012 07:16:42 +0000"  >&lt;p&gt;&lt;b&gt;Attached &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt;-trunk.patch&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;92 patch didn&apos;t apply to trunk.  This is untested, but seems straightforward.&lt;/p&gt;</comment>
                            <comment id="13223059" author="lhofhansl" created="Tue, 6 Mar 2012 07:37:14 +0000"  >&lt;p&gt;Interesting. Seems reasonable &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Out of personal interest: why 4? What is the default (on other distributions)? And why is CentOS special in this regard?&lt;/p&gt;

&lt;p&gt;Also need an 0.94 patch (which hopefully is identical to trunk version)&lt;/p&gt;</comment>
                            <comment id="13223076" author="hadoopqa" created="Tue, 6 Mar 2012 08:06:32 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12517201/HBASE-5529-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12517201/HBASE-5529-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated -129 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 154 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestSplitLogManager&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1112//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1112//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1112//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1112//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1112//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1112//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13223534" author="gchanan" created="Tue, 6 Mar 2012 18:49:38 +0000"  >&lt;p&gt;The 0.94 patch would be identical to trunk.  Do you want me to reattach with a 0.94 name?&lt;/p&gt;

&lt;p&gt;Regarding your questions, see here: &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7154&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-7154&lt;/a&gt;&lt;br/&gt;
That is a better explanation than I gave or the linked MR jira gives.  I think that addresses all your questions, but let me know if you have more.&lt;/p&gt;</comment>
                            <comment id="13224850" author="lhofhansl" created="Wed, 7 Mar 2012 23:58:43 +0000"  >&lt;p&gt;No need for a separately named 0.94 patch. Thanks for the link, makes perfect sense now.&lt;/p&gt;

&lt;p&gt;+1 on patch.&lt;/p&gt;

&lt;p&gt;Lastly, is this something we should add to hbase-env.sh?&lt;/p&gt;</comment>
                            <comment id="13224995" author="lhofhansl" created="Thu, 8 Mar 2012 05:00:13 +0000"  >&lt;p&gt;If there&apos;re no concerns I&apos;ll commit tomorrow morning.&lt;/p&gt;

&lt;p&gt;Again, if this is a problem during test runs, it will also be a problem when running HBase so we probably want to set this (at least as comment) in hbase-env.sh.&lt;/p&gt;</comment>
                            <comment id="13225023" author="gchanan" created="Thu, 8 Mar 2012 06:00:20 +0000"  >&lt;p&gt;I don&apos;t think we need to add it to hbase-env.sh.  The issue (at least what I&apos;ve experienced) is with the mapreduce containers.  So we need it in the surefire config when running unit tests, but when running the jobs normally, hadoop already has the configuration, because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7154&quot; title=&quot;Should set MALLOC_ARENA_MAX in hadoop-config.sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7154&quot;&gt;&lt;del&gt;HADOOP-7154&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If we run into these errors in another area of hbase, we can add it at that time.&lt;/p&gt;</comment>
                            <comment id="13225483" author="lhofhansl" created="Thu, 8 Mar 2012 20:48:07 +0000"  >&lt;p&gt;@Stack: Is it 0.92.1 now or 0.92.2?&lt;/p&gt;</comment>
                            <comment id="13225491" author="lhofhansl" created="Thu, 8 Mar 2012 20:56:38 +0000"  >&lt;p&gt;Committed to 0.94 and trunk.&lt;br/&gt;
Waiting for stack on 0.92&lt;/p&gt;</comment>
                            <comment id="13225522" author="lhofhansl" created="Thu, 8 Mar 2012 21:13:40 +0000"  >&lt;p&gt;NM. Checked another jira that Stack committed yesterday. Was targeted at 0.92.1.&lt;/p&gt;</comment>
                            <comment id="13225574" author="hudson" created="Thu, 8 Mar 2012 21:58:42 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #20 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/20/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/20/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt; MR test failures becuase MALLOC_ARENA_MAX is not set (Gregory Chanan) (Revision 1298575)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13225678" author="hudson" created="Thu, 8 Mar 2012 23:35:42 +0000"  >&lt;p&gt;Integrated in HBase-0.92-security #98 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92-security/98/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92-security/98/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt; MR test failures becuase MALLOC_ARENA_MAX is not set (Gregory Chanan) (Revision 1298582)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13225679" author="hudson" created="Thu, 8 Mar 2012 23:39:16 +0000"  >&lt;p&gt;Integrated in HBase-0.92 #322 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.92/322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.92/322/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt; MR test failures becuase MALLOC_ARENA_MAX is not set (Gregory Chanan) (Revision 1298582)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.92/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.92/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13225738" author="hudson" created="Fri, 9 Mar 2012 00:43:25 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2674 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2674/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2674/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt; MR test failures becuase MALLOC_ARENA_MAX is not set (Gregory Chanan) (Revision 1298574)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13225866" author="hudson" created="Fri, 9 Mar 2012 05:48:38 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #132 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/132/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/132/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5529&quot; title=&quot;MR test failures becuase MALLOC_ARENA_MAX is not set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5529&quot;&gt;&lt;del&gt;HBASE-5529&lt;/del&gt;&lt;/a&gt; MR test failures becuase MALLOC_ARENA_MAX is not set (Gregory Chanan) (Revision 1298574)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12544369">MAPREDUCE-3933</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499653">HADOOP-7154</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12517200" name="HBASE-5529-to92.patch" size="487" author="gchanan" created="Tue, 6 Mar 2012 07:13:30 +0000"/>
                            <attachment id="12517201" name="HBASE-5529-trunk.patch" size="506" author="gchanan" created="Tue, 6 Mar 2012 07:16:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Mar 2012 07:37:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0696n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>