<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:36:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12835/HBASE-12835.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12835] HBASE-12422 changed new HTable(Configuration) to not use managed Connections anymore</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12835</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While debugging something else, I&apos;ve noticed that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12422&quot; title=&quot;Use ConnectionFactory in HTable constructors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12422&quot;&gt;&lt;del&gt;HBASE-12422&lt;/del&gt;&lt;/a&gt; changed it so that new HTable(Configuration, TableName) is not using managed connections anymore. &lt;/p&gt;

&lt;p&gt;I thought the plan was to keep new HTable(Conf, TableName) to still use managed connections, but allow the new APIs to have un-managed connections. With &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12422&quot; title=&quot;Use ConnectionFactory in HTable constructors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12422&quot;&gt;&lt;del&gt;HBASE-12422&lt;/del&gt;&lt;/a&gt;, there is a big compatibility change for used of the HTable interface that suddenly they will be launching connections per HTable instance which is a behavioral change and expensive (with all the meta cache, zk threads, thread pool, etc). I fear that this will catch unsuspecting users by surprise, that is why I think we should revert back to the deprecated behavior for 1.0. For master we do not need to make the change, but document it. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sduskis&quot; class=&quot;user-hover&quot; rel=&quot;sduskis&quot;&gt;Solomon Duskis&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; what do you guys think?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12766556">HBASE-12835</key>
            <summary>HBASE-12422 changed new HTable(Configuration) to not use managed Connections anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2015 22:27:16 +0000</created>
                <updated>Sat, 21 Feb 2015 23:49:03 +0000</updated>
                            <resolved>Tue, 13 Jan 2015 02:53:20 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14271978" author="enis" created="Fri, 9 Jan 2015 22:29:05 +0000"  >&lt;p&gt;One example is TestAcidGuarantees. When run with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase org.apache.hadoop.hbase.TestAcidGuarantees -Dmillis=60000 -DnumWriters=150 -DnumGetters=50 -DnumScanners=15 -DnumUniqueRows=25 2&amp;gt;&amp;amp;1 | tee /tmp/acid.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It actually launches hundreds of connections because it uses &lt;tt&gt;new HTable(Conf, TableName)&lt;/tt&gt;. &lt;/p&gt;</comment>
                            <comment id="14271983" author="stack" created="Fri, 9 Jan 2015 22:33:22 +0000"  >&lt;p&gt;I see your point &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; Over on the issue, thought concern was about closing and that had been dealt with.  Lets be conservative and move this one back to managed connections (Might explain the horrors &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jurmous&quot; class=&quot;user-hover&quot; rel=&quot;jurmous&quot;&gt;Jurriaan Mous&lt;/a&gt; struggled with in TestHBaseFsck... where he did a bunch of work to shut down number of running connections?)&lt;/p&gt;</comment>
                            <comment id="14271988" author="ndimiduk" created="Fri, 9 Jan 2015 22:36:36 +0000"  >&lt;p&gt;This is probably the true root cause of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12833&quot; title=&quot;[shell] table.rb leaks connections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12833&quot;&gt;&lt;del&gt;HBASE-12833&lt;/del&gt;&lt;/a&gt; as well.&lt;/p&gt;</comment>
                            <comment id="14272029" author="enis" created="Fri, 9 Jan 2015 23:03:45 +0000"  >&lt;p&gt;Here is the simple patch to revert back the behavior. I am proposing this for only branch-1 and branch-1.0. &lt;/p&gt;

&lt;p&gt;For master, if we will eventually remove HTable constructors before 2.0, we do not need to commit it. &lt;/p&gt;</comment>
                            <comment id="14272032" author="enis" created="Fri, 9 Jan 2015 23:06:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Over on the issue, thought concern was about closing and that had been dealt with. Lets be conservative and move this one back to managed connections&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I think we can fix the internal usages (like TestHbck, TestAcidGuarantees, etc). I am more concerned about users who are using new HTable() assuming managed connections and going to 1.0 without switching to the new API changes. &lt;/p&gt;</comment>
                            <comment id="14272033" author="stack" created="Fri, 9 Jan 2015 23:08:39 +0000"  >&lt;p&gt;This intended &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;253	    this.connection = (ClusterConnection) ConnectionFactory.createConnection(conf);		&lt;br/&gt;
253	    ConnectionManager.getConnectionInternal(conf);&lt;/p&gt;

&lt;p&gt;Otherwise +1 if hadoopqa good.&lt;/p&gt;</comment>
                            <comment id="14272042" author="enis" created="Fri, 9 Jan 2015 23:13:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;This intended Enis Soztutar?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ops. Nice catch. &lt;/p&gt;</comment>
                            <comment id="14272046" author="enis" created="Fri, 9 Jan 2015 23:13:59 +0000"  >&lt;p&gt;v2 fixes the typo. &lt;/p&gt;</comment>
                            <comment id="14272189" author="hadoopqa" created="Sat, 10 Jan 2015 01:11:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12691421/hbase-12835_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12691421/hbase-12835_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 4bfd35aabc83b007871fe9a8537cd5ac9cd84500.&lt;br/&gt;
  ATTACHMENT ID: 12691421&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.james.pop3server.POP3ServerTest.testKnownUserInboxWithMessages(POP3ServerTest.java:304)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12392//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14274037" author="enis" created="Mon, 12 Jan 2015 19:39:08 +0000"  >&lt;p&gt;Ran these two tests on my node. Did not fail. Let me try hadoopqa again. &lt;/p&gt;</comment>
                            <comment id="14274038" author="enis" created="Mon, 12 Jan 2015 19:39:28 +0000"  >&lt;p&gt;reattach.&lt;/p&gt;</comment>
                            <comment id="14274066" author="ndimiduk" created="Mon, 12 Jan 2015 19:57:33 +0000"  >&lt;p&gt;Yeah, we need to retain this behavior in branch-1.0. +1&lt;/p&gt;</comment>
                            <comment id="14274223" author="hadoopqa" created="Mon, 12 Jan 2015 21:46:35 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12691712/hbase-12835_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12691712/hbase-12835_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 5b850caa801d033d800bf6c1bea32aa2c7bda273.&lt;br/&gt;
  ATTACHMENT ID: 12691712&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-rest.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/newPatchFindbugsWarningshbase-annotations.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12423//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14274474" author="enis" created="Tue, 13 Jan 2015 00:23:22 +0000"  >&lt;p&gt;I&apos;ve pushed this to branch-1 and branch-1.0, but not master. Master has new HTable create a separate Connection still in the hope that it will help reduce internal usage of old way of HTable construction. We can also remove this API in master at a later time. &lt;/p&gt;

&lt;p&gt;Thanks for reviews. &lt;/p&gt;</comment>
                            <comment id="14274571" author="apurtell" created="Tue, 13 Jan 2015 01:36:57 +0000"  >&lt;p&gt;TestFromClientSideWithCoprocessor fails reliably for me on branch-1 after this change went in.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor
Tests run: 80, Failures: 0, Errors: 2, Skipped: 4, Time elapsed: 120.993 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor
testScanMetrics(org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor)  Time elapsed: 0.525 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.io.IOException: The connection has to be unmanaged.
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.getAdmin(ConnectionManager.java:715)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:2171)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:2102)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:2048)
	at org.apache.hadoop.hbase.client.TestFromClientSide.testScanMetrics(TestFromClientSide.java:4994)
[...]

testGetRegionsInRange(org.apache.hadoop.hbase.client.TestFromClientSideWithCoprocessor)  Time elapsed: 0.325 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.io.IOException: The connection has to be unmanaged.
	at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.getAdmin(ConnectionManager.java:715)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:2171)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:2102)
	at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:2048)
	at org.apache.hadoop.hbase.client.TestFromClientSide.testGetRegionsInRange(TestFromClientSide.java:5252)
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14274579" author="hudson" created="Tue, 13 Jan 2015 01:48:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #76 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/76/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/76/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12835&quot; title=&quot;HBASE-12422 changed new HTable(Configuration) to not use managed Connections anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12835&quot;&gt;&lt;del&gt;HBASE-12835&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12422&quot; title=&quot;Use ConnectionFactory in HTable constructors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12422&quot;&gt;&lt;del&gt;HBASE-12422&lt;/del&gt;&lt;/a&gt; changed new HTable(Configuration) to not use managed Connections anymore (enis: rev 8470936d763a86dca0bdd65345dee799011166fb)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14274586" author="enis" created="Tue, 13 Jan 2015 02:00:26 +0000"  >&lt;p&gt;It did not fail in master, and does not fail in branch-1.0. I&apos;m inspecting the changes in the test between branches. &lt;/p&gt;</comment>
                            <comment id="14274587" author="hudson" created="Tue, 13 Jan 2015 02:01:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #653 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/653/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/653/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12835&quot; title=&quot;HBASE-12422 changed new HTable(Configuration) to not use managed Connections anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12835&quot;&gt;&lt;del&gt;HBASE-12835&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12422&quot; title=&quot;Use ConnectionFactory in HTable constructors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12422&quot;&gt;&lt;del&gt;HBASE-12422&lt;/del&gt;&lt;/a&gt; changed new HTable(Configuration) to not use managed Connections anymore (enis: rev fb44b267b870ab40faa1edd1860f22081ab387c6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HTable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14274610" author="enis" created="Tue, 13 Jan 2015 02:22:37 +0000"  >&lt;p&gt;This addendum fixes the problem for me. This is only for branch-1. Thanks Andrew for reporting. &lt;/p&gt;</comment>
                            <comment id="14274619" author="apurtell" created="Tue, 13 Jan 2015 02:43:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14274626" author="enis" created="Tue, 13 Jan 2015 02:53:20 +0000"  >&lt;p&gt;I&apos;ve committed the addendum to branch-1. &lt;/p&gt;</comment>
                            <comment id="14274700" author="hudson" created="Tue, 13 Jan 2015 04:42:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #77 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/77/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/77/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12835&quot; title=&quot;HBASE-12422 changed new HTable(Configuration) to not use managed Connections anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12835&quot;&gt;&lt;del&gt;HBASE-12835&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12422&quot; title=&quot;Use ConnectionFactory in HTable constructors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12422&quot;&gt;&lt;del&gt;HBASE-12422&lt;/del&gt;&lt;/a&gt; changed new HTable(Configuration) to not use managed Connections anymore - ADDENDUM for test failure (enis: rev 6e45269f2c668bdf57163d4d18aa6f6a2694c0f9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14331779" author="enis" created="Sat, 21 Feb 2015 23:49:03 +0000"  >&lt;p&gt;Closing this issue after 1.0.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12766527">HBASE-12833</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12768172">HBASE-12876</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12774570">HBASE-13027</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12691826" name="hbase-12835_addendum.patch" size="802" author="enis" created="Tue, 13 Jan 2015 02:22:37 +0000"/>
                            <attachment id="12691419" name="hbase-12835_v1.patch" size="1134" author="enis" created="Fri, 9 Jan 2015 23:03:45 +0000"/>
                            <attachment id="12691712" name="hbase-12835_v2.patch" size="1152" author="enis" created="Mon, 12 Jan 2015 19:39:28 +0000"/>
                            <attachment id="12691421" name="hbase-12835_v2.patch" size="1152" author="enis" created="Fri, 9 Jan 2015 23:13:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Jan 2015 22:33:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i247sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>