<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:43:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7215/HBASE-7215.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7215] Put, Delete, Increment, Result, all all HBase M/R classes still implement/use Writable</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7215</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Making blocker as suggested by Stack.&lt;/p&gt;

&lt;p&gt;At least the following still use Put/Delete as writables.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;IdentityTableReduce.java&lt;/li&gt;
	&lt;li&gt;MultiPut.java&lt;/li&gt;
	&lt;li&gt;HRegionServer.checkAndMutate&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12617554">HBASE-7215</key>
            <summary>Put, Delete, Increment, Result, all all HBase M/R classes still implement/use Writable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="lhofhansl">Lars Hofhansl</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Nov 2012 02:33:51 +0000</created>
                <updated>Mon, 23 Sep 2013 18:31:05 +0000</updated>
                            <resolved>Thu, 29 Nov 2012 22:20:09 +0000</resolved>
                                                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                            <comments>
                            <comment id="13503612" author="lhofhansl" created="Mon, 26 Nov 2012 03:05:59 +0000"  >&lt;p&gt;Result.java also still implements Writable.&lt;/p&gt;

&lt;p&gt;The sticky part is that M/R expects Writables. So if we have Put/Delete not as Writable they cannot be used in M/R, but if we keep them as Writable we are not using protobufs everywhere and hence we do not have wire compatibility.&lt;/p&gt;

&lt;p&gt;Maybe readFields and write could be implemented in terms of protobuf, so that we still have Writables, but all encoding/decoding is done by protobuf.&lt;/p&gt;</comment>
                            <comment id="13503624" author="lhofhansl" created="Mon, 26 Nov 2012 05:26:46 +0000"  >&lt;p&gt;After some looking... If we want continue to support Put/Delete/Result in M/R, using protobufs to implement readFields and write is the only way out.&lt;/p&gt;

&lt;p&gt;In Writable.write(DataOutput) we&apos;d create the write Mutate protobuf object, write that to a bytearray and then write that byte array into the DataOutput. It&apos;s too bad we only have a DataOutut here and not an OutputStream, othewise we could just stream the protobuf object through that stream, saving one copy of all the data.&lt;br/&gt;
In Writable.readFields we do something akin to ProtoBufutil.toDelete after we read the Mutate object from the stream.&lt;/p&gt;

&lt;p&gt;That means the data is not streamed, but instead materialized in memory three&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; times in these cases (the object itself, its protobuf representation, and the byte array to be sent across the wire).&lt;/p&gt;

&lt;p&gt;I&apos;d welcome any better ideas!&lt;/p&gt;</comment>
                            <comment id="13504023" author="lhofhansl" created="Mon, 26 Nov 2012 19:41:37 +0000"  >&lt;p&gt;How about I make a patch with that, and then we can see how to improve it. I assume we want to avoid importing generated protobuf classes in Put/Delete (because they are in the client interface), which complicates things further.&lt;/p&gt;</comment>
                            <comment id="13504025" author="stack" created="Mon, 26 Nov 2012 19:43:35 +0000"  >&lt;p&gt;I thought the MR requirement that we do Writables was undone by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7024&quot; title=&quot;TableMapReduceUtil.initTableMapperJob unnecessarily limits the types of outputKeyClass and outputValueClass&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7024&quot;&gt;&lt;del&gt;HBASE-7024&lt;/del&gt;&lt;/a&gt;?  My guess is there is more work to be done there still&lt;/p&gt;</comment>
                            <comment id="13504128" author="stack" created="Mon, 26 Nov 2012 21:43:22 +0000"  >&lt;p&gt;In hadoop, there is a &lt;a href=&quot;http://hadoop.apache.org/docs/r1.0.4/api/org/apache/hadoop/io/serializer/SerializationFactory.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/docs/r1.0.4/api/org/apache/hadoop/io/serializer/SerializationFactory.html&lt;/a&gt;  It defaults Writables.  We&apos;d make it default pb in 0.96.&lt;/p&gt;</comment>
                            <comment id="13504157" author="lhofhansl" created="Mon, 26 Nov 2012 21:50:54 +0000"  >&lt;p&gt;I see, cool. Makes we want to delete my comment above, but I&apos;ll refrain &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13504285" author="lhofhansl" created="Tue, 27 Nov 2012 01:15:44 +0000"  >&lt;p&gt;Sketch of a patch. The only testing I have done is making sure it compiles.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;adds Serialization for Mutation and Result&lt;/li&gt;
	&lt;li&gt;rejigger out M/R support to use that&lt;/li&gt;
	&lt;li&gt;remove all Writable stuff from Put, Delete, Increment, and Result.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Please have a careful look, this is new&apos;ish territory for me.&lt;/p&gt;</comment>
                            <comment id="13504385" author="lhofhansl" created="Tue, 27 Nov 2012 05:38:57 +0000"  >&lt;p&gt;This makes TestFromClientSide time out, apparently it can no longer contact the master.&lt;br/&gt;
I do not think I&apos;ll have a lot of time in the coming weeks to track that down.&lt;/p&gt;</comment>
                            <comment id="13504387" author="lhofhansl" created="Tue, 27 Nov 2012 05:43:41 +0000"  >&lt;p&gt;TestFromClientSide passed without the changes to Result.java. Hmm.&lt;/p&gt;</comment>
                            <comment id="13504431" author="lhofhansl" created="Tue, 27 Nov 2012 07:52:11 +0000"  >&lt;p&gt;Tracked it down anyway. In HRegionServer.doBatchOp we used to build protobuf parameters using the real Result object. That worked by pure accident, because Result happened to be a Writable.&lt;/p&gt;</comment>
                            <comment id="13504445" author="lhofhansl" created="Tue, 27 Nov 2012 08:21:50 +0000"  >&lt;p&gt;Patch that at least passes TestFromClientSide. Also removes Writable from Action, MultiAction, and MultiResponse.&lt;/p&gt;

&lt;p&gt;In general I am quite disappointed about the current state of protobuf&apos;ing work.&lt;br/&gt;
This looks unprofessional, where somebody just lost interest in finishing the cleanup work. We can do better than this.&lt;/p&gt;

&lt;p&gt;The Writable stuff is still &lt;b&gt;all over&lt;/b&gt; the place, sometimes mixed together with the protobuf stuff (as in the case that I fixed where the Result was serialized as a Writable inside the protobuf response).&lt;/p&gt;

&lt;p&gt;Why is HBaseObjectWritable still around?&lt;br/&gt;
I will only believe that we protobuf&apos;ed everything when HBaseObjectWritable is gone for good.&lt;/p&gt;

&lt;p&gt;(Sorry for the rant)&lt;/p&gt;</comment>
                            <comment id="13504750" author="stack" created="Tue, 27 Nov 2012 16:49:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; We can&apos;t release 0.96 till all Writables are gone.  Mind ranting over on dev list?  Perhaps on hbase 0.96 thread?&lt;/p&gt;</comment>
                            <comment id="13504817" author="stack" created="Tue, 27 Nov 2012 18:28:54 +0000"  >&lt;p&gt;I started to review but it is going to take a while and it looks like could go deeper still.   I&apos;ll be back....&lt;/p&gt;</comment>
                            <comment id="13504866" author="gchanan" created="Tue, 27 Nov 2012 19:36:13 +0000"  >&lt;p&gt;I think your rant is justified, no need to apologize &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  I removed the writable code from Append, Get, RowMutations, and Scan because it was on the path of what I was working on (converting Filters), but it looks like we never circled back to make sure this was done in all areas.&lt;/p&gt;

&lt;p&gt;You mind posting this on review board, Lars?&lt;/p&gt;

&lt;p&gt;One thing I noticed scanning the patch is that there are still no-arg constructors for Writables that could probably be removed, e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   /** Constructor &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Writable.  DO NOT USE */
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Delete() {
     &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;((&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [])&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13504879" author="ghelmling" created="Tue, 27 Nov 2012 19:46:57 +0000"  >&lt;p&gt;For coprocessor endpoints, we have&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6895&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-6895&lt;/a&gt; as an umbrella issue for&lt;br/&gt;
removing the Writable based CoprocessorProtocol support.&lt;/p&gt;

&lt;p&gt;There are still a few subtasks to work through to get there, but once done&lt;br/&gt;
we can pull out CoprocessorProtocol, Exec, ExecResult,&lt;br/&gt;
HTable.coprocessorProxy(), HTable.coprocessorExec() and any other&lt;br/&gt;
supporting code.&lt;/p&gt;


</comment>
                            <comment id="13504888" author="apurtell" created="Tue, 27 Nov 2012 19:53:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;I will only believe that we protobuf&apos;ed everything when HBaseObjectWritable is gone for good.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1, could start with removing HBaseObjectWritable and commit the result when everything works again.&lt;/p&gt;

&lt;p&gt;Easy to say, hard to find the time. &lt;/p&gt;

&lt;p&gt;But I agree with the sentiment we shouldn&apos;t ship 0.96 in this half-state.&lt;/p&gt;</comment>
                            <comment id="13504928" author="stack" created="Tue, 27 Nov 2012 20:34:36 +0000"  >&lt;p&gt;I have a few test failures when I run the patch.  Let me try and fix and address Gregory&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="13504967" author="lhofhansl" created="Tue, 27 Nov 2012 21:33:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gchanan&quot; class=&quot;user-hover&quot; rel=&quot;gchanan&quot;&gt;Gregory Chanan&lt;/a&gt; Yep, need to remove the constructors too. I&apos;ll post of RB.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; I expect there to be a lot of test failures &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Lemme do another pass.&lt;/p&gt;</comment>
                            <comment id="13504998" author="stack" created="Tue, 27 Nov 2012 22:06:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; I&apos;m on it&lt;/p&gt;</comment>
                            <comment id="13504999" author="stack" created="Tue, 27 Nov 2012 22:08:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; Currently trying to figure out how to make MR work; next used to overwrite the Result you passed in.  You can&apos;t do that w/ our pb&apos;ing.&lt;/p&gt;</comment>
                            <comment id="13505042" author="lhofhansl" created="Tue, 27 Nov 2012 22:53:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;next used to overwrite the Result you passed in&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;For that I added a copyFrom(Result) method to Result. It&apos;s a problem with Mapred, MapReduce does not do this nonsense.&lt;/p&gt;</comment>
                            <comment id="13505043" author="lhofhansl" created="Tue, 27 Nov 2012 22:54:52 +0000"  >&lt;p&gt;Do you have a list of failing tests, maybe we can divvy that up.&lt;/p&gt;</comment>
                            <comment id="13505059" author="stack" created="Tue, 27 Nov 2012 23:37:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; I see that now.   Its ugly but works (smile).... it makes the Result mutable unfortunately... but hey.  Let me put up my patch removing null Constructors w/ fixes in TestMultiParallel which was failing if empty Result.  Ditto TestTimestampsFilter.&lt;/p&gt;
</comment>
                            <comment id="13505060" author="stack" created="Tue, 27 Nov 2012 23:39:35 +0000"  >&lt;p&gt;Lars&apos; patch w/ some null constructor&apos;s removed and some fixes in tests to deal better w/ Result that has no kvs.&lt;/p&gt;</comment>
                            <comment id="13505070" author="stack" created="Tue, 27 Nov 2012 23:55:56 +0000"  >&lt;p&gt;Maybe we should keep Result immutable and have a MutableResult in the mapred package where its needed?  Here is patch showing what it&apos;d look like.  Then we could keep Result immutable.&lt;/p&gt;</comment>
                            <comment id="13505078" author="hadoopqa" created="Wed, 28 Nov 2012 00:04:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555084/7215v3_mutableresult.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555084/7215v3_mutableresult.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3411//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3411//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13505091" author="stack" created="Wed, 28 Nov 2012 00:22:48 +0000"  >&lt;p&gt;Should have included this in the last patch posted.&lt;/p&gt;</comment>
                            <comment id="13505092" author="stack" created="Wed, 28 Nov 2012 00:23:46 +0000"  >&lt;p&gt;Retry (assume hadoopqa picked up my sketch patch)&lt;/p&gt;</comment>
                            <comment id="13505102" author="hadoopqa" created="Wed, 28 Nov 2012 00:38:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555081/7215v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555081/7215v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 15 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 99 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 22 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.thrift2.TestThriftHBaseServiceHandler&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestMultithreadedTableMapper&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestHRegion&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestMultipleTimestamps&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALPlayer&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestBlocksRead&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3410//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13505122" author="lhofhansl" created="Wed, 28 Nov 2012 00:55:17 +0000"  >&lt;p&gt;Did you forget to include MutableResult? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
(I assume it&apos;s just a wrapper delegating to Result delegate)&lt;/p&gt;</comment>
                            <comment id="13505124" author="lhofhansl" created="Wed, 28 Nov 2012 00:57:44 +0000"  >&lt;p&gt;Let&apos;s do that instead (MutableResult)&lt;/p&gt;</comment>
                            <comment id="13505126" author="lhofhansl" created="Wed, 28 Nov 2012 00:58:17 +0000"  >&lt;p&gt;All the M/R tests fail... I&apos;ll have a look at that as soon as I get a chance.&lt;/p&gt;</comment>
                            <comment id="13505134" author="stack" created="Wed, 28 Nov 2012 01:12:50 +0000"  >&lt;p&gt;I&apos;ll redo the patch w/ MutableResult included.  Will also take a look see at MR failures.  They are fun to look at (all the datanodes, regionservers, and tasktrackers all spinning in the one little heap)&lt;/p&gt;</comment>
                            <comment id="13505143" author="hadoopqa" created="Wed, 28 Nov 2012 01:29:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555088/7215v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555088/7215v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 15 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 99 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 22 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.thrift2.TestThriftHBaseServiceHandler&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestBlocksRead&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALPlayer&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestMultithreadedTableMapper&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestMultipleTimestamps&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestHRegion&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.TestDrainingServer&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
                  org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3412//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13505147" author="lhofhansl" created="Wed, 28 Nov 2012 01:31:40 +0000"  >&lt;p&gt;I see. Result.kvs could have never been null before.&lt;br/&gt;
Is this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.row = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.kvs == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.kvs.length == 0? &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.kvs[0].getRow();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Easier on the eyes when expressed like this?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.row = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.kvs == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.kvs.length == 0 ? &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; : &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.kvs[0].getRow();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13505192" author="lhofhansl" created="Wed, 28 Nov 2012 02:58:47 +0000"  >&lt;p&gt;The M/R tests fail because:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;for mapred I forgot to setup the Serilization&lt;/li&gt;
	&lt;li&gt;the IdentyReducers still user Writables (and still something else I haven&apos;t figured out, yet).&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;#2 actually poses an interesting problem. Right now we use Writable as a common super class to declare the M/R jobs. Now each class we use there needs its own serializer. For example for Import we&apos;d have to add a serializer for KeyValue (which means KeyValues need to be supported directly by protobufs).&lt;/p&gt;</comment>
                            <comment id="13505196" author="lhofhansl" created="Wed, 28 Nov 2012 03:09:10 +0000"  >&lt;p&gt;Or more to the point. In order to support both Put/Delete/Mutation and KeyValue, a TableReducer needs to also declare its output value type (it can no longer be set to Writable) (see TableReducer.java)&lt;/p&gt;</comment>
                            <comment id="13505264" author="stack" created="Wed, 28 Nov 2012 07:11:48 +0000"  >&lt;p&gt;I changed my mind about MutateResult.  We are already going to be pissing people off.  We can let Result as is w/ its copyFrom for mapred.&lt;/p&gt;

&lt;p&gt;Will do as you suggest.&lt;/p&gt;

&lt;p&gt;Will have a go at the MR stuff tomorrow too... (looks ugly).&lt;/p&gt;
</comment>
                            <comment id="13505269" author="lhofhansl" created="Wed, 28 Nov 2012 07:27:58 +0000"  >&lt;p&gt;I have found the problem with M/R. protobuf&apos;s parseFrom apparently wants to read until EOF. But in this case many messages are serialized over the same stream. So needed to use parseDelimitedFrom and writeDelimitedTo. Also had to change TableOutputFormat to accept Mutations instead of Writables.&lt;/p&gt;

&lt;p&gt;I also changed the generics signature of TableReducer and IdentityReducer. It might not be as bad as we think as these always only supported Put and Delete, so instead of Writable they just need to be declared with Mutation.&lt;br/&gt;
New patch coming up momentarily.&lt;/p&gt;</comment>
                            <comment id="13505272" author="lhofhansl" created="Wed, 28 Nov 2012 07:31:10 +0000"  >&lt;p&gt;Starting to feel a bit better about this now.&lt;br/&gt;
(In nothing else this was a good exercise to dive into the depth of M/R serialization and protobufs) &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13505299" author="hadoopqa" created="Wed, 28 Nov 2012 08:34:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555130/7215v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555130/7215v4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 15 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 99 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 22 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestMultipleTimestamps&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestHRegion&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestWALPlayer&lt;br/&gt;
                  org.apache.hadoop.hbase.thrift2.TestThriftHBaseServiceHandler&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestBlocksRead&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3417//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13505777" author="lhofhansl" created="Wed, 28 Nov 2012 18:52:57 +0000"  >&lt;p&gt;Fixes a few more wrinkles.&lt;br/&gt;
TestImportTsv still fails.&lt;/p&gt;</comment>
                            <comment id="13505805" author="lhofhansl" created="Wed, 28 Nov 2012 19:16:46 +0000"  >&lt;p&gt;Fix for ImportTsv (needed to setup the Serialization, because it&apos;s not using TableMapReduceUtil in all cases)&lt;/p&gt;</comment>
                            <comment id="13505815" author="stack" created="Wed, 28 Nov 2012 19:24:36 +0000"  >&lt;p&gt;The changes in &apos;hbase-server/src/test/java/org/apache/hadoop/hbase/mapred/TestTableInputFormat.java&apos; seem unnecessary (might be my fault)&lt;/p&gt;

&lt;p&gt;We still have to get rid of WritableComparable.  Can do in another JIRA.&lt;/p&gt;

&lt;p&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java adds imports but doesn&apos;t seem to use them (bleed from another patch?)&lt;/p&gt;

&lt;p&gt;ResultSerialization is missing license&lt;/p&gt;

&lt;p&gt;Patch looking good.&lt;/p&gt;</comment>
                            <comment id="13505865" author="lhofhansl" created="Wed, 28 Nov 2012 20:17:00 +0000"  >&lt;p&gt;Addressed Stacks comments.&lt;br/&gt;
Will wait for test results, if that looks good I&apos;ll post to RB.&lt;/p&gt;</comment>
                            <comment id="13505928" author="lhofhansl" created="Wed, 28 Nov 2012 21:42:28 +0000"  >&lt;p&gt;Not sure why HadoopQA is not picking this up. Trying again.&lt;/p&gt;</comment>
                            <comment id="13505953" author="lhofhansl" created="Wed, 28 Nov 2012 22:03:07 +0000"  >&lt;p&gt;Maybe re-attaching will do it?&lt;/p&gt;</comment>
                            <comment id="13506055" author="lhofhansl" created="Wed, 28 Nov 2012 23:44:06 +0000"  >&lt;p&gt;HadoopQA is on holiday it seems.&lt;/p&gt;</comment>
                            <comment id="13506196" author="stack" created="Thu, 29 Nov 2012 04:00:07 +0000"  >&lt;p&gt;These failed on me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Results :

Failed tests:   testCyclicReplication(org.apache.hadoop.hbase.replication.TestMasterReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  testSimplePutDelete(org.apache.hadoop.hbase.replication.TestMasterReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  testMultiSlaveReplication(org.apache.hadoop.hbase.replication.TestMultiSlaveReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  testDeleteTypes(org.apache.hadoop.hbase.replication.TestReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; put replication
  queueFailover(org.apache.hadoop.hbase.replication.TestReplication): Waited too much time &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; queueFailover replication. Waited 40172ms.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13506245" author="stack" created="Thu, 29 Nov 2012 06:13:09 +0000"  >&lt;p&gt;Ugh.  These tests fail w/o this patch.  These are the only ones that fail.  I think you should commit the patch because I need it committed so I can purge other Writable stuff.&lt;/p&gt;</comment>
                            <comment id="13506246" author="stack" created="Thu, 29 Nov 2012 06:14:49 +0000"  >&lt;p&gt;I spent time looking at the failure.  For TestMasterReplication adding a pause in putAndWait after we put and before we cycle on the gets waiting five seconds makes it pass.  Not sure what this about.  In logs I can see the replication of the edit so it should be picking it up.  Will ask j-d in morning now he&apos;s back.&lt;/p&gt;</comment>
                            <comment id="13506586" author="hadoopqa" created="Thu, 29 Nov 2012 16:54:47 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555249/7215v7.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555249/7215v7.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 99 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 25 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3419//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13506662" author="stack" created="Thu, 29 Nov 2012 18:49:32 +0000"  >&lt;p&gt;I&apos;m running hadoopqa manually.  Rerunning again after the above inconclusive test result.&lt;/p&gt;</comment>
                            <comment id="13506704" author="hadoopqa" created="Thu, 29 Nov 2012 19:27:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12555249/7215v7.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12555249/7215v7.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 99 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 25 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3420//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13506720" author="lhofhansl" created="Thu, 29 Nov 2012 19:48:03 +0000"  >&lt;p&gt;That looks pretty good!&lt;br/&gt;
Should probably still upload to RB for easier review.&lt;/p&gt;

&lt;p&gt;Two sticky points I know about:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Result deserialization used to do 8k chunked reading from the input stream to avoid OOM&apos;ing on the JVMs direct memory. I have no idea how protobufs reads from the stream when deserializing so we may get that problem back.&lt;/li&gt;
	&lt;li&gt;The size metric in ScannerCallable was broken when protobufs were introduced, because that just measured the size of the bytes stream (that is no longer filled with protobufs). This patch just comments that part, because it was broken anyway.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13506721" author="stack" created="Thu, 29 Nov 2012 19:48:05 +0000"  >&lt;p&gt;+1 on commit&lt;/p&gt;</comment>
                            <comment id="13506733" author="stack" created="Thu, 29 Nov 2012 19:56:19 +0000"  >&lt;p&gt;Make new issues for the two probs above?&lt;/p&gt;</comment>
                            <comment id="13506739" author="lhofhansl" created="Thu, 29 Nov 2012 20:03:12 +0000"  >&lt;p&gt;Filed two sub tasks. OK will commit in the next hour without an extra RB review unless I hear objections.&lt;/p&gt;</comment>
                            <comment id="13506881" author="lhofhansl" created="Thu, 29 Nov 2012 22:20:09 +0000"  >&lt;p&gt;Committed to trunk.&lt;br/&gt;
Thanks for the help and review Stack.&lt;/p&gt;</comment>
                            <comment id="13506961" author="hudson" created="Fri, 30 Nov 2012 00:00:43 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3580 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3580/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3580/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7215&quot; title=&quot;Put, Delete, Increment, Result, all all HBase M/R classes still implement/use Writable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7215&quot;&gt;&lt;del&gt;HBASE-7215&lt;/del&gt;&lt;/a&gt; Put, Delete, Increment, Result, all all HBase M/R classes still implement/use Writable (Revision 1415412)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-examples/src/main/java/org/apache/hadoop/hbase/mapreduce/IndexBuilder.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Action.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Append.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Delete.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Get.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Increment.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiAction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiPut.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiPutResponse.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiResponse.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/OperationWithAttributes.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Put.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Result.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMap.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableRecordReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/IdentityTableReducer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/ImportTsv.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MutationSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/ResultSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableReducer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAttributes.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestMultiParallel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestTimestampsFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13506969" author="hudson" created="Fri, 30 Nov 2012 00:09:25 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #280 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/280/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/280/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7215&quot; title=&quot;Put, Delete, Increment, Result, all all HBase M/R classes still implement/use Writable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7215&quot;&gt;&lt;del&gt;HBASE-7215&lt;/del&gt;&lt;/a&gt; Put, Delete, Increment, Result, all all HBase M/R classes still implement/use Writable (Revision 1415412)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
larsh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-examples/src/main/java/org/apache/hadoop/hbase/mapreduce/IndexBuilder.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Action.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Append.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Delete.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Get.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Increment.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiAction.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiPut.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiPutResponse.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/MultiResponse.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/OperationWithAttributes.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Put.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Result.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/HBaseClient.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMap.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableRecordReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapred/TableReduce.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/IdentityTableReducer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/ImportTsv.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MutationSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/ResultSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableMapReduceUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableReducer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/rest/client/RemoteHTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/TestSerialization.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAttributes.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestMultiParallel.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestTimestampsFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775255" author="stack" created="Mon, 23 Sep 2013 18:31:05 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12618053">HBASE-7232</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12554266">HBASE-5954</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12540505">HBASE-5305</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12615566">HBASE-7141</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12554978" name="7215-v2.txt" size="61429" author="lhofhansl" created="Tue, 27 Nov 2012 08:21:50 +0000"/>
                            <attachment id="12555088" name="7215v3.txt" size="82457" author="stack" created="Wed, 28 Nov 2012 00:23:46 +0000"/>
                            <attachment id="12555084" name="7215v3_mutableresult.txt" size="6806" author="stack" created="Tue, 27 Nov 2012 23:55:56 +0000"/>
                            <attachment id="12555130" name="7215v4.txt" size="84625" author="lhofhansl" created="Wed, 28 Nov 2012 07:31:10 +0000"/>
                            <attachment id="12555219" name="7215v5.txt" size="87091" author="lhofhansl" created="Wed, 28 Nov 2012 18:52:57 +0000"/>
                            <attachment id="12555225" name="7215v6.txt" size="87855" author="lhofhansl" created="Wed, 28 Nov 2012 19:16:46 +0000"/>
                            <attachment id="12555249" name="7215v7.txt" size="87421" author="lhofhansl" created="Wed, 28 Nov 2012 22:03:07 +0000"/>
                            <attachment id="12555235" name="7215v7.txt" size="87421" author="lhofhansl" created="Wed, 28 Nov 2012 20:17:00 +0000"/>
                            <attachment id="12554944" name="7251-SKETCH.txt" size="50083" author="lhofhansl" created="Tue, 27 Nov 2012 01:15:44 +0000"/>
                            <attachment id="12555087" name="MutableResult.java" size="403" author="stack" created="Wed, 28 Nov 2012 00:22:48 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12618210">HBASE-7238</subtask>
                            <subtask id="12618212">HBASE-7239</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Nov 2012 19:43:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rr9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch removes the following Public Evolving APIs:&lt;br/&gt;
&lt;br/&gt;
ImmutableBytesWritable Result#getBytes&lt;br/&gt;
void Result#readFields(DataInput)&lt;br/&gt;
long Result#getWritableSize()&lt;br/&gt;
void Result#write(DataOutput)&lt;br/&gt;
static long Result#getWriteArraySize(Result[])&lt;br/&gt;
static void writeArray(DataOutput, Result[])&lt;br/&gt;
static Result[] Result#readArray(DataInput)&lt;br/&gt;
&lt;br/&gt;
Writable in MR related classes have been replaced with the new Mutation abstract class.&lt;br/&gt;
&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>