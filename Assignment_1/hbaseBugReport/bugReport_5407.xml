<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:27:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5407/HBASE-5407.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5407] Show the per-region level request/sec count in the web ui</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5407</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It would be nice to show the per-region level request/sec count in the web ui, especially when debugging the hot region problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542738">HBASE-5407</key>
            <summary>Show the per-region level request/sec count in the web ui</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="liyin">Liyin Tang</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2012 19:47:03 +0000</created>
                <updated>Fri, 24 Feb 2012 00:07:30 +0000</updated>
                            <resolved>Fri, 24 Feb 2012 00:07:30 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13208736" author="jdcryans" created="Wed, 15 Feb 2012 19:54:21 +0000"  >&lt;p&gt;Isn&apos;t that already in 0.92.0? Here&apos;s what it looks like:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;numberOfStores=1, numberOfStorefiles=1, storefileUncompressedSizeMB=20984, storefileSizeMB=20307, compressionRatio=0.9677, memstoreSizeMB=0, storefileIndexSizeMB=0, readRequestsCount=0, writeRequestsCount=0, rootIndexSizeKB=13, totalStaticIndexSizeKB=18788, totalStaticBloomSizeKB=23296, totalCompactingKVs=40636900, currentCompactedKVs=20887752, compactionProgressPct=0.0, coprocessors=[]&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13208742" author="liyin" created="Wed, 15 Feb 2012 20:01:41 +0000"  >&lt;p&gt;Awesome! Thanks Jean. I think I just need to port this patch.&lt;/p&gt;</comment>
                            <comment id="13208745" author="liyin" created="Wed, 15 Feb 2012 20:04:40 +0000"  >&lt;p&gt;BTW, does the writeRequestsCount mean the write request/sec ? Or this is an aggregated number ?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13208961" author="jdcryans" created="Wed, 15 Feb 2012 23:31:00 +0000"  >&lt;p&gt;It&apos;s the total number.&lt;/p&gt;</comment>
                            <comment id="13208995" author="liyin" created="Thu, 16 Feb 2012 00:03:59 +0000"  >&lt;p&gt;The total number is very useful and it would be nice to add the request/sec on the web UI as well. I have updated the title and description for the jira. Thanks Jean for the heads up.&lt;/p&gt;</comment>
                            <comment id="13210434" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 18:41:57 +0000"  >&lt;p&gt;Liyin requested code review of &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;br/&gt;
Reviewers: Kannan, Karthik&lt;/p&gt;

&lt;p&gt;  It would be nice to show the per-region level request/sec count in the web ui, especially when debugging the hot region problem.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Tested on the dev cluster&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3795/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3795/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13210435" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 18:41:59 +0000"  >&lt;p&gt;Liyin requested code review of &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;br/&gt;
Reviewers: Kannan, Karthik&lt;/p&gt;

&lt;p&gt;  It would be nice to show the per-region level request/sec count in the web ui, especially when debugging the hot region problem.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Tested on the dev cluster&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3795/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3795/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13210437" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 18:43:57 +0000"  >&lt;p&gt;Liyin requested code review of &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;br/&gt;
Reviewers: Kannan, Karthik&lt;/p&gt;

&lt;p&gt;  It would be nice to show the per-region level request/sec count in the web ui, especially when debugging the hot region problem.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Tested on the dev cluster&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3795/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3795/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13210450" author="stack" created="Fri, 17 Feb 2012 19:04:15 +0000"  >&lt;p&gt;Liyin.  Is this a backport for 0.89fb?   If so, is there something you&apos;ve added to your backport that we should have in trunk?  Thanks boss.&lt;/p&gt;</comment>
                            <comment id="13210455" author="liyin" created="Fri, 17 Feb 2012 19:12:30 +0000"  >&lt;p&gt;Hi Stack. &lt;br/&gt;
This patch is to add total read/write request number and read/write request per second for each region in 89-fb branch.&lt;br/&gt;
For the apache trunk, I will also need to add the read/write request per second only.&lt;/p&gt;</comment>
                            <comment id="13213433" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 07:54:47 +0000"  >&lt;p&gt;khemani has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 I can&apos;t spot interval being referred in the jsp anywhere&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 What forces the getRequestPerSecond() to be periodically called? What if it isn&apos;t called for a long time - then the req/sec will not really be for the last few seconds ...&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213434" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 07:54:49 +0000"  >&lt;p&gt;khemani has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 I can&apos;t spot interval being referred in the jsp anywhere&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 What forces the getRequestPerSecond() to be periodically called? What if it isn&apos;t called for a long time - then the req/sec will not really be for the last few seconds ...&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213435" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 07:54:50 +0000"  >&lt;p&gt;khemani has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 I can&apos;t spot interval being referred in the jsp anywhere&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 What forces the getRequestPerSecond() to be periodically called? What if it isn&apos;t called for a long time - then the req/sec will not really be for the last few seconds ...&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213436" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 07:54:52 +0000"  >&lt;p&gt;khemani has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 I can&apos;t spot interval being referred in the jsp anywhere&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 What forces the getRequestPerSecond() to be periodically called? What if it isn&apos;t called for a long time - then the req/sec will not really be for the last few seconds ...&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213901" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 19:29:47 +0000"  >&lt;p&gt;Liyin has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks Prakash&apos;s comments.  Answer them inline.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 In the run function of the HRegion server will periodically (hbase.regionserver.msginterval) call createRegionLoad, which will refresh the request/sec metrics. It follows the same way how other metrics get updated.&lt;/p&gt;

&lt;p&gt;  Also when you refresh the web page, this function will be called as well.&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 sure. I will remove them.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213902" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 19:29:48 +0000"  >&lt;p&gt;Liyin has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks Prakash&apos;s comments.  Answer them inline.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 In the run function of the HRegion server will periodically (hbase.regionserver.msginterval) call createRegionLoad, which will refresh the request/sec metrics. It follows the same way how other metrics get updated.&lt;/p&gt;

&lt;p&gt;  Also when you refresh the web page, this function will be called as well.&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 sure. I will remove them.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213903" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 19:29:49 +0000"  >&lt;p&gt;Liyin has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks Prakash&apos;s comments.  Answer them inline.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 In the run function of the HRegion server will periodically (hbase.regionserver.msginterval) call createRegionLoad, which will refresh the request/sec metrics. It follows the same way how other metrics get updated.&lt;/p&gt;

&lt;p&gt;  Also when you refresh the web page, this function will be called as well.&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 sure. I will remove them.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213904" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 19:29:50 +0000"  >&lt;p&gt;Liyin has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks Prakash&apos;s comments.  Answer them inline.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/metrics/RequestMetrics.java:53 In the run function of the HRegion server will periodically (hbase.regionserver.msginterval) call createRegionLoad, which will refresh the request/sec metrics. It follows the same way how other metrics get updated.&lt;/p&gt;

&lt;p&gt;  Also when you refresh the web page, this function will be called as well.&lt;br/&gt;
  src/main/resources/hbase-webapps/regionserver/regionserver.jsp:22 sure. I will remove them.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13213972" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 20:25:46 +0000"  >&lt;p&gt;khemani has accepted the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13213973" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 20:25:47 +0000"  >&lt;p&gt;khemani has accepted the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13213974" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 20:25:49 +0000"  >&lt;p&gt;khemani has accepted the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13213975" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 20:25:49 +0000"  >&lt;p&gt;khemani has accepted the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13215099" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 22:03:46 +0000"  >&lt;p&gt;Kannan has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java:279 I think these fields need not/shouldn&apos;t be part of the serialize/deserialize &amp;#8211; otherwise, we&apos;ll break client-server interop for the getClusterStatus call.&lt;/p&gt;

&lt;p&gt;  We temporarily ran into similar problem before and the relevant stack is:&lt;/p&gt;

&lt;p&gt;         at java.io.DataInputStream.readFully(DataInputStream.java:152)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad$RegionLoad.readFields(HServerLoad.java:211)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad.readFields(HServerLoad.java:512)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerInfo.readFields(HServerInfo.java:228)&lt;br/&gt;
          at org.apache.hadoop.hbase.ClusterStatus.readFields(ClusterStatus.java:226)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readObject(HbaseObjectWritable.java:489)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readFields(HbaseObjectWritable.java:230)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.receiveResponse(HBaseClient.java:534)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.run(HBaseClient.java:459)&lt;br/&gt;
  java.lang.reflect.UndeclaredThrowableException&lt;br/&gt;
          at $Proxy0.getClusterStatus(Unknown Source)&lt;br/&gt;
          at org.apache.hadoop.hbase.client.HBaseAdmin.getClusterStatus(HBaseAdmin.java:1076)&lt;/p&gt;

&lt;p&gt;  We should remove these from serialize/deserialize, but the metrics should still be available for viewing the web-ui.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13215100" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 22:03:47 +0000"  >&lt;p&gt;Kannan has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java:279 I think these fields need not/shouldn&apos;t be part of the serialize/deserialize &amp;#8211; otherwise, we&apos;ll break client-server interop for the getClusterStatus call.&lt;/p&gt;

&lt;p&gt;  We temporarily ran into similar problem before and the relevant stack is:&lt;/p&gt;

&lt;p&gt;         at java.io.DataInputStream.readFully(DataInputStream.java:152)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad$RegionLoad.readFields(HServerLoad.java:211)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad.readFields(HServerLoad.java:512)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerInfo.readFields(HServerInfo.java:228)&lt;br/&gt;
          at org.apache.hadoop.hbase.ClusterStatus.readFields(ClusterStatus.java:226)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readObject(HbaseObjectWritable.java:489)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readFields(HbaseObjectWritable.java:230)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.receiveResponse(HBaseClient.java:534)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.run(HBaseClient.java:459)&lt;br/&gt;
  java.lang.reflect.UndeclaredThrowableException&lt;br/&gt;
          at $Proxy0.getClusterStatus(Unknown Source)&lt;br/&gt;
          at org.apache.hadoop.hbase.client.HBaseAdmin.getClusterStatus(HBaseAdmin.java:1076)&lt;/p&gt;

&lt;p&gt;  We should remove these from serialize/deserialize, but the metrics should still be available for viewing the web-ui.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13215102" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 22:03:58 +0000"  >&lt;p&gt;Kannan has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java:279 I think these fields need not/shouldn&apos;t be part of the serialize/deserialize &amp;#8211; otherwise, we&apos;ll break client-server interop for the getClusterStatus call.&lt;/p&gt;

&lt;p&gt;  We temporarily ran into similar problem before and the relevant stack is:&lt;/p&gt;

&lt;p&gt;         at java.io.DataInputStream.readFully(DataInputStream.java:152)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad$RegionLoad.readFields(HServerLoad.java:211)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad.readFields(HServerLoad.java:512)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerInfo.readFields(HServerInfo.java:228)&lt;br/&gt;
          at org.apache.hadoop.hbase.ClusterStatus.readFields(ClusterStatus.java:226)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readObject(HbaseObjectWritable.java:489)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readFields(HbaseObjectWritable.java:230)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.receiveResponse(HBaseClient.java:534)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.run(HBaseClient.java:459)&lt;br/&gt;
  java.lang.reflect.UndeclaredThrowableException&lt;br/&gt;
          at $Proxy0.getClusterStatus(Unknown Source)&lt;br/&gt;
          at org.apache.hadoop.hbase.client.HBaseAdmin.getClusterStatus(HBaseAdmin.java:1076)&lt;/p&gt;

&lt;p&gt;  We should remove these from serialize/deserialize, but the metrics should still be available for viewing the web-ui.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13215103" author="phabricator@reviews.facebook.net" created="Thu, 23 Feb 2012 22:03:59 +0000"  >&lt;p&gt;Kannan has commented on the revision &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5407&quot; title=&quot;Show the per-region level request/sec count in the web ui&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5407&quot;&gt;&lt;del&gt;HBASE-5407&lt;/del&gt;&lt;/a&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;89-fb&amp;#93;&lt;/span&gt; Show the per-region level request/sec count in the web ui&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HServerLoad.java:279 I think these fields need not/shouldn&apos;t be part of the serialize/deserialize &amp;#8211; otherwise, we&apos;ll break client-server interop for the getClusterStatus call.&lt;/p&gt;

&lt;p&gt;  We temporarily ran into similar problem before and the relevant stack is:&lt;/p&gt;

&lt;p&gt;         at java.io.DataInputStream.readFully(DataInputStream.java:152)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad$RegionLoad.readFields(HServerLoad.java:211)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerLoad.readFields(HServerLoad.java:512)&lt;br/&gt;
          at org.apache.hadoop.hbase.HServerInfo.readFields(HServerInfo.java:228)&lt;br/&gt;
          at org.apache.hadoop.hbase.ClusterStatus.readFields(ClusterStatus.java:226)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readObject(HbaseObjectWritable.java:489)&lt;br/&gt;
          at org.apache.hadoop.hbase.io.HbaseObjectWritable.readFields(HbaseObjectWritable.java:230)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.receiveResponse(HBaseClient.java:534)&lt;br/&gt;
          at org.apache.hadoop.hbase.ipc.HBaseClient$Connection.run(HBaseClient.java:459)&lt;br/&gt;
  java.lang.reflect.UndeclaredThrowableException&lt;br/&gt;
          at $Proxy0.getClusterStatus(Unknown Source)&lt;br/&gt;
          at org.apache.hadoop.hbase.client.HBaseAdmin.getClusterStatus(HBaseAdmin.java:1076)&lt;/p&gt;

&lt;p&gt;  We should remove these from serialize/deserialize, but the metrics should still be available for viewing the web-ui.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1779&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1779&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  regionRequest&lt;/p&gt;</comment>
                            <comment id="13215235" author="mikhail" created="Fri, 24 Feb 2012 00:07:30 +0000"  >&lt;p&gt;Liyin: it looks like the 89-fb patch has been committed internally. As this is an 89-fb-only JIRA, resolving the issue so that we can sync internal 89-fb changes into the externally visible branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515007" name="ASF.LICENSE.NOT.GRANTED--D1779.1.patch" size="15736" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 18:43:58 +0000"/>
                            <attachment id="12515006" name="ASF.LICENSE.NOT.GRANTED--D1779.1.patch" size="15736" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 18:41:59 +0000"/>
                            <attachment id="12515005" name="ASF.LICENSE.NOT.GRANTED--D1779.1.patch" size="15736" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 18:41:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Feb 2012 19:54:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0168v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>