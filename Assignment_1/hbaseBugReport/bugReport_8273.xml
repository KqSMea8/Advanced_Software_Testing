<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:53:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8273/HBASE-8273.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8273] HColumnDescriptor setters should return void</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8273</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See discussion on dev@ mailing list, entitled &apos;Does compatibility between versions also mean binary compatibility?&apos;&lt;/p&gt;

&lt;p&gt;Synopsis from that thread:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5357&quot; title=&quot;Use builder pattern in HColumnDescriptor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5357&quot;&gt;&lt;del&gt;HBASE-5357&lt;/del&gt;&lt;/a&gt; &quot;Use builder pattern in HColumnDescriptor&quot; changed the&lt;br/&gt;
method signatures by changing &quot;void&quot; to &quot;HColumnDescriptor&quot; so it&apos; not&lt;br/&gt;
the same methods anymore.&lt;/p&gt;

&lt;p&gt;if you invoke setters&lt;br/&gt;
on HColumnDescriptor as you&apos;ll get:&lt;/p&gt;

&lt;p&gt;java.lang.NoSuchMethodError:&lt;br/&gt;
org.apache.hadoop.hbase.HColumnDescriptor.setMaxVersions(I)V&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640892">HBASE-8273</key>
            <summary>HColumnDescriptor setters should return void</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Apr 2013 23:06:55 +0000</created>
                <updated>Sat, 6 Apr 2013 14:01:13 +0000</updated>
                            <resolved>Fri, 5 Apr 2013 06:13:55 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13622942" author="jdcryans" created="Thu, 4 Apr 2013 23:10:56 +0000"  >&lt;p&gt;This would make the next 0.94 release incompatible with all the other 0.94 releases (but compatible with 0.92). Not sure this is worth it.&lt;/p&gt;</comment>
                            <comment id="13622949" author="stack" created="Thu, 4 Apr 2013 23:12:15 +0000"  >&lt;p&gt;Resolving as invalid.  Ill-specified issue.  How do I know when this issue is done?  We can&apos;t go back in time and change 0.94 releases.&lt;/p&gt;</comment>
                            <comment id="13622955" author="lhofhansl" created="Thu, 4 Apr 2013 23:14:28 +0000"  >&lt;p&gt;That would in fact be worse than a binary incompatibility between 0.92 and 0.94.&lt;br/&gt;
I was hoping there&apos;s some way to have both, but I don&apos;t see an easy way to do that.&lt;/p&gt;</comment>
                            <comment id="13623100" author="yuzhihong@gmail.com" created="Fri, 5 Apr 2013 00:14:22 +0000"  >&lt;p&gt;For the setters, there is a way to achieve compatibility between 0.92.x and 0.94.7 while keeping compatibility between 0.94.6 and 0.94.7.&lt;br/&gt;
Below is an example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java
===================================================================
--- hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java	(revision 1464795)
+++ hbase-client/src/main/java/org/apache/hadoop/hbase/HColumnDescriptor.java	(working copy)
@@ -572,6 +572,10 @@
     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;;
   }

+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMaxVersions(&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; maxVersions) {
+    setValue(HConstants.VERSIONS, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.toString(maxVersions));
+    cachedMaxVersions = maxVersions;
+  }
   /**
    * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The storefile/hfile blocksize &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; column family.
    */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Client previously compiled with 0.94.x release would pick up the existing setter in 0.94:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HColumnDescriptor setMaxVersions(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxVersions) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Client previously compiled with 0.92.x release would pick up the new setter.&lt;/p&gt;</comment>
                            <comment id="13623116" author="lhofhansl" created="Fri, 5 Apr 2013 00:24:46 +0000"  >&lt;p&gt;That&apos;s smart. Let&apos;s try that.&lt;/p&gt;</comment>
                            <comment id="13623117" author="yuzhihong@gmail.com" created="Fri, 5 Apr 2013 00:25:44 +0000"  >&lt;p&gt;Can I reopen this JIRA ?&lt;/p&gt;

&lt;p&gt;The intention is to make transition from 0.92.x to 0.94.7 easier.&lt;/p&gt;</comment>
                            <comment id="13623138" author="lhofhansl" created="Fri, 5 Apr 2013 00:56:50 +0000"  >&lt;p&gt;Let&apos;s give Ted&apos;s idea a try.&lt;/p&gt;</comment>
                            <comment id="13623323" author="jdcryans" created="Fri, 5 Apr 2013 03:46:36 +0000"  >&lt;p&gt;It doesn&apos;t work, even if I compile my client against 0.92 and pass an Integer it will just get compiled with Integer.intValue and still won&apos;t find the setMaxVersions(int).&lt;/p&gt;

&lt;p&gt;Basically, setMaxVersions(Integer) is a different signature.&lt;/p&gt;</comment>
                            <comment id="13623330" author="yuzhihong@gmail.com" created="Fri, 5 Apr 2013 03:54:26 +0000"  >&lt;p&gt;I thought client compiled against 0.92 would pass int instead of Integer.&lt;/p&gt;</comment>
                            <comment id="13623336" author="jdcryans" created="Fri, 5 Apr 2013 04:03:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt; like I said, I tried both int and Integer and the latter once compiled is still just int, and it doesn&apos;t find a method that takes an int.&lt;/p&gt;</comment>
                            <comment id="13623340" author="yuzhihong@gmail.com" created="Fri, 5 Apr 2013 04:09:26 +0000"  >&lt;p&gt;Thanks J-D for the experiment.&lt;br/&gt;
I found something that the proposed trick cannot address too:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setValue(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] key, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] value) {
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; HColumnDescriptor setValue(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] key, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] value) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I tried char[] and Byte[]. Neither of which can bind with byte[].&lt;/p&gt;

&lt;p&gt;This is a (compatibility) lesson I will remember.&lt;/p&gt;</comment>
                            <comment id="13623394" author="stack" created="Fri, 5 Apr 2013 06:13:55 +0000"  >&lt;p&gt;I closed this rubbish issue once already.  The description says nothing; in particular there is no fit criteria for when this issue has been solved.&lt;/p&gt;

&lt;p&gt;Speculation about what could work w/o an attempt at substantiation is just noise that just fills email inboxes putting load on the poor subscribers. Why is it up to others to prove whether or which it will work?&lt;/p&gt;</comment>
                            <comment id="13623411" author="lhofhansl" created="Fri, 5 Apr 2013 06:44:44 +0000"  >&lt;p&gt;I think it it was worth trying to explore this.&lt;/p&gt;

&lt;p&gt;Just my $0.02.&lt;/p&gt;</comment>
                            <comment id="13623714" author="stack" created="Fri, 5 Apr 2013 15:30:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; My point is that the &apos;this&apos; is not specified.  I am tired of inspecific issues.  Non-specificity gives leeway for them to be filled w/ crap.  This issue description points at mailing list conversation (one you have to go find yourself, no link is provided) and while a synopsis is supplied, it is NOT a synopsis of what went on on the mailing list; it is the name of a JIRA &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  There follows a sentence that we are supposed to infer relates some how to the preceding text, that talks of NoSuchMethodError.  Then look at the subject of this issue?  Should they return void?&lt;/p&gt;

&lt;p&gt;Awful.&lt;/p&gt;</comment>
                            <comment id="13624412" author="yuzhihong@gmail.com" created="Sat, 6 Apr 2013 14:01:13 +0000"  >&lt;p&gt;I logged this JIRA with an attempt to solve the binary compatibility issue.&lt;/p&gt;

&lt;p&gt;After further investigation, it turns out binary compatibility can be achieved between 0.92.3 and 0.94.7 in the following way:&lt;br/&gt;
1. introduce an interface, called X e.g., in 0.92(.3) with the setters for HColumnDescriptor&lt;br/&gt;
2. introduce an interface, called Y e.g., in 0.94(.7) with the setters for HColumnDescriptor where build pattern is supported&lt;br/&gt;
3. write Java assembly code in 0.94(.7) for HColumnDescriptor supporting both interfaces&lt;/p&gt;

&lt;p&gt;Client code does not need reflection to use those methods.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Apr 2013 23:10:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jg2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>