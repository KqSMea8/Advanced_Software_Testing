<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:32:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5939/HBASE-5939.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5939] Add an autorestart option in the start scripts</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5939</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When a binary dies on a server, we don&apos;t try to restart it while it would be possible in most cases.&lt;/p&gt;

&lt;p&gt;We can have something as:&lt;br/&gt;
loop&lt;br/&gt;
 start&lt;br/&gt;
 wait&lt;br/&gt;
 if cleanStop then exit&lt;br/&gt;
 if already stopped less than 5 minutes ago sleep 5 minute&lt;br/&gt;
endloop&lt;/p&gt;

&lt;p&gt;This is simple for master &amp;amp; backup master, a little bit more complex for the region server as it can be stopped by a script or by the shutdown procedure.&lt;/p&gt;

&lt;p&gt;On a long long term it could allow a restart with exactly the same assignments.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12553960">HBASE-5939</key>
            <summary>Add an autorestart option in the start scripts</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 May 2012 16:27:58 +0000</created>
                <updated>Wed, 23 Mar 2016 23:12:27 +0000</updated>
                            <resolved>Fri, 11 May 2012 23:50:22 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.95.0</fixVersion>
                                    <component>master</component>
                    <component>regionserver</component>
                    <component>scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13273152" author="hadoopqa" created="Fri, 11 May 2012 10:18:20 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12526498/5939.v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12526498/5939.v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 hadoop23.  The patch compiles against the hadoop 0.23.x profile.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestDrainingServer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1846//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1846//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1846//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1846//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1846//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1846//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13273158" author="nkeywal" created="Fri, 11 May 2012 10:32:06 +0000"  >&lt;p&gt;Changes are not related to the failed test. Patch could be committed imho.&lt;/p&gt;</comment>
                            <comment id="13273643" author="stack" created="Fri, 11 May 2012 21:41:16 +0000"  >&lt;p&gt;Shouldn&apos;t autorestart be the default?  This issue also needs a nice release note.  Otherwise, patch looks good N.&lt;/p&gt;</comment>
                            <comment id="13273716" author="nkeywal" created="Fri, 11 May 2012 23:29:50 +0000"  >&lt;p&gt;It would make sense to make it the default. Just that he developers or admins used to a simple &quot;kill&quot; will be surprised to see the process coming back. As you like.&lt;/p&gt;

&lt;p&gt;For the release notes, I&apos;m ok. I was planning to update the reference guide (including a part with the forgotten-but-useful local-region.sh script), but I will write a release note for this one as well.&lt;/p&gt;</comment>
                            <comment id="13273731" author="stack" created="Fri, 11 May 2012 23:48:48 +0000"  >&lt;p&gt;Hmmm.  Yeah, it should not be the default.  Needs to be talked up though so operators know its an option for prod systems so yeah, release note and/or update to doc.  Let me commit this last patch.  I&apos;ll add a bit of a release note... after commit.&lt;/p&gt;</comment>
                            <comment id="13273732" author="stack" created="Fri, 11 May 2012 23:50:22 +0000"  >&lt;p&gt;Committed to trunk.  I see you already did a nice release note.  Thanks for the patch and the note N.&lt;/p&gt;</comment>
                            <comment id="13273781" author="hudson" created="Sat, 12 May 2012 01:15:42 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2866 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2866/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2866/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5939&quot; title=&quot;Add an autorestart option in the start scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5939&quot;&gt;&lt;del&gt;HBASE-5939&lt;/del&gt;&lt;/a&gt; Add an autorestart option in the start scripts (Revision 1337418)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/bin/hbase-daemon.sh&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/bin/start-hbase.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775271" author="stack" created="Mon, 23 Sep 2013 18:31:08 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12953022">HBASE-15523</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12551766">HBASE-5843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12526498" name="5939.v4.patch" size="6697" author="nkeywal" created="Fri, 11 May 2012 09:22:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 May 2012 10:18:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>238178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hubb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>When launched with autorestart, HBase processes will automatically restart if they are not properly terminated, either by a &amp;quot;stop&amp;quot; command or by a cluster stop. To ensure that it does not overload the system when the server itself is corrupted and the process cannot be restarted, the server sleeps for 5 minutes before restarting if it was already started 5 minutes ago previously. To use it, launch the process with &amp;quot;bin/start-hbase autorestart&amp;quot;. This option is not fully compatible with the existing &amp;quot;restart&amp;quot; command: if you ask for a restart on a server launched with autorestart, the server will restart but the next server instance won&amp;#39;t be automatically restarted.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.96notable</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>