<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:00:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8975/HBASE-8975.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8975] NPE/HTTP 500 when opening the master&apos;s web UI too early</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8975</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I&apos;m getting an ugly NPE when trying to open the master&apos;s web UI too fast after starting it:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at org.apache.hadoop.hbase.master.HMaster.getCoprocessors(HMaster.java:2053)
	at org.apache.hadoop.hbase.master.HMaster.getClusterStatus(HMaster.java:2003)
	at org.apache.hadoop.hbase.tmpl.master.BackupMasterStatusTmplImpl.renderNoFlush(BackupMasterStatusTmplImpl.java:39)
	at org.apache.hadoop.hbase.tmpl.master.BackupMasterStatusTmpl.renderNoFlush(BackupMasterStatusTmpl.java:111)
	at org.apache.hadoop.hbase.tmpl.master.MasterStatusTmplImpl.renderNoFlush(MasterStatusTmplImpl.java:237)
	at org.apache.hadoop.hbase.tmpl.master.MasterStatusTmpl.renderNoFlush(MasterStatusTmpl.java:376)
	at org.apache.hadoop.hbase.tmpl.master.MasterStatusTmpl.render(MasterStatusTmpl.java:366)
	at org.apache.hadoop.hbase.master.MasterStatusServlet.doGet(MasterStatusServlet.java:92)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At that point the ServerManager == null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658417">HBASE-8975</key>
            <summary>NPE/HTTP 500 when opening the master&apos;s web UI too early</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jul 2013 23:48:34 +0000</created>
                <updated>Mon, 23 Sep 2013 19:22:34 +0000</updated>
                            <resolved>Fri, 19 Jul 2013 18:27:19 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13711809" author="jdcryans" created="Wed, 17 Jul 2013 23:51:58 +0000"  >&lt;p&gt;I&apos;ve looked around HMaster and there isn&apos;t really anything that tells us that we&apos;re passed initializeZKBasedSystemTrackers(), which seems to be the point where we can start showing up the page.&lt;/p&gt;

&lt;p&gt;So in the patch I&apos;m attaching I&apos;m checking if the SM is null, in which case I just return. This shows a blank page instead of 500 and a fat stack trace.&lt;/p&gt;</comment>
                            <comment id="13712081" author="eclark" created="Thu, 18 Jul 2013 06:55:47 +0000"  >&lt;p&gt;We probably want to return a 503 with a message saying not ready.&lt;/p&gt;</comment>
                            <comment id="13712502" author="stack" created="Thu, 18 Jul 2013 17:09:52 +0000"  >&lt;p&gt;+1 on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; suggestion&lt;/p&gt;</comment>
                            <comment id="13712995" author="jdcryans" created="Thu, 18 Jul 2013 22:27:17 +0000"  >&lt;p&gt;Posting the sending of the 503, but it feels like playing Whac-A-Mole as I saw different NPE but then I refreshed and never saw it again. I wouldn&apos;t want to have dozens of return points depending on different situations, plus we&apos;d need to add more later. The web UI is really hacky.&lt;/p&gt;</comment>
                            <comment id="13713074" author="enis" created="Thu, 18 Jul 2013 23:22:55 +0000"  >&lt;p&gt;How about not putting up the master UI before zk initialization is complete. We can change the order where web server boots up. &lt;/p&gt;</comment>
                            <comment id="13713098" author="jdcryans" created="Thu, 18 Jul 2013 23:35:49 +0000"  >&lt;p&gt;Thought about that but then IIUC you won&apos;t have anything to show for the backup master.&lt;/p&gt;</comment>
                            <comment id="13713119" author="enis" created="Thu, 18 Jul 2013 23:51:49 +0000"  >&lt;p&gt;I see, then this patch makes sense. +1. &lt;/p&gt;</comment>
                            <comment id="13713908" author="jdcryans" created="Fri, 19 Jul 2013 18:27:19 +0000"  >&lt;p&gt;Committed to 0.95 and trunk, thanks guys.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12593078" name="HBASE-8975-v2.patch" size="868" author="jdcryans" created="Thu, 18 Jul 2013 22:27:17 +0000"/>
                            <attachment id="12592892" name="HBASE-8975.patch" size="793" author="jdcryans" created="Wed, 17 Jul 2013 23:51:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Jul 2013 06:55:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mejr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>