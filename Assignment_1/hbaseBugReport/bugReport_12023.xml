<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:28:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12023/HBASE-12023.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12023] HRegion.applyFamilyMapToMemstore creates too many iterator objects.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12023</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;for ... loop (creates iterator) inside another for loop. Produces a lot of garbage. See attached picture.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12742568">HBASE-12023</key>
            <summary>HRegion.applyFamilyMapToMemstore creates too many iterator objects.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12743401">HBASE-12058</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vrodionov">Vladimir Rodionov</assignee>
                                    <reporter username="vrodionov">Vladimir Rodionov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Sep 2014 20:22:38 +0000</created>
                <updated>Sat, 4 Oct 2014 17:51:31 +0000</updated>
                            <resolved>Tue, 23 Sep 2014 21:06:15 +0000</resolved>
                                    <version>0.98.5</version>
                    <version>0.94.23</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.7</fixVersion>
                    <fixVersion>0.94.24</fixVersion>
                    <fixVersion>0.99.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14139439" author="vrodionov" created="Thu, 18 Sep 2014 20:24:58 +0000"  >&lt;p&gt;Its here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; applyFamilyMapToMemstore(Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], List&amp;lt;Cell&amp;gt;&amp;gt; familyMap,
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; mvccNum, List&amp;lt;Cell&amp;gt; memstoreCells) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; size = 0;

    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], List&amp;lt;Cell&amp;gt;&amp;gt; e : familyMap.entrySet()) {
      &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] family = e.getKey();
      List&amp;lt;Cell&amp;gt; cells = e.getValue();

      Store store = getStore(family);
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Cell cell: cells) {
        CellUtil.setSequenceId(cell, mvccNum);
        Pair&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;, Cell&amp;gt; ret = store.add(cell);
        size += ret.getFirst();
        memstoreCells.add(KeyValueUtil.ensureKeyValue(ret.getSecond()));
      }
    }

     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; size;
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14139455" author="vrodionov" created="Thu, 18 Sep 2014 20:32:32 +0000"  >&lt;p&gt;Replaced for ...loop with explicit for. Patch available for &apos;master&apos;. &lt;/p&gt;</comment>
                            <comment id="14139472" author="lhofhansl" created="Thu, 18 Sep 2014 20:39:05 +0000"  >&lt;p&gt;That was my first thought too... However, this relies on the map value being an ArrayList (otherwise get() is slow). That happens to be the case, but we do not enforce that anywhere.&lt;/p&gt;

&lt;p&gt;It&apos;s a shame we cannot get rid of outer iterator. In the vast majority of the case we only have a single column family anyway, but we have no way to get that without an iterator.&lt;/p&gt;</comment>
                            <comment id="14139635" author="hadoopqa" created="Thu, 18 Sep 2014 22:41:26 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12669796/HBASE-12023.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12669796/HBASE-12023.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12669796&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the trunk&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestEncryptionKeyRotation&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.camel.component.mqtt.MQTTProducerTest.testProduce(MQTTProducerTest.java:64)&lt;br/&gt;
	at org.apache.oozie.test.MiniHCatServer$1.run(MiniHCatServer.java:137)&lt;br/&gt;
	at org.apache.oozie.test.XTestCase$MiniClusterShutdownMonitor.run(XTestCase.java:1071)&lt;br/&gt;
	at org.apache.oozie.test.XDataTestCase.writeToFile(XDataTestCase.java:1201)&lt;br/&gt;
	at org.apache.oozie.test.XDataTestCase.getCoordConf(XDataTestCase.java:1192)&lt;br/&gt;
	at org.apache.oozie.test.XDataTestCase.createCoordAction(XDataTestCase.java:689)&lt;br/&gt;
	at org.apache.oozie.test.XDataTestCase.createCoordAction(XDataTestCase.java:640)&lt;br/&gt;
	at org.apache.oozie.test.XDataTestCase.addRecordToCoordActionTable(XDataTestCase.java:577)&lt;br/&gt;
	at org.apache.oozie.test.XDataTestCase.addRecordToCoordActionTable(XDataTestCase.java:559)&lt;br/&gt;
	at org.apache.oozie.executor.jpa.TestCoordJobGetActionsSuspendedJPAExecutor.testCoordActionsSuspendedForColumnValues(TestCoordJobGetActionsSuspendedJPAExecutor.java:55)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/10976//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14139640" author="yuzhihong@gmail.com" created="Thu, 18 Sep 2014 22:44:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14139682" author="vrodionov" created="Thu, 18 Sep 2014 23:10:56 +0000"  >&lt;p&gt;0.94 patch.&lt;/p&gt;</comment>
                            <comment id="14140854" author="vrodionov" created="Fri, 19 Sep 2014 16:48:28 +0000"  >&lt;blockquote&gt;
&lt;p&gt;-1 core tests. The patch failed these unit tests:&lt;br/&gt;
org.apache.hadoop.hbase.regionserver.TestEncryptionKeyRotation&lt;br/&gt;
org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;TestEncryptionKeyRotation and TestProcessBasedCluster have some transient issues - they PASSED in my local environment. TestImportExport fails constantly with and without patch. Let me know what else needs to be done to resolve this JIRA?&lt;/p&gt;</comment>
                            <comment id="14140878" author="lhofhansl" created="Fri, 19 Sep 2014 17:02:13 +0000"  >&lt;p&gt;What about my comment about not being able to guarantee that the lists passed around are not guaranteed to be random accessible?&lt;br/&gt;
Not a problem, because they just happen to be (in Mutation they are ArrayLists)?&lt;/p&gt;</comment>
                            <comment id="14140879" author="apurtell" created="Fri, 19 Sep 2014 17:02:26 +0000"  >&lt;p&gt;We can proceed. Let me commit this now.&lt;/p&gt;</comment>
                            <comment id="14140881" author="apurtell" created="Fri, 19 Sep 2014 17:03:06 +0000"  >&lt;p&gt;JIRA comment race. Holding off commit.&lt;/p&gt;</comment>
                            <comment id="14140889" author="vrodionov" created="Fri, 19 Sep 2014 17:09:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What about my comment about not being able to guarantee that the lists passed around are not guaranteed to be random accessible?&lt;br/&gt;
Not a problem, because they just happen to be (in Mutation they are ArrayLists)?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not sure I am following you here, Lars. List is random accessible, by default ( get(int index) API). As you mentioned already, in mutations we use ArrayList - not LinkedList. LinkedLIst is not efficient, but (hopefully) will never be used in HBase on a critical read/write paths. &lt;/p&gt;</comment>
                            <comment id="14140908" author="lhofhansl" created="Fri, 19 Sep 2014 17:20:49 +0000"  >&lt;p&gt;I mean random accessible as in tagged with the RandomAccess interface. LinkedList has a get(index) but using that here would be very inefficient.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;(hopefully) will never be used in HBase&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That&apos;s the worry I have. I&apos;ve seen this happening in projects where folks expect an ArrayList but sometimes get LinkedLists and then the performance tanks.&lt;/p&gt;

&lt;p&gt;Or in other words we now created an implicit dependency on the Lists here being ArrayList.&lt;/p&gt;

&lt;p&gt;The correct way would be to change the definition in Mutation to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; NavigableMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [], ArrayList&amp;lt;Cell&amp;gt;&amp;gt; familyMap =
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TreeMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; [], ArrayList&amp;lt;Cell&amp;gt;&amp;gt;(Bytes.BYTES_COMPARATOR);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then we&apos;re structurally guaranteed that we have ArrayLists and made the dependency explicit.&lt;br/&gt;
Of course now that will break binary compatibility and so we cannot just change it.&lt;/p&gt;

&lt;p&gt;Anyway... If I&apos;m the only one worrying about this, let&apos;s commit.&lt;/p&gt;</comment>
                            <comment id="14140917" author="apurtell" created="Fri, 19 Sep 2014 17:24:55 +0000"  >&lt;p&gt;Can we add a test somewhere out of hot code that checks for ? extends ArrayList or similar and throws a runtime exception if not? That&apos;s not ideal like static type checking but would document the expectation and cause all kinds of issues if violated. Or an assertion, but asserts can be turned off.&lt;/p&gt;</comment>
                            <comment id="14140928" author="lhofhansl" created="Fri, 19 Sep 2014 17:30:21 +0000"  >&lt;p&gt;An assert is a good idea. We run tests with asserts on, so we&apos;ll catch it.&lt;br/&gt;
Can add at commit time. &lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;
</comment>
                            <comment id="14141020" author="lhofhansl" created="Fri, 19 Sep 2014 18:18:43 +0000"  >&lt;p&gt;Just this&lt;/p&gt;</comment>
                            <comment id="14141038" author="stack" created="Fri, 19 Sep 2014 18:28:54 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14141044" author="lhofhansl" created="Fri, 19 Sep 2014 18:31:46 +0000"  >&lt;p&gt;Cool... Going to commit unless &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; beats me to it.&lt;/p&gt;</comment>
                            <comment id="14141097" author="lhofhansl" created="Fri, 19 Sep 2014 19:03:20 +0000"  >&lt;p&gt;Committed to all branches.&lt;br/&gt;
For 0.98 I needed an addendum because I merged the change incorrectly the first time.&lt;/p&gt;</comment>
                            <comment id="14141126" author="hudson" created="Fri, 19 Sep 2014 19:21:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #526 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/526/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/526/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev a2d008a82a81d535cf97cdc3f696e6a5fc0a2242)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; addendum (larsh: rev 371ad2803d12757ead97d32bdc83154ebcb3f086)&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141151" author="hudson" created="Fri, 19 Sep 2014 19:38:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1414 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1414/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1414/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev 6bf1641094e5ba91e78e151a3d2dc6fa099ebc74)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141172" author="hudson" created="Fri, 19 Sep 2014 19:49:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #207 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/207/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/207/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev 62e8cf751e530db0ff0522bfca58db177a508d00)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141227" author="hudson" created="Fri, 19 Sep 2014 20:20:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5533 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5533/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5533/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev 94082791af6c612f5b6e4ea0021ee725dd7bca7a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141234" author="hudson" created="Fri, 19 Sep 2014 20:24:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #184 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/184/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/184/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev 6bf1641094e5ba91e78e151a3d2dc6fa099ebc74)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141376" author="hudson" created="Fri, 19 Sep 2014 21:55:43 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #525 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/525/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/525/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev 6bf1641094e5ba91e78e151a3d2dc6fa099ebc74)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14141393" author="hudson" created="Fri, 19 Sep 2014 22:05:19 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #501 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/501/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/501/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects. (Vladimir Rodionov) (larsh: rev a2d008a82a81d535cf97cdc3f696e6a5fc0a2242)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; addendum (larsh: rev 371ad2803d12757ead97d32bdc83154ebcb3f086)&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14142036" author="anoop.hbase" created="Sat, 20 Sep 2014 15:14:28 +0000"  >&lt;p&gt;We can do the same optimization to HRegion#addFamilyMapToWALEdit too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;And here too recordMutationWithoutWal()   -&amp;gt; When SKIP_WAL Durability for Mutations.&lt;/p&gt;</comment>
                            <comment id="14142049" author="vrodionov" created="Sat, 20 Sep 2014 15:33:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; &lt;br/&gt;
In this JIRA or in a separate one?&lt;/p&gt;</comment>
                            <comment id="14142052" author="anoop.hbase" created="Sat, 20 Sep 2014 15:37:45 +0000"  >&lt;p&gt;As this issue is just closed 1 day back, we can fix as an addendum here itself IMO.&lt;/p&gt;</comment>
                            <comment id="14142101" author="vrodionov" created="Sat, 20 Sep 2014 16:37:52 +0000"  >&lt;p&gt;OK, will do it.&lt;/p&gt;</comment>
                            <comment id="14142107" author="apurtell" created="Sat, 20 Sep 2014 16:50:51 +0000"  >&lt;p&gt;Reopened for addendum &lt;/p&gt;</comment>
                            <comment id="14142235" author="lhofhansl" created="Sat, 20 Sep 2014 23:19:45 +0000"  >&lt;p&gt;Agreed let&apos;s keep this open. I do want to have an RC for 0.94.24 soon. Worst case I&apos;ll file a new jira.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We can do the same optimization to HRegion#addFamilyMapToWALEdit too&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good call. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;, I wonder why this one did not show up in your trace.&lt;/p&gt;</comment>
                            <comment id="14142278" author="anoop.hbase" created="Sun, 21 Sep 2014 01:47:59 +0000"  >&lt;p&gt;These places too.. These also getting executed in doMiniBatch flow&lt;br/&gt;
HRegion#checkTimestamps&lt;br/&gt;
HRegion#updateKVTimestamps&lt;br/&gt;
HRegion#prepareDeleteTimestamps&lt;/p&gt;</comment>
                            <comment id="14143465" author="vrodionov" created="Mon, 22 Sep 2014 17:24:27 +0000"  >&lt;p&gt;Addendum. Master.&lt;/p&gt;</comment>
                            <comment id="14143479" author="apurtell" created="Mon, 22 Sep 2014 17:30:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14143514" author="vrodionov" created="Mon, 22 Sep 2014 17:46:50 +0000"  >&lt;p&gt;0.94 trunk patch.&lt;/p&gt;</comment>
                            <comment id="14143530" author="vrodionov" created="Mon, 22 Sep 2014 17:53:49 +0000"  >&lt;p&gt;I think we need a separate master JIRA to track al &lt;b&gt;too many objects&lt;/b&gt; - type of  issues. They are all over the HBase source code. We need to post a memory conserving rules somewhere in HBase book and not to accept patches which do not follow this guideline. &lt;/p&gt;</comment>
                            <comment id="14143544" author="anoop.hbase" created="Mon, 22 Sep 2014 18:05:49 +0000"  >&lt;p&gt;+1 &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I think we need a separate master JIRA to track al too many objects - type of issues. They are all over the HBase source code. We need to post a memory conserving rules somewhere in HBase book and not to accept patches which do not follow this guideline. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1. Raise an umbrella jira for master. We can raise sub tasks whenever one come across such cases.&lt;br/&gt;
Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14143548" author="hadoopqa" created="Mon, 22 Sep 2014 18:10:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12670443/HBASE-12023-add.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12670443/HBASE-12023-add.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12670443&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//artifact/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/11019//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14144125" author="apurtell" created="Tue, 23 Sep 2014 00:48:24 +0000"  >&lt;p&gt;Unless there are more comments (please post them), I&apos;m going to commit the addendum later this evening. Thanks for the patch  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vrodionov&quot; class=&quot;user-hover&quot; rel=&quot;vrodionov&quot;&gt;Vladimir Rodionov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14144140" author="apurtell" created="Tue, 23 Sep 2014 00:59:51 +0000"  >&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12058&quot; title=&quot;[Umbrella] Reduce unnecessary object allocations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12058&quot;&gt;HBASE-12058&lt;/a&gt; as umbrella and made this a subtask.&lt;/p&gt;</comment>
                            <comment id="14145443" author="apurtell" created="Tue, 23 Sep 2014 21:06:15 +0000"  >&lt;p&gt;Pushed addendum to 0.98+&lt;/p&gt;</comment>
                            <comment id="14145623" author="hudson" created="Tue, 23 Sep 2014 23:40:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5548 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5548/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5548/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev 83c2de2575dbbecbe4530af36a34218786cdd7e8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14145651" author="hudson" created="Tue, 23 Sep 2014 23:54:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.0 #221 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/221/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/221/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev c90383bf86b1a49fac98cbd3baa3af1fa97be467)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14145656" author="hudson" created="Tue, 23 Sep 2014 23:58:24 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #535 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/535/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/535/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev 3897a02a1bd30f4376c31a025f85332f6124388a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValueUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14145679" author="hudson" created="Wed, 24 Sep 2014 00:18:22 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #510 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/510/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/510/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev 3897a02a1bd30f4376c31a025f85332f6124388a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/KeyValueUtil.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14145856" author="lhofhansl" created="Wed, 24 Sep 2014 04:18:31 +0000"  >&lt;p&gt;We&apos;d want the addendum in 0.94, no?&lt;/p&gt;</comment>
                            <comment id="14145860" author="apurtell" created="Wed, 24 Sep 2014 04:23:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;We&apos;d want the addendum in 0.94, no?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, sorry, forgot about that version.&lt;/p&gt;</comment>
                            <comment id="14145866" author="apurtell" created="Wed, 24 Sep 2014 04:27:38 +0000"  >&lt;p&gt;Committed to 0.94&lt;/p&gt;</comment>
                            <comment id="14145878" author="lhofhansl" created="Wed, 24 Sep 2014 04:40:44 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;, I would have done it, just wondered whether there was a reason not to apply it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14145943" author="hudson" created="Wed, 24 Sep 2014 05:48:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #527 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/527/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/527/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev a6dbb04593cbafa672910f66ad218d6928f92265)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14145965" author="hudson" created="Wed, 24 Sep 2014 06:14:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94 #1416 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1416/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1416/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev a6dbb04593cbafa672910f66ad218d6928f92265)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14145968" author="hudson" created="Wed, 24 Sep 2014 06:19:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-JDK7 #186 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-JDK7/186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-JDK7/186/&lt;/a&gt;)&lt;br/&gt;
Amend &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12023&quot; title=&quot;HRegion.applyFamilyMapToMemstore creates too many iterator objects.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12023&quot;&gt;&lt;del&gt;HBASE-12023&lt;/del&gt;&lt;/a&gt; HRegion.applyFamilyMapToMemstore creates too many iterator objects; More cases (Vladimir Rodionov) (apurtell: rev a6dbb04593cbafa672910f66ad218d6928f92265)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12670055" name="12023-trunk.txt" size="1201" author="lhofhansl" created="Fri, 19 Sep 2014 18:18:43 +0000"/>
                            <attachment id="12670450" name="HBASE-12023-0.94-add.patch" size="2888" author="vrodionov" created="Mon, 22 Sep 2014 17:46:50 +0000"/>
                            <attachment id="12669849" name="HBASE-12023-0.94.patch" size="854" author="vrodionov" created="Thu, 18 Sep 2014 23:10:56 +0000"/>
                            <attachment id="12670443" name="HBASE-12023-add.patch" size="3111" author="vrodionov" created="Mon, 22 Sep 2014 17:24:27 +0000"/>
                            <attachment id="12669796" name="HBASE-12023.patch" size="795" author="vrodionov" created="Thu, 18 Sep 2014 20:32:32 +0000"/>
                            <attachment id="12669790" name="applyFamilyMapToMemstore (1).tiff" size="314130" author="vrodionov" created="Thu, 18 Sep 2014 20:23:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Sep 2014 20:39:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2089j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>