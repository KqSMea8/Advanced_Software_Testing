<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:37:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-12932/HBASE-12932.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-12932] [0.98] Change the interface annotation of HConnection from Public/Stable to Public/Evolving</title>
                <link>https://issues.apache.org/jira/browse/HBASE-12932</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;See the tail of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12859&quot; title=&quot;New master API to track major compaction completion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12859&quot;&gt;&lt;del&gt;HBASE-12859&lt;/del&gt;&lt;/a&gt;. Lars wants to add methods to HConnection. I suggest not because HConnection has Public/Stable annotation. Enis then says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We do not differentiate or explicitly document this, but my understanding of most of our InterfaceAudience.Public is for consumption, not for extending or implementing interfaces (except for some coprocessor cases). So I think we should be free to add new methods in Admin, Connection, etc in minor versions. I would say that in patch versions we should not do such changes.&lt;br/&gt;
Maybe we can do a base classes as a convenience, but still with no guarantees.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;to which I reply:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Shrug. So the Public/Stable annotation just means &quot;keep this interface around, don&apos;t worry about changes that will break an implementor?&quot; . Then what would Public/Evolving (or Unstable) mean as difference? Do we have what the annotations mean documented somewhere? This point didn&apos;t come up in a review when I backported client pushback, so now we have StatisticsHConnection. If it&apos;s ok to add methods to HConnection I would like to sink the 0.98.10 RC that has this change and fix it with a new patch/issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not sure what others think, but if we change the annotation of HConnection to Public/Evolving then it would make sense to allow methods to be added. &lt;/p&gt;

&lt;p&gt;I will open a subtask of this issue to nuke StatisticsHConnection if/once the annotation is changed. I would also sink the current 0.98.10 RC that has StatisticsHConnection in it so it never sees the light of day.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770441">HBASE-12932</key>
            <summary>[0.98] Change the interface annotation of HConnection from Public/Stable to Public/Evolving</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jan 2015 19:35:25 +0000</created>
                <updated>Fri, 20 Nov 2015 11:54:43 +0000</updated>
                            <resolved>Tue, 27 Jan 2015 22:03:01 +0000</resolved>
                                                    <fixVersion>0.98.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                            <comments>
                            <comment id="14294070" author="lhofhansl" created="Tue, 27 Jan 2015 19:49:03 +0000"  >&lt;p&gt;From the Hadoop docs:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Stable
    Can evolve while retaining compatibility for minor release boundaries; in other words, incompatible changes to APIs marked Stable are allowed only at major releases (i.e. at m.0).

Evolving
    Evolving, but incompatible changes are allowed at minor release (i.e. m .x)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now, what does &quot;incompatible&quot; mean? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Adding a new method to an interface that is only ever implemented by subclasses of an implementing base class can always be compatible.&lt;/p&gt;</comment>
                            <comment id="14294074" author="lhofhansl" created="Tue, 27 Jan 2015 19:49:47 +0000"  >&lt;p&gt;And so from that angle we can keep this as stable and still nuke StatisticsHConnection.&lt;/p&gt;</comment>
                            <comment id="14294078" author="apurtell" created="Tue, 27 Jan 2015 19:51:48 +0000"  >&lt;p&gt;I&apos;m thinking of someone who implements HConnection directly, since it has been marked Public/Stable. Even for this case, it would be fine to nuke StatisticsHConnection if HConnection is tagged as Evolving. So I propose making this change, do some cleanup, and move along. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14294083" author="lhofhansl" created="Tue, 27 Jan 2015 19:56:02 +0000"  >&lt;p&gt;Who in their right mind would that? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
You are right, though. That means we should change the annotation in 1.0, 1.1?&lt;/p&gt;</comment>
                            <comment id="14294086" author="apurtell" created="Tue, 27 Jan 2015 19:57:30 +0000"  >&lt;p&gt;No, I think we can just change the annotation now. It&apos;s more of a formality. As you say, it&apos;s about as sane as extending something like SplitTransaction. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="14294089" author="apurtell" created="Tue, 27 Jan 2015 19:59:54 +0000"  >&lt;p&gt;Patch for 0.98&lt;/p&gt;</comment>
                            <comment id="14294107" author="hadoopqa" created="Tue, 27 Jan 2015 20:12:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12694830/HBASE-12932-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12694830/HBASE-12932-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f7df0990c2d321cffd7ea2e20cb7b280d8cc9db6.&lt;br/&gt;
  ATTACHMENT ID: 12694830&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/12607//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/12607//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14294108" author="apurtell" created="Tue, 27 Jan 2015 20:12:45 +0000"  >&lt;p&gt;Any concerns about this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14294127" author="busbey" created="Tue, 27 Jan 2015 20:26:54 +0000"  >&lt;p&gt;I think InterfaceStability changes are fine pre-1.0. post-1.0 I think going from Stable -&amp;gt; Evolving needs to be on major version, and Evolving -&amp;gt; Unstable needs to be on minor, since those are the version boundaries where an annotated class would change.&lt;/p&gt;

&lt;p&gt;On the general matter of Interface changes, I think adding methods to interfaces is fine if we work internally to do graceful fallback or service degredation. For example, the interface changes that happened to some of the coprocessor apis in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12522&quot; title=&quot;Backport WAL refactoring to branch-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12522&quot;&gt;&lt;del&gt;HBASE-12522&lt;/del&gt;&lt;/a&gt;. That is to say, pesonally I&apos;m concerned about making sure binaries run more than theoretical binary compatibility. This is in opposition to our stated compatibility listing though, which specifies source compatibility.&lt;/p&gt;

&lt;p&gt;It&apos;s really hard to guess what downstream users will do with our code; I&apos;d like to stick with our promises once they&apos;re made. If we want to evolve these things in the face of our promises, we should do a clean up that ensure there are no interfaces marked stricter than Public/Evolving.&lt;/p&gt;</comment>
                            <comment id="14294176" author="apurtell" created="Tue, 27 Jan 2015 20:56:19 +0000"  >&lt;p&gt;Ok, I take this as consensus to move forward and will commit this and the subtask in a couple hours, so I can spin a new RC, unless there is an objection. &lt;/p&gt;</comment>
                            <comment id="14294215" author="enis" created="Tue, 27 Jan 2015 21:27:55 +0000"  >&lt;p&gt;From what I gather from the hadoop&apos;s javadocs, Stable means that we can still add methods to an interface between minor versions. This means that having Connection/Table as stable makes sense to me. &lt;/p&gt;

&lt;p&gt;For 0.98, we can do Evolving I guess. &lt;/p&gt;</comment>
                            <comment id="14294273" author="apurtell" created="Tue, 27 Jan 2015 22:03:02 +0000"  >&lt;p&gt;Pushed to 0.98&lt;/p&gt;</comment>
                            <comment id="14294582" author="hudson" created="Wed, 28 Jan 2015 01:53:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98 #821 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/821/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/821/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12932&quot; title=&quot;[0.98] Change the interface annotation of HConnection from Public/Stable to Public/Evolving&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12932&quot;&gt;&lt;del&gt;HBASE-12932&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.98&amp;#93;&lt;/span&gt; Change the interface annotation of HConnection from Public/Stable to Public/Evolving (apurtell: rev 2712fde545f8e96b7a263fd2f6d71d6f6a01aca0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14294634" author="hudson" created="Wed, 28 Jan 2015 03:01:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.98-on-Hadoop-1.1 #781 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/781/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12932&quot; title=&quot;[0.98] Change the interface annotation of HConnection from Public/Stable to Public/Evolving&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12932&quot;&gt;&lt;del&gt;HBASE-12932&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0.98&amp;#93;&lt;/span&gt; Change the interface annotation of HConnection from Public/Stable to Public/Evolving (apurtell: rev 2712fde545f8e96b7a263fd2f6d71d6f6a01aca0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HConnection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15016299" author="lars_francke" created="Fri, 20 Nov 2015 11:54:43 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12694830" name="HBASE-12932-0.98.patch" size="731" author="apurtell" created="Tue, 27 Jan 2015 19:59:54 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12770442">HBASE-12933</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Jan 2015 19:49:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24uwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>