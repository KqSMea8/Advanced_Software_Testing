<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:15:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10630/HBASE-10630.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10630] NullPointerException in ConnectionManager$HConnectionImplementation.locateRegionInMeta() due to missing region info</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10630</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;During Load And Verify With Chaos Monkey test, we observed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2014-02-26 16:28:17,964|beaver.machine|INFO|2014-02-26 16:28:17,964 INFO  [main] mapreduce.Job:  map 71% reduce 0%
2014-02-26 16:28:20,073|beaver.machine|INFO|2014-02-26 16:28:20,073 INFO  [main] mapreduce.Job:  map 82% reduce 0%
2014-02-26 16:28:20,077|beaver.machine|INFO|2014-02-26 16:28:20,077 INFO  [main] mapreduce.Job: Task Id : attempt_1393409213482_0015_m_000068_0, Status : FAILED
2014-02-26 16:28:20,099|beaver.machine|INFO|Error: java.lang.NullPointerException
2014-02-26 16:28:20,100|beaver.machine|INFO|at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegionInMeta(ConnectionManager.java:1175)
2014-02-26 16:28:20,100|beaver.machine|INFO|at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegion(ConnectionManager.java:1038)
2014-02-26 16:28:20,100|beaver.machine|INFO|at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegionAll(ConnectionManager.java:986)
2014-02-26 16:28:20,101|beaver.machine|INFO|at org.apache.hadoop.hbase.client.AsyncProcess.findDestLocation(AsyncProcess.java:418)
2014-02-26 16:28:20,101|beaver.machine|INFO|at org.apache.hadoop.hbase.client.AsyncProcess.submit(AsyncProcess.java:343)
2014-02-26 16:28:20,101|beaver.machine|INFO|at org.apache.hadoop.hbase.client.AsyncProcess.submit(AsyncProcess.java:296)
2014-02-26 16:28:20,102|beaver.machine|INFO|at org.apache.hadoop.hbase.client.HTable.backgroundFlushCommits(HTable.java:1024)
2014-02-26 16:28:20,102|beaver.machine|INFO|at org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1298)
2014-02-26 16:28:20,102|beaver.machine|INFO|at org.apache.hadoop.hbase.test.IntegrationTestLoadAndVerify$LoadMapper.cleanup(IntegrationTestLoadAndVerify.java:188)
2014-02-26 16:28:20,102|beaver.machine|INFO|at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:148)
2014-02-26 16:28:20,103|beaver.machine|INFO|at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764)
2014-02-26 16:28:20,103|beaver.machine|INFO|at org.apache.hadoop.mapred.MapTask.run(MapTask.java:340)
2014-02-26 16:28:20,103|beaver.machine|INFO|at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)
2014-02-26 16:28:20,103|beaver.machine|INFO|at java.security.AccessController.doPrivileged(Native Method)
2014-02-26 16:28:20,104|beaver.machine|INFO|at javax.security.auth.Subject.doAs(Subject.java:396)
2014-02-26 16:28:20,104|beaver.machine|INFO|at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)
2014-02-26 16:28:20,104|beaver.machine|INFO|at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)
2014-02-26 16:28:20,105|beaver.machine|INFO|
2014-02-26 16:28:20,105|beaver.machine|INFO|Container killed by the ApplicationMaster.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here is related code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
           &lt;span class=&quot;code-comment&quot;&gt;// convert the row result into the HRegionLocation we need!
&lt;/span&gt;           location = MetaReader.getRegionLocations(regionInfoRow);
           HRegionInfo regionInfo = location.getRegionLocation().getRegionInfo();
           &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (regionInfo == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
             &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;HRegionInfo was &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; or empty in &quot;&lt;/span&gt; +
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;null check should be performed against location and location.getRegionLocation().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12697742">HBASE-10630</key>
            <summary>NullPointerException in ConnectionManager$HConnectionImplementation.locateRegionInMeta() due to missing region info</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12682280">HBASE-10070</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Feb 2014 17:33:43 +0000</created>
                <updated>Sat, 21 Feb 2015 23:31:38 +0000</updated>
                            <resolved>Thu, 27 Feb 2014 22:26:49 +0000</resolved>
                                                    <fixVersion>0.99.0</fixVersion>
                    <fixVersion>hbase-10070</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13914798" author="nkeywal" created="Thu, 27 Feb 2014 17:57:21 +0000"  >&lt;p&gt;+1 for the test. I think we should putbin the message what was null&lt;br/&gt;
(location or HRI) to help debugging later.&lt;/p&gt;
</comment>
                            <comment id="13914973" author="apurtell" created="Thu, 27 Feb 2014 19:52:58 +0000"  >&lt;p&gt;Throwing IOE is cleaner than NPE, but what is the actual underlying issue?&lt;/p&gt;</comment>
                            <comment id="13915044" author="yuzhihong@gmail.com" created="Thu, 27 Feb 2014 21:04:02 +0000"  >&lt;p&gt;IOE should provide more information.&lt;br/&gt;
If the Load And Verify test fails again, would be able to dig deeper.&lt;/p&gt;</comment>
                            <comment id="13915127" author="yuzhihong@gmail.com" created="Thu, 27 Feb 2014 22:26:49 +0000"  >&lt;p&gt;Integrated to 10070 branch.&lt;/p&gt;</comment>
                            <comment id="13916760" author="apurtell" created="Sat, 1 Mar 2014 03:29:00 +0000"  >&lt;p&gt;Is there a follow-up issue to address getting to the root cause here?&lt;/p&gt;</comment>
                            <comment id="13916762" author="apurtell" created="Sat, 1 Mar 2014 03:30:17 +0000"  >&lt;p&gt;Never mind, I see now this is a subtask of 10070.&lt;/p&gt;</comment>
                            <comment id="14046612" author="enis" created="Sat, 28 Jun 2014 01:47:05 +0000"  >&lt;p&gt;Attaching rebased patch for master that is committed&lt;/p&gt;</comment>
                            <comment id="14046661" author="enis" created="Sat, 28 Jun 2014 02:07:49 +0000"  >&lt;p&gt;Committed to master as part of hbase-10070 branch merge&lt;/p&gt;</comment>
                            <comment id="14046770" author="hudson" created="Sat, 28 Jun 2014 06:14:37 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #5245 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/5245/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/5245/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10630&quot; title=&quot;NullPointerException in ConnectionManager$HConnectionImplementation.locateRegionInMeta() due to missing region info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10630&quot;&gt;&lt;del&gt;HBASE-10630&lt;/del&gt;&lt;/a&gt; NullPointerException in ConnectionManager$HConnectionImplementation.locateRegionInMeta() due to missing region info (enis: rev c997c3311e39b218d197c9119bcc42793356fa04)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14330850" author="enis" created="Sat, 21 Feb 2015 23:31:38 +0000"  >&lt;p&gt;Closing this issue after 0.99.0 release. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652951" name="0013-HBASE-10630-NullPointerException-in-ConnectionManage.patch" size="1526" author="enis" created="Sat, 28 Jun 2014 01:47:04 +0000"/>
                            <attachment id="12631567" name="10630-v1.txt" size="971" author="yuzhihong@gmail.com" created="Thu, 27 Feb 2014 18:04:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Feb 2014 17:57:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376216</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1stvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>