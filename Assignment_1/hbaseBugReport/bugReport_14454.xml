<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:53:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14454/HBASE-14454.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14454] TestFailedAppendAndSync fail</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14454</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/PreCommit-HBASE-Build/15633/testReport/org.apache.hadoop.hbase.regionserver/TestFailedAppendAndSync/testLockupAroundBadAssignSync/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/PreCommit-HBASE-Build/15633/testReport/org.apache.hadoop.hbase.regionserver/TestFailedAppendAndSync/testLockupAroundBadAssignSync/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12888717">HBASE-14454</key>
            <summary>TestFailedAppendAndSync fail</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12863637">HBASE-14420</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Sep 2015 00:09:19 +0000</created>
                <updated>Mon, 21 Sep 2015 18:44:08 +0000</updated>
                            <resolved>Mon, 21 Sep 2015 18:44:08 +0000</resolved>
                                                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14876728" author="stack" created="Sat, 19 Sep 2015 00:14:11 +0000"  >&lt;p&gt;It and some accompanying tests are all failing here:&lt;/p&gt;

&lt;p&gt;Directory /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/target/test-data/1eac55dd-3ea0-4e40-94e8-51af55755e9a/TestHRegiontestLockupAroundBadAssignSync/testLockupAroundBadAssignSync is not empty&lt;/p&gt;

&lt;p&gt;java.io.IOException: Directory /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/target/test-data/1eac55dd-3ea0-4e40-94e8-51af55755e9a/TestHRegiontestLockupAroundBadAssignSync/testLockupAroundBadAssignSync is not empty&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem.delete(RawLocalFileSystem.java:418)&lt;br/&gt;
	at org.apache.hadoop.fs.ChecksumFileSystem.delete(ChecksumFileSystem.java:546)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.wal.FSHLog.close(FSHLog.java:1006)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestFailedAppendAndSync.testLockupAroundBadAssignSync(TestFailedAppendAndSync.java:256)&lt;/p&gt;

&lt;p&gt;And in TestHRegion failures:&lt;/p&gt;


&lt;p&gt;java.io.IOException: Directory /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/target/test-data/a5674681-76e8-41bf-8af5-3edc00e4265d/TestHRegiontestMemstoreSizeWithFlushCanceling/testMemstoreSizeWithFlushCanceling is not empty&lt;br/&gt;
	at org.apache.hadoop.fs.RawLocalFileSystem.delete(RawLocalFileSystem.java:418)&lt;br/&gt;
	at org.apache.hadoop.fs.ChecksumFileSystem.delete(ChecksumFileSystem.java:546)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.wal.FSHLog.close(FSHLog.java:1006)&lt;br/&gt;
	at org.apache.hadoop.hbase.HBaseTestingUtility.closeRegionAndWAL(HBaseTestingUtility.java:354)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestHRegion.testMemstoreSizeWithFlushCanceling(TestHRegion.java:408)&lt;/p&gt;</comment>
                            <comment id="14900294" author="chenheng" created="Mon, 21 Sep 2015 07:06:34 +0000"  >&lt;p&gt;I think it is caused by issue &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-14391&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This issue&apos;s patch add some code in &lt;tt&gt;FSHLog.close&lt;/tt&gt; like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!fs.delete(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fullPathLogDir, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)) {
+      LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unable to delete &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.fullPathLogDir);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14900297" author="ashish singhi" created="Mon, 21 Sep 2015 07:10:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think it is caused by issue &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-14391&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, issue is yet to resolve.&lt;/p&gt;</comment>
                            <comment id="14900301" author="chenheng" created="Mon, 21 Sep 2015 07:14:00 +0000"  >&lt;blockquote&gt;
&lt;p&gt;No, issue is yet to resolve.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; Yes,  it is not resolved, but the url of this issue&apos;s description is about  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14900360" author="ashish singhi" created="Mon, 21 Sep 2015 08:12:53 +0000"  >&lt;p&gt;I ran the tests locally 10 times and it passes all the time for me, unfortunately I am not able to reproduce it locally.&lt;br/&gt;
The test fail for this reason,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Directory /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase/hbase-server/target/test-data/1eac55dd-3ea0-4e40-94e8-51af55755e9a/TestHRegiontestLockupAroundBadAssignSync/testLockupAroundBadAssignSync is not empty
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The path it failed to delete is &lt;tt&gt;FSHLog#fullPathLogDir&lt;/tt&gt; and in the code I did not see anywhere we are explicitly trying to delete &lt;tt&gt;FSHLog#fullPathLogDir&lt;/tt&gt; path.&lt;br/&gt;
Am I missing anything here ?&lt;/p&gt;</comment>
                            <comment id="14900375" author="chenheng" created="Mon, 21 Sep 2015 08:26:06 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I did not see anywhere we are explicitly trying to delete FSHLog#fullPathLogDir path.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is because the exception only show up in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13291&quot; title=&quot;Lift the scan ceiling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13291&quot;&gt;HBASE-13291&lt;/a&gt; QA information......&lt;/p&gt;</comment>
                            <comment id="14900377" author="chenheng" created="Mon, 21 Sep 2015 08:26:55 +0000"  >&lt;p&gt;Sorry It is &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt;, not 13291&lt;/p&gt;</comment>
                            <comment id="14900383" author="chenheng" created="Mon, 21 Sep 2015 08:34:55 +0000"  >&lt;p&gt;So i think the issue is invalid,  because it is an unresolved issue&apos;s QA information...&lt;/p&gt;</comment>
                            <comment id="14900423" author="ashish singhi" created="Mon, 21 Sep 2015 09:23:44 +0000"  >&lt;p&gt;Yes, seems same to me.&lt;/p&gt;</comment>
                            <comment id="14900810" author="stack" created="Mon, 21 Sep 2015 15:21:01 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt; for digging in.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So i think the issue is invalid, because it is an unresolved issue&apos;s QA information...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So, you think that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt; fixes this issue?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14900828" author="chenheng" created="Mon, 21 Sep 2015 15:29:51 +0000"  >&lt;blockquote&gt;
&lt;p&gt;So, you think that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt; fixes this issue?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It seems that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt; has fixed this issue.&lt;/p&gt;</comment>
                            <comment id="14900950" author="ashish singhi" created="Mon, 21 Sep 2015 16:40:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;So, you think that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt; fixes this issue?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;, there does not exist any issue here, we should resolve this jira. Why I say this because the test log pointed in description is from the QA bot run for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14391&quot; title=&quot;Empty regionserver WAL will never be deleted although the coresponding regionserver has been stale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14391&quot;&gt;HBASE-14391&lt;/a&gt; patch. Which was a valid failure for that jira and needs to be addressed there.&lt;/p&gt;</comment>
                            <comment id="14901168" author="stack" created="Mon, 21 Sep 2015 18:44:08 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt; for the helpful explanations.&lt;/p&gt;

&lt;p&gt;I&apos;ve been working on trying to stabilize the build. I didn&apos;t realize the failure particular to the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 21 Sep 2015 07:06:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2l5af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>