<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:10:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-16076/HBASE-16076.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-16076] Cannot configure split policy in HBase shell</title>
                <link>https://issues.apache.org/jira/browse/HBASE-16076</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The reference guide explains how to configure split policy in HBase shell(&lt;a href=&quot;http://hbase.apache.org/book.html#_custom_split_policies&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;link&lt;/a&gt;).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Configuring the Split Policy On a Table Using HBase Shell
hbase&amp;gt; create &apos;test&apos;, {METHOD =&amp;gt; &apos;table_att&apos;, CONFIG =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}},
{NAME =&amp;gt; &apos;cf1&apos;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But if run that command, shell complains &apos;An argument ignored (unknown or overridden): CONFIG&apos;, and the table description has no split policy.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hbase(main):067:0* create &apos;test&apos;, {METHOD =&amp;gt; &apos;table_att&apos;, CONFIG =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}}, {NAME =&amp;gt; &apos;cf1&apos;}
An argument ignored (unknown or overridden): CONFIG
Created table test
Took 1.2180 seconds

hbase(main):068:0&amp;gt; describe &apos;test&apos;
Table test is ENABLED
test
COLUMN FAMILIES DESCRIPTION
{NAME =&amp;gt; &apos;cf1&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, VERSIONS =&amp;gt; &apos;1&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, IN_MEMORY_COMPACTION =&amp;gt; &apos;false&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, IN_MEMORY =&amp;gt; &apos;
false&apos;, BLOCKCACHE =&amp;gt; &apos;true&apos;}
1 row(s)
Took 0.0200 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12981189">HBASE-16076</key>
            <summary>Cannot configure split policy in HBase shell</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chenheng">Heng Chen</assignee>
                                    <reporter username="y0un5">Youngjoon Kim</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jun 2016 04:56:55 +0000</created>
                <updated>Mon, 18 Jul 2016 07:34:05 +0000</updated>
                            <resolved>Mon, 18 Jul 2016 02:29:46 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15341255" author="chenheng" created="Tue, 21 Jun 2016 07:02:49 +0000"  >&lt;p&gt;I think it is document error.  Try command below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create &apos;test&apos;, {METHOD =&amp;gt; &apos;table_att&apos;, CONFIGURATION =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}}, {NAME =&amp;gt; &apos;cf1&apos;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15341270" author="chenheng" created="Tue, 21 Jun 2016 07:14:08 +0000"  >&lt;p&gt;Make a patch for this document error&lt;/p&gt;</comment>
                            <comment id="15341476" author="y0un5" created="Tue, 21 Jun 2016 09:58:53 +0000"  >&lt;p&gt;This command is executed without any error, but it doesn&apos;t set the split policy actually.&lt;/p&gt;

&lt;p&gt;If I create a table using Java API, the table description is as follow. SPLIT_POLICY is in METADATA in TABLE_ATTRIBUTES.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hbase(main):151:0* describe &apos;test&apos;
Table test is ENABLED
test, {TABLE_ATTRIBUTES =&amp;gt; {METADATA =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}}                                                                                                                                                 COLUMN FAMILIES DESCRIPTION
{NAME =&amp;gt; &apos;c&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, VERSIONS =&amp;gt; &apos;1&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, IN_MEMORY =&amp;gt; &apos;false&apos;, BLOCKCACHE =&amp;gt; &apos;true&apos;}
1 row(s) in 0.0210 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But, after running the shell command, the table description is as follow. SPLIT_POLICY is not in TABLE_ATTRIBUTES.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hbase(main):142:0&amp;gt; describe &apos;test&apos;
Table test is ENABLED                                                                                                                   
test, {CONFIGURATION =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}}                       
COLUMN FAMILIES DESCRIPTION                                                                                                             
{NAME =&amp;gt; &apos;cf1&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;, VERSIONS =&amp;gt; &apos;1&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, IN_MEMORY =&amp;gt; &apos;false&apos;, BLOCKCACHE =&amp;gt; &apos;true&apos;}  
1 row(s) in 0.0170 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And with a manual split test, I could see the shell command has no effect on the split policy. I suspect HBase shell doesn&apos;t support split policy configuration.&lt;/p&gt;</comment>
                            <comment id="15341570" author="chenheng" created="Tue, 21 Jun 2016 11:06:37 +0000"  >&lt;p&gt;Oh,  Let me check the code.   Will be back. &lt;/p&gt;</comment>
                            <comment id="15343260" author="chenheng" created="Wed, 22 Jun 2016 03:07:26 +0000"  >&lt;p&gt;After check the code,  please try command below:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):003:0&amp;gt; create &apos;test2&apos;, &apos;cf2&apos;, {METADATA =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}}
Created table test2
Took 1.2820 seconds
hbase(main):004:0&amp;gt; describe &apos;test2&apos;
Table test2 is ENABLED
test2, {TABLE_ATTRIBUTES =&amp;gt; {METADATA =&amp;gt; {&apos;SPLIT_POLICY&apos; =&amp;gt; &apos;org.apache.hadoop.hbase.regionserver.ConstantSizeRegionSplitPolicy&apos;}}
COLUMN FAMILIES DESCRIPTION
{NAME =&amp;gt; &apos;cf2&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, VERSIONS =&amp;gt; &apos;1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, IN_MEMORY_COMPACTION =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;,
TTL =&amp;gt; &apos;FOREVER&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, BLOCKCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;}
1 row(s)
Took 0.0100 seconds
hbase(main):005:0&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15343690" author="y0un5" created="Wed, 22 Jun 2016 04:23:53 +0000"  >&lt;p&gt;The last command works correctly. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chenheng&quot; class=&quot;user-hover&quot; rel=&quot;chenheng&quot;&gt;Heng Chen&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15343872" author="chenheng" created="Wed, 22 Jun 2016 07:54:39 +0000"  >&lt;p&gt;Need one more +1 before commit the patch. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15381038" author="enis" created="Sun, 17 Jul 2016 02:07:15 +0000"  >&lt;p&gt;+1. We recently ran into this and we were able to use the documented syntax. &lt;/p&gt;</comment>
                            <comment id="15381638" author="chenheng" created="Mon, 18 Jul 2016 02:29:47 +0000"  >&lt;p&gt;Commit to master&lt;/p&gt;</comment>
                            <comment id="15381837" author="hudson" created="Mon, 18 Jul 2016 07:34:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-Trunk_matrix #1249 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/1249/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/1249/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16076&quot; title=&quot;Cannot configure split policy in HBase shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16076&quot;&gt;&lt;del&gt;HBASE-16076&lt;/del&gt;&lt;/a&gt; Cannot configure split policy in HBase shell (chenheng: rev cf0f4f72d989a86d062010773874d98870ad2e59)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/io/hfile/HFileBlockIndex.java&lt;/li&gt;
	&lt;li&gt;src/main/asciidoc/_chapters/architecture.adoc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12762194">HBASE-12701</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12812107" name="HBASE-16076.patch" size="1050" author="chenheng" created="Tue, 21 Jun 2016 07:14:08 +0000"/>
                            <attachment id="12812377" name="HBASE-16076_v1.patch" size="1099" author="chenheng" created="Wed, 22 Jun 2016 03:18:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jun 2016 07:02:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2zs8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>