<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:41:32 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13270/HBASE-13270.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13270] Setter for Result#getStats is #addResults; confusing!</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13270</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Below is our &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt; on a finding he made reviewing our API:&lt;/p&gt;

&lt;p&gt;&quot;Result class having getStats() and addResults(Stats) makes little sense...&quot;&lt;/p&gt;

&lt;p&gt;&quot;...the naming is just weird. You have a getStats() getter and an addResults(Stats) setter???&quot;&lt;/p&gt;

&lt;p&gt;&quot;...Especially in the Result class and addResult() is plain misleading...&quot;&lt;/p&gt;

&lt;p&gt;This issue is about deprecating addResults and replacing it with addStats in its place.&lt;/p&gt;

&lt;p&gt;The getStats/addResult is recent. It came in with:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
commit a411227b0ebf78b4ee8ae7179e162b54734e77de
Author: Jesse Yates &amp;lt;jesse.k.yates@gmail.com&amp;gt;
Date:   Tue Oct 28 16:14:16 2014 -0700

    HBASE-5162 Basic client pushback mechanism
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;RegionLoadStats don&apos;t belong in Result if you ask me but better in the enveloping on invocations... but that is another issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782973">HBASE-13270</key>
            <summary>Setter for Result#getStats is #addResults; confusing!</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mantonov">Mikhail Antonov</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Wed, 18 Mar 2015 18:21:20 +0000</created>
                <updated>Tue, 22 Dec 2015 06:49:50 +0000</updated>
                            <resolved>Thu, 9 Apr 2015 17:46:15 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14368174" author="mantonov" created="Wed, 18 Mar 2015 23:57:47 +0000"  >&lt;p&gt;trivial patch&lt;/p&gt;</comment>
                            <comment id="14368844" author="larsgeorge" created="Thu, 19 Mar 2015 10:45:21 +0000"  >&lt;p&gt;I am +1 on the patch.&lt;/p&gt;</comment>
                            <comment id="14368848" author="mbertozzi" created="Thu, 19 Mar 2015 10:48:51 +0000"  >&lt;p&gt;dumb question: why addStats() and not setStats()? we are not appending anything... maybe it is just grammar or it sounds better dunno &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14369860" author="mantonov" created="Thu, 19 Mar 2015 18:28:14 +0000"  >&lt;p&gt;Hmm, I suppose you&apos;re right &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Did that pretty much automatically. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt; which one you&apos;d prefer?&lt;/p&gt;</comment>
                            <comment id="14370874" author="larsgeorge" created="Fri, 20 Mar 2015 07:02:56 +0000"  >&lt;p&gt;Since the I am not sure what the original intent was, maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jesse_yates&quot; class=&quot;user-hover&quot; rel=&quot;jesse_yates&quot;&gt;Jesse Yates&lt;/a&gt; could chime in?&lt;/p&gt;

&lt;p&gt;From the usage which does this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (roe.hasResult()) {
          responseValue = ProtobufUtil.toResult(roe.getResult(), cells);
          &lt;span class=&quot;code-comment&quot;&gt;// add the load stats, &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we got any
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (roe.hasLoadStats()) {
            ((Result) responseValue).addResults(roe.getLoadStats());
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;it looks like a one off call, i.e. straight assignment as the code does internally already. In this case I am +1 for naming it &lt;tt&gt;setStats()&lt;/tt&gt; instead as you suggest.&lt;/p&gt;

&lt;p&gt;In fact, I am a hater for these short names anyways (all IDEs with autocompletion take this pain away these days) and would rather suggest we use &lt;tt&gt;setStatistics()/getStatistics()&lt;/tt&gt; - and since this is arbitrary, even better &lt;tt&gt;setRegionLoadStatistics()/getRegionLoadStatistics()&lt;/tt&gt;. This makes it much more user friendly without having to resort to JavaDoc and other measures. &lt;/p&gt;</comment>
                            <comment id="14370964" author="jesse_yates" created="Fri, 20 Mar 2015 08:43:26 +0000"  >&lt;p&gt;I think the original naming came from the fact that the method calling addResults is managing multiple Results, or maybe its adding the result load as a result of the last requests....neither is necessarily a good reason, but that&apos;s all I can think of &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt;, generally I agree with your style of naming as well; setStatistics()/getStatistics() would certainly be better in this case, but this was to be the foundation of a more widespread statistics mechanism, so setRegionLoadStatistics() didn&apos;t make as much sense in the longer view. Not sure why I got lazy this time.&lt;/p&gt;

&lt;p&gt;Sorry about this fellas - thanks for the cleanup.&lt;/p&gt;

&lt;p&gt;+1 on the patch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;RegionLoadStats don&apos;t belong in Result&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;There really wasn&apos;t a better place to put it, well, without completely re-architecting the client (again). It was expedient, got the data where it needed to go - back into the client&apos;s rpc caller. Happy to talk about how we can do it better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14370976" author="mantonov" created="Fri, 20 Mar 2015 08:50:00 +0000"  >&lt;p&gt;To me setRegionLoadStatistics sounds a bit too long for that field (though nobody pays for bytes.. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ). setStatistics() sounds about right?&lt;/p&gt;</comment>
                            <comment id="14370977" author="jesse_yates" created="Fri, 20 Mar 2015 08:51:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;setStatistics() sounds about right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yup!&lt;/p&gt;</comment>
                            <comment id="14486931" author="mantonov" created="Thu, 9 Apr 2015 08:03:59 +0000"  >&lt;p&gt;it escaped my attention..here&apos;s updated to setStatistics patch.&lt;/p&gt;</comment>
                            <comment id="14487099" author="hadoopqa" created="Thu, 9 Apr 2015 10:26:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12724177/HBASE-13270-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12724177/HBASE-13270-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 80dbf06651e527ec0421ce51e4712ffb2f1d078b.&lt;br/&gt;
  ATTACHMENT ID: 12724177&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13644//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14487104" author="mbertozzi" created="Thu, 9 Apr 2015 10:29:05 +0000"  >&lt;p&gt;+1 on v2&lt;/p&gt;</comment>
                            <comment id="14487743" author="stack" created="Thu, 9 Apr 2015 17:46:15 +0000"  >&lt;p&gt;Pushed to branch-1+. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14487797" author="mantonov" created="Thu, 9 Apr 2015 18:09:25 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14488148" author="hudson" created="Thu, 9 Apr 2015 20:02:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #383 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/383/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/383/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13270&quot; title=&quot;Setter for Result#getStats is #addResults; confusing!&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13270&quot;&gt;&lt;del&gt;HBASE-13270&lt;/del&gt;&lt;/a&gt; Setter for Result#getStats is #addResults; confusing! (stack: rev c73f1a5183f141d7b58c5d64c439aa0f9aff0b98)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Result.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14488183" author="hudson" created="Thu, 9 Apr 2015 20:16:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-TRUNK #6362 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6362/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6362/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13270&quot; title=&quot;Setter for Result#getStats is #addResults; confusing!&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13270&quot;&gt;&lt;del&gt;HBASE-13270&lt;/del&gt;&lt;/a&gt; Setter for Result#getStats is #addResults; confusing! (stack: rev 1deadb60d1a684cbc1a45cfeb6eee176ad93958f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Result.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14571100" author="ndimiduk" created="Wed, 3 Jun 2015 15:28:56 +0000"  >&lt;p&gt;Closing issues released in 1.1.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12724177" name="HBASE-13270-v2.patch" size="1776" author="mantonov" created="Thu, 9 Apr 2015 08:03:59 +0000"/>
                            <attachment id="12705477" name="HBASE-13270.patch" size="1225" author="mantonov" created="Wed, 18 Mar 2015 23:57:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Mar 2015 23:57:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26xof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Deprecates Result#addResults in favor of Result#setStatistics</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>