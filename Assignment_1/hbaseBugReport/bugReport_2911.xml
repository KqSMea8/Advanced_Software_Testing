<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:05:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2911/HBASE-2911.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2911] [stargate] Fix JSON handling of META and ROOT</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2911</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While working on the HBase Explorer front end in Hue I found a few inconsistencies between the plain text version of values versus the JSON representation. From an email conversation:&lt;/p&gt;

&lt;p&gt;Plain Text&lt;br/&gt;
---------------&lt;/p&gt;

&lt;p&gt;$ curl -H &quot;curl -H &quot;Accept: text/plain&quot; localhost:8888/status/cluster&lt;br/&gt;
1 live servers, 0 dead servers, 5.0000 average load&lt;/p&gt;

&lt;p&gt;1 live servers&lt;br/&gt;
   de1-app-mbp-2.fritz.box:62884 1280924907616&lt;br/&gt;
       requests=0, regions=5&lt;br/&gt;
       heapSizeMB=27&lt;br/&gt;
       maxHeapSizeMB=995&lt;/p&gt;

&lt;p&gt;       t2,,1280917558997&lt;br/&gt;
           stores=3&lt;br/&gt;
           storefiless=0&lt;br/&gt;
           storefileSizeMB=0&lt;br/&gt;
           memstoreSizeMB=0&lt;br/&gt;
           storefileIndexSizeMB=0&lt;br/&gt;
       usertable,,1280917566604&lt;br/&gt;
           stores=3&lt;br/&gt;
           storefiless=2&lt;br/&gt;
           storefileSizeMB=224&lt;br/&gt;
           memstoreSizeMB=0&lt;br/&gt;
           storefileIndexSizeMB=0&lt;br/&gt;
       .META.,,1&lt;br/&gt;
           stores=2&lt;br/&gt;
           storefiless=1&lt;br/&gt;
           storefileSizeMB=0&lt;br/&gt;
           memstoreSizeMB=0&lt;br/&gt;
           storefileIndexSizeMB=0&lt;br/&gt;
       t1,,1280917554475&lt;br/&gt;
           stores=3&lt;br/&gt;
           storefiless=0&lt;br/&gt;
           storefileSizeMB=0&lt;br/&gt;
           memstoreSizeMB=0&lt;br/&gt;
           storefileIndexSizeMB=0&lt;br/&gt;
       &amp;#45;ROOT&amp;#45;,,0&lt;br/&gt;
           stores=1&lt;br/&gt;
           storefiless=1&lt;br/&gt;
           storefileSizeMB=0&lt;br/&gt;
           memstoreSizeMB=0&lt;br/&gt;
           storefileIndexSizeMB=0&lt;/p&gt;

&lt;p&gt;JSON&lt;br/&gt;
---------&lt;/p&gt;

&lt;p&gt;And curling the JSON yields:&lt;/p&gt;

&lt;p&gt;$ curl -H &quot;Accept: application/json&quot; localhost:8888/status/cluster&lt;br/&gt;
{&quot;requests&quot;:0,&quot;regions&quot;:5,&quot;averageLoad&quot;:5.0,&quot;DeadNodes&quot;:&lt;span class=&quot;error&quot;&gt;&amp;#91;null&amp;#93;&lt;/span&gt;,&quot;LiveNodes&quot;:[{&quot;Node&quot;:{&quot;startCode&quot;:1280924907616,&quot;requests&quot;:0,&quot;name&quot;:&quot;de1-app-mbp-2.fritz.box:62884&quot;,&quot;maxHeapSizeMB&quot;:995,&quot;heapSizeMB&quot;:27,&quot;Region&quot;:[&lt;/p&gt;
{&quot;stores&quot;:3,&quot;storefiles&quot;:0,&quot;storefileSizeMB&quot;:0,&quot;storefileIndexSizeMB&quot;:0,&quot;name&quot;:&quot;dDIsLDEyODA5MTc1NTg5OTc=&quot;,&quot;memstoreSizeMB&quot;:0}
&lt;p&gt;,&lt;/p&gt;
{&quot;stores&quot;:3,&quot;storefiles&quot;:2,&quot;storefileSizeMB&quot;:224,&quot;storefileIndexSizeMB&quot;:0,&quot;name&quot;:&quot;dXNlcnRhYmxlLCwxMjgwOTE3NTY2NjA0&quot;,&quot;memstoreSizeMB&quot;:0}
&lt;p&gt;,&lt;/p&gt;
{&quot;stores&quot;:2,&quot;storefiles&quot;:1,&quot;storefileSizeMB&quot;:0,&quot;storefileIndexSizeMB&quot;:0,&quot;name&quot;:&quot;Lk1FVEEuLCwx&quot;,&quot;memstoreSizeMB&quot;:0}
&lt;p&gt;,&lt;/p&gt;
{&quot;stores&quot;:3,&quot;storefiles&quot;:0,&quot;storefileSizeMB&quot;:0,&quot;storefileIndexSizeMB&quot;:0,&quot;name&quot;:&quot;dDEsLDEyODA5MTc1NTQ0NzU=&quot;,&quot;memstoreSizeMB&quot;:0}
&lt;p&gt;,&lt;/p&gt;
{&quot;stores&quot;:1,&quot;storefiles&quot;:1,&quot;storefileSizeMB&quot;:0,&quot;storefileIndexSizeMB&quot;:0,&quot;name&quot;:&quot;LVJPT1QtLCww&quot;,&quot;memstoreSizeMB&quot;:0}
&lt;p&gt;]}}]}&lt;/p&gt;


&lt;p&gt;And another one:&lt;/p&gt;

&lt;p&gt;I have another one with .META. and &amp;#45;ROOT&amp;#45;, in my small sample setup (all local, /tmp etc.) I see this in the master UI:&lt;/p&gt;

&lt;p&gt;Name	 Region Server	 Encoded Name	 Start Key	 End Key&lt;br/&gt;
.META.,,1	10.0.0.43:60030	 -		&lt;/p&gt;

&lt;p&gt;But running the same against Stargate I get:&lt;/p&gt;

&lt;p&gt;$ curl -H &quot;Accept: application/json&quot; &lt;a href=&quot;http://localhost:8888/.META./regions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8888/.META./regions&lt;/a&gt;&lt;/p&gt;
{&quot;name&quot;:&quot;.META.&quot;}

&lt;p&gt;while a &quot;normal&quot; user table with a single row has&lt;/p&gt;

&lt;p&gt;Name	 Region Server	 Encoded Name	 Start Key	 End Key&lt;br/&gt;
t1,,1281111615489	10.0.0.43:60030	 1127696125		&lt;/p&gt;

&lt;p&gt;and through Stargate:&lt;/p&gt;

&lt;p&gt;$ curl -H &quot;Accept: application/json&quot; &lt;a href=&quot;http://localhost:8888/t1/regions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8888/t1/regions&lt;/a&gt;&lt;br/&gt;
{&quot;name&quot;:&quot;t1&quot;,&quot;Region&quot;:[&lt;/p&gt;
{&quot;location&quot;:&quot;10.0.0.43:54988&quot;,&quot;endKey&quot;:&quot;&quot;,&quot;startKey&quot;:&quot;&quot;,&quot;id&quot;:1281111615489,&quot;name&quot;:&quot;t1,,1281111615489&quot;}
&lt;p&gt;]}&lt;/p&gt;

&lt;p&gt;So the internal tables are not reported right.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12471387">HBASE-2911</key>
            <summary>[stargate] Fix JSON handling of META and ROOT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="larsgeorge">Lars George</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Aug 2010 08:14:26 +0000</created>
                <updated>Wed, 24 Nov 2010 21:42:16 +0000</updated>
                            <resolved>Wed, 24 Nov 2010 21:24:45 +0000</resolved>
                                                                    <component>REST</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12897637" author="larsgeorge" created="Thu, 12 Aug 2010 08:57:13 +0000"  >&lt;p&gt;Maybe also fix the &quot;Region&quot; singular to make it &quot;Regions&quot;? &lt;/p&gt;</comment>
                            <comment id="12918777" author="apurtell" created="Thu, 7 Oct 2010 03:40:31 +0000"  >&lt;p&gt;HTable#getRegionsInfo does not return region information for meta tables. This is what Stargate uses to query table region information. So /&amp;lt;table&amp;gt;/regions is only useful for user tables.&lt;/p&gt;</comment>
                            <comment id="12935517" author="larsgeorge" created="Wed, 24 Nov 2010 21:42:16 +0000"  >&lt;p&gt;Understood on the latter issue. But that does not explain the former? See the top part plain text vs. the JSON. One reports META and ROOT the other does not. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Oct 2010 03:40:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hjsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>100469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>