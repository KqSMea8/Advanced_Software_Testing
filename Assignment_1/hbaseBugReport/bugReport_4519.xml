<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:19:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4519/HBASE-4519.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4519] 25s sleep when expiring sessions in tests</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4519</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There&apos;s a hardcoded 25 seconds sleep in HBaseTestingUtility.expireSession: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; sessionTimeout = 5 * 1000; &lt;span class=&quot;code-comment&quot;&gt;// 5 seconds
&lt;/span&gt;...
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; sleep = sessionTimeout * 5L;
LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;ZK Closed Session 0x&quot;&lt;/span&gt; + &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.toHexString(sessionID) +
  &lt;span class=&quot;code-quote&quot;&gt;&quot;; sleeping=&quot;&lt;/span&gt; + sleep);
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(sleep);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m pretty sure this can be lowered at lot, and it would speed up a couple of tests. The only thing I&apos;m afraid of is if this was made to accomodate flaky tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525256">HBASE-4519</key>
            <summary>25s sleep when expiring sessions in tests</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Sep 2011 23:15:47 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:04 +0000</updated>
                            <resolved>Wed, 23 Nov 2011 16:07:47 +0000</resolved>
                                    <version>0.90.4</version>
                                    <fixVersion>0.94.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13118525" author="stack" created="Fri, 30 Sep 2011 22:33:23 +0000"  >&lt;p&gt;I&apos;m running a build w/ sleep set to 10seconds.&lt;/p&gt;</comment>
                            <comment id="13118674" author="stack" created="Sat, 1 Oct 2011 05:18:33 +0000"  >&lt;p&gt;I tried it and these failed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testOnlineChangeTableSchema(org.apache.hadoop.hbase.client.TestAdmin)
  testForceSplitMultiFamily(org.apache.hadoop.hbase.client.TestAdmin): expected:&amp;lt;2&amp;gt; but was:&amp;lt;1&amp;gt;
  testMergeTool(org.apache.hadoop.hbase.util.TestMergeTool): &apos;merging regions 0 and 1&apos; failed with errCode -1
  testResetZooKeeperSession(org.apache.hadoop.hbase.replication.TestReplicationPeer): ReplicationPeer ZooKeeper session was not properly expired.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The TestReplicationPeer might be related.&lt;/p&gt;</comment>
                            <comment id="13126483" author="nkeywal" created="Thu, 13 Oct 2011 10:50:41 +0000"  >&lt;p&gt;Seems that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1291&quot; title=&quot;Lowering zookeeper.session.timeout breaks tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1291&quot;&gt;&lt;del&gt;HBASE-1291&lt;/del&gt;&lt;/a&gt; is on the same subject, and it says:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We currently use 10 seconds for zookeeper.session.timeout. I tried bumping this down recently to 2 seconds, and it broke the tests. We need to investigate why this change breaks our test.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So the timeout have been increased somewhere...&lt;/p&gt;</comment>
                            <comment id="13126631" author="stack" created="Thu, 13 Oct 2011 14:41:38 +0000"  >&lt;p&gt;I resolved hbase-1291 as dup of this.  Good one nkeywal.&lt;/p&gt;</comment>
                            <comment id="13139454" author="stack" created="Sat, 29 Oct 2011 21:34:56 +0000"  >&lt;p&gt;Nicolas, you might want to take a look at thi sone.&lt;/p&gt;</comment>
                            <comment id="13139643" author="nkeywal" created="Sun, 30 Oct 2011 15:22:54 +0000"  >&lt;p&gt;TestZooKeeper#testClientSessionExpired() has a very similar piece of code, with a 15s timeout &apos;only&apos;. &lt;br/&gt;
But when i tried this value, I had a failure in TestFromClientSide... to be continued&lt;/p&gt;</comment>
                            <comment id="13155815" author="nkeywal" created="Wed, 23 Nov 2011 11:30:12 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4798&quot; title=&quot;Sleeps and synchronisation improvements for tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4798&quot;&gt;&lt;del&gt;HBASE-4798&lt;/del&gt;&lt;/a&gt;. We now set a timeout for the zookeeper of 0,5s, then we wait 7 seconds. It works.&lt;/p&gt;</comment>
                            <comment id="13155937" author="stack" created="Wed, 23 Nov 2011 16:07:47 +0000"  >&lt;p&gt;Fixed by hbase-4798&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12527439">HBASE-4602</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Sep 2011 22:33:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08qxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>