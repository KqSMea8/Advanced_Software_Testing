<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:59:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2107/HBASE-2107.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2107] Upgrading Lucene 2.2 to Lucene 3.0.0 </title>
                <link>https://issues.apache.org/jira/browse/HBASE-2107</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HBase has an utility to export columns as Lucene indices. (o.a.h.hbase.mapreduce.BuildTableIndex ) . &lt;/p&gt;

&lt;p&gt;This patch increases the version in libraries.properties and addresses some deprecations towards moving it. &lt;/p&gt;

&lt;p&gt;Rationale for upgradation:&lt;br/&gt;
====================&lt;/p&gt;

&lt;p&gt;A lot has been happening in the Lucene since 2.2, with improved performance and focus on NRT (Near Real Time search) happening recently.  Hence - we need to keep up with the same and make the utility publish indices for the new version. &lt;/p&gt;

&lt;p&gt;Caveats:&lt;br/&gt;
=======&lt;br/&gt;
Index created by Lucene 3.0 is &lt;b&gt;not backward-compatible&lt;/b&gt; with Lucene 2.2 code.  In other words - as part of this upgradation - indices need to be created all over again and the library interacting with the index ( readers / searchers ) need to be upgraded to the new version as well. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12445212">HBASE-2107</key>
            <summary>Upgrading Lucene 2.2 to Lucene 3.0.0 </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kaykay.unique">Karthik K</assignee>
                                    <reporter username="kaykay.unique">Karthik K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jan 2010 20:38:33 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:19 +0000</updated>
                            <resolved>Mon, 11 Jan 2010 22:29:49 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12798853" author="kaykay.unique" created="Mon, 11 Jan 2010 20:40:55 +0000"  >&lt;p&gt;Deprecated methods / removals: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Field.TOKENIZED renamed as Field.ANALYZED (with the former removed altogether ).&lt;/li&gt;
	&lt;li&gt;IndexWriter ctor.   IndexWrite(String,Analyzer,boolean) removed in favor of Directory based input. In our case - we prefer file-based Directory implementation.&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="12798865" author="stack" created="Mon, 11 Jan 2010 21:17:55 +0000"  >&lt;p&gt;When I try the patch, I get this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
compile-core-test:
    [javac] Compiling 98 source files to /Users/stack/checkouts/hbase/trunk/build/test
    [javac] /Users/stack/checkouts/hbase/trunk/src/test/org/apache/hadoop/hbase/mapreduce/DisabledBecauseVariableSubstTooLargeExceptionTestTableIndex.java:208: cannot find symbol
    [javac] symbol  : constructor IndexSearcher(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)
    [javac] location: class org.apache.lucene.search.IndexSearcher
    [javac]         searcher = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IndexSearcher((&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(indexDirs[0].getPath().
    [javac]                    ^
    [javac] /Users/stack/checkouts/hbase/trunk/src/test/org/apache/hadoop/hbase/mapreduce/DisabledBecauseVariableSubstTooLargeExceptionTestTableIndex.java:213: cannot find symbol
    [javac] symbol  : constructor IndexSearcher(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)
    [javac] location: class org.apache.lucene.search.IndexSearcher
    [javac]           searchers[i] = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IndexSearcher((&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(indexDirs[i].getPath().
    [javac]                          ^
    [javac] /Users/stack/checkouts/hbase/trunk/src/test/org/apache/hadoop/hbase/mapreduce/DisabledBecauseVariableSubstTooLargeExceptionTestTableIndex.java:238: cannot find symbol
    [javac] symbol  : method search(org.apache.lucene.search.TermQuery)
    [javac] location: class org.apache.lucene.search.Searcher
    [javac]         &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; hitCount = searcher.search(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TermQuery(term)).length();
    [javac]                                ^
    [javac] Note: Some input files use or override a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
    [javac] Note: /Users/stack/checkouts/hbase/trunk/src/test/org/apache/hadoop/hbase/HBaseTestCase.java uses unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
    [javac] 3 errors
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Its a disabled test.  I can remove it but if you are going to play with lucene, you might want to pay attention to it.  The way configuration was passed to lucene was by embedding a bunch of xml into a Configuration property.  On occasion we were seeing that hadoop would complain because there were too many substitutions/interpolations happening... it has a max of 20 or so (The substitution I&apos;m referring to is the feature where $&lt;/p&gt;
{hadoop.tmp.dir}
&lt;p&gt; gets replaced by whatever the value of the hadoop.tmp.dir property is).&lt;/p&gt;</comment>
                            <comment id="12798867" author="kaykay.unique" created="Mon, 11 Jan 2010 21:25:19 +0000"  >&lt;p&gt;Oops. Sorry.  My bad. Let me add more (src/test/**) to fix this. &lt;/p&gt;</comment>
                            <comment id="12798883" author="stack" created="Mon, 11 Jan 2010 22:12:03 +0000"  >&lt;p&gt;For the exception that caused us disable this test, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-26&quot; title=&quot;[hbase] TestTableIndex: variable substitution depth too large: 20&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-26&quot;&gt;&lt;del&gt;HBASE-26&lt;/del&gt;&lt;/a&gt;.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-172&quot; title=&quot;[hbase] TestTableIndex failed in patch build #970 and #956&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-172&quot;&gt;&lt;del&gt;HBASE-172&lt;/del&gt;&lt;/a&gt; has actual stack trace.&lt;/p&gt;</comment>
                            <comment id="12798886" author="kaykay.unique" created="Mon, 11 Jan 2010 22:16:41 +0000"  >&lt;p&gt;For now - I have just fixed the compilation error , but left the test disabled as before. &lt;/p&gt;</comment>
                            <comment id="12798888" author="kaykay.unique" created="Mon, 11 Jan 2010 22:18:18 +0000"  >&lt;p&gt;Auto-generated code stub comments removed. &lt;/p&gt;</comment>
                            <comment id="12798893" author="stack" created="Mon, 11 Jan 2010 22:29:49 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="12798894" author="stack" created="Mon, 11 Jan 2010 22:30:06 +0000"  >&lt;p&gt;Thanks for patch Kay Kay.&lt;/p&gt;</comment>
                            <comment id="12842374" author="kaykay.unique" created="Sun, 7 Mar 2010 08:11:27 +0000"  >&lt;p&gt;For the sake of completion - revised project moved out and available at - &lt;a href=&quot;http://github.com/akkumar/lucene-hbase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/akkumar/lucene-hbase&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="12842438" author="stack" created="Sun, 7 Mar 2010 15:13:05 +0000"  >&lt;p&gt;You want to add to supporting projects kay kay?&lt;/p&gt;</comment>
                            <comment id="12842945" author="kaykay.unique" created="Tue, 9 Mar 2010 07:16:34 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; You want to add to supporting projects kay kay?&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Thanks for the pointers, stack. Lucene-HBase should also be in the &lt;a href=&quot;http://wiki.apache.org/hadoop/SupportingProjects&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/SupportingProjects&lt;/a&gt; . &lt;/p&gt;</comment>
                            <comment id="15017773" author="lars_francke" created="Fri, 20 Nov 2015 13:01:19 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12429941" name="HBASE-2107.patch" size="9449" author="kaykay.unique" created="Mon, 11 Jan 2010 22:18:18 +0000"/>
                            <attachment id="12429939" name="HBASE-2107.patch" size="9482" author="kaykay.unique" created="Mon, 11 Jan 2010 22:15:48 +0000"/>
                            <attachment id="12429935" name="HBASE-2107.patch" size="6029" author="kaykay.unique" created="Mon, 11 Jan 2010 20:41:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jan 2010 21:17:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hgfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>