<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:05:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2826/HBASE-2826.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2826] Unhelpful exception from Client on HBase master startup when hbase.rootdir is incorrect.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2826</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As per users@hbase.apache.org thread: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hbase-user/201007.mbox/%3CAANLkTimyCtWiuNxWw9P2IFAy6Y4Q7X8oLZSZNdggV3Nn@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hbase-user/201007.mbox/%3CAANLkTimyCtWiuNxWw9P2IFAy6Y4Q7X8oLZSZNdggV3Nn@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I setup HBase (and as such, Zookeeper) on Ubuntu Karmic using the Cloudera Karmic CDH3 distribution. Zookeeper has installed fine, however when it comes to starting an hbase master, it falls over with the following exception:&lt;/p&gt;

&lt;p&gt;(stack trace summarised to last bit)&lt;br/&gt;
Caused by: java.io.EOFException&lt;br/&gt;
   at java.io.DataInputStream.readInt(DataInputStream.java:375)&lt;br/&gt;
   at org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:508)&lt;br/&gt;
   at org.apache.hadoop.ipc.Client$Connection.run(Client.java:446)&lt;/p&gt;

&lt;p&gt;The cause was that the hbase.rootdir was incorrectly set to hdfs://master:50071/hbase, when it should have been set to port 50070. After remedying this hbase master started fine.&lt;/p&gt;

&lt;p&gt;I was asked to raise this as a JIRA to investigate the possibility of improving the handling of the EOFException to perhaps indicate more clearly to the user that an incorrect address has been specified for the rootdir, rather than the very unclear statement above.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu Karmic, using Cloudera distribution karmic-cdh3. The exact hbase version is 0.89.20100621+17.&lt;/p&gt;</environment>
        <key id="12468953">HBASE-2826</key>
            <summary>Unhelpful exception from Client on HBase master startup when hbase.rootdir is incorrect.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jdcockrill">James Cockrill</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jul 2010 20:35:30 +0000</created>
                <updated>Sun, 8 Jun 2014 22:00:17 +0000</updated>
                            <resolved>Sun, 8 Jun 2014 22:00:17 +0000</resolved>
                                    <version>0.90.0</version>
                                                    <component>IPC/RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12886874" author="jdcockrill" created="Fri, 9 Jul 2010 20:42:51 +0000"  >&lt;p&gt;Updated to remove incorrect ubuntu version from the description. Some of our desktops are on 10.04 (Lucid) but the servers are currently on karmic until we get round to upgrading them (if we bother)&lt;/p&gt;</comment>
                            <comment id="12923151" author="mrjones98" created="Wed, 20 Oct 2010 20:20:41 +0000"  >&lt;p&gt;So, I was getting a similar error (EOFException) that ended up having a different cause... &lt;/p&gt;

&lt;p&gt;I was using Cloudera&apos;s CDH3b3 release of Hadoop but pulled the Apache dev release of HBase instead of Cloudera&apos;s. I had attempted to tweak the hostname and port given James&apos; experience. This didn&apos;t seem to help at all so after some help on IRC from JD, we figured it out after looking at the namenode logs which indicated an incorrect header or version mismatch...&lt;/p&gt;

&lt;p&gt;Here&apos;s my stack trace from the HBase master log (also at &lt;a href=&quot;http://pastebin.com/4zgygvpu):&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/4zgygvpu):&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2010-10-20 09:33:11,180 INFO org.apache.hadoop.hbase.ipc.HBaseRpcMetrics: Initializing RPC Metrics with hostName=HMaster, port=60000&lt;br/&gt;
2010-10-20 09:33:11,551 ERROR org.apache.hadoop.hbase.master.HMaster: Failed to start master&lt;br/&gt;
java.lang.RuntimeException: Failed construction of Master: class org.apache.hadoop.hbase.master.HMasterCall to master-local/127.0.0.1:8020 failed on local exception: java.io.EOFException&lt;br/&gt;
at org.apache.hadoop.hbase.master.HMaster.constructMaster(HMaster.java:1232)&lt;br/&gt;
at org.apache.hadoop.hbase.master.HMaster.doMain(HMaster.java:1338)&lt;br/&gt;
at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:1389)&lt;br/&gt;
Caused by: java.lang.reflect.InvocationTargetException&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
at org.apache.hadoop.hbase.master.HMaster.constructMaster(HMaster.java:1230)&lt;br/&gt;
... 2 more&lt;br/&gt;
Caused by: java.io.IOException: Call to master-local/127.0.0.1:8020 failed on local exception: java.io.EOFException&lt;br/&gt;
at org.apache.hadoop.ipc.Client.wrapException(Client.java:775)&lt;br/&gt;
at org.apache.hadoop.ipc.Client.call(Client.java:743)&lt;br/&gt;
at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:220)&lt;br/&gt;
at $Proxy0.getProtocolVersion(Unknown Source)&lt;br/&gt;
at org.apache.hadoop.ipc.RPC.getProxy(RPC.java:359)&lt;br/&gt;
at org.apache.hadoop.hdfs.DFSClient.createRPCNamenode(DFSClient.java:112)&lt;br/&gt;
at org.apache.hadoop.hdfs.DFSClient.&amp;lt;init&amp;gt;(DFSClient.java:213)&lt;br/&gt;
at org.apache.hadoop.hdfs.DFSClient.&amp;lt;init&amp;gt;(DFSClient.java:176)&lt;br/&gt;
at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:82)&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:1378)&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:66)&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:1390)&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:196)&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:95)&lt;br/&gt;
at org.apache.hadoop.hbase.master.HMaster.&amp;lt;init&amp;gt;(HMaster.java:217)&lt;br/&gt;
... 7 more&lt;br/&gt;
Caused by: java.io.EOFException&lt;br/&gt;
at java.io.DataInputStream.readInt(DataInputStream.java:375)&lt;br/&gt;
at org.apache.hadoop.ipc.Client$Connection.receiveResponse(Client.java:501)&lt;br/&gt;
at org.apache.hadoop.ipc.Client$Connection.run(Client.java:446)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was using hadoop-0.20.2+737 from Cloudera and hbase-0.89.20100924 instead of the appropriate 20100924+28 from Cloudera.&lt;/p&gt;

&lt;p&gt;So, while this wasn&apos;t a result of the hbase.rootdir being incorrect, it is an unhelpful exception...&lt;/p&gt;</comment>
                            <comment id="14021434" author="apurtell" created="Sun, 8 Jun 2014 22:00:17 +0000"  >&lt;p&gt;Stale&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Oct 2010 20:20:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02f0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>error handling, unhelpful exception message</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>