<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:45:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13690/HBASE-13690.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13690] Client Scanner Initialization Reformats strings every time</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13690</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The client scanner continually goes back into the conf for values...&lt;/p&gt;

&lt;p&gt;  public ClientScanner(final Configuration conf, final Scan scan, final TableName tableName,&lt;br/&gt;
      HConnection connection, RpcRetryingCallerFactory rpcFactory,&lt;br/&gt;
      RpcControllerFactory controllerFactory) throws IOException {&lt;br/&gt;
      if (LOG.isTraceEnabled()) &lt;/p&gt;
{
        LOG.trace(&quot;Scan table=&quot; + tableName
            + &quot;, startRow=&quot; + Bytes.toStringBinary(scan.getStartRow()));
      }
&lt;p&gt;      this.scan = scan;&lt;br/&gt;
      this.tableName = tableName;&lt;br/&gt;
      this.lastNext = System.currentTimeMillis();&lt;br/&gt;
      this.connection = connection;&lt;br/&gt;
      if (scan.getMaxResultSize() &amp;gt; 0) &lt;/p&gt;
{
        this.maxScannerResultSize = scan.getMaxResultSize();
      }
&lt;p&gt; else &lt;/p&gt;
{
        this.maxScannerResultSize = conf.getLong(
          HConstants.HBASE_CLIENT_SCANNER_MAX_RESULT_SIZE_KEY,
          HConstants.DEFAULT_HBASE_CLIENT_SCANNER_MAX_RESULT_SIZE);
      }
&lt;p&gt;      this.scannerTimeout = HBaseConfiguration.getInt(conf,&lt;br/&gt;
        HConstants.HBASE_CLIENT_SCANNER_TIMEOUT_PERIOD,&lt;br/&gt;
        HConstants.HBASE_REGIONSERVER_LEASE_PERIOD_KEY,&lt;br/&gt;
        HConstants.DEFAULT_HBASE_CLIENT_SCANNER_TIMEOUT_PERIOD);&lt;/p&gt;

&lt;p&gt;      // check if application wants to collect scan metrics&lt;br/&gt;
      initScanMetrics(scan);&lt;/p&gt;

&lt;p&gt;      // Use the caching from the Scan.  If not set, use the default cache setting for this table.&lt;br/&gt;
      if (this.scan.getCaching() &amp;gt; 0) &lt;/p&gt;
{
        this.caching = this.scan.getCaching();
      }
&lt;p&gt; else &lt;/p&gt;
{
        this.caching = conf.getInt(
            HConstants.HBASE_CLIENT_SCANNER_CACHING,
            HConstants.DEFAULT_HBASE_CLIENT_SCANNER_CACHING);
      }

&lt;p&gt;      this.caller = rpcFactory.&amp;lt;Result[]&amp;gt; newCaller();&lt;br/&gt;
      this.rpcControllerFactory = controllerFactory;&lt;/p&gt;

&lt;p&gt;      initializeScannerInConstruction();&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829989">HBASE-13690</key>
            <summary>Client Scanner Initialization Reformats strings every time</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jleach">John Leach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 21:53:46 +0000</created>
                <updated>Thu, 14 May 2015 22:51:24 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14544512" author="lhofhansl" created="Thu, 14 May 2015 22:41:18 +0000"  >&lt;p&gt;How often do you make ClientScanners? That should be negligible compared to network round trip and server side work.&lt;/p&gt;</comment>
                            <comment id="14544519" author="apurtell" created="Thu, 14 May 2015 22:46:08 +0000"  >&lt;p&gt;Even so, we did start caching values from Configuration in Connection for use when creating Table instances because it was a non-negligible cost when using Connection#getTable. Looks like we should do the same for scanners.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12745106">HBASE-12128</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12758563">HBASE-12604</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12829994">HBASE-13691</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12732976" name="ClientScanner_String_Format.tiff" size="127534" author="jleach" created="Thu, 14 May 2015 21:54:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 22:41:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2er4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>