<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:14:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3898/HBASE-3898.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3898] TestSplitTransactionOnCluster broke in TRUNK</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3898</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;It hangs for 15 minutes.  I see a NPE trying to split a region.  The splitKey passed is null.  Looks to be by-product of recent compaction refactorings.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507708">HBASE-3898</key>
            <summary>TestSplitTransactionOnCluster broke in TRUNK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 05:12:40 +0000</created>
                <updated>Fri, 20 Nov 2015 12:41:07 +0000</updated>
                            <resolved>Thu, 14 Jul 2011 09:17:02 +0000</resolved>
                                                    <fixVersion>0.92.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13035994" author="stack" created="Thu, 19 May 2011 05:32:48 +0000"  >&lt;p&gt;Turned out to be a timing issue.  Up on hudson daughter region would still have references so it would not split and test failed.  Added a compaction before we split the daughter to be sure references removed (the recent refactoring disentangled split and compaction).  Also added missing license to SplitRequest.&lt;/p&gt;</comment>
                            <comment id="13035996" author="stack" created="Thu, 19 May 2011 05:35:47 +0000"  >&lt;p&gt;Committed the patch.  Will wait till tests pass before closing.&lt;/p&gt;</comment>
                            <comment id="13037178" author="hudson" created="Sat, 21 May 2011 00:04:27 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1930 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/HBase-TRUNK/1930/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/HBase-TRUNK/1930/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13057180" author="eric@apache.org" created="Wed, 29 Jun 2011 11:47:24 +0000"  >&lt;p&gt;Even with the patch, TestSplitTransactionOnCluster times out.&lt;br/&gt;
See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/1997/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/1997/&lt;/a&gt;&lt;br/&gt;
Here, running &quot;mvn test -Dtest=TestSplitTransactionOnCluster&quot; with trunk r1140953 gives:&lt;br/&gt;
ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.4.3:test (default-test) on project hbase: Error while executing forked tests.; nested exception is org.apache.maven.surefire.booter.shade.org.codehaus.plexus.util.cli.CommandLineException: Error while executing external command, process killed. Process timeout out after 900 seconds -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13057239" author="stack" created="Wed, 29 Jun 2011 14:09:36 +0000"  >&lt;p&gt;Thanks Eric.  I&apos;ll take a look after hbase-4042 is fixed.&lt;/p&gt;</comment>
                            <comment id="13061745" author="yuzhihong@gmail.com" created="Fri, 8 Jul 2011 03:40:48 +0000"  >&lt;p&gt;Looks like we should give more attention to this test failure.&lt;br/&gt;
Quite often, TestSplitTransactionOnCluster hangs (&lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK/2012/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK/2012/console&lt;/a&gt;) and prevents other test failures to be discovered early.&lt;/p&gt;</comment>
                            <comment id="13065189" author="eric@apache.org" created="Thu, 14 Jul 2011 11:28:24 +0000"  >&lt;p&gt;@Ted.&lt;br/&gt;
Until yesterday, it was still failing with fresh trunk.&lt;br/&gt;
After svn up today, test passes. Probably a commit made it work.&lt;br/&gt;
Now that it passes, the next timeout is o.a.h.h.c.TestShell&lt;br/&gt;
Is this last timeout related?&lt;/p&gt;</comment>
                            <comment id="13065270" author="yuzhihong@gmail.com" created="Thu, 14 Jul 2011 13:53:32 +0000"  >&lt;p&gt;TestShell didn&apos;t timeout in latest TRUNK build.&lt;br/&gt;
It didn&apos;t timeout when I ran test suite on Linux.&lt;/p&gt;</comment>
                            <comment id="13065350" author="stack" created="Thu, 14 Jul 2011 16:04:51 +0000"  >&lt;p&gt;@Eric I&apos;ve seen it time out though &amp;#8211;  need to dig in.&lt;/p&gt;</comment>
                            <comment id="13065710" author="eric@apache.org" created="Fri, 15 Jul 2011 04:35:45 +0000"  >&lt;p&gt;I have just run test on another hardware (both are 1 month-old full options MacOsX), and had no time-out (one test failure, but not time out).&lt;br/&gt;
I will further look why TestShell constantly times out on my first hardware.&lt;/p&gt;</comment>
                            <comment id="13065999" author="eric@apache.org" created="Fri, 15 Jul 2011 15:16:25 +0000"  >&lt;p&gt;Quick update:&lt;br/&gt;
I suspect a java process to cause the issue, probably a remaining process from previous tests.&lt;br/&gt;
After killing it, I had no more timeout on my first hardware.&lt;br/&gt;
The process was : /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java &lt;del&gt;enableassertions -Xmx1400m -jar /var/folders/ib/ibGQJAi3G-0kI7nX2p3pGU++&lt;ins&gt;TI/-Tmp&lt;/del&gt;/surefirebooter6092115599670299035.jar /var/folders/ib/ibGQJAi3G-0kI7nX2p3pGU&lt;/ins&gt;+&lt;ins&gt;TI/&lt;del&gt;Tmp&lt;/del&gt;/surefire3505184227689052758tmp /var/folders/ib/ibGQJAi3G-0kI7nX2p3pGU&lt;/ins&gt;++TI/&lt;del&gt;Tmp&lt;/del&gt;/surefire8675415887684191209tmp&lt;/p&gt;</comment>
                            <comment id="13066031" author="stack" created="Fri, 15 Jul 2011 15:50:58 +0000"  >&lt;p&gt;You think this reason TestShell fails?  In the past I&apos;ve seen where an existing zk ensemble messes up tests.  Seems like we need to do some tightening up of what cluster a test should connect to.&lt;/p&gt;</comment>
                            <comment id="13066385" author="eric@apache.org" created="Sat, 16 Jul 2011 08:25:41 +0000"  >&lt;p&gt;Hi Stack, I have rerun the tests and got no timeout.&lt;br/&gt;
Before killing the process, I should have run a netstat to see open sockets and identify if the process was responsible for running zk, or something else.&lt;br/&gt;
I just will remind when getting timeouts to further check the running process/open ports.&lt;/p&gt;</comment>
                            <comment id="15016887" author="lars_francke" created="Fri, 20 Nov 2015 12:41:07 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12479723" name="3898.txt" size="2852" author="stack" created="Thu, 19 May 2011 05:32:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 21 May 2011 00:04:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hoev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>101217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>