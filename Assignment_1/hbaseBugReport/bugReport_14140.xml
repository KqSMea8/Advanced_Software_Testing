<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:50:10 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14140/HBASE-14140.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14140] HBase Backup/Restore Phase 3: Enhance HBaseAdmin API to include backup/restore - related API</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14140</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12846690">HBASE-14140</key>
            <summary>HBase Backup/Restore Phase 3: Enhance HBaseAdmin API to include backup/restore - related API</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vrodionov">Vladimir Rodionov</assignee>
                                    <reporter username="vrodionov">Vladimir Rodionov</reporter>
                        <labels>
                            <label>backup</label>
                    </labels>
                <created>Tue, 21 Jul 2015 21:15:51 +0000</created>
                <updated>Wed, 8 Jun 2016 19:19:00 +0000</updated>
                            <resolved>Thu, 26 May 2016 16:42:14 +0000</resolved>
                                                    <fixVersion>HBASE-7912</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15200122" author="vrodionov" created="Thu, 17 Mar 2016 18:32:52 +0000"  >&lt;p&gt;Moved to Phase 3.&lt;/p&gt;</comment>
                            <comment id="15260841" author="vrodionov" created="Wed, 27 Apr 2016 20:06:40 +0000"  >&lt;p&gt;Patch v1.&lt;/p&gt;</comment>
                            <comment id="15260842" author="vrodionov" created="Wed, 27 Apr 2016 20:07:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; - patch is available for BackupAdmin API.&lt;/p&gt;</comment>
                            <comment id="15260844" author="yuzhihong@gmail.com" created="Wed, 27 Apr 2016 20:10:31 +0000"  >&lt;p&gt;Patch is sizeable.&lt;/p&gt;

&lt;p&gt;Mind uploading to review board ?&lt;/p&gt;</comment>
                            <comment id="15260845" author="hadoopqa" created="Wed, 27 Apr 2016 20:11:18 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 0m 3s &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14140&quot; title=&quot;HBase Backup/Restore Phase 3: Enhance HBaseAdmin API to include backup/restore - related API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14140&quot;&gt;&lt;del&gt;HBASE-14140&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://yetus.apache.org/documentation/0.2.1/precommit-patchnames&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://yetus.apache.org/documentation/0.2.1/precommit-patchnames&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801101/HBASE-14140-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12801101/HBASE-14140-v1.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14140&quot; title=&quot;HBase Backup/Restore Phase 3: Enhance HBaseAdmin API to include backup/restore - related API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14140&quot;&gt;&lt;del&gt;HBASE-14140&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1639/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1639/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.2.1   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="15260867" author="vrodionov" created="Wed, 27 Apr 2016 20:26:44 +0000"  >&lt;p&gt;Here it is:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/46749/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/46749/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15260868" author="vrodionov" created="Wed, 27 Apr 2016 20:27:25 +0000"  >&lt;p&gt;That is mostly file moves/renaming, that is why it is so large.&lt;/p&gt;</comment>
                            <comment id="15260951" author="yuzhihong@gmail.com" created="Wed, 27 Apr 2016 21:10:57 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt; branch, there are currently some test failures.&lt;br/&gt;
e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testReadWriteSeqIdFiles(org.apache.hadoop.hbase.master.TestDistributedLogSplitting)  Time elapsed: 9.589 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1502)
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1473)
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testReadWriteSeqIdFiles(TestDistributedLogSplitting.java:1442)

testThreeRSAbort(org.apache.hadoop.hbase.master.TestDistributedLogSplitting)  Time elapsed: 8.811 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1502)
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1473)
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testThreeRSAbort(TestDistributedLogSplitting.java:1074)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Do you want to address them in seperate JIRA(s) ?&lt;/p&gt;</comment>
                            <comment id="15262620" author="yuzhihong@gmail.com" created="Thu, 28 Apr 2016 17:54:53 +0000"  >&lt;p&gt;Some failed unit tests with latest patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt; branch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testArchiveOnTableFamilyDelete(org.apache.hadoop.hbase.backup.TestHFileArchiving)  Time elapsed: 35.012 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.io.IOException: Filesystem closed
  at org.apache.hadoop.hbase.backup.TestHFileArchiving.getAllFileNames(TestHFileArchiving.java:430)
  at org.apache.hadoop.hbase.backup.TestHFileArchiving.assertArchiveFiles(TestHFileArchiving.java:278)
  at org.apache.hadoop.hbase.backup.TestHFileArchiving.testArchiveOnTableFamilyDelete(TestHFileArchiving.java:346)
...
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithACL
org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithACL  Time elapsed: 0.005 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Waiting timed out after [10,000] msec
  at org.apache.hadoop.hbase.security.visibility.TestVisibilityLabelsWithACL.setupBeforeClass(TestVisibilityLabelsWithACL.java:103)
...
verifyReservedNS(org.apache.hadoop.hbase.TestNamespace)  Time elapsed: 0.074 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
  at org.apache.hadoop.hbase.TestNamespace.verifyReservedNS(TestNamespace.java:118)
...
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 14.289 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildOverlap
testMetaRebuildOverlapFail(org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildOverlap)  Time elapsed: 14.15 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;

Running org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildHole
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 14.322 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildBase
testMetaRebuild(org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildBase)  Time elapsed: 14.187 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;

Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 14.592 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildHole
testMetaRebuildHoleFail(org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildHole)  Time elapsed: 14.541 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;
...
testClusterRestart(org.apache.hadoop.hbase.master.TestRestartCluster)  Time elapsed: 10.537 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;4&amp;gt; but was:&amp;lt;5&amp;gt;
  at org.apache.hadoop.hbase.master.TestRestartCluster.testClusterRestart(TestRestartCluster.java:78)
...
testForCheckingIfEnableAndDisableWorksFineAfterSwitch(org.apache.hadoop.hbase.master.TestMasterRestartAfterDisablingTable)  Time elapsed: 13.81 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: The number of regions &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the table tableRestart should be 0 and onlythe catalog and namespace tables should be present. expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
  at org.apache.hadoop.hbase.master.TestMasterRestartAfterDisablingTable.testForCheckingIfEnableAndDisableWorksFineAfterSwitch(TestMasterRestartAfterDisablingTable.java:82)
...
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 14.462 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.master.TestRollingRestart
testBasicRollingRestart(org.apache.hadoop.hbase.master.TestRollingRestart)  Time elapsed: 14.379 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
  at org.apache.hadoop.hbase.master.TestRollingRestart.testBasicRollingRestart(TestRollingRestart.java:96)

Tests run: 18, Failures: 2, Errors: 0, Skipped: 15, Time elapsed: 28.084 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.master.TestDistributedLogSplitting
testReadWriteSeqIdFiles(org.apache.hadoop.hbase.master.TestDistributedLogSplitting)  Time elapsed: 9.755 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
  at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1502)
  at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1473)
  at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testReadWriteSeqIdFiles(TestDistributedLogSplitting.java:1442)

testThreeRSAbort(org.apache.hadoop.hbase.master.TestDistributedLogSplitting)  Time elapsed: 10.159 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
  at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1502)
  at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1473)
  at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testThreeRSAbort(TestDistributedLogSplitting.java:1074)
...
Tests run: 41, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 301.705 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.util.TestHBaseFsckOneRS
testHBaseFsckClean(org.apache.hadoop.hbase.util.TestHBaseFsckOneRS)  Time elapsed: 0.399 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;[]&amp;gt; but was:&amp;lt;[NO_TABLE_STATE, HOLE_IN_REGION_CHAIN]&amp;gt;
  at org.apache.hadoop.hbase.util.TestHBaseFsckOneRS.testHBaseFsckClean(TestHBaseFsckOneRS.java:147)

Running org.apache.hadoop.hbase.master.TestMasterMetrics
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.326 sec - in org.apache.hadoop.hbase.master.TestMasterMetrics
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 37.143 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.hadoop.hbase.master.TestMasterFailover
testPendingOpenOrCloseWhenMasterFailover(org.apache.hadoop.hbase.master.TestMasterFailover)  Time elapsed: 8.273 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;3&amp;gt; but was:&amp;lt;4&amp;gt;
  at org.apache.hadoop.hbase.master.TestMasterFailover.testPendingOpenOrCloseWhenMasterFailover(TestMasterFailover.java:243)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Some assertions failed due to the presence of hbase:backup table.&lt;/p&gt;</comment>
                            <comment id="15262791" author="vrodionov" created="Thu, 28 Apr 2016 19:22:58 +0000"  >&lt;p&gt;Ted, can you open sub task for failing tests? &lt;/p&gt;</comment>
                            <comment id="15262948" author="yuzhihong@gmail.com" created="Thu, 28 Apr 2016 20:44:43 +0000"  >&lt;p&gt;Looks like test failures were introduced after &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14123&quot; title=&quot;HBase Backup/Restore Phase 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14123&quot;&gt;HBASE-14123&lt;/a&gt; got checked in.&lt;br/&gt;
They should have been fixed earlier.&lt;/p&gt;</comment>
                            <comment id="15267045" author="yuzhihong@gmail.com" created="Mon, 2 May 2016 17:35:06 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  HBaseBackupAdmin(HBaseAdmin admin) {
+    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.admin = admin;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;backupTablesAsync() and backupTables() were dropped from Admin interface.&lt;/p&gt;

&lt;p&gt;If we move the implementation for the above two methods into HBaseBackupAdmin, the admin parameter can be declared of Admin type.&lt;br/&gt;
TableFuture can be made accessible to HBaseBackupAdmin so that TableBackupFuture can be moved to HBaseBackupAdmin.&lt;/p&gt;

&lt;p&gt;Vlad:&lt;br/&gt;
What do you think ?&lt;/p&gt;</comment>
                            <comment id="15285502" author="vrodionov" created="Mon, 16 May 2016 21:59:39 +0000"  >&lt;blockquote&gt;
&lt;p&gt;backupTablesAsync() and backupTables() were dropped from Admin interface.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, but implementation is still in HBaseAdmin and it is not easy to move it to HBaseBackupAdmin. If you want this refactoring to be done, please open JIRA in Phase 3. &lt;/p&gt;</comment>
                            <comment id="15285503" author="vrodionov" created="Mon, 16 May 2016 22:00:21 +0000"  >&lt;p&gt;The latest patch. &lt;/p&gt;</comment>
                            <comment id="15287626" author="vrodionov" created="Tue, 17 May 2016 21:34:30 +0000"  >&lt;p&gt;As of today the following tests fail:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Results :

Failed tests:
  TestClassLoading.testMasterCoprocessorsReported:539 expected:&amp;lt;[Ba[]seMasterObserver]&amp;gt; but was:&amp;lt;[Ba[ckupController, Ba]seMasterObserver]&amp;gt;
  TestMasterOperationsForRegionReplicas.testCreateTableWithMultipleReplicas:151-&amp;gt;validateFromSnapshotFromMeta:308
  TestVisibilityLabelsWithACL.setupBeforeClass:103 Waiting timed out after [10,000] msec
  TestOfflineMetaRebuildBase&amp;gt;OfflineMetaRebuildTestCore.setUpBefore:107 expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;
  TestOfflineMetaRebuildHole&amp;gt;OfflineMetaRebuildTestCore.setUpBefore:107 expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;
  TestOfflineMetaRebuildOverlap&amp;gt;OfflineMetaRebuildTestCore.setUpBefore:107 expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;
Tests in error:
  TestImportExport.testSimpleCase:191-&amp;gt;runExport:148 &#187; IO java.util.concurrent.E...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15289419" author="yuzhihong@gmail.com" created="Wed, 18 May 2016 17:48:27 +0000"  >&lt;p&gt;Several tests in TestDistributedLogSplitting fail as well.&lt;br/&gt;
e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testReadWriteSeqIdFiles(org.apache.hadoop.hbase.master.TestDistributedLogSplitting)  Time elapsed: 9.342 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;3&amp;gt;
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1502)
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.installTable(TestDistributedLogSplitting.java:1473)
	at org.apache.hadoop.hbase.master.TestDistributedLogSplitting.testReadWriteSeqIdFiles(TestDistributedLogSplitting.java:1442)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was due to the presence of hbase:backup table which was not accounted for.&lt;/p&gt;</comment>
                            <comment id="15292328" author="yuzhihong@gmail.com" created="Thu, 19 May 2016 23:21:58 +0000"  >&lt;p&gt;Was patch v7 generated based on tip of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt; branch ?&lt;br/&gt;
I got the following conflicts:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-rw-r--r--  1 tyu  staff  21591 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupCommands.java.rej
-rw-r--r--  1 tyu  staff  2888 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupException.java.rej
-rw-r--r--  1 tyu  staff  1862 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupRestoreConstants.java.rej
-rw-r--r--  1 tyu  staff  28333 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupSystemTable.java.rej
-rw-r--r--  1 tyu  staff  14882 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupSystemTableHelper.java.rej
-rw-r--r--  1 tyu  staff  13581 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/util/BackupClientUtil.java.rej
-rw-r--r--  1 tyu  staff  2119 May 19 16:20 ./hbase-client/src/main/java/org/apache/hadoop/hbase/backup/util/BackupSet.java.rej
-rw-r--r--  1 tyu  staff  445 May 19 16:20 ./hbase-common/src/main/java/org/apache/hadoop/hbase/backup/BackupType.java.rej
-rw-r--r--  1 tyu  staff  14954 May 19 16:20 ./hbase-server/src/main/java/org/apache/hadoop/hbase/backup/BackupInfo.java.rej
-rw-r--r--  1 tyu  staff  21407 May 19 16:20 ./hbase-server/src/main/java/org/apache/hadoop/hbase/backup/impl/BackupCommands.java.rej
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15292577" author="vrodionov" created="Fri, 20 May 2016 02:29:57 +0000"  >&lt;p&gt;Ted, try the latest one.&lt;/p&gt;</comment>
                            <comment id="15293620" author="yuzhihong@gmail.com" created="Fri, 20 May 2016 16:11:16 +0000"  >&lt;p&gt;Do you mind fixing failing unit tests ?&lt;/p&gt;</comment>
                            <comment id="15293633" author="vrodionov" created="Fri, 20 May 2016 16:18:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15859&quot; title=&quot;Fix failing tests where assertions fail due to not accounting for hbase:backup table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15859&quot;&gt;&lt;del&gt;HBASE-15859&lt;/del&gt;&lt;/a&gt; did not fix all of them?&lt;/p&gt;</comment>
                            <comment id="15293637" author="yuzhihong@gmail.com" created="Fri, 20 May 2016 16:19:56 +0000"  >&lt;p&gt;Not all of them.&lt;/p&gt;</comment>
                            <comment id="15294282" author="yuzhihong@gmail.com" created="Fri, 20 May 2016 21:35:28 +0000"  >&lt;p&gt;Note to myself:&lt;br/&gt;
Currently semicolon is used to separate tables in BackupInfo.java :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getTableListAsString() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; StringUtils.join(backupStatusMap.keySet(), &lt;span class=&quot;code-quote&quot;&gt;&quot;;&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;hbase restore&apos; accepts a comma-separated list of tables.&lt;/p&gt;

&lt;p&gt;The semicolon should be changed to comma so that user can copy-paste the table list.&lt;/p&gt;</comment>
                            <comment id="15294415" author="vrodionov" created="Fri, 20 May 2016 22:38:45 +0000"  >&lt;p&gt;v10 with fixed unit tests.&lt;/p&gt;</comment>
                            <comment id="15294438" author="yuzhihong@gmail.com" created="Fri, 20 May 2016 22:50:10 +0000"  >&lt;p&gt;I applied v10 and ran TestOfflineMetaRebuildHole :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError: expected:&amp;lt;1&amp;gt; but was:&amp;lt;2&amp;gt;
	at org.apache.hadoop.hbase.util.hbck.TestOfflineMetaRebuildHole.testMetaRebuildHoleFail(TestOfflineMetaRebuildHole.java:55)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can you double check ?&lt;/p&gt;</comment>
                            <comment id="15295708" author="vrodionov" created="Sun, 22 May 2016 20:10:59 +0000"  >&lt;p&gt;Fixed failing unit test.&lt;/p&gt;</comment>
                            <comment id="15297639" author="vrodionov" created="Tue, 24 May 2016 04:08:04 +0000"  >&lt;p&gt;fixed more UTs&lt;/p&gt;</comment>
                            <comment id="15300650" author="vrodionov" created="Wed, 25 May 2016 18:57:27 +0000"  >&lt;p&gt;one more fix for UT&lt;/p&gt;</comment>
                            <comment id="15300768" author="yuzhihong@gmail.com" created="Wed, 25 May 2016 20:12:55 +0000"  >&lt;p&gt;Patch v13 is much better (in terms of test passage).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;:&lt;br/&gt;
Do you want to take a look as well ?&lt;/p&gt;</comment>
                            <comment id="15301517" author="vrodionov" created="Thu, 26 May 2016 04:41:31 +0000"  >&lt;p&gt;Final v14?&lt;/p&gt;</comment>
                            <comment id="15302303" author="yuzhihong@gmail.com" created="Thu, 26 May 2016 15:58:28 +0000"  >&lt;p&gt;Integrated to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7912&quot; title=&quot;HBase Backup/Restore Based on HBase Snapshot&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7912&quot;&gt;HBASE-7912&lt;/a&gt; branch.&lt;/p&gt;</comment>
                            <comment id="15302309" author="vrodionov" created="Thu, 26 May 2016 16:00:36 +0000"  >&lt;p&gt;Thank you, Ted.&lt;/p&gt;</comment>
                            <comment id="15312800" author="yuzhihong@gmail.com" created="Thu, 2 Jun 2016 18:09:27 +0000"  >&lt;p&gt;The following change is needed for TestVisibilityLabelsWithACL to reliably pass:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java b/hbase-server/src/test/java/org/apache/hadoop/hbase/security
index 1d5add9..c07c64c 100644
--- a/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/security/visibility/TestVisibilityLabelsWithACL.java
@@ -90,6 +90,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class TestVisibilityLabelsWithACL {
     TEST_UTIL.waitTableEnabled(AccessControlLists.ACL_TABLE_NAME.getName(), 50000);
     &lt;span class=&quot;code-comment&quot;&gt;// Wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the labels table to become available
&lt;/span&gt;     TEST_UTIL.waitTableEnabled(LABELS_TABLE_NAME.getName(), 50000);
+    TEST_UTIL.waitUntilAllSystemRegionsAssigned();
     addLabels();

     &lt;span class=&quot;code-comment&quot;&gt;// Create users &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; testing&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15312849" author="vrodionov" created="Thu, 2 Jun 2016 18:38:56 +0000"  >&lt;p&gt;OK, I see you fixed it already.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12863549">HBASE-14414</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12801101" name="HBASE-14140-v1.patch" size="450444" author="vrodionov" created="Wed, 27 Apr 2016 20:06:40 +0000"/>
                            <attachment id="12805330" name="HBASE-14140-v10.patch" size="404192" author="vrodionov" created="Fri, 20 May 2016 22:38:45 +0000"/>
                            <attachment id="12805544" name="HBASE-14140-v11.patch" size="405331" author="vrodionov" created="Sun, 22 May 2016 20:10:59 +0000"/>
                            <attachment id="12805807" name="HBASE-14140-v12.patch" size="407775" author="vrodionov" created="Tue, 24 May 2016 04:08:04 +0000"/>
                            <attachment id="12806190" name="HBASE-14140-v13.patch" size="410955" author="vrodionov" created="Wed, 25 May 2016 18:57:27 +0000"/>
                            <attachment id="12806290" name="HBASE-14140-v14.patch" size="411636" author="vrodionov" created="Thu, 26 May 2016 04:41:31 +0000"/>
                            <attachment id="12804269" name="HBASE-14140-v4.patch" size="399023" author="vrodionov" created="Mon, 16 May 2016 22:00:21 +0000"/>
                            <attachment id="12805074" name="HBASE-14140-v7.patch" size="402611" author="vrodionov" created="Thu, 19 May 2016 22:58:24 +0000"/>
                            <attachment id="12805112" name="HBASE-14140-v9.patch" size="402036" author="vrodionov" created="Fri, 20 May 2016 02:29:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Apr 2016 20:10:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hirj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>