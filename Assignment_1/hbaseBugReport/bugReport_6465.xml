<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:37:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6465/HBASE-6465.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6465] Load balancer repeatedly close and open region in the same regionserver.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6465</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Through the master and regionserver log,I find load balancer repeatedly&lt;br/&gt;
close and open region in the same regionserver(period in&lt;br/&gt;
hbase.balancer.period ).&lt;br/&gt;
Does this is a bug in load balancer and how can I dig into or avoid this?&lt;/p&gt;


&lt;p&gt;the hbase and hadoop version is&lt;br/&gt;
HBase Version0.94.0, r1332822Hadoop Version0.20.2-cdh3u1,&lt;br/&gt;
rbdafb1dbffd0d5f2fbc6ee022e1c8df6500fd638&lt;br/&gt;
the following is a detail log about the same region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956,&lt;br/&gt;
and it repeats again and again.:&lt;br/&gt;
2012-07-16 00:12:49,843 INFO org.apache.hadoop.hbase.master.HMaster: balance&lt;br/&gt;
hri=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.,&lt;br/&gt;
src=192.168.1.2,60020,1342017399608, dest=192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:12:49,843 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Starting unassignment of&lt;br/&gt;
region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
(offlining)&lt;br/&gt;
2012-07-16 00:12:49,843 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Creating unassigned node for&lt;br/&gt;
93caf5147d40f5dd4625e160e1b7e956 in a CLOSING state&lt;br/&gt;
2012-07-16 00:12:49,845 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Sent CLOSE to&lt;br/&gt;
192.168.1.2,60020,1342017399608 for region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
2012-07-16 00:12:50,555 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_CLOSED, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:12:50,555 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.handler.ClosedRegionHandler: Handling CLOSED&lt;br/&gt;
event for 93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:12:50,555 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Forcing OFFLINE;&lt;br/&gt;
was=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
state=CLOSED, ts=1342368770556, server=192.168.1.2,60020,1342017399608&lt;br/&gt;
2012-07-16 00:12:50,555 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Creating (or updating) unassigned node for&lt;br/&gt;
93caf5147d40f5dd4625e160e1b7e956 with OFFLINE state&lt;br/&gt;
2012-07-16 00:12:50,558 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=M_ZK_REGION_OFFLINE, server=10.75.18.34,60000,1342017369575,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:12:50,558 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Found an existing plan&lt;br/&gt;
for&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
destination server is 192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:12:50,558 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Using pre-existing plan&lt;br/&gt;
for region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.;&lt;br/&gt;
plan=hri=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.,&lt;br/&gt;
src=192.168.1.2,60020,1342017399608, dest=192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:12:50,558 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Assigning region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
to 192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:12:50,574 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_OPENING, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:12:50,635 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_OPENING, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:12:50,639 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_OPENED, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:12:50,639 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.handler.OpenedRegionHandler: Handling OPENED&lt;br/&gt;
event for&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
from 192.168.1.2,60020,1342017399608; deleting unassigned node&lt;br/&gt;
2012-07-16 00:12:50,640 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Deleting existing unassigned node for&lt;br/&gt;
93caf5147d40f5dd4625e160e1b7e956 that is in expected state&lt;br/&gt;
RS_ZK_REGION_OPENED&lt;br/&gt;
2012-07-16 00:12:50,641 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: The znode of region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
has been deleted.&lt;br/&gt;
2012-07-16 00:12:50,641 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Successfully deleted unassigned node for&lt;br/&gt;
region 93caf5147d40f5dd4625e160e1b7e956 in expected state&lt;br/&gt;
RS_ZK_REGION_OPENED&lt;br/&gt;
2012-07-16 00:12:50,641 INFO&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: The master has opened the&lt;br/&gt;
region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
that was online on 192.168.1.2,60020,1342017399608&lt;br/&gt;
2012-07-16 00:17:49,870 INFO org.apache.hadoop.hbase.master.HMaster: balance&lt;br/&gt;
hri=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.,&lt;br/&gt;
src=192.168.1.2,60020,1342017399608, dest=192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:17:49,870 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Starting unassignment of&lt;br/&gt;
region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
(offlining)&lt;br/&gt;
2012-07-16 00:17:49,870 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Creating unassigned node for&lt;br/&gt;
93caf5147d40f5dd4625e160e1b7e956 in a CLOSING state&lt;br/&gt;
2012-07-16 00:17:49,872 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Sent CLOSE to&lt;br/&gt;
192.168.1.2,60020,1342017399608 for region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
2012-07-16 00:17:50,464 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_CLOSED, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:17:50,464 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.handler.ClosedRegionHandler: Handling CLOSED&lt;br/&gt;
event for 93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:17:50,464 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Forcing OFFLINE;&lt;br/&gt;
was=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
state=CLOSED, ts=1342369070465, server=192.168.1.2,60020,1342017399608&lt;br/&gt;
2012-07-16 00:17:50,464 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Creating (or updating) unassigned node for&lt;br/&gt;
93caf5147d40f5dd4625e160e1b7e956 with OFFLINE state&lt;br/&gt;
2012-07-16 00:17:50,467 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=M_ZK_REGION_OFFLINE, server=10.75.18.34,60000,1342017369575,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:17:50,467 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Found an existing plan&lt;br/&gt;
for&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
destination server is 192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:17:50,467 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Using pre-existing plan&lt;br/&gt;
for region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.;&lt;br/&gt;
plan=hri=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.,&lt;br/&gt;
src=192.168.1.2,60020,1342017399608, dest=192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:17:50,467 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Assigning region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
to 192.168.1.2,60020,1342002082592&lt;br/&gt;
2012-07-16 00:17:50,509 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_OPENING, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:17:50,761 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_OPENING, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:17:50,774 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: Handling&lt;br/&gt;
transition=RS_ZK_REGION_OPENED, server=192.168.1.2,60020,1342017399608,&lt;br/&gt;
region=93caf5147d40f5dd4625e160e1b7e956&lt;br/&gt;
2012-07-16 00:17:50,774 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.handler.OpenedRegionHandler: Handling OPENED&lt;br/&gt;
event for&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
from 192.168.1.2,60020,1342017399608; deleting unassigned node&lt;br/&gt;
2012-07-16 00:17:50,774 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Deleting existing unassigned node for&lt;br/&gt;
93caf5147d40f5dd4625e160e1b7e956 that is in expected state&lt;br/&gt;
RS_ZK_REGION_OPENED&lt;br/&gt;
2012-07-16 00:17:50,775 DEBUG&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: The znode of region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
has been deleted.&lt;br/&gt;
2012-07-16 00:17:50,775 DEBUG org.apache.hadoop.hbase.zookeeper.ZKAssign:&lt;br/&gt;
master:60000-0x4384d0a47f40068 Successfully deleted unassigned node for&lt;br/&gt;
region 93caf5147d40f5dd4625e160e1b7e956 in expected state&lt;br/&gt;
RS_ZK_REGION_OPENED&lt;br/&gt;
2012-07-16 00:17:50,775 INFO&lt;br/&gt;
org.apache.hadoop.hbase.master.AssignmentManager: The master has opened the&lt;br/&gt;
region&lt;br/&gt;
trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.&lt;br/&gt;
that was online on 192.168.1.2,60020,1342017399608&lt;br/&gt;
2012-07-16 00:22:49,916 INFO org.apache.hadoop.hbase.master.HMaster: balance&lt;br/&gt;
hri=trackurl_status_list,zO6u4o8,1342291884831.93caf5147d40f5dd4625e160e1b7e956.,&lt;br/&gt;
src=192.168.1.2,60020,1342017399608, dest=192.168.1.2,60020,1342002082592&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600417">HBASE-6465</key>
            <summary>Load balancer repeatedly close and open region in the same regionserver.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sgp2004">shen guanpu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 01:50:06 +0000</created>
                <updated>Wed, 16 Nov 2016 22:06:34 +0000</updated>
                            <resolved>Wed, 16 Nov 2016 22:06:33 +0000</resolved>
                                    <version>0.94.0</version>
                                                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13423630" author="zhihyu@ebaysf.com" created="Fri, 27 Jul 2012 02:08:49 +0000"  >&lt;p&gt;This particular issue appeared on user mailing list.&lt;br/&gt;
svarma.ng@gmail.com made the last post.&lt;/p&gt;

&lt;p&gt;Please continue discussion using that thread.&lt;/p&gt;

&lt;p&gt;Normally JIRA is logged when the issue has been confirmed as an HBase bug (with sub-component identified).&lt;/p&gt;</comment>
                            <comment id="13423706" author="sgp2004" created="Fri, 27 Jul 2012 06:34:54 +0000"  >&lt;p&gt;ok thanks&lt;br/&gt;
i am not quit catch the rule&#65292;sorry&#65281;&lt;/p&gt;</comment>
                            <comment id="15671804" author="stack" created="Wed, 16 Nov 2016 22:06:33 +0000"  >&lt;p&gt;Issue w/ old load balancer. Reopen if can repro in newer balancer.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Jul 2012 02:08:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>