<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:45:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13670/HBASE-13670.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13670] [HBase MOB] ExpiredMobFileCleaner tool deletes mob files later for one more day after they are expired</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13670</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently the ExpiredMobFileCleaner cleans the expired mob file according to the date in the mob file name. The minimum unit of the date is day. So ExpiredMobFileCleaner only cleans the expired mob files later for one more day after they are expired. We need to document this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829080">HBASE-13670</key>
            <summary>[HBase MOB] ExpiredMobFileCleaner tool deletes mob files later for one more day after they are expired</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingcheng.du@intel.com">Jingcheng Du</assignee>
                                    <reporter username="sreenivasulureddy">Y. SREENIVASULU REDDY</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 05:47:55 +0000</created>
                <updated>Wed, 22 Jul 2015 22:48:45 +0000</updated>
                            <resolved>Wed, 1 Jul 2015 05:57:07 +0000</resolved>
                                    <version>hbase-11339</version>
                                    <fixVersion>hbase-11339</fixVersion>
                                    <component>documentation</component>
                    <component>mob</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="14539323" author="anoop.hbase" created="Tue, 12 May 2015 06:11:08 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If we run ExpiredMobFileCleaner tool manually, it is not deleting the expired mob data. For deletion it is considering default time period &quot;hbase.master.mob.ttl.cleaner.period&quot;.&lt;br/&gt;
With this Time period &quot;hbase.master.mob.ttl.cleaner.period&quot; only ExpiredMobFileCleanerChore should consider.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That looks not a correct observation. ExpiredMobFileCleanerChore only considers this config and set it as Chore time.&lt;br/&gt;
When the ExpiredMobFileCleaner class is directly executed we just seems compare the file&apos;s create time against TTL.  Is it like some issues of system clock out of sync?&lt;/p&gt;</comment>
                            <comment id="14539375" author="haitao-tony" created="Tue, 12 May 2015 06:46:53 +0000"  >&lt;p&gt;Hi, that&apos;s not the case. The reason is that the date of the mobfile is only accurate to date. So, you set the hbase.master.mob.ttl.cleaner.period to 2 days,today you delte a mob column family, tommorrow you execute the tool, then it can be executed successfully.&lt;br/&gt;
The below code may give you some inspiration:&lt;br/&gt;
In MobFileName:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; MobFileName create(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName) {
    &lt;span class=&quot;code-comment&quot;&gt;// The format of a file name is md5HexString(0-31bytes) + date(32-39bytes) + UUID
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// The date format is yyyyMMdd
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; startKey = fileName.substring(0, 32);
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; date = fileName.substring(32, 40);
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uuid = fileName.substring(40);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MobFileName(startKey, date, uuid);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;this is the sample for mob file name:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 /hbase1/mobdir/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/mobcleantest/8986aed7a2762c273c875dfcaa29cfaa/mobcf/d41d8cd98f00b204e9800998ecf8427e2015051198809216cbbb41bd83432d9142f32ed2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;32-40:20150511&lt;br/&gt;
it is onnly accurate to date&lt;br/&gt;
in MobUtils.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fileDate.getTime() &amp;lt; expireDate.getTime()) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LOG.isDebugEnabled()) {
            LOG.debug(fileName + &lt;span class=&quot;code-quote&quot;&gt;&quot; is an expired file&quot;&lt;/span&gt;);
          }
          filesToClean.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StoreFile(fs, file.getPath(), conf, cacheConfig, BloomType.NONE));
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;because the time is only accurate to date,it is impossbile for you to delete it within the same day.&lt;/p&gt;</comment>
                            <comment id="14539431" author="anoop.hbase" created="Tue, 12 May 2015 07:24:30 +0000"  >&lt;p&gt;That looks correct explanation.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingcheng.du%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;jingcheng.du@intel.com&quot;&gt;Jingcheng Du&lt;/a&gt; do we need to change the date time precision in MOB file name to more than date?&lt;/p&gt;</comment>
                            <comment id="14543121" author="jingcheng.du@intel.com" created="Thu, 14 May 2015 03:07:18 +0000"  >&lt;p&gt;Do you have cases of TTL is smaller than one day, or just for the test convenience?&lt;br/&gt;
We make the date (not timestamp) in file name on purpose.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;In almost all the cases, the TTL is much larger than one day.&lt;/li&gt;
	&lt;li&gt;Make sure the file name is readable, at the same time make sure the file name is not long. If we have timestamp in the file name, we have to convert it to a hex string to make it readable, it will take at least 26 bytes whereas now we only have 8 bytes.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The 2nd point makes the timestamp in the name be a problem. I don&apos;t think it is possible to have timestamp in the file name. Thanks.&lt;/p&gt;</comment>
                            <comment id="14543154" author="anoop.hbase" created="Thu, 14 May 2015 04:15:13 +0000"  >&lt;p&gt;Yes me too in favor of not changing it.  It might be really rare, that TTL is so less. (Specially for the MOB data).. We can clearly document it. If the tool is run on the next day, it will get deleted.&lt;/p&gt;</comment>
                            <comment id="14543157" author="ram_krish" created="Thu, 14 May 2015 04:27:26 +0000"  >&lt;p&gt;I think the explanation makes sense.  +1 on documentation.&lt;/p&gt;</comment>
                            <comment id="14543165" author="haitao-tony" created="Thu, 14 May 2015 04:39:46 +0000"  >&lt;p&gt;i agree&#65292; +1  on document&lt;/p&gt;</comment>
                            <comment id="14543202" author="sreenivasulureddy" created="Thu, 14 May 2015 05:15:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingcheng.du%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;jingcheng.du@intel.com&quot;&gt;Jingcheng Du&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For test Convenience only we executed that scenario.&lt;/p&gt;</comment>
                            <comment id="14543213" author="haitao-tony" created="Thu, 14 May 2015 05:21:57 +0000"  >&lt;p&gt;but i have some apprehension&#65292;the customer who uses this mob feature may actually have the use case which the ttl is less than one day,then we can only say sorry we&lt;br/&gt;
don&apos;t support this.&lt;br/&gt;
for your point 2,set it to timestamp instead of date,which will cut the name length by 18 bytes.&lt;br/&gt;
can you illustrate the benefit? my understanding is that is only saves some memory, and it will not do much benefit to the performance.&lt;br/&gt;
In order to make the mob more adaptive to customer&apos;s requirement, i prefer to keep it to timestamp&lt;/p&gt;</comment>
                            <comment id="14543214" author="jingcheng.du@intel.com" created="Thu, 14 May 2015 05:22:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sreenivasulureddy&quot; class=&quot;user-hover&quot; rel=&quot;sreenivasulureddy&quot;&gt;Y. SREENIVASULU REDDY&lt;/a&gt;. I think it&apos;s designed like this on purpose, we can add it in the document.&lt;br/&gt;
For the test convenience, you can put cells with older timestamp like the way in TestExpiredMobFileCleaner to verify the functions. Thanks.&lt;/p&gt;</comment>
                            <comment id="14543239" author="jingcheng.du@intel.com" created="Thu, 14 May 2015 05:49:55 +0000"  >&lt;p&gt;You can have TTL less than one day, any TTL is supported, but the cleaner only cleans them after one more day. It is only cleaner-related.&lt;br/&gt;
We want the name to be short, so that less disk or memory can be used. It might be notable when the mobs are large enough.&lt;br/&gt;
If timestamp is used in the name, its length might vary when enough time passed. The sorting of the name will change at that time which will breaks the working of mob.&lt;br/&gt;
What benefits do you think there will be if time stamp uses?&lt;/p&gt;</comment>
                            <comment id="14562696" author="gururaj" created="Thu, 28 May 2015 11:18:16 +0000"  >&lt;p&gt;Hi Sreenivasulu,&lt;/p&gt;

&lt;p&gt;I will update the document for the same.&lt;/p&gt;</comment>
                            <comment id="14598817" author="anoop.hbase" created="Wed, 24 Jun 2015 03:40:28 +0000"  >&lt;p&gt;Any patch for the doc update? Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gururaj&quot; class=&quot;user-hover&quot; rel=&quot;gururaj&quot;&gt;Gururaj Shetty&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sreenivasulureddy&quot; class=&quot;user-hover&quot; rel=&quot;sreenivasulureddy&quot;&gt;Y. SREENIVASULU REDDY&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashish+singhi&quot; class=&quot;user-hover&quot; rel=&quot;ashish singhi&quot;&gt;Ashish Singhi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14598910" author="ashish singhi" created="Wed, 24 Jun 2015 06:00:11 +0000"  >&lt;p&gt;Yes Anoop, Gururaj will be posting a patch by today.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="14599425" author="gururaj" created="Wed, 24 Jun 2015 13:38:11 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;&lt;br/&gt;
Attached the patch. Kindly review the same.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14599443" author="hadoopqa" created="Wed, 24 Jun 2015 13:48:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12741610/HBASE-13670.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12741610/HBASE-13670.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit b7f241d73b79ec22db2c03cb6b384b76185f0f85.&lt;br/&gt;
  ATTACHMENT ID: 12741610&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14544//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14544//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14599679" author="anoop.hbase" created="Wed, 24 Jun 2015 16:26:48 +0000"  >&lt;p&gt;&quot;the age of the file is more than 24hours from the time of creation&quot; -&amp;gt; the age of the file is at least 24 hrs( one day)&lt;br/&gt;
When we say age it means from time of creation so no need to tell explicitly. &lt;/p&gt;</comment>
                            <comment id="14601259" author="gururaj" created="Thu, 25 Jun 2015 14:24:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;&lt;br/&gt;
Incorporated you comments and attached the patch.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="14601281" author="hadoopqa" created="Thu, 25 Jun 2015 14:38:59 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12741858/HBASE-13670_01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12741858/HBASE-13670_01.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit edef3d64bce41fffbc5649ffa19b2cf80ce28d7a.&lt;br/&gt;
  ATTACHMENT ID: 12741858&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14569//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14569//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14601556" author="anoop.hbase" created="Thu, 25 Jun 2015 17:16:01 +0000"  >&lt;p&gt;Seems u made this patch wrongly.  On top of the older patch u made it..  U have to freshly make it.&lt;/p&gt;</comment>
                            <comment id="14602293" author="jingcheng.du@intel.com" created="Fri, 26 Jun 2015 02:30:47 +0000"  >&lt;p&gt;Thanks for the documents.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The MOB files will be deleted by the ExpiredMobFileCleaner tool only if the TTL time has expired and the age of the file is more than 24hours from the time of creation.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It can be a chore instead of a tool, I think we can remove  the tool word in the description.&lt;br/&gt;
How about changing to &quot;The MOB files will be deleted by the ExpiredMobFileCleaner only if they are expired, and they might live longer for 24 hours at most than that.&quot;?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gururaj&quot; class=&quot;user-hover&quot; rel=&quot;gururaj&quot;&gt;Gururaj Shetty&lt;/a&gt;, how about this?&lt;/p&gt;</comment>
                            <comment id="14602773" author="gururaj" created="Fri, 26 Jun 2015 12:04:21 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt; made a fresh patch as per your comment.&lt;/p&gt;

&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingcheng.du%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;jingcheng.du@intel.com&quot;&gt;Jingcheng Du&lt;/a&gt; I have replaced the tool with the chore. Rest of the sentence I think is simple and clear. Let me know your opinion.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14602796" author="hadoopqa" created="Fri, 26 Jun 2015 12:18:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12742097/HBASE-13670_02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12742097/HBASE-13670_02.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 2ed058554c0b6d6da0388497562e254107f13d67.&lt;br/&gt;
  ATTACHMENT ID: 12742097&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14584//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14584//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14603159" author="anoop.hbase" created="Fri, 26 Jun 2015 16:43:17 +0000"  >&lt;p&gt;+1&lt;br/&gt;
This looks cleaner statement.&lt;/p&gt;</comment>
                            <comment id="14605230" author="jingcheng.du@intel.com" created="Mon, 29 Jun 2015 07:26:21 +0000"  >&lt;p&gt;Thanks for the update.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;the age of the file is atleast 24hours&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think this doesn&apos;t get the essence. This is not related with the age, but how long it can live after it had been expired.&lt;br/&gt;
When we decide whether a mob file can be deleted, we use this function: expired= (Date(currentTime - TTL) - creationDateOfMobFile &amp;gt; 0). It means the mob file can live longer for 24 hours at most after it&apos;s expired in TTL.&lt;/p&gt;</comment>
                            <comment id="14607520" author="jingcheng.du@intel.com" created="Tue, 30 Jun 2015 05:24:30 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gururaj&quot; class=&quot;user-hover&quot; rel=&quot;gururaj&quot;&gt;Gururaj Shetty&lt;/a&gt;, would you mind having some comments for this? Thanks.&lt;/p&gt;</comment>
                            <comment id="14607897" author="jingcheng.du@intel.com" created="Tue, 30 Jun 2015 07:49:18 +0000"  >&lt;p&gt;Upload a patch to refine the comment. Thanks.&lt;/p&gt;</comment>
                            <comment id="14607903" author="hadoopqa" created="Tue, 30 Jun 2015 07:58:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12742736/HBASE-13670-03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12742736/HBASE-13670-03.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f8bd578b80b4e656d799c82ca1b6191e35bb0ae4.&lt;br/&gt;
  ATTACHMENT ID: 12742736&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14613//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14613//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14608140" author="anoop.hbase" created="Tue, 30 Jun 2015 11:20:44 +0000"  >&lt;p&gt;nit:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The file name uses only the date part of the file creation time in it.&lt;br/&gt;
1606	      The removal of TTL expired MOB files might be delayed and the max delay is 24 hours&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The MOB file name uses only the date part of the file creation time in it. We use this time for deciding TTL expiry of the files. So the removal of TTL expired files might be delayed. The max delay might be 24 hrs.&lt;/p&gt;

&lt;p&gt;I had a discuss with Jingcheng and his point is valid.. It is not like every file has to live at least a day..   Even for files with TTL of more days, the removal can be delayed..  While we compare the file create time with cur time,  we use the time in the file name...  That time contains only the date part not time part..   So this is applicable for any TTL file..  The above statement will tell it more clear IMO.&lt;/p&gt;</comment>
                            <comment id="14609451" author="jingcheng.du@intel.com" created="Wed, 1 Jul 2015 02:08:04 +0000"  >&lt;p&gt;Update the patch according to Anoop&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="14609472" author="hadoopqa" created="Wed, 1 Jul 2015 02:36:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12742996/HBASE-13670-04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12742996/HBASE-13670-04.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 85c278a6a8b25ff86e22c254ffec35e945cd7c66.&lt;br/&gt;
  ATTACHMENT ID: 12742996&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+0 tests included&lt;/font&gt;.  The patch appears to be a documentation patch that doesn&apos;t require tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14635//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14635//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14609527" author="anoop.hbase" created="Wed, 1 Jul 2015 03:53:36 +0000"  >&lt;p&gt;+1&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gururaj&quot; class=&quot;user-hover&quot; rel=&quot;gururaj&quot;&gt;Gururaj Shetty&lt;/a&gt;  any comments?&lt;/p&gt;</comment>
                            <comment id="14609595" author="gururaj" created="Wed, 1 Jul 2015 05:49:22 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14637829" author="hudson" created="Wed, 22 Jul 2015 22:48:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6672 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6672/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6672/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13670&quot; title=&quot;[HBase MOB] ExpiredMobFileCleaner tool deletes mob files later for one more day after they are expired&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13670&quot;&gt;&lt;del&gt;HBASE-13670&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HBase MOB&amp;#93;&lt;/span&gt; ExpiredMobFileCleaner tool deletes mob files later for one more day after they are expired. (Jingcheng) (anoopsamjohn: rev a1060d1390a82708d2547b1659325a4735a91761)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/resources/hbase-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12742736" name="HBASE-13670-03.patch" size="697" author="jingcheng.du@intel.com" created="Tue, 30 Jun 2015 07:49:18 +0000"/>
                            <attachment id="12742996" name="HBASE-13670-04.patch" size="763" author="jingcheng.du@intel.com" created="Wed, 1 Jul 2015 02:08:04 +0000"/>
                            <attachment id="12741610" name="HBASE-13670.patch" size="951" author="gururaj" created="Wed, 24 Jun 2015 13:31:16 +0000"/>
                            <attachment id="12741858" name="HBASE-13670_01.patch" size="1012" author="gururaj" created="Thu, 25 Jun 2015 14:22:00 +0000"/>
                            <attachment id="12742097" name="HBASE-13670_02.patch" size="928" author="gururaj" created="Fri, 26 Jun 2015 12:01:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 May 2015 06:11:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2elof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>