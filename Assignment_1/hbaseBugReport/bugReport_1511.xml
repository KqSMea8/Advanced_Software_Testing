<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:54:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1511/HBASE-1511.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1511] Pseudo distributed mode in LocalHBaseCluster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1511</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;After changes to config and adding of parameter:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;hbase.cluster.distributed&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/value&amp;gt;
    &amp;lt;description&amp;gt;The mode the cluster will be in. Possible values are
      &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;: standalone and pseudo-distributed setups with managed Zookeeper
      &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;: fully-distributed with unmanaged Zookeeper Quorum (see hbase-env.sh)
    &amp;lt;/description&amp;gt;
  &amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;running HBase in pseudo destr mode become not so easy, I think description for false variant is wrong and you can&apos;t get pseudo-distributed mode setting this option to false now.&lt;/p&gt;

&lt;p&gt;I wish to have some option in LocalHBaseCluster for pseudo destr mode where I wish to have:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;separate processes for Master and HRSs&lt;/li&gt;
	&lt;li&gt;ability to dynamically change HRS number in cluster&lt;/li&gt;
	&lt;li&gt;managed ZK cluster (like it is in local mode now)&lt;/li&gt;
	&lt;li&gt;managed small local HDFS cluster&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think it is very useful for testing, debugging and for user experience with HBase, who want to try something close to real HBase not some emulation in standalone mode.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427665">HBASE-1511</key>
            <summary>Pseudo distributed mode in LocalHBaseCluster</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nspiegelberg">Nicolas Spiegelberg</assignee>
                                    <reporter username="apparition">Evgeny Ryabitskiy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jun 2009 16:25:32 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:34 +0000</updated>
                            <resolved>Mon, 19 Jul 2010 23:35:20 +0000</resolved>
                                    <version>0.19.3</version>
                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12866993" author="stack" created="Thu, 13 May 2010 04:41:11 +0000"  >&lt;p&gt;Moved from 0.21 to 0.22 just after merge of old 0.20 branch into TRUNK.&lt;/p&gt;</comment>
                            <comment id="12888648" author="nspiegelberg" created="Thu, 15 Jul 2010 00:52:59 +0000"  >&lt;p&gt;What I am tackling&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;separate processes for Master &amp;amp; RS&lt;/li&gt;
	&lt;li&gt;script to add more RS in a psuedo-distributed cluster&lt;/li&gt;
	&lt;li&gt;script to add backup masters in a psudo-distributed cluster&lt;/li&gt;
	&lt;li&gt;config file that&lt;br/&gt;
   a.  explains basic psuedo-distributed mode&lt;br/&gt;
   b.  shows the extra options to add for running on top of pseudo-distributed HDFS&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12888999" author="nspiegelberg" created="Fri, 16 Jul 2010 03:33:04 +0000"  >&lt;p&gt;psuedo-distributed ZK is more work than the others based upon the way that ZooKeeperWrapper &amp;amp; HQuorumPeer was written.  Should still be doable, but noting some of the problems for consideration:&lt;/p&gt;

&lt;p&gt;1.  Need to add conf item (hbase.zookeeper.myid) to override ID lookup in HQuorumPeer.writeMyID()&lt;br/&gt;
2.  should be different per HQuorumPeer: hbase.zookeeper.property.clientPort + hbase.zookeeper.property.dataDir&lt;br/&gt;
3. hbase.zookeeper.property.server.&amp;lt;id&amp;gt; will be changed to &amp;lt;addr&amp;gt;:&amp;lt;peer_port&amp;gt;:&amp;lt;leader_port&amp;gt;:&amp;lt;client_port&amp;gt;&lt;br/&gt;
 a. We currently don&apos;t allow a custom peer_port + leader_port even though ZK supports it&lt;br/&gt;
 b. Need extra client_port for ZooKeeperWrapper.setQuorumServers()&lt;/p&gt;

&lt;p&gt;I have a feeling I&apos;m going to be writing this code twice after Jonathan finishes the master rewrite.&lt;/p&gt;</comment>
                            <comment id="12889012" author="hbasereviewboard" created="Fri, 16 Jul 2010 05:50:00 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/328/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Pseudo-distributed mode for HBase&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;separate processes for Master &amp;amp; RS&lt;/li&gt;
	&lt;li&gt;script to add more RS in a psuedo-distributed cluster&lt;/li&gt;
	&lt;li&gt;script to add backup masters in a psudo-distributed cluster&lt;/li&gt;
	&lt;li&gt;config file that&lt;br/&gt;
  a. explains basic psuedo-distributed mode settings&lt;br/&gt;
  b. shows the extra options to add for running on top of pseudo-distributed HDFS&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that I needed to add a GNU Parsing utility to the master + regionserver so I could override certain config values on the fly instead of making seperate config files.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1511&quot; title=&quot;Pseudo distributed mode in LocalHBaseCluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1511&quot;&gt;&lt;del&gt;HBASE-1511&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HBASE-1511&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HBASE-1511&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/local-master-backup.sh PRE-CREATION &lt;br/&gt;
  trunk/bin/local-regionservers.sh PRE-CREATION &lt;br/&gt;
  trunk/conf/hbase-site.xml.psuedo-distributed PRE-CREATION &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java 964686 &lt;br/&gt;
  trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java 964686 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/328/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Nicolas&lt;/p&gt;

</comment>
                            <comment id="12889316" author="hbasereviewboard" created="Fri, 16 Jul 2010 20:46:39 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/328/#review414&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#review414&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;p&gt;This looks nice Nicolas.  Want to take care of the few below and I&apos;ll then commit?&lt;/p&gt;


&lt;p&gt;trunk/bin/local-master-backup.sh&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1761&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Why is it called local-master-backup?  Should be a more descriptive name?  Its the &apos;backup&apos; that throws me off.  &apos;local-masters&apos;?&lt;/p&gt;




&lt;p&gt;trunk/bin/local-master-backup.sh&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1762&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1762&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Explain &apos;offset&apos; in this usage output?  (Seems to be port offset from default?)&lt;/p&gt;



&lt;p&gt;trunk/bin/local-master-backup.sh&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1763&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1763&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Isn&apos;t the master default port 60000, not 60020?  60020 is RS default port?&lt;/p&gt;



&lt;p&gt;trunk/conf/hbase-site.xml.psuedo-distributed&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1767&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1767&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is commented out because dfs.support.append doesn&apos;t work with local fs?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1768&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1768&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    You are adding a tab here?  Or white-space?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1769&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1769&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Add more comment in here... in particular on the &apos;-splitting&apos; suffix.  Where&apos;s that come from?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1770&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1770&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Tab?&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1772&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1772&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    There is whitespace in here.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1773&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1773&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Sorry Nicolas... this looks like an old unused option.  Should probably remove it.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1774&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1774&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is a nice addition.&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1775&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1775&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    White space&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;stack&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12889326" author="hbasereviewboard" created="Fri, 16 Jul 2010 20:59:49 +0000"  >&lt;p&gt;Message from: &quot;Jonathan Gray&quot; &amp;lt;jgray@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/328/#review417&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#review417&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/#comment1780&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#comment1780&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    i think it&apos;s good to retain this option.  once the new load balancer goes into place, you&apos;ll want it to not run the bulk placement to a small subset of the total servers during boot.&lt;/p&gt;

&lt;p&gt;    could always add a maxWait timeout as well.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jonathan&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12889427" author="hbasereviewboard" created="Sat, 17 Jul 2010 00:11:11 +0000"  >&lt;p&gt;Message from: &quot;Nicolas&quot; &amp;lt;nspiegelberg@facebook.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; This looks nice Nicolas.  Want to take care of the few below and I&apos;ll then commit?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I need to double-check to make sure that none of the ports will conflict at a low offset #.  e.g.: shouldn&apos;t use 600+offset &amp;amp; 610+offset because it won&apos;t support more than 10 servers then.  I think I saw that conflict last night, but just wanted to get some eyes/opinions on this.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/bin/local-master-backup.sh, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/diff/1/?file=2844#file2844line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff/1/?file=2844#file2844line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Why is it called local-master-backup?  Should be a more descriptive name?  Its the &apos;backup&apos; that throws me off.  &apos;local-masters&apos;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This JIRA also needs an associated wiki article change.  So, the workflow would be:&lt;/p&gt;

&lt;p&gt;./bin/start-hbase.sh&lt;br/&gt;
./bin/local-master-backup start 1&lt;/p&gt;

&lt;p&gt;I don&apos;t think you would want to use this file to start the original master, use start-hbase.sh for that.  You primarily want to use this script to test master failover conditions.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/bin/local-master-backup.sh, line 10&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/diff/1/?file=2844#file2844line10&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff/1/?file=2844#file2844line10&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Explain &apos;offset&apos; in this usage output?  (Seems to be port offset from default?)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;offset is not only the port offset, but also an identifier for the logs.  The log for &quot;./bin/local-master-backup.sh start 1&quot; would be located at logs/hbase-&amp;lt;user&amp;gt;-1-master-&amp;lt;server&amp;gt;.log&lt;/p&gt;

&lt;p&gt;In an internal review, Kannan asked why you couldn&apos;t use &quot;start 0&quot;, I thought offset would help explain that issue.  opinions?&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/bin/local-master-backup.sh, line 23&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/diff/1/?file=2844#file2844line23&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff/1/?file=2844#file2844line23&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Isn&apos;t the master default port 60000, not 60020?  60020 is RS default port?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;oops. probably cut+paste error. can correct&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/conf/hbase-site.xml.psuedo-distributed, line 65&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/diff/1/?file=2846#file2846line65&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff/1/?file=2846#file2846line65&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This is commented out because dfs.support.append doesn&apos;t work with local fs?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;exactly&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java, line 637&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/diff/1/?file=2847#file2847line637&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff/1/?file=2847#file2847line637&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     You are adding a tab here?  Or white-space?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;nasty editor! will fix&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/src/main/java/org/apache/hadoop/hbase/master/HMaster.java, line 641&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/328/diff/1/?file=2847#file2847line641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/diff/1/?file=2847#file2847line641&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Add more comment in here... in particular on the &apos;-splitting&apos; suffix.  Where&apos;s that come from?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;ooops.  I had some stuff from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2312&quot; title=&quot;Possible data loss when RS goes into GC pause while rolling HLog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2312&quot;&gt;&lt;del&gt;HBASE-2312&lt;/del&gt;&lt;/a&gt; sneak in.  I&apos;ll correct that&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Nicolas&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/328/#review414&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/328/#review414&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12889964" author="nspiegelberg" created="Mon, 19 Jul 2010 18:42:13 +0000"  >&lt;p&gt;Updated patch to address Review Board comments.  Also note:&lt;/p&gt;

&lt;p&gt;local-regionservers.sh : changed ports from 60020/60030 to 60200/60300.  this is to accommodate up to 1000 regionservers/machine.  kept master ports at 60000/60010 because I assumed you would not realistically want more than 10 masters.  limitations are noted in the header comments&lt;/p&gt;</comment>
                            <comment id="12889984" author="nspiegelberg" created="Mon, 19 Jul 2010 19:30:18 +0000"  >&lt;p&gt;Note that the executable state of local-master-backup.sh &amp;amp; local-regionserver.sh seems to have been lost in the maze of svn diff / patch -p0.  Those two files need: svn ps svn:executable&lt;/p&gt;</comment>
                            <comment id="12890028" author="nspiegelberg" created="Mon, 19 Jul 2010 21:03:00 +0000"  >&lt;p&gt;A simple usage document to get started on creating an associated wiki article&lt;/p&gt;</comment>
                            <comment id="12890094" author="stack" created="Mon, 19 Jul 2010 23:35:20 +0000"  >&lt;p&gt;Thanks for the sweet functionality Nicolas.  Committed.&lt;/p&gt;</comment>
                            <comment id="12890095" author="stack" created="Mon, 19 Jul 2010 23:37:02 +0000"  >&lt;p&gt;I converted your doc into an article that now shows in the left hand navbar when we build doc.&lt;/p&gt;</comment>
                            <comment id="12919396" author="hbasereviewboard" created="Fri, 8 Oct 2010 22:15:54 +0000"  >&lt;p&gt;Message from: stack@duboce.net&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/bin/local-master-backup.sh, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/328/diff/1/?file=2844#file2844line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/328/diff/1/?file=2844#file2844line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Why is it called local-master-backup?  Should be a more descriptive name?  Its the &apos;backup&apos; that throws me off.  &apos;local-masters&apos;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Nicolas wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This JIRA also needs an associated wiki article change.  So, the workflow would be:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;./bin/start-hbase.sh&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;./bin/local-master-backup start 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I don&apos;t think you would want to use this file to start the original master, use start-hbase.sh for that.  You primarily want to use this script to test master failover conditions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Don&apos;t write a wiki article.  Add an article under src/site, under xdoc or apt (not yet in place).  This can be done in a separate issue.  Meantime, on commit I can add the above  on how its used (w/o it, I was a little baffled but just those few lines above explain it all &amp;#8211; for me at least).&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-07-16 13:39:10, stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/bin/local-master-backup.sh, line 10&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.cloudera.org/r/328/diff/1/?file=2844#file2844line10&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/328/diff/1/?file=2844#file2844line10&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Explain &apos;offset&apos; in this usage output?  (Seems to be port offset from default?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Nicolas wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;offset is not only the port offset, but also an identifier for the logs.  The log for &quot;./bin/local-master-backup.sh start 1&quot; would be located at logs/hbase-&amp;lt;user&amp;gt;-1-master-&amp;lt;server&amp;gt;.log&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;In an internal review, Kannan asked why you couldn&apos;t use &quot;start 0&quot;, I thought offset would help explain that issue.  opinions?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm... maybe you do need an article on how this stuff works.   Smile.  Offset is fine (Is Kannan saying that a &apos;start 0&apos; should be rejected?).  If you put together a paragraph or two, I&apos;ll take care of sticking it into proper format.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;stack&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/328/#review414&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/328/#review414&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="15017835" author="lars_francke" created="Fri, 20 Nov 2015 13:01:34 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12507567">HBASE-3895</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12469509">HBASE-2841</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12449864" name="HBASE-1511.patch" size="12070" author="nspiegelberg" created="Mon, 19 Jul 2010 18:42:13 +0000"/>
                            <attachment id="12449876" name="psuedo-distribute hbase usage.txt" size="1611" author="nspiegelberg" created="Mon, 19 Jul 2010 21:03:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 May 2010 04:41:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hdof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>