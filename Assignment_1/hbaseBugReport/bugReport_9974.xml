<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:09:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9974/HBASE-9974.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9974] Rest sometimes returns incomplete xml/json data</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9974</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Rest sometimes return incomplete xml/json data.&lt;/p&gt;

&lt;p&gt;We found these exceptions in rest server.&lt;/p&gt;

&lt;p&gt;13/11/15 11:40:51 ERROR mortbay.log:/log/1A:23:11:0C:06:22*&lt;br/&gt;
javax.ws.rs.WebApplicationException: javax.xml.bind.MarshalException&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;with linked exception:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.mortbay.jetty.EofException&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.writeTo(AbstractRootElementProvider.java:159)&lt;br/&gt;
	at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)&lt;br/&gt;
	at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)&lt;br/&gt;
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)&lt;br/&gt;
	at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)&lt;br/&gt;
	at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)&lt;br/&gt;
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)&lt;br/&gt;
	at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1221)&lt;br/&gt;
	at org.apache.hadoop.hbase.rest.filter.GzipFilter.doFilter(GzipFilter.java:73)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:322)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)&lt;br/&gt;
Caused by: javax.xml.bind.MarshalException&lt;/li&gt;
	&lt;li&gt;with linked exception:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.mortbay.jetty.EofException&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:325)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:249)&lt;br/&gt;
	at javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:75)&lt;br/&gt;
	at com.sun.jersey.json.impl.JSONMarshallerImpl.marshal(JSONMarshallerImpl.java:74)&lt;br/&gt;
	at com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.writeTo(AbstractRootElementProvider.java:179)&lt;br/&gt;
	at com.sun.jersey.core.provider.jaxb.AbstractRootElementProvider.writeTo(AbstractRootElementProvider.java:157)&lt;br/&gt;
	... 24 more&lt;br/&gt;
Caused by: org.mortbay.jetty.EofException&lt;br/&gt;
	at org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:791)&lt;br/&gt;
	at org.mortbay.jetty.AbstractGenerator$Output.blockForOutput(AbstractGenerator.java:551)&lt;br/&gt;
	at org.mortbay.jetty.AbstractGenerator$Output.flush(AbstractGenerator.java:572)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$Output.flush(HttpConnection.java:1012)&lt;br/&gt;
	at org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:651)&lt;br/&gt;
	at org.mortbay.jetty.AbstractGenerator$Output.write(AbstractGenerator.java:580)&lt;br/&gt;
	at com.sun.jersey.spi.container.servlet.WebComponent$Writer.write(WebComponent.java:307)&lt;br/&gt;
	at com.sun.jersey.spi.container.ContainerResponse$CommittingOutputStream.write(ContainerResponse.java:134)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.output.UTF8XmlOutput.flushBuffer(UTF8XmlOutput.java:416)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.output.UTF8XmlOutput.text(UTF8XmlOutput.java:369)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.unmarshaller.Base64Data.writeTo(Base64Data.java:303)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.output.UTF8XmlOutput.text(UTF8XmlOutput.java:310)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.XMLSerializer.text(XMLSerializer.java:425)&lt;br/&gt;
	at com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl$PcdataImpl.writeText(RuntimeBuiltinLeafInfoImpl.java:177)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.reflect.TransducedAccessor$CompositeTransducedAccessorImpl.writeText(TransducedAccessor.java:261)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ValueProperty.serializeBody(ValueProperty.java:87)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:344)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsXsiType(XMLSerializer.java:700)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ArrayElementNodeProperty.serializeItem(ArrayElementNodeProperty.java:69)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ArrayElementProperty.serializeListBody(ArrayElementProperty.java:172)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ArrayERProperty.serializeBody(ArrayERProperty.java:159)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:344)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsXsiType(XMLSerializer.java:700)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ArrayElementNodeProperty.serializeItem(ArrayElementNodeProperty.java:69)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ArrayElementProperty.serializeListBody(ArrayElementProperty.java:172)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.property.ArrayERProperty.serializeBody(ArrayERProperty.java:159)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeBody(ClassBeanInfoImpl.java:344)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsSoleContent(XMLSerializer.java:597)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.ClassBeanInfoImpl.serializeRoot(ClassBeanInfoImpl.java:328)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:498)&lt;br/&gt;
	at com.sun.xml.bind.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:320)&lt;br/&gt;
	... 29 more&lt;br/&gt;
Caused by: java.io.IOException: Connection reset by peer&lt;br/&gt;
	at sun.nio.ch.FileDispatcher.write0(Native Method)&lt;br/&gt;
	at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:29)&lt;br/&gt;
	at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:69)&lt;br/&gt;
	at sun.nio.ch.IOUtil.write(IOUtil.java:26)&lt;br/&gt;
	at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:336)&lt;br/&gt;
	at org.mortbay.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:170)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.flush(SelectChannelEndPoint.java:221)&lt;br/&gt;
	at org.mortbay.jetty.HttpGenerator.flush(HttpGenerator.java:725)&lt;br/&gt;
	... 59 more&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12679334">HBASE-9974</key>
            <summary>Rest sometimes returns incomplete xml/json data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="liushaohui">Liu Shaohui</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Nov 2013 03:54:47 +0000</created>
                <updated>Mon, 18 Nov 2013 09:49:05 +0000</updated>
                            <resolved>Mon, 18 Nov 2013 09:49:05 +0000</resolved>
                                                                    <component>REST</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13823468" author="apurtell" created="Fri, 15 Nov 2013 08:26:51 +0000"  >&lt;p&gt;Looks like a client hangup (IOE connection reset by peer in the stacktrace). Does your client time out or give up before all data is recieved? Can you provide more information? &lt;/p&gt;</comment>
                            <comment id="13825229" author="liushaohui" created="Mon, 18 Nov 2013 09:47:31 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The problem is that there is an nginx between rest server and http client. But the permission of proxy_temp of nginx is misconfigured, which causes the writes to proxy_temp fails when the response buffer is full. So the http client gets incomplete xml/json data.&lt;/p&gt;

&lt;p&gt;After the correction of nginx&apos;s config, the problem disappeared.&lt;/p&gt;

&lt;p&gt;Can someone help to close this issue?&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Nov 2013 08:26:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pu1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>