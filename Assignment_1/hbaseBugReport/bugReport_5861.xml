<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:31:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5861/HBASE-5861.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5861] Hadoop 23 compilation broken due to tests introduced in HBASE-5604</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5861</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When attempting to compile HBase 0.94rc1 against hadoop 23, I got this set of compilation error messages:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jon@swoop:~/proj/hbase-0.94$ mvn clean test -Dhadoop.profile=23 -DskipTests
...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 18.926s
[INFO] Finished at: Mon Apr 23 10:38:47 PDT 2012
[INFO] Final Memory: 55M/555M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) on project hbase: Compilation failure: Compilation failure:
[ERROR] /home/jon/proj/hbase-0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java:[147,46] org.apache.hadoop.mapreduce.JobContext is &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;; cannot be instantiated
[ERROR] 
[ERROR] /home/jon/proj/hbase-0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java:[153,29] org.apache.hadoop.mapreduce.JobContext is &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;; cannot be instantiated
[ERROR] 
[ERROR] /home/jon/proj/hbase-0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java:[194,46] org.apache.hadoop.mapreduce.JobContext is &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;; cannot be instantiated
[ERROR] 
[ERROR] /home/jon/proj/hbase-0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java:[206,29] org.apache.hadoop.mapreduce.JobContext is &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;; cannot be instantiated
[ERROR] 
[ERROR] /home/jon/proj/hbase-0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java:[213,29] org.apache.hadoop.mapreduce.JobContext is &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;; cannot be instantiated
[ERROR] 
[ERROR] /home/jon/proj/hbase-0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java:[226,29] org.apache.hadoop.mapreduce.TaskAttemptContext is &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt;; cannot be instantiated
[ERROR] -&amp;gt; [Help 1]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Upon further investigation this issue is due to code introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5064&quot; title=&quot;utilize surefire tests parallelization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5064&quot;&gt;&lt;del&gt;HBASE-5064&lt;/del&gt;&lt;/a&gt; and is also present in trunk.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12552170">HBASE-5861</key>
            <summary>Hadoop 23 compilation broken due to tests introduced in HBASE-5604</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmhsieh">Jonathan Hsieh</assignee>
                                    <reporter username="jmhsieh">Jonathan Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Apr 2012 17:43:46 +0000</created>
                <updated>Wed, 18 Sep 2013 22:09:19 +0000</updated>
                            <resolved>Wed, 25 Apr 2012 00:08:57 +0000</resolved>
                                    <version>0.94.0</version>
                    <version>0.95.2</version>
                                    <fixVersion>0.94.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13259773" author="stack" created="Mon, 23 Apr 2012 17:53:01 +0000"  >&lt;p&gt;@Jon Which code breaks the build?  The hbase-5064 changes have been in there with a good while now.&lt;/p&gt;</comment>
                            <comment id="13259785" author="umamaheswararao" created="Mon, 23 Apr 2012 18:05:49 +0000"  >&lt;p&gt;In branch-1, JobContext is a class.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class JobContext {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now in hadoop trunk or hadoop-2, that is changed to interface.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@InterfaceAudience.Public
@InterfaceStability.Evolving
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; JobContext &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MRJobConfig {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13259941" author="jmhsieh" created="Mon, 23 Apr 2012 20:50:37 +0000"  >&lt;p&gt;@Stack, I did some basic testing on 0.94rc0 and it compiled fine there.  Didn&apos;t try rc1 (might be there) but rc2 definitely got the issue.  I&apos;m working on a shimming patch to handle this.&lt;/p&gt;</comment>
                            <comment id="13259950" author="stack" created="Mon, 23 Apr 2012 21:00:39 +0000"  >&lt;p&gt;@Jon Good stuff.  Looks like our Andrew saw this before we did over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5807&quot; title=&quot;TestHLogRecordReader does not compile against Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5807&quot;&gt;&lt;del&gt;HBASE-5807&lt;/del&gt;&lt;/a&gt;: &quot;JobContext and TaskAttemptContext are only interfaces in 0.23+. TestHLogRecordReader should be reimplemented with a different approach.&quot;  I&apos;ll mark that issue dup of this.&lt;/p&gt;</comment>
                            <comment id="13260044" author="lhofhansl" created="Mon, 23 Apr 2012 22:42:53 +0000"  >&lt;p&gt;Just realized it was me who added this test as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5604&quot; title=&quot;M/R tool to replay WAL files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5604&quot;&gt;&lt;del&gt;HBASE-5604&lt;/del&gt;&lt;/a&gt;... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I should fix it.&lt;/p&gt;</comment>
                            <comment id="13260068" author="jmhsieh" created="Mon, 23 Apr 2012 23:12:57 +0000"  >&lt;p&gt;@Lars I&apos;m pretty close now &amp;#8211; testing some reflection stuff, have one of the MR tests failing currently.&lt;/p&gt;</comment>
                            <comment id="13260069" author="lhofhansl" created="Mon, 23 Apr 2012 23:17:38 +0000"  >&lt;p&gt;I have a fix. There&apos;s util method in MapReduceTestUtil to create a dummy TaskAttemptContext.&lt;br/&gt;
Will upload a patch momentarily.&lt;/p&gt;</comment>
                            <comment id="13260070" author="lhofhansl" created="Mon, 23 Apr 2012 23:22:11 +0000"  >&lt;p&gt;Works fine for Hadoop 1.0.* and should work for 0.23.*.&lt;/p&gt;

&lt;p&gt;For various other reasons I cannot currently build against hadoop 0.23, if somebody could quick verify, that&apos;d be great.&lt;/p&gt;</comment>
                            <comment id="13260074" author="lhofhansl" created="Mon, 23 Apr 2012 23:28:12 +0000"  >&lt;p&gt;Ah nope, there&apos;s the JobContext too.&lt;/p&gt;</comment>
                            <comment id="13260075" author="jmhsieh" created="Mon, 23 Apr 2012 23:29:29 +0000"  >&lt;p&gt;@Lars you can verify your fix via &apos;mvn clean test -Dhadoop.profile=23 -DskipTests&apos;.  It will download the hadoop 23 version of the world and test against it.&lt;/p&gt;</comment>
                            <comment id="13260077" author="lhofhansl" created="Mon, 23 Apr 2012 23:32:52 +0000"  >&lt;p&gt;@Jon: Tried that. For some reason I get 100&apos;s of compilation errors complaining about missing hadoop packages.&lt;/p&gt;</comment>
                            <comment id="13260081" author="jmhsieh" created="Mon, 23 Apr 2012 23:35:45 +0000"  >&lt;p&gt;Here&apos;s where I am currently.  TestImportExport fails &amp;#8211; doesn&apos;t seem to copy jars into mr distributed cache properly.&lt;/p&gt;</comment>
                            <comment id="13260102" author="lhofhansl" created="Tue, 24 Apr 2012 00:06:53 +0000"  >&lt;p&gt;Did you forget to include HadoopShim?&lt;/p&gt;</comment>
                            <comment id="13260108" author="jmhsieh" created="Tue, 24 Apr 2012 00:21:08 +0000"  >&lt;p&gt;Lars you are right, I missed the HadoopShim file.  It ends up that some of the mr tests seem to be flakey on my vm &amp;#8211; TestImportExport passes sometime.&lt;/p&gt;

&lt;p&gt;Note - v2 is a sketch &amp;#8211; I&apos;ve got another version that refactors this slightly to be cleaner.&lt;/p&gt;</comment>
                            <comment id="13260117" author="lhofhansl" created="Tue, 24 Apr 2012 00:29:09 +0000"  >&lt;p&gt;For TaskAttemptContext we could use Hadoop&apos;s MapReduceTestUtil class, right? I.e. HadoopShim could use MapReduceTestUtil.createDummyMapTaskAttemptContext(...)&lt;br/&gt;
For JobContext, why not use JobContextImpl in hadoop2?&lt;/p&gt;

&lt;p&gt;Rest looks good.&lt;/p&gt;</comment>
                            <comment id="13260124" author="jmhsieh" created="Tue, 24 Apr 2012 00:43:14 +0000"  >&lt;p&gt;I&apos;m less familiar with the MR API and didn&apos;t know those existed.  Sound like good suggestions.  I&apos;ll try it on the next version I post.  (likely late tonight).&lt;/p&gt;</comment>
                            <comment id="13260126" author="lhofhansl" created="Tue, 24 Apr 2012 00:55:52 +0000"  >&lt;p&gt;Problem above was due to Maven 2... Grrrr.&lt;/p&gt;</comment>
                            <comment id="13260132" author="lhofhansl" created="Tue, 24 Apr 2012 01:20:08 +0000"  >&lt;p&gt;How about this one. (slight variation of Jon&apos;s patch).&lt;/p&gt;</comment>
                            <comment id="13260137" author="stack" created="Tue, 24 Apr 2012 01:27:37 +0000"  >&lt;p&gt;You uploaded wrong patch boss?&lt;/p&gt;</comment>
                            <comment id="13260175" author="lhofhansl" created="Tue, 24 Apr 2012 03:24:07 +0000"  >&lt;p&gt;Whoops... Removed.&lt;/p&gt;</comment>
                            <comment id="13260188" author="lhofhansl" created="Tue, 24 Apr 2012 03:55:09 +0000"  >&lt;p&gt;My patch didn&apos;t work anyway, since MapReduceTestUtil is a test class in Hadoop.&lt;/p&gt;

&lt;p&gt;This brings to another point: Some of the HBase tests need this lower layer for UnitTests, but the &quot;production&quot; part of HBase should not operate at this layer.&lt;/p&gt;

&lt;p&gt;So whatever fix we have for this, should only involve test code. If folks agree with this then HadoopShim should be a test class.&lt;/p&gt;</comment>
                            <comment id="13260195" author="lhofhansl" created="Tue, 24 Apr 2012 04:01:51 +0000"  >&lt;p&gt;I&apos;ll have a sketch of what I mean a bit later.&lt;/p&gt;</comment>
                            <comment id="13260209" author="stack" created="Tue, 24 Apr 2012 04:30:50 +0000"  >&lt;p&gt;Does &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5853&quot; title=&quot;java.lang.RuntimeException: readObject can&amp;#39;t find class org.apache.hadoop.hdfs.protocol.HdfsFileStatus&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5853&quot;&gt;&lt;del&gt;HBASE-5853&lt;/del&gt;&lt;/a&gt; need to get fixed too?  It looks like a 0.23 issue also?&lt;/p&gt;</comment>
                            <comment id="13260217" author="lhofhansl" created="Tue, 24 Apr 2012 04:52:15 +0000"  >&lt;p&gt;Seems that way. And that is not just a test issue. So going from that HadoopShim needs to be part of &quot;production&quot; HBase.&lt;/p&gt;</comment>
                            <comment id="13260271" author="lhofhansl" created="Tue, 24 Apr 2012 06:08:21 +0000"  >&lt;p&gt;I am generally a bit unclear at what point we require a recompile of HBase against a specific version of Hadoop and when we make it &quot;just work&quot; via reflection.&lt;/p&gt;</comment>
                            <comment id="13260541" author="jmhsieh" created="Tue, 24 Apr 2012 13:30:44 +0000"  >&lt;p&gt;There are two classes of changes I&apos;m aware of currently:&lt;/p&gt;

&lt;p&gt;1) Class becomes Interface -&amp;gt; which means constructors for some things have moved to be impls.  Seems to be ok with reflection.&lt;br/&gt;
2) Enum moved to different new class, and original class exists for compatibility as a subclass of new class.  This seems to require recompile because this confuses class loader.&lt;/p&gt;</comment>
                            <comment id="13260601" author="jmhsieh" created="Tue, 24 Apr 2012 14:21:45 +0000"  >&lt;p&gt;We shouldn&apos;t use JobContextImpl or TaskAttemptContextImpl since it is marked:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@InterfaceAudience.Private
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My guess is that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5853&quot; title=&quot;java.lang.RuntimeException: readObject can&amp;#39;t find class org.apache.hadoop.hdfs.protocol.HdfsFileStatus&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5853&quot;&gt;&lt;del&gt;HBASE-5853&lt;/del&gt;&lt;/a&gt; may be something else &amp;#8211; possibly a class path or jar compatibility problem.  At first glance it looks over there that only public apis are used.  &lt;/p&gt;

&lt;p&gt;I&apos;ll move the previous patch to be a HadoopTestShim in hbase tests and use MapReduceTestUtil.  At the moment this seems to be isolated to tests.  If we need to have a shim for production code, we can make a new HadoopShim for those calls. &lt;/p&gt;</comment>
                            <comment id="13260644" author="jmhsieh" created="Tue, 24 Apr 2012 15:14:41 +0000"  >&lt;p&gt;Currently looks like InputSampler (a sampler for bulk loads) and friends are probably broken in 23 because it uses the  TaskAttemptContext constructor which is hadoop 1.x specific.  We didn&apos;t catch this because currently there are no tests exercising this code. If we use MapReduceTestUtil to get a dummy, we&apos;d need to pull in the hadoop-test jar to compile.&lt;/p&gt;

&lt;p&gt;Against hadoop 23, MapReduceTestUtil is included in the jars pulled in for compile and test.&lt;/p&gt;</comment>
                            <comment id="13260725" author="lhofhansl" created="Tue, 24 Apr 2012 17:28:01 +0000"  >&lt;p&gt;The comment in InputSampler also says that one should use the actual Hadoop code in 0.23+ (not the backported code), so I would guess that this would be OK as long as there is no compile time error.&lt;/p&gt;

&lt;p&gt;If the only problem is TestHLogRecordReader, I should just fix up the test and be done with this.&lt;/p&gt;</comment>
                            <comment id="13260775" author="jmhsieh" created="Tue, 24 Apr 2012 18:15:32 +0000"  >&lt;p&gt;v3 is a cleaned up version, and doesn&apos;t touch InputSampler.&lt;/p&gt;</comment>
                            <comment id="13260785" author="zhihyu@ebaysf.com" created="Tue, 24 Apr 2012 18:25:07 +0000"  >&lt;p&gt;I got the following with v3 using 0.23 profile:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] /Users/zhihyu/trunk-hbase/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java:[1333,35] cannot find symbol
[ERROR] symbol  : method getJobTracker()
[ERROR] location: class org.apache.hadoop.mapred.MiniMRCluster.JobTrackerRunner
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13260797" author="jmhsieh" created="Tue, 24 Apr 2012 18:30:30 +0000"  >&lt;p&gt;Sorry about that &amp;#8211; only tested the latest against 0.94.&lt;/p&gt;</comment>
                            <comment id="13260881" author="hadoopqa" created="Tue, 24 Apr 2012 19:43:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12524020/hbase-5861-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12524020/hbase-5861-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 5 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1629//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1629//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1629//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1629//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1629//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1629//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13261027" author="lhofhansl" created="Tue, 24 Apr 2012 21:21:39 +0000"  >&lt;p&gt;+1 on v3 for 0.94. JobTrackerRunner.getJobTracker is a separate issue for trunk.&lt;/p&gt;</comment>
                            <comment id="13261089" author="jmhsieh" created="Tue, 24 Apr 2012 22:24:47 +0000"  >&lt;p&gt;The JobTrackerRunner.getJobTracker issue is a separate unrelated issue broken on trunk but not 0.94.&lt;/p&gt;</comment>
                            <comment id="13261099" author="lhofhansl" created="Tue, 24 Apr 2012 22:36:11 +0000"  >&lt;p&gt;Yep. So let&apos;s get this issue into 0.94 and trunk.&lt;/p&gt;

&lt;p&gt;+1 from me for v3 in 0.94 and trunk.&lt;/p&gt;

&lt;p&gt;Then we file a separate issue for trunk to deal with JobTrackerRunner.getJobTracker.&lt;/p&gt;</comment>
                            <comment id="13261144" author="zhihyu@ebaysf.com" created="Tue, 24 Apr 2012 23:36:26 +0000"  >&lt;p&gt;Patch v4 adds support for obtaining JobConf.&lt;/p&gt;

&lt;p&gt;TestHLogRecordReader passes using either hadoop 1.0 or 0.23 profile.&lt;/p&gt;</comment>
                            <comment id="13261155" author="jmhsieh" created="Tue, 24 Apr 2012 23:54:41 +0000"  >&lt;p&gt;I&apos;m going to commit v3 to 0.94 and trunk and then file a new issue for the additions in v4 since the problem only occurs on trunk and not 0.94.  Before committing the additions I&apos;d want to spend some time figuring out why that new geTJobTracker issue showed up.&lt;/p&gt;


</comment>
                            <comment id="13261160" author="jmhsieh" created="Wed, 25 Apr 2012 00:08:57 +0000"  >&lt;p&gt;Thanks for review Lars.  Committed.&lt;/p&gt;


&lt;p&gt;Create follow on issue for Ted&apos;s Addendum (since it only affects trunk).&lt;/p&gt;</comment>
                            <comment id="13261171" author="hadoopqa" created="Wed, 25 Apr 2012 00:29:32 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12524083/5861-v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12524083/5861-v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 5 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     -1 core tests.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1633//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1633//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1633//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1633//artifact/trunk/patchprocess/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/1633//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/1633//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13261179" author="lhofhansl" created="Wed, 25 Apr 2012 00:36:27 +0000"  >&lt;p&gt;Awesome. Thanks Jon and Ted.&lt;/p&gt;</comment>
                            <comment id="13261191" author="lhofhansl" created="Wed, 25 Apr 2012 00:56:53 +0000"  >&lt;p&gt;As Ted points out MapreduceTestingShim.java is missing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, build is broken (0.94 and trunk)&lt;/p&gt;</comment>
                            <comment id="13261195" author="jmhsieh" created="Wed, 25 Apr 2012 01:02:23 +0000"  >&lt;p&gt;Oops.  I&apos;ve added an addendum.  &lt;/p&gt;</comment>
                            <comment id="13261216" author="hudson" created="Wed, 25 Apr 2012 01:50:42 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #20 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/20/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/20/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; ADDENDUM (missed new MapredcueTestingShim.java file) (Revision 1330077)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; Hadoop 23 compile broken due to tests introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5064&quot; title=&quot;utilize surefire tests parallelization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5064&quot;&gt;&lt;del&gt;HBASE-5064&lt;/del&gt;&lt;/a&gt; (Revision 1330071)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/MapreduceTestingShim.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13261230" author="hudson" created="Wed, 25 Apr 2012 01:51:41 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #146 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/146/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/146/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; ADDENDUM (missed new MapredcueTestingShim.java file) (Revision 1330077)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; Hadoop 23 compile broken due to tests introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5064&quot; title=&quot;utilize surefire tests parallelization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5064&quot;&gt;&lt;del&gt;HBASE-5064&lt;/del&gt;&lt;/a&gt; (Revision 1330071)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/MapreduceTestingShim.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13261239" author="hudson" created="Wed, 25 Apr 2012 01:59:35 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2809 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2809/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2809/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; ADDENDUM (missed new MapredcueTestingShim.java file) (Revision 1330078)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; Hadoop 23 compile broken due to tests introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5064&quot; title=&quot;utilize surefire tests parallelization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5064&quot;&gt;&lt;del&gt;HBASE-5064&lt;/del&gt;&lt;/a&gt; (Revision 1330072)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/MapreduceTestingShim.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13261333" author="hudson" created="Wed, 25 Apr 2012 06:20:30 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-security #183 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-security/183/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-security/183/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; ADDENDUM (missed new MapredcueTestingShim.java file) (Revision 1330078)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5861&quot; title=&quot;Hadoop 23 compilation broken due to tests introduced in HBASE-5604&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5861&quot;&gt;&lt;del&gt;HBASE-5861&lt;/del&gt;&lt;/a&gt; Hadoop 23 compile broken due to tests introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5064&quot; title=&quot;utilize surefire tests parallelization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5064&quot;&gt;&lt;del&gt;HBASE-5064&lt;/del&gt;&lt;/a&gt; (Revision 1330072)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/MapreduceTestingShim.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;jmhsieh : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/mapreduce/TestHLogRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13261477" author="jmhsieh" created="Wed, 25 Apr 2012 11:52:49 +0000"  >&lt;p&gt;Oops, commit message should say &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5604&quot; title=&quot;M/R tool to replay WAL files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5604&quot;&gt;&lt;del&gt;HBASE-5604&lt;/del&gt;&lt;/a&gt; instead of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5064&quot; title=&quot;utilize surefire tests parallelization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5064&quot;&gt;&lt;del&gt;HBASE-5064&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12552454">HBASE-5870</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12524083" name="5861-v4.patch" size="10014" author="zhihyu@ebaysf.com" created="Tue, 24 Apr 2012 23:36:26 +0000"/>
                            <attachment id="12523890" name="5861.txt" size="1104" author="lhofhansl" created="Mon, 23 Apr 2012 23:22:11 +0000"/>
                            <attachment id="12523892" name="hbase-5861-jon.patch" size="8462" author="jmhsieh" created="Mon, 23 Apr 2012 23:35:45 +0000"/>
                            <attachment id="12523898" name="hbase-5861-v2.patch" size="14447" author="jmhsieh" created="Tue, 24 Apr 2012 00:21:08 +0000"/>
                            <attachment id="12524020" name="hbase-5861-v3.patch" size="7180" author="jmhsieh" created="Tue, 24 Apr 2012 18:15:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Apr 2012 17:53:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i068q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>