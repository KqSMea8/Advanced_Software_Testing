<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:13:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3786/HBASE-3786.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3786] Enhance MasterCoprocessorHost to include notification of balancing of each region</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3786</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12504334">HBASE-3786</key>
            <summary>Enhance MasterCoprocessorHost to include notification of balancing of each region</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Apr 2011 02:40:37 +0000</created>
                <updated>Wed, 16 Nov 2016 21:05:41 +0000</updated>
                            <resolved>Wed, 16 Nov 2016 21:05:41 +0000</resolved>
                                    <version>0.90.2</version>
                                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13020223" author="ghelmling" created="Fri, 15 Apr 2011 07:37:39 +0000"  >&lt;p&gt;Does this need to be handled on the region balancing end?  Could it be performed in the RegionObserver.preOpen() hook instead?&lt;/p&gt;</comment>
                            <comment id="13020243" author="stack" created="Fri, 15 Apr 2011 09:06:16 +0000"  >&lt;p&gt;I think that would work for the fellow who wants it.  Let me ask him Gary.&lt;/p&gt;</comment>
                            <comment id="13020277" author="yuzhihong@gmail.com" created="Fri, 15 Apr 2011 11:54:44 +0000"  >&lt;p&gt;I looked at preOpen():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void preOpen(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ObserverContext&amp;lt;RegionCoprocessorEnvironment&amp;gt; c);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is not clear to me how we can obtain the original region server where the region came from.&lt;/p&gt;

&lt;p&gt;I think semantically, that information shouldn&apos;t be provided here.&lt;/p&gt;</comment>
                            <comment id="13020299" author="jasonrutherglen" created="Fri, 15 Apr 2011 13:26:35 +0000"  >&lt;p&gt;I&apos;m not sure the location of the previous region&apos;s necessary?  &lt;/p&gt;

&lt;p&gt;Ideally we&apos;d simply notify the NameNode to replicate the existing index files to the new RegionServer/DataNode, however that doesn&apos;t seem possible today?&lt;/p&gt;

&lt;p&gt;Stack and I discussed performing a partial/full Lucene index optimize while &apos;copying&apos; the existing index files to the local DataNode (because the merge&apos;ll be initiated and executed on the new RS).  Does that sound tenable?  There&apos;ll be a cost to the CPU due to the index merging however it&apos;ll be single threaded.&lt;/p&gt;</comment>
                            <comment id="13020356" author="apurtell" created="Fri, 15 Apr 2011 17:04:48 +0000"  >&lt;p&gt;This issue may not have the appropriate scope for it, but I do think we should provide hooks into the balancer function.&lt;/p&gt;</comment>
                            <comment id="13020415" author="jasonrutherglen" created="Fri, 15 Apr 2011 20:14:19 +0000"  >&lt;p&gt;&amp;gt; This issue may not have the appropriate scope for it, but I do think we should provide hooks into the balancer function&lt;/p&gt;

&lt;p&gt;I thought that existed today?  Yes it&apos;d be great to log the query times for a given region and balance based on system wide search system statistics.  I think it&apos;ll be useful (and simple) to build a query logging system (eg, HBase table) that automatically logs the search queries into HBase for later analysis, generating the statistics useful for balancing.&lt;/p&gt;</comment>
                            <comment id="13455389" author="lhofhansl" created="Thu, 13 Sep 2012 22:45:46 +0000"  >&lt;p&gt;I&apos;m a bit fuzzy as to what the current state is. In MasterObserver I find &lt;/p&gt;
{pre|post}
&lt;p&gt;Balance, but those are not per region, so I guess they do not provide what is being asked here...?&lt;/p&gt;</comment>
                            <comment id="15671629" author="esteban" created="Wed, 16 Nov 2016 21:05:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4552&quot; title=&quot;multi-CF bulk load is not atomic across column families&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4552&quot;&gt;&lt;del&gt;HBASE-4552&lt;/del&gt;&lt;/a&gt; was closed and as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; stated in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3529&quot; title=&quot;Add search to HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3529&quot;&gt;&lt;del&gt;HBASE-3529&lt;/del&gt;&lt;/a&gt; with NGDATA&apos;s hbase-indexer we have some indexing functionality that relies on our replication infra.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12498553">HBASE-3529</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Apr 2011 07:37:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02epz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>For realtime indexing (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3529&quot; title=&quot;Add search to HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3529&quot;&gt;&lt;strike&gt;HBASE-3529&lt;/strike&gt;&lt;/a&gt;), it is desirable to add notification of balancing (movement) of each region so that Lucene indexes can be moved to the local data node.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>