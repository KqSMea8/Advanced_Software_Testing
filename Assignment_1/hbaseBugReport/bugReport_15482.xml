<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:04:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-15482/HBASE-15482.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-15482] Provide an option to skip calculating block locations for SnapshotInputFormat</title>
                <link>https://issues.apache.org/jira/browse/HBASE-15482</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When a MR job is reading from SnapshotInputFormat, it needs to calculate the splits based on the block locations in order to get best locality. However, this process may take a long time for large snapshots. &lt;/p&gt;

&lt;p&gt;In some setup, the computing layer, Spark, Hive or Presto could run out side of HBase cluster. In these scenarios, the block locality doesn&apos;t matter. Therefore, it will be great to have an option to skip calculating the block locations for every job. That will super useful for the Hive/Presto/Spark connectors.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12951438">HBASE-15482</key>
            <summary>Provide an option to skip calculating block locations for SnapshotInputFormat</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="liyin">Liyin Tang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Mar 2016 04:18:48 +0000</created>
                <updated>Sat, 19 Mar 2016 04:01:37 +0000</updated>
                                                                            <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="15200994" author="yuzhihong@gmail.com" created="Fri, 18 Mar 2016 04:27:25 +0000"  >&lt;p&gt;Welcome back, Liyin.&lt;/p&gt;

&lt;p&gt;Yeah. This makes sense.&lt;/p&gt;</comment>
                            <comment id="15201910" author="ndimiduk" created="Fri, 18 Mar 2016 18:17:19 +0000"  >&lt;p&gt;Seems like this would apply for all the InputFormat implementations, not just SnapshotInputFormat. I have that right &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liyin&quot; class=&quot;user-hover&quot; rel=&quot;liyin&quot;&gt;Liyin Tang&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15202058" author="churromorales" created="Fri, 18 Mar 2016 20:06:58 +0000"  >&lt;p&gt;I think Liyin is referring to only those InputFormats that deal specifically with store files, if the Input format scans meta, that should still be fine.  We encountered the same issue when dealing with snapshots because when you have a million store files and you calculate the block distribution of each one that creates quite a bit of stress on the namenode.  &lt;/p&gt;</comment>
                            <comment id="15202071" author="liyin" created="Fri, 18 Mar 2016 20:15:15 +0000"  >&lt;p&gt;Yeah, that&apos;s right. Ideally, if SnapshotInputFormat can read directly from snapshot instead of restore, that will be awesome ! Restoring a millions of storefiles will also take a long time. But that will be out of the scope of this jira.&lt;/p&gt;</comment>
                            <comment id="15202170" author="davelatham" created="Fri, 18 Mar 2016 21:10:28 +0000"  >&lt;p&gt;Liyin, you mentioned it being outside of the scope of this jira, but we use hdfs snapshots rather than hbase snapshots for reasons like that, and have an adapted input format for reading from them.  If there is interest we could look at trying to share that better, can see what shape it is in.&lt;/p&gt;</comment>
                            <comment id="15202539" author="liyin" created="Sat, 19 Mar 2016 03:48:38 +0000"  >&lt;p&gt;Dave, thanks for the response.&lt;/p&gt;

&lt;p&gt;Even we use HDFS snapshots, it will be great to have an option to skip calculating block locations. To decouple computing with storage , it is possible to set up computing layer for query engine like Spark/Hive/Presto in a different cluster. In these cases, the locality doesn&apos;t matter for both HBase and HDFS snapshots.  &lt;/p&gt;</comment>
                            <comment id="15202543" author="davelatham" created="Sat, 19 Mar 2016 04:01:37 +0000"  >&lt;p&gt;Yes, I quite agree - we also skip it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Mar 2016 04:27:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uv8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>