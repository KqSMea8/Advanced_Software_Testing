<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 18:55:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1677/HBASE-1677.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1677] TestHeapSize failing for me on latest trunk</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1677</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Might be related to the fact I&apos;m running 1.6.0_14 now. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2009-07-21 01:19:16,314 DEBUG [main] util.ClassSize(239): Primitives 33, arrays 0, references
(includes 2 for object overhead) 22, refSize 8, size 216
Testcase: testNativeSizes took 0.004 sec
Testcase: testSizes took 0.065 sec
	FAILED
expected:&amp;lt;216&amp;gt; but was:&amp;lt;224&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;216&amp;gt; but was:&amp;lt;224&amp;gt;
	at org.apache.hadoop.hbase.io.TestHeapSize.testSizes(TestHeapSize.java:266)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Testsuite: org.apache.hadoop.hbase.io.TestHeapSize
Tests run: 2, Failures: 1, Errors: 0, Time elapsed: 0.073 sec
------------- Standard Error -----------------
2009-07-21 01:19:16,301 DEBUG [main] util.ClassSize(213): closed
	class java.util.concurrent.atomic.AtomicBoolean
2009-07-21 01:19:16,303 DEBUG [main] util.ClassSize(213): closing
	class java.util.concurrent.atomic.AtomicBoolean
2009-07-21 01:19:16,303 DEBUG [main] util.ClassSize(213): historian
	class org.apache.hadoop.hbase.RegionHistorian
2009-07-21 01:19:16,304 DEBUG [main] util.ClassSize(213): locksToRows
	interface java.util.Map
2009-07-21 01:19:16,304 DEBUG [main] util.ClassSize(213): stores
	interface java.util.Map
2009-07-21 01:19:16,305 DEBUG [main] util.ClassSize(213): memstoreSize
	class java.util.concurrent.atomic.AtomicLong
2009-07-21 01:19:16,306 DEBUG [main] util.ClassSize(213): basedir
	class org.apache.hadoop.fs.Path
2009-07-21 01:19:16,306 DEBUG [main] util.ClassSize(213): log
	class org.apache.hadoop.hbase.regionserver.HLog
2009-07-21 01:19:16,307 DEBUG [main] util.ClassSize(213): fs
	class org.apache.hadoop.fs.FileSystem
2009-07-21 01:19:16,307 DEBUG [main] util.ClassSize(213): conf
	class org.apache.hadoop.hbase.HBaseConfiguration
2009-07-21 01:19:16,308 DEBUG [main] util.ClassSize(213): regionInfo
	class org.apache.hadoop.hbase.HRegionInfo
2009-07-21 01:19:16,308 DEBUG [main] util.ClassSize(213): regiondir
	class org.apache.hadoop.fs.Path
2009-07-21 01:19:16,309 DEBUG [main] util.ClassSize(213): regionCompactionDir
	class org.apache.hadoop.fs.Path
2009-07-21 01:19:16,309 DEBUG [main] util.ClassSize(213): comparator
	class org.apache.hadoop.hbase.KeyValue$KVComparator
2009-07-21 01:19:16,310 DEBUG [main] util.ClassSize(213): forceMajorCompaction
	boolean
2009-07-21 01:19:16,310 DEBUG [main] util.ClassSize(213): writestate
	class org.apache.hadoop.hbase.regionserver.HRegion$WriteState
2009-07-21 01:19:16,311 DEBUG [main] util.ClassSize(213): memstoreFlushSize
	int
2009-07-21 01:19:16,311 DEBUG [main] util.ClassSize(213): lastFlushTime
	long
2009-07-21 01:19:16,312 DEBUG [main] util.ClassSize(213): flushListener
	interface org.apache.hadoop.hbase.regionserver.FlushRequester
2009-07-21 01:19:16,312 DEBUG [main] util.ClassSize(213): blockingMemStoreSize
	int
2009-07-21 01:19:16,312 DEBUG [main] util.ClassSize(213): threadWakeFrequency
	long
2009-07-21 01:19:16,313 DEBUG [main] util.ClassSize(213): splitsAndClosesLock
	class java.util.concurrent.locks.ReentrantReadWriteLock
2009-07-21 01:19:16,313 DEBUG [main] util.ClassSize(213): newScannerLock
	class java.util.concurrent.locks.ReentrantReadWriteLock
2009-07-21 01:19:16,313 DEBUG [main] util.ClassSize(213): updatesLock
	class java.util.concurrent.locks.ReentrantReadWriteLock
2009-07-21 01:19:16,314 DEBUG [main] util.ClassSize(213): splitLock
	class java.lang.Object
2009-07-21 01:19:16,314 DEBUG [main] util.ClassSize(213): minSequenceId
	long
2009-07-21 01:19:16,314 DEBUG [main] util.ClassSize(239): Primitives 33, arrays 0, references
(includes 2 for object overhead) 22, refSize 8, size 216
Testcase: testNativeSizes took 0.004 sec
Testcase: testSizes took 0.065 sec
	FAILED
expected:&amp;lt;216&amp;gt; but was:&amp;lt;224&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;216&amp;gt; but was:&amp;lt;224&amp;gt;
	at org.apache.hadoop.hbase.io.TestHeapSize.testSizes(TestHeapSize.java:266)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux 2.6.18-128.1.16.el5.centos.plus #1 SMP Wed Jul 1 13:0 1:46 EDT 2009 x86_64 x86_64 x86_64 GNU/Linux&lt;br/&gt;
java version &quot;1.6.0_14&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_14-b08)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 14.0-b16, mixed mode)&lt;/p&gt;</environment>
        <key id="12430984">HBASE-1677</key>
            <summary>TestHeapSize failing for me on latest trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="streamy">Jonathan Gray</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jul 2009 01:24:23 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:51 +0000</updated>
                            <resolved>Tue, 21 Jul 2009 06:44:32 +0000</resolved>
                                                    <fixVersion>0.20.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12733504" author="streamy" created="Tue, 21 Jul 2009 06:38:12 +0000"  >&lt;p&gt;Was broken by commit of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1609&quot; title=&quot;[part of hbase-1583] We wait on leases to expire before regionserver goes down.  Rather, just let client fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1609&quot;&gt;&lt;del&gt;HBASE-1609&lt;/del&gt;&lt;/a&gt; which removed a reference from HRegion.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-  final AtomicInteger activeScannerCount = new AtomicInteger(0);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;How do we make this less painful?  We could calculate HRegion and other things that change more often at runtime the way we&apos;re doing it in the test...&lt;/p&gt;

&lt;p&gt;Or we could have a faster test suite so it actually gets run &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12733506" author="streamy" created="Tue, 21 Jul 2009 06:41:39 +0000"  >&lt;p&gt;Simple change, test passes now.  Also changes a mislabeled package in migration.&lt;/p&gt;</comment>
                            <comment id="12733507" author="streamy" created="Tue, 21 Jul 2009 06:44:32 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414079" name="HBASE-1677.patch" size="1239" author="streamy" created="Tue, 21 Jul 2009 06:41:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jul 2009 06:38:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0henb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99635</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>