<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:15:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4038/HBASE-4038.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4038] Hot Region : Write Diagnosis</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4038</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;We should provide a basic way for end users to operationally diagnose hot row problems.  Thinking about a 2-phase approach:&lt;/p&gt;

&lt;p&gt;1. Diagnose hot regions&lt;br/&gt;
2. Inspect those regions/servers to find the hot rows.&lt;/p&gt;

&lt;p&gt;To diagnose hot regions, we could query the master or regionservers for these regions + sort.  To inspect the regions for hot rows, we could write another script to analyze the HLogs on a server and basically do: sort log|uniq -n|sort -n|top&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511730">HBASE-4038</key>
            <summary>Hot Region : Write Diagnosis</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="riley">Riley Patterson</assignee>
                                    <reporter username="nspiegelberg">Nicolas Spiegelberg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jun 2011 22:45:31 +0000</created>
                <updated>Mon, 29 Dec 2014 19:51:23 +0000</updated>
                            <resolved>Mon, 29 Dec 2014 19:51:23 +0000</resolved>
                                    <version>0.92.0</version>
                                                    <component>Client</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13055984" author="jasonrutherglen" created="Mon, 27 Jun 2011 22:49:21 +0000"  >&lt;p&gt;Couldn&apos;t this be done by keeping track of &apos;hot&apos; blocks?  Statistics on the usage of blocks via the LRU block cache?&lt;/p&gt;</comment>
                            <comment id="13056662" author="tlipcon" created="Tue, 28 Jun 2011 17:39:16 +0000"  >&lt;p&gt;Analyzing the HLogs only gets you hot write, not hot read, right?&lt;/p&gt;

&lt;p&gt;An RPC sampling approach would be nice. For example, a boolean which can be flipped at runtime to enable reservoir sampling of RPCs, and a servlet which can dump a representative set from the last few minutes.&lt;/p&gt;</comment>
                            <comment id="13056701" author="nspiegelberg" created="Tue, 28 Jun 2011 18:38:12 +0000"  >&lt;p&gt;@Todd:  Correct.  We also have a separate internal task to look at a runtime-enabled sampling approach for hot read diagnosis.  However, right now, our main applications with non-uniform distribution are heavily write-dominant so write analysis is more important for us.&lt;/p&gt;

&lt;p&gt;@Jason: Tracking Block Cache usage would give us hot read analysis.  You would have the same problem where there is not a 1:1 Block:Row mapping, so you would need further investigation either way.  Really, you want general read/write request stats so you know which servers to drill down into.  Note that the metrics necessary for this approach could also be used by the load balancer.&lt;/p&gt;</comment>
                            <comment id="13056825" author="jasonrutherglen" created="Tue, 28 Jun 2011 22:29:38 +0000"  >&lt;p&gt;@Nicolas Hot row handling would benefit greatly from a row level LRU cache, as described in the BigTable paper.  With a row cache, the &apos;cost&apos; of the hotness (seeking into the block) will be minimized to a hash lookup.  Though agreed that general diagnosis will/could be required to turn on row caching.&lt;/p&gt;</comment>
                            <comment id="14260376" author="eclark" created="Mon, 29 Dec 2014 19:51:23 +0000"  >&lt;p&gt;Metrics now has per region metrics. This should allow anyone to look and see which region on a server is the hot region.&lt;/p&gt;

&lt;p&gt;HTrace has been implemented so we should be able to see what&apos;s the hot row in a region using sampling.&lt;/p&gt;

&lt;p&gt;All of the tools suggested in this issue are there. Lets close this an file any issues dealing with the specific parts separately.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12509659">HBASE-3968</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jun 2011 22:49:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ep3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>