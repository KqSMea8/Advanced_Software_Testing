<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:26:32 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11780/HBASE-11780.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11780] Add a resource based load balancer</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11780</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In some situations with heterogeneous hardware it might be helpful to take in account the available resources such as RAM, cores or spindles before for the region assignment. A form of weight per RS might be an initial approach but for also a limit of open regions in a RS or maximum open store files could be used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12735222">HBASE-11780</key>
            <summary>Add a resource based load balancer</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="esteban">Esteban Gutierrez</assignee>
                                    <reporter username="esteban">Esteban Gutierrez</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Aug 2014 00:26:40 +0000</created>
                <updated>Tue, 26 Aug 2014 17:05:22 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="14103147" author="jmspaggi" created="Wed, 20 Aug 2014 00:32:53 +0000"  >&lt;p&gt;+1 for that. I worked on the side to such a balancer based on the overall server load. Never got a chance to finish it, but I like the idea. Current version simply statically weight the RS and balance the regions based on that, but goal was to have this weight dynamic and adjusted slowly based on the server load.&lt;/p&gt;</comment>
                            <comment id="14104170" author="apurtell" created="Wed, 20 Aug 2014 17:31:12 +0000"  >&lt;p&gt;Do you envision this as an improved cost function for the StochasticLoadBalancer?&lt;/p&gt;

&lt;p&gt;How will heterogeneous hardware node attributes be discovered and communicated to the balancer?&lt;/p&gt;

&lt;p&gt;Is static node weighting in clusters of ~hundreds or ~thousands viable? Assume some hardware is always in churn. How would updates be communicated to the master? If by flat file somewhere, will we have to restart the master for changes to take effect? &lt;/p&gt;

&lt;p&gt;Elsewhere it has been discussed that we&apos;d like to slim down and ultimately remove RegionLoad and replace that duplication of our metrics publishing with a metrics listener on the master that accomplishes the same end. Would this issue work towards or against that goal? &lt;/p&gt;</comment>
                            <comment id="14104184" author="jmspaggi" created="Wed, 20 Aug 2014 17:38:58 +0000"  >&lt;p&gt;I will let Esteban provide its view on that, but my initial thinking was:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;How will heterogeneous hardware node attributes be discovered and communicated to the balancer?&lt;br/&gt;
Is static node weighting in clusters of ~hundreds or ~thousands viable? Assume some hardware is always in churn. How would updates be communicated to the master? If by flat file somewhere, will we have to restart the master for changes to take effect? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Each node will put its load into an HDFS file so no need to send that to the balancer. Then balancer will read from the load directory to work on the distribution. I thought about this because my 2 clusters are heterogeneous... Then balancer just need to read this directory to decide what need to be balanced and how. No need for any restart.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Elsewhere it has been discussed that we&apos;d like to slim down and ultimately remove RegionLoad and replace that duplication of our metrics publishing with a metrics listener on the master that accomplishes the same end. Would this issue work towards or against that goal? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As this balancer might be able to benefit from this idea. Instead of using a load file, get the metrics on the master. Concern is the load this will create on the master. Pushing load files on HDFS don&apos;t put any load on the master which will read them only when required. On the other side, pushing tones of metrics to the master can have an impact. &lt;/p&gt;</comment>
                            <comment id="14104197" author="apurtell" created="Wed, 20 Aug 2014 17:45:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;Each node will put its load into an HDFS file so no need to send that to the balancer. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So we&apos;d not publish load metrics and instead put them into a HDFS file? Or would we write this file &lt;b&gt;and&lt;/b&gt; also publish to metrics? If the former, isn&apos;t this information useful beyond internal use for balancing? &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;On the other side, pushing tones of metrics to the master can have an impact.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In large clusters the master is already processing hundreds of MB of RegionLoad. Surely we won&apos;t do worse using the metrics subsystem as communication channel instead. Just a thought.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12736651">ACCUMULO-3083</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Aug 2014 00:32:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z2r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>