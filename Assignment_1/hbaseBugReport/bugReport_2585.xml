<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:03:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2585/HBASE-2585.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2585] NPE in HRegionServer when attempting to assignSplitDaughter</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2585</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;While inserting a large number of rows into a HBase table (approx 100M) we got this error many times (usually do to multiple attempts) on one of our region servers:&lt;/p&gt;

&lt;p&gt;2010-05-19 16:51:30,745 WARN org.apache.hadoop.hbase.regionserver.HRegionServer: Attempt=1&lt;br/&gt;
java.io.IOException: java.io.IOException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hbase.master.ServerManager.assignSplitDaughter(ServerManager.java:535)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.ServerManager.processSplitRegion(ServerManager.java:512)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.ServerManager.processMsgs(ServerManager.java:463)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.ServerManager.processRegionServerAllsWell(ServerManager.java:414)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.ServerManager.regionServerReport(ServerManager.java:323)&lt;br/&gt;
        at org.apache.hadoop.hbase.master.HMaster.regionServerReport(HMaster.java:724)&lt;br/&gt;
        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseRPC$Server.call(HBaseRPC.java:657)&lt;br/&gt;
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:915)&lt;/p&gt;

&lt;p&gt;        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
        at org.apache.hadoop.hbase.RemoteExceptionHandler.decodeRemoteException(RemoteExceptionHandler.java:94)&lt;br/&gt;
        at org.apache.hadoop.hbase.RemoteExceptionHandler.checkThrowable(RemoteExceptionHandler.java:48)&lt;br/&gt;
        at org.apache.hadoop.hbase.RemoteExceptionHandler.checkIOException(RemoteExceptionHandler.java:66)&lt;br/&gt;
        at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:577)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux dsmaster 2.6.32-21-server #32-Ubuntu SMP Fri Apr 16 09:17:34 UTC 2010 x86_64 GNU/Linux&lt;br/&gt;
HBase 0.20.4&lt;/p&gt;</environment>
        <key id="12465037">HBASE-2585</key>
            <summary>NPE in HRegionServer when attempting to assignSplitDaughter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="whitingj">Jeff Whiting</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 May 2010 15:20:38 +0000</created>
                <updated>Wed, 16 Jul 2014 20:50:42 +0000</updated>
                            <resolved>Wed, 16 Jul 2014 20:50:42 +0000</resolved>
                                    <version>0.20.4</version>
                                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12874751" author="stack" created="Wed, 2 Jun 2010 19:18:24 +0000"  >&lt;p&gt;Here is code from 0.20.4 around line 535:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
530   &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void assignSplitDaughter(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HRegionInfo hri) {
531     MetaRegion mr = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.master.regionManager.getFirstMetaRegionForRegion(hri);
532     Get g = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Get(hri.getRegionName());
533     g.addFamily(HConstants.CATALOG_FAMILY);
534     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
535       HRegionInterface server =
536         master.connection.getHRegionConnection(mr.getServer());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Was the meta region online at the time?&lt;/p&gt;</comment>
                            <comment id="12874782" author="whitingj" created="Wed, 2 Jun 2010 20:33:16 +0000"  >&lt;p&gt;The meta region was online and mostly working.  I say mostly because we were having a weird problem where for a few regions (most worked just fine) the master would get a region open message but the meta table was never updated with the assignment information.  Because it was a test cluster we just formated the namenode and started over.&lt;/p&gt;</comment>
                            <comment id="12874818" author="stack" created="Wed, 2 Jun 2010 21:45:53 +0000"  >&lt;p&gt;At a minimum, lets fix the dumb NPE and throw a better exception.  Looking at code, it looks like the RS will just retry later to report the split (See ~#544 in HRegionServer).&lt;/p&gt;</comment>
                            <comment id="14064070" author="stack" created="Wed, 16 Jul 2014 20:50:42 +0000"  >&lt;p&gt;Stale&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Jun 2010 19:18:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02cbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>