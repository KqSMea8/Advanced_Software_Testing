<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:17:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10844/HBASE-10844.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10844] Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10844</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Observed this in the testing with Phoenix. The test in Phoenix - MutableIndexFailureIT deliberately fails the batchmutation call via the installed coprocessor. But the update is not rolled back. That leaves the memstore inconsistent. In particular, I observed that getFlushableSize is updated before the coprocessor was called but the update is not rolled back. When the region is being closed at some later point, the assert introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10514&quot; title=&quot;Forward port HBASE-10466, possible data loss when failed flushes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10514&quot;&gt;&lt;del&gt;HBASE-10514&lt;/del&gt;&lt;/a&gt; in the HRegion.doClose() causes the RegionServer to shutdown abnormally.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703844">HBASE-10844</key>
            <summary>Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ndimiduk">Nick Dimiduk</assignee>
                                    <reporter username="devaraj">Devaraj Das</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 22:23:38 +0000</created>
                <updated>Mon, 31 Aug 2015 22:39:40 +0000</updated>
                            <resolved>Fri, 14 Aug 2015 23:07:44 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.14</fixVersion>
                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.2</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13948582" author="devaraj" created="Wed, 26 Mar 2014 22:41:26 +0000"  >&lt;p&gt;Straightforward fix.&lt;/p&gt;</comment>
                            <comment id="13948583" author="devaraj" created="Wed, 26 Mar 2014 22:42:13 +0000"  >&lt;p&gt;I should write a simple unit test. Will do so soon.&lt;/p&gt;</comment>
                            <comment id="13948633" author="apurtell" created="Wed, 26 Mar 2014 23:19:15 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13948784" author="hadoopqa" created="Thu, 27 Mar 2014 02:21:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12637029/10844-1.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12637029/10844-1.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12637029&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 6 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-thrift.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9105//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13948842" author="anoop.hbase" created="Thu, 27 Mar 2014 03:49:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13948844" author="anoop.hbase" created="Thu, 27 Mar 2014 03:51:49 +0000"  >&lt;p&gt;Need a 94 patch also.&lt;/p&gt;</comment>
                            <comment id="13948908" author="ram_krish" created="Thu, 27 Mar 2014 05:22:52 +0000"  >&lt;p&gt;+1 on patch.&lt;/p&gt;</comment>
                            <comment id="13967395" author="anoop.hbase" created="Sat, 12 Apr 2014 04:33:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt;  I guess we can commit this now.&lt;/p&gt;</comment>
                            <comment id="13967416" author="devaraj" created="Sat, 12 Apr 2014 05:53:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, thanks for reminding. I&apos;ll commit this one today/tomorrow.&lt;/p&gt;</comment>
                            <comment id="13967680" author="lhofhansl" created="Sat, 12 Apr 2014 23:24:18 +0000"  >&lt;p&gt;I do not think this is right.&lt;br/&gt;
The point of no return is when the WAL is synced. If the region server dies after the sync the edit are replayed and hence the change &lt;b&gt;will&lt;/b&gt; be visible. Hence the memstore should not be rolled back after the WAL edit is synced.&lt;/p&gt;

&lt;p&gt;postBatchMutate is &quot;post&quot; the batch mutate, so it cannot undo the mutation, it happened already.&lt;/p&gt;

&lt;p&gt;-1 on this change.&lt;/p&gt;</comment>
                            <comment id="13968929" author="devaraj" created="Mon, 14 Apr 2014 22:17:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; for catching this. Am busy since the last few days with some other stuff - will find some time to think about this shortly.&lt;/p&gt;</comment>
                            <comment id="13968931" author="lhofhansl" created="Mon, 14 Apr 2014 22:22:42 +0000"  >&lt;p&gt;We could move the post hook before the syncOrDefer call... But it would not be a &quot;post&quot; hook anymore.&lt;br/&gt;
Or we could explore why the action in question cannot be done in the pre hook.&lt;/p&gt;</comment>
                            <comment id="13969118" author="anoop.hbase" created="Tue, 15 Apr 2014 01:33:39 +0000"  >&lt;p&gt;No Lars we cannot move before sync. This needs to be a post. Thanks for the catch. I have missed totally that we called sync b4 this cp call &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</comment>
                            <comment id="13969204" author="ram_krish" created="Tue, 15 Apr 2014 04:26:54 +0000"  >&lt;p&gt;Yes, remember now that we need cannot revert the memstore as it is synced up.  &lt;br/&gt;
sorry for the +1.  &lt;br/&gt;
If we set WriteToWal as false then rolling back of the memstore even after post call would make sense, right?&lt;/p&gt;</comment>
                            <comment id="13969218" author="lhofhansl" created="Tue, 15 Apr 2014 04:41:24 +0000"  >&lt;p&gt;If writeToWal is false for all mutations in this batch then the point of no return is the flushing of the memstore.&lt;/p&gt;

&lt;p&gt;Luckily the memstore flusher waits for all priot MVCC transactions to finish. And since in doMiniBatchMutation we call the post hook before &lt;tt&gt;mvcc.completeMemstoreInsert(w)&lt;/tt&gt; we&apos;re safe from concurrent flushes.&lt;/p&gt;

&lt;p&gt;Hence in that case it would be OK in theory to fail post hook and then roll back the memstore.&lt;/p&gt;</comment>
                            <comment id="13969233" author="anoop.hbase" created="Tue, 15 Apr 2014 05:03:43 +0000"  >&lt;p&gt;IMO it will be good to be consistent with the sync wal case.  ie even if WriteToWal is false, do not rollback with failures in post hooks. post means the mutation is done.&lt;/p&gt;</comment>
                            <comment id="13969285" author="lhofhansl" created="Tue, 15 Apr 2014 07:11:12 +0000"  >&lt;p&gt;Oh, I totally agree. I was just answering Ram&apos;s hypothetical question &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
A &lt;em&gt;post&lt;/em&gt; hook is a post hook, it should not undo anything.&lt;/p&gt;</comment>
                            <comment id="13969287" author="lhofhansl" created="Tue, 15 Apr 2014 07:11:44 +0000"  >&lt;p&gt;Should we close this as &quot;invalid&quot;?&lt;/p&gt;</comment>
                            <comment id="13969794" author="devaraj" created="Tue, 15 Apr 2014 17:41:41 +0000"  >&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, I am resolving it as won&apos;t-fix.&lt;/p&gt;</comment>
                            <comment id="14221667" author="devaraj" created="Sat, 22 Nov 2014 00:55:14 +0000"  >&lt;p&gt;Thinking about it (and in offline discussions with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;), it seems we should remove the &apos;assert&apos; from the code that causes the RegionServer to abort. The reason being that coprocessors could fail. The assert was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10514&quot; title=&quot;Forward port HBASE-10466, possible data loss when failed flushes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10514&quot;&gt;&lt;del&gt;HBASE-10514&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;         // close each store in parallel
         for (final Store store : stores.values()) {
+          assert abort? true: store.getFlushableSize() == 0;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="14221680" author="devaraj" created="Sat, 22 Nov 2014 01:06:02 +0000"  >&lt;p&gt;Patch for 0.98.&lt;/p&gt;</comment>
                            <comment id="14229404" author="apurtell" created="Mon, 1 Dec 2014 04:32:17 +0000"  >&lt;p&gt;So with this patch we&apos;d remove the assert and replace it with a warning that memstore datastructures have been only partially updated? &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
@@ -1109,7 +1109,13 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class HRegion &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; HeapSize { &lt;span class=&quot;code-comment&quot;&gt;// , Writable{
&lt;/span&gt; 
         &lt;span class=&quot;code-comment&quot;&gt;// close each store in parallel
&lt;/span&gt;         &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Store store : stores.values()) {
-          &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; abort? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;: store.getFlushableSize() == 0;
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (store.getFlushableSize() != 0) {
+            LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;store.getFlushableSize &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &quot;&lt;/span&gt; + store + &lt;span class=&quot;code-quote&quot;&gt;&quot; is not zero! It&apos;s &quot;&lt;/span&gt; 
+                + store.getFlushableSize() + &lt;span class=&quot;code-quote&quot;&gt;&quot;. Maybe a coprocessor &quot;&lt;/span&gt;
+                + &lt;span class=&quot;code-quote&quot;&gt;&quot;operation failed and &quot;&lt;/span&gt;
+                + &lt;span class=&quot;code-quote&quot;&gt;&quot;left the memstore datastructures in a partially updated state. &quot;&lt;/span&gt;
+                + &lt;span class=&quot;code-quote&quot;&gt;&quot;Current memstoreSize &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getMemstoreSize().get());
+          }
           completionService
               .submit(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Callable&amp;lt;Pair&amp;lt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[], Collection&amp;lt;StoreFile&amp;gt;&amp;gt;&amp;gt;() {
                 @Override
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Shouldn&apos;t we be aborting in that case anyway? Or replace the assert with an abort()?&lt;/p&gt;</comment>
                            <comment id="14692358" author="ndimiduk" created="Tue, 11 Aug 2015 22:14:22 +0000"  >&lt;p&gt;I stumbled into this ticket while helping debug what I suspect to be a misbehaving coprocessor. Updating patch from 0.98 to log the region name in addition to the store name. The assert logic is slightly different on master vs. 0.98, so check me on the writestate portion.&lt;/p&gt;</comment>
                            <comment id="14692366" author="ndimiduk" created="Tue, 11 Aug 2015 22:17:13 +0000"  >&lt;p&gt;I should say &amp;#8211; replaces the WARN with an abort(), which is what the assert would do anyway.&lt;/p&gt;

&lt;p&gt;FWIW, we were seeing this WARN triggered during region close.&lt;/p&gt;</comment>
                            <comment id="14692418" author="apurtell" created="Tue, 11 Aug 2015 22:42:35 +0000"  >&lt;p&gt;+1, the v2 patch addresses my concerns about only warning previously&lt;/p&gt;</comment>
                            <comment id="14692530" author="hadoopqa" created="Tue, 11 Aug 2015 23:47:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12749964/10844-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12749964/10844-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a78e6e94994aaba2bee7747054ea9a55f1edd421.&lt;br/&gt;
  ATTACHMENT ID: 12749964&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javac&lt;/font&gt;.  The patch appears to cause mvn compile goal to fail with Hadoop version 2.4.0.&lt;/p&gt;

&lt;p&gt;    Compilation errors resume:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; COMPILATION ERROR : &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1450,19&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1451,93&amp;#93;&lt;/span&gt; long cannot be dereferenced&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.2:compile (default-compile) on project hbase-server: Compilation failure: Compilation failure:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1450,19&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; symbol:   method getRegionNameAsString()&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hbase.regionserver.HRegion&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-HBASE-Build/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;1451,93&amp;#93;&lt;/span&gt; long cannot be dereferenced&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-server&lt;/p&gt;


&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15057//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15057//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14696159" author="ndimiduk" created="Thu, 13 Aug 2015 23:29:06 +0000"  >&lt;p&gt;Cleaned up patch for master. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt;.02.patch compiles for master, branch-1, branch-1.2, branch-1.1. Patch from master does not cherry-pick cleanly any further back, so branches branch-1.0 and 0.98 get their own patches. Just accounting for minor fuzz in the assert line.&lt;/p&gt;</comment>
                            <comment id="14696160" author="apurtell" created="Thu, 13 Aug 2015 23:31:40 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14696422" author="hadoopqa" created="Fri, 14 Aug 2015 03:52:22 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12750403/HBASE-10844.02-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12750403/HBASE-10844.02-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit 4dd30ab019cfbf3691fd08f7941d33d8bbc37f05.&lt;br/&gt;
  ATTACHMENT ID: 12750403&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 23 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn post-site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.oozie.test.MiniHCatServer$1.run(MiniHCatServer.java:137)&lt;br/&gt;
	at org.apache.oozie.test.XTestCase$MiniClusterShutdownMonitor.run(XTestCase.java:1071)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15092//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14697898" author="apurtell" created="Fri, 14 Aug 2015 22:44:30 +0000"  >&lt;p&gt;Committing shortly&lt;/p&gt;</comment>
                            <comment id="14697930" author="apurtell" created="Fri, 14 Aug 2015 23:07:44 +0000"  >&lt;p&gt;Pushed to 0.98 and up using above instruction. &lt;/p&gt;</comment>
                            <comment id="14697960" author="ndimiduk" created="Fri, 14 Aug 2015 23:44:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14698013" author="hudson" created="Sat, 15 Aug 2015 00:55:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1016 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1016/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1016/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev fbf66b48b3f17c3310ad42b8b274a1ce3020c6b6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698048" author="hudson" created="Sat, 15 Aug 2015 01:44:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #618 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/618/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/618/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev e585cd8e18dd8d7f6b738bbad490222c3ab4fcbc)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698052" author="hudson" created="Sat, 15 Aug 2015 01:57:35 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #111 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/111/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev 0b6d9b25f59f2b5e858d008222084f31b2cee145)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698077" author="hudson" created="Sat, 15 Aug 2015 02:51:38 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6730 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6730/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6730/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev ecba08829da149aca11929b5b88a6df880e0da35)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698088" author="hudson" created="Sat, 15 Aug 2015 03:30:45 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1083 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1083/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1083/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev a3a2860b16ebaf4f05f9a5eb8b0d2fd22252fe8b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698101" author="hudson" created="Sat, 15 Aug 2015 04:23:18 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #93 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/93/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/93/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev adcb905a0d30bdd27aa7439e336e0cf95f6dbae9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698102" author="hudson" created="Sat, 15 Aug 2015 04:28:26 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #112 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/112/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/112/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev adcb905a0d30bdd27aa7439e336e0cf95f6dbae9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698106" author="hudson" created="Sat, 15 Aug 2015 04:36:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #93 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/93/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/93/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev 0b6d9b25f59f2b5e858d008222084f31b2cee145)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14698108" author="hudson" created="Sat, 15 Aug 2015 04:42:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1036 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1036/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1036/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10844&quot; title=&quot;Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10844&quot;&gt;&lt;del&gt;HBASE-10844&lt;/del&gt;&lt;/a&gt; Coprocessor failure during batchmutation leaves the memstore datastructs in an inconsistent state (apurtell: rev a3a2860b16ebaf4f05f9a5eb8b0d2fd22252fe8b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14699919" author="ndimiduk" created="Mon, 17 Aug 2015 17:47:43 +0000"  >&lt;p&gt;I found a good build from this commit, it was down in &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/jdk=latest1.7,label=Hadoop/112/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/jdk=latest1.7,label=Hadoop/112/&lt;/a&gt;. Everything else looks like OOM and hung tests.&lt;/p&gt;</comment>
                            <comment id="14724235" author="enis" created="Mon, 31 Aug 2015 22:39:40 +0000"  >&lt;p&gt;Closing this issue after 1.0.2 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12683013" name="10844-1-0.98.txt" size="1158" author="devaraj" created="Sat, 22 Nov 2014 01:06:44 +0000"/>
                            <attachment id="12637029" name="10844-1.txt" size="1175" author="devaraj" created="Wed, 26 Mar 2014 22:41:26 +0000"/>
                            <attachment id="12749964" name="10844-v2.patch" size="1339" author="ndimiduk" created="Tue, 11 Aug 2015 22:14:22 +0000"/>
                            <attachment id="12750403" name="HBASE-10844.02-0.98.patch" size="1808" author="ndimiduk" created="Thu, 13 Aug 2015 23:29:06 +0000"/>
                            <attachment id="12750402" name="HBASE-10844.02-branch-1.0.patch" size="1826" author="ndimiduk" created="Thu, 13 Aug 2015 23:29:06 +0000"/>
                            <attachment id="12750401" name="HBASE-10844.02.patch" size="1784" author="ndimiduk" created="Thu, 13 Aug 2015 23:29:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 23:19:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tudz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Promotes an -ea assert to logged FATAL and RS abort when memstore is found to be in an inconsistent state.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>