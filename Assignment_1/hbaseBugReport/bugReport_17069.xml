<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 21:20:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-17069/HBASE-17069.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-17069] RegionServer writes invalid META entries for split daughters in some circumstances</title>
                <link>https://issues.apache.org/jira/browse/HBASE-17069</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I have been seeing frequent ITBLL failures testing various versions of 1.2.x. &lt;/p&gt;

&lt;p&gt;Over the lifetime of 1.2.x the following issues have been fixed:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15315&quot; title=&quot;Remove always set super user call as high priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15315&quot;&gt;&lt;del&gt;HBASE-15315&lt;/del&gt;&lt;/a&gt; (Remove always set super user call as high priority)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16093&quot; title=&quot;Splits failed before creating daughter regions leave meta inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16093&quot;&gt;&lt;del&gt;HBASE-16093&lt;/del&gt;&lt;/a&gt; (Fix splits failed before creating daughter regions leave meta inconsistent)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;And this one is pending:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17044&quot; title=&quot;Fix merge failed before creating merged region leaves meta inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17044&quot;&gt;&lt;del&gt;HBASE-17044&lt;/del&gt;&lt;/a&gt; (Fix merge failed before creating merged region leaves meta inconsistent)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I can apply all of the above to branch-1.2 and still see this failure: &lt;/p&gt;

&lt;p&gt;&lt;b&gt;The life of stillborn region d55ef81c2f8299abbddfce0445067830&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Master sees SPLITTING_NEW&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:23:21,186 INFO  [AM.ZK.Worker-pool2-t82] master.RegionStates: Transition null to {d55ef81c2f8299abbddfce0445067830 state=SPLITTING_NEW, ts=1478579001186, server=node-3.cluster,16020,1478578389506}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;The RegionServer creates it&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:23:26,035 INFO  [StoreOpener-d55ef81c2f8299abbddfce0445067830-1] hfile.CacheConfig: Created cacheConfig for GomnU: blockCache=LruBlockCache{blockCount=34, currentSize=14996112, freeSize=12823716208, maxSize=12838712320, heapSize=14996112, minSize=12196776960, minFactor=0.95, multiSize=6098388480, multiFactor=0.5, singleSize=3049194240, singleFactor=0.25}, cacheDataOnRead=true, cacheDataOnWrite=false, cacheIndexesOnWrite=false, cacheBloomsOnWrite=false, cacheEvictOnClose=false, cacheDataCompressed=false, prefetchOnOpen=false
2016-11-08 04:23:26,038 INFO  [StoreOpener-d55ef81c2f8299abbddfce0445067830-1] hfile.CacheConfig: Created cacheConfig for big: blockCache=LruBlockCache{blockCount=34, currentSize=14996112, freeSize=12823716208, maxSize=12838712320, heapSize=14996112, minSize=12196776960, minFactor=0.95, multiSize=6098388480, multiFactor=0.5, singleSize=3049194240, singleFactor=0.25}, cacheDataOnRead=true, cacheDataOnWrite=false, cacheIndexesOnWrite=false, cacheBloomsOnWrite=false, cacheEvictOnClose=false, cacheDataCompressed=false, prefetchOnOpen=false
2016-11-08 04:23:26,442 INFO  [StoreOpener-d55ef81c2f8299abbddfce0445067830-1] hfile.CacheConfig: Created cacheConfig for meta: blockCache=LruBlockCache{blockCount=63, currentSize=17187656, freeSize=12821524664, maxSize=12838712320, heapSize=17187656, minSize=12196776960, minFactor=0.95, multiSize=6098388480, multiFactor=0.5, singleSize=3049194240, singleFactor=0.25}, cacheDataOnRead=true, cacheDataOnWrite=false, cacheIndexesOnWrite=false, cacheBloomsOnWrite=false, cacheEvictOnClose=false, cacheDataCompressed=false, prefetchOnOpen=false
2016-11-08 04:23:26,713 INFO  [StoreOpener-d55ef81c2f8299abbddfce0445067830-1] hfile.CacheConfig: Created cacheConfig for nwmrW: blockCache=LruBlockCache{blockCount=96, currentSize=19178440, freeSize=12819533880, maxSize=12838712320, heapSize=19178440, minSize=12196776960, minFactor=0.95, multiSize=6098388480, multiFactor=0.5, singleSize=3049194240, singleFactor=0.25}, cacheDataOnRead=true, cacheDataOnWrite=false, cacheIndexesOnWrite=false, cacheBloomsOnWrite=false, cacheEvictOnClose=false, cacheDataCompressed=false, prefetchOnOpen=false
2016-11-08 04:23:26,715 INFO  [StoreOpener-d55ef81c2f8299abbddfce0445067830-1] hfile.CacheConfig: Created cacheConfig for piwbr: blockCache=LruBlockCache{blockCount=96, currentSize=19178440, freeSize=12819533880, maxSize=12838712320, heapSize=19178440, minSize=12196776960, minFactor=0.95, multiSize=6098388480, multiFactor=0.5, singleSize=3049194240, singleFactor=0.25}, cacheDataOnRead=true, cacheDataOnWrite=false, cacheIndexesOnWrite=false, cacheBloomsOnWrite=false, cacheEvictOnClose=false, cacheDataCompressed=false, prefetchOnOpen=false
2016-11-08 04:23:26,717 INFO  [StoreOpener-d55ef81c2f8299abbddfce0445067830-1] hfile.CacheConfig: Created cacheConfig for tiny: blockCache=LruBlockCache{blockCount=96, currentSize=19178440, freeSize=12819533880, maxSize=12838712320, heapSize=19178440, minSize=12196776960, minFactor=0.95, multiSize=6098388480, multiFactor=0.5, singleSize=3049194240, singleFactor=0.25}, cacheDataOnRead=true, cacheDataOnWrite=false, cacheIndexesOnWrite=false, cacheBloomsOnWrite=false, cacheEvictOnClose=false, cacheDataCompressed=false, prefetchOnOpen=false
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;The RegionServer onlines it&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:23:27,015 INFO  [node-3.cluster,16020,1478578389506-daughterOpener=d55ef81c2f8299abbddfce0445067830] regionserver.HRegion: Onlined d55ef81c2f8299abbddfce0445067830; next sequenceid=19184
2016-11-08 04:23:27,029 INFO  [regionserver/node-3.cluster/192.168.124.4:16020-splits-1478579001099] regionserver.HRegionServer: Post open deploy tasks for IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830.
2016-11-08 04:23:27,047 INFO  [regionserver/node-3.cluster/192.168.124.4:16020-splits-1478579001099] hbase.MetaTableAccessor: Updated row IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830. with server=node-3.cluster,16020,1478578389506
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;The Master transitions state from SPLITTING_NEW to OPEN&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:23:27,058 INFO  [AM.ZK.Worker-pool2-t84] master.RegionStates: Transition {d55ef81c2f8299abbddfce0445067830 state=SPLITTING_NEW, ts=1478579007057, server=node-3.cluster,16020,1478578389506} to {d55ef81c2f8299abbddfce0445067830 state=OPEN, ts=1478579007058, server=node-3.cluster,16020,1478578389506}
2016-11-08 04:23:27,059 INFO  [AM.ZK.Worker-pool2-t84] master.AssignmentManager: Handled SPLIT event; parent=IntegrationTestBigLinkedList,,1478577020916.393d2bfd8b1c52ce08540306659624f2., daughter a=IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830., daughter b=IntegrationTestBigLinkedList,/\xFB\x14,1478579001155.08629d59564726da2497f70451aafcdb., on node-3.cluster,16020,1478578389506
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;RegionServer updates META  - BUT APPARENTLY NOT CORRECTLY&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:23:27,165 INFO  [regionserver/node-3.cluster/192.168.124.4:16020-splits-1478579001099] regionserver.SplitRequest: Region split, hbase:meta updated, and report to master. Parent=IntegrationTestBigLinkedList,,1478577020916.393d2bfd8b1c52ce08540306659624f2., new regions: IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830., IntegrationTestBigLinkedList,/\xFB\x14,1478579001155.08629d59564726da2497f70451aafcdb.. Split took 6sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;RegionServer delays flush&lt;/b&gt;&lt;br/&gt;
(Is this important?)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:24:14,639 WARN  [MemStoreFlusher.0] regionserver.MemStoreFlusher: Region IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830. has too many store files; delaying flush up to 90000ms
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Immediate warnings about No serialized HRegionInfo&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:24:44,691 WARN  [B.defaultRpcServer.handler=26,queue=2,port=16000] hbase.MetaTableAccessor: No serialized HRegionInfo in keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478579007029/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478579007029/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478579007029/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Master is not happy either&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2016-11-08 04:24:51,148 WARN  [MASTER_TABLE_OPERATIONS-node-1:16000-0] hbase.MetaTableAccessor: No serialized HRegionInfo in keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478579007029/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478579007029/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478579007029/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;TestRunner MetaScanner complains about invalid entries in META missing HRegionInfo&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;(standard input):9086:2016-11-08 05:04:17,230 WARN  [B.defaultRpcServer.handler=4,queue=1,port=16000] hbase.MetaTableAccessor: No serialized HRegionInfo in keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478581041080/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478581041080/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478581041080/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;ITBLL MapReduce tasks fail because part of the keyspace cannot be located:&lt;/b&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: HRegionInfo was null in IntegrationTestBigLinkedList, row=keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478581041080/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478581041080/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478581041080/Put/vlen=8/seqid=0}
        at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegionInMeta(ConnectionManager.java:1293)
        at org.apache.hadoop.hbase.client.ConnectionManager$HConnectionImplementation.locateRegion(ConnectionManager.java:1185)
        at org.apache.hadoop.hbase.client.AsyncProcess.submit(AsyncProcess.java:410)
        at org.apache.hadoop.hbase.client.AsyncProcess.submit(AsyncProcess.java:359)
        at org.apache.hadoop.hbase.client.BufferedMutatorImpl.backgroundFlushCommits(BufferedMutatorImpl.java:238)
        at org.apache.hadoop.hbase.client.BufferedMutatorImpl.mutate(BufferedMutatorImpl.java:154)
        at org.apache.hadoop.hbase.client.BufferedMutatorImpl.mutate(BufferedMutatorImpl.java:121)
        at org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList$Generator$GeneratorMapper.persist(IntegrationTestBigLinkedList.java:486)
        at org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList$Generator$GeneratorMapper.map(IntegrationTestBigLinkedList.java:431)
        at org.apache.hadoop.hbase.test.IntegrationTestBigLinkedList$Generator$GeneratorMapper.map(IntegrationTestBigLinkedList.java:375)
        at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:146)
        at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:787)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:341)
        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:170)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:422)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1719)
        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:164)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./application_1478574724776_0002/container_1478574724776_0002_01_000008/syslog:920:java.io.IOException: HRegionInfo was null in IntegrationTestBigLinkedList, row=keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478580288482/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478580288482/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478580288482/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./application_1478574724776_0002/container_1478574724776_0002_01_000010/syslog:920:java.io.IOException: HRegionInfo was null in IntegrationTestBigLinkedList, row=keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478580288482/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478580288482/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478580288482/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./application_1478574724776_0002/container_1478574724776_0002_01_000011/syslog:909:java.io.IOException: HRegionInfo was null in IntegrationTestBigLinkedList, row=keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478580288482/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478580288482/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478580288482/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./application_1478574724776_0002/container_1478574724776_0002_01_000030/syslog:48:java.io.IOException: HRegionInfo was null in IntegrationTestBigLinkedList, row=keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478581041080/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478581041080/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478581041080/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./application_1478574724776_0002/container_1478574724776_0002_01_000048/syslog:48:java.io.IOException: HRegionInfo was null in IntegrationTestBigLinkedList, row=keyvalues={IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:seqnumDuringOpen/1478581041080/Put/vlen=8/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:server/1478581041080/Put/vlen=20/seqid=0, IntegrationTestBigLinkedList,,1478579001155.d55ef81c2f8299abbddfce0445067830./info:serverstartcode/1478581041080/Put/vlen=8/seqid=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13019987">HBASE-17069</key>
            <summary>RegionServer writes invalid META entries for split daughters in some circumstances</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2016 23:42:36 +0000</created>
                <updated>Sat, 10 Dec 2016 01:00:57 +0000</updated>
                                            <version>1.2.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                <comments>
                            <comment id="15655669" author="mantonov" created="Fri, 11 Nov 2016 00:39:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; I&apos;m yet to look deeper into it, but as this issue seems to be present in 1.2.x, do you consider this issue or &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17044&quot; title=&quot;Fix merge failed before creating merged region leaves meta inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17044&quot;&gt;&lt;del&gt;HBASE-17044&lt;/del&gt;&lt;/a&gt; to be a blocker for 1.3.0RC0?&lt;/p&gt;</comment>
                            <comment id="15655722" author="apurtell" created="Fri, 11 Nov 2016 01:06:40 +0000"  >&lt;p&gt;I can&apos;t say &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;. I haven&apos;t test 1.3 and up. Pretty busy here. I&apos;m assuming you have not seen it? I will aim to get a test of the latest 1.3.0 tomorrow, but can&apos;t promise it&lt;/p&gt;</comment>
                            <comment id="15655813" author="mantonov" created="Fri, 11 Nov 2016 01:46:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; I don&apos;t remember seeing that, but that might be just a factor of having slightly different configuration for ITBLL.. &lt;/p&gt;

&lt;p&gt;My point was more that as this issue (and possibly, others) is present in 1.2, and we moved stable pointer to 1.2, and assuming it&apos;s also present in 1.3 (which I don&apos;t know yet if it&apos;s true, just assuming), what&apos;s your call on RC0 with that out.&lt;/p&gt;

&lt;p&gt;I guess unless objections, I&apos;d aim to roll first RC regardless and get more feedback.&lt;/p&gt;</comment>
                            <comment id="15655835" author="apurtell" created="Fri, 11 Nov 2016 01:55:37 +0000"  >&lt;p&gt;Sounds fair. I don&apos;t think &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-17044&quot; title=&quot;Fix merge failed before creating merged region leaves meta inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-17044&quot;&gt;&lt;del&gt;HBASE-17044&lt;/del&gt;&lt;/a&gt; is a blocker; nobody seems to have hit it.&lt;/p&gt;</comment>
                            <comment id="15658076" author="apurtell" created="Fri, 11 Nov 2016 20:22:06 +0000"  >&lt;p&gt;I have a bisect in progress. It&apos;s taken me a while to get a good signal. These boundaries have been determined by failure and success of multiple 1B ITBLL jobs, respectively:&lt;/p&gt;

&lt;p&gt;Bad: a12d0a861db850ded1a66d6be8e3a4a9d2c76a4f&lt;br/&gt;
Good (when patched for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15315&quot; title=&quot;Remove always set super user call as high priority&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15315&quot;&gt;&lt;del&gt;HBASE-15315&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-16093&quot; title=&quot;Splits failed before creating daughter regions leave meta inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-16093&quot;&gt;&lt;del&gt;HBASE-16093&lt;/del&gt;&lt;/a&gt;): 1a305bb4848ebcda2bd7c0df8f2f9c03ddf5b471&lt;/p&gt;

&lt;p&gt;There are a few steps within this range. Working on it&lt;/p&gt;</comment>
                            <comment id="15664500" author="jleach" created="Mon, 14 Nov 2016 17:39:01 +0000"  >&lt;p&gt;Andrew,&lt;/p&gt;

&lt;p&gt;I just hit this issue on a stress test that does self inserts...  In case you were wondering if others were hitting it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://splice.atlassian.net/browse/SPLICE-1155&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://splice.atlassian.net/browse/SPLICE-1155&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="15664527" author="apurtell" created="Mon, 14 Nov 2016 17:49:26 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jleach&quot; class=&quot;user-hover&quot; rel=&quot;jleach&quot;&gt;John Leach&lt;/a&gt; I was wondering that. &lt;/p&gt;</comment>
                            <comment id="15671154" author="apurtell" created="Wed, 16 Nov 2016 18:02:56 +0000"  >&lt;p&gt;Bisect with good confidence lands here:&lt;/p&gt;

&lt;p&gt;bae2a970817d3693946c5b1d4e2382e56b1e94b8 is the first bad commit&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit bae2a970817d3693946c5b1d4e2382e56b1e94b8
Author: stack &amp;lt;stack@apache.org&amp;gt;
Date:   Wed Sep 30 11:48:46 2015 -0700

    HBASE-14465 Backport &apos;Allow rowlock to be reader/write&apos; to branch-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Bisect log:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bad: [a12d0a861db850ded1a66d6be8e3a4a9d2c76a4f] HBASE-16980 TestRowProcessorEndpoint failing consistently (Yu Li)

good: [1a305bb4848ebcda2bd7c0df8f2f9c03ddf5b471] Revert &quot;Set down the client executor core thread count from 256 in tests: REAPPLY&quot; Revert because missing JIRA number. Will reapply with JIRA number in a sec.

bad: [79dcc6c0d1deeed1081a0f6b58f23bc201d88308] HBASE-14432 Procedure V2 - enforce ACL on procedure admin tasks (Stephen Yuan Jiang)

bad: [b7ef854fed3dd147b70395a3b296e1a64ad25ac6] HBASE-13876 Improving performance of HeapMemoryManager

bad: [e78a7e0806370b03413b29ac24ea81d534067bbc] HBASE-14588 Stop accessing test resources from within src folder (Andrew Wang)

good: [f0512c340ef12653574250a2a778517a0f69f1d2] HBASE-14513 TestBucketCache runs obnoxious 1k threads in a unit test

bad: [22c87d9644c600788a0df5456333464cba969c49] HBASE-14563 Disable zombie TestHFileOutputFormat2

bad: [2445d8595091824fe9bfa3a0243213991ebc722f] HBASE-14519 Purge TestFavoredNodeAssignmentHelper, a test for an abandoned feature that can hang

bad: [54b64871fff96b35302f4709154eca6aa2699cf7] HBASE-14512 Cache UGI groups

good: [783477c5dc24cfa0a0829c2ff5e974d3b4332b81] HBASE-14518 Give TestScanEarlyTermination the same treatment as &apos;HBASE-14378 Get TestAccessController* passing again...&apos; -- up priority handlers

bad: [bae2a970817d3693946c5b1d4e2382e56b1e94b8] HBASE-14465 Backport &apos;Allow rowlock to be reader/write&apos; to branch-1

good: [1f5663a7f560a222981db2345e2035f749f62f9b] HBASE-14230 replace reflection in FSHlog with HdfsDataOutputStream#getCurrentBlockReplication()

first bad commit: [bae2a970817d3693946c5b1d4e2382e56b1e94b8] HBASE-14465 Backport &apos;Allow rowlock to be reader/write&apos; to branch-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will now double check this with a retest at the point of this commit and then the immediate preceding one. &lt;/p&gt;

&lt;p&gt;If this is the culprit we will have an interesting one here &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15671207" author="stack" created="Wed, 16 Nov 2016 18:23:31 +0000"  >&lt;p&gt;Yes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; I&apos;m on board figuring the issue in this commit. We don&apos;t want to undo the general approach. Could be issue in original. Could be in the backport. Thanks for the work sir.&lt;/p&gt;</comment>
                            <comment id="15673521" author="apurtell" created="Thu, 17 Nov 2016 11:55:13 +0000"  >&lt;p&gt;Looks like this is the place &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;I tested bae2a970817d3693946c5b1d4e2382e56b1e94b8 again and it failed within two hours. Previous commit 1f5663a7f560a222981db2345e2035f749f62f9b looks good. The loader job completed 1B rows, verification looks good (at 86% now, I have to terminate early because it&apos;s time to head to the airport for vacation). The loader would have failed at a split at some point. &lt;/p&gt;

&lt;p&gt;Back in December. Will look at this then if we haven&apos;t had other eyes on it first. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15674642" author="stack" created="Thu, 17 Nov 2016 19:53:24 +0000"  >&lt;p&gt;Detail on your setup before you get on plane &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;? Thanks boss (and enjoy Hawaii)&lt;/p&gt;</comment>
                            <comment id="15674687" author="apurtell" created="Thu, 17 Nov 2016 20:13:58 +0000"  >&lt;p&gt;The typical thing clusterdock does on a d2.4xlarge instance. Ubuntu 14 based. 8u102 64 bit JVM. Hadoop 2.7.3. Zookeeper 3.4.9. Native bits in place for compression support. &lt;/p&gt;

&lt;p&gt;NYC actually. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15674691" author="apurtell" created="Thu, 17 Nov 2016 20:15:08 +0000"  >&lt;p&gt;Data directories on all ephemeral volumes. Formatted XFS&lt;/p&gt;</comment>
                            <comment id="15717492" author="stack" created="Sat, 3 Dec 2016 05:57:01 +0000"  >&lt;p&gt;On real hw w/ ubuntu 14, I&apos;ve looped 1B three times now and have not seen this issue. Let me up the size for the w/e.&lt;/p&gt;</comment>
                            <comment id="15720544" author="apurtell" created="Sun, 4 Dec 2016 20:28:18 +0000"  >&lt;p&gt;On the cloud instances I use I can reproduce this well. Bandwidth is tight until the new year but I&apos;ll surely have time to do another run with trace logging (maybe add some logs at potential problem areas) and then grep and collate. &lt;/p&gt;

&lt;p&gt;We can&apos;t chalk this up to cloud instance weirdness though because John at Splice is seeing it too. &lt;/p&gt;</comment>
                            <comment id="15723415" author="stack" created="Mon, 5 Dec 2016 21:24:09 +0000"  >&lt;p&gt;Ran another test over w/e that passed. 3B. Let me keep at it. Make monkey more aggressive.&lt;/p&gt;</comment>
                            <comment id="15723560" author="stack" created="Mon, 5 Dec 2016 22:26:16 +0000"  >&lt;p&gt;Which IT job do you know? I was presuming ITBLL.&lt;/p&gt;</comment>
                            <comment id="15729886" author="stack" created="Wed, 7 Dec 2016 20:50:45 +0000"  >&lt;p&gt;I can&apos;t repo on my little cluster. I just put up tip of 1.2 and did a few big runs w/ violent monkeys. No go. Let me call you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15730676" author="apurtell" created="Thu, 8 Dec 2016 01:09:14 +0000"  >&lt;p&gt;Ok. Shame. I&apos;ll call you tomorrow &lt;/p&gt;</comment>
                            <comment id="15736726" author="stack" created="Fri, 9 Dec 2016 23:52:17 +0000"  >&lt;p&gt;Chatted w/ &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt; on this one this morning. FYI Andrew, you were thinking that &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14465&quot; title=&quot;Backport &amp;#39;Allow rowlock to be reader/write&amp;#39; to branch-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14465&quot;&gt;&lt;del&gt;HBASE-14465&lt;/del&gt;&lt;/a&gt; was in branch-1.1 too (if I understood you right) but I just checked and it is not on branch-1.1.&lt;/p&gt;</comment>
                            <comment id="15736815" author="stack" created="Sat, 10 Dec 2016 00:29:43 +0000"  >&lt;p&gt;You run at INFO-level Andrew? &lt;/p&gt;</comment>
                            <comment id="15736874" author="apurtell" created="Sat, 10 Dec 2016 01:00:57 +0000"  >&lt;p&gt;I was thinking this also in 1.1. So that makes total sense we see this only on 1.2. &lt;/p&gt;

&lt;p&gt;I run at DEBUG level. Or could for sure next time. &lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12838460" name="daughter_1_d55ef81c2f8299abbddfce0445067830.log" size="151594" author="apurtell" created="Thu, 10 Nov 2016 23:46:58 +0000"/>
                            <attachment id="12838461" name="daughter_2_08629d59564726da2497f70451aafcdb.log" size="144874" author="apurtell" created="Thu, 10 Nov 2016 23:46:58 +0000"/>
                            <attachment id="12838463" name="logs.tar.gz" size="3143854" author="apurtell" created="Thu, 10 Nov 2016 23:46:58 +0000"/>
                            <attachment id="12838462" name="parent-393d2bfd8b1c52ce08540306659624f2.log" size="895424" author="apurtell" created="Thu, 10 Nov 2016 23:46:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Nov 2016 00:39:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3679z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>