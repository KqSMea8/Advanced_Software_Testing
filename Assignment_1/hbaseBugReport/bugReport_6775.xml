<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:39:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6775/HBASE-6775.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6775] Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6775</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This issue introduces the ability for the HMaster to make use of ZooKeeper&apos;s multi-update functionality.  This allows certain ZooKeeper operations to complete more quickly and prevents some issues with rare ZooKeeper failure scenarios (see the release note of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6710&quot; title=&quot;0.92/0.94 compatibility issues due to HBASE-5206&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6710&quot;&gt;&lt;del&gt;HBASE-6710&lt;/del&gt;&lt;/a&gt; for an example).  This feature is off by default; to enable set &quot;hbase.zookeeper.useMulti&quot; to true in the configuration of the HMaster.&lt;/p&gt;

&lt;p&gt;IMPORTANT: &quot;hbase.zookeeper.useMulti&quot; should only be set to true if all ZooKeeper servers in the cluster are on version 3.4+ and will not be downgraded.  ZooKeeper versions before 3.4 do not support multi-update and will not fail gracefully if multi-update is invoked (see &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1495&quot; title=&quot;ZK client hangs when using a function not available on the server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1495&quot;&gt;&lt;del&gt;ZOOKEEPER-1495&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607511">HBASE-6775</key>
            <summary>Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gchanan">Gregory Chanan</assignee>
                                    <reporter username="gchanan">Gregory Chanan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2012 20:19:49 +0000</created>
                <updated>Fri, 25 Jan 2013 12:34:52 +0000</updated>
                            <resolved>Tue, 18 Dec 2012 20:14:15 +0000</resolved>
                                    <version>0.94.2</version>
                                    <fixVersion>0.94.4</fixVersion>
                                    <component>Zookeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13455228" author="yuzhihong@gmail.com" created="Thu, 13 Sep 2012 20:25:34 +0000"  >&lt;p&gt;@Gregory:&lt;br/&gt;
Should the Fix Version be 0.94.3 ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13455233" author="gchanan" created="Thu, 13 Sep 2012 20:27:59 +0000"  >&lt;p&gt;@Ted:&lt;/p&gt;

&lt;p&gt;Yes, fixed.&lt;/p&gt;</comment>
                            <comment id="13482955" author="lhofhansl" created="Wed, 24 Oct 2012 04:44:24 +0000"  >&lt;p&gt;No patch... Moving to 0.94.4&lt;/p&gt;</comment>
                            <comment id="13485294" author="gchanan" created="Sat, 27 Oct 2012 00:01:00 +0000"  >&lt;p&gt;I&apos;m not sure we will require ZK 3.4+ in 0.94.&lt;/p&gt;

&lt;p&gt;Perhaps we could put this behind a Configuration parameter (hbase.zookeeper.serverSupportsMulti or hbase.zookeeper.useMulti), which would give the user the option of using multi if they know their cluster supports it.&lt;/p&gt;

&lt;p&gt;I also contemplated trying to figure this out programmaticaly (calling &quot;srvr&quot; via &quot;send4LetterWord&quot; on the zookeeper quorum), but I&apos;ve been told this is a bad idea.  Trying to get more information on that approach.&lt;/p&gt;</comment>
                            <comment id="13485344" author="stack" created="Sat, 27 Oct 2012 03:50:11 +0000"  >&lt;p&gt;Interested in why its a &quot;bad idea(TM)&quot;.  Good on you G.&lt;/p&gt;</comment>
                            <comment id="13485452" author="yuzhihong@gmail.com" created="Sat, 27 Oct 2012 15:17:33 +0000"  >&lt;p&gt;Finding the version of zookeeper ensemble doesn&apos;t have to be achieved by one command.&lt;br/&gt;
If HBase cluster comes up normally but call to multi() times out (more than once), we can be certain that zookeeper ensemble doesn&apos;t support multi().&lt;br/&gt;
Giving user config parameter as suggested above is fine too.&lt;/p&gt;</comment>
                            <comment id="13485550" author="stack" created="Sun, 28 Oct 2012 01:46:49 +0000"  >&lt;p&gt;Config is a bad idea IMO.  We have enough cryptic config. already.&lt;/p&gt;

&lt;p&gt;One thought I had was that you could connect to an ensemble member that supported multi but another member might not.  If your session moves, I don&apos;t believe the client is told so you could do a multi against an older ensemble member.  This might be a bit on the exotic side (different ensemble versions is probably temporary condition while ensemble is being updated)&lt;/p&gt;</comment>
                            <comment id="13487378" author="gchanan" created="Tue, 30 Oct 2012 23:45:41 +0000"  >&lt;p&gt;I think config is the best option.  It should only be temporary (gone in 0.96), so it&apos;s not making things any more cryptic long term.&lt;/p&gt;

&lt;p&gt;The basic problem is &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1495&quot; title=&quot;ZK client hangs when using a function not available on the server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1495&quot;&gt;&lt;del&gt;ZOOKEEPER-1495&lt;/del&gt;&lt;/a&gt;; you can&apos;t issue a command and figure out quickly whether the cluster supports multi or not.  You can try to figure this out yourself, using &quot;srvr&quot;, but it&apos;s tricky.  You need to check that every node on the cluster supports multi.  Apparently just figuring out what servers are in the cluster is complicated (I was told jmx is the best way); the zk configuration in hbase-land is not sufficient because it may not list every node.  It is not sufficient to just check for a quorum of servers that support it, because the servers that don&apos;t support it will be kicked (remove themselves?) from the quorum and you&apos;ll lose your fault tolerance.&lt;/p&gt;

&lt;p&gt;Even if you know every server in the cluster supports multi at some point in time, that may change by the time you actually issue your command.  A new server may join or a server version may be downgraded by the time you actually send your command.  So there&apos;s no good way to do this.&lt;/p&gt;

&lt;p&gt;Any objection to going with the Configuration parameter, Stack or others? (config parameter would be called hbase.zookeeper.useMulti).&lt;/p&gt;</comment>
                            <comment id="13487517" author="stack" created="Wed, 31 Oct 2012 04:45:01 +0000"  >&lt;p&gt;No objection on my part after the above explanation.  Would suggest that you add the above text into the description of the new config.&lt;/p&gt;</comment>
                            <comment id="13491701" author="gchanan" created="Tue, 6 Nov 2012 18:47:43 +0000"  >&lt;p&gt;Review Board: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-6775&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13491702" author="gchanan" created="Tue, 6 Nov 2012 18:48:09 +0000"  >&lt;p&gt;Woops, wrong copy-paste: &lt;a href=&quot;https://reviews.apache.org/r/7888/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7888/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13495048" author="lhofhansl" created="Sun, 11 Nov 2012 23:42:06 +0000"  >&lt;p&gt;I&apos;d be OK with punting on this for 0.92 and 0.94.&lt;/p&gt;</comment>
                            <comment id="13500729" author="gchanan" created="Mon, 19 Nov 2012 23:27:49 +0000"  >&lt;p&gt;There&apos;s two parts to this patch (perhaps I should have split it initially):&lt;br/&gt;
1. Infrastructure for using ZK.multi.  If we want to punt in 0.92/0.94, we may want the infrastructure in 0.96.  But perhaps we need a new use case first.&lt;br/&gt;
2. Using the infrastructure for the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6710&quot; title=&quot;0.92/0.94 compatibility issues due to HBASE-5206&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6710&quot;&gt;&lt;del&gt;HBASE-6710&lt;/del&gt;&lt;/a&gt; 0.92/0.94 compatibility fix.  We don&apos;t need this part if we punt in 0.92/0.94.&lt;/p&gt;</comment>
                            <comment id="13534263" author="gchanan" created="Mon, 17 Dec 2012 20:24:55 +0000"  >&lt;p&gt;Latest patch from reviewboard.&lt;/p&gt;</comment>
                            <comment id="13534280" author="hadoopqa" created="Mon, 17 Dec 2012 20:38:18 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12561348/HBASE-6775-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12561348/HBASE-6775-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3574//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3574//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13534349" author="lhofhansl" created="Mon, 17 Dec 2012 22:02:53 +0000"  >&lt;p&gt;My comment from 11/11 should read: we shouldn&apos;t sweat a patch. If we have a patch, we can certainly a good improvement for 0.94.&lt;/p&gt;</comment>
                            <comment id="13534386" author="gchanan" created="Mon, 17 Dec 2012 22:37:22 +0000"  >&lt;p&gt;Alright, going to check in later today if no objections.&lt;/p&gt;</comment>
                            <comment id="13535262" author="gchanan" created="Tue, 18 Dec 2012 20:14:15 +0000"  >&lt;p&gt;Thanks for the review, Jimmy.&lt;/p&gt;

&lt;p&gt;Committed to 0.94.&lt;/p&gt;</comment>
                            <comment id="13535308" author="yuzhihong@gmail.com" created="Tue, 18 Dec 2012 20:57:20 +0000"  >&lt;p&gt;Should release notes describe this feature ?&lt;/p&gt;</comment>
                            <comment id="13535343" author="gchanan" created="Tue, 18 Dec 2012 21:19:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Should release notes describe this feature ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I&apos;ll work on one.&lt;/p&gt;</comment>
                            <comment id="13535383" author="hudson" created="Tue, 18 Dec 2012 21:55:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #640 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/640/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/640/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; Use ZK.multi when available (Addendum: add test file) (Revision 1423635)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; Use ZK.multi when available for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6710&quot; title=&quot;0.92/0.94 compatibility issues due to HBASE-5206&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6710&quot;&gt;&lt;del&gt;HBASE-6710&lt;/del&gt;&lt;/a&gt; 0.92/0.94 compatibility fix (Revision 1423616)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMulti.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKTableReadOnly.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13537927" author="hudson" created="Fri, 21 Dec 2012 14:17:12 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #87 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/87/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/87/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; Use ZK.multi when available (Addendum: add test file) (Revision 1423635)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; Use ZK.multi when available for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6710&quot; title=&quot;0.92/0.94 compatibility issues due to HBASE-5206&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6710&quot;&gt;&lt;del&gt;HBASE-6710&lt;/del&gt;&lt;/a&gt; 0.92/0.94 compatibility fix (Revision 1423616)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMulti.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKTableReadOnly.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13544450" author="hudson" created="Sat, 5 Jan 2013 00:42:36 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #10 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/10/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; Use ZK.multi when available (Addendum: add test file) (Revision 1423635)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; Use ZK.multi when available for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6710&quot; title=&quot;0.92/0.94 compatibility issues due to HBASE-5206&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6710&quot;&gt;&lt;del&gt;HBASE-6710&lt;/del&gt;&lt;/a&gt; 0.92/0.94 compatibility fix (Revision 1423616)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMulti.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;gchanan : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKTable.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.94/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKTableReadOnly.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13562389" author="hudson" created="Fri, 25 Jan 2013 05:25:24 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3793 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3793/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3793/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7382&quot; title=&quot;Port ZK.multi support from HBASE-6775 to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7382&quot;&gt;&lt;del&gt;HBASE-7382&lt;/del&gt;&lt;/a&gt; Port ZK.multi support from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; to 0.96 (Gregory, Himanshu and Ted) (Revision 1438317)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMulti.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13562632" author="hudson" created="Fri, 25 Jan 2013 12:34:52 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #374 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/374/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/374/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7382&quot; title=&quot;Port ZK.multi support from HBASE-6775 to 0.96&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7382&quot;&gt;&lt;del&gt;HBASE-7382&lt;/del&gt;&lt;/a&gt; Port ZK.multi support from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6775&quot; title=&quot;Use ZK.multi when available for HBASE-6710 0.92/0.94 compatibility fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6775&quot;&gt;&lt;del&gt;HBASE-6775&lt;/del&gt;&lt;/a&gt; to 0.96 (Gregory, Himanshu and Ted) (Revision 1438317)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-common/src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RecoverableZooKeeper.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/ZKUtil.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/resources/hbase-default.xml&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZKMulti.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12624522">HBASE-7382</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12605840">HBASE-6710</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12561348" name="HBASE-6775-v2.patch" size="40945" author="gchanan" created="Mon, 17 Dec 2012 20:24:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Sep 2012 20:25:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02g4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12214</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>hbase.zookeeper.useMulti&lt;br/&gt;
Instructs HBase to make use of ZooKeeper&amp;#39;s multi-update functionality.&lt;br/&gt;
+    This allows certain ZooKeeper operations to complete more quickly and prevents some issues&lt;br/&gt;
+    with rare ZooKeeper failure scenarios (see the release note of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6710&quot; title=&quot;0.92/0.94 compatibility issues due to HBASE-5206&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6710&quot;&gt;&lt;strike&gt;HBASE-6710&lt;/strike&gt;&lt;/a&gt; for an example).&lt;br/&gt;
+    IMPORTANT: only set this to true if all ZooKeeper servers in the cluster are on version 3.4+&lt;br/&gt;
+    and will not be downgraded.  ZooKeeper versions before 3.4 do not support multi-update and will&lt;br/&gt;
+    not fail gracefully if multi-update is invoked (see &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1495&quot; title=&quot;ZK client hangs when using a function not available on the server.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1495&quot;&gt;&lt;strike&gt;ZOOKEEPER-1495&lt;/strike&gt;&lt;/a&gt;).</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>