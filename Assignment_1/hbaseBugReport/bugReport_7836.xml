<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:49:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7836/HBASE-7836.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7836] Create a new &quot;replay&quot; command so that recovered edits won&apos;t mess up normal coprocessing &amp; metrics</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7836</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12632138">HBASE-7836</key>
            <summary>Create a new &quot;replay&quot; command so that recovered edits won&apos;t mess up normal coprocessing &amp; metrics</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12612336">HBASE-7006</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="jeffreyz">Jeffrey Zhong</assignee>
                                    <reporter username="jeffreyz">Jeffrey Zhong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Feb 2013 03:06:22 +0000</created>
                <updated>Mon, 23 Sep 2013 19:08:22 +0000</updated>
                            <resolved>Wed, 15 May 2013 23:31:26 +0000</resolved>
                                                    <fixVersion>0.95.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13618527" author="jeffreyz" created="Mon, 1 Apr 2013 00:09:48 +0000"  >&lt;p&gt;New Replay Command Implementation. The patch is built on top of the patch of hbase-7835. &lt;/p&gt;

&lt;p&gt;The replay command belongs to Admin.proto not client so we don&apos;t expose it to clients. Introducing the command, we can better control replay command priority, add metrics and better monitor the traffic from this command.&lt;/p&gt;</comment>
                            <comment id="13618543" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 01:35:30 +0000"  >&lt;p&gt;I got the following from running test suite for combined patch (7835 + 7836):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testWorkerAbort(org.apache.hadoop.hbase.master.TestDistributedLogSplitting): none of the following counters went up in 80000 milliseconds - tot_wkr_task_resigned, tot_wkr_task_err, tot_wkr_final_transition_failed, tot_wkr_task_done, tot_wkr_preempt_task

Tests in error:
  testZKClosingNodeVersionMismatch(org.apache.hadoop.hbase.regionserver.handler.TestCloseRegionHandler)
  testCloseRegion(org.apache.hadoop.hbase.regionserver.handler.TestCloseRegionHandler)
  testFailedUpdateMeta(org.apache.hadoop.hbase.regionserver.handler.TestOpenRegionHandler)
  testYankingRegionFromUnderIt(org.apache.hadoop.hbase.regionserver.handler.TestOpenRegionHandler)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13619351" author="jeffreyz" created="Tue, 2 Apr 2013 00:00:50 +0000"  >&lt;blockquote&gt;
&lt;p&gt;testWorkerAbort(org.apache.hadoop.hbase.master.TestDistributedLogSplitting): none of the following counters went up in 80000 milliseconds - tot_wkr_task_resigned, tot_wkr_task_err, tot_wkr_final_transition_failed, tot_wkr_task_done, tot_wkr_preempt_task&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is due to we don&apos;t handle FSHDFSUtils.recoverFileLease java.nio.channels.ClosedByInterruptException. When we get this exception, we still call &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FSDataOutputStream out = fs.append(p);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;, that causes one extra min wait and then fails the test case due to timeout. Below are related log traces:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-04-01 14:45:04,735 DEBUG [SplitLogWorker-10.11.2.103,58161,1364852631051] util.FSHDFSUtils(95): Failed fs.recoverLease invocation, java.io.IOException: Call to localhost/127.0.0.1:58147 failed on local exception: java.nio.channels.ClosedByInterruptException, trying fs.append instead
2013-04-01 14:45:04,735 DEBUG [SplitLogWorker-10.11.2.103,58161,1364852631051] util.FSHDFSUtils(100): trying fs.append &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:58147/user/jzhong/hbase/.logs/10.11.2.103,58161,1364852631051/10.11.2.103%2C58161%2C1364852631051.1364852632043 with java.io.IOException: Call to localhost/127.0.0.1:58147 failed on local exception: java.nio.channels.ClosedByInterruptException
&lt;/span&gt;...
2013-04-01 14:46:04,737 WARN  [SplitLogWorker-10.11.2.103,58161,1364852631051] regionserver.SplitLogWorker$1(124): log splitting of hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:58147/user/jzhong/hbase/.logs/10.11.2.103,58161,1364852631051/10.11.2.103%2C58161%2C1364852631051.1364852632043 failed, returning error
&lt;/span&gt;java.io.IOException: Failed to open hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:58147/user/jzhong/hbase/.logs/10.11.2.103,58161,1364852631051/10.11.2.103%2C58161%2C1364852631051.1364852632043 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; append
&lt;/span&gt;        at org.apache.hadoop.hbase.util.FSHDFSUtils.recoverFileLease(FSHDFSUtils.java:126)
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.getReader(HLogSplitter.java:743)
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.splitLogFile(HLogSplitter.java:436)
        at org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.splitLogFile(HLogSplitter.java:397)
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker$1.exec(SplitLogWorker.java:111)
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker.grabTask(SplitLogWorker.java:274)
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker.taskLoop(SplitLogWorker.java:195)
        at org.apache.hadoop.hbase.regionserver.SplitLogWorker.run(SplitLogWorker.java:162)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:680)
Caused by: java.io.IOException: Call to localhost/127.0.0.1:58147 failed on local exception: java.nio.channels.ClosedByInterruptException
        at org.apache.hadoop.ipc.Client.wrapException(Client.java:1144)
        at org.apache.hadoop.ipc.Client.call(Client.java:1112)
        at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:229)
&#8230;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I fixed other test failures in the new patch.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Jeffrey&lt;/p&gt;</comment>
                            <comment id="13619982" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 16:45:29 +0000"  >&lt;p&gt;Test suite using patch v2 gave two test failures:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests:   testFixAssignmentsAndNoHdfsChecking(org.apache.hadoop.hbase.util.TestHBaseFsck): expected:&amp;lt;[NOT_DEPLOYED, HOLE_IN_REGION_CHAIN]&amp;gt; but was:&amp;lt;[NOT_DEPLOYED, NOT_DEPLOYED, HOLE_IN_REGION_CHAIN, LAST_REGION_ENDKEY_NOT_EMPTY]&amp;gt;

Tests in error:
  testLogSplittingAfterMasterRecoveryDueToZKExpiry(org.apache.hadoop.hbase.TestZooKeeper): Failed after attempts=10, exceptions:(..)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The second may be related to the patch.&lt;/p&gt;</comment>
                            <comment id="13620050" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 17:49:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+   * When a regon is in recovering state, it can only accept writes not reads
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;typo: regon&lt;/p&gt;

&lt;p&gt;For batchMutate(), please add javadoc for param inReplay:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  OperationStatus[] batchMutate(
+      Pair&amp;lt;Mutation, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;[] mutationsAndLocks, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; inReplay) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In javadoc, should state that doPreMutationHook() would not be called if region is in replay state.&lt;/p&gt;

&lt;p&gt;Should the following existing method be extended / merged with the above new method ? &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; OperationStatus[] batchMutate(
      Pair&amp;lt;Mutation, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;[] mutationsAndLocks) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In HRegionServer.java,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.recoveringRegions.add(region.getEncodedName());
+            &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.recoveringRegions.put(region.getEncodedName(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Why the value of null is used above ?&lt;/p&gt;</comment>
                            <comment id="13620286" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 21:20:44 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MultiResponse replay(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; RpcController rpcc, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MultiRequest request)
+      &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ServiceException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Should the method name be more informative ? How about replayHLog() or something similar ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    * @param mutations
    */
   &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void doBatchOp(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MultiResponse.Builder builder, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HRegion region,
-      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;MutationProto&amp;gt; mutations, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CellScanner cells) {
+      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;MutationProto&amp;gt; mutations, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CellScanner cells, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; inReplay) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Add @param for inReplay.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Found invalid location string:&quot;&lt;/span&gt; + loc);
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(tableName.isEmpty()){
+        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Invalid location string:&quot;&lt;/span&gt; + loc + &lt;span class=&quot;code-quote&quot;&gt;&quot; found.&quot;&lt;/span&gt;);
       }
-      HTable table = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.tableNameToHTableMap.get(Bytes.toBytes(tableName));
-
+
+      HConnection hconn = getConnectionByTableName(Bytes.toBytes(tableName));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When tableName.isEmpty(), why would we go on fetching connection ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException ix) {
-      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InterruptedIOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Interrupted when replaying wal edits.&quot;&lt;/span&gt;);
+    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (RuntimeException rx) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think we&apos;d better be specific about the exceptions we catch.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void replayEdits(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HRegionLocation regionLoc, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; HRegionInfo regionInfo,
+      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;Action&amp;lt;Row&amp;gt;&amp;gt; actions)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;HRegionLocation contains HRegionInfo field. Why is regionInfo parameter needed above ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, HRegion&amp;gt; getRecoveringRegions() {
+    &lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated method stub&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You can remove the TODO above.&lt;/p&gt;</comment>
                            <comment id="13620344" author="jeffreyz" created="Tue, 2 Apr 2013 22:18:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tedyu@apache.org&quot;&gt;Ted Yu&lt;/a&gt;These two test failures(&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7836?focusedCommentId=13619982&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13619982&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-7836?focusedCommentId=13619982&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13619982&lt;/a&gt;) didn&apos;t failed locally to me. I uploaded a combined patch(hbase-7835 + hbase-7836) will may help in the test.&lt;/p&gt;</comment>
                            <comment id="13621841" author="jeffreyz" created="Thu, 4 Apr 2013 06:01:00 +0000"  >&lt;p&gt;Trigger QA test&lt;/p&gt;</comment>
                            <comment id="13621885" author="hadoopqa" created="Thu, 4 Apr 2013 07:18:15 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12576932/hbase-7836-combined_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12576932/hbase-7836-combined_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 15 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestShell&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5130//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13634386" author="jxiang" created="Wed, 17 Apr 2013 20:33:00 +0000"  >&lt;p&gt;I was wondering if we can reuse the replicateWALEntry RPC call.  If not, how about call this method replayWALEntry and use WALEntry instead of MultiRequest?  We can change the proto types such as WALEdit/WALEntry if needed.&lt;/p&gt;</comment>
                            <comment id="13634423" author="jeffreyz" created="Wed, 17 Apr 2013 20:49:02 +0000"  >&lt;p&gt;That&apos;s a good question(my first version was piggyback on the function and multi). That causes two disadvantages:&lt;br/&gt;
1) We need decompose the WAL entries twice one is in the client side to see where edits should go per region(splitting) and the other decomposing is in the receiving server side. Inside, replicateWALEntry implementations, all those WALEntries are also translated to mutations. In addition, inside replicateWALEntry I&apos;ll make the replicateWALEntry a little bit &apos;messy&apos; to handle replay case.&lt;br/&gt;
2) For better monitoring &amp;amp; priority purpose, a separate command is also better. &lt;/p&gt;

&lt;p&gt;The cost to create one command is trivial that&apos;s why I choose a new &quot;replay&quot; command(even with piggyback this command or multi, I still need add special attributes)&lt;/p&gt;</comment>
                            <comment id="13634529" author="jxiang" created="Wed, 17 Apr 2013 22:29:56 +0000"  >&lt;p&gt;I see. That&apos;s good.&lt;/p&gt;</comment>
                            <comment id="13636137" author="hadoopqa" created="Fri, 19 Apr 2013 06:43:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12579496/hbase-7837-v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12579496/hbase-7837-v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5359//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5359//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13658999" author="stack" created="Wed, 15 May 2013 23:19:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeffreyz&quot; class=&quot;user-hover&quot; rel=&quot;jeffreyz&quot;&gt;Jeffrey Zhong&lt;/a&gt; We need this still now hbase-7006 is in?  Or this is distinct from it?&lt;/p&gt;</comment>
                            <comment id="13659010" author="jeffreyz" created="Wed, 15 May 2013 23:26:19 +0000"  >&lt;p&gt;No, we don&apos;t need it. Thanks.&lt;/p&gt;</comment>
                            <comment id="13659017" author="stack" created="Wed, 15 May 2013 23:31:26 +0000"  >&lt;p&gt;Implemented by hbase-7006 commit.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12639425">HBASE-8204</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12576675" name="hbase-7836-combined.patch" size="214479" author="jeffreyz" created="Tue, 2 Apr 2013 22:18:59 +0000"/>
                            <attachment id="12576932" name="hbase-7836-combined_v2.patch" size="216873" author="jeffreyz" created="Thu, 4 Apr 2013 06:01:00 +0000"/>
                            <attachment id="12576316" name="hbase-7836_v1.patch" size="82324" author="jeffreyz" created="Mon, 1 Apr 2013 00:09:48 +0000"/>
                            <attachment id="12576464" name="hbase-7836_v2.patch" size="82353" author="jeffreyz" created="Tue, 2 Apr 2013 00:00:50 +0000"/>
                            <attachment id="12579496" name="hbase-7837-v3.patch" size="22625" author="jeffreyz" created="Fri, 19 Apr 2013 06:38:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Apr 2013 01:35:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hy9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>