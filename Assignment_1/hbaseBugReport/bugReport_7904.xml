<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:50:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7904/HBASE-7904.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7904] Make mapreduce jobs pass based on 2.0.4-alpha</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7904</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;2.0.3-alpha has been released.&lt;/p&gt;

&lt;p&gt;We should upgrade the dependency.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633550">HBASE-7904</key>
            <summary>Make mapreduce jobs pass based on 2.0.4-alpha</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 05:17:24 +0000</created>
                <updated>Wed, 3 Apr 2013 23:59:03 +0000</updated>
                            <resolved>Mon, 1 Apr 2013 22:32:44 +0000</resolved>
                                                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13583922" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 05:18:22 +0000"  >&lt;p&gt;Straight forward patch.&lt;/p&gt;</comment>
                            <comment id="13583925" author="ram_krish" created="Fri, 22 Feb 2013 05:30:36 +0000"  >&lt;p&gt;+1 Ted.  &lt;br/&gt;
It took a long time for me to realise that this version is different.  i was only checking out for 2.0 in the jar file names &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thanks a lot Ted.&lt;/p&gt;</comment>
                            <comment id="13583968" author="hadoopqa" created="Fri, 22 Feb 2013 06:41:15 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12570415/7904.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12570415/7904.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.constraint.TestConstraint&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestAtomicOperation&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4495//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13584436" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 17:07:37 +0000"  >&lt;p&gt;I ran the failed tests locally and they passed.&lt;/p&gt;

&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Ram.&lt;/p&gt;</comment>
                            <comment id="13584497" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 18:09:03 +0000"  >&lt;p&gt;Reverted due to the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.hadoop.yarn.YarnException: Failed to Start org.apache.hadoop.mapred.MiniMRCluster
        at org.apache.hadoop.yarn.service.CompositeService.start(CompositeService.java:78)
        at org.apache.hadoop.mapred.MiniMRClientClusterFactory.create(MiniMRClientClusterFactory.java:75)
        at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:180)
        at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:170)
        at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:162)
        at org.apache.hadoop.mapred.MiniMRCluster.&amp;lt;init&amp;gt;(MiniMRCluster.java:123)
        at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniMapReduceCluster(HBaseTestingUtility.java:1574)
...
Caused by: org.apache.hadoop.yarn.YarnException: java.lang.IllegalStateException: Queue configuration missing child queue names &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; root
        at org.apache.hadoop.yarn.server.MiniYARNCluster$ResourceManagerWrapper.start(MiniYARNCluster.java:181)
        at org.apache.hadoop.yarn.service.CompositeService.start(CompositeService.java:68)
        ... 38 more
Caused by: java.lang.IllegalStateException: Queue configuration missing child queue names &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; root
        at org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler.parseQueue(CapacityScheduler.java:328)
        at org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler.initializeQueues(CapacityScheduler.java:255)
        at org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler.reinitialize(CapacityScheduler.java:220)
        at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.init(ResourceManager.java:226)
        at org.apache.hadoop.yarn.server.MiniYARNCluster$ResourceManagerWrapper.start(MiniYARNCluster.java:161)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13584536" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 18:46:16 +0000"  >&lt;p&gt;Looks like MiniMRCluster is deprecated:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 * @deprecated Use {@link org.apache.hadoop.mapred.MiniMRClientClusterFactory}
 * instead
 */
@Deprecated
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class MiniMRCluster {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13584832" author="hudson" created="Fri, 22 Feb 2013 23:47:58 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3892 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3892/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3892/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; revert, mapred.MiniMRCluster cannot be started (Revision 1449152)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Upgrade hadoop 2.0 dependency to 2.0.3-alpha (Ted Yu) (Revision 1449130)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13584840" author="stack" created="Fri, 22 Feb 2013 23:53:53 +0000"  >&lt;p&gt;When was it deprecated and what to use instead &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;? Thanks.&lt;/p&gt;</comment>
                            <comment id="13584868" author="yuzhihong@gmail.com" created="Sat, 23 Feb 2013 00:16:55 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3169&quot; title=&quot;Create a new MiniMRCluster equivalent which only provides client APIs cross MR1 and MR2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3169&quot;&gt;&lt;del&gt;MAPREDUCE-3169&lt;/del&gt;&lt;/a&gt; &apos;Create a new MiniMRCluster equivalent which only provides client APIs cross MR1 and MR2&apos; introduced the factory.&lt;br/&gt;
It is in hadoop 1.0.0, meaning we should use MiniMRClientClusterFactory in 0.96 and beyond.&lt;/p&gt;</comment>
                            <comment id="13584911" author="stack" created="Sat, 23 Feb 2013 01:00:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Sounds reasonable.  Any chance of a patch?&lt;/p&gt;</comment>
                            <comment id="13584916" author="yuzhihong@gmail.com" created="Sat, 23 Feb 2013 01:07:27 +0000"  >&lt;p&gt;Looking closer:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    MiniMRClientCluster mr = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      mr = MiniMRClientClusterFactory.create(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getClass(), 2,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;where MiniMRClientCluster is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MiniMRClientCluster {

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void start() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;

  /**
   * Stop and start back the cluster using the same configuration.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void restart() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void stop() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Configuration getConfig() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException;

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We use other methods which are not defined in the interface - createJobConf():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    mrCluster = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MiniMRCluster(servers,
      FS_URI != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? FS_URI : FileSystem.get(conf).getUri().toString(), 1,
      &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JobConf(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.conf));
    JobConf jobConf = MapreduceTestingShim.getJobConf(mrCluster);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (jobConf == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      jobConf = mrCluster.createJobConf();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Will dig some more.&lt;/p&gt;</comment>
                            <comment id="13585010" author="hudson" created="Sat, 23 Feb 2013 05:26:52 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #416 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/416/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/416/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; revert, mapred.MiniMRCluster cannot be started (Revision 1449152)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Upgrade hadoop 2.0 dependency to 2.0.3-alpha (Ted Yu) (Revision 1449130)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13586794" author="stack" created="Tue, 26 Feb 2013 05:32:15 +0000"  >&lt;p&gt;Do we have to use the non-public  methods?   &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13587275" author="yuzhihong@gmail.com" created="Tue, 26 Feb 2013 17:13:48 +0000"  >&lt;p&gt;Here is code from MiniMRCluster.java in hadoop 1.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; JobConf createJobConf(JobConf conf) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(conf == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      conf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JobConf();
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; configureJobConf(conf, namenode, jobTrackerPort, jobTrackerInfoPort,
                            ugi);
  }

  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; JobConf configureJobConf(JobConf conf, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; namenode,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;configureJobConf() is not public either.&lt;/p&gt;

&lt;p&gt;Will continue thinking how we can reduce reliance on above methods.&lt;/p&gt;</comment>
                            <comment id="13593084" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 05:26:03 +0000"  >&lt;p&gt;2.0.4-alpha would contain fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt;, allowing mapreduce job to run on hadoop 2.0&lt;/p&gt;</comment>
                            <comment id="13593085" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 05:27:46 +0000"  >&lt;p&gt;Patch v2 allows TestTableMapReduce to pass using 2.0.4-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="13593102" author="stack" created="Tue, 5 Mar 2013 06:08:03 +0000"  >&lt;p&gt;On a private jenkins, these all fail for me whenever I run against hadoop2:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestRowCounter.testRowCounterExclusiveColumn 	2 ms	1
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestImportTsv.testMROnTable 	34 ms	4
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestImportTsv.testMROnTableWithCustomMapper 	6 ms	4
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestImportTsv.testMROnTableWithTimestamp 	9 ms	4
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestImportTsv.testBulkOutputWithoutAnExistingTable 	9 ms	4
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestRowCounter.testRowCounterNoColumn 	37 ms	4
&amp;gt;&amp;gt;&amp;gt; org.apache.hadoop.hbase.mapreduce.TestRowCounter.testRowCounterHiddenColumn 	1 ms	4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do they pass w/ this patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13593105" author="stack" created="Tue, 5 Mar 2013 06:12:27 +0000"  >&lt;p&gt;What is the story with TestTableMapReduce?  I see it in tests but it is not being run currently?&lt;/p&gt;</comment>
                            <comment id="13593124" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 06:39:04 +0000"  >&lt;p&gt;@Stack:&lt;br/&gt;
Did you build 2.0.4-SNAPSHOT with fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt; ? The fix hasn&apos;t been integrated. So you need to apply the patch, build and install locally before trying mapreduce jobs.&lt;br/&gt;
With patch v2, the following tests passed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.mapreduce.TestRowCounter
2013-03-04 22:32:59.344 java[35564:1203] Unable to load realm info from SCDynamicStore
2013-03-04 22:32:59.493 java[35564:1203] Unable to load realm info from SCDynamicStore
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 93.555 sec

Running org.apache.hadoop.hbase.mapreduce.TestImportTsv
2013-03-04 22:35:04.078 java[36627:1203] Unable to load realm info from SCDynamicStore
2013-03-04 22:35:04.210 java[36627:1203] Unable to load realm info from SCDynamicStore
Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 186.233 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;blockquote&gt;&lt;p&gt;I see it in tests but it is not being run currently?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Can you clarify your question ?&lt;/p&gt;</comment>
                            <comment id="13593131" author="stack" created="Tue, 5 Mar 2013 06:53:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;Did you build 2.0.4-SNAPSHOT with fix from &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Oh, so published snapshot doesn&apos;t have &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt; but we need it?  Do you know if it is going to be committed to 2.0.4 before it gets rolled?&lt;/p&gt;

&lt;p&gt;That is good news that those mapreduce tests pass.&lt;/p&gt;

&lt;p&gt;On TestTableMapReduce, I see the unit test in code base but when I look at my private jenkins I do not see it being run.  You say above that TTMR passes for you so was wondering what you were doing to enable it.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13593518" author="stack" created="Tue, 5 Mar 2013 16:04:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Any chance of an answer on the above?  Do we need to push on &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt; because it is not yet committed if we want hbase building against hadoop2?&lt;/p&gt;</comment>
                            <comment id="13593611" author="yuzhihong@gmail.com" created="Tue, 5 Mar 2013 17:21:04 +0000"  >&lt;p&gt;Looking at &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/430/consoleFull&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/430/consoleFull&lt;/a&gt;, mapred.TestTableMapReduce was run but mapreduce.TestTableMapReduce was not.&lt;br/&gt;
This might require some maven expertise to explain.&lt;/p&gt;

&lt;p&gt;My understanding is that &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt; would be included in the next 2.0 release.&lt;/p&gt;</comment>
                            <comment id="13594243" author="apurtell" created="Wed, 6 Mar 2013 02:05:43 +0000"  >&lt;p&gt;-1 on updating the Hadoop dependency to 2.0.4 until it actually supports our unit tests with released code. At that time I will gladly lift the veto. I would be open to argument that depending on a -SNAPSHOT version is necessary for some critical reason. There is no critical reason communicated on this JIRA, right?&lt;/p&gt;</comment>
                            <comment id="13594254" author="yuzhihong@gmail.com" created="Wed, 6 Mar 2013 02:22:27 +0000"  >&lt;p&gt;@Andy:&lt;br/&gt;
The patch is not final. It is attached for person interested in this issue to try out the fix.&lt;/p&gt;

&lt;p&gt;That was why I didn&apos;t submit patch to QA.&lt;/p&gt;

&lt;p&gt;I will verify the patch when 2.0.4-alpha RC comes out to make sure our mapreduce jobs run successfully.&lt;/p&gt;</comment>
                            <comment id="13594774" author="yuzhihong@gmail.com" created="Wed, 6 Mar 2013 15:18:35 +0000"  >&lt;p&gt;Patch v3 allows mapreduce.TestTableMapReduce#testMultiRegionTable to pass on both hadoop 1.0 and 2.0.4-SNAPSHOT (with &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-429&quot; title=&quot;capacity-scheduler config missing from yarn-test artifact&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-429&quot;&gt;&lt;del&gt;YARN-429&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;With this change similar changes (to &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-129&quot; title=&quot;Simplify classpath construction for mini YARN tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-129&quot;&gt;&lt;del&gt;YARN-129&lt;/del&gt;&lt;/a&gt;) in the future don&apos;t break HBase unit tests.&lt;/p&gt;</comment>
                            <comment id="13595931" author="yuzhihong@gmail.com" created="Thu, 7 Mar 2013 14:43:00 +0000"  >&lt;p&gt;Suppose 2.0.4-ALPHA makes our mapreduce jobs pass in 0.95, can we entertain building trunk on top of 2.0.4-SNAPSHOT now that Bobby helped publish hadoop 2.0 snapshot to maven ?&lt;/p&gt;

&lt;p&gt;This way, we can quickly detect issue if some change in hadoop 2.0 breaks our mapreduce jobs.&lt;/p&gt;</comment>
                            <comment id="13595943" author="apurtell" created="Thu, 7 Mar 2013 14:53:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yuzhihong%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yuzhihong@gmail.com&quot;&gt;Ted Yu&lt;/a&gt; Consider putting up a patch on this jira that hacks the pom to specify 2.0.4-SNAPSHOT and activate the 2.0 profile by default. If all tests pass then I will change my vote to -0.&lt;/p&gt;</comment>
                            <comment id="13596116" author="stack" created="Thu, 7 Mar 2013 17:56:16 +0000"  >&lt;p&gt;I would be +1 on our building against a 2.0.4-SNAPSHOT.  Will help with us with pushing incompatibility feedback upstream.&lt;/p&gt;</comment>
                            <comment id="13596638" author="hadoopqa" created="Fri, 8 Mar 2013 00:46:55 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572330/hbase-7904-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572330/hbase-7904-v3.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4719//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13596825" author="stack" created="Fri, 8 Mar 2013 05:00:57 +0000"  >&lt;p&gt;Is failure related &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13596828" author="yuzhihong@gmail.com" created="Fri, 8 Mar 2013 05:04:32 +0000"  >&lt;p&gt;I think so. Failure is related to the way conf is setup (on hadoop 1.0).&lt;/p&gt;

&lt;p&gt;Investigation under way.&lt;/p&gt;</comment>
                            <comment id="13597433" author="hadoopqa" created="Fri, 8 Mar 2013 19:29:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572792/7904-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572792/7904-v4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestSplitLogWorker&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4730//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13597438" author="yuzhihong@gmail.com" created="Fri, 8 Mar 2013 19:33:04 +0000"  >&lt;p&gt;I ran TestSplitLogWorker locally with patch v4 and it passed.&lt;/p&gt;</comment>
                            <comment id="13597456" author="stack" created="Fri, 8 Mar 2013 19:40:41 +0000"  >&lt;p&gt;+1 for 0.95.  That ok w/ you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrew.purtell%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;andrew.purtell@gmail.com&quot;&gt;Andrew Purtell&lt;/a&gt;?  Would be good for uncovering compatibility issues going against hadoop2.  Would you entertain it going into trunk too?  Once in, I&apos;ll up the rate at which 0.95 runs against hadoop2... to same as hadoop1.&lt;/p&gt;</comment>
                            <comment id="13597457" author="stack" created="Fri, 8 Mar 2013 19:41:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; What does it looks like when you run hadoop2 profile?&lt;/p&gt;</comment>
                            <comment id="13597462" author="yuzhihong@gmail.com" created="Fri, 8 Mar 2013 19:45:45 +0000"  >&lt;p&gt;I ran selected mapreduce jobs against hadoop 2.0 on Mac and they passed:&lt;/p&gt;

&lt;p&gt;mt -Dhadoop.profile=2.0 -Dtest=org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;/p&gt;</comment>
                            <comment id="13597707" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 00:00:23 +0000"  >&lt;p&gt;Patch v5 was suggested by Sid.&lt;/p&gt;

&lt;p&gt;The rationale is that YARN may change the value(s) in the Configuration we pass to MiniMRCluster ctor.&lt;/p&gt;

&lt;p&gt;mapreduce.TestTableMapReduce passed against hadoop 2.0&lt;/p&gt;</comment>
                            <comment id="13597723" author="stack" created="Sat, 9 Mar 2013 00:16:35 +0000"  >&lt;p&gt;I don&apos;t see what is different in v5.&lt;/p&gt;

&lt;p&gt;Looking at patch again, ain&apos;t this totally obnoxious overwriting old configs?  Isn&apos;t going to surprise in frustrating ways (&quot;Why is my config. not taking effect?&quot;).  Could you narrow to a subset the configs you are changing and can you flag when you are overriding w/ at least a log message (how many configs are overridden anyways?)&lt;/p&gt;</comment>
                            <comment id="13597730" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 00:23:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could you narrow to a subset the configs you are changing&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I don&apos;t know how to do that. Meaning, what if someone adds new (YARN) config in the future, similar to &quot;yarn.is.minicluster&quot; ?&lt;/p&gt;</comment>
                            <comment id="13597776" author="hadoopqa" created="Sat, 9 Mar 2013 01:13:09 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572858/7904-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572858/7904-v5.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4735//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13597827" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 03:18:59 +0000"  >&lt;p&gt;Updated patch v4 with log of number of entries added to conf&lt;/p&gt;</comment>
                            <comment id="13597830" author="apurtell" created="Sat, 9 Mar 2013 03:26:53 +0000"  >&lt;p&gt;+0&lt;/p&gt;</comment>
                            <comment id="13597838" author="stack" created="Sat, 9 Mar 2013 04:18:22 +0000"  >&lt;p&gt;What is the problem &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; ?  We are not picking up the yarn defaults?  Or are there no defaults for yarn?  Copying the jobconf over the current config would seem to indicate the jobconf is perhaps reading a yarn resource that we are not in our hbaseconfiguration?  Why doesn&apos;t the jobconf have the hbase configs in it?&lt;/p&gt;</comment>
                            <comment id="13597839" author="hadoopqa" created="Sat, 9 Mar 2013 04:22:17 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572888/7904-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572888/7904-v4.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4740//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13597849" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 05:32:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;We are not picking up the yarn defaults?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That was the case.&lt;br/&gt;
From MiniYARNCluster#ResourceManagerWrapper :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void start() {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        getConfig().setBoolean(YarnConfiguration.IS_MINI_YARN_CLUSTER, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-129&quot; title=&quot;Simplify classpath construction for mini YARN tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-129&quot;&gt;&lt;del&gt;YARN-129&lt;/del&gt;&lt;/a&gt; depended on the above - see MRApps#setMRFrameworkClasspath():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (conf.getBoolean(YarnConfiguration.IS_MINI_YARN_CLUSTER, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)) {
+      Apps.addToEnvironment(environment, Environment.CLASSPATH.name(),
+          &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;java.class.path&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Here is how our tests are written (excerpt from TestMultiTableInputFormat):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-comment&quot;&gt;// start MR cluster
&lt;/span&gt;    TEST_UTIL.startMiniMapReduceCluster();
...
    Configuration c = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Configuration(TEST_UTIL.getConfiguration());
    
    c.set(KEY_STARTROW, start != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? start : &quot;&quot;);
    c.set(KEY_LASTROW, last != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? last : &quot;&quot;);
...
    Job job = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Job(c, jobName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since TEST_UTIL.getConfiguration() didn&apos;t contain YarnConfiguration.IS_MINI_YARN_CLUSTER, classpath wasn&apos;t adjusted by MRApps#setMRFrameworkClasspath() which led to job failure.&lt;/p&gt;

&lt;p&gt;Between patches v4 and v5, looks like v4 is a bit cleaner.&lt;/p&gt;</comment>
                            <comment id="13597990" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 16:20:54 +0000"  >&lt;p&gt;Patch v4 that uses hadoop 2.0 as default profile&lt;/p&gt;</comment>
                            <comment id="13597993" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 16:55:35 +0000"  >&lt;p&gt;Making hadoop-2.0 the default profile results in the following error when QA tries to validate compilation against hadoop-2.0:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] The build could not read 1 project -&amp;gt; [Help 1]
[ERROR]
[ERROR]   The project org.apache.hbase:hbase:0.97-SNAPSHOT (/Users/tyu/trunk/pom.xml) has 2 errors
[ERROR]     &apos;dependencyManagement.dependencies.dependency.artifactId&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hbase:${compat.module}:jar with value &apos;${compat.module}&apos; does not match a valid id pattern. @ line 979, column 21
[ERROR]     &apos;dependencyManagement.dependencies.dependency.artifactId&apos; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hbase:${compat.module}:test-jar with value &apos;${compat.module}&apos; does not match a valid id pattern. @ line 984, column 21
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like test-patch.sh needs to be enhanced so that patch can be tested against hadoop-2.0&lt;/p&gt;</comment>
                            <comment id="13598146" author="hadoopqa" created="Sun, 10 Mar 2013 03:31:20 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572944/7904-v4-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572944/7904-v4-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 18 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestRowCounter&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.wal.TestLogRolling.testLogRollOnDatanodeDeath(TestLogRolling.java:389)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestJoinedScanners.testJoinedScanners(TestJoinedScanners.java:96)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4743//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13598167" author="yuzhihong@gmail.com" created="Sun, 10 Mar 2013 05:39:53 +0000"  >&lt;p&gt;I couldn&apos;t reproduce TestRowCounter failure on Mac.&lt;/p&gt;

&lt;p&gt;Will investigate more.&lt;/p&gt;</comment>
                            <comment id="13598282" author="hadoopqa" created="Sun, 10 Mar 2013 15:10:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572961/7904-v5-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572961/7904-v5-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 18 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestJoinedScanners&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestLogRolling&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 3 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.TestHRegion.testgetHDFSBlocksDistribution(TestHRegion.java:3397)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4746//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13600130" author="hadoopqa" created="Tue, 12 Mar 2013 16:09:46 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573341/7904-v4-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573341/7904-v4-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 18 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestJoinedScanners&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestLogRolling&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4778//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13600651" author="hadoopqa" created="Wed, 13 Mar 2013 00:22:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573439/7904-v4-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573439/7904-v4-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 18 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestMultiTableInputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestJoinedScanners&lt;br/&gt;
                  org.apache.hadoop.hbase.security.access.TestAccessController&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.wal.TestLogRolling.testLogRollOnDatanodeDeath(TestLogRolling.java:389)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.fs.TestBlockReorder.testHBaseCluster(TestBlockReorder.java:249)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13601329" author="yuzhihong@gmail.com" created="Wed, 13 Mar 2013 16:38:42 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//testReport/org.apache.hadoop.hbase.mapreduce/TestImportExport/testExportScannerBatching/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4788//testReport/org.apache.hadoop.hbase.mapreduce/TestImportExport/testExportScannerBatching/:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-03-12 23:54:06,948 INFO  [IPC Server handler 7 on 42466] blockmanagement.BlockManager(969): BLOCK* addToInvalidates: blk_-7803627020849108776_1036 127.0.0.1:46824 
2013-03-12 23:54:07,856 WARN  [IPC Server handler 3 on 47555] containermanager.ContainerManagerImpl(497): Trying to stop unknown container container_1363132417629_0001_01_000001
2013-03-12 23:54:07,858 WARN  [IPC Server handler 3 on 47555] nodemanager.NMAuditLogger(150): USER=UnknownUser	IP=67.195.138.30	OPERATION=Stop Container Request	TARGET=ContainerManagerImpl	RESULT=FAILURE	DESCRIPTION=Trying to stop unknown container!	APPID=application_1363132417629_0001	CONTAINERID=container_1363132417629_0001_01_000001
...
2013-03-12 23:54:24,952 INFO  [IPC Server handler 1 on 42466] blockmanagement.BlockManager(2174): BLOCK* addStoredBlock: blockMap updated: 127.0.0.1:46824 is added to blk_383661822379709623_1109{blockUCState=UNDER_CONSTRUCTION, primaryNodeIndex=-1, replicas=[ReplicaUnderConstruction[127.0.0.1:46824|RBW]]} size 0
2013-03-12 23:54:25,129 WARN  [ContainersLauncher #0] nodemanager.DefaultContainerExecutor(195): Exit code from task is : 137
2013-03-12 23:54:29,492 INFO  [IPC Server handler 0 on 42466] blockmanagement.BlockManager(969): BLOCK* addToInvalidates: blk_7203999672823138585_1053 127.0.0.1:46824 
2013-03-12 23:54:29,516 INFO  [pool-1-thread-1] hbase.ResourceChecker(171): after: mapreduce.TestImportExport#testSimpleCase &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=509 (was 468)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;TestImportExport#testSimpleCase didn&apos;t fail. So exit code 137 may not be fatal.&lt;/p&gt;</comment>
                            <comment id="13610550" author="stack" created="Fri, 22 Mar 2013 16:17:06 +0000"  >&lt;p&gt;137 error in maven context means OOME.  Is that what is happening here?  Why all the test failures, do you know &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13610593" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 16:19:56 +0000"  >&lt;p&gt;Am waiting for &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-470&quot; title=&quot;Support a way to disable resource monitoring on the NodeManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-470&quot;&gt;&lt;del&gt;YARN-470&lt;/del&gt;&lt;/a&gt; to be checked in.&lt;/p&gt;

&lt;p&gt;Once new 2.0.4-SNAPSHOT build is ready, will run test suite and see what errors we get.&lt;/p&gt;</comment>
                            <comment id="13610638" author="stack" created="Fri, 22 Mar 2013 16:23:17 +0000"  >&lt;p&gt;Looking at the v4 patch, since doing blanket copy in ....&lt;/p&gt;

&lt;p&gt;+  private Configuration copyNewConfEntries(Configuration src, Configuration dst) {&lt;/p&gt;

&lt;p&gt;could fetch us stuff we don&apos;t want, how about just copying over the YARN setting only?&lt;/p&gt;

&lt;p&gt;Do you know why the other failures?   If compatibility issue, lets figure it sooner rather than latter so can make some noise.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13610681" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 16:26:34 +0000"  >&lt;p&gt;Do we look for &apos;yarn.&apos; to determine YARN setting ?&lt;br/&gt;
Future changes to 2.0 are hard to predict.&lt;/p&gt;</comment>
                            <comment id="13610919" author="stack" created="Fri, 22 Mar 2013 16:46:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; What are you advocating?  Blanket updating all from one Configuration to another is &apos;safer&apos;/&apos;better&apos; than selective copy of a single config, a config. that YARN itself is using? If argument is that it is brittle our depending on a particular YARN &apos;hack&apos; that YARN itself seems dependent on, yeah, but that is something we need to take upstream, not something we compensate for by doing copy of who knows what.&lt;/p&gt;

&lt;p&gt;Are you working on this issue Ted?  Its probably the main blocker in way of a 0.95 release now.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13610928" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 16:56:49 +0000"  >&lt;p&gt;Looks like preference leans toward 7904-v2.txt where only one config param is set.&lt;br/&gt;
Concern was raised @ 09/Mar/13 00:16 for not overwriting our config.&lt;/p&gt;

&lt;p&gt;I agree that this is a blocker for 0.95 release.&lt;/p&gt;

&lt;p&gt;I am working on some other JIRAs at the same time. So help is welcome for this issue.&lt;/p&gt;</comment>
                            <comment id="13610936" author="stack" created="Fri, 22 Mar 2013 17:01:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;Concern was raised @ 09/Mar/13 00:16 for not overwriting our config.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No.  I brought it up here: &apos;stack added a comment - 08/Mar/13 16:16&apos;  and again later that day.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I am working on some other JIRAs at the same time. So help is welcome for this issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are the other issues blockers or as important as this one?&lt;/p&gt;</comment>
                            <comment id="13610945" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 17:10:26 +0000"  >&lt;p&gt;We were referring to the same comment.&lt;/p&gt;

&lt;p&gt;Do you prefer 7904-v2.txt ?&lt;br/&gt;
I can re-attach the patch and analyze test failure from there.&lt;/p&gt;</comment>
                            <comment id="13610953" author="stack" created="Fri, 22 Mar 2013 17:20:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you prefer 7904-v2.txt ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes&lt;/p&gt;</comment>
                            <comment id="13610971" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 17:36:11 +0000"  >&lt;p&gt;Patch v2 would run tests using hadoop 1.1&lt;/p&gt;

&lt;p&gt;This patch should use hadoop 2.0 profile&lt;/p&gt;</comment>
                            <comment id="13610993" author="stack" created="Fri, 22 Mar 2013 17:59:09 +0000"  >&lt;p&gt;Do it local?&lt;/p&gt;</comment>
                            <comment id="13610996" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 18:00:51 +0000"  >&lt;p&gt;On Mac, the failure wasn&apos;t reproducible.&lt;/p&gt;

&lt;p&gt;On the Linux box I have access to, the test is blocked by &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-470&quot; title=&quot;Support a way to disable resource monitoring on the NodeManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-470&quot;&gt;&lt;del&gt;YARN-470&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13611041" author="stack" created="Fri, 22 Mar 2013 18:30:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; So no hbase compatibility till hadoop-2.0.5-alpha?&lt;/p&gt;</comment>
                            <comment id="13611044" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 18:32:31 +0000"  >&lt;p&gt;2.0.4-alpha hasn&apos;t been released, right ?&lt;br/&gt;
We have a chance.&lt;/p&gt;</comment>
                            <comment id="13611053" author="stack" created="Fri, 22 Mar 2013 18:36:10 +0000"  >&lt;p&gt;Why do we need &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-470&quot; title=&quot;Support a way to disable resource monitoring on the NodeManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-470&quot;&gt;&lt;del&gt;YARN-470&lt;/del&gt;&lt;/a&gt;?  You don&apos;t say how it relates? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13611058" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 18:39:22 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449?focusedCommentId=13600578&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13600578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/YARN-449?focusedCommentId=13600578&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13600578&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13611065" author="hadoopqa" created="Fri, 22 Mar 2013 18:45:56 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575049/7904-v2-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575049/7904-v2-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.constraint.TestConstraint&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManagerOnCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4972//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13611080" author="sseth" created="Fri, 22 Mar 2013 19:02:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; Using the config returned by MiniMRCluster is preferred to avoid similar problems in the future. Am guessing &quot;yarn.resourcemanager.address&quot; and &quot;yarn.resourcemanager.scheduler.address&quot; were set as a result of a similar change.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-470&quot; title=&quot;Support a way to disable resource monitoring on the NodeManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-470&quot;&gt;&lt;del&gt;YARN-470&lt;/del&gt;&lt;/a&gt; along with a follow up to disable mem monitoring in the MiniCluster is for the OOM issue.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5083&quot; title=&quot;MiniMRCluster should use a random component when creating an actual cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5083&quot;&gt;&lt;del&gt;MAPREDUCE-5083&lt;/del&gt;&lt;/a&gt; is to allow parallel minimr tests to execute. Do HBase tests run in parallel?&lt;/p&gt;

&lt;p&gt;mapred.local.dir set in HBaseTestingUtility will not have an affect on a YARN cluster.&lt;/p&gt;</comment>
                            <comment id="13611143" author="stack" created="Fri, 22 Mar 2013 19:49:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Using the config returned by MiniMRCluster is preferred to avoid similar problems in the future. Am guessing &quot;yarn.resourcemanager.address&quot; and &quot;yarn.resourcemanager.scheduler.address&quot; were set as a result of a similar change.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Usually configs are out in xml files that we read into our context?   The hbase Configuration adds the hbase-*.xml files to its base set.  If tests need specific configs., we add them in xml and then make sure the Configuration reads them in before test runs.  What can&apos;t we do that in this case rather than do this config. copy?&lt;/p&gt;

&lt;p&gt;Yes, hbase tests run in //.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;mapred.local.dir set in HBaseTestingUtility will not have an affect on a YARN cluster.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Fine.&lt;/p&gt;

&lt;p&gt;Why we even specifying addresses?  Why are there not defaults that just work in say the standalone case so downstream projects don&apos;t even have to be concerned w/ setting this stuff?&lt;/p&gt;

&lt;p&gt;Thanks for the help on this one.&lt;/p&gt;</comment>
                            <comment id="13611152" author="stack" created="Fri, 22 Mar 2013 19:55:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Why you doing this copy of configs method when HBaseConfiguration already has stuff for adorning a Configuration w/ those from hbase and it has a merge method?&lt;/p&gt;
</comment>
                            <comment id="13611193" author="hadoopqa" created="Fri, 22 Mar 2013 20:30:04 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575072/7904-v2-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575072/7904-v2-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestHTableMultiplexer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4974//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13611254" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 21:06:50 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void merge(Configuration destConf, Configuration srcConf) {
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; e : srcConf) {
      destConf.set(e.getKey(), e.getValue());
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;merge() doesn&apos;t check whether e.getKey() exists in destConf.&lt;br/&gt;
Earlier you commented:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;could fetch us stuff we don&apos;t want&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13611272" author="stack" created="Fri, 22 Mar 2013 21:21:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; I asked why you would write your own version if merge exists.  You don&apos;t answer my question.&lt;/p&gt;

&lt;p&gt;After reading reams of commentary by you pasting logs both here and over in yarn issues, I am still not clear what the problem is.  It seems like my comment above on exit code 137 being code for OOME seems to be pertinent given cited YARN issue to disable mem checks (could we up the heap and have this stuff pass?) but I have no clue on how far we are from resolution or what action to take upstream.  I think I now know what is wanted regards config reading over in &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449&quot; title=&quot;HBase test failures when running against Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-449&quot;&gt;&lt;del&gt;YARN-449&lt;/del&gt;&lt;/a&gt; seeing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; comments there but that issue seems to have run off into the weeds.... Figuring what is needed should not be this hard.&lt;/p&gt;</comment>
                            <comment id="13611281" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 21:27:26 +0000"  >&lt;p&gt;There is no log in merge().&lt;br/&gt;
Since I was debugging, logs such as the following would be helpful:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;copying &quot;&lt;/span&gt; + entry.getKey() + &lt;span class=&quot;code-quote&quot;&gt;&quot; = &quot;&lt;/span&gt; + entry.getValue());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Once mapreduce jobs pass reliably on hadoop 2.0, I can switch to using merge().&lt;/p&gt;</comment>
                            <comment id="13611306" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 21:45:17 +0000"  >&lt;p&gt;Previous patch was missing necessary changes to pom.xml files which switch default profile to hadoop 2.0&lt;/p&gt;</comment>
                            <comment id="13611311" author="sseth" created="Fri, 22 Mar 2013 21:48:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;Usually configs are out in xml files that we read into our context? The hbase Configuration adds the hbase-*.xml files to its base set. If tests need specific configs., we add them in xml and then make sure the Configuration reads them in before test runs. What can&apos;t we do that in this case rather than do this config. copy?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;To aceess the MiniMRCluster, certain client configs are required. This, along with a lot of defaults, are provided by the cluster after it is setup. Is it possible to use this, and then apply addiional configs on top. Something like &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;config from HDFS is the base (I see fs.default.name being set manually)&lt;/li&gt;
	&lt;li&gt;If MiniMR is required, set it up using the base HDFS config.&lt;/li&gt;
	&lt;li&gt;HBase configs, and test specific configs on top of this (without attempting to set MR/HDFS parameters)&lt;br/&gt;
I&apos;m sure HBase has similar client configs - which need to be loaded to access the MiniHBaseCluster. How are clients expected to use this ?&lt;/li&gt;
&lt;/ul&gt;



&lt;blockquote&gt;&lt;p&gt;Why we even specifying addresses? Why are there not defaults that just work in say the standalone case so downstream projects don&apos;t even have to be concerned w/ setting this stuff?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;To allow parallel MiniClusters (different ports).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;After reading reams of commentary by you pasting logs both here and over in yarn issues, I am still not clear what the problem is. It seems like my comment above on exit code 137 being code for OOME seems to be pertinent given cited YARN issue to disable mem checks (could we up the heap and have this stuff pass?) but I have no clue on how far we are from resolution or what action to take upstream. I think I now know what is wanted regards config reading over in &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449&quot; title=&quot;HBase test failures when running against Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-449&quot;&gt;&lt;del&gt;YARN-449&lt;/del&gt;&lt;/a&gt; seeing Siddharth Seth comments there but that issue seems to have run off into the weeds.... Figuring what is needed should not be this hard.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;137 implies a kill -9 afaik. That&apos;s what the NodeManager/TT will eventually send out to containers. Note: This could be seen in case of successful MR tasks as well.&lt;br/&gt;
&quot;Up the heap&quot; is not the main issue here. JVMs are not going OOM, they&apos;re being killed by YARN resource monitoring. &lt;br/&gt;
After MR-5083 is committed (and snapshot published to mvn), can we trigger another run of the HBase tests - that should eliminate potential random failures caused by parallel tests.&lt;/p&gt;</comment>
                            <comment id="13611328" author="stack" created="Fri, 22 Mar 2013 22:05:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;m sure HBase has similar client configs - which need to be loaded to access the MiniHBaseCluster. How are clients expected to use this ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Makes sense now.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;To allow parallel MiniClusters (different ports).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;// clusters are default?&lt;/p&gt;

&lt;p&gt;All I want to do is launch a job, do I need know addresses (if no addresses, use default localhost?)&lt;/p&gt;

&lt;p&gt;Above is not important.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;OOM, they&apos;re being killed by YARN resource monitoring. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I see by reading over in MR-5083, that it is a vmem limit.  Can I up the vmem limit now w/o waiting on mr-5083 by setting some configs on minimr?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;After MR-5083 is committed (and snapshot published to mvn), can we trigger another run of the HBase tests - that should eliminate potential random failures caused by parallel tests.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. Of course.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13611396" author="sseth" created="Fri, 22 Mar 2013 22:55:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;// clusters are default?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Support the usecase where downstream projects run tests in parallel, and each test spins up a cluster (Assuming hbase fits into this).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I see by reading over in MR-5083, that it is a vmem limit. Can I up the vmem limit now w/o waiting on mr-5083 by setting some configs on minimr?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;(Assuming you mean MR-5094)&lt;br/&gt;
yarn.nodemanager.vmem-pmem-ratio (default is 2.1f)&lt;br/&gt;
Again, this is env specific. Afaik, the hbase build env does not see the OOM, not yet anyway. &lt;/p&gt;</comment>
                            <comment id="13611398" author="hadoopqa" created="Fri, 22 Mar 2013 22:58:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575119/7904-v2-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575119/7904-v2-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 19 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.zookeeper.lock.TestZKInterProcessReadWriteLock&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestHLogSplitCompressed&lt;br/&gt;
                  org.apache.hadoop.hbase.security.token.TestTokenAuthentication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13611406" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 23:09:52 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4979/artifact/trunk/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.mapreduce.TestImportExport-output.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4979/artifact/trunk/hbase-server/target/surefire-reports/org.apache.hadoop.hbase.mapreduce.TestImportExport-output.txt&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-03-22 22:44:16,077 WARN  [AsyncDispatcher event handler] nodemanager.NMAuditLogger(150): USER=jenkins	OPERATION=Container Finished - Failed	TARGET=ContainerImpl	RESULT=FAILURE	DESCRIPTION=Container failed with state: LOCALIZATION_FAILED	APPID=application_1363992198280_0003	CONTAINERID=container_1363992198280_0003_01_000001
2013-03-22 22:44:17,065 WARN  [AsyncDispatcher event handler] resourcemanager.RMAuditLogger(255): USER=jenkins	OPERATION=Application Finished - Failed	TARGET=RMAppManager	RESULT=FAILURE	DESCRIPTION=App failed with state: FAILED	PERMISSIONS=Application application_1363992198280_0003 failed 1 times due to AM Container &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; appattempt_1363992198280_0003_000001 exited with  exitCode: -1000 due to: java.lang.ArithmeticException: / by zero
	at org.apache.hadoop.fs.LocalDirAllocator$AllocatorPerContext.getLocalPathForWrite(LocalDirAllocator.java:368)
	at org.apache.hadoop.fs.LocalDirAllocator.getLocalPathForWrite(LocalDirAllocator.java:150)
	at org.apache.hadoop.fs.LocalDirAllocator.getLocalPathForWrite(LocalDirAllocator.java:131)
	at org.apache.hadoop.fs.LocalDirAllocator.getLocalPathForWrite(LocalDirAllocator.java:115)
	at org.apache.hadoop.yarn.server.nodemanager.LocalDirsHandlerService.getLocalPathForWrite(LocalDirsHandlerService.java:285)
	at org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService$LocalizerRunner.run(ResourceLocalizationService.java:846)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is tracked by &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-9079&quot; title=&quot;LocalDirAllocator throws ArithmeticException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-9079&quot;&gt;&lt;del&gt;HADOOP-9079&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13611422" author="stack" created="Fri, 22 Mar 2013 23:32:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;Support the usecase where downstream projects run tests in parallel, and each test spins up a cluster (Assuming hbase fits into this).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; No on above.  We just want something that worked like minimr in hadoop1.  We start the cluster do our tests, not in //, then shut down the cluster.  I misunderstood you when you said // above.  Yes we run our tests in //.  We do not set up a minimr cluster once and run tests in // against it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;(Assuming you mean MR-5094)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  Pardon me.  Was quoting your text thinking it referred to the vmem check issue.&lt;/p&gt;

</comment>
                            <comment id="13611468" author="yuzhihong@gmail.com" created="Sat, 23 Mar 2013 00:17:12 +0000"  >&lt;p&gt;When I ran TestImportExport through patch v2 locally, I saw:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-03-22 17:11:48,964 INFO  [IPC Server handler 9 on 59484] blockmanagement.BlockManager(971): BLOCK* addToInvalidates: blk_6953113729119463204_1229 127.0.0.1:59486
2013-03-22 17:11:48,971 ERROR [IPC Server handler 19 on 59515] resourcemanager.ApplicationMasterService(222): Application doesn&apos;t exist in cache appattempt_1363997356166_0005_000001
2013-03-22 17:11:48,989 ERROR [IPC Server handler 19 on 59515] security.UserGroupInformation(1480): PriviledgedActionException as:tyu (auth:SIMPLE) cause:org.apache.hadoop.yarn.exceptions.impl.pb.YarnRemoteExceptionPBImpl: Application doesn&apos;t exist in cache appattempt_1363997356166_0005_000001
2013-03-22 17:11:58,501 INFO  [main] log.Slf4jLog(67): Stopped SelectChannelConnector@TYus-MacBook-Pro.local:0
2013-03-22 17:12:08,625 INFO  [main] log.Slf4jLog(67): Stopped SelectChannelConnector@TYus-MacBook-Pro.local:0
2013-03-22 17:12:08,727 ERROR [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-153,5,main]] delegation.AbstractDelegationTokenSecretManager$ExpiredTokenRemover(430): InterruptedExcpetion recieved &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; ExpiredTokenRemover thread java.lang.InterruptedException: sleep interrupted
2013-03-22 17:12:08,728 WARN  [ApplicationMaster Launcher] amlauncher.ApplicationMasterLauncher$LauncherThread(97): org.apache.hadoop.yarn.server.resourcemanager.amlauncher.ApplicationMasterLauncher$LauncherThread interrupted. Returning.
2013-03-22 17:12:08,754 ERROR [ResourceManager Event Processor] resourcemanager.ResourceManager$SchedulerEventDispatcher$EventProcessor(370): Returning, interrupted : java.lang.InterruptedException
2013-03-22 17:12:08,756 INFO  [main] hbase.HBaseTestingUtility(1673): Mini mapreduce cluster stopped
2013-03-22 17:12:08,757 INFO  [main] hbase.HBaseTestingUtility(888): Shutting down minicluster
2013-03-22 17:12:08,757 DEBUG [main] util.JVMClusterUtil(237): Shutting down HBase Cluster
2013-03-22 17:12:08,757 INFO  [main] master.HMaster(2096): Cluster shutdown requested
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13611617" author="stack" created="Sat, 23 Mar 2013 04:46:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; You saw what?  What in the pasted log snippet is remarkable?  If you want others to follow along, it would help if you gave a high-level comment on the issue observed else you just look like a crazy person pasting random log snippets into issues.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13611670" author="apurtell" created="Sat, 23 Mar 2013 10:24:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;else you just look like a crazy person pasting random log snippets into issues&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The log snippets alone are not useful here, perhaps they belong on a YARN JIRA. Please provide analysis, preferably as an alternative to posting verbose logging, or don&apos;t bother because its mostly (only?) noise. &lt;/p&gt;</comment>
                            <comment id="13611969" author="hadoopqa" created="Sun, 24 Mar 2013 04:47:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575207/7904-v6-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575207/7904-v6-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 19 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestTableLockManager&lt;br/&gt;
                  org.apache.hadoop.hbase.security.token.TestTokenAuthentication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4986//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13613339" author="hadoopqa" created="Tue, 26 Mar 2013 00:21:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575421/7904-v7-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575421/7904-v7-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 19 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.token.TestTokenAuthentication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles.testSimpleLoad(TestLoadIncrementalHFiles.java:86)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFilesSplitRecovery.testSplitWhileBulkLoadPhase(TestLoadIncrementalHFilesSplitRecovery.java:298)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5006//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13613347" author="hadoopqa" created="Tue, 26 Mar 2013 00:38:18 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575423/7904-v8-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575423/7904-v8-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 19 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.encoding.TestChangingEncoding&lt;br/&gt;
                  org.apache.hadoop.hbase.security.token.TestTokenAuthentication&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestFromClientSide&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5007//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13613414" author="hadoopqa" created="Tue, 26 Mar 2013 02:30:37 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575447/7904-v8-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575447/7904-v8-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 19 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;br/&gt;
                  org.apache.hadoop.hbase.security.token.TestTokenAuthentication&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5009//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13613448" author="yuzhihong@gmail.com" created="Tue, 26 Mar 2013 03:29:54 +0000"  >&lt;p&gt;Subject of this JIRA doesn&apos;t match the on-going effort which focuses on making mapreduce jobs pass based on hadoop 2.0&lt;/p&gt;

&lt;p&gt;I will update the subject if there is no objection.&lt;/p&gt;</comment>
                            <comment id="13613467" author="hadoopqa" created="Tue, 26 Mar 2013 04:17:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575458/7904-v8.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575458/7904-v8.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5012//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13614337" author="hadoopqa" created="Tue, 26 Mar 2013 17:34:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575537/7904-v9-hadoop-2.0.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575537/7904-v9-hadoop-2.0.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 19 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.security.token.TestTokenAuthentication&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManagerOnCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5022//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13615370" author="hadoopqa" created="Wed, 27 Mar 2013 15:18:02 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12575709/7904-v9.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12575709/7904-v9.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.io.encoding.TestChangingEncoding&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/5028//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13617050" author="yuzhihong@gmail.com" created="Fri, 29 Mar 2013 04:18:15 +0000"  >&lt;p&gt;TestChangingEncoding test failure should be fixed by addendum to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8063&quot; title=&quot;Filter HFiles based on first/last key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8063&quot;&gt;&lt;del&gt;HBASE-8063&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Patch v9 is ready for review: 7904-v9-hadoop-2.0.txt allows all mapreduce jobs to pass using hadoop 2.0&lt;/p&gt;</comment>
                            <comment id="13617092" author="stack" created="Fri, 29 Mar 2013 05:30:41 +0000"  >&lt;p&gt;Why this change?&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this.coprocessorHost = new RegionCoprocessorHost(this, rsServices, conf);&lt;br/&gt;
+      this.coprocessorHost = new RegionCoprocessorHost(this, rsServices, baseConf);&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;This seems to be only real addition: +    HBaseConfiguration.merge(this.conf, jobConf);  &amp;#8211; is that right?&lt;/p&gt;

&lt;p&gt;Did something change in the hadoop2 snapshot?  A yarn patch got committed?&lt;/p&gt;

&lt;p&gt;Why we have to do this now?&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;GenericOptionsParser opts = new GenericOptionsParser(new Configuration(cluster.getConfiguration()), args);&lt;br/&gt;
+    GenericOptionsParser opts = new GenericOptionsParser(new Configuration(&lt;br/&gt;
+      cluster.getConfiguration()), args);&lt;br/&gt;
     Configuration conf = opts.getConfiguration();&lt;br/&gt;
+    // copy or add the necessary configuration values from the map reduce config to the hbase config&lt;br/&gt;
+    copyConfigurationValues(UTIL.getConfiguration(), conf);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Why create a new HBaseConfiguration instance?  What is wrong w/ the cluster instance?&lt;/p&gt;

&lt;p&gt;How does cluster config relate to UTIL.getConfiguration?  (Are they the same?)&lt;/p&gt;
</comment>
                            <comment id="13617363" author="yuzhihong@gmail.com" created="Fri, 29 Mar 2013 14:07:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why this change?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;When SecureBulkLoadEndpoint tries to access hdfs, org.apache.hadoop.ipc.RPC.setProtocolEngine() would call Configuration.setClass(). Without the change, we would get:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-03-25 22:36:19,493 ERROR [IPC Server handler 2 on 40900] access.SecureBulkLoadEndpoint$1(240): Failed to complete bulk load
java.lang.UnsupportedOperationException: Immutable Configuration
  at org.apache.hadoop.hbase.CompoundConfiguration.setClass(CompoundConfiguration.java:474)
  at org.apache.hadoop.ipc.RPC.setProtocolEngine(RPC.java:193)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;blockquote&gt;&lt;p&gt;This seems to be only real addition&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I followed your suggestion. Since debugging output from copyNewConfEntries() is no longer needed, I removed that method.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Did something change in the hadoop2 snapshot?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I would have to go into recent checkins in more detail. This may be answered by a YARN developer.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why we have to do this now?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We have been doing that for the remaining tests. See one example from testSimpleCase():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    Configuration conf = opts.getConfiguration();

    &lt;span class=&quot;code-comment&quot;&gt;// copy or add the necessary configuration values from the map reduce config to the hbase config
&lt;/span&gt;    copyConfigurationValues(UTIL.getConfiguration(), conf);
    args = opts.getRemainingArgs();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;blockquote&gt;&lt;p&gt;Why create a new HBaseConfiguration instance?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I don&apos;t see reference to HBaseConfiguration in TestImportExport. The patch doesn&apos;t introduce HBaseConfiguration either.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How does cluster config relate to UTIL.getConfiguration?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;cluster is a MiniHBaseCluster instance. UTIL is an HBaseTestingUtility where we store all yarn-related conf parameters. So they&apos;re not the same.&lt;br/&gt;
copyConfigurationValues() passes all yarn-related conf parameters from UTIL.getConfiguration() to conf.&lt;/p&gt;</comment>
                            <comment id="13617686" author="stack" created="Fri, 29 Mar 2013 20:23:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;I would have to go into recent checkins in more detail. This may be answered by a YARN developer.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I suppose I could go look myself but I ask because supposedly there was an incompatibility issue.  If tests are now passing, is it because the snapshot has incompatibilities fixed now?  (I suppose I could look for myself but you are supposed to know what is going on here since you are &apos;fixing&apos; it).  Or is it just this config. manipulation that was needed and there is no compatibility problem. &lt;/p&gt;

&lt;p&gt;Would think we would want to answer the above before we had confidence in the commit.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I don&apos;t see reference to HBaseConfiguration in TestImportExport. The patch doesn&apos;t introduce HBaseConfiguration either.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;UTIL.getConfiguration is an HBaseConfiguration.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;cluster is a MiniHBaseCluster instance. UTIL is an HBaseTestingUtility where we store all yarn-related conf parameters.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Where do you think cluster gets its config from?  Isn&apos;t it using UTIL.getConfiguration?&lt;/p&gt;

&lt;p&gt;I was asking questions about the config juggling because to me it looked like the test was doing a bunch of config copying to no useful end; that a little thought might make it so there was less juggling going on.  Would help the developer who comes along after trying to make sense of this test.&lt;/p&gt;</comment>
                            <comment id="13617700" author="yuzhihong@gmail.com" created="Fri, 29 Mar 2013 20:43:42 +0000"  >&lt;p&gt;I looked at the changes in hadoop-2 branch in the past week.&lt;br/&gt;
There were fixes to CapacityScheduler but I think they may not be directly related to the test failures we saw.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Or is it just this config. manipulation that was needed&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think so.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Where do you think cluster gets its config from? Isn&apos;t it using UTIL.getConfiguration?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We obtain cluster at the beginning of the test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void beforeClass() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    cluster = UTIL.startMiniCluster();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Config manipulation happens in UTIL.startMiniMapReduceCluster().&lt;br/&gt;
But startMiniCluster() only calls startMiniDFSCluster(), startMiniZKCluster() and startMiniHBaseCluster(), in that order.&lt;/p&gt;

&lt;p&gt;This is why a little extra manipulation is needed in the tests of TestImportExport.&lt;/p&gt;</comment>
                            <comment id="13617841" author="stack" created="Fri, 29 Mar 2013 22:56:20 +0000"  >&lt;p&gt;I don&apos;t follow at all what you are saying above.  You are not sure what fixed the problem and you present a spaghetti list of how we start up clusters in our test util to conclude &quot;a little extra manipulation is needed...&quot;.&lt;/p&gt;

&lt;p&gt;+1 on patch.   I want to put this issue out of its misery.  Can open a new one if still incompatibility issues running against hadoop2.&lt;/p&gt;</comment>
                            <comment id="13617844" author="yuzhihong@gmail.com" created="Fri, 29 Mar 2013 23:03:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;But startMiniCluster() only calls startMiniDFSCluster(), startMiniZKCluster() and startMiniHBaseCluster(), in that order.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I was just saying that cluster (a MiniHBaseCluster) wouldn&apos;t get its config from UTIL.getConfiguration because the effective config is updated in UTIL.startMiniMapReduceCluster().&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Can open a new one if still incompatibility issues running against hadoop2.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;True. Another JIRA would be needed when 2.0.4-ALPHA is released.&lt;br/&gt;
In the mean time, if we see mapreduce errors using 2.0 SNAPSHOT build, we can provide feedback upstream.&lt;/p&gt;</comment>
                            <comment id="13617958" author="yuzhihong@gmail.com" created="Sat, 30 Mar 2013 02:28:54 +0000"  >&lt;p&gt;Integrated patch v9 to trunk.&lt;/p&gt;

&lt;p&gt;This would use 2.0.4-SNAPSHOT for build on hadoop 2.&lt;/p&gt;

&lt;p&gt;Let&apos;s see what test failures we get on the next HBase-TRUNK-on-Hadoop-2.0.0 build.&lt;/p&gt;</comment>
                            <comment id="13617993" author="hudson" created="Sat, 30 Mar 2013 05:49:08 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #469 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/469/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/469/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Make mapreduce jobs pass based on 2.0.4-alpha (Revision 1462686)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13618127" author="hudson" created="Sat, 30 Mar 2013 18:08:09 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #470 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/470/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/470/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Addendum turns off vmem check (Revision 1462701)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13618220" author="yuzhihong@gmail.com" created="Sun, 31 Mar 2013 03:42:49 +0000"  >&lt;p&gt;From trunk build results on Apache and EC2 Jenkins, mapreduce jobs passed.&lt;/p&gt;

&lt;p&gt;Integrated to 0.95 as well.&lt;/p&gt;</comment>
                            <comment id="13618247" author="hudson" created="Sun, 31 Mar 2013 05:18:09 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #115 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/115/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/115/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Make mapreduce jobs pass based on 2.0.4-alpha (Ted Yu) (Revision 1462873)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13618532" author="hudson" created="Mon, 1 Apr 2013 00:28:57 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #49 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/49/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/49/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Make mapreduce jobs pass based on 2.0.4-alpha (Ted Yu) (Revision 1462873)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13619155" author="apurtell" created="Mon, 1 Apr 2013 20:59:54 +0000"  >&lt;p&gt;Does this change mean that coprocessors will have a different view of configuration than the HRegion itself? I.e. not see updates to configuration via CompoundConfiguration from the schema? &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java	(revision 1461235)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java	(working copy)
@@ -484,7 +484,7 @@
       this.rsAccounting = this.rsServices.getRegionServerAccounting();
       // don&apos;t initialize coprocessors if not running within a regionserver
       // TODO: revisit if coprocessors should load in other cases
-      this.coprocessorHost = new RegionCoprocessorHost(this, rsServices, conf);
+      this.coprocessorHost = new RegionCoprocessorHost(this, rsServices, baseConf);
       this.metricsRegionWrapper = new MetricsRegionWrapperImpl(this);
       this.metricsRegion = new MetricsRegion(this.metricsRegionWrapper);
     } else {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13619158" author="apurtell" created="Mon, 1 Apr 2013 21:03:19 +0000"  >&lt;p&gt;Wait, I just saw the v9 patch has been committed to trunk and 0.95. Why is this JIRA still open? See my above comment. Should this be addressed as an addendum here or as a new JIRA?&lt;/p&gt;</comment>
                            <comment id="13619159" author="sseth" created="Mon, 1 Apr 2013 21:03:53 +0000"  >&lt;p&gt;Posted a summary at &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449?focusedCommentId=13619145&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13619145&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/YARN-449?focusedCommentId=13619145&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13619145&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Did something change in the hadoop2 snapshot? A yarn patch got committed?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Nothing that should&apos;ve affected HBase (given the previous comment about clusters not running in parallel)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I suppose I could go look myself but I ask because supposedly there was an incompatibility issue.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Do you happen to know what this incompatibility was (and against which version) ?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Regarding TestImportExport - I&apos;m not sure why this test is using the HBaseTestingUtility differently than other tests. It was missing setting YARN conf in certain places.&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;We just want something that worked like minimr in hadoop1. We start the cluster do our tests, not in //, then shut down the cluster. I misunderstood you when you said // above. Yes we run our tests in //. We do not set up a minimr cluster once and run tests in // against it.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m still not clear about this. (not so relevant now that the tests are passing, but would be nice to know).&lt;br/&gt;
&quot; Yes we run our tests in //&quot; - this is a little confusing. As an example, can TestTableMapReduce run in parallel with TestHFileOutputFormat ?, or can multiple tests within TestTableMapReduce run in parallel, or something else.&lt;/p&gt;</comment>
                            <comment id="13619162" author="apurtell" created="Mon, 1 Apr 2013 21:05:59 +0000"  >&lt;p&gt;Since I am the &quot;owner&quot; of coprocessors and this patch changes how RegionCoprocessorHost is instantiated, I would really have appreciated a ping. Thanks.&lt;/p&gt;</comment>
                            <comment id="13619175" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 21:15:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why is this JIRA still open?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;0.95 should not ship with 2.0.4-SNAPSHOT build. That was why I left this open.&lt;br/&gt;
If this JIRA is resolved, we can open another JIRA to update pom.xml when 2.0.4-ALPHA is released.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;this patch changes how RegionCoprocessorHost is instantiated&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I exchanged a few emails with Nicolas who was the author of CompoundConfiguration.&lt;br/&gt;
My initial plan was to allow CompoundConfiguration.setClass() to be called. He advised against that approach because CompoundConfiguration was designed to be immutable.&lt;/p&gt;

&lt;p&gt;I understand that the patch changed behavior for RegionCoprocessorHost instantiation. If there is a better approach to solving the issue of running mapreduce job on hadoop 2.0 &lt;b&gt;and&lt;/b&gt; maintaining immutability of CompoundConfiguration, I would be more than happy to adopt.&lt;/p&gt;</comment>
                            <comment id="13619180" author="apurtell" created="Mon, 1 Apr 2013 21:18:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;I understand that the patch changed behavior for RegionCoprocessorHost instantiation. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So you are ok with coprocessors having a different configuration than HRegion? Don&apos;t you forsee issues with that? &lt;/p&gt;</comment>
                            <comment id="13619182" author="apurtell" created="Mon, 1 Apr 2013 21:21:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;0.95 should not ship with 2.0.4-SNAPSHOT build. That was why I left this open.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it is confusing, because the patch on this issue has already been committed to the target branches.&lt;/p&gt;</comment>
                            <comment id="13619186" author="apurtell" created="Mon, 1 Apr 2013 21:22:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;I exchanged a few emails with Nicolas who was the author of CompoundConfiguration.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;All interactions should be on JIRA or on the dev@ or user@ email lists. Decisions made in private communication are against the Apache Way.&lt;/p&gt;</comment>
                            <comment id="13619229" author="stack" created="Mon, 1 Apr 2013 21:57:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you happen to know what this incompatibility was (and against which version) ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;No.  This issue started out as an incompability issue (see original &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; comments at head of issue) and then ended w/ some configuration manipulations that seem gratiuitous.  I ask the author what fixed the issue and I get that they &quot;think&quot; the config. manipulations are all that is necessary.  I have spent a bunch of time trying to follow what is going on here, but gave up, and +1&apos;d it as a means of putting the issue behind us since the patch seemed relatively harmless.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;As an example, can TestTableMapReduce run in parallel with TestHFileOutputFormat ?, or can multiple tests within TestTableMapReduce run in parallel, or something else.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, hbase tests can be run in parallel: e.g. TestTableMapReduce and TestHFileOutputFormat run at same time.  Our surefire runs our test suite by firing off N JVMs each running a distinct, long-running test.&lt;/p&gt;

&lt;p&gt;What we do not do is set up a mini mr cluster and then run many unit tests against.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I exchanged a few emails with Nicolas who was the author of CompoundConfiguration.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; And you say nothing in here about it?  Why do it in private?  They call it open source for a reason.&lt;/p&gt;

&lt;p&gt;Suggest we revert this patch.  Seems broke that CPs see another config. because &quot;Chane to HRegion to not use a &apos;CompoundConfiguration&apos; when talking to HDFS, due to the inability to change the RPC engine with CompoundConfiguration. (Causes several *SecureLoad tests to hang)&quot; according to &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/YARN-449&lt;/a&gt; (a conclusion that is absent here).&lt;/p&gt;
</comment>
                            <comment id="13619234" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 22:01:27 +0000"  >&lt;p&gt;I tried the following change:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java	(revision 1463235)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java	(working copy)
@@ -484,7 +484,7 @@
       &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.rsAccounting = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.rsServices.getRegionServerAccounting();
       &lt;span class=&quot;code-comment&quot;&gt;// don&apos;t initialize coprocessors &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not running within a regionserver
&lt;/span&gt;       &lt;span class=&quot;code-comment&quot;&gt;// TODO: revisit &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; coprocessors should load in other cases
&lt;/span&gt;-      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.coprocessorHost = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegionCoprocessorHost(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, rsServices, baseConf);
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.coprocessorHost = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegionCoprocessorHost(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, rsServices, conf);
       &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metricsRegionWrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsRegionWrapperImpl(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
       &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metricsRegion = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsRegion(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metricsRegionWrapper);
     } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
Index: hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java	(revision 1463235)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java	(working copy)
@@ -121,7 +121,7 @@
     baseStagingDir = SecureBulkLoadUtil.getBaseStagingDir(conf);

     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
-      fs = FileSystem.get(conf);
+      fs = FileSystem.get(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Configuration(conf));
       fs.mkdirs(baseStagingDir, PERM_HIDDEN);
       fs.setPermission(baseStagingDir, PERM_HIDDEN);
       &lt;span class=&quot;code-comment&quot;&gt;//no sticky bit in hadoop-1.0, making directory nonempty so it never gets erased&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But I still got:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-04-01 14:43:38,337 ERROR [IPC Server handler 0 on 52052] access.SecureBulkLoadEndpoint$1(240): Failed to complete bulk load
java.lang.UnsupportedOperationException: Immutable Configuration
  at org.apache.hadoop.hbase.CompoundConfiguration.setClass(CompoundConfiguration.java:474)
  at org.apache.hadoop.ipc.RPC.setProtocolEngine(RPC.java:193)
  at org.apache.hadoop.hdfs.NameNodeProxies.createNNProxyWithClientProtocol(NameNodeProxies.java:249)
  at org.apache.hadoop.hdfs.NameNodeProxies.createNonHAProxy(NameNodeProxies.java:168)
  at org.apache.hadoop.hdfs.NameNodeProxies.createProxy(NameNodeProxies.java:129)
  at org.apache.hadoop.hdfs.DFSClient.&amp;lt;init&amp;gt;(DFSClient.java:421)
  at org.apache.hadoop.hdfs.DFSClient.&amp;lt;init&amp;gt;(DFSClient.java:388)
  at org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:126)
  at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2312)
  at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:87)
  at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2346)
  at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2328)
  at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:352)
  at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:164)
  at org.apache.hadoop.hbase.security.access.SecureBulkLoadEndpoint$1.run(SecureBulkLoadEndpoint.java:224)
  at org.apache.hadoop.hbase.security.access.SecureBulkLoadEndpoint$1.run(SecureBulkLoadEndpoint.java:218)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I also tried this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java	(revision 1463235)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java	(working copy)
@@ -484,7 +484,7 @@
       &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.rsAccounting = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.rsServices.getRegionServerAccounting();
       &lt;span class=&quot;code-comment&quot;&gt;// don&apos;t initialize coprocessors &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not running within a regionserver
&lt;/span&gt;       &lt;span class=&quot;code-comment&quot;&gt;// TODO: revisit &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; coprocessors should load in other cases
&lt;/span&gt;-      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.coprocessorHost = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegionCoprocessorHost(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, rsServices, baseConf);
+      &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.coprocessorHost = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RegionCoprocessorHost(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, rsServices, conf);
       &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metricsRegionWrapper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsRegionWrapperImpl(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;);
       &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metricsRegion = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MetricsRegion(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.metricsRegionWrapper);
     } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
Index: hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java
===================================================================
--- hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java	(revision 1463235)
+++ hbase-server/src/main/java/org/apache/hadoop/hbase/security/access/SecureBulkLoadEndpoint.java	(working copy)
@@ -31,6 +31,7 @@
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.fs.permission.FsPermission;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.Coprocessor;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.CoprocessorEnvironment;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.HBaseConfiguration;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.exceptions.DoNotRetryIOException;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.coprocessor.CoprocessorService;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.hadoop.hbase.coprocessor.RegionCoprocessorEnvironment;
@@ -121,7 +122,9 @@
     baseStagingDir = SecureBulkLoadUtil.getBaseStagingDir(conf);

     &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
-      fs = FileSystem.get(conf);
+      Configuration clone = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Configuration();
+      HBaseConfiguration.merge(clone, conf);
+      fs = FileSystem.get(clone);
       fs.mkdirs(baseStagingDir, PERM_HIDDEN);
       fs.setPermission(baseStagingDir, PERM_HIDDEN);
       &lt;span class=&quot;code-comment&quot;&gt;//no sticky bit in hadoop-1.0, making directory nonempty so it never gets erased&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which led to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-04-01 14:58:10,084 ERROR [RS_OPEN_META-10.10.8.31,52478,1364853486544-0] handler.OpenRegionHandler(463): Failed open of region=.META.,,1.1028785192, starting to roll back the global memstore size.
java.lang.IllegalStateException: Could not instantiate a region instance.
  at org.apache.hadoop.hbase.regionserver.HRegion.newHRegion(HRegion.java:3765)
  at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:4024)
  at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:3975)
  at org.apache.hadoop.hbase.regionserver.HRegion.openHRegion(HRegion.java:3926)
  at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler.openRegion(OpenRegionHandler.java:447)
  at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler.process(OpenRegionHandler.java:129)
  at org.apache.hadoop.hbase.executor.EventHandler.run(EventHandler.java:130)
  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
  at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:680)
Caused by: java.lang.reflect.InvocationTargetException
  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
  at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
  at org.apache.hadoop.hbase.regionserver.HRegion.newHRegion(HRegion.java:3762)
  ... 9 more
Caused by: java.lang.UnsupportedOperationException: Immutable Configuration
  at org.apache.hadoop.hbase.CompoundConfiguration.iterator(CompoundConfiguration.java:437)
  at org.apache.hadoop.hbase.HBaseConfiguration.merge(HBaseConfiguration.java:134)
  at org.apache.hadoop.hbase.security.access.SecureBulkLoadEndpoint.start(SecureBulkLoadEndpoint.java:126)
  at org.apache.hadoop.hbase.coprocessor.CoprocessorHost$Environment.startup(CoprocessorHost.java:669)
  at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.loadInstance(CoprocessorHost.java:328)
  at org.apache.hadoop.hbase.coprocessor.CoprocessorHost.loadSystemCoprocessors(CoprocessorHost.java:154)
  at org.apache.hadoop.hbase.regionserver.RegionCoprocessorHost.&amp;lt;init&amp;gt;(RegionCoprocessorHost.java:145)
  at org.apache.hadoop.hbase.regionserver.HRegion.&amp;lt;init&amp;gt;(HRegion.java:487)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13619238" author="apurtell" created="Mon, 1 Apr 2013 22:08:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;Suggest we revert this patch. Seems broke that CPs see another config.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 for revert&lt;/p&gt;</comment>
                            <comment id="13619240" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 22:09:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Suggest we revert this patch&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree. We should consider a better design first.&lt;br/&gt;
What about the notification that checkin to 0.95 is on hold ?&lt;/p&gt;</comment>
                            <comment id="13619246" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 22:16:50 +0000"  >&lt;p&gt;Another solution I can think of is to expose two Configurations from CoprocessorEnvironment: one that is immutable, the other mutable. The second one would be used for this call:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      fs = FileSystem.get(conf);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;BTW, here is javadoc for FileSystem.get():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   * Get a filesystem instance based on the uri, the passed
   * configuration and the user
   * @param uri of the filesystem
   * @param conf the configuration to use
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I don&apos;t see mentioning that conf cannot be immutable.&lt;/p&gt;</comment>
                            <comment id="13619251" author="stack" created="Mon, 1 Apr 2013 22:22:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ted_yu&quot; class=&quot;user-hover&quot; rel=&quot;ted_yu&quot;&gt;Ted Yu&lt;/a&gt; Please back this out of trunk and 0.95 (I tried but cannot figure what has been committed w/o doing a bunch of work)&lt;/p&gt;</comment>
                            <comment id="13619252" author="apurtell" created="Mon, 1 Apr 2013 22:22:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Another solution I can think of is to expose two Configurations from CoprocessorEnvironment: one that is immutable, the other mutable. The second one would be used for this call&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think that&apos;s closer to a solution. I think what you want is to take the immutable CompoundConfiguration and create a new mutable Configuration with it to pass to the RegionCoprocessorHost constructor, one initialized with the overrides provided by the compound view.&lt;/p&gt;

&lt;p&gt;But I suggest reverting this patch and tackling the issues here with focused JIRAs.&lt;/p&gt;</comment>
                            <comment id="13619259" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 22:30:07 +0000"  >&lt;p&gt;Backed out of 0.95 and trunk.&lt;/p&gt;

&lt;p&gt;Will attach patch v10 soon.&lt;/p&gt;</comment>
                            <comment id="13619261" author="apurtell" created="Mon, 1 Apr 2013 22:32:18 +0000"  >&lt;p&gt;I&apos;m going to close this issue. Let&apos;s deal with the individual items here with JIRAs that focus on them individually.&lt;/p&gt;</comment>
                            <comment id="13619284" author="yuzhihong@gmail.com" created="Mon, 1 Apr 2013 23:00:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449&quot; title=&quot;HBase test failures when running against Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-449&quot;&gt;&lt;del&gt;YARN-449&lt;/del&gt;&lt;/a&gt;, marked Resolved, is linked to this issue.&lt;/p&gt;</comment>
                            <comment id="13619286" author="apurtell" created="Mon, 1 Apr 2013 23:02:16 +0000"  >&lt;p&gt;Unlinked from &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449&quot; title=&quot;HBase test failures when running against Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-449&quot;&gt;&lt;del&gt;YARN-449&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13619354" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 00:07:06 +0000"  >&lt;p&gt;I plan to introduce the following methods to CoprocessorEnvironment and :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /** @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the mutable configuration */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Configuration getMutableConfiguration();

  /** @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the immutable configuration */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Configuration getImmutableConfiguration();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;w.r.t. the existing method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /** @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the configuration */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Configuration getConfiguration();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can either remove it or let it return the immutable config (current behavior).&lt;/p&gt;</comment>
                            <comment id="13619356" author="apurtell" created="Tue, 2 Apr 2013 00:09:09 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I plan to introduce the following methods to CoprocessorEnvironment and :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  /** @return the mutable configuration */
  public Configuration getMutableConfiguration();

  /** @return the immutable configuration */
  public Configuration getImmutableConfiguration();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;

&lt;p&gt;-1, see my above comment. I know you read it, why are you ignoring it?&lt;/p&gt;

&lt;p&gt;-1, this issue is closed.&lt;/p&gt;</comment>
                            <comment id="13619363" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 00:15:48 +0000"  >&lt;p&gt;I think you were referring to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904?focusedCommentId=13619252&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13619252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-7904?focusedCommentId=13619252&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13619252&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SecureBulkLoadEndpoint needs a way to get access to both Configuration&apos;s, right ?&lt;br/&gt;
See the following in SecureBulkLoadEndpoint#start():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    conf = env.getConfiguration();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13619366" author="apurtell" created="Tue, 2 Apr 2013 00:19:14 +0000"  >&lt;p&gt;-1 I won&apos;t discuss this further here, this issue is closed. Kindly open a JIRA to address the SecureBulkLoadEndpoint issue.&lt;/p&gt;</comment>
                            <comment id="13619367" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 00:22:44 +0000"  >&lt;p&gt;@Andy:&lt;br/&gt;
Maybe you&apos;re clear about the new JIRA (title, description, etc)&lt;/p&gt;

&lt;p&gt;If you can open the JIRA, that would be great.&lt;/p&gt;</comment>
                            <comment id="13619370" author="apurtell" created="Tue, 2 Apr 2013 00:26:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you can open the JIRA, that would be great.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Surely this is an April Fool&apos;s joke and not a display of petulance.&lt;/p&gt;</comment>
                            <comment id="13619438" author="hudson" created="Tue, 2 Apr 2013 02:06:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #4005 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/4005/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/4005/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904&quot; title=&quot;Make mapreduce jobs pass based on 2.0.4-alpha&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7904&quot;&gt;&lt;del&gt;HBASE-7904&lt;/del&gt;&lt;/a&gt; Revert, due to concern over coprocessor exposure (Revision 1463326)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/mapreduce/TestImportExport.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13619881" author="yuzhihong@gmail.com" created="Tue, 2 Apr 2013 14:50:55 +0000"  >&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7904?focusedCommentId=13610919&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13610919&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-7904?focusedCommentId=13610919&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13610919&lt;/a&gt; , this JIRA was blocker for 0.95&lt;br/&gt;
Is that no longer the case ?&lt;/p&gt;</comment>
                            <comment id="13620462" author="sseth" created="Wed, 3 Apr 2013 00:52:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;This issue started out as an incompability issue (see original Ted Yu comments at head of issue)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If this was about MiniMRCluster being deprecated, the replacement is MiniMRClientClusterFactory which exists in branch-1 as well. Don&apos;t think this is an incompatible change. If using the new interface, MiniMRClientCluster.getConfig() can be used instead of MiniMRCluster.createJobConf().&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Yes, hbase tests can be run in parallel: e.g. TestTableMapReduce and TestHFileOutputFormat run at same time. Our surefire runs our test suite by firing off N JVMs each running a distinct, long-running test.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Alright. So no parallel tests against a single cluster, but multiple clusters can run at the same time since these two test classes spin up their own clusters. &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5083&quot; title=&quot;MiniMRCluster should use a random component when creating an actual cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5083&quot;&gt;&lt;del&gt;MAPREDUCE-5083&lt;/del&gt;&lt;/a&gt; becomes important to prevent the clusters clobbering each other. Will pull that into the 2.0.4-alpha branch.&lt;/p&gt;

&lt;p&gt;The summary posted over at &lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-449&quot; title=&quot;HBase test failures when running against Hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-449&quot;&gt;&lt;del&gt;YARN-449&lt;/del&gt;&lt;/a&gt; (with these additions) should be enough to get the hbase mapreduce tests passing. I&apos;m guessing the HBase specific changes will eventually make it in via separate jiras.&lt;/p&gt;</comment>
                            <comment id="13621198" author="stack" created="Wed, 3 Apr 2013 19:04:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Will pull that into the 2.0.4-alpha branch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks.  I added an ask to &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-5083&quot; title=&quot;MiniMRCluster should use a random component when creating an actual cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-5083&quot;&gt;&lt;del&gt;MAPREDUCE-5083&lt;/del&gt;&lt;/a&gt;.  I could commit it but sounds like you are more on it... thanks for taking care of us.&lt;/p&gt;

&lt;p&gt;I made &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8258&quot; title=&quot;Make mapreduce tests pass on hadoop2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8258&quot;&gt;&lt;del&gt;HBASE-8258&lt;/del&gt;&lt;/a&gt; for making hbase-side changes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12640563">HBASE-8258</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12576220" name="7904-addendum.txt" size="741" author="yuzhihong@gmail.com" created="Sat, 30 Mar 2013 04:15:03 +0000"/>
                            <attachment id="12575119" name="7904-v2-hadoop-2.0.txt" size="5976" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 21:56:53 +0000"/>
                            <attachment id="12575047" name="7904-v2.txt" size="1307" author="yuzhihong@gmail.com" created="Fri, 22 Mar 2013 17:29:57 +0000"/>
                            <attachment id="12573439" name="7904-v4-hadoop-2.0.txt" size="7262" author="yuzhihong@gmail.com" created="Tue, 12 Mar 2013 23:10:32 +0000"/>
                            <attachment id="12572888" name="7904-v4.txt" size="2592" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 03:18:59 +0000"/>
                            <attachment id="12572792" name="7904-v4.txt" size="2386" author="yuzhihong@gmail.com" created="Fri, 8 Mar 2013 18:28:22 +0000"/>
                            <attachment id="12572961" name="7904-v5-hadoop-2.0.txt" size="7552" author="yuzhihong@gmail.com" created="Sun, 10 Mar 2013 14:07:25 +0000"/>
                            <attachment id="12572858" name="7904-v5.txt" size="2268" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 00:00:23 +0000"/>
                            <attachment id="12575207" name="7904-v6-hadoop-2.0.txt" size="7653" author="yuzhihong@gmail.com" created="Sun, 24 Mar 2013 03:44:25 +0000"/>
                            <attachment id="12575421" name="7904-v7-hadoop-2.0.txt" size="9887" author="yuzhihong@gmail.com" created="Mon, 25 Mar 2013 23:17:07 +0000"/>
                            <attachment id="12575447" name="7904-v8-hadoop-2.0.txt" size="10796" author="yuzhihong@gmail.com" created="Tue, 26 Mar 2013 01:25:02 +0000"/>
                            <attachment id="12575458" name="7904-v8.txt" size="6127" author="yuzhihong@gmail.com" created="Tue, 26 Mar 2013 03:07:35 +0000"/>
                            <attachment id="12575537" name="7904-v9-hadoop-2.0.txt" size="9431" author="yuzhihong@gmail.com" created="Tue, 26 Mar 2013 16:24:54 +0000"/>
                            <attachment id="12575709" name="7904-v9.txt" size="4762" author="yuzhihong@gmail.com" created="Wed, 27 Mar 2013 14:09:55 +0000"/>
                            <attachment id="12570415" name="7904.txt" size="559" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 05:18:22 +0000"/>
                            <attachment id="12572330" name="hbase-7904-v3.txt" size="1210" author="yuzhihong@gmail.com" created="Wed, 6 Mar 2013 15:18:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Feb 2013 05:30:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i6zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>