<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:10:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-3424/HBASE-3424.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-3424] Coprocessors: Add metrics for custom RPC methods called through HTable.coprocessorExec()</title>
                <link>https://issues.apache.org/jira/browse/HBASE-3424</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently HBaseRpcMetrics only reports on known RPC methods in core HBase.  With &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3405&quot; title=&quot;Allow HBaseRpcMetrics to register custom interface methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3405&quot;&gt;&lt;del&gt;HBASE-3405&lt;/del&gt;&lt;/a&gt; we added hooks to register metrics for new methods.  We can make use of these for tabulating metrics on custom CoprocessorProtocol extensions invoked through HTable.coprocessorProxy() and HTable.coprocessorExec().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494874">HBASE-3424</key>
            <summary>Coprocessors: Add metrics for custom RPC methods called through HTable.coprocessorExec()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="7">Later</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ghelmling">Gary Helmling</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jan 2011 19:31:28 +0000</created>
                <updated>Wed, 23 Sep 2015 01:30:15 +0000</updated>
                            <resolved>Wed, 23 Sep 2015 01:30:15 +0000</resolved>
                                                                    <component>Coprocessors</component>
                    <component>IPC/RPC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12998982" author="otis" created="Thu, 24 Feb 2011 18:28:01 +0000"  >&lt;p&gt;I don&apos;t follow if this issue represents something that needs to be implemented?  It sounds like it&apos;s just pointing to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3405&quot; title=&quot;Allow HBaseRpcMetrics to register custom interface methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3405&quot;&gt;&lt;del&gt;HBASE-3405&lt;/del&gt;&lt;/a&gt;.  Or maybe this is a placeholder for future patches for metrics around Coprocessors?&lt;/p&gt;</comment>
                            <comment id="12998988" author="ghelmling" created="Thu, 24 Feb 2011 18:50:35 +0000"  >&lt;p&gt;Sorry, I skipped quite a bit of background explanation here.  Yes, this still needs to be implemented within the coprocessor framework &amp;#8211; specifically within &lt;tt&gt;HRegion.exec()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The idea is that if you define a custom protocol for your coprocessor, like:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public interface RowCountProtocol extends CoprocessorProtocol {
    public long count();
    public long countForQualifier(byte[] family, byte[] qualifier)
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is ultimately invoked on the region server by a call to &lt;tt&gt;HRegionInterface.execCoprocessor()&lt;/tt&gt;.  Current RPC metrics would contains stats for the number of invocations of &lt;tt&gt;execCoprocessor()&lt;/tt&gt; but this doesn&apos;t tell you anything about what &lt;tt&gt;RowCountProtocol&lt;/tt&gt; method was actually invoked.&lt;/p&gt;

&lt;p&gt;So in &lt;tt&gt;HRegion.exec()&lt;/tt&gt; we would add some code to increment metrics on the wrapped &lt;tt&gt;RowCountProtocol&lt;/tt&gt; method being called by &lt;tt&gt;Method.invoke()&lt;/tt&gt;.  Then you would also have individual RPC metrics for &lt;tt&gt;RowCountProtocol.count()&lt;/tt&gt; and &lt;tt&gt;RowCountProtocol.countForQualifier()&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14490631" author="apurtell" created="Sat, 11 Apr 2015 00:41:47 +0000"  >&lt;p&gt;Close this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ghelmling&quot; class=&quot;user-hover&quot; rel=&quot;ghelmling&quot;&gt;Gary Helmling&lt;/a&gt;? I think it&apos;s still interesting but I don&apos;t see anyone getting to it right away.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Feb 2011 18:28:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02es7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>