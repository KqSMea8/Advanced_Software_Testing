<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:17:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-4256/HBASE-4256.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-4256] Intra-row scanning (part deux)</title>
                <link>https://issues.apache.org/jira/browse/HBASE-4256</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Dave Revell was asking on IRC today if there&apos;s a way to scan ranges of &lt;b&gt;qualifiers&lt;/b&gt; within a row. That is, to be able to specify a &lt;b&gt;start qualifier&lt;/b&gt; and an &lt;b&gt;end qualifier&lt;/b&gt; so that the Get or Scan seeks directly to the first qualifier and stops at some point which can be predeterminate by a qualifier or simply a batch configuration (already exists).&lt;/p&gt;

&lt;p&gt;This is particularly useful for large rows with time-based qualifiers.&lt;/p&gt;

&lt;p&gt;Dave also mentioned that another popular database has such a feature that they call &quot;column slices&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12520181">HBASE-4256</key>
            <summary>Intra-row scanning (part deux)</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dave_revell">Dave Revell</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Aug 2011 23:37:08 +0000</created>
                <updated>Fri, 12 Oct 2012 05:35:12 +0000</updated>
                            <resolved>Sat, 19 Nov 2011 04:41:17 +0000</resolved>
                                    <version>0.90.4</version>
                                    <fixVersion>0.94.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13091619" author="stack" created="Fri, 26 Aug 2011 06:14:45 +0000"  >&lt;p&gt;Should include cf too?  So we have setStartRow and setStopRow.  We could add setStartColumnFamily, setStartQualifier and setStartTS... but that gets ugly quick.  setStart(row, cf, qualifier, ts) and setStop?&lt;/p&gt;</comment>
                            <comment id="13091882" author="jdcryans" created="Fri, 26 Aug 2011 17:18:02 +0000"  >&lt;p&gt;Yeah well I wonder if one would even need that sort of facility to be cross-families. Maybe Dave would like to chime in?&lt;/p&gt;</comment>
                            <comment id="13091889" author="dave_revell" created="Fri, 26 Aug 2011 17:28:34 +0000"  >&lt;p&gt;I don&apos;t have any strong feelings about whether this should be cross-column-families or not. I&apos;ll leave that question to wiser HBase folks than me.&lt;/p&gt;</comment>
                            <comment id="13091899" author="stack" created="Fri, 26 Aug 2011 17:45:47 +0000"  >&lt;p&gt;@J-D On cf, I&apos;d say might as well though I see x-cf not so important.  Should be able to spec a timerange though. I see that we can pass one now but we&apos;d need to jigger it so it applied over the qualifier range or if only the one qualifier specified, w/i that qualifier; e.g. imagine a metric w/ 1M versions... you should be able to spec scanning 10k at at aim.  &lt;/p&gt;</comment>
                            <comment id="13125598" author="dave_revell" created="Wed, 12 Oct 2011 05:09:26 +0000"  >&lt;p&gt;Assigned to myself, I&apos;m going to give this a try. I&apos;ll try not to noob too badly.&lt;/p&gt;</comment>
                            <comment id="13149878" author="dave_revell" created="Mon, 14 Nov 2011 20:27:15 +0000"  >&lt;p&gt;I&apos;ve started work on this and I&apos;m having trouble deciding on the best interface. I can see a couple ways that it might work:&lt;/p&gt;

&lt;p&gt;1. Add Scan.setStartQualifier() and Scan.setEndQualifier(). What if the user also uses addColumn(), would we fetch those columns also?&lt;/p&gt;

&lt;p&gt;2. Add Scan.addColumnRange(byte[] start, byte[] end). Could the user specify multiple (possibly overlapping) ranges? Again, would this conflict with addColumn()?&lt;/p&gt;

&lt;p&gt;Any input would be appreciated.&lt;/p&gt;</comment>
                            <comment id="13150048" author="stack" created="Mon, 14 Nov 2011 23:01:16 +0000"  >&lt;p&gt;On 1. I think it depends.&lt;/p&gt;

&lt;p&gt;addColumn can specify a (a) cf only, (b) a cf+qualifier, or a list of (c) cf+qualifiers.&lt;/p&gt;

&lt;p&gt;If (a), then the setStartQualifier/setEndQualifier would return items from within a CF between the specified qualifiers (do you need an &apos;inclusive/exclusive&apos; flag or you just going to have them be both inclusive of specified qualifier?)&lt;/p&gt;

&lt;p&gt;On (b), i&apos;d think that we&apos;d just return the qualifier only IFF it was within the setStartQualifier/setEndQualifier bounds.&lt;/p&gt;

&lt;p&gt;For (c), we&apos;d return members of the list that are inside the setStartQualifier/setEndQualifier bounds.&lt;/p&gt;

&lt;p&gt;I think I prefer 2. api to 1. api.  It maps well to TimeRange.  Its a bit more of a pain specifying &apos;start x to the end of the row&apos; with api 2. but its palatable enough.&lt;/p&gt;

&lt;p&gt;Ditto on how api 2. plays with addColumn.&lt;/p&gt;</comment>
                            <comment id="13150069" author="lhofhansl" created="Mon, 14 Nov 2011 23:22:51 +0000"  >&lt;p&gt;On the other hand API 1 maps better to setStartRow, setStopRow.&lt;br/&gt;
+1 on everything else Stack said.&lt;/p&gt;

&lt;p&gt;Would scanning within a row imply start and end row set? I think it should. To the same row?&lt;br/&gt;
(Or are we saying for all rows returned by the scan returns scan only within these column boundaries?)&lt;br/&gt;
If so, maybe we can combine startRow and startQualifier, ditto for stopRow and endQualifier.&lt;/p&gt;

&lt;p&gt;Or we can start at RowX, QualifierA and scan to RowY, QualifierB? I.e. for all rows between RowX and RowY we&apos;d return all column...&lt;/p&gt;</comment>
                            <comment id="13150088" author="stack" created="Mon, 14 Nov 2011 23:45:47 +0000"  >&lt;p&gt;I like Lars observation of how setStartQualifier maps to setStartRow; i&apos;d say that would tip me in favor of api 1 (mapping setStartRow/setEndRow seems like a better fit than mapping time range).&lt;/p&gt;</comment>
                            <comment id="13150091" author="lhofhansl" created="Mon, 14 Nov 2011 23:59:21 +0000"  >&lt;p&gt;What about the other points? Are we seeing this as:&lt;br/&gt;
1. A way to scan subset of many rows (would be inefficient as we need to reseek at the beginning of every new row)?&lt;br/&gt;
or&lt;br/&gt;
2. A scan strictly within a single row? (should enforce start/endRow set to the same value in this case.)&lt;br/&gt;
or&lt;br/&gt;
3. More control where to start and stop a scan? (leave the scan logic mostly the way it is, and allow a way to seek to a column of a row, and end at a different column in another row).&lt;/p&gt;

&lt;p&gt;#1 makes no sense (to me anyway, but maybe there&apos;s something I didn&apos;t see).&lt;br/&gt;
#3 is a superset of #2. As described above, in this case we could start at RowX:QualA and scan to RowY:QualB, all rows between RowX and RowY would scan all Quals. Can be combined easily with timerange scans.&lt;/p&gt;

&lt;p&gt;I&apos;d be in favor of #3. Or #2 if it turns out to be less work.&lt;/p&gt;</comment>
                            <comment id="13150770" author="gqchen" created="Tue, 15 Nov 2011 20:58:38 +0000"  >&lt;p&gt;Should we consider implementing in filters? We already have a ColumnRangeFilter which does something similar to what we are discussing here. &lt;/p&gt;</comment>
                            <comment id="13150793" author="lhofhansl" created="Tue, 15 Nov 2011 21:36:53 +0000"  >&lt;p&gt;I think the idea is the speed improvement. It is already possible to specify which columns/versions you want in a scan, but the the scan always has to start at the beginning of the row, which might be inefficient for very wide rows.&lt;/p&gt;</comment>
                            <comment id="13150799" author="gqchen" created="Tue, 15 Nov 2011 21:44:23 +0000"  >&lt;p&gt;For ColumnRangeFilter, I believe we seek to the beginning of the start column. &lt;/p&gt;</comment>
                            <comment id="13150910" author="lhofhansl" created="Tue, 15 Nov 2011 23:56:17 +0000"  >&lt;p&gt;You are right (just looked at the code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ). Comes back to my question above then, what do we want to get out of this.&lt;br/&gt;
Personally, we have need here to have finer control over where exactly to start a query and where to stop it.&lt;/p&gt;</comment>
                            <comment id="13153374" author="dave_revell" created="Sat, 19 Nov 2011 04:17:56 +0000"  >&lt;p&gt;ColumnRangeFilter seems to make this ticket obsolete, at least for the use cases I had in mind when originally discussing this ticket. Thanks Lars and Jerry for noticing.&lt;/p&gt;

&lt;p&gt;So I&apos;d be in favor of closing this ticket.&lt;/p&gt;</comment>
                            <comment id="13153377" author="stack" created="Sat, 19 Nov 2011 04:39:31 +0000"  >&lt;p&gt;A bit of doc for the book&lt;/p&gt;</comment>
                            <comment id="13153378" author="stack" created="Sat, 19 Nov 2011 04:41:17 +0000"  >&lt;p&gt;Resolving at Dave&apos;s suggestion (Committed a bit of doc to the book into the &quot;How do I..&quot; section on how to do column slices in hbase&lt;/p&gt;</comment>
                            <comment id="13153379" author="lhofhansl" created="Sat, 19 Nov 2011 04:42:15 +0000"  >&lt;p&gt;I still think being able to start a scanner at a column would be a helpful addition. We had a use case for that with wide tables in one of our POCs, but then reworked the problem. Not sure how general this usecase would be, though.&lt;/p&gt;</comment>
                            <comment id="13153381" author="lhofhansl" created="Sat, 19 Nov 2011 04:43:13 +0000"  >&lt;p&gt;+1 on doc patch.&lt;/p&gt;</comment>
                            <comment id="13153383" author="stack" created="Sat, 19 Nov 2011 04:48:37 +0000"  >&lt;p&gt;Sorry Lars.  Missed your note.  Should we open a more specific issue?&lt;/p&gt;</comment>
                            <comment id="13153386" author="lhofhansl" created="Sat, 19 Nov 2011 04:52:51 +0000"  >&lt;p&gt;Only if there&apos;s a strong need. I think starting a scanner at a column (i.e. seeking to a column in a row) should not be difficult. Stopping at a column might be a bit more tricky, as you&apos;d need know what to do with rows in between.&lt;/p&gt;

&lt;p&gt;Let&apos;s just let this rest &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13153438" author="hudson" created="Sat, 19 Nov 2011 09:41:23 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2460 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2460/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2460/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4256&quot; title=&quot;Intra-row scanning (part deux)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4256&quot;&gt;&lt;del&gt;HBASE-4256&lt;/del&gt;&lt;/a&gt; Intra-row scanning (part deux)&lt;/p&gt;

&lt;p&gt;stack : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/docbkx/book.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12538906">HBASE-5229</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12504331" name="4256.txt" size="1064" author="stack" created="Sat, 19 Nov 2011 04:39:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Aug 2011 06:14:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08qif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>noob</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>