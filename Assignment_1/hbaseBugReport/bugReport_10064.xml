<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:10:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-10064/HBASE-10064.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-10064] AggregateClient.validateParameters can throw NPE</title>
                <link>https://issues.apache.org/jira/browse/HBASE-10064</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When using methods such as max(...), min(...) in AggregationClient&#65292; we will pass Scan as parameter. These methods will throw NullPointerException if users invoke scan.setStartRow(null) or scan.setStopRow(null) before passing the scan as parameter.  The NullPointerException is thrown by validateParameters(Scan scan) which will be invoked before sending requests  to server. The implementation of validateParameters is :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void validateParameters(Scan scan) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (scan == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        || (Bytes.equals(scan.getStartRow(), scan.getStopRow()) &amp;amp;&amp;amp; !Bytes
            .equals(scan.getStartRow(), HConstants.EMPTY_START_ROW))
        || ((Bytes.compareTo(scan.getStartRow(), scan.getStopRow()) &amp;gt; 0) &amp;amp;&amp;amp;
        	!Bytes.equals(scan.getStopRow(), HConstants.EMPTY_END_ROW))) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(
          &lt;span class=&quot;code-quote&quot;&gt;&quot;Agg client Exception: Startrow should be smaller than Stoprow&quot;&lt;/span&gt;);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (scan.getFamilyMap().size() != 1) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;There must be only one family.&quot;&lt;/span&gt;);
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#8220;Bytes.equals(scan.getStartRow(), HConstants.EMPTY_START_ROW)&#8221; will throw NullPointerException if the startRow of scan is set to null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682081">HBASE-10064</key>
            <summary>AggregateClient.validateParameters can throw NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cuijianwei">Jianwei Cui</assignee>
                                    <reporter username="cuijianwei">Jianwei Cui</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Dec 2013 08:52:38 +0000</created>
                <updated>Mon, 30 Dec 2013 04:11:28 +0000</updated>
                            <resolved>Fri, 6 Dec 2013 08:31:14 +0000</resolved>
                                    <version>0.94.14</version>
                                    <fixVersion>0.94.15</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13836377" author="cuijianwei" created="Mon, 2 Dec 2013 09:03:15 +0000"  >&lt;p&gt;This patch resolve the problem by setting startRow/stopRow to EMPTY_START_ROW/EMPTY_END_ROW if user invokes scan.setStartRow(null)/scan.setStopRow(null)&lt;/p&gt;</comment>
                            <comment id="13840136" author="apurtell" created="Thu, 5 Dec 2013 14:56:04 +0000"  >&lt;p&gt;Ok for 0.94 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13840418" author="lhofhansl" created="Thu, 5 Dec 2013 19:02:24 +0000"  >&lt;p&gt;Sure. For something like this I would have a slight preference for&lt;br/&gt;
&lt;tt&gt;this.startRow = startRow == null ? HConstants.EMPTY_START_ROW : startRow&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;But this is fine. +1&lt;/p&gt;</comment>
                            <comment id="13840827" author="cuijianwei" created="Fri, 6 Dec 2013 02:07:23 +0000"  >&lt;p&gt;Thanks for your comments. I aggree with the idea of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; and the code looks more concise. I polish the patch.&lt;/p&gt;</comment>
                            <comment id="13840870" author="apurtell" created="Fri, 6 Dec 2013 02:39:31 +0000"  >&lt;p&gt;Great, thanks for the polish &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cuijianwei&quot; class=&quot;user-hover&quot; rel=&quot;cuijianwei&quot;&gt;Jianwei Cui&lt;/a&gt;. I will commit this shortly unless objection.&lt;/p&gt;</comment>
                            <comment id="13841095" author="apurtell" created="Fri, 6 Dec 2013 08:30:42 +0000"  >&lt;p&gt;What I committed to 0.94 branch.&lt;/p&gt;</comment>
                            <comment id="13841556" author="hudson" created="Fri, 6 Dec 2013 19:02:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1219 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1219/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1219/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10064&quot; title=&quot;AggregateClient.validateParameters can throw NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10064&quot;&gt;&lt;del&gt;HBASE-10064&lt;/del&gt;&lt;/a&gt;. AggregateClient.validateParameters can throw NPE (cuijianwei) (apurtell: rev 1548416)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13841557" author="hudson" created="Fri, 6 Dec 2013 19:03:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94-security #353 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/353/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/353/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10064&quot; title=&quot;AggregateClient.validateParameters can throw NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10064&quot;&gt;&lt;del&gt;HBASE-10064&lt;/del&gt;&lt;/a&gt;. AggregateClient.validateParameters can throw NPE (cuijianwei) (apurtell: rev 1548416)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/client/Scan.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617358" name="10064-0.94.patch" size="729" author="apurtell" created="Fri, 6 Dec 2013 08:30:42 +0000"/>
                            <attachment id="12616519" name="HBASE-10064-0.94-v1.patch" size="2307" author="cuijianwei" created="Mon, 2 Dec 2013 09:03:15 +0000"/>
                            <attachment id="12617303" name="HBASE-10064-0.94-v2.patch" size="1265" author="cuijianwei" created="Fri, 6 Dec 2013 02:07:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Dec 2013 14:56:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qadj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>