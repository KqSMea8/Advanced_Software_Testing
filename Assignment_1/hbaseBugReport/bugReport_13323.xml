<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:42:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13323/HBASE-13323.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13323] Audit behavior heterogenous node capacity</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13323</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;From the thread &quot;introducing nodes w/ more storage&quot; (&lt;a href=&quot;http://search-hadoop.com/m/DHED4azyle2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search-hadoop.com/m/DHED4azyle2&lt;/a&gt;), we should have a look at what happens when nodes of varying data density are used in a single cluster. The user would expect that nodes be filled according to their capacity, meaning an &quot;even distribution&quot; looks like all nodes at the same pct use. This behavior is probably in the intersection of hbase balancer and hdfs balancer. Probably this is made more complex by recent HDFS features such as &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-5682&quot; title=&quot;Heterogeneous Storage phase 2 - APIs to expose Storage Types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-5682&quot;&gt;&lt;del&gt;HDFS-5682&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;After investigation, let&apos;s fix it up to work better (if it&apos;s broken), and document the behavior in our awesome book.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785214">HBASE-13323</key>
            <summary>Audit behavior heterogenous node capacity</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ndimiduk">Nick Dimiduk</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Tue, 24 Mar 2015 16:22:00 +0000</created>
                <updated>Thu, 2 Apr 2015 22:57:04 +0000</updated>
                                                                            <component>Balancer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14378668" author="apurtell" created="Tue, 24 Mar 2015 21:29:27 +0000"  >&lt;p&gt;I think currently the HDFS balancer should be considered harmful (in larger deploys), see &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-7967&quot; title=&quot;Reduce the performance impact of the balancer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-7967&quot;&gt;HDFS-7967&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14384114" author="msegel" created="Fri, 27 Mar 2015 16:42:05 +0000"  >&lt;p&gt;I don&apos;t know that you can say that the HDFS balancer is harmful. &lt;br/&gt;
You&apos;re running HBase on top of HDFS so you have to live with the quirks of HDFS (balancer, worm, etc ...) &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-7967&quot; title=&quot;Reduce the performance impact of the balancer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-7967&quot;&gt;HDFS-7967&lt;/a&gt; is a symptom of not thinking about the underlying FS and its impact on HBase. &lt;/p&gt;

&lt;p&gt;Its important to think about the interaction of HDFS and HBase and to walk through the issue, discussing the issue, long before your fingers touch the keyboard to pound out code. &lt;/p&gt;

&lt;p&gt;The reason I started to ask the questions is that there aren&apos;t really any good discussions on this interaction. &lt;/p&gt;
</comment>
                            <comment id="14392667" author="kevin.odell" created="Thu, 2 Apr 2015 12:51:06 +0000"  >&lt;p&gt;Andrew,&lt;/p&gt;

&lt;p&gt;  I do agree that &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-7967&quot; title=&quot;Reduce the performance impact of the balancer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-7967&quot;&gt;HDFS-7967&lt;/a&gt; will add more complexity to the HDFS balancer, but as I recently added to the mailing list, it is still a manual process.  The HDFS balancer is rarely ran, usually when nodes are added or removed.  I am just throwing this out, but a reasonably simple implementation would be to add a way to limit the number of regions per RS.  This way you could allow for more regions to be served off of larger nodes.  This would help to limit the capacity used by the small storage nodes.  The main difficulty with this approach would be handling failure scenarios, I am thinking of losing a rack.  This could create an influx of regions to nodes causing them to run over their limit.  The setting could be a &quot;best effort&quot; similar to slop was for the table balancer.&lt;/p&gt;</comment>
                            <comment id="14393664" author="apurtell" created="Thu, 2 Apr 2015 22:57:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;You&apos;re running HBase on top of HDFS so you have to live with the quirks of HDFS (balancer, worm, etc ...) &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-7967&quot; title=&quot;Reduce the performance impact of the balancer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-7967&quot;&gt;HDFS-7967&lt;/a&gt; is a symptom of not thinking about the underlying FS and its impact on HBase.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Maybe you are thinking of another issue? I don&apos;t think HBase is involved on that one. &lt;/p&gt;

&lt;p&gt;If you can&apos;t run the balancer on a large cluster because it will mount a DoS on the NameNode, it should be considered harmful. But that&apos;s an implementation problem that can be fixed.&lt;/p&gt;

&lt;p&gt;I don&apos;t think the balancer is a problem for HBase as long as you&apos;re running a recent enough HDFS including &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-6133&quot; title=&quot;Add a feature for replica pinning so that a pinned replica will not be moved by Balancer/Mover.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-6133&quot;&gt;&lt;del&gt;HDFS-6133&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Mar 2015 21:29:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27abr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>