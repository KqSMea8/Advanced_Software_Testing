<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:26:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11769/HBASE-11769.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11769] Truncate table shouldn&apos;t revoke user privileges</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11769</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;hbase(main):002:0&amp;gt; create &apos;a&apos;,&apos;cf&apos;&lt;br/&gt;
0 row(s) in 0.2500 seconds&lt;/p&gt;

&lt;p&gt;=&amp;gt; Hbase::Table - a&lt;br/&gt;
hbase(main):003:0&amp;gt; grant &apos;usera&apos;,&apos;R&apos;,&apos;a&apos;&lt;br/&gt;
0 row(s) in 0.2080 seconds&lt;/p&gt;

&lt;p&gt;hbase(main):007:0&amp;gt; user_permission &apos;a&apos;&lt;br/&gt;
User                                                           Table,Family,Qualifier:Permission                                                                                                                                                      &lt;br/&gt;
 usera                                                         a,,: &lt;span class=&quot;error&quot;&gt;&amp;#91;Permission: actions=READ&amp;#93;&lt;/span&gt;                                                                                                                                                        &lt;/p&gt;

&lt;p&gt;hbase(main):004:0&amp;gt; truncate &apos;a&apos;&lt;br/&gt;
Truncating &apos;a&apos; table (it may take a while):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Disabling table...&lt;/li&gt;
	&lt;li&gt;Dropping table...&lt;/li&gt;
	&lt;li&gt;Creating table...&lt;br/&gt;
0 row(s) in 1.5320 seconds&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;hbase(main):005:0&amp;gt; user_permission &apos;a&apos;&lt;br/&gt;
User                                                           Table,Family,Qualifier:Permission                                                                                                                                                      &lt;/p&gt;



</description>
                <environment></environment>
        <key id="12734733">HBASE-11769</key>
            <summary>Truncate table shouldn&apos;t revoke user privileges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hongyu.bi">hongyu bi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Aug 2014 10:07:34 +0000</created>
                <updated>Wed, 1 Oct 2014 21:20:34 +0000</updated>
                            <resolved>Wed, 1 Oct 2014 21:20:34 +0000</resolved>
                                    <version>0.94.15</version>
                                                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14100546" author="jmspaggi" created="Mon, 18 Aug 2014 11:29:58 +0000"  >&lt;p&gt;Make sense to me.&lt;/p&gt;

&lt;p&gt;There is also a truncate which preserves the splits. You might want to modify this one too. (truncate_preserve)&lt;/p&gt;</comment>
                            <comment id="14100559" author="tobe" created="Mon, 18 Aug 2014 12:02:47 +0000"  >&lt;p&gt;Agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;. Truncate_preserve works well without removing the privilieges.&lt;/p&gt;

&lt;p&gt;Won&apos;t fix, right?&lt;/p&gt;</comment>
                            <comment id="14100564" author="mbertozzi" created="Mon, 18 Aug 2014 12:06:54 +0000"  >&lt;p&gt;truncate preserve only preserve the set of region splits.&lt;br/&gt;
Since the shell does a delete table + create table that will always remove the ACLs&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8332&quot; title=&quot;Add truncate as HMaster method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8332&quot;&gt;&lt;del&gt;HBASE-8332&lt;/del&gt;&lt;/a&gt; fixed the problem by adding a truncate API which bypass the delete table/acls.&lt;/p&gt;</comment>
                            <comment id="14100575" author="jmspaggi" created="Mon, 18 Aug 2014 12:16:33 +0000"  >&lt;p&gt;Just to be clear, I was not saying that preserve did or did not preserved privileges, was just that we might want to look it too.&lt;/p&gt;

&lt;p&gt;So for the purpose of this patch, should Honguy simply update ruby scripts to call the new API provided by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8332&quot; title=&quot;Add truncate as HMaster method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8332&quot;&gt;&lt;del&gt;HBASE-8332&lt;/del&gt;&lt;/a&gt;? Might be cleaner than having 2 implementations (One in ruby one in java) for the same feature?&lt;/p&gt;</comment>
                            <comment id="14100964" author="apurtell" created="Mon, 18 Aug 2014 18:05:01 +0000"  >&lt;p&gt;Dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11596&quot; title=&quot;[Shell] Recreate table grants after truncate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11596&quot;&gt;&lt;del&gt;HBASE-11596&lt;/del&gt;&lt;/a&gt; (which itself is at least partially a dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8332&quot; title=&quot;Add truncate as HMaster method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8332&quot;&gt;&lt;del&gt;HBASE-8332&lt;/del&gt;&lt;/a&gt;, but would need a backport to 0.94)&lt;/p&gt;</comment>
                            <comment id="14104042" author="jmspaggi" created="Wed, 20 Aug 2014 15:45:34 +0000"  >&lt;p&gt;Then should this JIRA be considered as a rebase of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11596&quot; title=&quot;[Shell] Recreate table grants after truncate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11596&quot;&gt;&lt;del&gt;HBASE-11596&lt;/del&gt;&lt;/a&gt; on 0.94?&lt;/p&gt;</comment>
                            <comment id="14104056" author="mbertozzi" created="Wed, 20 Aug 2014 15:50:24 +0000"  >&lt;p&gt;you can&apos;t backport that, since it will change the behavior of truncate.&lt;br/&gt;
and if you want to keep the compatibility, you&apos;ll end up with older clients behaving in a way and the new clients in a different way.&lt;/p&gt;</comment>
                            <comment id="14104062" author="jmspaggi" created="Wed, 20 Aug 2014 15:52:34 +0000"  >&lt;p&gt;Got it. So should we implement something like trunc_with_permission? To keep existing behavior and have the option. Or since it&apos;s only 0.94 we will simply keep it the way it is and recommend people to move to 0.98?&lt;/p&gt;</comment>
                            <comment id="14155556" author="apurtell" created="Wed, 1 Oct 2014 21:20:34 +0000"  >&lt;p&gt;Dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-12142&quot; title=&quot;Truncate command does not preserve ACLs table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-12142&quot;&gt;&lt;del&gt;HBASE-12142&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12631136">HBASE-7782</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12745323">HBASE-12142</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Aug 2014 11:29:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yzpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>