<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:51:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14237/HBASE-14237.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14237] Meta region may be onlined on multi regonservers for bugs of assigning meta</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14237</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When a regionserver failed to open the meta region and crash after setting the RS_ZK_REGION_FAILED_OPEN state of meta region in zookeeper, the master will handle the event of RS_ZK_REGION_FAILED_OPEN and try to assign the meta region again in AssignmentManager#handleRegion. But at the same time, the master will handle the regionserver expired event and start a MetaServerShutdownHandler for the regionserver, because the servername of regionserver is same as the servername of the unassigned node of meta region. In the MetaServerShutdownHandler, the meta region may be assigned for second time.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=heliangliang&quot; class=&quot;user-hover&quot; rel=&quot;heliangliang&quot;&gt;He Liangliang&lt;/a&gt;&lt;br/&gt;
We have encountered this problem in our production cluster which resulted in inconsistency of region location in meta table. You can see the log from the attachment.&lt;/p&gt;

&lt;p&gt;The code of AssignmentManager is so complex and I have not get a solution to fix this problem. Could someone kindly help to give some suggestions? Thanks&lt;/p&gt;</description>
                <environment></environment>
        <key id="12856878">HBASE-14237</key>
            <summary>Meta region may be onlined on multi regonservers for bugs of assigning meta</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="liushaohui">Liu Shaohui</assignee>
                                    <reporter username="liushaohui">Liu Shaohui</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Aug 2015 10:16:13 +0000</created>
                <updated>Wed, 19 Aug 2015 03:49:37 +0000</updated>
                                            <version>0.94.11</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14701040" author="liushaohui" created="Tue, 18 Aug 2015 10:16:56 +0000"  >&lt;p&gt;RegionServer log for this issue&lt;/p&gt;</comment>
                            <comment id="14701808" author="ndimiduk" created="Tue, 18 Aug 2015 19:12:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=liushaohui&quot; class=&quot;user-hover&quot; rel=&quot;liushaohui&quot;&gt;Liu Shaohui&lt;/a&gt;. I have to ask the question &amp;#8211; any chance you can upgrade to a 0.98+ release? If I remember the history correctly, our Chaos Monkey test harness was introduced after 0.94. Many bugs in AM have been found and fixed via this testing on newer branches. We&apos;ve back ported what&apos;s been possible, but at this point the AM in 0.94 is very different from more recent versions.&lt;/p&gt;</comment>
                            <comment id="14702401" author="liushaohui" created="Wed, 19 Aug 2015 03:49:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Any chance you can upgrade to a 0.98+ release?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, we are trying to upgrade our online hbase clusters to 0.98+. But for the clusters are serving online applications, we must be very careful and it will cost a long time.&lt;/p&gt;

&lt;p&gt;Thanks for providing so useful info about AM. &lt;br/&gt;
With hacking some codes,  I will validate if this issue exists in 0.98+ versions.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12751004" name="meta.log" size="2182" author="liushaohui" created="Tue, 18 Aug 2015 10:16:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Aug 2015 19:12:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j1pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>