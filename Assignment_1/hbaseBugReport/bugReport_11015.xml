<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:19:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-11015/HBASE-11015.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-11015] Some refactoring on MemStoreFlusher</title>
                <link>https://issues.apache.org/jira/browse/HBASE-11015</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Use `ScheduledThreadPoolExecutor`&lt;br/&gt;
Change some logic&lt;br/&gt;
Add testcase&lt;/p&gt;</description>
                <environment></environment>
        <key id="12709057">HBASE-11015</key>
            <summary>Some refactoring on MemStoreFlusher</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="eclark">Elliott Clark</assignee>
                                    <reporter username="daviddengfb">@deprecated Yi Deng</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 17 Apr 2014 14:24:03 +0000</created>
                <updated>Mon, 6 Apr 2015 19:52:08 +0000</updated>
                            <resolved>Mon, 6 Apr 2015 19:52:08 +0000</resolved>
                                                    <fixVersion>0.89-fb</fixVersion>
                                    <component>io</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13972982" author="daviddengfb" created="Thu, 17 Apr 2014 14:27:40 +0000"  >&lt;p&gt;This patch was supposed to fix some bugs introduced by another submit, which tried add function of online change the number of flushing threads. &lt;/p&gt;

&lt;p&gt;Some refactoring jobs are also included in this diff.&lt;/p&gt;</comment>
                            <comment id="13972985" author="hadoopqa" created="Thu, 17 Apr 2014 14:34:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12640640/D1264374.diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12640640/D1264374.diff.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;br/&gt;
  ATTACHMENT ID: 12640640&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/9315//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/9315//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13972986" author="daviddengfb" created="Thu, 17 Apr 2014 14:36:49 +0000"  >&lt;p&gt;I should not have click on &quot;submit patch&quot; when I wanted to attach a file.&lt;/p&gt;</comment>
                            <comment id="13973342" author="stack" created="Thu, 17 Apr 2014 20:13:57 +0000"  >&lt;p&gt;Thanks for the patch Yi Deng.&lt;/p&gt;

&lt;p&gt;Why you making the change?  You have numbers or a use case you are improving for or is it just an &apos;itch&apos;?&lt;/p&gt;

&lt;p&gt;Rather than HRegionIf, maybe call it &apos;Region&apos;?  (See where we have Store and HStore as the implementation).&lt;/p&gt;

&lt;p&gt;No need to put HSTORE_BLOCKING_STORE_FILES_KEY in HConstants?  Put into class where it is used in MSFlusher? (HConstants is a bit of anti-pattern &amp;#8211; good for constants used in many packages)&lt;/p&gt;


&lt;p&gt;Does this need to be in HRegion as a public method:&lt;/p&gt;

&lt;p&gt;+  public int maxStoreFilesCount() {&lt;/p&gt;

&lt;p&gt;Would a utiltiy method do here instead?  (Should be called getMaxStoreFileCount?)  &lt;/p&gt;

&lt;p&gt;Look at other Interfaces in HBase.  See how they do not have the public qualifiers.  I bring it up because a kind heart went through all of our Interfaces and removed the &apos;public&apos; qualifiers intentionally (They are not needed on Interfaces).&lt;/p&gt;

&lt;p&gt;On this:&lt;/p&gt;

&lt;p&gt;HRegionServerIf&lt;/p&gt;

&lt;p&gt;There is a RegionServerServices interface all ready?  You didn&apos;t want to use that?&lt;/p&gt;

&lt;p&gt;How are these done currently?  The Master runs them IIRC?&lt;/p&gt;

&lt;p&gt;+  /**&lt;br/&gt;
+   * Requests the region server to make a split on a specific region-store.&lt;br/&gt;
+   */&lt;br/&gt;
+  public boolean requestSplit(HRegionIf r);&lt;br/&gt;
+&lt;br/&gt;
+  /**&lt;br/&gt;
+   * Requests the region server to make a compaction on a specific region-store.&lt;br/&gt;
+   *&lt;br/&gt;
+   * @param r the region-store.&lt;br/&gt;
+   * @param why Why compaction requested &amp;#8211; used in debug messages&lt;br/&gt;
+   */&lt;br/&gt;
+  public void requestCompaction(HRegionIf r, String why);&lt;/p&gt;

&lt;p&gt;I reviewed about half of the patch. &lt;/p&gt;</comment>
                            <comment id="13973868" author="daviddengfb" created="Fri, 18 Apr 2014 08:08:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saint.ack%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;saint.ack@gmail.com&quot;&gt;Stack&lt;/a&gt; This is a patch based on HBase version of Facebook internal. I attached the file because someone else like to have a look.&lt;/p&gt;</comment>
                            <comment id="14481758" author="eclark" created="Mon, 6 Apr 2015 19:52:08 +0000"  >&lt;p&gt;0.89-fb is no longer being actively maintained. If issues persist open an issue against the current master or stable versions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12640640" name="D1264374.diff.txt" size="47946" author="daviddengfb" created="Thu, 17 Apr 2014 14:29:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Apr 2014 14:34:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uqdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>