<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 19:46:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7546/HBASE-7546.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7546] Obtain a table read lock on region split operations</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7546</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;As discussed in the parent issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;, we should be coordinating between splits and table operations to ensure that they don&apos;t happen at the same time. In this issue we will acquire shared read locks for region splits. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12627262">HBASE-7546</key>
            <summary>Obtain a table read lock on region split operations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2013 21:44:07 +0000</created>
                <updated>Mon, 23 Sep 2013 18:30:41 +0000</updated>
                            <resolved>Thu, 21 Mar 2013 00:29:08 +0000</resolved>
                                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13560122" author="enis" created="Tue, 22 Jan 2013 22:34:07 +0000"  >&lt;p&gt;Attaching candidate patch. This depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13578158" author="enis" created="Thu, 14 Feb 2013 05:00:18 +0000"  >&lt;p&gt;Rebased on top of recent patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Tested this on a 4 node cluster with 10MB flush and split size, and altering table constantly. #regions started with 20 and ended with ~160. &lt;/p&gt;</comment>
                            <comment id="13578191" author="lhofhansl" created="Thu, 14 Feb 2013 07:07:00 +0000"  >&lt;p&gt;What&apos;s your thought w.r.t. to 0.94, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt; is a pretty big change, maybe that&apos;s where we draw line between 0.94 and 0.96?&lt;/p&gt;</comment>
                            <comment id="13578242" author="enis" created="Thu, 14 Feb 2013 08:47:39 +0000"  >&lt;p&gt;I&apos;m fine with this not going in 0.94. It is indeed a new feature to fix concurrent table operations and splits. One option might be to add this disabled by default, if there is interest. I would do the porting anyway, but perfectly fine if we decide to leave it out. &lt;/p&gt;</comment>
                            <comment id="13583731" author="enis" created="Fri, 22 Feb 2013 00:20:54 +0000"  >&lt;p&gt;Now that table locks are in (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;), can we get any love for this. &lt;/p&gt;</comment>
                            <comment id="13583747" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 00:39:14 +0000"  >&lt;p&gt;12 out of 12 hunks ignored &amp;#8211; saving rejects to file hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java.rej&lt;/p&gt;

&lt;p&gt;Mind rebasing ?&lt;/p&gt;</comment>
                            <comment id="13583755" author="yuzhihong@gmail.com" created="Fri, 22 Feb 2013 00:47:05 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      &lt;span class=&quot;code-comment&quot;&gt;//acquire a shared read lock on the table, so that table schema modifications
&lt;/span&gt;+      &lt;span class=&quot;code-comment&quot;&gt;//does not happen concurrently&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&apos;does not&apos; -&amp;gt; &apos;do not&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(IOException ex) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;nit: insert space after &apos;catch&apos;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
+        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not release the table lock&quot;&lt;/span&gt;, ex);
+        &lt;span class=&quot;code-comment&quot;&gt;//TODO: &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we get here, and not abort RS, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; lock will never be released&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What&apos;s your plan for above situation ?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-comment&quot;&gt;// Table level lock manager &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; read locking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region operations
&lt;/span&gt;+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; TableLockManager tableLockManager;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The lock manager can also be used for write locking, right ?&lt;/p&gt;</comment>
                            <comment id="13583818" author="enis" created="Fri, 22 Feb 2013 02:06:29 +0000"  >&lt;p&gt;Thanks Ted, I&apos;ve addressed your comments in the next patch. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;What&apos;s your plan for above situation ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is a bit tricky. The difference between local locks and distributed locks is that, release() can fail in a distributed setup. In this case, and in master&apos;s operations, if delete() fails, the lock will be left as acquired until the zookeeper session expires (lock znodes are EPHEMERAL). The assumption here is that if we fail to delete (using RecoverableZooKeeper), we will probably abort anyway due to session expiry from other events. Curator has a nice delete guarantee, that it queues up the deletes, and as long as there is session, it tries the deletes. We don&apos;t have that right now, and I think we can live with best effort for now. If we encounter lingering locks, we can fix it separately, wdyt? &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The lock manager can also be used for write locking, right ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, but we are only using it to acquire read locks for splits for now. Changed the comment to reflect that. &lt;/p&gt;</comment>
                            <comment id="13584598" author="enis" created="Fri, 22 Feb 2013 19:50:11 +0000"  >&lt;p&gt;Updated patch with Ted&apos;s comments&lt;/p&gt;</comment>
                            <comment id="13584924" author="stack" created="Sat, 23 Feb 2013 01:21:22 +0000"  >

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not release the table lock&quot;&lt;/span&gt;, ex);
+        &lt;span class=&quot;code-comment&quot;&gt;//TODO: &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we get here, and not abort RS, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; lock will never be released&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Abort if we are not already aborting?  Would be reason to adopt curator.&lt;/p&gt;

&lt;p&gt;+1 on patch even w/o the above change.&lt;/p&gt;</comment>
                            <comment id="13585078" author="ram_krish" created="Sat, 23 Feb 2013 10:02:02 +0000"  >&lt;p&gt;I think this read lock will be needed for SPLIT.  There is no protection from avoiding split to happen while enable/disable is going on right?&lt;/p&gt;</comment>
                            <comment id="13585331" author="enis" created="Sun, 24 Feb 2013 09:33:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think this read lock will be needed for SPLIT. There is no protection from avoiding split to happen while enable/disable is going on right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, this patch basically introduces acquiring read lock on the table during split. Table enable/disable acquires a write lock. &lt;/p&gt;</comment>
                            <comment id="13591160" author="yuzhihong@gmail.com" created="Sat, 2 Mar 2013 00:49:36 +0000"  >&lt;p&gt;Table split modifies table metadata. I tend to think that a write lock is more appropriate in this scenario.&lt;/p&gt;

&lt;p&gt;Table snapshot, on the other hand, doesn&apos;t change table metadata. A read lock would fit.&lt;/p&gt;

&lt;p&gt;This way, we achieve mutual exclusion between the two operations.&lt;/p&gt;</comment>
                            <comment id="13591255" author="yuzhihong@gmail.com" created="Sat, 2 Mar 2013 03:37:49 +0000"  >&lt;p&gt;Over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7977&quot; title=&quot;Online merge should acquire table lock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7977&quot;&gt;&lt;del&gt;HBASE-7977&lt;/del&gt;&lt;/a&gt;, a table write lock is proposed for online merge.&lt;/p&gt;

&lt;p&gt;I wonder what is the rationale behind the difference in types of table lock between merge and split. To me, these operations modify table structure in a similar, yet opposite way.&lt;/p&gt;</comment>
                            <comment id="13606988" author="enis" created="Tue, 19 Mar 2013 22:56:29 +0000"  >&lt;p&gt;Attaching a rebased patch. I wanted to test this one more time to make sure, which was why I did not commit it for some time. &lt;/p&gt;

&lt;p&gt;Quoting from the updated design doc attached at &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt;: &lt;/p&gt;

&lt;p&gt;Unit tests&lt;br/&gt;
TestZKInterProcessReadWriteLock&lt;br/&gt;
Tests the pure zk lock implementation. &lt;br/&gt;
TestTableLockManager&lt;br/&gt;
public void testAlterAndDisable() throws Exception &lt;/p&gt;
{
    // Send a request to alter a table, then sleep during
    // the alteration phase. In the mean time, from another
    // thread, send a request to disable, and then delete a table.
}
&lt;p&gt; public void testTableReadLock() throws Exception &lt;/p&gt;
{
   // test plan: write some data to the table. Continuously alter the table and
   // force splits
   // concurrently until we have 10 regions. verify the data just in case.
   // Every region should contain the same table descriptor
   // This is not an exact test
}
&lt;p&gt;Sytem tests&lt;/p&gt;

&lt;p&gt;Manual tests in 4 node cluster with 10MB flush and split size, and altering table constantly. #regions started with 20 and ended with ~160. The load is created with LoadTestTool.&lt;/p&gt;

&lt;p&gt;On 5 node cluster, with 100MB flush size and split size, I tested the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305&quot; title=&quot;ZK based Read/Write locks for table operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7305&quot;&gt;&lt;del&gt;HBASE-7305&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7546&quot; title=&quot;Obtain a table read lock on region split operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7546&quot;&gt;&lt;del&gt;HBASE-7546&lt;/del&gt;&lt;/a&gt; with IntegrationTestBigLinkedList and ChaosMonkey. A total of 125M rows was inserted and verified without any problems. The number of regions went from 1 to several hundred. I also did 1 or 2 alter tables manually. &lt;/p&gt;

&lt;p&gt;I think Stack already +1&apos;d v3 (this is just a rebase). I will commit if hadoopqa passes, and no objections of course. &lt;/p&gt;</comment>
                            <comment id="13606995" author="yuzhihong@gmail.com" created="Tue, 19 Mar 2013 23:03:39 +0000"  >&lt;p&gt;See my comments on Mar 2nd.&lt;/p&gt;

&lt;p&gt;I think a write lock makes more sense.&lt;/p&gt;</comment>
                            <comment id="13607004" author="enis" created="Tue, 19 Mar 2013 23:15:12 +0000"  >&lt;p&gt;Ted, I thought &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12574427/HBaseTableLocks_v2.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12574427/HBaseTableLocks_v2.pdf&lt;/a&gt; addressed your comments. From section Read Lock vs Write Lock:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Read lock means that it is a shared lock, while write lock is an exclusive lock. We want region splits to acquire a read lock on the table, since we want concurrent splits happening at the same time. Remember only read lock is shared, write lock is exclusive. So for operations that we want to happen concurrently (like region splits) we want to acquire a read lock.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13607007" author="yuzhihong@gmail.com" created="Tue, 19 Mar 2013 23:18:28 +0000"  >&lt;p&gt;Along this line, online merge should obtain read lock as well - we should allow regions (R1, R2) and (R3, R4) to be merged simultaneously (R1 and R2 are adjacent, R3 and R4 are adjacent)&lt;/p&gt;</comment>
                            <comment id="13607017" author="enis" created="Tue, 19 Mar 2013 23:24:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Along this line, online merge should obtain read lock as well - we should allow regions (R1, R2) and (R3, R4) to be merged simultaneously (R1 and R2 are adjacent, R3 and R4 are adjacent)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, see my comments here: &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7305?focusedCommentId=13605886&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13605886&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-7305?focusedCommentId=13605886&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13605886&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13608280" author="hadoopqa" created="Wed, 20 Mar 2013 21:52:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12574431/hbase-7546_v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12574431/hbase-7546_v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4922//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4922//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13608348" author="enis" created="Wed, 20 Mar 2013 22:41:24 +0000"  >&lt;p&gt;Rebased patch. &lt;/p&gt;</comment>
                            <comment id="13608421" author="hadoopqa" created="Wed, 20 Mar 2013 23:55:49 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12574659/hbase-7546_v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12574659/hbase-7546_v6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 9 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestHTableMultiplexer&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4924//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13608443" author="enis" created="Thu, 21 Mar 2013 00:23:43 +0000"  >&lt;p&gt;Run TestHTableMultiplexer 2 times locally, does not seem related. Will commit the patch shortly. &lt;/p&gt;</comment>
                            <comment id="13608451" author="enis" created="Thu, 21 Mar 2013 00:29:08 +0000"  >&lt;p&gt;Committed this to trunk and 0.95. Thanks for the reviews. &lt;/p&gt;</comment>
                            <comment id="13608537" author="hudson" created="Thu, 21 Mar 2013 02:09:47 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #35 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/35/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/35/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7546&quot; title=&quot;Obtain a table read lock on region split operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7546&quot;&gt;&lt;del&gt;HBASE-7546&lt;/del&gt;&lt;/a&gt; Obtain a table read lock on region split operations (Revision 1459103)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/TableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestTableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13608551" author="hudson" created="Thu, 21 Mar 2013 02:33:32 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3979 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3979/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3979/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7546&quot; title=&quot;Obtain a table read lock on region split operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7546&quot;&gt;&lt;del&gt;HBASE-7546&lt;/del&gt;&lt;/a&gt; Obtain a table read lock on region split operations (Revision 1459102)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/TableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestTableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13608579" author="hudson" created="Thu, 21 Mar 2013 03:15:23 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #456 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/456/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/456/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7546&quot; title=&quot;Obtain a table read lock on region split operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7546&quot;&gt;&lt;del&gt;HBASE-7546&lt;/del&gt;&lt;/a&gt; Obtain a table read lock on region split operations (Revision 1459102)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/master/TableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestTableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13608685" author="hudson" created="Thu, 21 Mar 2013 06:10:24 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #92 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/92/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/92/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7546&quot; title=&quot;Obtain a table read lock on region split operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7546&quot;&gt;&lt;del&gt;HBASE-7546&lt;/del&gt;&lt;/a&gt; Obtain a table read lock on region split operations (Revision 1459103)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
enis : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/master/TableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RegionServerServices.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/MockRegionServer.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/master/TestTableLockManager.java&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-server/src/test/java/org/apache/hadoop/hbase/util/MockRegionServerServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13775074" author="stack" created="Mon, 23 Sep 2013 18:30:41 +0000"  >&lt;p&gt;Marking closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12622994">HBASE-7305</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12566035" name="hbase-7546_v1.patch" size="21080" author="enis" created="Tue, 22 Jan 2013 22:34:07 +0000"/>
                            <attachment id="12569311" name="hbase-7546_v2.patch" size="20550" author="enis" created="Thu, 14 Feb 2013 05:00:18 +0000"/>
                            <attachment id="12570521" name="hbase-7546_v3.patch" size="19890" author="enis" created="Fri, 22 Feb 2013 19:50:11 +0000"/>
                            <attachment id="12574431" name="hbase-7546_v5.patch" size="17299" author="enis" created="Tue, 19 Mar 2013 22:56:29 +0000"/>
                            <attachment id="12574659" name="hbase-7546_v6.patch" size="15471" author="enis" created="Wed, 20 Mar 2013 22:41:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Feb 2013 07:07:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17hqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Region split operations now acquire a read lock on the table to guard against concurrent table CRUD operations. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>