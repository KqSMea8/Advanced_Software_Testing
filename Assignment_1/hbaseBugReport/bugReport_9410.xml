<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:04:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9410/HBASE-9410.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9410] Concurrent coprocessor endpoint executions slow down exponentially</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9410</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Multiple concurrent executions of coprocessor endpoints slow down drastically. It is compounded further when there are more Htable connection setups happening.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Amazon ec2&lt;/p&gt;</environment>
        <key id="12666497">HBASE-9410</key>
            <summary>Concurrent coprocessor endpoint executions slow down exponentially</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kiru">Kirubakaran Pakkirisamy</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 Sep 2013 16:37:05 +0000</created>
                <updated>Thu, 14 Jul 2016 19:37:51 +0000</updated>
                            <resolved>Thu, 14 Jul 2016 19:37:51 +0000</resolved>
                                    <version>0.94.11</version>
                                                    <component>Coprocessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13755750" author="kiru" created="Sun, 1 Sep 2013 16:39:49 +0000"  >&lt;p&gt;Attached files which demonstrate the problem. The Thread.sleep in the client allows for clients to have created the HTable. It then loops for say, 50 times. What is usually 10-20msec suddenly jumps to few hundreds and some in thousands. This is with 32 conncurrent connections to a 4 node ec2 cluster with 32 cores in total&lt;/p&gt;</comment>
                            <comment id="13755753" author="kiru" created="Sun, 1 Sep 2013 16:46:42 +0000"  >&lt;p&gt;Attaching jstack output at one run done for taking the jstack output&lt;/p&gt;</comment>
                            <comment id="13755805" author="apurtell" created="Sun, 1 Sep 2013 20:46:37 +0000"  >&lt;p&gt;Looks like you configured 1000 IPC handlers? This should be set to approximately the number of cores and spindles of the server hardware. &lt;/p&gt;

&lt;p&gt;Scrolling through some of that 7 MB log (can you attach only one jstack you think is relevant?) I don&apos;t see any IPC handlers doing any work, but it&apos;s too big to look at in total.&lt;/p&gt;</comment>
                            <comment id="13755814" author="kiru" created="Sun, 1 Sep 2013 22:08:04 +0000"  >&lt;p&gt;Andrew, I have set the rpc handler count to 10, the default and re ran the test case. I have attached 3 jstacks taken during the run.&lt;/p&gt;</comment>
                            <comment id="13755815" author="kiru" created="Sun, 1 Sep 2013 22:09:26 +0000"  >&lt;p&gt;Ofcourse the latency is affected by the number of regions of the table and the total # of regions being used on the server. I expect a degradation, but not exponential. &lt;/p&gt;</comment>
                            <comment id="13759789" author="kiru" created="Fri, 6 Sep 2013 02:41:02 +0000"  >&lt;p&gt;Andrew et al, were you able to recreate the problem with the attached test case ? It just needs a table with as many as regions as (atleast) the total number of cores in the cluster. It could be any table and I dont think the region size matters. Seems like some unnecessary/aggressive locking overhead.&lt;/p&gt;</comment>
                            <comment id="13761212" author="kiru" created="Sun, 8 Sep 2013 06:35:41 +0000"  >&lt;p&gt;I do not see this issue in 0.95.2&lt;/p&gt;</comment>
                            <comment id="13778485" author="lhofhansl" created="Thu, 26 Sep 2013 05:13:18 +0000"  >&lt;p&gt;Nothing jumps out there. Can you do a jstack on the client as well while the test is running?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12600990" name="Search.java" size="2004" author="kiru" created="Sun, 1 Sep 2013 16:39:49 +0000"/>
                            <attachment id="12600991" name="SearchEndpoint.java" size="563" author="kiru" created="Sun, 1 Sep 2013 16:39:49 +0000"/>
                            <attachment id="12600992" name="SearchProtocol.java" size="305" author="kiru" created="Sun, 1 Sep 2013 16:39:49 +0000"/>
                            <attachment id="12600995" name="jstack.log" size="7453997" author="kiru" created="Sun, 1 Sep 2013 16:46:42 +0000"/>
                            <attachment id="12601012" name="jstack1.log" size="52636" author="kiru" created="Sun, 1 Sep 2013 22:08:04 +0000"/>
                            <attachment id="12601011" name="jstack2.log" size="52636" author="kiru" created="Sun, 1 Sep 2013 22:08:04 +0000"/>
                            <attachment id="12601010" name="jstack3.log" size="52636" author="kiru" created="Sun, 1 Sep 2013 22:08:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 1 Sep 2013 20:46:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nqn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>