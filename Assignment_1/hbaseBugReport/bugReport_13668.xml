<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 16 20:45:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13668/HBASE-13668.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13668] TestFlushRegionEntry is flaky</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13668</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Flaked tests: 
org.apache.hadoop.hbase.regionserver.TestFlushRegionEntry.test
    (org.apache.hadoop.hbase.regionserver.TestFlushRegionEntry)
  Run 1: TestFlushRegionEntry.test:41 expected:
       org.apache.hadoop.hbase.regionserver.MemStoreFlusher$FlushRegionEntry&amp;lt;[flush region null]&amp;gt;
     but was:
       org.apache.hadoop.hbase.regionserver.MemStoreFlusher$FlushRegionEntry&amp;lt;[flush region null]&amp;gt;
  Run 2: PASS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12829043">HBASE-13668</key>
            <summary>TestFlushRegionEntry is flaky</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apurtell">Andrew Purtell</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 02:06:53 +0000</created>
                <updated>Mon, 31 Aug 2015 22:39:43 +0000</updated>
                            <resolved>Sat, 16 May 2015 23:47:27 +0000</resolved>
                                    <version>0.98.13</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.13</fixVersion>
                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14539095" author="apurtell" created="Tue, 12 May 2015 02:08:33 +0000"  >&lt;p&gt;This is on 8u45. Haven&apos;t see it flake on 7u79 locally. Also happens on ASF Jenkins from time to time.&lt;/p&gt;</comment>
                            <comment id="14546334" author="apurtell" created="Fri, 15 May 2015 23:01:52 +0000"  >&lt;p&gt;Related, and what I&apos;ve seen up on Jenkins before:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;test(org.apache.hadoop.hbase.regionserver.TestFlushRegionEntry)  Time elapsed: 1.452 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;369241501&amp;gt; but was:&amp;lt;-369241502&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:555)
	at org.junit.Assert.assertEquals(Assert.java:542)
	at org.apache.hadoop.hbase.regionserver.TestFlushRegionEntry.test(TestFlushRegionEntry.java:40)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;FlushRegionEntry includes the amount of remaining delay, a &lt;em&gt;wall clock time dependent value&lt;/em&gt;, into its calculation of hashCode. The test injects a ManualEnvironmentEdge with a fixed value for currentTime, with the expectation this will produce objects that are equal to each other, but TestFlushRegionEntry is a small test, so isn&apos;t the only test running in the JVM, or using EnvironmentEdgeManager.&lt;/p&gt;</comment>
                            <comment id="14546889" author="yuzhihong@gmail.com" created="Sat, 16 May 2015 18:51:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14546898" author="apurtell" created="Sat, 16 May 2015 19:11:37 +0000"  >&lt;p&gt;I cleaned up the unit test in general, but the observed problems were confined to 0.98 code. &lt;/p&gt;

&lt;p&gt;On that branch FlushRegionEntry used System.currentTimeMillis instead of EnvironmentEdgeManager in some places, and EnvironmentEdgeManager in others. I didn&apos;t catch that right away. So, we&apos;d flake whenever creation of &apos;other&apos; was ahead in system clock time from when &apos;entry&apos; was created. I&apos;ve fixed that in the 0.98 patch here. The other patches are just the test improvements. &lt;/p&gt;</comment>
                            <comment id="14546927" author="apurtell" created="Sat, 16 May 2015 20:40:29 +0000"  >&lt;p&gt;Thanks for the +1 Ted, will commit later today.&lt;/p&gt;</comment>
                            <comment id="14546955" author="hadoopqa" created="Sat, 16 May 2015 22:06:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12733347/HBASE-13668-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12733347/HBASE-13668-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit a93353e83ce514b48700b3f5ba16f8a41204e1fa.&lt;br/&gt;
  ATTACHMENT ID: 12733347&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 25 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14066//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14546983" author="apurtell" created="Sat, 16 May 2015 23:47:27 +0000"  >&lt;p&gt;Pushed&lt;/p&gt;</comment>
                            <comment id="14547008" author="hudson" created="Sun, 17 May 2015 01:39:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #81 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/81/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/81/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13668&quot; title=&quot;TestFlushRegionEntry is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13668&quot;&gt;&lt;del&gt;HBASE-13668&lt;/del&gt;&lt;/a&gt; TestFlushRegionEntry is flaky (apurtell: rev 046d6196265c809e00fdd82a9bd0b5234bbf075d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestFlushRegionEntry.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14547012" author="hudson" created="Sun, 17 May 2015 01:54:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #917 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/917/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/917/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13668&quot; title=&quot;TestFlushRegionEntry is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13668&quot;&gt;&lt;del&gt;HBASE-13668&lt;/del&gt;&lt;/a&gt; TestFlushRegionEntry is flaky (apurtell: rev 885b8708ef83b820528a7d9d5fbb56c38015233f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestFlushRegionEntry.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14547019" author="hudson" created="Sun, 17 May 2015 02:24:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #489 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/489/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/489/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13668&quot; title=&quot;TestFlushRegionEntry is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13668&quot;&gt;&lt;del&gt;HBASE-13668&lt;/del&gt;&lt;/a&gt; TestFlushRegionEntry is flaky (apurtell: rev 135dc6a9d371fe05011de25246d6e3e7d2f7bbe5)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestFlushRegionEntry.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14547022" author="hudson" created="Sun, 17 May 2015 02:31:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6488 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6488/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6488/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13668&quot; title=&quot;TestFlushRegionEntry is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13668&quot;&gt;&lt;del&gt;HBASE-13668&lt;/del&gt;&lt;/a&gt; TestFlushRegionEntry is flaky (apurtell: rev f49111e5f8a2db8f3065188f03c7ad6d4411bd10)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestFlushRegionEntry.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14547035" author="hudson" created="Sun, 17 May 2015 03:23:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #992 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/992/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/992/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13668&quot; title=&quot;TestFlushRegionEntry is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13668&quot;&gt;&lt;del&gt;HBASE-13668&lt;/del&gt;&lt;/a&gt; TestFlushRegionEntry is flaky (apurtell: rev a110c2a33a956d12b913145477b07293f9bb242e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestFlushRegionEntry.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MemStoreFlusher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14547054" author="hudson" created="Sun, 17 May 2015 06:04:02 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #943 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/943/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/943/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13668&quot; title=&quot;TestFlushRegionEntry is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13668&quot;&gt;&lt;del&gt;HBASE-13668&lt;/del&gt;&lt;/a&gt; TestFlushRegionEntry is flaky (apurtell: rev a110c2a33a956d12b913145477b07293f9bb242e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestFlushRegionEntry.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/MemStoreFlusher.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14724248" author="enis" created="Mon, 31 Aug 2015 22:39:43 +0000"  >&lt;p&gt;Closing this issue after 1.0.2 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733347" name="HBASE-13668-0.98.patch" size="6053" author="apurtell" created="Sat, 16 May 2015 19:11:37 +0000"/>
                            <attachment id="12733346" name="HBASE-13668-branch-1.patch" size="2857" author="apurtell" created="Sat, 16 May 2015 19:11:37 +0000"/>
                            <attachment id="12733345" name="HBASE-13668.patch" size="2879" author="apurtell" created="Sat, 16 May 2015 19:11:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 May 2015 18:51:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2elg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>